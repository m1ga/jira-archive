---
title: "[AC-239] iOS map click event fires only if clicksourse is "pin""
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2015-11-11T05:20:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>ios, mapView, module</td></tr>
<tr><th>Reporter</th><td>Georgi Nikolov</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2015-07-17T09:40:44.000+0000</td></tr>
<tr><th>Updated</th><td>2015-11-11T05:20:35.000+0000</td></tr>
</table>

<h3>Description</h3>

That are parts of my code which do not works after update to Titanium CLI version 4.0.1
Currently click event only fires if e.clicksourse is "pin" but i need to fire if clicksourse is "rightButton" which works before update

in the Alloy xml view:
<Module id="map" module="ti.map" method="createView" onClick="doClick" ></Module>
in Alloy controller:

function doClick(e){
    Ti.API.info("doClick: " + e.clicksource);
}

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2015-09-02

   Please retry using the latest Ti.Map version, thank you!</li>
<li>Papia Chowdhury 2015-09-14

   Hello,
   
   I have tested this issue in my environment. Click event for rightButton works as expected. 
   
   *Testing Environment:*
   Appcelerator Studio, build: 4.3.0.201509031836
   Appcelerator Command-Line Interface, version 5.0.0-50
   Titanium SDK: 4.1.1 GA, 4.1.0GA, 4.0.0GA
   iOS simulator: iphone 5s(v8.1)
   OS X version: 10.9.5
   
   *Steps to test*
   1. Create an alloy project.
   2. Replace index.xml and index.js with following code
   3. Run the project
   
   Now click on the left and right button of the map and observe the output for the clicksource in the console.
   
   *Test Case:*
   index.xml
   <code><pre>
   &lt;Alloy&gt;
   	&lt;Window&gt;
   		&lt;View id="mapview" module="ti.map"&gt;
           &lt;/View&gt;
   	&lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   index.js
   <code><pre>
   Ti.Map = require("ti.map");
   
   var annotation = Ti.Map.createAnnotation({
   	latitude : "37.322998",
   	longitude : "-122.032182",
   	title : "Map Test",
   	subtitle : "",
   	leftButton : Titanium.UI.iPhone.SystemButton.DISCLOSURE,
   	rightButton : Titanium.UI.iPhone.SystemButton.DISCLOSURE,
   });
   $.mapview.addAnnotation(annotation);
   
   $.mapview.region = {
   	latitude : "37.322998",
   	longitude : "-122.032182",
   	latitudeDelta : 0.3,
   	longitudeDelta : 0.3
   };
   
   $.mapview.selectAnnotation(annotation);
   $.mapview.addEventListener("click", function(e) {
   	console.log("click", e.clicksource);
   });
   $.index.open();
   </pre></code>
   
   Thanks.</li>
</ol>


<p><a href="/AC/AC-239.json">JSON Source</a></p>