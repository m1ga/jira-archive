---
title: "[AC-28] Executing subsequent appc run on a 4.0.0 server project, previous run failure"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-02-13T15:45:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Studio</td></tr>
<tr><th>Labels</th><td>alpha2, appc</td></tr>
<tr><th>Reporter</th><td>Jerry Porter</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2015-02-03T14:36:55.000+0000</td></tr>
<tr><th>Updated</th><td>2015-02-13T15:45:36.000+0000</td></tr>
</table>

<h3>Description</h3>

When running a ppc run on a sever project and the run fails. Performing a subsequent run, fails further.
Only recourse is to delete project and recreate.

Suggest adding a notion of "clean" or "clean-run" to remove failed dependencies and other failed artifacts.

See output examples:
Example first run failure output:

<code><pre>
LC02HL0L6DV7M% appc run
Appcelerator Command-Line Interface, version 0.1.94
Copyright (c) 2014-2015, Appcelerator, Inc.  All Rights Reserved.

INFO   | Installing dependencies... Gateway
INFO   | Checking for 1 module: connector/appc.acs
INFO   | Fetching connector/appc.acs@1.0.25
INFO   | Installed 1 module
ERROR  | Command failed: npm http GET <a href="https://registry.npmjs.org/acs-node" rel="nofollow" target="_blank">https://registry.npmjs.org/acs-node</a>
npm http GET <a href="https://registry.npmjs.org/pkginfo" rel="nofollow" target="_blank">https://registry.npmjs.org/pkginfo</a>
npm http 304 <a href="https://registry.npmjs.org/pkginfo" rel="nofollow" target="_blank">https://registry.npmjs.org/pkginfo</a>
npm http GET <a href="https://registry.npmjs.org/lodash" rel="nofollow" target="_blank">https://registry.npmjs.org/lodash</a>
npm http 304 <a href="https://registry.npmjs.org/acs-node" rel="nofollow" target="_blank">https://registry.npmjs.org/acs-node</a>
npm http 304 <a href="https://registry.npmjs.org/lodash" rel="nofollow" target="_blank">https://registry.npmjs.org/lodash</a>
npm http GET <a href="https://registry.npmjs.org/async" rel="nofollow" target="_blank">https://registry.npmjs.org/async</a>
npm http 304 <a href="https://registry.npmjs.org/async" rel="nofollow" target="_blank">https://registry.npmjs.org/async</a>
npm ERR! git fetch -a origin (git://github.com/appcelerator/acs-node-sdk) fatal: unable to connect to github.com:
npm ERR! git fetch -a origin (git://github.com/appcelerator/acs-node-sdk) github.com[0: 192.30.252.128]: errno=Connection refused
npm ERR! Error: No compatible version found: acs-node@'appcelerator/acs-node-sdk'
npm ERR! Valid install targets:
npm ERR! ["0.9.0","0.9.1","0.9.2","0.9.3"]
npm ERR!     at installTargetsError (/usr/local/lib/node_modules/npm/lib/cache.js:719:10)
npm ERR!     at /usr/local/lib/node_modules/npm/lib/cache.js:638:10
npm ERR!     at saved (/usr/local/lib/node_modules/npm/node_modules/npm-registry-client/lib/get.js:142:7)
npm ERR!     at Object.oncomplete (fs.js:107:15)
npm ERR! If you need help, you may report this log at:
npm ERR!     &lt;<a href="http://github.com/isaacs/npm/issues&gt" rel="nofollow" target="_blank">http://github.com/isaacs/npm/issues&gt</a>;
npm ERR! or email it to:
npm ERR!     &lt;npm-@googlegroups.com&gt;

npm ERR! System Darwin 13.3.0
npm ERR! command "node" "/usr/local/bin/npm" "install" "--production"
npm ERR! cwd /Users/u316877/Developer/Source/ti/4.0.0/Gateway/node_modules/connectors/appc.acs
npm ERR! node -v v0.10.13
npm ERR! npm -v 1.3.2
npm ERR! 
npm ERR! Additional logging details can be found in:
npm ERR!     /Users/u316877/Developer/Source/ti/4.0.0/Gateway/node_modules/connectors/appc.acs/npm-debug.log
npm ERR! not ok code 0

ERROR  | exited with non-zero exit code
</pre></code>

Example second run:

<code><pre>
LC02HL0L6DV7M% appc run
Appcelerator Command-Line Interface, version 0.1.94
Copyright (c) 2014-2015, Appcelerator, Inc.  All Rights Reserved.

INFO   | Installing dependencies... Gateway
INFO   | APIKey is: Qu9pgz17I6WRwyUryCgmXdbMAztgQHFk
ERROR  | Error loading connector: appc.acs { [Error: Cannot find module 'acs-node'] code: 'MODULE_NOT_FOUND' }
ERROR  | Error: Cannot find module 'acs-node'↩
    at Function.Module._resolveFilename (module.js:338:15)↩
    at Function.Module._load (module.js:280:25)↩
    at Module.require (module.js:364:17)↩
    at require (module.js:380:17)↩
    at require (/Users/u316877/Developer/Source/ti/4.0.0/Gateway/node_modules/connectors/appc.acs/lib/index.js:1:234)↩
    at Object.&lt;anonymous&gt; (/Users/u316877/Developer/Source/ti/4.0.0/Gateway/node_modules/connectors/appc.acs/lib/index.js:4:8)↩
    at Module._compile (module.js:456:26)↩
    at Object.Module._extensions..js (module.js:474:10)↩
    at Module.load (module.js:356:32)↩
    at Function.Module._load (module.js:312:12)↩
    at new APIBuilder (/Users/u316877/.appcelerator/install/0.1.94/package/node_modules/apibuilder/lib/apibuilder.js:206:10)↩
    at Object.&lt;anonymous&gt; (/Users/u316877/Developer/Source/ti/4.0.0/Gateway/app.js:2:11)↩
    at Module._compile (module.js:456:26)↩
    at Object.Module._extensions..js (module.js:474:10)↩
    at Module.load (module.js:356:32)↩
    at Function.Module._load (module.js:312:12)↩
    at Function.Module.runMain (module.js:497:10)↩
    at startup (node.js:119:16)↩
FATAL  | Unhandled exception { [Error: Cannot find module 'acs-node']↩
  code: 'MODULE_NOT_FOUND',↩
  __cached_trace__: ↩
   [ { receiver: [Object], fun: [Function], pos: 9587 },↩
     { receiver: [Object], fun: [Function], pos: 8175 },↩
     { receiver: [Object], fun: [Function], pos: 10312 },↩
     { receiver: [Object], fun: [Object], pos: 10696 },↩
     { receiver: [Object], fun: [Function], pos: 233 },↩
     { receiver: {}, fun: [Function], pos: 379 },↩
     { receiver: [Object], fun: [Function], pos: 12854 },↩
     { receiver: [Object], fun: [Function], pos: 13365 },↩
     { receiver: [Object], fun: [Function], pos: 10114 },↩
     { receiver: [Object], fun: [Function], pos: 8947 },↩
     { receiver: [Object], fun: [Object], pos: 6821 },↩
     { receiver: {}, fun: [Function], pos: 125 },↩
     { receiver: [Object], fun: [Function], pos: 12854 },↩
     { receiver: [Object], fun: [Function], pos: 13365 },↩
     { receiver: [Object], fun: [Function], pos: 10114 },↩
     { receiver: [Object], fun: [Function], pos: 8947 },↩
     { receiver: [Object], fun: [Function], pos: 13920 },↩
     { receiver: [Object], fun: [Object], pos: 4502 } ],↩
  __previous__: ↩
   { [Error]↩
     id: 63,↩
     __previous__: null,↩
     __trace_count__: 1,↩
     __cached_trace__: ↩
      [ [Object],↩
        [Object],↩
        [Object],↩
        [Object],↩
        [Object],↩
        [Object],↩
        [Object],↩
        [Object] ] } }↩
</pre></code>


<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2015-02-09

   A workaround for this _should_ be deleting your project's <code>node_modules</code> folder. This will force all the modules to be installed again. We are working on a fix to prevent the github download problem in the future. You can delete node_modules and try again, but if you encounter the same error, just give us a bit more time and we should hopefully have a fix in today.</li>
<li>Tony Lukasavage 2015-02-10

   <code>arrowdb</code> is now available on npm and can replace the module that used to reference github. [~jhaynie] is checking the  local testing code before I make any changes here, as the tests are failing. Once the tests are resolved I will sub in the new module dep and ensure the tests are still passing.
   
   <h4>failed tests</h4>
   
   <code><pre>
   Running "mochaTest:src" (mochaTest) task
   
   
     ACLs
   INFO   | APIKey is: U7eX4bHNFCVRgfw2IDypoRabolDqxzLB
   ERROR  | Error loading connector: appc.arrowdb { [ACS Node SDK Error: Required parameter ACS app key is missing.]↩
     errorCode: 1001,↩
     docUrl: 'TBD',↩
     message: 'Required parameter ACS app key is missing.',↩
     parameter: 'ACS app key' }↩
       1) "before all" hook
   DEBUG  | attempting to load model /Users/tlukasavage/development/api-connector-acs/models/acl.js
       2) "before all" hook
   
     Custom Objects
   INFO   | APIKey is: U7eX4bHNFCVRgfw2IDypoRabolDqxzLB
       3) "before all" hook
   DEBUG  | attempting to load model /Users/tlukasavage/development/api-connector-acs/models/acl.js
       4) "before all" hook
   
     Posts
   INFO   | APIKey is: U7eX4bHNFCVRgfw2IDypoRabolDqxzLB
       5) "before all" hook
   DEBUG  | attempting to load model /Users/tlukasavage/development/api-connector-acs/models/acl.js
       6) "before all" hook
   
     Users
   INFO   | APIKey is: U7eX4bHNFCVRgfw2IDypoRabolDqxzLB
       7) "before all" hook
   DEBUG  | attempting to load model /Users/tlukasavage/development/api-connector-acs/models/acl.js
       8) "before all" hook
   
   
     0 passing (682ms)
     8 failing
   
     1) ACLs "before all" hook:
        Uncaught Error: Model name: appc.arrowdb/acl exists in multiple places
         at isModelDuplicate (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:571:9)
         at Function.createModel [as extend] (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:1170:4)
         at Object.&lt;anonymous&gt; (/Users/tlukasavage/development/api-connector-acs/models/acl.js:5:30)
         at Module._compile (module.js:456:26)
         at Object.Module._extensions..js (module.js:474:10)
         at Module.load (module.js:356:32)
         at Function.Module._load (module.js:312:12)
         at Module.require (module.js:364:17)
         at require (module.js:380:17)
         at requireNew (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/node_modules/require-new/src/require-new.js:27:17)
   
     2) ACLs "before all" hook:
        Uncaught Error: Model name: appc.arrowdb/acl exists in multiple places
         at isModelDuplicate (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:571:9)
         at Function.createModel [as extend] (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:1170:4)
         at Object.&lt;anonymous&gt; (/Users/tlukasavage/development/api-connector-acs/models/acl.js:5:30)
         at Module._compile (module.js:456:26)
         at Object.Module._extensions..js (module.js:474:10)
         at Module.load (module.js:356:32)
         at Function.Module._load (module.js:312:12)
         at Module.require (module.js:364:17)
         at require (module.js:380:17)
         at requireNew (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/node_modules/require-new/src/require-new.js:27:17)
   
     3) Custom Objects "before all" hook:
        Uncaught Error: Model name: appc.arrowdb/acl exists in multiple places
         at isModelDuplicate (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:571:9)
         at Function.createModel [as extend] (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:1170:4)
         at Object.&lt;anonymous&gt; (/Users/tlukasavage/development/api-connector-acs/models/acl.js:5:30)
         at Module._compile (module.js:456:26)
         at Object.Module._extensions..js (module.js:474:10)
         at Module.load (module.js:356:32)
         at Function.Module._load (module.js:312:12)
         at Module.require (module.js:364:17)
         at require (module.js:380:17)
         at requireNew (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/node_modules/require-new/src/require-new.js:27:17)
   
     4) Custom Objects "before all" hook:
        Uncaught Error: Model name: appc.arrowdb/acl exists in multiple places
         at isModelDuplicate (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:571:9)
         at Function.createModel [as extend] (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:1170:4)
         at Object.&lt;anonymous&gt; (/Users/tlukasavage/development/api-connector-acs/models/acl.js:5:30)
         at Module._compile (module.js:456:26)
         at Object.Module._extensions..js (module.js:474:10)
         at Module.load (module.js:356:32)
         at Function.Module._load (module.js:312:12)
         at Module.require (module.js:364:17)
         at require (module.js:380:17)
         at requireNew (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/node_modules/require-new/src/require-new.js:27:17)
   
     5) Posts "before all" hook:
        Uncaught Error: Model name: appc.arrowdb/acl exists in multiple places
         at isModelDuplicate (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:571:9)
         at Function.createModel [as extend] (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:1170:4)
         at Object.&lt;anonymous&gt; (/Users/tlukasavage/development/api-connector-acs/models/acl.js:5:30)
         at Module._compile (module.js:456:26)
         at Object.Module._extensions..js (module.js:474:10)
         at Module.load (module.js:356:32)
         at Function.Module._load (module.js:312:12)
         at Module.require (module.js:364:17)
         at require (module.js:380:17)
         at requireNew (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/node_modules/require-new/src/require-new.js:27:17)
   
     6) Posts "before all" hook:
        Uncaught Error: Model name: appc.arrowdb/acl exists in multiple places
         at isModelDuplicate (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:571:9)
         at Function.createModel [as extend] (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:1170:4)
         at Object.&lt;anonymous&gt; (/Users/tlukasavage/development/api-connector-acs/models/acl.js:5:30)
         at Module._compile (module.js:456:26)
         at Object.Module._extensions..js (module.js:474:10)
         at Module.load (module.js:356:32)
         at Function.Module._load (module.js:312:12)
         at Module.require (module.js:364:17)
         at require (module.js:380:17)
         at requireNew (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/node_modules/require-new/src/require-new.js:27:17)
   
     7) Users "before all" hook:
        Uncaught Error: Model name: appc.arrowdb/acl exists in multiple places
         at isModelDuplicate (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:571:9)
         at Function.createModel [as extend] (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:1170:4)
         at Object.&lt;anonymous&gt; (/Users/tlukasavage/development/api-connector-acs/models/acl.js:5:30)
         at Module._compile (module.js:456:26)
         at Object.Module._extensions..js (module.js:474:10)
         at Module.load (module.js:356:32)
         at Function.Module._load (module.js:312:12)
         at Module.require (module.js:364:17)
         at require (module.js:380:17)
         at requireNew (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/node_modules/require-new/src/require-new.js:27:17)
   
     8) Users "before all" hook:
        Uncaught Error: Model name: appc.arrowdb/acl exists in multiple places
         at isModelDuplicate (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:571:9)
         at Function.createModel [as extend] (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/lib/arrow.js:1170:4)
         at Object.&lt;anonymous&gt; (/Users/tlukasavage/development/api-connector-acs/models/acl.js:5:30)
         at Module._compile (module.js:456:26)
         at Object.Module._extensions..js (module.js:474:10)
         at Module.load (module.js:356:32)
         at Function.Module._load (module.js:312:12)
         at Module.require (module.js:364:17)
         at require (module.js:380:17)
         at requireNew (/Users/tlukasavage/development/api-connector-acs/node_modules/arrow.js/node_modules/require-new/src/require-new.js:27:17)
   </pre></code></li>
<li>Tony Lukasavage 2015-02-13

   This will be resolved by changes that will be available in <code>alpha2</code>. In the meantime, use the following workaround to get around the issue:
   
   A workaround for this should be deleting your project's <code>node_modules</code> folder. This will force all the modules to be installed again.</li>
</ol>


<p><a href="/AC/AC-28.json">JSON Source</a></p>