---
title: "[AC-318] Support AdHoc vs. Production keys in config.json file"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2015-08-25T13:27:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tim Poulsen</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2015-08-25T13:20:27.000+0000</td></tr>
<tr><th>Updated</th><td>2015-08-25T13:27:31.000+0000</td></tr>
</table>

<h3>Description</h3>

Thanks to ALOY-680, you can differentiate between AdHoc and Appstore/Play Store builds in code (such as in alloy.js or your controllers). However, you cannot differentiate between such builds in the config.json.

We use different endpoints for AdHoc builds (Installr/TestFlight beta builds) vs our production releases. Currently, we have to manually copy & paste the contents of the config.json file to support such builds. This has resulted in mistakes. While we can use external tooling, like a grunt script, to manipulate the files, it would be best if Alloy itself supported something like:

<code><pre>
{
    "env:development": {"url":"<a href="https://dev.example.com" rel="nofollow" target="_blank">https://dev.example.com</a>"},
    "env:test":{"url":"<a href="https://test.example.com" rel="nofollow" target="_blank">https://test.example.com</a>"},
    "env:production":{"url":"<a href="https://production.example.com" rel="nofollow" target="_blank">https://production.example.com</a>"},
    "dist:adhoc":{"url":"<a href="https://adhoc.example.com" rel="nofollow" target="_blank">https://adhoc.example.com</a>"},
    "dist:store":{"url":"<a href="https://production.example.com" rel="nofollow" target="_blank">https://production.example.com</a>"},
}
</pre></code>

Given that we need this support for both iOS and Android, the key can't be <code>env:adhoc</code>. In the above proposal, <code>dist:adhoc</code> and <code>dist:store</code> would need to override <code>env:production</code>

Ultimately, it would be great to use AdHoc/Store variables in TSS and XML files as well.

<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2015-08-25

   Duplicate of ALOY-1210</li>
</ol>


<p><a href="/AC/AC-318.json">JSON Source</a></p>