---
title: "[AC-383] SDK 5.0.0 error on Ti.Cloud.Users.update"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2015-11-14T01:18:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Appcelerator Modules</td></tr>
<tr><th>Labels</th><td>android</td></tr>
<tr><th>Reporter</th><td>chris desart</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2015-09-26T13:07:23.000+0000</td></tr>
<tr><th>Updated</th><td>2015-11-14T01:18:28.000+0000</td></tr>
</table>

<h3>Description</h3>

ArrowDB user created with SDK 4.1.1
Upgraded to SDK 5.0.0
On calling Ti.Cloud.Users.update to update user photo object

var updateJSON = {
	 password : Alloy.Globals.User.password,
	 password_confirmation : Alloy.Globals.User.password,  
         email : Alloy.Globals.User.email,
         photo: Alloy.Globals.myBlob,
         "photo_sizes[preview]" : "64x64#",
	 "photo_sync_sizes[]" : "preview",
};
		        	
Cloud.Users.update(updateJSON, function (e) {
         if (e.success) {}
});

Error is thrown:

Error: Failed to upload photo:
Cannot serialize an object of class ActionDispatch::Http::UploadedFIle into BSON

Not tested on iOS.

As a conseguence (this happen always on file upload error) User photo object become blocked. Also operating on dashboard when trying add a new photo an error is thrown: can't destroy nil

<h3>Comments</h3>

<ol>
<li>Harish Mridha 2015-09-26

   ArrowDB applications no longer create the default photo sizes. Only the original photo size is shown. To create customized photo sizes when creating or updating a photo, see the [Photo Uploading & Resizing](<a href="http://docs.appcelerator.com/arrowdb/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/arrowdb/latest/#</a>!/guide/photosizes) guide. For User-defined photo sizes, see Photo Uploading & Resizings guide. Size can be specified as a JSON object, or using a separate parameter for each size. To specify a photo size, call "preview" using JSON.</li>
</ol>


<p><a href="/AC/AC-383.json">JSON Source</a></p>