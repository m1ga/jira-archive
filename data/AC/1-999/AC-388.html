---
title: "[AC-388] convertUnits iphone 6 plus calculates wrong pixel size from dips"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2015-11-21T19:12:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>ios, iphone</td></tr>
<tr><th>Reporter</th><td>Michel van Gooswilligen</td></tr>
<tr><th>Assignee</th><td>Radamantis Torres-Lechuga</td></tr>
<tr><th>Created</th><td>2014-11-27T09:44:20.000+0000</td></tr>
<tr><th>Updated</th><td>2015-11-21T19:12:55.000+0000</td></tr>
</table>

<h3>Description</h3>

looking at the code from UIModule (ios) for the convertToUnits method:

<code><pre>
 if ([TiUtils isRetinaDisplay]) {
result = fromVal.value*2;
}
else {
result = fromVal.value;
}
</pre></code>

Which does not take into account the new "hdd retina" 

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2015-11-11

   This is in Ti SDK [core code](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/UIModule.m)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/UIModule.m).</a> According to the documentation [link](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Layouts,_Positioning,_and_the_View_Hierarchy) iPhone with either original or retina display is based on a 320 x 480 dip grid. Where 1dip=2px on retina. But what about for HD retina display like iPhone6 or iPhone6Plus. So issue is in core code. Where it's only counted the retina display and calculate the conversion to pixels according to documentation ( as two times ). But for iPhone6 and iPhone6 Plus display it's not true. You can get the dpi value for any device by 
   
   <code><pre>
   Ti.API.info('Ti.Platform.displayCaps.dpi: ' + Ti.Platform.displayCaps.dpi);
   </pre></code>
   
    iPhone 6 plus device is not available here, So we can't test the issue. Thanks.
   
   
   </li>
</ol>


<p><a href="/AC/AC-388.json">JSON Source</a></p>