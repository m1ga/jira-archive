---
title: "[AC-395] High CPU Usage when use Sinch module"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2015-11-30T11:26:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Appcelerator Modules</td></tr>
<tr><th>Labels</th><td>ios</td></tr>
<tr><th>Reporter</th><td>Mikhail Beregovoi</td></tr>
<tr><th>Assignee</th><td>Mostafizur Rahman</td></tr>
<tr><th>Created</th><td>2015-03-06T07:29:12.000+0000</td></tr>
<tr><th>Updated</th><td>2015-11-30T11:26:30.000+0000</td></tr>
</table>

<h3>Description</h3>

We are creating application that helps people find a great partner to spend evening together. First app version will be for iPhone. 
The important application feature – give users the ability to call without disclosing their real numbers. We have found Sinch SDK as a solution (<a href="https://www.sinch.com/docs/ios/user-guide/)." rel="nofollow" target="_blank">https://www.sinch.com/docs/ios/user-guide/).</a> 
We are trying to use Sinch SDK and Titanium (<a href="http://appcelerator.com/)." rel="nofollow" target="_blank">http://appcelerator.com/).</a> We cannot found SDK for Titanium and have created Titanium module based on this <a href="https://github.com/ludolphus/rebtel-sdk-titanium." rel="nofollow" target="_blank">https://github.com/ludolphus/rebtel-sdk-titanium.</a> We have used latest SDK from sinch.com - 3.4.2. 
We can implement this solution for iPhones 5,6 – call quality is good. 
But if one of the callers has iPhone 4/4s – call quality is very bad. 
We have checked CPU usage on iPhone 4 (when calling), result is about 60% for Sinch+Titanium app, and about 25% for Sinch xcode sample app.
We think this difference is a cause of our problem. Now we trying to find workaround for this. 
In our iPhone 5,6 is installed iOS8, this devices has high-performance vs. iphone 4 therefore we don’t have this problem.
However if we test this case with two xcode app – call quality is good. 
Let us know if you have any ideas on it, thank you. 
Detailed problem description: 
Titanium and Sinch integration problem: call quality on iPhone 4s is very bad. 
Environment: 
- Titanium SDK 3.5.0, 
- Mac OS 10.9.4, 
- Xcode 6.1, 
- iPhone 4s with iOS 7.1.2. 
- Sinch SDK 3.4.2. 
How to reproduce this issue: 
- Start first app on simulator, connect to Sinch and play any music on your MAC. 
- Start second app on iPhone 4, connect to Sinch and call first app. 
- Answer call in first app, on iPhone you can hear sound from your MAC. 
Result: sound is interrupted, call quality is very bad 

Video example: <a href="http://youtu.be/nq8ztcNtiLc" rel="nofollow" target="_blank">http://youtu.be/nq8ztcNtiLc</a>, also see attached logs. 
But if we use xcode sample from sinch.com sound is good, example: <a href="http://youtu.be/mTvcpAqfz3E" rel="nofollow" target="_blank">http://youtu.be/mTvcpAqfz3E</a> 
If you follow link below you can found all sources for test app. The sources contain: Titanium test project, Sinch module in folder ModulesSrc and Sinch SDK 3.4.2. After build Titanium makes xcode project that contains in build folder. 
<a href="https://www.dropbox.com/s/we5reayb972kbev/emptyproject.zip?dl=0" rel="nofollow" target="_blank">https://www.dropbox.com/s/we5reayb972kbev/emptyproject.zip?dl=0</a>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-395_54331/2015-03-06_133729.jpg">2015-03-06_133729.jpg</td></td><td>2015-03-06T07:42:59.000+0000</td><td>229311</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-395_54330/2015-03-06_133938.jpg">2015-03-06_133938.jpg</td></td><td>2015-03-06T07:42:59.000+0000</td><td>224497</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-395_54328/iphone4_log.txt">iphone4_log.txt</td></td><td>2015-03-06T07:32:01.000+0000</td><td>33330</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-395_54329/simulator_log.txt">simulator_log.txt</td></td><td>2015-03-06T07:32:01.000+0000</td><td>28904</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jebun Naher 2015-11-30

   Hello,
   
   This is a module issue, not appcelerator's bug.
   
   Thanks.</li>
</ol>


<p><a href="/AC/AC-395.json">JSON Source</a></p>