---
title: "[AC-409] App crashes on some 4.2.2 devices"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2015-11-05T16:26:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>android, material-theme, sdk</td></tr>
<tr><th>Reporter</th><td>Andrey Tkachenko</td></tr>
<tr><th>Assignee</th><td>Motiur Rahman</td></tr>
<tr><th>Created</th><td>2015-06-26T10:24:07.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-11T12:46:11.000+0000</td></tr>
</table>

<h3>Description</h3>

App crashes with error

VERSION.RELEASE=4.2.2
VERSION.SDK=17

<code><pre>
java.lang.NoClassDefFoundError: android.support.v7.internal.view.menu.MenuBuilder
	at android.support.v7.app.AppCompatDelegateImplV7.initializePanelMenu(AppCompatDelegateImplV7.java:1012)
	at android.support.v7.app.AppCompatDelegateImplV7.preparePanel(AppCompatDelegateImplV7.java:1074)
	at android.support.v7.app.AppCompatDelegateImplV7.doInvalidatePanelMenu(AppCompatDelegateImplV7.java:1374)
	at android.support.v7.app.AppCompatDelegateImplV7.access$100(AppCompatDelegateImplV7.java:89)
	at android.support.v7.app.AppCompatDelegateImplV7$1.run(AppCompatDelegateImplV7.java:126)
	at android.os.Handler.handleCallback(Handler.java:800)
	at android.os.Handler.dispatchMessage(Handler.java:100)
	at android.os.Looper.loop(Looper.java:194)
	at android.app.ActivityThread.main(ActivityThread.java:5391)
	at java.lang.reflect.Method.invokeNative(Native Method)
	at java.lang.reflect.Method.invoke(Method.java:525)
	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:833)
	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)
	at dalvik.system.NativeStart.main(Native Method)
</pre></code>

[Additional info on stackoverflow](<a href="http://stackoverflow.com/questions/26657348/appcompat-v7-v21-0-0-causing-crash-on-samsung-devices-with-android-v4-2-2)" rel="nofollow" target="_blank">http://stackoverflow.com/questions/26657348/appcompat-v7-v21-0-0-causing-crash-on-samsung-devices-with-android-v4-2-2)</a>


<h3>Comments</h3>

<ol>
<li>Radamantis Torres-Lechuga 2015-06-26

   [~falko] please attach a test case and steps to reproduce the issue</li>
<li>Andrey Tkachenko 2015-06-27

   I can't send you device and I not have on hand this device. On Monday I'll send test app to the customer. The problem is observed only on some devices with android 4.2.2 as described in stackowerflow page. I created proguard as described on stackowerflow but problem still exists.</li>
<li>Andrey Tkachenko 2015-07-15

   Simple create default alloy project, select titanium sdk 4.0.0.GA and run Package. Install to device and run. 
   
   <a href="http://stackoverflow.com/questions/26657348/appcompat-v7-v21-0-0-causing-crash-on-samsung-devices-with-android-v4-2-2" rel="nofollow" target="_blank">http://stackoverflow.com/questions/26657348/appcompat-v7-v21-0-0-causing-crash-on-samsung-devices-with-android-v4-2-2</a></li>
<li>Motiur Rahman 2015-08-24

   Hello,
   I tested the issue you reported. We did not reproduce this issue as a bug. App did not crash on 4.2.2 devices.
   
   So I recommend you to follow these steps
   1. Check your App ID is it duplicate or not.
   2. Unplug your device cable and plugin again.
   3. Finally upgrade your studio and SDK version to the latest build.
   
   Then let us know if you get the error again.
   
   Thanks.</li>
<li>Amanda 2016-03-09

   I'm seeing this error come thru in our dashboard from some of our users. Can this be investigated further?</li>
<li>Andrey Tkachenko 2016-03-09

   @Amanda Can you provide a list of devices?</li>
<li>Amanda 2016-03-09

   Device is Samsung SGH-T399 with android 4.2.2.</li>
<li>William Dent 2016-03-11

   We can reproduce this with a Samsung running 4.2.2
   
   java.lang.NoClassDefFoundError: android.support.v7.internal.view.menu.MenuBuilder
   
   I found a pretty good reference as to why this is caused by Material Design
   <a href="https://github.com/google/iosched/issues/79" rel="nofollow" target="_blank">https://github.com/google/iosched/issues/79</a>
   
   </li>
</ol>


<p><a href="/AC/AC-409.json">JSON Source</a></p>