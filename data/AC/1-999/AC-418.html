---
title: "[AC-418] TiUIView Leaking  when being animated on click inside scrollable view. "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2015-11-10T05:53:08.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Yaovi Kwasi</td></tr>
<tr><th>Assignee</th><td>Mostafizur Rahman</td></tr>
<tr><th>Created</th><td>2015-08-28T00:55:34.000+0000</td></tr>
<tr><th>Updated</th><td>2015-11-25T17:21:56.000+0000</td></tr>
</table>

<h3>Description</h3>

TiUIView Leaking  when being animated on click inside scrollable view. 
This does not occur with the 3.4.1 SDK. 

the animation is the cause of the leak on SDK 3.5.1 above.
without animation there is no leak


sample code : App.js
<code><pre>
var isSet= false;
function doClick() {
        if (!isSet) {
            bt.hide();
            scView.addView(myView);
            isSet = true;
        }
    }
function imageClick() {
        var matrix = Ti.UI.create2DMatrix();
        matrix = matrix.scale(.9, .9);
        animView.animate({
            transform: matrix,
            duration: 100,
            autoreverse: true,
            repeat: 1
        }, function() {
            bt.show();
            _.each(scView.views, function(view) {
                scView.removeView(view);
            });
            isSet = false;
        });
    }

var index  = Ti.UI.createWindow({
        backgroundColor: "white",
        id: "index"
    });
  
var scView = Ti.UI.createScrollableView({
        bottom: 150,
        backgroundColor: "green",
        id: "scView"
    });
   index.add(scView);

var bt = Ti.UI.createButton({
        title: "click here",
        bottom: 100,
        width: 200,
        height: 50,
        color: "red",
        borderWidth: 2,
        id: "bt"
    });
index.add(bt);

bt.addEventListener("click", doClick);

var myView = Ti.UI.createView({
        backgroundColor: "pink",
        id: "myView"
    });
var animView = Ti.UI.createView({
        id: "animView"
    });

myView.add(animView);
animView.add( Ti.UI.createImageView({
        image: "<a href="http://www.grandlifestyle.com/images/clickherered.gif" rel="nofollow" target="_blank">http://www.grandlifestyle.com/images/clickherered.gif</a>",
    }));
animView.addEventListener("click", imageClick);
index.open();
function doClick() {
        if (!isSet) {
            bt.hide();
            scView.addView(myView);
            isSet = true;
        }
    }
function imageClick() {
        var matrix = Ti.UI.create2DMatrix();
        matrix = matrix.scale(.9, .9);
        animView.animate({
            transform: matrix,
            duration: 100,
            autoreverse: true,
            repeat: 1
        }, function() {
            bt.show();
            _.each(scView.views, function(view) {
                scView.removeView(view);
            });
            isSet = false;
        });
    }

var index  = Ti.UI.createWindow({
        backgroundColor: "white",
        id: "index"
    });
  
var scView = Ti.UI.createScrollableView({
        bottom: 150,
        backgroundColor: "green",
        id: "scView"
    });
   index.add(scView);

var bt = Ti.UI.createButton({
        title: "click here",
        bottom: 100,
        width: 200,
        height: 50,
        color: "red",
        borderWidth: 2,
        id: "bt"
    });
index.add(bt);

bt.addEventListener("click", doClick);

var myView = Ti.UI.createView({
        backgroundColor: "pink",
        id: "myView"
    });
var animView = Ti.UI.createView({
        id: "animView"
    });

myView.add(animView);
animView.add( Ti.UI.createImageView({
        image: "<a href="http://www.grandlifestyle.com/images/clickherered.gif" rel="nofollow" target="_blank">http://www.grandlifestyle.com/images/clickherered.gif</a>",
    }));
animView.addEventListener("click", imageClick);
index.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Aminul Islam 2015-11-09

   Hi,
   I tested the issue you reported.I can't reproduce it. I recommend you upgrade SDK  and Studio to the latest build and let us know if you get the error again.
   *Environment*
   <code><pre>
   Operating System
     Name                        = Mac OS X
     Version                     = 10.10.5
     Architecture                = 64bit
     # CPUs                      = 4
     Memory                      = 8589934592
   Node.js
     Node.js Version             = 0.10.37
     npm Version                 = 1.4.28
   Titanium CLI
     CLI Version                 = 5.0.5
   Titanium SDK
     SDK Version                 = 5.1.0.v20151104190037
     SDK Path                    = /Users/Raju/Library/Application Support/Titanium/mobilesdk/osx/5.1.0.v20151104190037
     Target Platform             = iphone
   </pre></code>
   
   Thanks</li>
<li>Yaovi Kwasi 2015-11-25

   Hi I was able to reproduce this with the latest SDK (5.1.1.GA), This happens when there is an object assigned to the {color:red}+*transform property in the animation object*+{color}. animate any view with transform and you will see that it will not be garbage collected. Please fix it. </li>
<li>Yaovi Kwasi 2015-11-25

   Hi I was able to reproduce this with the latest SDK (5.1.1.GA), This happens when there is an object assigned to the {color:red}+*transform property in the animation object*+{color}. animate any view with transform and you will see that it will not be garbage collected. Please fix it. </li>
</ol>


<p><a href="/AC/AC-418.json">JSON Source</a></p>