---
title: "[AC-475] Ti.Barcode not working on Android 6"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2015-11-04T07:27:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Appcelerator Modules</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Be Rushton</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2015-10-21T01:06:46.000+0000</td></tr>
<tr><th>Updated</th><td>2015-12-02T08:53:06.000+0000</td></tr>
</table>

<h3>Description</h3>

On a device running Android 6, when the app tries to use the camera to scan the message "Sorry, the Android camera encountered a problem. You may need to restart the device." is shown and the camera cannot be used.

<h3>Comments</h3>

<ol>
<li>Mostafizur Rahman 2015-11-03

   Hello,
   
   Can you please send us more info? We need a test case, steps to reproduce the issue and your working environment details.
   
   Thanks.</li>
<li>Aminul Islam 2015-12-02

   Hi, 
   Ti.Barcode use camera , camera ask for permission from the user in Android 6.0. So you need to add permission requesting for android 6 .
   <code><pre>
   if (Ti.Media.hasCameraPermissions()) {
   
   
   	window.open();
   
   
   } else { 
   
   
       Ti.Media.requestCameraPermissions(function(e) {
   
   
                if (e.success === true) {
   
   
               	 window.open();
   
   
                } else {
   
   
                    alert("Access denied, error: " + e.error);
   
   
                }
   
   
       });
   
   
   }
   
   </pre></code>
   
   Thanks</li>
</ol>


<p><a href="/AC/AC-475.json">JSON Source</a></p>