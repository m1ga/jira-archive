---
title: "[AC-499] Facebook no longer works - fbauth2 is missing from your info.plist"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2015-11-23T07:11:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Josh Lewis</td></tr>
<tr><th>Assignee</th><td>Sharif AbuDarda</td></tr>
<tr><th>Created</th><td>2015-11-12T00:12:37.000+0000</td></tr>
<tr><th>Updated</th><td>2015-11-23T07:11:46.000+0000</td></tr>
</table>

<h3>Description</h3>

Facebook no longer works on iOS9.  Trying to login, the following message appears:
~~~
fbauth2 is missing from your Info.plist under LSApplicationQueriesSchemes and is required for iOS 9
~~~
Adding the suggested fix keeps the app from crashing, loads Facebook for login and comes back to the app, but then does not go further and actually do anything.

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2015-11-16

   Hello [~joshlewis], Looks like your Facebook authentication is missing from your tiapp.xml file, Which is [additional iOS setup steps](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Modules.Facebook). Add the following keys:
   
       1. FacebookAppID key with your Facebook App ID as the string value.
       2. FacebookDisplayName key with your Facebook App name (the one from developer.facebook.com) as the string value.
       3. CFBundleURLTypes key with a single-element array containing a dict as the value, where the dict contains:
        * CFBundleURLName key with the application app ID (same value as the id in the tiapp.xml file) as the string value.
        * CFBundleURLSchemes key with a single-element array containing the Facebook App ID prefixed with fb as a    string value.
   
   For example:
   <code><pre>
       &lt;ti:app&gt;
           &lt;ios&gt;
               &lt;plist&gt;
                   &lt;dict&gt;
                       &lt;key&gt;CFBundleURLTypes&lt;/key&gt;
                       &lt;array&gt;
                           &lt;dict&gt;
                               &lt;key&gt;CFBundleURLName&lt;/key&gt;
                               &lt;!-- Application ID same as the id value in the tiapp.xml file --&gt;
                               &lt;string&gt;APP_ID&lt;/string&gt;
                               &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;
                               &lt;array&gt;
                                   &lt;!-- Prefix the Facebook App ID with 'fb' --&gt;
                                   &lt;string&gt;fbFACEBOOK_APP_ID&lt;/string&gt;
                               &lt;/array&gt;
                           &lt;/dict&gt;
                       &lt;/array&gt;
                       &lt;key&gt;FacebookAppID&lt;/key&gt;
                       &lt;!-- Facebook App ID --&gt;
                       &lt;string&gt;FACEBOOK_APP_ID&lt;/string&gt;
                       &lt;key&gt;FacebookDisplayName&lt;/key&gt;
                       &lt;!-- Facebook App Name from developer.facebook.com --&gt;
                       &lt;string&gt;FACEBOOK_APP_NAME&lt;/string&gt;
                   &lt;/dict&gt;
               &lt;/plist&gt;
           &lt;/ios&gt;
       &lt;/ti:app&gt;
   </pre></code>
   
   This should work for you. I have tested it, And it's working. Hope this helps, Thanks.</li>
<li>Josh Lewis 2015-11-16

   Still doesn't work in the 5.x sdk.  Also, apparently in 4.x now, the data from the fb 'login' event listener has to be json-parsed now.  Calling e.data.email equals null, but calling var x = JSON.parse(e.data);alert(x.email); works...</li>
<li>Motiur Rahman 2015-11-23

   Hi [~josh.lewis],
   
   We can successfully login Facebook with the following version. Login problem can happen because of your Facebook APPID is not created with the updated version or you didn't follow all the steps. Also, the plist file of your tiapp.xml is not well prepared. So I recommend you to create  Fb_ID *developers.facebook.com* with updated version and follow all the steps
   and follow this guide also - <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Modules.Facebook
   
   *Testing Environment:*
   Operating System
     Name                        = Mac OS X
     Version                     = 10.11.1
     Architecture                = 64bit
     # CPUs                      = 4
     Memory                      = 8589934592
   Node.js
     Node.js Version             = 4.2.2
     npm Version                 = 3.4.1
   Titanium CLI
     CLI Version                 = 5.0.5
   Titanium SDK
     SDK Version                 = 5.1.0.GA, 5.0.2.GA
     Target Platform             = iphone
   
   *Test Code:*
   <code><pre>
   // Don't forget to set your requested permissions, else the login button won't be effective.
   var win = Ti.UI.createWindow({
   	backgroundColor : 'white'
   });
   var fb = require('facebook');
   
   fb.addEventListener('login', function(e) {
   	if (e.success) {
   		alert('Logged in');
   	}
   });
   fb.addEventListener('logout', function(e) {
   	alert('Logged out');
   });
   
   if (Ti.Platform.name === 'android') {
   	win.fbProxy = fb.createActivityWorker({
   		lifecycleContainer : win
   	});
   }
   
   // Add the button.  Note that it doesn't need a click event listener.
   win.add(fb.createLoginButton({
   	readPermissions : ['user_friends','email'],
   	top : 50
   }));
   
   win.open();
   </pre></code>
   
   Thanks
   </li>
</ol>


<p><a href="/AC/AC-499.json">JSON Source</a></p>