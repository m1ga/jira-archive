---
title: "[AC-539] Titanium.XML: Can't get element by id if id property defined in uppercase"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2015-12-27T05:46:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>XML</td></tr>
<tr><th>Reporter</th><td>Andrey Tkachenko</td></tr>
<tr><th>Assignee</th><td>Sharif AbuDarda</td></tr>
<tr><th>Created</th><td>2015-12-12T17:22:28.000+0000</td></tr>
<tr><th>Updated</th><td>2015-12-27T05:46:09.000+0000</td></tr>
</table>

<h3>Description</h3>

This code returns null:

<code><pre>
Ti.XML.parseString(	'<node ID="ID_1302537637"></node>').getElementById('ID_1302537637')
</pre></code>


<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2015-12-13

   Hello, In xml you can't define id peramiter in uppercase. It always supports lowecase. Appcelerator alloy dosen't recognise any element if it's id is define in all uppercase. In Alloy you can get id of an element of index.xml by "$.id" in index.js. For example:
   <code><pre>
   index.xml
   
   <Label id="label2" color="blue" textAlign="Ti.UI.TEXT_ALIGNMENT_LEFT" top="30" width="300" height="200">
   </pre></code>
   <code><pre>
   index.js
   
   $.label2.color = "green" ;
   </pre></code>
   
   But, this will not work, When
   
   <code><pre>
   index.xml
   
   <Label ID="label2" color="blue" textAlign="Ti.UI.TEXT_ALIGNMENT_LEFT" top="30" width="300" height="200">
   </pre></code>
   <code><pre>
   index.js
   
   $.label2.color = "green" ;
   </pre></code>
   
   Hope this clear your concept. Thanks.
   
   
   </li>
<li>Andrey Tkachenko 2015-12-13

   Thx, how does this relate to the Alloy? I load a third-party file that has many attributes in uppercase. I can get uppercase attribute value but can't get element by id in uppercase.</li>
<li>Andrey Tkachenko 2015-12-13

   As written in this documents [Document.getElementById](<a href="https://docs.oracle.com/javase/7/docs/api/org/w3c/dom/Document.html#getElementById%28java.lang.String%29)" rel="nofollow" target="_blank">https://docs.oracle.com/javase/7/docs/api/org/w3c/dom/Document.html#getElementById%28java.lang.String%29)</a> and [Attr.isId](<a href="https://docs.oracle.com/javase/7/docs/api/org/w3c/dom/Attr.html#isId%28%29)" rel="nofollow" target="_blank">https://docs.oracle.com/javase/7/docs/api/org/w3c/dom/Attr.html#isId%28%29)</a> I can use *DTD* in order to define *id* as uppercase valid ID type attribute.
   But this code [XMLModule](<a href="https://github.com/appcelerator/titanium_mobile/blob/bc85170157d3bebc5de1d61a9fe6e34bce84a8c9/android/modules/xml/src/java/ti/modules/titanium/xml/XMLModule.java#L39)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/bc85170157d3bebc5de1d61a9fe6e34bce84a8c9/android/modules/xml/src/java/ti/modules/titanium/xml/XMLModule.java#L39)</a> generates *DocumentBuilder* without *DTD* support. 
   
   Need API to enable *DTD* validation through [DocumentBuilderFactory.setValidating(true)](<a href="https://docs.oracle.com/javase/7/docs/api/javax/xml/parsers/DocumentBuilderFactory.html#setValidating%28boolean%29)" rel="nofollow" target="_blank">https://docs.oracle.com/javase/7/docs/api/javax/xml/parsers/DocumentBuilderFactory.html#setValidating%28boolean%29)</a> or other way.</li>
<li>Sharif AbuDarda 2015-12-15

   Hello, getElementById, returns an Element that has an ID attribute with the given value. The Titanium.XML.Element represents an element in a DOM document, a [Titanium.XML.Node](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.XML.Node) defined by a start-tag and end-tag (or an empty tag). Elements may have attributes associated with them. Implements the [DOM Level 2 API](<a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-745549614)" rel="nofollow" target="_blank">http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-745549614)</a> on Android and iOS with some non-standard extensions. Exposes the [DOM Level 3 API](<a href="http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-745549614)" rel="nofollow" target="_blank">http://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-745549614)</a> implementation on Mobile Web. Note that HTML processors often perform specific case normalizations (canonicalization) of the markup before the DOM structures are built. This is typically using uppercase for element names and lowercase for attribute names. For this reason, applications should also compare element and attribute names returned by the DOM implementation in a case-insensitive manner. Hope this helps, Thanks.</li>
<li>Andrey Tkachenko 2015-12-15

   How it can help me? I doing some replacement in source document before load it in parser. Not the best solution... I need some API for document normalization or/and DTD validation.</li>
<li>Andrey Tkachenko 2015-12-15

   As it is written in <a href="http://stackoverflow.com/a/7466809/506724" rel="nofollow" target="_blank">http://stackoverflow.com/a/7466809/506724</a>
   
   How does the DOM know what attribute type an attribute has? 
   There are three ways:
   
   * Provide an XML Schema to the parser
   * Provide a DTD to the parser
   * Explicitly indicate to the DOM that it is treated as an attribute type of ID.
   </li>
<li>Sharif AbuDarda 2015-12-24

   Hello, Can you provide a full code and description of what you are trying to achieve. Provide a full test code which generates the issue. Also provide a full step to reporduce. Also please specify the full platform information node, java, SDK etc. Thanks.</li>
</ol>


<p><a href="/AC/AC-539.json">JSON Source</a></p>