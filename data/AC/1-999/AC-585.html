---
title: "[AC-585] V8Object: (KrollRuntimeThread) [11,14] Runtime disposed, cannot set property 'userAgent'"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-02-04T05:25:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>macao</td></tr>
<tr><th>Assignee</th><td>Sharif AbuDarda</td></tr>
<tr><th>Created</th><td>2016-01-28T07:49:24.000+0000</td></tr>
<tr><th>Updated</th><td>2016-02-04T05:25:13.000+0000</td></tr>
</table>

<h3>Description</h3>

I have a problem only with deploying android application on titanium 5.0 framework.A have searched for this issue and try a lot a stuff but nothing can help.I got this message:
V8Object: (KrollRuntimeThread) [11,14] Runtime disposed, cannot set property 'userAgent'.
Can somebody help or give me reference where to find solution.Thanks.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-585_58102/debug.txt">debug.txt</td></td><td>2016-02-01T07:59:00.000+0000</td><td>11465</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-01-28

   Hello, 
   
   Are you running on device?. Please provide a full description of you environment and a sample code. You can take some help from this [community post](<a href="https://archive.appcelerator.com/question/160742/cant-run-app-on-android-device-but-debug-works#comment-197873)." rel="nofollow" target="_blank">https://archive.appcelerator.com/question/160742/cant-run-app-on-android-device-but-debug-works#comment-197873).</a> Follow Chris Barber comment on the post.  
   
   Thanks.</li>
<li>macao 2016-01-28

   *This is the application log.I run directly on android device.Application show splash screen and than I got message application has stoped.*
   -- Start application log -----------------------------------------------------
   [INFO] :   Forwarding host port 64698 to device for debugging
   [INFO] :   Project built successfully in 2m 6s 440ms
   [INFO] :   TiApplication: (main) [0,0] checkpoint, app created.
   [INFO] :   TiApplication: (main) [819,819] Titanium 5.0.3 (2015/12/03 12:51 1ac4be4)
   [INFO] :   DatabaseHelper: No value in database for platform key: 'unique_machine_id' returning supplied default ''
   [INFO] :   DatabaseHelper: No value in database for platform key: 'hardware_machine_id' returning supplied default ''
   [INFO] :   I/dalvikvm-heap: Grow heap (frag case) to 11.921MB for 501932-byte allocation
   [INFO] :   TiApplication: (main) [441,1260] Titanium Javascript runtime: v8
   [INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity create, savedInstanceState: null
   [INFO] :   TiApplication: (main) [1,1] Analytics have been disabled
   [WARN] :   V8Object: (KrollRuntimeThread) [101,102] Runtime disposed, cannot set property 'userAgent'
   [WARN] :   dalvikvm: threadid=10: thread exiting with uncaught exception (group=0x41fe92a0)</li>
<li>macao 2016-01-28

   I used a titanium 5.0 framework,java 1.6 JRE.Application works on  ios without problem.App.js can't even read first line so i supposed maybe this is not about code.I tried with creating simple alert popup and simple window in app.js,but application cannot reach this code.</li>
<li>Sharif AbuDarda 2016-01-28

   Hello, Try using Appcelerator SDK 5.1.2.GA with Appcelrator studio, build: 4.4.0.201511182122. Also, Try cleaning the project and if there is a previous version installed in the device, try uninstalling it. You should open the project in terminal from the studio and run "appc run -l trace" attach the log as a file in here. Did you followed the community post?</li>
<li>macao 2016-01-28

   Thanks  you on answer.My application use several modules.I suspected on module so I disabled modules one by one and I found:ti.styledlabel,ti.barcode,dk.napp.drawer,com.obscure.keychain not work.Is there are any new release of this modules that is supported by new version of titanium?</li>
<li>Sharif AbuDarda 2016-01-28

   Hello, You have to be specific which module is causing problem and the particular module version. Did you tried with latest SDK? Send the Log.</li>
<li>macao 2016-01-28

   I will now investigate which version doesn't work,and I will post result here.With this code i cannot use lastest titanum version because of android 6.0 application permission.I need to make change whereever hardware permission is need it.Because of that i back to previous version of titanium.</li>
<li>macao 2016-01-29

   Hello,I found this line of code made problem to my application in android manifest:
   * android:theme="@android:style/Theme.Holo.Light.DarkActionBar"
   After I removed this line my application start but it doesn't show some layout resource.
   Also I got this log:
   WARN] :   TableViewRowProxy: (KrollRuntimeThread) [339,1127] selectedBackgroundColor is deprecated, use backgroundSelectedColor instead
   [WARN] :   TableViewRowProxy: (KrollRuntimeThread) [1,1128] selectedBackgroundColor is deprecated, use backgroundSelectedColor instead
   [WARN] :   TableViewRowProxy: (KrollRuntimeThread) [3,1131] selectedBackgroundColor is deprecated, use backgroundSelectedColor instead
   [WARN] :   TableViewRowProxy: (KrollRuntimeThread) [1,1132] selectedBackgroundColor is deprecated, use backgroundSelectedColor instead
   [WARN] :   TableViewRowProxy: (KrollRuntimeThread) [2,1134] selectedBackgroundColor is deprecated, use backgroundSelectedColor instead
   [INFO] :   dalvikvm: Could not find method android.view.ViewGroup.onRtlPropertiesChanged, referenced from method android.support.v7.widget.Toolbar.onRtlPropertiesChanged
   [WARN] :   dalvikvm: VFY: unable to resolve virtual method 13789: Landroid/view/ViewGroup;.onRtlPropertiesChanged (I)V
   [INFO] :   dalvikvm: Could not find method android.content.res.TypedArray.getChangingConfigurations, referenced from method android.support.v7.internal.widget.TintTypedArray.getChangingConfigurations
   [WARN] :   dalvikvm: VFY: unable to resolve virtual method 578: Landroid/content/res/TypedArray;.getChangingConfigurations ()I
   [INFO] :   dalvikvm: Could not find method android.content.res.TypedArray.getType, referenced from method android.support.v7.internal.widget.TintTypedArray.getType
   [WARN] :   dalvikvm: VFY: unable to resolve virtual method 600: Landroid/content/res/TypedArray;.getType (I)I
   [ERROR] :  SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length
   [ERROR] :  SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length
   [WARN] :   TiVerify: (Timer-0) [3903,5037] Verifying module licenses...
   [INFO] :   TiVerify: (Timer-0) [708,5745] Succesfully verified module licenses
   [INFO] :   webclipboard: clipservice: android.sec.clipboard.ClipboardExManager@42e65f38
   [ERROR] :  SQLiteLog: (1) no such table: CacheGroups
   [ERROR] :  SQLiteLog: (1) no such table: Caches
   [ERROR] :  SQLiteLog: (1) no such table: Origins
   [ERROR] :  SQLiteLog: (1) no such table: DeletedCacheResources
   [ERROR] :  SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length
   [ERROR] :  SpannableStringBuilder: SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length
   [INFO] :   GATE: <GATE-M>DEV_ACTION_COMPLETED</GATE-M>
   [INFO] :   GATE: <GATE-M>DEV_ACTION_COMPLETED</GATE-M>
   [ERROR] :  SQLiteLog: (14) cannot open file at line 30241 of [00bb9c9ce4]
   [ERROR] :  SQLiteLog: (14) os_unix.c:30241: (2) open(/NotificationPermissions.db) -
   [WARN] :   IInputConnectionWrapper: getSelectedText on inactive InputConnection
   [WARN] :   IInputConnectionWrapper: setComposingText on inactive InputConnection
   [WARN] :   IInputConnectionWrapper: getExtractedText on inactive InputConnection
   [INFO] :   SensorManager: Set min delay = 200000
   [INFO] :   SensorManager: Set min delay = 200000
   [INFO] :   SensorManager: Set min delay = 200000
   [INFO] :   SensorManager: Before sending... delay = 200000
   [INFO] :   Sensors: sendDelay --- 200000000
   [ERROR] :  InputEventReceiver: channel ~ Publisher closed input channel or an error occurred.  events=0x9
   </li>
<li>Sharif AbuDarda 2016-02-01

   Hello please run "appc run -l trace" on your project. Attach the full log as a file with this ticket. </li>
<li>macao 2016-02-01

    Hello,here is the log of application.Main problem now is activity bar because it doesnt show content always.</li>
<li>macao 2016-02-01

    Can you please tell me how to include @android:style/Theme.AppCompat.Light.DarkActionBar".It show me this error:
    - Error: No resource found that matches the given name (at 'theme' with value '@android:style/Theme.AppCompat.Light.DarkActionBar').
    Suppose I need to have some module appcompat but i cannot find to download.As I said before I am trouble with theme:@android:style/Theme.Holo.Light.DarkActionBar,application wont start and I deleted this line of code tiapp.xml.
    Can you help me please?</li>
<li>Sharif AbuDarda 2016-02-02

    The Titanium SDK uses the [appcompat library](<a href="http://developer.android.com/tools/support-library/features.html#v7-appcompat)" rel="nofollow" target="_blank">http://developer.android.com/tools/support-library/features.html#v7-appcompat)</a> to provide support for themes. A benefit of using the appcompat library is that it provides ActionBar support on devices running Android 2.1.x and later. Prior to the usage of the appcompat library, the ActionBar was only available to devices running Android 3.x and later. Note that applications can only use the AppCompat themes. 
    
    Now Create a directory in "platform/android/res/values/builtin_themes.xml" in your app. Put the below code in the "builtin_themes.xml"
    <code><pre>
    &lt;?xml version="1.0" encoding="utf-8"?&gt;
    &lt;resources xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
      &lt;style name="LightDarkBar" parent="Theme.AppCompat.Light.DarkActionBar"/&gt;
      &lt;style name="Light" parent="Theme.AppCompat.Light"/&gt;
      &lt;style name="Dark" parent="Theme.AppCompat"/&gt;
    &lt;/resources&gt;
    </pre></code>
    
    Finally, to use a theme in your application, modify the Android section of your tiapp.xml file to reference the style name you want to use: 
    <code><pre>
    &lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
        &lt;manifest&gt;
            &lt;application android:theme="@style/LightDarkBar"/&gt;
            &lt;uses-sdk android:minSdkVersion="14" android:targetSdkVersion="21"/&gt;
        &lt;/manifest&gt;
    &lt;/android&gt;
    </pre></code>
    
    Remember to keep one application tag in the manifest section. For [reference](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Android_Themes). Thanks. 
    
    </li>
</ol>


<p><a href="/AC/AC-585.json">JSON Source</a></p>