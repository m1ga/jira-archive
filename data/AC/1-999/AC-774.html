---
title: "[AC-774] get screen coordinates - convertPointToView - not requested view"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2015-09-17T06:53:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Studio</td></tr>
<tr><th>Labels</th><td>android, drag, ios, slide</td></tr>
<tr><th>Reporter</th><td>Ricardo Pereira</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2014-09-23T18:34:06.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:02.000+0000</td></tr>
</table>

<h3>Description</h3>

When I'm trying to get the slided coordinates, if I start the touch in another view it gets its positions instead the requested one.

See the exemple, start sliding in the red or blue box, and see the console logs.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-774_51574/touch_e.png">touch_e.png</td></td><td>2014-09-24T13:51:28.000+0000</td><td>16209</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-774_51528/touchmove.bug.exemple.zip">touchmove.bug.exemple.zip</td></td><td>2014-09-23T18:34:06.000+0000</td><td>3369788</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ricardo Pereira 2014-09-24

   I've figured out:
   
   var real_screen_coords = {
       x:0,
       y:0
   };
   
   app_window.addEventListener("touchmove",function(e) {
   
       real_screen_coords = e.source.convertPointToView({
           x : e.x,
           y : e.y
       }, app_window);
   });</li>
<li>Ricardo Pereira 2014-09-24

   I am trying to get the coordinates of the main window using touchstart event:
   
   win.addEventListener("touchstart", function(e) {
    
       console.log(e.x);
   });
   
   But if i'm touching a view or label inside the window, it gives the views/labels coordinates, how can I bypass that, in order to get only the main window coordinates?</li>
<li>Ricardo Pereira 2014-09-24

   touch events logs</li>
<li>Papia Chowdhury 2015-09-07

   Hello,
   
   We tested this issue and found out that the convertPointToView works as expected. Please check out the sample we tested here and let us know if you notice otherwise.
   
   *Testing Environment:*
   
   Appcelerator Studio, build: 4.2.0.201508141038
   Titanium SDK: 4.1.0 GA
   iOS simulator: iphone 5s(v8.1)
   OS X version: 10.9.5
   
   *Steps to Test:*
   1. Create a classic project
   2. Copy below code and run the app
   
   Now, click on any point and observe that the x and y coordinate of main window shown in the log.
   
   *Test Case:*
   app.js
   <code><pre>
   var win = Ti.UI.createWindow({
   	backgroundColor : 'black'
   });
   var center1 = {
   	'x' : 100,
   	'y' : 100
   };
   var center2 = {
   	'x' : 100,
   	'y' : 250
   };
   var lastIndex = 1;
   var background = Ti.UI.createView({
   	backgroundColor : "#444444",
   });
   var view = Ti.UI.createView({
   	backgroundColor : 'red',
   	center : center1,
   	width : 100,
   	height : 100,
   	zIndex : lastIndex++,
   });
   var view2 = Ti.UI.createView({
   	backgroundColor : 'green',
   	center : center2,
   	width : 100,
   	height : 100,
   	zIndex : lastIndex,
   });
   background.addEventListener('touchstart', function(e) {
   	var bgPoint = background.convertPointToView(e, background);
   	Ti.API.info("Background Point: " + bgPoint.x + "," + bgPoint.y);
   	view.center = bgPoint;
   	view.backgroundColor = 'blue';
   });
   
   view.addEventListener('touchend', function(e) {
   	view.center = center1;
   	view.backgroundColor = 'red';
   });
   win.add(background);
   win.add(view);
   win.add(view2);
   win.open(); 
   </pre></code>
   
   Thanks.</li>
</ol>


<p><a href="/AC/AC-774.json">JSON Source</a></p>