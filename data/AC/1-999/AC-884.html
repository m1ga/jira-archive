---
title: "[AC-884] Node.ACS Logout Method does not allow manual calling"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-03-03T17:45:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy, Appcelerator Modules</td></tr>
<tr><th>Labels</th><td>logout, node.acs, users</td></tr>
<tr><th>Reporter</th><td>Leandro Macrini</td></tr>
<tr><th>Assignee</th><td>Seth Toda</td></tr>
<tr><th>Created</th><td>2014-02-28T10:37:16.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:11.000+0000</td></tr>
</table>

<h3>Description</h3>

To permit the manual logout passing the session_id as argument the content of method: 'logout',executor: function () in acs.jd at line 659 should be:

<code><pre>
if(typeof arguments[0] == 'function') {
   var callback = arguments[0];
   var req = arguments[1];
   var res = arguments[2];
   defaultExecutor.call(this, {}, function (evt) {
      ACS.reset();
      if(req && res) {
         res.cookie(COOKIE_NAME, '');
      }
      callback(evt);
   }, req, res);
} else {
   var data = arguments[0];
   var callback = arguments[1];
   var req = arguments[2];
   var res = arguments[3];
   defaultExecutor.call(this, data, function (evt) {
      ACS.reset();
      if(req && res) {
         res.cookie(COOKIE_NAME, '');
      }
      callback(evt);
      }, req, res);
}
</pre></code>

I have tried with this code and the ACS server respond OK so the manual logout should be correnct on the server side.

(i'm sorry for my not perfect english).

<h3>Comments</h3>

<ol>
<li>Seth Toda 2014-02-28

   Hello Leandro,
   
   Can you provide a use case? The code you provided above matches the 'remove' method on line 670. Could this work for you? </li>
<li>Leandro Macrini 2014-03-02

   yes the code is the same of the method 'remove' and yes, if I use it with 'logout', it works and logout from the ACS.
   
   </li>
<li>Seth Toda 2014-03-03

   Great! I'm glad this helped you.</li>
<li>Leandro Macrini 2014-03-03

   thanks to you.
   
   i hope to see this on the next release ;)
   
   bye</li>
</ol>


<p><a href="/AC/AC-884.json">JSON Source</a></p>