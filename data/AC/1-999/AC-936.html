---
title: "[AC-936] Ti cloud Reset Password - user does not receive email"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2016-01-07T05:35:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.3.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Studio, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Mick</td></tr>
<tr><th>Assignee</th><td>Radamantis Torres-Lechuga</td></tr>
<tr><th>Created</th><td>2015-12-24T06:23:58.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:15.000+0000</td></tr>
</table>

<h3>Description</h3>

When using the resetpassword function in ti.cloud, the user is not receiving the email.

When I make changes to my smtp settings in appcelerator platform, it does send a confirmation email.

I tried adding the "from" field in the code as was suggested as a fix on the q&a forum, but still the user is not receiving an email. 

I have confirmed that cloud is trying to send the email, see attached screenshot.




<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-936_57837/Screen Shot 2015-12-23 at 9.49.38 pm.png">Screen Shot 2015-12-23 at 9.49.38 pm.png</td></td><td>2015-12-24T06:23:04.000+0000</td><td>239369</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2015-12-24

   Hello according to your code provide the from address as "hello@shabu.com". Try like the below code
   <code><pre>
   function resetPassword() {
       Cloud.Users.requestResetPassword({
           email: email.value,
           from: 'notifications@mydomain.com'
       }, function (e) {
           if (e.success) {
               alert('Success: Reset Request Sent');
           } else {
               alert('Error:\n' +
                   ((e.error && e.message) || JSON.stringify(e)));
           }
       });
   }
   </pre></code>
   
   You first need to build a form with a textfield in your interface. This form will then feed a value into your resetPassword function - eg 'email.value' above would be from such a textfield. So it will send the reset password request to the email address you enter. And this of course should be the email address for an existing account. More info on [here](<a href="https://developer.appcelerator.com/question/178398/titanium-cloud-email-reset-password-not-working)." rel="nofollow" target="_blank">https://developer.appcelerator.com/question/178398/titanium-cloud-email-reset-password-not-working).</a> Thanks.</li>
<li>Mick 2015-12-24

   Hi, the hello@shabu.co email is the email address that the email is being sent from (the address in my smtp settings on ACS).   The eMail parameter is the email address passed to the function from the textfield so I have set this up correctly.
   
   in the attachment I have used another of my own email accounts to send the mail to, however this email is not being received.  </li>
<li>Mick 2015-12-30

   just another update to show the log from ACS that the email is being sent: (I do have a template setup called "csv" ) 
   
   Dec 29, 2015 11:15 PM
   Request
   POST /v1/custom_mailer/email_from_template.json
   Status 200
   Source IP 124.191.230.215
   Parameters
   {
     "suppress_response_codes": "true",
     "recipients": micksolo@gmail.com,
     "template": "csv",
     "from": "hello@shabu.co",
     "key": "qyaNPmLEauV3G5bGctqXAwpN4CYBJtiA",
     "_session_id": "bmHtcWMAQ-CCrb-ZttCT_LIE-X0"
   }
   /v1/custom_mailer/email_from_template.json?&suppress_response_codes=true&recipients=t950154@testing.fastmail.fm&template=csv&from=Mick&key=qyaNPmLEauV3G5bGctqXAwpN4CYBJtiA&_session_id=bmHtcWMAQ-CCrb-ZttCT_LIE-X0</li>
<li>Mick 2015-12-30

   I have resolved this issue with some help from my mail provider and working out that when I click "save changes" on the smtp setup screen on ACS, for some reason my password was being changed (probably to my appcelerator password).
   
   The SMTP fix was to change the port to 587 and now my users are receiving emails sent from Ti.cloud. </li>
</ol>


<p><a href="/AC/AC-936.json">JSON Source</a></p>