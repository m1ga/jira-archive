---
title: "[AC-994] Order parameter does not work when querying ACS custom objects with coordinates"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2015-02-13T05:53:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Andrew Royce</td></tr>
<tr><th>Assignee</th><td>Shuo Liang</td></tr>
<tr><th>Created</th><td>2015-02-12T19:48:46.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:19.000+0000</td></tr>
</table>

<h3>Description</h3>

*Whats happening*: Trying to retrieve a set of custom objects with coordinates ordered by "-updated_at". 

*What should be happening*: I should get the correct data set that is sorted  most recently updated_at.

*What I believe the problem is*: In ACS if there are coordinates supplied the order parameter gets ignored.

*Temp fix*: If I remove the coordinates from the query I get the correct data and ordered correctly, the problem here is that I need the data to be within X miles of the user.

{quote}
Cloud.Objects.query({
        classname : 'products',
        count : true,
        skip : _args.skip,
        limit : _args.limit,
        where : {
            "coordinates" : {
            "$nearSphere" : [_args.longitude, _args.latitude],
            "$maxDistance" : convertToRadians(_args.maxDistanceMiles)
        }
        },
        order : "-updated_at"
    }, function(e) {
        if (e.success) {
            _args.success(e);
        } else {
            _args.failure(e);
        }
    });
{quote}
On success i output the skip, limit, and ID of the first object. As you can see the ID is always the same even though I am changing the skip and limit.
{quote}
[INFO] :   skip: 0
[INFO] :   limit: 4
[INFO] :   54d19fa308c91ec27625e86d
[INFO] :   Marker Reached (Dynamic loading)
[INFO] :   skip: 4
[INFO] :   limit: 4
[INFO] :   54d19fa308c91ec27625e86d
[INFO] :   Marker Reached (Dynamic loading)
[INFO] :   skip: 8
[INFO] :   limit: 4
[INFO] :   54d19fa308c91ec27625e86d
[INFO] :   Marker Reached (Dynamic loading)
[INFO] :   skip: 12
[INFO] :   limit: 4
[INFO] :   54d19fa308c91ec27625e86d
{quote}

<h3>Comments</h3>

<ol>
<li>Shuo Liang 2015-02-13

   </li>
<li>Andrew Royce 2015-02-13

   Shuo, unfortunately I do not have the permissions to view the issue. Is there a rough timeframe of when 1.1.9 will be released? Is it possible to get permission to view the issue so I can keep an eye on it and when 1.1.9 gets released?</li>
</ol>


<p><a href="/AC/AC-994.json">JSON Source</a></p>