---
title: "[AC-1016] ListView randomly shows blank rows on section.setItems()"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2015-09-17T07:59:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>TCSupportTriage, blank_rows, custom_template, listsection, listview, template, titanium</td></tr>
<tr><th>Reporter</th><td>Patrick van Vuuren</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2014-09-25T13:53:38.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:21.000+0000</td></tr>
</table>

<h3>Description</h3>

Hello.

I have a ListView with custom ListItems. For this I use the templates as specified in the docs. When I add my custom rows to the listsection present in the listview, the listview sometimes shows blank rows instead of my own rows. The following test causes this. I added a refreshcontrol to show what happens when refreshing. Sometimes when you refresh and do setItems again, the list is fine.

<h4>index.xml:</h4>
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container"&gt;
	    &lt;ListView defaultItemTemplate="default" top="20"&gt;
	        &lt;RefreshControl id="refreshControl" tintColor="#000" onRefreshstart="refreshList" /&gt; 
	        &lt;Templates&gt;
                &lt;ItemTemplate name="default" height="Ti.UI.SIZE" backgroundColor="#2000"&gt;
                    &lt;View class="cell" left="2.5%"&gt;
                        &lt;Label text="Today, 15:45" /&gt;
                        &lt;ImageView image="appicon.png" /&gt;
                        &lt;Label text="Title" /&gt;
                    &lt;/View&gt;
                    &lt;View class="cell" right="2.5%"&gt;
                        &lt;Label text="Today, 15:45" /&gt;
                        &lt;ImageView image="appicon.png" /&gt;
                        &lt;Label text="Title" /&gt;
                    &lt;/View&gt;
                &lt;/ItemTemplate&gt;
            &lt;/Templates&gt;
            &lt;ListSection id="listSection" /&gt;
	    &lt;/ListView&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

<h4>index.tss:</h4>
<code><pre>
"ListView":{
	layout: 			'vertical',
	scrollType: 		'vertical',
	width: 				'100%',
	height: 			Ti.UI.FILL,
	contentHeight: 		Ti.UI.SIZE,
	contentWidth: 		"100%",
	horizontalWrap: 	false,

},
"ListView[platform=ios]":{
	separatorStyle:		Ti.UI.iPhone.ListViewSeparatorStyle.NONE,
	separatorColor:		"#000"
}
".cell":{
	width: "47.5%",
	height: Ti.UI.SIZE,
	layout: 'vertical',
	top: 5
},
"Label":{
	font: {
		fontSize: 11,
	},
	width: "90%",
	textAlign: Ti.UI.TEXT_ALIGNMENT_LEFT,
	color: "#646464",
}
</pre></code>

<h4>index.js:</h4>
<code><pre>
function refreshList() {
    var items = [];
    for(var i = 0; i &lt; 15; i++) {
        var item = {};
        items.push(item);
    }
    $.listSection.setItems(items);
    $.refreshControl.endRefreshing();
}

refreshList();
$.index.open();
</pre></code>

The blank rows dont really have a pattern where they exactly appear. Also sometimes when you scroll they dissappear or appear on random places when a blank row was already present.

Regards,
Patrick van Vuuren

<h3>Comments</h3>

<ol>
<li>Patrick van Vuuren 2014-10-07

   This issue still persists in iOS 8 / Ti SDK 3.4.0 / Alloy 1.5.0.
   
   Is it possible this issue could be looked at? The rows are actually there but not visible. It's not like there is actually no row.
   
   I also made a video ([<a href="https://vimeo.com/105630553" rel="nofollow" target="_blank">https://vimeo.com/105630553</a>]) for my application to see whats happening.
    </li>
<li>Patrick van Vuuren 2014-10-21

   Is anyone looking at this? It is a serious issue in my iOS application that is already live.</li>
<li>Fokke Zandbergen 2014-11-22

   I have this issue as well and it disappears when I remove:
   
   <code><pre>
   separatorStyle: Ti.UI.iPhone.ListViewSeparatorStyle.NONE
   </pre></code>
   
   It only reproduces on devices, about 8 out of 10 times.
   
   [~mpmiranda] [~ingo] could you have a look at this? The workaround is to not use <code>separatorColor</code> instead and set it to the backgroundColor of the list items.
   
   This issue seems to be the same as TC-4126</li>
<li>Patrick van Vuuren 2014-11-22

   Hello Fokke, 
   
   Thanks for finding out the problem.
   If I define the backgroundColor to white and leave the seperatorStyle/seperatorColor black it is fixed?
   
   Regards,
   Patrick</li>
<li>Fokke Zandbergen 2014-11-23

   [~Serfenia] just don't use <code>seperatorStyle</code> and instead use <code>seperatorColor</code> to hide the line by giving it the same color as the <code>ListItem</code>'s <code>backgroundColor</code> or <code>transparent</code>.</li>
<li>Patrick van Vuuren 2014-11-25

   Thanks Fokke Zandbergen,
   
   I can verify that works as a solution. 
   
   Ti SDK 3.4.1
   Alloy 1.5.1
   iOS 8.1</li>
<li>Tim Poulsen 2015-02-11

   .</li>
<li>Sebastian Klaus 2015-02-23

   I can confirm, that in 3.5.0 the problem exists. here's a screenshot: <a href="http://cl.ly/image/0w2B3v1z3S0A" rel="nofollow" target="_blank">http://cl.ly/image/0w2B3v1z3S0A</a></li>
<li>Tim Poulsen 2015-02-23

   I am unable to reproduce this problem using the test app included in the description on this ticket. I also cannot reproduce the issue on the linked ticket.
   
   Tested with
   
   TiSDK 3.5.0.GA and 4.0.0 (master build)
   Alloy 1.5.1, 1.6.0-dev, and 1.7.0-dev
   iOS 8.1 simulator
   Two different Macs (core i7 w/16g and core i5 w/8g)
   
   </li>
<li>Sebastian Klaus 2015-03-25

    It's reproducible with childTemplates mixed horizontal and vertical layouts</li>
<li>Radamantis Torres-Lechuga 2015-03-25

    [~benutzername] can you please add a test case?</li>
<li>Sebastian Klaus 2015-03-25

    Sorry, I deleted all my work with specific layouts and refactored it.
    
    I will have a look if I can create a simple one</li>
<li>Claus Stilborg 2015-08-23

    I see the same behaviour on 4.1, it seems to be random</li>
</ol>


<p><a href="/AC/AC-1016.json">JSON Source</a></p>