---
title: "[AC-1017] APSPLSqliteDatabase(PLSqliteDatabasePrivate) Crash"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2015-11-04T07:00:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.3.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Appcelerator Modules</td></tr>
<tr><th>Labels</th><td>apm, ios</td></tr>
<tr><th>Reporter</th><td>Soumya Kanti Kar</td></tr>
<tr><th>Assignee</th><td>Radamantis Torres-Lechuga</td></tr>
<tr><th>Created</th><td>2015-11-03T19:18:47.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:21.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi,

Lately we have been observing that our application is crashing and the log in Appcelerator Dashboard confirms that it is happening at [APSPLSqliteDatabase(PLSqliteDatabasePrivate) createStatement:error:].

In our application, we are not making any database related calls and this issue we cannot recreate locally during QA testing. Most of the crashes are being reported from iOS 9.x and one from iOS 8.4.1. As we are not using any database calls from our application (only Ti.App.Properties) so there is no test app that we can share.

This issue is happening around every day for the application once or twice daily.

Call Stack - 1:
===========
MyApp 0x00000001001631a0 -[APSPLSqliteDatabase(PLSqliteDatabasePrivate) createStatement:error:] (APSPLSqliteDatabase.m:500)
Suspected Crash Line

MyApp 0x00000001001630e0 -[APSPLSqliteDatabase(PLSqliteDatabasePrivate) prepareStatement:error:closeAtCheckin:] (APSPLSqliteDatabase.m:475)

MyApp 0x0000000100162d14 -[APSPLSqliteDatabase executeQueryAndReturnError:statement:args:] (APSPLSqliteDatabase.m:280)

MyApp 0x0000000100162dfc -[APSPLSqliteDatabase executeQuery:] (APSPLSqliteDatabase.m:310)

MyApp 0x000000010015f3dc -[APSAnalytics findSequenceNumber] (APSAnalytics.m:587)

MyApp 0x000000010015fff0 -[APSAnalytics enableAnalyticsDB] (APSAnalytics.m:733)

MyApp 0x0000000100161e68 -[APSAnalytics foregroundEvent:] (APSAnalytics.m:980)


Call Stack - 2
===========
MyApp 0x00000001001ab1a0 -[APSPLSqliteDatabase(PLSqliteDatabasePrivate) createStatement:error:] (APSPLSqliteDatabase.m:500)
Suspected Crash Line

MyApp 0x00000001001ab0e0 -[APSPLSqliteDatabase(PLSqliteDatabasePrivate) prepareStatement:error:closeAtCheckin:] (APSPLSqliteDatabase.m:475)

MyApp 0x00000001001aad14 -[APSPLSqliteDatabase executeQueryAndReturnError:statement:args:] (APSPLSqliteDatabase.m:280)

MyApp 0x00000001001aadfc -[APSPLSqliteDatabase executeQuery:] (APSPLSqliteDatabase.m:310)

MyApp 0x00000001001a6478 -[APSAnalytics checkForPreviousEventInDB:] (APSAnalytics.m:387)

MyApp 0x00000001001a9ea0 -[APSAnalytics foregroundEvent:] (APSAnalytics.m:981)


Both of them are crashing in the same createStatement call.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-1017_57264/StackTrace.txt">StackTrace.txt</td></td><td>2015-11-04T15:13:59.000+0000</td><td>3231</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Aminul Islam 2015-11-04

   Hi,
   Could I have access to your code or create a simple test case to reproduce it? 
   
   I can't reproduce it .It looks like the feature *Ti.App.Properties* in Appcelerator Studio is working fine for me.
   
   Thanks</li>
<li>Soumya Kanti Kar 2015-11-04

   Hi,
   
   There is no sample code. The crash report has been generated from an application in production. Ti.App.Properties is working fine I guess, the reason being that from the stack trace it can be observed that the crash has occurred in APSPLSqliteDatabase which is being called from APSAnalytics, which I am assuming is used by Appcelerator analytics to send data to dashboard for the application.
   
   We have no database (sqlite) related calls in our code and hence APSAnalytics is being invoked by some other calls as analytics is enabled in our application's TiApp.xml.
   
   Hence would request to reopen the defect.</li>
<li>Soumya Kanti Kar 2015-11-04

   Stack trace has been attached for more information.</li>
</ol>


<p><a href="/AC/AC-1017.json">JSON Source</a></p>