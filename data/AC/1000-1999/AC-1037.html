---
title: "[AC-1037] Cloud.Users.resendConfirmation does not work"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2015-09-29T01:10:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>TCSupportTriage</td></tr>
<tr><th>Reporter</th><td>Mitch Starnes</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2014-11-25T20:50:36.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:22.000+0000</td></tr>
</table>

<h3>Description</h3>

The only time you would need to resend a confirmation is when the user lost it or did not receive it. In these scenarios, the user profile would exist but not confirmed. Yet, when I use this method when the user has not been confirmed, he gets an error message that he must confirm first. How can he confirm if he doesn't have the confirmation email? We must be able to resend in this case.

		Cloud.Users.resendConfirmation({
		    email: username
		}, function (e) {
		    if (e.success) {
		        utils.notifyUser('Confirmation resent.', 'Please check your email.');
		    }
		    else {
		        utils.notifyUser('Error (121)', e.message);
		    }
		});


<h3>Comments</h3>

<ol>
<li>Shuo Liang 2015-01-15

   Hi,
   
   I see you problem. The root reason is that when you try to resend the confirmation email, you non-confirmed user is in login status. Like: after you create a new user, you can't try to call resendConfirmation API, because system will check your current login user is not confirmed yet (because session saved after you create new user.)
   
   So based on your case, if you want call resendConfirmation API after creation. You have to logout current non confirmed user first.
   
   Hope this will help you.
   
   Regards,
   Shuo</li>
<li>Mitch Starnes 2015-01-21

   The only time I would ever want to resend a confirmation is when the user has not yet confirmed. This condition will occur when the user loses the email.
   
   I need to be able to resend a confirmation to someone who didn't receive the email or who lost it.
   </li>
<li>Shuo Liang 2015-01-22

   ye, I understand your case. All the what I commented is to tell you that your can do resendConfirmation API as long as your app do not login any non_confirmed user.  </li>
<li>Mitch Starnes 2015-01-22

   I'm saying it is not working.
   
   Step 1. User registers for app
   Step 2. ACS sends user a confirmation email
   Step 3. User does not receive email
   Step 4. User tries to log in but ACS sees that he has not confirmed so we prompt him to confirm.
   Step 5. User never received email so he cannot confirm
   Step 6. User clicks Resend confirmation 
   Step 7. User gets message that he must confirm. This is makes no sense. He needs another confirmation letter.
   
   </li>
<li>Shuo Liang 2015-01-22

   Let me communicate with cloud team, see if there is something else unusual. </li>
<li>Shuo Liang 2015-01-22

   </li>
<li>Mitch Starnes 2015-01-22

   Thank you.</li>
</ol>


<p><a href="/AC/AC-1037.json">JSON Source</a></p>