---
title: "[AC-1062] Ti.Filesystem.getFile(file).read() returns garbled multibyte string"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2016-01-07T05:31:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>windows, windows_phone</td></tr>
<tr><th>Reporter</th><td>Toshiro Yagi</td></tr>
<tr><th>Assignee</th><td>Sharif AbuDarda</td></tr>
<tr><th>Created</th><td>2015-12-17T08:56:28.000+0000</td></tr>
<tr><th>Updated</th><td>2016-04-29T17:00:33.000+0000</td></tr>
</table>

<h3>Description</h3>

Reading plain text written in Japanese returns garbled characters.

<code><pre>
var filePath = Ti.Filesystem.applicationDataDirectory + "test.txt";
var file = Ti.Filesystem.getFile(filePath);
file.write("日本語 : Japanese");
alert(file.read());
</pre></code>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-1062_57800/screenshot.png">screenshot.png</td></td><td>2015-12-17T08:41:30.000+0000</td><td>95216</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2015-12-22

   Hello, Try writing the code as 
   
   <code><pre>
   var log = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,'test.txt');
   
       log.write('"日本語 : Japanese"');  
       
       alert(log.read().text);
   </pre></code>
   
   Hope this helps, Thanks.</li>
<li>Toshiro Yagi 2015-12-22

   Thank you, but it didn't solve the problem(same result).</li>
<li>Sharif AbuDarda 2015-12-23

   Hello, Try the below code
   
   <code><pre>
   var log = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,'test.txt');
   log.write('日本語 : Japanese');  
   alert(log.read().txt);
   </pre></code>
   
   Or you can first define a variable like "var str1 = '日本語 : Japanese';" and to call the variable as "log.write(str1)"; Use double " or both if necessary. Reply with your findings. Thanks.
   
   
   </li>
<li>Toshiro Yagi 2016-01-08

   Tried calling variable, single and double quotes, with no result.</li>
<li>Toshiro Yagi 2016-01-08

   Since JavaScript code is right and works on other platforms, please don't mark this issue as resolved as long as returning garbled data is not an acceptable behavior. Thanks.</li>
<li>Kota Iguchi 2016-01-29

   </li>
<li>Toshiro Yagi 2016-04-29

   Thanks!</li>
</ol>


<p><a href="/AC/AC-1062.json">JSON Source</a></p>