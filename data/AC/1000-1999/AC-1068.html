---
title: "[AC-1068] The CLI plist file failed to allow a valid compile"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2015-02-03T15:21:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Appcelerator CLI, Studio, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>TCSupportTriage</td></tr>
<tr><th>Reporter</th><td>Trevor Ward</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2014-09-05T15:34:34.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:25.000+0000</td></tr>
</table>

<h3>Description</h3>

in the 

Library/Application Support/Titanium/mobilesdk/osx/3.3.0.GA/node_modules/node-appc/lib/plist.js

file there is a piece of code at line 127..
<code><pre>
if (next.tagName == 'key') {
	obj[key] = null;
	node = next;
	continue;
}
</pre></code>

Our application fell over with a null exception.

Changed the code to

<code><pre>
if (next && next.tagName == 'key') {
	obj[key] = null;
	node = next;
	continue;
}
</pre></code>

and all is working again.

This is only an issue in 3.3.0 SDK



<h3>Comments</h3>

<ol>
<li>Trevor Ward 2014-09-05

   Further info.
   
   We have identified the issue and it is to do with the tiapp.xml file, which has this code at the end.
   
       <ios>
           <plist>
               <dict>
                   <key>CFBundleURLTypes</key>
                   <array>
                       <dict>
                           <key>CFBundleTypeRole</key>
                           <string>Editor</string>
                           <key>CFBundleURLName</key>
                           <string>com.firstutility.firstutility</string>
                           <!--<key>CFBundleURLSchemes</key>-->
                       </dict>
                   </array>
               </dict>
           </plist>
       </ios>
   
   commenting out the last key item as it doesn't have a string object fixed the build. However we are now trying to identify where this code has come from..</li>
<li>Trevor Ward 2014-09-05

   OK have now gone through git, this code was inserted by enabling the Sensa automated testing. 1 line of code was removed below the last key at some point which was causing the issue.</li>
<li>Mauro Parra-Miranda 2014-09-11

   [~thewarpedcoder]: From your last comment, is this still an issue?  Best Regards!</li>
</ol>


<p><a href="/AC/AC-1068.json">JSON Source</a></p>