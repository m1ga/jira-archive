---
title: "[AC-1148] Alloy generates events for 'ignored' tags."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-05-19T06:42:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ranando Kking</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2014-05-02T22:25:39.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:30.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to Reproduce</h4>
Create an XML alloy view with at least 2 platform-specific layouts.
In the xml, attach the same onClick handler to a corresponding control in each of the platform-specific layouts.
Run the app and trigger the event.

<h4>Actual Result</h4>
Alloy generates event registration code for the XML portion it should have ignored as well as the portion that was intended. See the bottom of the Resources version of the controller file and you will find __defers for the XML that should have been ignored.

A controller like this will cause the problem.
<Alloy>
   <Window platform='ios'>
      <Button onClick='doClickActionA'/>
   </Window>
   <Window platform='android'>
      <View onClick='doClickActionB' />
   </Window>
</Alloy>

With appropriate controller logic, Alloy will generate 2 event registrations instead of the single registration for the matching platform. Running the app and clicking the button or view will run both handlers.

<h4>Expected Result</h4>
Alloy should only generate event listener code for the controls that are part of the layout matching the target platform.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-1148_47802/.log">.log</td></td><td>2014-05-02T22:25:41.000+0000</td><td>3042064</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-1148_47803/diagnostic8284887980574597254.log">diagnostic8284887980574597254.log</td></td><td>2014-05-02T22:25:44.000+0000</td><td>15579</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-05-02

   Please attach a simple but complete runnable test case to diagnose the issue further.</li>
<li>Ritu Agrawal 2014-05-19

   Resolving this ticket as I cannot reproduce this issue and the reporter has not provided requested information.</li>
</ol>


<p><a href="/AC/AC-1148.json">JSON Source</a></p>