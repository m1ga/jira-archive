---
title: "[AC-1225] If alert(\"hello\") or AlertDialog show function is written on window focus event then window focus event is called infinite times."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2015-08-10T18:43:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>alert, alertdialog, event, focus, infinite, ios, issue, listener, times</td></tr>
<tr><th>Reporter</th><td>MoizChhatriwala</td></tr>
<tr><th>Assignee</th><td>Radamantis Torres-Lechuga</td></tr>
<tr><th>Created</th><td>2015-05-11T05:29:27.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:36.000+0000</td></tr>
</table>

<h3>Description</h3>

When the alert function is called on window focus event the that alert function gets called infinite times, this is because window focus events gets on calling infinite times.
Another problem is window focus event should not call on calling alert or alertDialog.show()
Test the code on iOS simulator or device to reproduce bug.
Below is the code to test the bug, window focus event should not get called infinite times when alert code is written on window focus event.
Case 1:
var win1 = Titanium.UI.createWindow(
{ backgroundColor : 'red', title : 'Red Window', }
);
var navWin = Titanium.UI.iOS.createNavigationWindow(
{ window : win1 }
);
win1.addEventListener("focus",function(e)
{ alert("hello"); Ti.API.info("Focus on first window"); }
);
navWin.open();
Case 2:
var win1 = Titanium.UI.createWindow(
{ backgroundColor : 'red', title : 'Red Window', }
);
var navWin = Titanium.UI.iOS.createNavigationWindow(
{ window : win1 }
);
var dialog = Ti.UI.createAlertDialog(
{ cancel: 1, buttonNames: ['Confirm', 'Cancel'], message: 'demo alert dialog?', title: 'Window Option' }
);
win1.addEventListener("focus",function(e)
{ dialog.show(); Ti.API.info("Focus on first window"); }
);
navWin.open();
You can copy the cases in app.'s file and test the same. You can also check the debug logs which shows focus event is continuously firing.
Attached are the files for both the test cases.
Execute the code to find the bug.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-1225_55312/case1.js">case1.js</td></td><td>2015-05-11T05:24:44.000+0000</td><td>286</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-1225_55313/case2.js">case2.js</td></td><td>2015-05-11T05:24:44.000+0000</td><td>454</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Radamantis Torres-Lechuga 2015-08-10

   </li>
</ol>


<p><a href="/AC/AC-1225.json">JSON Source</a></p>