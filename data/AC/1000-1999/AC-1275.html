---
title: "[AC-1275] Cannot apply backgroundGradient via alloy.globals"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-11-04T17:14:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>TCSupportTriage</td></tr>
<tr><th>Reporter</th><td>Michael Stelly</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2014-09-22T20:29:54.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:40.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to Reproduce</h4>
Create a project
Replace existing index.* and alloy.js files with those attached.
Run project.
If you comment out the Alloy.Globals reference in index.js, and use the setGradient() function with the supplied values, the correct result will display.

<h4>Actual Result</h4>
Blank page

<h4>Expected Result</h4>
Text label, center-screen, with red gradient background and white text 'Label'.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-1275_51483/backgroundGradientFails.zip">backgroundGradientFails.zip</td></td><td>2014-09-22T20:31:09.000+0000</td><td>2123</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Michael Stelly 2014-09-22

   File upload fails when posting through Studio.</li>
<li>Motiur Rahman 2014-09-25

   Hello,
   We tested this issue but we didnâ€™t reproduce it. It works as expected in this testing environment and test case. It was some declaration problem.
   
   *Result:* Works as expected.
   <h4>Testing Environment: </h4>
   Titanium SDK: 3.4.0-rc
   Titanium CLI: 3.4.0-rc4,
   Alloy: 1.5.0-rc3
   iOS SDK:8
   OS X Version: 10.9.5,
   Appcelerator Studio: 3.4.0
   
   <h4>Steps to Test</h4>
   1. Create an alloy project.
   2. Paste this code in alloy.js, index.xml and index.js file.
   3. Runt this code with the testing environment.
   
   <code><pre>
   
   Alloy.Globals = {
   	offbutton : {
   		type : 'linear',
   		startPoint : {
   			x : '50%',
   			y : '0%'
   		},
   		endPoint : {
   			x : '50%',
   			y : '100%'
   		},
   		colors : [{
   			color : 'green',
   			offset : 0.0
   		}, {
   			color : 'blue',
   			offset : 0.75
   		}]
   
   	},
   	// onButton : '#c60b20',
   	onButton : {
   
   		type : 'linear',
   		startPoint : {
   			x : '50%',
   			y : '0%'
   		},
   		endPoint : {
   			x : '50%',
   			y : '100%'
   		},
   		colors : [{
   			color : '#c60b20',
   			offset : 0.0
   		}, {
   			color : '#7c0714',
   			offset : 0.75
   		}]
   
   	},
   };
   
   </pre></code>
   
   <code><pre>
   // $.test.backgroundGradient = Alloy.Globals.onButton;
   $.test.setBackgroundGradient(Alloy.Globals.offbutton);
   console.log('backgroundgradient = ' + JSON.stringify(Alloy.Globals.offbutton));
   
   $.index.open();
   
   </pre></code>
   
   <code><pre>
   &lt;Alloy&gt;
   	&lt;Window class="container"&gt;
   	&lt;Label id='test'/&gt;
   	&lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   Thanks.</li>
<li>Mauro Parra-Miranda 2014-11-04

   Please check previous comment with a fix. </li>
<li>Michael Stelly 2014-11-04

   Your reply misses a key point. If I apply the property backgroundGradient in alloy.js, the background for the object is NOT set.
   
   Note the difference here. Your example has an object with the properties of backgroundGradient implied:
   <code><pre>
   	offbutton: {
   		type: 'linear',
   		startPoint: {
   			x: '50%',
   			y: '0%'
   		},
   		endPoint: {
   			x: '50%',
   			y: '100%'
   		},
   		colors: [{
   			color: 'green',
   			offset: 0.0
   		}, {
   			color: 'blue',
   			offset: 0.75
   		}]
   	},
   </pre></code>
   
   My example has the backgroundGradient property explicitly set:
   <code><pre>
   	offbutton: {
   		backgroundGradient: {
   			type: 'linear',
   			startPoint: {
   				x: '50%',
   				y: '0%'
   			},
   			endPoint: {
   				x: '50%',
   				y: '100%'
   			},
   			colors: [{
   				color: '#727272',
   				offset: 0.0
   			}, {
   				color: '#3e3e3e',
   				offset: 0.75
   			}]
   		}
   	},
   </pre></code>
   So, the problem remains. The backgroundGradient property, when applied to a global object does not work.</li>
</ol>


<p><a href="/AC/AC-1275.json">JSON Source</a></p>