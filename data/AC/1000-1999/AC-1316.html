---
title: "[AC-1316] App is crashing with various native windows , for example Image Gallery"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2015-09-28T15:59:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Peter Ladis</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2014-10-30T01:34:39.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:43.000+0000</td></tr>
</table>

<h3>Description</h3>

INFO] : 2014-10-29 21:26:04.433 LilyPad[7028:223609] -[NSCFArray isHidden]: unrecognized selector sent to instance 0x792c6130 [INFO] : 2014-10-29 21:26:04.459 LilyPad[7028:223609] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFArray isHidden]: unrecognized selector sent to instance 0x792c6130' [INFO] : *** First throw call stack: [INFO] : 0 CoreFoundation 0x04ee2946 __exceptionPreprocess + 182 [INFO] : 1 libobjc.A.dylib 0x04aa4a97 objc_exception_throw + 44 [INFO] : 2 CoreFoundation 0x04eea5c5 -[NSObject(NSObject) doesNotRecognizeSelector:] + 277 [INFO] : 3 CoreFoundation 0x04e333e7 ___forwarding___ + 1047 [INFO] : 4 CoreFoundation 0x04e32fae _CF_forwarding_prep_0 + 14 [INFO] : 5 LilyPad 0x000df51d -[TiViewProxy layoutChildrenIfNeeded] + 157 [INFO] : 6 LilyPad 0x002724a7 +[TiLayoutQueue layoutProxy:] + 87 [INFO] : 7 LilyPad 0x00272279 performLayoutRefresh + 553 [INFO] : 8 CoreFoundation 0x04e3c8d6 __CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION + 22 [INFO] : 9 CoreFoundation 0x04e3c25d __CFRunLoopDoTimer + 1309 [INFO] : 10 CoreFoundation 0x04dfb6ba __CFRunLoopRun + 2090 [INFO] : 11 CoreFoundation 0x04dfabcb CFRunLoopRunSpecific + 443 [INFO] : 12 CoreFoundation 0x04dfa9fb CFRunLoopRunInMode + 123 [INFO] : 13 GraphicsServices 0x0554024f GSEventRunModal + 192 [INFO] : 14 GraphicsServices 0x0554008c GSEventRun + 104 [INFO] : 15 UIKit 0x01c028b6 UIApplicationMain + 1526 [INFO] : 16 LilyPad 0x00091a58 main + 456 [INFO] : 17 libdyld.dylib 0x05945ac9 start + 1 [INFO] : libc++abi.dylib: terminating with uncaught exception of type NSException -- End simulator log ---------------------------------------------------------
â€” asked ? by Peter Ladis


<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2014-11-03

   Hello,
   Please read this guide:
   
   <a href="http://docs.appcelerator.com/titanium/2.1/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/2.1/#</a>!/guide/How_to_Submit_a_Bug_Report
   
   and add a testcase and instructions to reproduce it. 
   
   Best Regards</li>
<li>Peter Ladis 2014-11-07

   Mauro,
   
   Here is sample code:
   
   I have a button called profileImage, when i click it i attempt to bring up the native gallery picker.....sometimes a hard crash occurs
   
   profileImage.addEventListener('click',function(e)
   			{
   				Titanium.Media.openPhotoGallery({
   		
   					success:function(event)
   					{
   						var image = event.media;
   		
   						
   						if(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO)
   						{
   		
   						
   		
   						}
   						else
   						{
   							// is this necessary?
   						}
   		
   					},
   					cancel:function()
   					{
   		
   					},
   					error:function(error)
   					{
   					},
   					mediaTypes:[Ti.Media.MEDIA_TYPE_PHOTO]
   				});
   		
   			});</li>
<li>Rakhi Mitro 2015-08-26

   Hello,
   
   I have tested this issue in updated environment. We could not reproduce this as a platform bug as per test case below.
   
   *Test Environments:*
   
   CLI Version                 = 4.0.1
   
   Titanium SDK  Version        = 4.1.0.GA
   
   Appcelerator Studio, build: 4.1.1.201507141126
   
   Device: SM-T210R,Android Version:4.4.2
   
   *Test Steps:*
   
   * Create a button on app.js
   * Click on this button,photo gallery will be open
   * Select a photo from photo gallery 
   
   
   *Test Code:*
   
   <code><pre>
   
   
   var win1 = Titanium.UI.createWindow({
   
   title : 'Image Gallery',
   
   backgroundColor : 'pink',
   
   layout : 'vertical',
   
   });
   
    
   
   var display = Ti.UI.createImageView({
   
   top : '30%',
   
   zIndex : 2,
   
   backgroundColor : '#000',
   
   borderColor : 'gray',
   
   borderRadius : 2,
   
   borderWidth : 3,
   
   visible : false
   
   });
   
    
   
   win1.add(display);
   
    
   
   var profileImage = Ti.UI.createButton({
   
   title : 'profileImage',
   
   height : "auto",
   
   width : "50%",
   
   //top : myTop,
   
   //left : myLeft
   
   });
   
    
   
   profileImage.addEventListener('click', function() {
   
   Titanium.Media.openPhotoGallery({
   
    
   
       success : function(event) {
   
         display.setImage(event.media);
   
               display.show();     
   
       },
   
       cancel : function() {
   
       alert('Canceled!');
   
       },
   
       error : function(error) {
   
       },
   
    
   
       mediaTypes : [Ti.Media.MEDIA_TYPE_VIDEO, Ti.Media.MEDIA_TYPE_PHOTO]
   
      });
   
   });
   
    
   
   win1.add(profileImage);
   
    
   
   win1.open(); 
   
   </pre></code>
   
   
   *Test Result:*
   
   App is working fine. Selected image from photogallery displayed properly in Window.</li>
</ol>


<p><a href="/AC/AC-1316.json">JSON Source</a></p>