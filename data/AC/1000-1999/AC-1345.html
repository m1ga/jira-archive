---
title: "[AC-1345] Anchor Point, doesn´t recalculate when transform is set before the image."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2014-05-19T05:22:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>anchorpoint, android, transform</td></tr>
<tr><th>Reporter</th><td>Juan Manuel</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2014-05-11T21:46:45.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:45.000+0000</td></tr>
</table>

<h3>Description</h3>

If you apply a transformation with a desired anchorPoint, on a that doesn't have it's width and height properties set programatically or the width and height are set to Ti.UI.SIZE and the transform is set before the image, the anchorpoint doesn´t recalculate and even if the width or height changes, the anchor point stays it was.

For example, for an ImageView that has it's image set programatically, the width and height changes based on the size of the image,  but the anchor point works as if it's size still were 0,0, making it look like it's being rotated from the top left corner, even when anchorpoint is set at 0.5,0.5

In short: Only works and recalculates correctly if Ti.UI.FILL or a fixed height is set.

Code to reproduce on Android:

View:
<code><pre>
&lt;View id="vwContainer"&gt;
			&lt;ImageView id="imgProfilePicture"&gt;&lt;/ImageView&gt;
&lt;/View&gt;
</pre></code>

Controller:
<code><pre>
Titanium.Media.openPhotoGallery(
{
        success:function(event)
        {     		
                if (event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO)
                { 
                        var image= event.media;
                        var transform = Ti.UI.create2DMatrix({ anchorPoint: {x: 0.5, y: 0.5}}).rotate(90);
                        $.imgProfilePicture.transform = transform;
                        $.imgProfilePicture.image = image;
                }
                else
                {
                        alert('Only pictures can be taken');
                        return;
                }
        }
});
</pre></code>

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-05-14

   Resolving this ticket as a duplicate of TIMOB-16596. Please track that ticket for further updates.</li>
</ol>


<p><a href="/AC/AC-1345.json">JSON Source</a></p>