---
title: "[AC-1396] ti.touch module crash when callback shhould open a window"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2016-01-07T05:39:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Appcelerator Modules</td></tr>
<tr><th>Labels</th><td>touchid</td></tr>
<tr><th>Reporter</th><td>Michael Bahl</td></tr>
<tr><th>Assignee</th><td>Mostafizur Rahman</td></tr>
<tr><th>Created</th><td>2015-12-08T15:48:58.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:49.000+0000</td></tr>
</table>

<h3>Description</h3>

var TiTouchId		= require('ti.touchId');

TiTouchId.authenticate({
	reason: L('txt_to_proceed_put_finger_on_sensor'),
	callback: function(e) {
		if (!e.success) {
			Ti.API.info('Message: ' + e.error + '\nCode: ' + e.code);
			
			switch(e.code) {
				case TiTouchId.ERROR_AUTHENTICATION_FAILED:Ti.API.info('Error code is TiTouchId.ERROR_AUTHENTICATION_FAILED'); break;
				case TiTouchId.ERROR_USER_CANCEL: Ti.API.info('Error code is TiTouchId.ERROR_USER_CANCEL'); break;
				case TiTouchId.ERROR_USER_FALLBACK: Ti.API.info('Error code is TiTouchId.ERROR_USER_FALLBACK'); break;
				case TiTouchId.ERROR_SYSTEM_CANCEL: Ti.API.info('Error code is TiTouchId.ERROR_SYSTEM_CANCEL'); break;
				case TiTouchId.ERROR_PASSCODE_NOT_SET: Ti.API.info('Error code is TiTouchId.ERROR_PASSCODE_NOT_SET'); break;
				case TiTouchId.ERROR_TOUCH_ID_NOT_AVAILABLE: Ti.API.info('Error code is TiTouchId.ERROR_TOUCH_ID_NOT_AVAILABLE'); break;
				case TiTouchId.ERROR_TOUCH_ID_NOT_ENROLLED: Ti.API.info('Error code is TiTouchId.ERROR_TOUCH_ID_NOT_ENROLLED'); break;
				default: Ti.API.info('Error code is unknown'); break;
			}
		} else {
			Ti.API.info("Touch id success");

			//Fails
			Alloy.createController("mycontroller").getView().open(); 
			/* Works
				setTimeout(function(){			//crashed without settimeout (5.1.1GA)
					Alloy.createController("mycontroller").getView().open(); 
				},1);
			*/
		}
	}
});

[ERROR] Script Error {
[ERROR]     column = 14;
[ERROR]     line = 421;
[ERROR]     message = "null is not an object (evaluating 'proxy.id')";
[ERROR]     sourceURL = "file:///var/mobile/Containers/Bundle/Application/F4DDBD59-6A05-4D2

<h3>Comments</h3>

<ol>
<li>Mostafizur Rahman 2015-12-28

   Hello,
   
   We have tested *"ti.touch"* module on following environment. It's working as expected and we didn't reproduce the above error.
   
   *Testing Environment:*
   Titanium SDK: 5.1.1.GA
   Appcelerator Command-Line Interface, version 5.1.0
   Mac OS X: version 10.11.1 
   iOS device: Simulator iPad Pro(v9.1), iPad mini (v8.1.1)
   ti.touchId module version: iOS-1.2.1 [Get from Here](<a href="https://github.com/appcelerator-modules/ti.touchid/releases)" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.touchid/releases)</a>
   
   Thanks.</li>
</ol>


<p><a href="/AC/AC-1396.json">JSON Source</a></p>