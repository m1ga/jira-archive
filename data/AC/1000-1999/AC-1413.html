---
title: "[AC-1413] Appc setup errors out during appc-memwatch installation"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Done</td></tr>
<tr><th>Resolution Date</th><td>2015-09-30T07:16:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Andrey Tkachenko</td></tr>
<tr><th>Assignee</th><td>Motiur Rahman</td></tr>
<tr><th>Created</th><td>2015-09-10T08:40:02.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:50.000+0000</td></tr>
</table>

<h3>Description</h3>

I got error after click on Appcelerator studio update notification.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-1413_56669/npm-debug.log">npm-debug.log</td></td><td>2015-09-10T08:39:52.000+0000</td><td>61250</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-1413_56753/npm-debug-fvl.log">npm-debug-fvl.log</td></td><td>2015-09-18T01:44:39.000+0000</td><td>69228</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Motiur Rahman 2015-09-10

   Hello Andrey Tkachenko,
   
   Please try this following link step by step then let us know if you get this error again
   <a href="https://web.appcelerator.com/product/cli" rel="nofollow" target="_blank">https://web.appcelerator.com/product/cli</a>
   
   Thanks.</li>
<li>Andrey Tkachenko 2015-09-10

   I did it already. Error on third step. I attached the log file.
   Command output:
   
   <code><pre>
   appc setup
   Finding latest version ...4.1.3 ✓
   Validating security checksum ✓
   Installing ... ✓
   Compiling platform native modules ...
   └ package/appc-cli-titanium ... ✓
   └ extract-opts/typechecker ...  ✓
   └ bunyan/dtrace-provider ...  ✓
   └ extract-opts/typechecker ...  ✓
   └ socket.io-client/ws ...  ✓
   └ appc-ldapjs/dtrace-provider ...  ✓
   └ arrow/appc-memwatch ... gyp WARN install got an error, rolling back install
   gyp ERR! configure error
   gyp ERR! stack Error: incorrect header check
   gyp ERR! stack     at Zlib._handle.onerror (zlib.js:366:17)
   gyp ERR! System Darwin 13.4.0
   gyp ERR! command "node" "/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
   gyp ERR! cwd /Users/falko/.appcelerator/install/4.1.3/package/node_modules/arrow/node_modules/appc-memwatch
   gyp ERR! node -v v0.12.7
   gyp ERR! node-gyp -v v2.0.1
   gyp ERR! not ok
   
   npm ERR! Darwin 13.4.0
   npm ERR! argv "node" "/usr/local/bin/npm" "install" "appc-memwatch@0.2.11" "--production"
   npm ERR! node v0.12.7
   npm ERR! npm  v2.11.3
   npm ERR! code ELIFECYCLE
   
   npm ERR! appc-memwatch@0.2.11 postinstall: <code>node ./build.js</code>
   npm ERR! Exit status 1
   npm ERR!
   npm ERR! Failed at the appc-memwatch@0.2.11 postinstall script 'node ./build.js'.
   npm ERR! This is most likely a problem with the appc-memwatch package,
   npm ERR! not with npm itself.
   npm ERR! Tell the author that this fails on your system:
   npm ERR!     node ./build.js
   npm ERR! You can get their info via:
   npm ERR!     npm owner ls appc-memwatch
   npm ERR! There is likely additional logging output above.
   
   npm ERR! Please include the following file with any support request:
   npm ERR!     /Users/falko/.appcelerator/install/4.1.3/package/node_modules/arrow/npm-debug.log
   </pre></code>
   </li>
<li>Jann Andrasch 2015-09-10

   I am still unable to run appc setup. I get the same installation error with npm version 2.14.2
   
   Finding latest version ...4.1.3 ✓
   Validating security checksum ✓
   Installing ... ✓
   Compiling platform native modules ...
   └ package/appc-cli-titanium ... ✓
   └ extract-opts/typechecker ...  ✓
   └ bunyan/dtrace-provider ...  ✓
   └ extract-opts/typechecker ...  ✓
   └ socket.io-client/ws ...  ✓
   └ appc-ldapjs/dtrace-provider ...  ✓
   └ arrow/appc-memwatch ... npm WARN package.json arrow@1.2.48 license should be a valid SPDX license expression
   gyp: /Users/andrasch/.node-gyp/4.0.0/common.gypi not found (cwd: /Users/andrasch/.appcelerator/install/4.1.3/package/node_modules/arrow/node_modules/appc-memwatch) while reading includes of binding.gyp while trying to load binding.gyp
   gyp ERR! configure error
   gyp ERR! stack Error: <code>gyp</code> failed with exit code: 1
   gyp ERR! stack     at ChildProcess.onCpExit (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/configure.js:357:16)
   gyp ERR! stack     at emitTwo (events.js:87:13)
   gyp ERR! stack     at ChildProcess.emit (events.js:172:7)
   gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:200:12)
   gyp ERR! System Darwin 14.5.0
   gyp ERR! command "/usr/local/bin/node" "/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
   gyp ERR! cwd /Users/andrasch/.appcelerator/install/4.1.3/package/node_modules/arrow/node_modules/appc-memwatch
   gyp ERR! node -v v4.0.0
   gyp ERR! node-gyp -v v2.0.2
   gyp ERR! not ok
   
   npm ERR! Darwin 14.5.0
   npm ERR! argv "/usr/local/bin/node" "/usr/local/bin/npm" "install" "appc-memwatch@0.2.11" "--production"
   npm ERR! node v4.0.0
   npm ERR! npm  v2.14.2
   npm ERR! code ELIFECYCLE
   
   npm ERR! appc-memwatch@0.2.11 postinstall: <code>node ./build.js</code>
   npm ERR! Exit status 1
   npm ERR!
   npm ERR! Failed at the appc-memwatch@0.2.11 postinstall script 'node ./build.js'.
   npm ERR! This is most likely a problem with the appc-memwatch package,
   npm ERR! not with npm itself.
   npm ERR! Tell the author that this fails on your system:
   npm ERR!     node ./build.js
   npm ERR! You can get their info via:
   npm ERR!     npm owner ls appc-memwatch
   npm ERR! There is likely additional logging output above.
   </li>
<li>Motiur Rahman 2015-09-15

   Hello Andrey Tkachenko,
   
   Node version v4.0.0 we get some problem so try to use v0.10.37.
   
   Next, try a clean install of your Appc CLI:
   
   - Uninstall Appc CLI from NPM global path : sudo npm uninstall -g appcelerator 
   - Remove Appc CLI installed locally : sudo rm -rf .appcelerator 
   - Cache clean from NPM : sudo npm cache clean 
   - Then, reinstall Appc CLI from NPM : sudo npm install -g appcelerator 
   - Run setup : appc setup
   
   Then let us know if you get the error again.
   Thanks.</li>
<li>Andrey Tkachenko 2015-09-15

   Without steps you described I try to run appc setup:
   
   
   <code><pre>
   $ node -v
   v0.12.7
   $ npm -v
   2.14.2
   $ appc setup
   Finding latest version ...4.1.3 ✓
   Version 4.1.3 already installed.
   ? Do you plan on developing Titanium apps? Yes
   
   Checking your environment...
   
   You have the latest Titanium SDK release 4.1.1.GA
   Congrats! No issues detected for developing cross-platform mobile apps!
   
   appc setup complete!
   </pre></code>
   
   It is ok?</li>
<li>Jann Andrasch 2015-09-17

   Hi, today we tried to upgrade to CLI 5.0 and we are getting the same error again.
   
   <code><pre>
   Node: 0.10.40 (already upgraded from 0.10.37 as recommended in many user comments)
   npm: 2.14.3 (sudo npm install -g npm)
   
   sudo npm cache clean
   sudo npm install -g appcelerator
   DEBUG=* appc use latest -l trace
   
   ----
   *ERROR LOG*
   406 verbose write writing to /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch/node_modules/nan/package.json
   407 info preinstall nan@1.9.0
   408 verbose readDependencies loading dependencies from /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch/node_modules/nan/package.json
   409 verbose readDependencies loading dependencies from /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch/node_modules/nan/package.json
   410 silly install resolved []
   411 verbose about to build /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch/node_modules/nan
   412 info build /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch/node_modules/nan
   413 info linkStuff nan@1.9.0
   414 silly linkStuff nan@1.9.0 has /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch/node_modules as its parent node_modules
   415 verbose linkBins nan@1.9.0
   416 verbose linkMans nan@1.9.0
   417 verbose rebuildBundles nan@1.9.0
   418 info install nan@1.9.0
   419 info postinstall nan@1.9.0
   420 verbose unlock done using /Users/andrasch/.appcelerator/.npm/_locks/nan-109b32b592bffa4d.lock for /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch/node_modules/nan
   421 verbose about to build /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch
   422 info build /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch
   423 info linkStuff appc-memwatch@0.2.11
   424 silly linkStuff appc-memwatch@0.2.11 has /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules as its parent node_modules
   425 verbose linkBins appc-memwatch@0.2.11
   426 verbose linkMans appc-memwatch@0.2.11
   427 verbose rebuildBundles appc-memwatch@0.2.11
   428 verbose rebuildBundles [ 'bindings', 'nan' ]
   429 info install appc-memwatch@0.2.11
   430 info postinstall appc-memwatch@0.2.11
   431 verbose unsafe-perm in lifecycle true
   432 info appc-memwatch@0.2.11 Failed to exec postinstall script
   433 verbose unlock done using /Users/andrasch/.appcelerator/.npm/_locks/appc-memwatch-3a07b0218de58ec2.lock for /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch
   434 verbose stack Error: appc-memwatch@0.2.11 postinstall: <code>node ./build.js</code>
   434 verbose stack Exit status 1
   434 verbose stack     at EventEmitter.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/lib/utils/lifecycle.js:214:16)
   434 verbose stack     at EventEmitter.emit (events.js:98:17)
   434 verbose stack     at ChildProcess.&lt;anonymous&gt; (/usr/local/lib/node_modules/npm/lib/utils/spawn.js:24:14)
   434 verbose stack     at ChildProcess.emit (events.js:98:17)
   434 verbose stack     at maybeClose (child_process.js:766:16)
   434 verbose stack     at Process.ChildProcess._handle.onexit (child_process.js:833:5)
   435 verbose pkgid appc-memwatch@0.2.11
   436 verbose cwd /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow
   437 error Darwin 14.5.0
   438 error argv "node" "/usr/local/bin/npm" "install" "appc-memwatch@0.2.11" "--production"
   439 error node v0.10.40
   440 error npm  v2.14.3
   441 error code ELIFECYCLE
   442 error appc-memwatch@0.2.11 postinstall: <code>node ./build.js</code>
   442 error Exit status 1
   443 error Failed at the appc-memwatch@0.2.11 postinstall script 'node ./build.js'.
   443 error This is most likely a problem with the appc-memwatch package,
   443 error not with npm itself.
   443 error Tell the author that this fails on your system:
   443 error     node ./build.js
   443 error You can get their info via:
   443 error     npm owner ls appc-memwatch
   443 error There is likely additional logging output above.
   444 verbose exit [ 1, true ]
   445 verbose unbuild node_modules/appc-memwatch
   446 info preuninstall appc-memwatch@0.2.11
   447 info uninstall appc-memwatch@0.2.11
   448 verbose unbuild rmStuff appc-memwatch@0.2.11 from /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules
   449 info postuninstall appc-memwatch@0.2.11
   450 silly gentlyRm /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch is being purged from base /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow
   451 verbose gentlyRm don't care about contents; nuking /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch
   452 silly vacuum-fs purging /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules/appc-memwatch
   453 silly vacuum-fs quitting because other entries in /Users/andrasch/.appcelerator/install/5.0.0/package/node_modules/arrow/node_modules
   </pre></code>
    ----
   
   Thank you for your feedback / help / support,
   Jann 
   
   
   
   </li>
<li>Ingo Muschenetz 2015-09-17

   Everyone, could you please try the following:
   
   <h4>Open a command prompt</h4>
   <h4><code>sudo npm install -g appc-memwatch</code></h4>
   <h4>Send us the complete terminal output you get from doing that</h4></li>
<li>Jann Andrasch 2015-09-17

   *sudo npm install -g appc-memwatch*
   Password:
   \
   > appc-memwatch@0.3.2 postinstall /usr/local/lib/node_modules/appc-memwatch
   > node ./build.js
   
     CXX(target) Release/obj.target/memwatch/src/module.o
     CXX(target) Release/obj.target/memwatch/src/memwatch.o
     CXX(target) Release/obj.target/memwatch/src/heapdiff.o
     CXX(target) Release/obj.target/memwatch/src/worker.o
     CXX(target) Release/obj.target/memwatch/src/util.o
     SOLINK_MODULE(target) Release/memwatch.node
   appc-memwatch@0.3.2 /usr/local/lib/node_modules/appc-memwatch
   ├── bindings@1.2.1
   └── nan@2.0.9
   
   ----
   
   About 2 hours ago we were able to run "appc logout" (usually this command first tried to install the CLI 5.0 and run into this error)
   After that we were able to run "app setup" successfully with a new login verification. 
   
   Thank you for your fast support!
   Jann</li>
<li>Andrey Tkachenko 2015-09-17

   
   <code><pre>
   &gt; appc-memwatch@0.3.2 postinstall /usr/local/lib/node_modules/appc-memwatch
   &gt; node ./build.js
   
     CXX(target) Release/obj.target/memwatch/src/module.o
     CXX(target) Release/obj.target/memwatch/src/memwatch.o
     CXX(target) Release/obj.target/memwatch/src/heapdiff.o
     CXX(target) Release/obj.target/memwatch/src/worker.o
     CXX(target) Release/obj.target/memwatch/src/util.o
     SOLINK_MODULE(target) Release/memwatch.node
   appc-memwatch@0.3.2 /usr/local/lib/node_modules/appc-memwatch
   ├── bindings@1.2.1
   └── nan@2.0.9
   </pre></code>
   </li>
<li>Fokke Zandbergen 2015-09-17

    Related Q&A's:
    
    - <a href="https://community.appcelerator.com/topic/509/appceleratorstudio-impossible-to-update-appcelerator-cli-4-0-0-21-may-2015/23" rel="nofollow" target="_blank">https://community.appcelerator.com/topic/509/appceleratorstudio-impossible-to-update-appcelerator-cli-4-0-0-21-may-2015/23</a>
    - <a href="https://community.appcelerator.com/topic/3351/appcelerator-sutdio-no-longer-working-after-last-update" rel="nofollow" target="_blank">https://community.appcelerator.com/topic/3351/appcelerator-sutdio-no-longer-working-after-last-update</a>
    - <a href="https://community.appcelerator.com/topic/3221/5-0-0-beta-now-available-with-ios-9-support/8" rel="nofollow" target="_blank">https://community.appcelerator.com/topic/3221/5-0-0-beta-now-available-with-ios-9-support/8</a>
    - <a href="https://community.appcelerator.com/topic/3262/unable-to-update-appcelerator-cli-core-v-4-1-3/10" rel="nofollow" target="_blank">https://community.appcelerator.com/topic/3262/unable-to-update-appcelerator-cli-core-v-4-1-3/10</a></li>
<li>Juan Carlos Salinas Ojeda 2015-09-17

    ~ $ sudo npm install -g appc-memwatch
    Password:
    \
    > appc-memwatch@0.3.3 install /usr/local/lib/node_modules/appc-memwatch
    > node-gyp rebuild
    
      CXX(target) Release/obj.target/memwatch/src/module.o
      CXX(target) Release/obj.target/memwatch/src/memwatch.o
      CXX(target) Release/obj.target/memwatch/src/heapdiff.o
      CXX(target) Release/obj.target/memwatch/src/worker.o
      CXX(target) Release/obj.target/memwatch/src/util.o
      SOLINK_MODULE(target) Release/memwatch.node
    appc-memwatch@0.3.3 /usr/local/lib/node_modules/appc-memwatch
    ├── bindings@1.2.1
    └── nan@2.0.9
    ~ $ 
    ~ $ 
    </li>
<li>Paul Flood 2015-09-17

    sudo npm install -g appc-memwatch
    Password:
    -
    > appc-memwatch@0.3.3 install /usr/local/lib/node_modules/appc-memwatch
    > node-gyp rebuild
    
      CXX(target) Release/obj.target/memwatch/src/module.o
      CXX(target) Release/obj.target/memwatch/src/memwatch.o
      CXX(target) Release/obj.target/memwatch/src/heapdiff.o
      CXX(target) Release/obj.target/memwatch/src/worker.o
      CXX(target) Release/obj.target/memwatch/src/util.o
      SOLINK_MODULE(target) Release/memwatch.node
      SOLINK_MODULE(target) Release/memwatch.node: Finished
    appc-memwatch@0.3.3 /usr/local/lib/node_modules/appc-memwatch
    ├── bindings@1.2.1
    └── nan@2.0.9
    </li>
<li>Francois van Lille 2015-09-18

    Result of running <code>appc setup</code>, showing failure of <code>appc-memwatch</code> module</li>
<li>Francois van Lille 2015-09-18

    I am able to install <code>appc-memwatch</code> both as sudo and myself without a hitch (as some folks above show also), however it still bombs out on this module when doing <code>appc setup</code> to get GA 5.0.0... See [^npm-debug-fvl.log] attached.</li>
<li>Ingo Muschenetz 2015-09-18

    We will release an appc-cli core version 5.0.1 today (9/18) that removes the dependency.</li>
<li>Francois van Lille 2015-09-19

    FYI: Downgrading my node.js installation to 0.12.7 and repeating the CLI installation sorted the problem for me...</li>
<li>Ingo Muschenetz 2015-09-19

    This should be fixed for all users with CLI version 5.0.1.</li>
</ol>


<p><a href="/AC/AC-1413.json">JSON Source</a></p>