---
title: "[AC-1452] ScrollableView crash"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2014-09-24T03:11:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>crash, crashes, memory, scrollableView, scrollview</td></tr>
<tr><th>Reporter</th><td>Trevor Fifield</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2014-09-19T11:01:36.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:53.000+0000</td></tr>
</table>

<h3>Description</h3>

I am adding an array of ScrollViews to the ScrollableView object. The views are passed to the object using the setViews method after they have been created in a loop. The ScrollableView is also clipping to expose pages/views either side of the current page.

The ScrollViews for each page contain images that are cropped and blurring applied (native module) and labels and images throughout the page. Each section of elements in the ScrollView are created with controllers.

As is, the ScrollableView crashes when the user hits the second-to-last view in an array of 12 and the last view tries to render. Profiling memory allocations via Xcode Instruments shows a 200mb spike on the last view as opposed to 10mb for all of the other views.

I have tried the following to resolve:

- remove views not on screen via assigning an array of 3 views at a time, removing all child views and nulling them
- using the removeView and addView methods to add/remove views on and off screen
- removal of content within the scrollviews to reduce load (to test if the complexity of the views was the issue)
- removal of the image cropping and blurring functions (to test if this was causing memory leaks via the native module and functions)

Whilst these methods remove the children from the views and the TiUIViewProxy count reduces, they do not remove the views from memory.

Link to test case as too large to upload: <a href="https://www.dropbox.com/s/wt3l6z17z48hbz8/ScrollableViewProfiling.zip?dl=0" rel="nofollow" target="_blank">https://www.dropbox.com/s/wt3l6z17z48hbz8/ScrollableViewProfiling.zip?dl=0</a>

<h3>Comments</h3>

<ol>
<li>Trevor Fifield 2014-09-22

   Removing 3 4mb images from the content in the test case has now stopped the crashing however the issue still remains - child views are still retained in memory when they have been removed using the steps described in the description.
   
   This issue will ultimately mean that additional pages added to the ScrollableView will add to the memory stack and it will crash eventually.</li>
<li>Mauro Parra-Miranda 2014-09-24

   Hello,
   it's likely that if you create a huge scrollview will crash. Please take a look into the infinite scrollview, it might be useful.
   
   <a href="https://twitter.com/dawsontoth/status/33296100718809088" rel="nofollow" target="_blank">https://twitter.com/dawsontoth/status/33296100718809088</a>
   
   JFYI, iOS 8 is only supported with Mobile SDK 3.4+. I saw that you are developing with 3.2.3, it's not supported anymore. </li>
</ol>


<p><a href="/AC/AC-1452.json">JSON Source</a></p>