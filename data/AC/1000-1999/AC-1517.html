---
title: "[AC-1517] Property displayHomeAsUp in menu/actionbar not working when set in alloy xml"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-09-01T06:53:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Aslan</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2014-07-14T08:28:55.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:58.000+0000</td></tr>
</table>

<h3>Description</h3>

ActionBar allows to set home button as UP - it works as it should when setDisplayHomeAsUp is invoked, however when property displayHomeAsUp is set within xml it's not working at all:

<code><pre>
<Alloy>
	
	<Window id="main" class="container">
		
		<Menu id="menu" platform="android" displayHomeAsUp="true">
			<MenuItem id="menu1" class="action" onClick="doClickMenu" />
			<MenuItem id="menu2" class="action" onClick="doClickMenu" />
			<MenuItem id="menu3" class="overflow" onClick="doClickMenu" />
		</Menu>
		
		<Label>Action Buttons</Label>
	
	</Window>
	
</Alloy>
</pre></code>

<h3>Comments</h3>

<ol>
<li>Amimul Hossain 2014-07-16

   Hi, 
   We have tested this project with test code bellow and it's working in Ti SDK 3.3.0-RC.
    
    
   <h4>TESTING ENVIRONMENT:</h4>
    
   Ti CLI 3.3.0-rc
   Titanium SDK: 3.3.0.RC and 3.2.X.GA
   Min SdkVersion="10", Target SdkVersion="14"
   Android Device and Emulator
   
   <h4>STEPS TO TEST</h4>
    
   
   1. Create a new alloy project.
   2. Copy and paste the "index.js" code segment given below to the project "index.js" file. 
   3. Copy and paste the "index.xml" code segment given below to the project "index.xml" file.
   4. Copy and paste the "alloy.js" code segment given below to the project "alloy.js" file.
   5. In the project tiapp.xml file replace "<android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"/>" with the "tiapp.xml" code segment given below.
   6. Run the project in android emulator or device.
   7. Home button is showing an up arrow on it's left.
   8. Click the home button to see Alert message "Home icon clicked"
    
   <h4>EXPECTED RESULT</h4>
    
   Home button should display and works as a one level up button
   
   <h4>Actual STATUS</h4>
   
   It's  working
   
   <h4>TEST CODES</h4>
   
   <h4>index.js</h4>
   
   <code><pre>
   
   $.tabGroup.addEventListener('open', function(e) {
       var activity = $.tabGroup.activity;
    
       if( Alloy.Globals.Android.Api >= 11 ) {
           activity.actionBar.title = "DemoApp";
           activity.actionBar.displayHomeAsUp = true; 
           activity.actionBar.onHomeIconItemSelected = function() {
               alert("Home icon clicked!");
           };  
       }
   });
    
   $.tabGroup.open();
   
   </pre></code>
   
   <h4>index.xml</h4>
   
   <code><pre>
   
      <Alloy>
           <TabGroup id="tabGroup" backgroundColor="white" >
               <Tab id="tab1" title="Tab 1" icon="KS_nav_views.png">
                   <Window id="win1" title="Tab 1">
                      <Label id="label1" color="#999">I am Window 1</Label>
                   </Window>
               </Tab>
               <Tab id="tab2" title="Tab 2" icon="KS_nav_views.png">
                   <Window id="win2" title="Tab 2">
                       <Label id="label2" color="#999">I am Window 2</Label>
                   </Window>
               </Tab>
               <!-- Use the Require tag to include external Ti.UI.Tab views -->
           </TabGroup>
       </Alloy>
   
   </pre></code>
   
   <h4>alloy.js</h4>
   
   <code><pre>
   
   if( OS_ANDROID ) {
       Alloy.Globals.Android = { 
           "Api" : Ti.Platform.Android.API_LEVEL
       };
   }
   
   </pre></code>
   
   <h4>tiapp.xml</h4>
   
   <code><pre>
   
   <property name="ti.android.fastdev" type="bool">false</property>
   <android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">
       <tool-api-level>14</tool-api-level>
       <manifest>
           <supports-screens android:anyDensity="false"/>
           <uses-sdk android:maxSdkVersion="17"
               android:minSdkVersion="10" android:targetSdkVersion="14"/>
       </manifest>
   </android>
   
   </pre></code>
   
   Thanks </li>
<li>Mauro Parra-Miranda 2014-08-10

   Hello [~aslan]!
   
   Can you please take a look to this with the testcase above, 3.3.0.GA and let us know if it's failing for you?
   
   TIA!</li>
<li>Mauro Parra-Miranda 2014-09-01

   Tested in 3.3.0.GA and works fine. Please test and if you still have an issue, please make a comment and provide a testcase that reproduces the issue in 3.3.0.GA. </li>
</ol>


<p><a href="/AC/AC-1517.json">JSON Source</a></p>