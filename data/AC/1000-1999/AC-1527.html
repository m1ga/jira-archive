---
title: "[AC-1527] Analytics leak memory"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2016-02-24T14:24:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Andrew McElroy</td></tr>
<tr><th>Assignee</th><td>Mostafizur Rahman</td></tr>
<tr><th>Created</th><td>2016-02-23T21:43:40.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:37:59.000+0000</td></tr>
</table>

<h3>Description</h3>

When using instruments to profile (using memory leak tool) a hello world Titanium app, I observe that is leaks memory. When I turn analytics off in tiapp.xml and clean the build and reset the simulator, the app no longer leaks memory. 

Steps to reproduce:
ti create --type app -p all --id com.hello.leak --name=helloleak -u <a href="http://example.com" rel="nofollow" target="_blank">http://example.com</a> -d ~/Desktop
ti build --platform=iphone 

open instruments
select memory leak
select the app and hit record,
observe that responsible caller CFNetwork leaks memory.

Steps to prove CFNetwork is coming from analytics:
stop the simulator and instruments
change analytics to false in tiapp.xml
ti clean
ti build --platform=iphone
reopen instruments and select memory leak tool
observe no memory leaks.


A few more notes: this matters because Titanium should not be leaking memory by default. If this can get fixed then Appcelerator can make an interesting and true claim, which is that hello world React-Native and NativeScript (aka native leak) leak memory by default, while titanium (for now when analytics are off) does not.



<h3>Comments</h3>

<ol>
<li>Andrew McElroy 2016-02-24

   this is not resolved! I'll record a video and give you a .trace file and cc ingo on this later today. </li>
<li>Andrew McElroy 2016-02-25

   This apparently is resolved in 5.2.0.GA but was an issue in 5.2.0.v20160216202526 as well as master branch back in January. I now agree with closing this issue. If I see it come back up, I'll report it again.</li>
</ol>


<p><a href="/AC/AC-1527.json">JSON Source</a></p>