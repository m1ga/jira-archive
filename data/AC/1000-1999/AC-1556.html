---
title: "[AC-1556] Instance Model-View Binding dataTransform attributed ignored  "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-04-23T03:27:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Antonio Calanducci</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2014-04-08T20:29:58.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:38:01.000+0000</td></tr>
</table>

<h3>Description</h3>

dataTransform seems to be ignored at all when  instance (or singleton) model attributes are bound to views (the Ti.API info doesn't print anything in the console):

index.html
<code><pre>
&lt;Alloy&gt;
	&lt;Model src="Person" id="aPerson" instance="true" /&gt;
	&lt;Window class="container" dataTransform="buildFullName"&gt;
		&lt;Label text="{$.aPerson.name}" /&gt;
		&lt;Label text="{$.aPerson.surname}" /&gt;
		&lt;Label text="{$.aPerson.fullname}" /&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

index.js
<code><pre>
function buildFullName(model) {
	Ti.API.info("trasformation has been called");
	return {
		name: model.attributes.name,
		fullname: model.attributes.name + " " + model.attributes.surname,
		surname: model.attributes.surname
	};
};

$.aPerson.set({
	name: "Steve",
	surname: "Jobs"});	
	

$.index.open();

</pre></code>

Moreover in the code generated by alloy in the index.js I see duplication:
<code><pre>
 var __alloyId3 = function() {
        $.__alloyId0.text = _.isFunction($.aPerson.transform) ? $.aPerson.transform()["name"] : $.aPerson.get("name");
        $.__alloyId0.text = _.isFunction($.aPerson.transform) ? $.aPerson.transform()["name"] : $.aPerson.get("name");
        $.__alloyId1.text = _.isFunction($.aPerson.transform) ? $.aPerson.transform()["surname"] : $.aPerson.get("surname");
        $.__alloyId1.text = _.isFunction($.aPerson.transform) ? $.aPerson.transform()["surname"] : $.aPerson.get("surname");
        $.__alloyId2.text = _.isFunction($.aPerson.transform) ? $.aPerson.transform()["fullname"] : $.aPerson.get("fullname");
        $.__alloyId2.text = _.isFunction($.aPerson.transform) ? $.aPerson.transform()["fullname"] : $.aPerson.get("fullname");
    };
</pre></code>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-1556_47189/app.zip">app.zip</td></td><td>2014-04-08T20:29:58.000+0000</td><td>5903321</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-04-17

   Transforms on a bound model like this aren't supported. There is a workaround to accomplish what you're trying to do with your function. Add an id attribute to your full name label. Then, add this to your controller:
   
   <code><pre>
   $.aPerson.on('change', function(model){
      $.fullname.text = model.attributes.name + " " + model.attributes.surname;
   });
   </pre></code>
   
   Models and collections are going to be reworked in Alloy 2.0. So, this ticket could be a feature request, but it might not get attention until then.
   
   As for the duplicated code on output, that should be resolved once we implement the support for dataTransform on models.</li>
<li>Ritu Agrawal 2014-04-23

   Resolving this ticket as invalid as transforms on a bound model like this aren't supported.</li>
</ol>


<p><a href="/AC/AC-1556.json">JSON Source</a></p>