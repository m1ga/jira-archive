---
title: "[AC-1564]  Alloy - collection instance does not work properly on ListView data binding? "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-07-29T06:52:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy</td></tr>
<tr><th>Labels</th><td>core, ios</td></tr>
<tr><th>Reporter</th><td>David He</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2014-07-03T04:51:02.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:38:01.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>
Collection instance binding does not work properly.

<h4>Expected Result</h4>
All Models should be displaying in the ListView

<h4>Actual Result</h4>
Only the last added model is showing in the ListView

Model
<code><pre>
exports.definition = {
    config : {
        columns : {
            "id" : "INTEGER PRIMARY KEY AUTOINCREMENT",
            "name" : "STRING"
        },
        adapter : {
            type : "sql",
            idAttribute : "id",
            collection_name : "adidas"
        }
    }
};
</pre></code>

Controller
<code><pre>
var i = 5;
while (i > 0) {
    var model = Alloy.createModel("adidas", {
        "name" : "CRAZY LIGHT FOUR" + i
    });
 
    // add model to collection which will in turn update the UI
    $.sports.add(model);
    // save the model to SQLite
    model.save();
    i--;
}
 
 
$.sports.fetch();
 
 
Ti.API.info($.sports.toJSON());
 
$.index.open();
</pre></code>

View
<code><pre>
<Alloy>
    <Collection id="sports" src="adidas" instance="true"/> 
    <Window fullscreen="true" dataCollection="$.sports" backgroundColor="white">
        <ListView>
            <ListSection>
                <ListItem title="{name}" accessoryType="Ti.UI.LIST_ACCESSORY_TYPE_DISCLOSURE">
            </ListSection>
        </ListView>
    </Window>
</Alloy>
</pre></code>

<h3>Comments</h3>

<ol>
<li>Motiur Rahman 2014-07-07

   Hi 
    It's not a bug. It's working as expected. You just need to change something in your index.xml file. The following code is the solution. DataCollection is not window object. it should be set in listview. 
   <h4>Testing Environment:</h4>
   Titanium SDK: 3.2.3, 3.3.0.RC,
   Titanium CLI: 3.3.0 â€“rc,
   iOS  SDK: 7.1
   Alloy: 1.4.0
   OS X Version: 10.9.3,
   Appcelerator Studio: 3.2.3
   
   <h4>Test Code</h4>
   <code><pre>
   <Alloy>
       <Collection id="sports" src="adidas" instance="true"/> 
       <Window fullscreen="true"  backgroundColor="white">
           <ListView>
               <ListSection dataCollection="$.sports">
                   <ListItem title="{name}" accessoryType="Ti.UI.LIST_ACCESSORY_TYPE_DISCLOSURE">
               </ListSection>
           </ListView>
       </Window>
   </Alloy>
   </pre></code></li>
<li>Mauro Parra-Miranda 2014-07-29

   Fixed in 3.3.0.GA. </li>
</ol>


<p><a href="/AC/AC-1564.json">JSON Source</a></p>