---
title: "[AC-1568] Alloy CFG is not always generated correctly, uses an old config.json"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2015-09-29T01:53:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>Alloy.CFG, config.json</td></tr>
<tr><th>Reporter</th><td>Patrick van Vuuren</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2015-02-11T22:03:15.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:38:02.000+0000</td></tr>
</table>

<h3>Description</h3>

Hello,

When using the config.json I expect that when I change the file, it will be changed next time I run the application on an emulator or device.

A few times today this was not the case. When doing a project -> clean worked for some reason.

A sample config.json I used:
<code><pre>
{
  "global": {
    "TMDB": {
      "API_KEY": "SOME_KEY"
    },
    "COLORS": {
      "ACTION_BAR_COLOR": "#0e83cd",
      "MAIN_COLOR": "#0e83cd"
    },
    "URLS": {
      "IMAGES": {
        "POSTER": "<a href="http://image.tmdb.org/t/p/w500" rel="nofollow" target="_blank">http://image.tmdb.org/t/p/w500</a>"
      },
      "SEARCH": {
        "MOVIE": "<a href="http://api.themoviedb.org/3/search/movie" rel="nofollow" target="_blank">http://api.themoviedb.org/3/search/movie</a>"
      },
      "MOVIES": {
        "ID": "<a href="http://api.themoviedb.org/3/movie/" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/</a>{id}",
        "NOW_PLAYING": "<a href="http://api.themoviedb.org/3/movie/now_playing" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/now_playing</a>",
        "UPCOMING": "<a href="http://api.themoviedb.org/3/movie/upcoming" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/upcoming</a>",
        "POPULAR": "<a href="http://api.themoviedb.org/3/movie/popular" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/popular</a>",
        "TOP_RATED": "<a href="http://api.themoviedb.org/3/movie/top_rated" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/top_rated</a>",
        "TRAILERS": "<a href="http://api.themoviedb.org/3/movie/" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/</a>{id}/videos",
        "REVIEWS": "<a href="http://api.themoviedb.org/3/movie/" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/</a>{id}/reviews",
        "CREDITS":"<a href="http://api.themoviedb.org/3/movie/" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/</a>{id}/credits",
        "DERP":"<a href="http://api.themoviedb.org/3/movie/" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/</a>{id}/derp"
      }
    },
    "TAB_PAGES": [
      "nowplaying",
      "upcoming",
      "popular",
      "toprated"
    ]
  },
  "env:development": {},
  "env:test": {},
  "env:production": {},
  "os:android": {},
  "os:blackberry": {},
  "os:ios": {},
  "os:mobileweb": {},
  "dependencies": {
    "nl.fokkezb.pullToRefresh": "2.1.0"
  }
}
</pre></code>

I cannot reproduce the problem everyone time, and it only seems to happen on Android (Tested it with Genymotion emulators).

Regards,
Patrick


<h3>Comments</h3>

<ol>
<li>Shuo Liang 2015-02-12

   Hi,
   
   This is normal behave. Alloy uses the config.json file, located in the project's app directory, to specify global values, conditional environment and platform values, and widget dependencies. Some of those config properties will be saved in build folder after running, and will not be re-written in order to accelerate next build.
   
   If you do change something in config.json file or tiapp.xml file, the best practice is clean the probject before next running. 
   
   Regards,
   Shuo</li>
<li>Tim Poulsen 2015-02-13

   [~Serfenia] I think you might be running into ALOY-1206 which is fixed for Alloy 1.7. If not, changing the config.json file should trigger its re-processing the next time you build the app. If that's not happening, then this could indicate a bug. Please try to narrow down a reproducable set of conditions so that we can be sure we're able to see the issue and know when it's been resolved.</li>
<li>Rakhi Mitro 2015-09-06

   Hello,
   
   I have tested this issue in updated environment. This is not a bug  for  latest Appcelerator version.  Not sure if this is still an issue for you. It doesn't appear to be based on our latest tests. Please let me know how I can help further. 
   
   *Test Environments:*
   
   CLI Version :4.0.1
   Titanium SDK  Version:4.1.0.GA
   Android: Google Galaxy Nexus:4.1.1 - API 16 - 720x1280
   Appc Studio: Appcelerator Studio, build: 4.1.1.201507141126
   Alloy: 1.7.6
   iOS Simulator: iPhone 4s
   
   
   
   *Test Case:*
   
   * Create a alloy project.
   * Paste  sample code  into *app>config.json*.
   * Run the project
   
   *Test code:*
   
   *config.json*
   
   <code><pre>
   
   {
     "global": {
       "TMDB": {
         "API_KEY": "SOME_KEY"
       },
       "COLORS": {
         "ACTION_BAR_COLOR": "#0e83cd",
         "MAIN_COLOR": "#0e83cd"
       },
       "URLS": {
         "IMAGES": {
           "POSTER": "<a href="http://image.tmdb.org/t/p/w500" rel="nofollow" target="_blank">http://image.tmdb.org/t/p/w500</a>"
         },
         "SEARCH": {
           "MOVIE": "<a href="http://api.themoviedb.org/3/search/movie" rel="nofollow" target="_blank">http://api.themoviedb.org/3/search/movie</a>"
         },
         "MOVIES": {
           "ID": "<a href="http://api.themoviedb.org/3/movie/" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/</a>{id}",
           "NOW_PLAYING": "<a href="http://api.themoviedb.org/3/movie/now_playing" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/now_playing</a>",
           "UPCOMING": "<a href="http://api.themoviedb.org/3/movie/upcoming" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/upcoming</a>",
           "POPULAR": "<a href="http://api.themoviedb.org/3/movie/popular" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/popular</a>",
           "TOP_RATED": "<a href="http://api.themoviedb.org/3/movie/top_rated" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/top_rated</a>",
           "TRAILERS": "<a href="http://api.themoviedb.org/3/movie/" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/</a>{id}/videos",
           "REVIEWS": "<a href="http://api.themoviedb.org/3/movie/" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/</a>{id}/reviews",
           "CREDITS":"<a href="http://api.themoviedb.org/3/movie/" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/</a>{id}/credits",
           "DERP":"<a href="http://api.themoviedb.org/3/movie/" rel="nofollow" target="_blank">http://api.themoviedb.org/3/movie/</a>{id}/derp"
         }
       },
       "TAB_PAGES": [
         "nowplaying",
         "upcoming",
         "popular",
         "toprated"
       ]
     },
     "env:development": {},
     "env:test": {},
     "env:production": {},
     "os:android": {},
     "os:blackberry": {},
     "os:ios": {},
     "os:mobileweb": {},
     "dependencies": {}
   }
   </pre></code>
   
   
   *Test Result:*
   
   Alloy CFG is always generated correctly.
   
   Thanks</li>
</ol>


<p><a href="/AC/AC-1568.json">JSON Source</a></p>