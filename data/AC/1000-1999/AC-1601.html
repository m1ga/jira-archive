---
title: "[AC-1601] Assertion Failure deleting a TableViewSection"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2015-09-29T02:53:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>ios, iphone</td></tr>
<tr><th>Reporter</th><td>Nathan Edwards</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2015-02-26T14:48:31.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:38:04.000+0000</td></tr>
</table>

<h3>Description</h3>

Working with Alloy, I have a condition in code that says that if those conditions are met, a couple of TableViewRows and TableViewSections need to be deleted. Here's that code:

<code>$.table.deleteRow(tableViewRow);</code>
<code>$.table.deleteSection(1);</code>


However, the deleteSection line is actually causing this error to appear:

<code> *** Assertion failure in -[UITableView _endCellAnimationsWithContext:], /SourceCache/UIKit_Sim/UIKit:3318.16.14/UITableView.m:1313 </code>

From what I've found, this is caused by 2 animations being called in the runtime at the same time. 

Playing with it further, only 1 deleteRow statement is executed at a time, but when you have a deleteRow and a deleteSection call in the same code block, they're both executed at the same time, resulting in this issue.

What winds up happening is that all TableSections at or below the section being deleted wind up getting deleted themselves.

This is a bug that definitely needs fixing for sanity's sense.



<h3>Comments</h3>

<p>No comments</p>

<p><a href="/AC/AC-1601.json">JSON Source</a></p>