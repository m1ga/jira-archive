---
title: "[AC-1658] ACS externalAccountLogin - removes capitalisation, and stores Strings all lower-case"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2015-09-15T06:57:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>TCSupportTriage, api</td></tr>
<tr><th>Reporter</th><td>Brian</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2014-08-28T23:10:14.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:38:08.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description </h4>
When using externalAccountLogin and supplying 'first_name', 'last_name' capitalisation is removed, and those strings stored in all lower-case.  Capitalisation is preserved in fields such as 'token' and custom_fields. 


<h4>TEST CODE:</h4>

app.js
<code><pre> 
var Cloud = require('ti.cloud');
var fb = require('facebook');
fb.appid = "FB_App_ID";
fb.permissions = ['publish_stream', 'read_stream'];
 
var win = Ti.UI.createWindow({
	title : "ACS Social Integrations"
});
 
var fbSignupBtn = Ti.UI.createButton({
	title : "Login with Facebook",
	width : 160,
	top : 50
});
win.add(fbSignupBtn);
 
fbSignupBtn.addEventListener('click', function() {
	if (!fb.loggedIn) {
		fb.authorize();
	}
});
 

fb.addEventListener('login', function(e) {
	if (e.success) {
		Cloud.SocialIntegrations.externalAccountLogin({
			type : 'facebook',
			token : fb.accessToken
		}, function(e) {
			if (e.success) {
				var user = e.users[0];
				Ti.API.info('User  = ' + JSON.stringify(user));
				Ti.App.Properties.setString('currentUserId', user.id);
				alert('Success: ' + 'id: ' + user.id + '\\n' + 'first name: ' + user.first_name + '\\n' + 'last name: ' + user.last_name);
			} else {
				alert('Error: ' + ((e.error && e.message) || JSON.stringify(e)));
			}
		});
	} else if (e.error) {
		alert("Error = " + e.error);
	} else if (e.cancelled) {
		alert("canceld");
	}
});
 
win.open();
</pre></code>
 
<h4>STEPS TO TEST:</h4>

- Create a simple project.
- Update app.js with test code
- Add facebook and ti.cloud module
- Enable cloud service
- Run on android device/emulator
  
<h4>Actual Results</h4>
The fields lost the capitalization. 


<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2014-09-19

   </li>
<li>Brian 2014-11-18

   Mauro,
   
   Is there any update on this?  I'm unable to view that status on the Cloud-ticket due to insufficient permissions.
   
   Thanks</li>
<li>Shak Hossain 2015-09-15

   This is an existing bug and we plan to fix it in future releases.</li>
<li>Brian 2015-09-15

   @Shak
   
   What is the existing ticket number?  This ticket has been open for over a year, been assigned to multiple people, and only now being noticed as duplicate?</li>
</ol>


<p><a href="/AC/AC-1658.json">JSON Source</a></p>