---
title: "[AC-1714] moment().startOf('quarter') bugged"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2014-09-04T07:27:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>TCSupportTriage</td></tr>
<tr><th>Reporter</th><td>Michael Stelly</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2014-08-14T17:52:16.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:38:12.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to Reproduce</h4>
Run this code in a test project. Notice that the values for today and quarterToDate are identical.

var moment = require('alloy/moment');

var today = moment();
var monthToDate = moment().startOf('month');
var quarterToDate = moment().startOf('quarter');
var yearToDate = moment().startOf('year');

console.log(' today - moment() = ' + JSON.stringify(today));
console.log('monthToDate - moment().startOf('month') = ' + JSON.stringify(monthToDate));
console.log('quarterToDate - moment().startOf('quarter') = ' + JSON.stringify(quarterToDate));
console.log('yearToDate - moment().startOf('year') = ' + JSON.stringify(yearToDate));

<h4>Actual Result</h4>
[INFO] :   today - moment() = '2014-08-14T17:38:13.789Z'
[INFO] :   monthToDate - moment().startOf('month') = '2014-08-01T04:00:00.000Z'
[INFO] :   quarterToDate - moment().startOf('quarter') = '2014-08-14T17:38:13.789Z'
[INFO] :   yearToDate - moment().startOf('year') = '2014-01-01T05:00:00.000Z'

<h4>Expected Result</h4>
quarterToDate - moment().startOf('quarter') = '2014-07-01T17:38:13.789Z'

<h3>Comments</h3>

<ol>
<li>Michael Stelly 2014-08-15

   Moment.js is not bugged. Alloy uses an outdated version of it.
   
   Executing
   ~~~
   console.log("[alloy] - moment.version = " + JSON.stringify(moment.version));
   ~~~
   will return
   ~~~
   [INFO] :   [alloy] - moment.version = "2.1.0"
   ~~~
   <code>moment().startOf('quarter')</code> apparently wasn't implemented until 2.6.
   
   So, is it possible to convert this bug report to a feature request?</li>
<li>Ed 2014-08-16

   </li>
<li>Michael Stelly 2014-08-18

   If that's the case, then feel free to close.
   Thanks guys.</li>
<li>Mauro Parra-Miranda 2014-09-04

   ALOY-1096</li>
</ol>


<p><a href="/AC/AC-1714.json">JSON Source</a></p>