---
title: "[AC-1803] Android 4.1: Can not play audio stream "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-03-20T14:58:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android, audioPlayerAPIs</td></tr>
<tr><th>Reporter</th><td>Joe Falcone</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2013-03-19T19:37:02.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:40:42.000+0000</td></tr>
</table>

<h3>Description</h3>

Nothing fancy - just passing an URL to createAudioPlayer - this has worked on all of our devices from Android 2.2 thru Android 3 to Android 4.0x.

On Android 4.1+ the player (apparently) times out after trying to connect for something like a minute.  These URLs also fail when used with the built-in MP3 and Audio players on Android 4.1+

The URLs we're using are from Live365 - 
<a href="http://www.live365.com/play/372628" rel="nofollow" target="_blank">http://www.live365.com/play/372628</a>
<a href="http://www.live365.com/play/372475" rel="nofollow" target="_blank">http://www.live365.com/play/372475</a>
	
sound = Ti.Media.createAudioPlayer({
	url : url,
	allowBackground : true
});

<h3>Comments</h3>

<ol>
<li>Carter Lathrop 2013-03-19

   Joe, would you mind providing a simple test case that shows this behavior? Just something that is able to be copied and pasted into an app.js and shows the bug. Once I can reproduce and confirm, I will move to engineering for them to look at.
   
   Thank you,
   Carter</li>
<li>Davide Cassenti 2013-03-20

   Hello,
   
   Tested on Nexus 4, with Android 4.2.2:
   
   <code><pre>
   var url = '<a href="http://www.live365.com/play/372628" rel="nofollow" target="_blank">http://www.live365.com/play/372628</a>';
   
   var sound = Ti.Media.createAudioPlayer({ url : url, allowBackground : true });
   sound.start();
   </pre></code>
   
   I can hear the sound just fine. Let me know if your code is any different.</li>
<li>Joe Falcone 2013-04-12

   There was a difference - I had a preload : true property which I commented out - otherwise my code is the same as in Cassenti's post.
   
   And when I tried to run, it did the same thing as before - spun the activity indicator for about 30 seconds and then completely blew up...
   
   This is on Android 4.1.1 on a Samsung Galaxy Tab connected via WiFi
   
   {noformat}
   04-12 01:35:22.656: W/TiSound(3068): (KrollRuntimeThread) [48631,69475] Issue while initializing : 
   04-12 01:35:22.656: W/TiSound(3068): java.io.IOException: Prepare failed.: status=0x1
   04-12 01:35:22.656: W/TiSound(3068): 	at android.media.MediaPlayer.prepare(Native Method)
   04-12 01:35:22.656: W/TiSound(3068): 	at ti.modules.titanium.media.TiSound.initialize(TiSound.java:124)
   04-12 01:35:22.656: W/TiSound(3068): 	at ti.modules.titanium.media.TiSound.play(TiSound.java:181)
   04-12 01:35:22.656: W/TiSound(3068): 	at ti.modules.titanium.media.AudioPlayerProxy.play(AudioPlayerProxy.java:124)
   04-12 01:35:22.656: W/TiSound(3068): 	at ti.modules.titanium.media.AudioPlayerProxy.start(AudioPlayerProxy.java:117)
   04-12 01:35:22.656: W/TiSound(3068): 	at org.appcelerator.kroll.runtime.v8.V8Object.nativeFireEvent(Native Method)
   04-12 01:35:22.656: W/TiSound(3068): 	at org.appcelerator.kroll.runtime.v8.V8Object.fireEvent(V8Object.java:58)
   04-12 01:35:22.656: W/TiSound(3068): 	at org.appcelerator.kroll.KrollProxy.doFireEvent(KrollProxy.java:694)
   04-12 01:35:22.656: W/TiSound(3068): 	at org.appcelerator.kroll.KrollProxy.handleMessage(KrollProxy.java:918)
   04-12 01:35:22.656: W/TiSound(3068): 	at org.appcelerator.titanium.proxy.TiViewProxy.handleMessage(TiViewProxy.java:310)
   04-12 01:35:22.656: W/TiSound(3068): 	at ti.modules.titanium.ui.TableViewProxy.handleMessage(TableViewProxy.java:861)
   04-12 01:35:22.656: W/TiSound(3068): 	at android.os.Handler.dispatchMessage(Handler.java:95)
   04-12 01:35:22.656: W/TiSound(3068): 	at android.os.Looper.loop(Looper.java:137)
   04-12 01:35:22.656: W/TiSound(3068): 	at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:112)
   {noformat}</li>
<li>Joe Falcone 2013-04-12

   </li>
<li>Mostafizur Rahman 2014-01-20

   Hello,
   
   I tested this issue with the tested code below. I can’t reproduce this issue in latest Ti SDK and android. It’s working fine as we expected. Please check this code in latest Ti SDK and let us know if you have any problem persist. 
   
   <h4>Test Environment</h4>
   Mac OS X 10.8.5
   Ti SDK 3.2.0.GA
   Ti CLI 3.2.0
   Android Device 2.3.3 and 4.2.2 
   
   <h4>Test Code </h4>
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor : 'pink',
   });
    
   var url = '<a href="http://www.live365.com/play/372628" rel="nofollow" target="_blank">http://www.live365.com/play/372628</a>';
    
   var sound = Ti.Media.createAudioPlayer({ url : url, allowBackground : true ,preload : true });
   sound.start();
   win.open();
   </pre></code> 
   
   
   <h4>Step for Test </h4>
   
   <h4>Create a simple test project </h4>
   <h4>Update app.js file to test code </h4>
   <h4>Run on android device </h4>
   <h4>Audio will play automatically </h4>
   
   
   <h4>Actual Result: </h4>
   Audio will play with sound 
   
   <h4>Expected result: </h4>
   Audio will play with sound 
   
   Thanks 
   </li>
<li>Shak Hossain 2014-01-20

   Closing since the issue is not reproducible with 3.2GA. </li>
</ol>


<p><a href="/AC/AC-1803.json">JSON Source</a></p>