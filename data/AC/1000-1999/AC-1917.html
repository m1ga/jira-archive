---
title: "[AC-1917] keyboardToolbar remains on screen after keyboard closed"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2014-01-06T06:49:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jerod Fritz</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2014-01-03T18:00:17.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:40:50.000+0000</td></tr>
</table>

<h3>Description</h3>

The keyboardToolbar remains visible after keyboard is closed.  This happens when a keyboard is shown in a window that is closed without the field being blurred. 

*Steps to Reproduce*: 
<h4>Run app.js code below in iOS simulator (7.0+) using SDK 3.2.0 GA </h4>
<h4>Click 'Open Blue Window' button</h4>
<h4>Click inside the 'toolbar' textfield to open keyboard</h4>
<h4>With the keyboard open click the window's back button to return to the 'Red Window'</h4>
<h4>Click inside the plain textfield </h4>
<h4>Notice that the keyboard toolbar from the other textfield has returned</h4>
<h4>Click 'return' button on keyboard to close the keyboard</h4>

*Expected Results:* The keyboardToolbar is hidden when window is closed and does not appear on susbequent textfields in other windows
*Observed Results:* The keyboard Toolbar remains visible at the bottom of the screen after keyboard has been closed (screenshot attached)


<code><pre>
var win2 = Titanium.UI.createWindow({
    backgroundColor: 'red',
    title: 'Red Window'
});
var textfield1 = Ti.UI.createTextField({
  value : 'plain',
  right: 0
});
win2.add(textfield1);
var win1 = Titanium.UI.iOS.createNavigationWindow({
   window: win2
});

var win3 = Titanium.UI.createWindow({
    backgroundColor: 'blue',
    title: 'Blue Window'
});

var button = Titanium.UI.createButton({
    title: 'Open Blue Window',
    left: 0
});
button.addEventListener('click', function(){
    win1.openWindow(win3, {animated:true});
});

win2.add(button);
var button2 = Titanium.UI.createButton({
    title: 'Close Blue Window',
    left: 0
    
});
button2.addEventListener('click', function(){
    win1.closeWindow(win3, {animated:true});
});
var done = Titanium.UI.createButton({
  title : 'Done',
  style : Titanium.UI.iPhone.SystemButtonStyle.DONE,
});
var textfield2 = Ti.UI.createTextField({
  value : 'toolbar',
  keyboardType : Ti.UI.KEYBOARD_NUMBER_PAD,
  keyboardToolbar : [done],
  right : 0,
});
win3.add(textfield2);
win3.add(button2);
win1.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-1917_44917/iOS Simulator Screen shot Jan 3, 2014, 12.53.18 PM.png">iOS Simulator Screen shot Jan 3, 2014, 12.53.18 PM.png</td></td><td>2014-01-03T18:00:17.000+0000</td><td>31852</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Stephen Feather 2014-01-03

   Most likely a duplicate of (or at least related to) TIMOB-15967</li>
<li>Jerod Fritz 2014-01-03

   </li>
<li>Ritu Agrawal 2014-01-06

   Resolving this ticket as a duplicate of TIMOB-15967. Please track that ticket for further updates.</li>
</ol>


<p><a href="/AC/AC-1917.json">JSON Source</a></p>