---
title: "[AC-1959] Android: Date picker with Holo theme crashes after making a reference to the ActionBar"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-01-24T06:50:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Alex M</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2013-01-09T02:52:06.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:40:53.000+0000</td></tr>
</table>

<h3>Description</h3>

*Steps to reproduce*
Create a Holo-themed app with these tiapp.xml, themes.xml and app.js:

*themes.xml*
<code><pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;style name="LightTheme" parent="@android:style/Theme.Holo.Light"&gt;
    &lt;/style&gt;
&lt;/resources&gt;
</pre></code>

*tiapp.xml*
<code><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ti:app xmlns:ti="<a href="http://ti.appcelerator.org" rel="nofollow" target="_blank">http://ti.appcelerator.org</a>"&gt;
    &lt;id&gt;com.picker&lt;/id&gt;
    &lt;name&gt;Picker&lt;/name&gt;
    &lt;version&gt;1.0&lt;/version&gt;
    &lt;publisher&gt;home_ced&lt;/publisher&gt;
    &lt;url&gt;http://&lt;/url&gt;
    &lt;description&gt;not specified&lt;/description&gt;
    &lt;copyright&gt;2012 by home_ced&lt;/copyright&gt;
    &lt;icon&gt;appicon.png&lt;/icon&gt;
    &lt;persistent-wifi&gt;false&lt;/persistent-wifi&gt;
    &lt;prerendered-icon&gt;false&lt;/prerendered-icon&gt;
    &lt;statusbar-style&gt;default&lt;/statusbar-style&gt;
    &lt;statusbar-hidden&gt;false&lt;/statusbar-hidden&gt;
    &lt;fullscreen&gt;false&lt;/fullscreen&gt;
    &lt;navbar-hidden&gt;false&lt;/navbar-hidden&gt;
    &lt;analytics&gt;true&lt;/analytics&gt;
    &lt;guid&gt;e42a5920-c4b9-4dbb-b2ab-fc5c3e3f6153&lt;/guid&gt;
    &lt;property name="ti.ui.defaultunit" type="string"&gt;system&lt;/property&gt;
    &lt;iphone&gt;
        &lt;orientations device="iphone"&gt;
            &lt;orientation&gt;Ti.UI.PORTRAIT&lt;/orientation&gt;
        &lt;/orientations&gt;
        &lt;orientations device="ipad"&gt;
            &lt;orientation&gt;Ti.UI.PORTRAIT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.UPSIDE_PORTRAIT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.LANDSCAPE_LEFT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.LANDSCAPE_RIGHT&lt;/orientation&gt;
        &lt;/orientations&gt;
    &lt;/iphone&gt;
    &lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
        &lt;tool-api-level&gt;14&lt;/tool-api-level&gt;
        &lt;manifest&gt;
            &lt;application android:theme="@style/LightTheme"/&gt;
        &lt;/manifest&gt;
    &lt;/android&gt;
    &lt;mobileweb&gt;
        &lt;precache/&gt;
        &lt;splash&gt;
            &lt;enabled&gt;true&lt;/enabled&gt;
            &lt;inline-css-images&gt;true&lt;/inline-css-images&gt;
        &lt;/splash&gt;
        &lt;theme&gt;default&lt;/theme&gt;
    &lt;/mobileweb&gt;
    &lt;modules/&gt;
    &lt;deployment-targets&gt;
        &lt;target device="blackberry"&gt;false&lt;/target&gt;
        &lt;target device="android"&gt;true&lt;/target&gt;
        &lt;target device="ipad"&gt;false&lt;/target&gt;
        &lt;target device="iphone"&gt;true&lt;/target&gt;
        &lt;target device="mobileweb"&gt;false&lt;/target&gt;
    &lt;/deployment-targets&gt;
    &lt;sdk-version&gt;3.0.0.GA&lt;/sdk-version&gt;
&lt;/ti:app&gt;
</pre></code>

*app.js*
<code><pre>
var win = Titanium.UI.createWindow({
	fullscreen : false
});

var button = Titanium.UI.createButton({
	title : 'Hello',
	top : 10,
	width : 100,
	height : 50
});

win.add(button);

var picker = Ti.UI.createPicker({
	type : Ti.UI.PICKER_TYPE_DATE
});

win.addEventListener('open', function() {
	var actionBar = win.activity.actionBar;
});

button.addEventListener('click', function(e) {
	picker.showDatePickerDialog();
});

win.open();
</pre></code>

*Log*
<code><pre>
(KrollRuntimeThread) [27525,27525] Sending event: exception on thread: KrollRuntimeThread msg:android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.
</pre></code>

<h3>Comments</h3>

<ol>
<li>Nikhil Sharma 2013-02-05

   Hi Alex,   
   What device have you tested on? I tested it on android 4.1.1 and it's not crashing. Please provide the device name.</li>
<li>Alex M 2013-02-07

   I've tested on two devices : a Nexus S running 4.1.2 and a Galaxy SII running 4.0.3. I didn't crash on Galaxy Nexus (4.2)</li>
<li>Ritu Agrawal 2014-01-23

   Reopening it to test with 3.2.0 release.</li>
<li>Ritu Agrawal 2014-01-23

   I tried to reproduce this issue with Nexus S running Android 4.1.2 but was not able to reproduce. Its working as expected. Please let us know if this is still an issue for you with the latest release 3.2.0 GA.</li>
<li>Markus 2014-04-08

   I have the same issue,
   this exception only raised on hardware devices.
   
   The emulator works well.
   
   My environment is Titanium 3.2.2. and my Hardware devices are
   Nexus 5 and Samsung Galaxy S4
   both Crash.
   
   Steps to reproduce
   1. Focus Textarea
   2. Type something in the textarea
   3. click on another View to open showTimePickerDialog
   
   Result
   [ERROR][TiApplication(17350)] (KrollRuntimeThread) [16699,100845] Sending event: exception on thread: KrollRuntimeThread msg:android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.; Titanium 3.2.2,2014/03/05 12:22,96e9a07
   [ERROR][TiApplication(17350)] android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views. 
   
   
   Let me know if you need a code example.
   
   </li>
<li>Markus 2014-04-08

   I have the same issue,
   this exception only raised on hardware devices.
   
   The emulator works well.
   
   My environment is Titanium 3.2.2. and my Hardware devices are
   Nexus 5 and Samsung Galaxy S4
   both Crash.
   
   Steps to reproduce
   1. Focus Textarea
   2. Type something in the textarea
   3. click on another View to open showTimePickerDialog
   
   Result
   [ERROR][TiApplication(17350)] (KrollRuntimeThread) [16699,100845] Sending event: exception on thread: KrollRuntimeThread msg:android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.; Titanium 3.2.2,2014/03/05 12:22,96e9a07
   [ERROR][TiApplication(17350)] android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views. 
   
   
   Let me know if you need a code example.
   </li>
<li>Ritu Agrawal 2014-04-23

   [~m.bahl] Please provide us a test case to reproduce your error as we cannot reproduce this issue with the original test case.</li>
</ol>


<p><a href="/AC/AC-1959.json">JSON Source</a></p>