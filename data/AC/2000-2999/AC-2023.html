---
title: "[AC-2023] iOS: Layout horizontal adds space to the top and bottom of inner elements"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-05-29T18:39:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>triage</td></tr>
<tr><th>Reporter</th><td>Eric Wooley</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2013-05-13T02:20:22.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:40:58.000+0000</td></tr>
</table>

<h3>Description</h3>

*Problem description*
I have a view set to layout horizontal, I then add 7 views which are layout vertical and have widths of '33%'. This works great on android but on iphone the spaces spaces between each row huge. Maybe there is something obvious I am missing? It seems like this would be pretty basic. 

It was recommended that I make a bug report here [<a href="http://developer.appcelerator.com/question/152272/ios--alloy-layout-horizontal-adds-space-to-the-top-and-bottom-of-inner-elements" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/152272/ios--alloy-layout-horizontal-adds-space-to-the-top-and-bottom-of-inner-elements</a>]

Here is a picture of the iOS and Android render. [<a href="http://i.imgur.com/6Gx7b1U.png" rel="nofollow" target="_blank">http://i.imgur.com/6Gx7b1U.png</a>] (also attached)

I have a View set in an alloy xml view
<code><pre> 
&lt;!-- AddAlarm.xml --&gt;
&lt;Alloy&gt;
    &lt;Window class='container' id="win"&gt;
        &lt;ScrollView&gt;
            &lt;Label class='header'&gt;Add New Alarm&lt;/Label&gt;
            &lt;View id="overview"&gt;
                &lt;TextField hintText="Alarm Name" borderStyle="Ti.UI.INPUT_BORDERSTYLE_ROUNDED" id="alarm_name" /&gt;
                &lt;View class='form' id='form'&gt; &lt;/View&gt;
                &lt;View id="repeat"&gt;
                                &lt;/View&gt;
                &lt;Button onClick="close" id="create_alarm"&gt;Add Alarm&lt;/Button&gt;
                &lt;Button onClick="close" class='pink' id="cancel_alarm"&gt;Cancel&lt;/Button&gt;
            &lt;/View&gt;
        &lt;/ScrollView&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code> 
and here is the relevant part of the tss
<code><pre> 
// AddAlarm.tss
"#repeat":{
    width: Ti.UI.FILL
    ,height: Ti.UI.SIZE
    ,left: '10dip'
    ,right: '10dip'
    ,layout:'horizontal'
 
},
</pre></code>
This is the function which generates the views with the switches in them (from my utils)
<code><pre>
// lib/tools.js
module.exports = (function(){
    return {
        /**
         * Creates a checkbox which can be used on android or anything else.
         * @param {Object} specs
         * Object which holds the specs to be defined.
         */
        createCheckbox: function(specs) {
            var is_android = Ti.Platform.osname == 'android';
            if(typeof specs != "object")
                specs = {};
            var checkbox;
                checkbox = Ti.UI.createSwitch({
                    style : is_android?Ti.UI.Android.SWITCH_STYLE_CHECKBOX:null,
                    value : false,
                    height : Ti.UI.SIZE,
                    width : Ti.UI.SIZE
                });
 
            var view = Ti.UI.createView({
                height: specs.height || Ti.UI.SIZE,
                width: specs.width || Ti.UI.SIZE,
                layout: specs.layout || 'vertical',
                top: specs.top || '0dip',
                bottom: specs.bottom || '0dip',
                backgroundColor:'red'
            });
 
            if(specs.label){
                if(typeof specs.label == 'string'){
                    var lbl = Ti.UI.createLabel({
                        height: Ti.UI.SIZE,
                        width: Ti.UI.SIZE,
                        text: specs.label,
                        color: 'black',
                        font: {fontSize: '15dip'}
                    });
                    view.add(lbl);
                    // view.label = lbl;
                }
                else{
                    view.add(specs.label);
                }
            }
            view.checked = false;
            view.add(checkbox);
 
            function togglecheck () {
                if(!view.checked) {
                    view.checked = true;
                }
                else {
                    view.checked = false;
                }           
            };
            view.addEventListener('change', togglecheck);
 
            return view;
        },
// ....
</pre></code>
Here is the adding of the views with the switches in them.
<code><pre> 
// AddAlarm.js
ch_sun = utils.createCheckbox({label:" Sunday", width:'33%'});
ch_mon = utils.createCheckbox({label:" Monday", width:'33%'});
ch_tue = utils.createCheckbox({label:" Tuesday", width:'33%'});
ch_wed = utils.createCheckbox({label:" Wednesday", width:'33%'});
ch_thu = utils.createCheckbox({label:" Thursday", width:'33%'});
ch_fri = utils.createCheckbox({label:" Friday", width:'33%'});
ch_sat = utils.createCheckbox({label:" Saturday", width:'99%'});
 
$.repeat.add(ch_sun);
$.repeat.add(ch_mon);
$.repeat.add(ch_tue);
$.repeat.add(ch_wed);
$.repeat.add(ch_thu);
$.repeat.add(ch_fri);
$.repeat.add(ch_sat);
</pre></code>

Sorry for any formatting errors, It's my first time submitting something here. I realize it may be hard to read the code on this, so I uploaded the whole project to github [<a href="https://github.com/5wooley4/RemindMe-Chain/tree/master/app" rel="nofollow" target="_blank">https://github.com/5wooley4/RemindMe-Chain/tree/master/app</a>]

*Workaround*
I discovered a workaround, and part of the cause. The bug was only happening when there was a label added to the view with the switch in it (generated in tools.js). I changed the height of label from Ti.UI.SIZE to '20dip', and it worked normally on ios.
<code><pre>
// tools.js
//................
                                        var lbl = Ti.UI.createLabel({
						height:'20dip',
						width: Ti.UI.SIZE,
						text: specs.label,
						color: 'black',
						font: {fontSize: '15dip'}
					});
					view.add(lbl);
// ...................
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-2023_38386/Screen Shot 2013-05-12 at 10.32.49 AM.png">Screen Shot 2013-05-12 at 10.32.49 AM.png</td></td><td>2013-05-13T02:20:23.000+0000</td><td>62692</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Daniel Sefton 2013-05-29

   Supplied project is using 3.0.0 GA. This bug is fixed in 3.0.2 GA and above. Tested in iOS 6 simulator.</li>
</ol>


<p><a href="/AC/AC-2023.json">JSON Source</a></p>