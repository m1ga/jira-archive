---
title: "[AC-2051] alloy/measurement pxToDP returns the same value on Android"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-02-03T17:34:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy, Appcelerator Modules</td></tr>
<tr><th>Labels</th><td>alloy, android, builtins, measurement, regression</td></tr>
<tr><th>Reporter</th><td>Emanuele Salamone</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2014-02-03T10:28:49.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:00.000+0000</td></tr>
</table>

<h3>Description</h3>

Using the function pxToDP on Titanium.Platform.displayCaps.platformWidth, on an Android Galaxy Nexus should return 360 (in dp).
Instead it's returning 720, that is the original pixel value.
I used the same module on previous Alloy versions and it worked.

<h3>Comments</h3>

<ol>
<li>Manuel Lehner 2014-02-03

   Can't reproduce.
   I've just tested this on my Nexus 5 with this code (same environment):
   <code><pre>
   var measurement = require('alloy/measurement');
   Ti.API.info('dpWidth: ' + measurement.pxToDP(Ti.Platform.displayCaps.platformWidth));
   </pre></code>
   It returned 360 as expected.</li>
<li>Emanuele Salamone 2014-02-03

   You're right, your code returns the expected result even to me (i made a new test project to test it).
   However, the usage inside my project returns the wrong result, and i'm not doing much more.
   I'll try to isolate the bug and be more detailed.</li>
<li>Emanuele Salamone 2014-02-03

   Nope, can't manage to understand what's happening.
   The same code that's working on the test project doesn't work when copied on my real project index.js.
   Additional info: i recently switched from Titanium 3.1.3 to Titanium 3.2.0, and it worked before.
   I don't know if this switch can somehow interfere with paths or other things.</li>
<li>Emanuele Salamone 2014-02-03

   Last comment:
   i copied my WHOLE project inside the test project folder.
   I compiled and then it worked, so i guess my project was somehow in a "dirty" state.
   
   Sorry for the false issue!
   Thanks for your help!</li>
<li>Ritu Agrawal 2014-02-03

   Closing on the basis of last comment by the reporter.</li>
<li>Guile 2014-03-20

   I've just had the same problem (a 3.1 project migrated to 3.2) and I found a nicer solution :
   Remove the "Resources" directory, and recompile it, it solves the problem for me. </li>
<li>Guile 2014-03-20

   I've just had the same problem (a 3.1 project migrated to 3.2) and I found a nicer solution :
   Remove the "Resources" directory, and recompile it, it solves the problem for me (Clean project doesn't solve it!)</li>
<li>Manuel Lehner 2015-07-03

   Just faced this issue too! Strange thing. Suggested solution solved it for me too</li>
</ol>


<p><a href="/AC/AC-2051.json">JSON Source</a></p>