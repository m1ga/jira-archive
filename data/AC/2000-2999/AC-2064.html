---
title: "[AC-2064] No success or error callbacks after registering for push notifications on iOS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-04-04T23:24:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>APNS, Notifications, Push, ios</td></tr>
<tr><th>Reporter</th><td>Tim Keir</td></tr>
<tr><th>Assignee</th><td>Mostafizur Rahman</td></tr>
<tr><th>Created</th><td>2013-03-04T02:27:42.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:01.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm unable to receive any callbacks (not success nor error) when registering an iOS device for Push Notifications within Titanium Mobile.

I've generated my Development and Production Push SSL Certificates within iOS Provisioning Portal. The App ID doesn't use a wildcard. I'm testing on physical devices and not the Simulator.

When calling Ti.Network.registerForPushNotifications() I'm successfully seeing the Allow/Deny alert prompt however when clicking Allow I see no Success or Error callbacks fired. This of course means I can't obtain the deviceToken!

Clicking Allow successfully adds the app under the Notifications section of Settings of course without the deviceToken that's useless.

<code><pre>
Ti.Network.registerForPushNotifications({
    types: [Ti.Network.NOTIFICATION_TYPE_BADGE,
        Ti.Network.NOTIFICATION_TYPE_ALERT,
        Ti.Network.NOTIFICATION_TYPE_SOUND],
    success: function(e) {
        Ti.API.info("PUSH SUCCESS: token = "+e.deviceToken);
        var deviceToken = e.deviceToken;
    },
    error: function(e) {
        Ti.API.info("PUSH FAILED");
    },
    callback: function(e) {
        // Ignoring for now...
    }
});
</pre></code>

<h3>Comments</h3>

<ol>
<li>Tim Keir 2013-04-08

   For future reference this occurs when the required ports are closed behind a Firewall. Specifically port 5223. More info here: 
   <a href="http://support.apple.com/kb/TS4264?viewlocale=en_US" rel="nofollow" target="_blank">http://support.apple.com/kb/TS4264?viewlocale=en_US</a>
   
   This is most likely to occur when testing on WiFi only iPads as iOS will opt to use a Cellular Data Connection when available to bypass such issues (even when connected to Wifi).
   
   You should probably update the documentation to reflect this as there's currently no feedback indicating this.
   <a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/api/Titanium.Network</li>
</ol>


<p><a href="/AC/AC-2064.json">JSON Source</a></p>