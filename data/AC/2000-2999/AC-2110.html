---
title: "[AC-2110] StreamException"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2013-03-06T20:54:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Michel Anderson Lutz</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2013-03-05T15:05:34.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:05.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to Reproduce</h4>
Is a photo taken with the application uploading is done p and the following code is executed

var io = require('socket.io-titanium');
var socket = io.connect('http://....');
//socket.send('hello world!!');
socket.on('news', function (message){});
var data = {
'room' : 1,
'message': 'mobitxt'
};
Ti.API.info('---> datadd' + data);
socket.emit('emit',data);

action of the socket is made successfully on site

The cell goes into standby mode (unlock) to re-use the phone with the app still open below the error appears. as attached image

<h4>Actual Result</h4>
An error occurs after data transmission, everything is well emit is done successfully, but after a few seconds without activity on the app an error screen appears with the information:

StreamException. Stream is not writable in -TiStreamProxy write:
Feb 21 15:36:58 iPhone-Michel catacao[13898] : [ERROR] Script Error = StreamException. Stream is not writable in -TiStreamProxy write: at ti-websocket-client.js (line 1).

Console log device:

Mar  5 11:50:57 iPhone-Michel profiled[36346] <Notice>: (Note ) profiled: Service starting...
Mar  5 11:50:57 iPhone-Michel profiled[36346] <Notice>: (Note ) profiled: Recomputing passcode requirement message
Mar  5 11:50:58 iPhone-Michel catacao[36316] <Warning>: [ERROR] StreamException. Stream is not writable  in -[TiStreamProxy write:] (TiStreamProxy.m:66)
Mar  5 11:50:58 iPhone-Michel catacao[36316] <Warning>: PBRequester failed with Error Error Domain=NSURLErrorDomain Code=-1001 "The request timed out." UserInfo=0x1d8892d0 {NSErrorFailingURLStringKey=<a href="https://gsp10-ssl.apple.com/use" rel="nofollow" target="_blank">https://gsp10-ssl.apple.com/use</a>, NSErrorFailingURLKey=<a href="https://gsp10-ssl.apple.com/use" rel="nofollow" target="_blank">https://gsp10-ssl.apple.com/use</a>, NSLocalizedDescription=The request timed out., NSUnderlyingError=0x1c51c5d0 "The request timed out."}
Mar  5 11:50:58 iPhone-Michel catacao[36316] <Warning>: [ERROR] Script Error = StreamException. Stream is not writable  in -[TiStreamProxy write:] (TiStreamProxy.m:66) at ti-websocket-client.js (line 1).
Mar  5 11:50:58 iPhone-Michel catacao[36316] <Warning>: [ERROR] Attempt to close in invalid state: 16.   in -[TiNetworkSocketTCPProxy close:] (TiNetworkSocketTCPProxy.m:380)
Mar  5 11:51:43 iPhone-Michel backboardd[26] <Notice>: ALS: SetDisplayFactor: factor=0.0500
Mar  5 11:51:57 iPhone-Michel profiled[36346] <Notice>: (Note ) profiled: Idled.
Mar  5 11:51:57 iPhone-Michel profiled[36346] <Notice>: (Note ) profiled: Service stopping.

Is there any procedure to be done or the error occurs due to bug?

code:

var io = require('socket.io-titanium');
var socket = io.connect('http://....');
//socket.send('hello world!!');
socket.on('news', function (message){});
var data = {
'room' : 1,
'message': 'mobitxt'
};
Ti.API.info('---> datadd' + data);
socket.emit('emit',data);

<h4>Expected Result</h4>
no error

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2110_35897/1c994666-7c56-11e2-8599-58814d22d767.PNG">1c994666-7c56-11e2-8599-58814d22d767.PNG</td></td><td>2013-03-05T15:09:54.000+0000</td><td>86752</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2110_35898/Captura de Tela 2013-03-05 às 12.10.07.png">Captura de Tela 2013-03-05 às 12.10.07.png</td></td><td>2013-03-05T15:10:38.000+0000</td><td>233870</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Michel Anderson Lutz 2013-03-05

   Device Error</li>
<li>Michel Anderson Lutz 2013-03-05

   console Error</li>
<li>Carter Lathrop 2013-03-06

   Michel, Would you mind providing a full test case that shows this issue. One that may be pasted into an app.js and reproduces this issue? Once I can reproduce and verify then I can pass along to Engineering. Thank you,
   Carter</li>
</ol>


<p><a href="/AC/AC-2110.json">JSON Source</a></p>