---
title: "[AC-2115] Android: HttpClient file uploads result in different MIME encoding than iOS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2013-12-23T01:10:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android, httpclient</td></tr>
<tr><th>Reporter</th><td>Vance Lucas</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2013-10-02T17:39:25.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:05.000+0000</td></tr>
</table>

<h3>Description</h3>

I have created a Gist to demonstrate this issue:

<a href="https://gist.github.com/vlucas/6796953" rel="nofollow" target="_blank">https://gist.github.com/vlucas/6796953</a>

The end result is that the MIME envelope that Android sends cannot be parsed or decoded by PHP, while the same code run on iPhone can be decoded by PHP and works as expected.

<h3>Comments</h3>

<ol>
<li>Mostafizur Rahman 2013-10-09

   Hello Vance Lucas,
   
   Please check your by removing <code><pre> c.setRequestHeader('Content-Type', 'multipart/form-data');</pre></code>
   
   It’s working for me and I hope it’s solved your problem. 
   
   Thanks
   </li>
<li>Vance Lucas 2013-10-09

   That does work for me actually (Thanks!), but I still think this issue itself is a bug since it is the correct content-type to send, and it works flawlessly on iOS. It is a surprising behavior, and very unexpected on Android, which is what led me to believe it was a bug in the Android implemenation.</li>
<li>Vance Lucas 2013-10-10

   This is very clearly reproducible! It only doesn't happen if you don't send any Content-Type header at all. This is a difference from how it is handled on iOS with the same exact code, and WILL confuse users (like me). PLEASE reconsider actually fixing this to work the same on both platforms as it should.</li>
<li>Ritu Agrawal 2013-12-23

   Reopening this ticket as we can reproduce this issue with Android platform.</li>
<li>Ritu Agrawal 2013-12-23

   Thanks for reporting this issue. Resolving this ticket as a duplicate as this issue is already covered by existing tickets (TIMOB-15510 and TIMOB-15514). Please watch these two tickets for further updates.</li>
</ol>


<p><a href="/AC/AC-2115.json">JSON Source</a></p>