---
title: "[AC-2117] Alloy compilation fails if tss has expr function"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-02-19T16:18:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Vinothbabu</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2013-02-05T14:43:42.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:05.000+0000</td></tr>
</table>

<h3>Description</h3>

<a href="http://pastie.org/private/gigutdvlml8zjzjc3pc0g" rel="nofollow" target="_blank">http://pastie.org/private/gigutdvlml8zjzjc3pc0g</a>

Upon compiling this tss file, we get the following error below. The tss is perfectly valid. 

[INFO] logfile = D:\My-Projects\Mobile\Guhah\dsd\build.log
[INFO] Building dsd for Android ... one moment
[INFO] plugin=C:\Users\vinothb\AppData\Roaming\Titanium\plugins\ti.alloy\1.0\plugin.py
[INFO] Detected compiler plugin: ti.alloy/1.0
[ERROR] Application Installer abnormal process termination. Process exit value was 1
[INFO] alloy app found at D:\My-Projects\Mobile\Guhah\dsd\app
[INFO] Executing Alloy compile:
[INFO]   alloy.cmd compile D:\My-Projects\Mobile\Guhah\dsd\app --no-colors --config platform=android,version=8,simtype=none,devicefamily=none,deploytype=development,
       .__  .__                
_____  |  | |  |   ____ ___.__.
\__  \ |  | |  |  /  _ <   |  |
 / __ \|  |_|  |_(  <_> )___  |
(____  /____/____/\____// ____|
     \/                 \/
[ERROR] Error processing style "D:\My-Projects\Mobile\Guhah\dsd\app\styles\index.tss"
[ERROR] Alloy compile failed

<h3>Comments</h3>

<ol>
<li>Eduardo Gomez 2013-02-18

   </li>
<li>Vinothbabu 2013-02-19

   the expr function is referenced via the styles for calculation. for instance, top:expr((((Ti.Platform.displayCaps.platformHeight * 0.95) * 0.1) * 0.18)). the value of top is calculated something like this, because we are not able to directly call the Ti.Platform.displayCaps.platformHeight. </li>
<li>Vinothbabu 2013-02-19

   I see the problem now, <a href="https://github.com/appcelerator/alloy/commit/e9fdc93c9760a1590c0abd0136662c11dc678066#commitcomment-2401085." rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/commit/e9fdc93c9760a1590c0abd0136662c11dc678066#commitcomment-2401085.</a> I just got to tony's comment and it seems tss would not perform any calculation. 
   
   height:expr(Ti.Platform.displayCaps.platformHeight * 0.075) // would fail. 
   height:Ti.Platform.displayCaps.platformHeight * 0.075 // would also fail. 
   
   </li>
<li>Eduardo Gomez 2013-02-19

   </li>
<li>Shak Hossain 2013-12-28

   Hi Vinothbabu,
   
   Now that the documentation has been updated, please let me know if we can close this ticket.
   
   </li>
<li>Mostafizur Rahman 2013-12-31

   </li>
<li>Shak Hossain 2014-01-15

   Closing since we have not heard back from the reporter and the issue can't be reproduced.</li>
</ol>


<p><a href="/AC/AC-2117.json">JSON Source</a></p>