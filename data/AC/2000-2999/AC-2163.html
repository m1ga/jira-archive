---
title: "[AC-2163] MaskedImage does not work in ListView template on device"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-10-20T14:51:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Michael Descher</td></tr>
<tr><th>Assignee</th><td>Eric Wieber</td></tr>
<tr><th>Created</th><td>2013-10-17T18:30:47.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:08.000+0000</td></tr>
</table>

<h3>Description</h3>

When using a MaskedImage in a ListView template all works fine in the simulator. On the actual device however the app crashes with a class not found error. I attached a simple test case which shows the problem (you have to add a test.png image to to project). It works fine in the simulator but crashes on the iPhone 5S with iOS 7.0.2. Also attached the logs from the device.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2163_43271/app.js">app.js</td></td><td>2013-10-17T18:30:47.000+0000</td><td>516</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2163_43272/crashlog.txt">crashlog.txt</td></td><td>2013-10-17T18:30:47.000+0000</td><td>36365</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2163_43273/log.txt">log.txt</td></td><td>2013-10-17T18:30:47.000+0000</td><td>3727</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Michael Descher 2013-10-19

   Seems to be some class loading issue. I added the call "Titanium.UI.createMaskedImage()" as the very first line in my app and that made it work.</li>
<li>Mostafizur Rahman 2013-10-20

   Hello Michael Descher,
   
   Is it working well in your device? 
   Thanks </li>
<li>Michael Descher 2013-10-20

   Yes, when I add an explicit createMaskedImage call in the app before the ListView uses the MaskedImage in the template it works fine on my iPhone 5s with iOS 7.0.2.</li>
<li>Jong Eun Lee 2013-12-24

   I added added the call "Titanium.UI.createMaskedImage()" as the very first line in my app and that made it work.
   
   But it is a bug, isn't it?
   
   Please fix this bug.
   I was struggling to find the reason. I hope that there is no person to make it work.
   </li>
<li>Eric Wieber 2013-12-26

   Hi Jong,
   
   This is not a bug but is as designed. Using createMaskedImage() is the correct way to use masked images.
   When apps are run on the simulator, many more libraries and resources are loaded than if the app is run on a device (which only loads the resources you specify). These resources allow for the masked images to work as called in the above sample, however using a string for masked images in a template is still not supported with devices.
   So, to have your apps work correctly on simulators and devices, use createMaskedImage().
   
   I hope that helps make things a little clearer. Please let me know if you still have questions.</li>
</ol>


<p><a href="/AC/AC-2163.json">JSON Source</a></p>