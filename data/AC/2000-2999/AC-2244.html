---
title: "[AC-2244] ACS Not delivering push notifications in production or development"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-01-07T05:56:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chad Stachowicz</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2014-01-04T17:28:51.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:14.000+0000</td></tr>
</table>

<h3>Description</h3>

No changes made to app, since January 1st push notifications are not delivered to any endpoints.  The logs all show the correct data in ACS, except that it shows it was never sent to ANY devices.  This includes using the web console to send a test to ALL DEVICES.  I can see my devices registering just fine.  This needs to be fixed immediatly since its affecting production apps which have been in the store for months!!

if(Titanium.Platform.osname == 'iphone' || Titanium.Platform.osname == 'ipad'){
        Titanium.Network.registerForPushNotifications({
                                    types: [
                                Titanium.Network.NOTIFICATION_TYPE_BADGE,
                                Titanium.Network.NOTIFICATION_TYPE_ALERT
                                    ],
    success:function(e)
    {
        var deviceToken = e.deviceToken;
        Cloud.Users.login({
            login: 'username',
            password: 'password'
        }, function (e) {
            if (e.success) {
        Cloud.PushNotifications.subscribe({
                        channel: 'alert',
                        type:'ios',
                        device_token: deviceToken
                        }, function (e) {
                                if (e.success) {
                                        var env = 'development';
                                         if(Ti.App.Properties.getString('production')=='true'){
                                                 env = 'production';
                                         }
                                var postData = {'token': deviceToken,
                                                'model' : escape(Titanium.Platform.model),
                                                'os': escape(Titanium.Platform.osname),
                                                'name': escape(Titanium.Platform.model),
                                                'environment': env};
                                request = postRegisterDevice(Titanium.App.Properties.getString("mmat"),postData);
                                request.onload = function()
                                {
                                        };
                                        request.send(postData);
                                } else {
                                        alert('Error:\\n' + ((e.error && e.message) || JSON.stringify(e)));
                                }
                        });
            } else {
              //  alert('Error:\\n' +((e.error && e.message) || JSON.stringify(e)));
            }
        });
        Ti.API.info("Push notification device token is: "+deviceToken);
        Ti.API.info("Push notification types: "+Titanium.Network.remoteNotificationTypes);
        Ti.API.info("Push notification enabled: "+Titanium.Network.remoteNotificationsEnabled);
        },
                    error:function(e)
                            {
                           
 
                            },
                    callback:function(e)
                        {
                            alert("notification received");
                       }                
 
                });
}
}

<h3>Comments</h3>

<ol>
<li>Chad Stachowicz 2014-01-04

   I also just re-created a new Push Cert for production even though it had 28 days till it expired (Jan 28th, 2014), uploaded it to ACS, and no difference.  Can someone please answer, the app has been on the store since November 28th!!
   </li>
<li>Ritu Agrawal 2014-01-05

   [~chadstachowicz] There was an issue with Android MQTT push notification service for a brief duration earlier this week but your code snippet suggests you are running into this issue on iOS platform. Can you please confirm the same? 
   
   Please send your App Key and Device ID to ragrawal@appcelerator.com privately so that we can diagnose this issue further.</li>
<li>Ritu Agrawal 2014-01-07

   Resolving this ticket as the reporter confirmed in an email that the push notification service is working fine for him now.</li>
</ol>


<p><a href="/AC/AC-2244.json">JSON Source</a></p>