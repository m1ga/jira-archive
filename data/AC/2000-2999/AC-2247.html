---
title: "[AC-2247] iOS: (3.2.0) attributedString doesn't work properly with TextField and passwordMask"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2013-12-04T18:12:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>attributedString, iphone, passwordmask, textfield, triage</td></tr>
<tr><th>Reporter</th><td>Matej</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2013-12-03T14:34:46.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:15.000+0000</td></tr>
</table>

<h3>Description</h3>

attributedString doesn't work properly with TextField that has passwordMask.

<h4>Steps to reproduce:</h4>
- Start the application
- Click (Focus) second TextField with password.
- Click (Focus) first TextField without passwordMask property
- *TextField with password will lose its style*

*index.tss*
<code><pre>
"Window":{
	backgroundColor: "black"
}

"TextField":{
	width: 300, height: 40,
	top: 10,
	backgroundColor: "#B2B2B2",
	borderColor: "red"
}
</pre></code>

*index.xml*
<code><pre>
&lt;Alloy&gt;
    &lt;Window id="win"&gt;
    	&lt;View width="Ti.UI.FILL" height="Ti.UI.SIZE" top="100" layout="vertical"&gt;
	    	&lt;TextField id="textField_1"/&gt;
	    	&lt;TextField id="textField_2" passwordMask="true"/&gt;
    	&lt;/View&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

*index.js*
<code><pre>
var text = "text";

$.textField_1.attributedString = Ti.UI.iOS.createAttributedString({
	text: text,
	attributes: [
		{
			type: Ti.UI.iOS.ATTRIBUTE_FOREGROUND_COLOR,
			value: "white",
			range: [0, text.length]
		}
	]
});
 

$.textField_2.attributedString = Ti.UI.iOS.createAttributedString({
	text: text,
	attributes: [
		{
			type: Ti.UI.iOS.ATTRIBUTE_FOREGROUND_COLOR,
			value: "white",
			range: [0, text.length]
		}
	]
});

$.win.open();
</pre></code>



<h3>Comments</h3>

<ol>
<li>Pedro Enrique 2013-12-04

   This is an iOS issue as demonstrated in this native iOS code: <a href="http://pastie.org/8528800" rel="nofollow" target="_blank">http://pastie.org/8528800</a>
   
   <h4>Workaround:</h4>
   Create a new attributed string on textfield blur
   <code><pre>
   var win = Ti.UI.createWindow({
   	backgroundColor: '#fff'
   });
   
   var text = "text";
   
   function FieldAttribute(_text) {
   	return  Ti.UI.iOS.createAttributedString({
   	    text: _text,
   	    attributes: [
   	        {
   	            type: Ti.UI.iOS.ATTRIBUTE_FOREGROUND_COLOR,
   	            value: "white",
   	            range: [0, _text.length]
   	        }
   	    ]
   	});
   }
   
   var textField = Ti.UI.createTextField({
   	width: 300, height: Ti.UI.SIZE, top: 100,
       backgroundColor: '#B2B2B2',
       borderColor: 'red',
       passwordMask: true,
       attributedString: FieldAttribute(text)
   });
   
   win.add(textField);
   
   win.open();
   
   textField.addEventListener('blur', function(e){
   	textField.attributedString = FieldAttribute(e.value);
   });
   
   </pre></code></li>
<li>Matej 2013-12-05

   Hi Pedro, thanks for workaround ,but I have another problem. Try to change a little bit attributes:
   
   <code><pre>
   attributes: [
   			{
   				type: Ti.UI.iOS.ATTRIBUTE_FOREGROUND_COLOR,
   				value: "white",
   				range: [0, text.length]
   			},
   			{
   				type: Ti.UI.iOS.ATTRIBUTE_FONT,
   				value: {fontSize: 10, fontFamily: "Avenir-Medium"},
   				range: [0, text.length]
   			}
   		]
   </pre></code>
   
   and font will change also its size. I have tried to make workaround using focus&blur events ,but unsuccessfully. Can you help me with that please? Thanks</li>
<li>Matej 2013-12-11

   </li>
<li>Shak Hossain 2014-01-15

   </li>
<li>Matej 2014-01-16

   </li>
</ol>


<p><a href="/AC/AC-2247.json">JSON Source</a></p>