---
title: "[AC-2300] Android: Problem with Annotation rightView"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2013-07-23T22:00:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android, annotations, view</td></tr>
<tr><th>Reporter</th><td>Armindo Da Silva</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2013-06-14T08:21:41.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:18.000+0000</td></tr>
</table>

<h3>Description</h3>

*Problem*
When using rightView property annotation, when clearing all annotations, it seems that on Android, it deletes the view as well, so next time you update the annotation (by recreating them), when you click on annotations it crashes the app.

*Test case*
<code><pre>
var annotView = Titanium.UI.createView({
	height : '32dp',
	width : '70dp'
});

function createAnnotations() {
	// then a loop for creating annotations
	for (var i = 0; i &lt; annot.length; i++) {
		// some stuff here
		var annotation = Titanium.Map.createAnnotation({
			latitude : lat,
			longitude : lon,
			title : myTitle,
			subtitle : myTitle,
			animate : true,
			leftButton : '/images/myImg.png',
			dataId : i,
			rightView : annotView
		});
		// some stuff here
	};
};

// call createAnnotations();
</pre></code>

Now you can click the annotations and it works fine.

Then you clear all annotations and call createAnnotations() again.
If you click on an annotation it crashes the app.

This code works fine on iOS.

<h3>Comments</h3>

<ol>
<li>Daniel Sefton 2013-07-11

   Hi Armindo,
   
   It would help a lot if you could edit your test case to be runnable in a project so that we can easily reproduce the crash.
   
   Thanks!</li>
</ol>


<p><a href="/AC/AC-2300.json">JSON Source</a></p>