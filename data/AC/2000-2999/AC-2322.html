---
title: "[AC-2322] Android: Simple local WebView crashing on Android 2.3.3/5"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-02-09T05:34:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>2.3.3, 2.3.5, android, cs-investigate, triage, webview</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2014-02-04T14:39:36.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:20.000+0000</td></tr>
</table>

<h3>Description</h3>

The following works on Android 2.3.7 but crashes on 2.3.3. I've tested this in the emulator, but the client had the crash on a device running 2.3.5. Same result when using <code>html</code> or <code>url</code>.

<h4>Steps to reproduce</h4>

1. Create app: <code>ti create -p android -n webview --id test.webview -d .</code>
2. Replace <code>app.js</code> with:

    <code><pre>
    var win = Ti.UI.createWindow({
        backgroundColor: '#fff'
    });

    win.add(Ti.UI.createWebView({
        html: 'foo' // url: '<a href="http://google.com" rel="nofollow" target="_blank">http://google.com</a>'
    }));

    win.open();
    </pre></code>

3. Build the app: {{ti build -p android -T emulator -C "Some 2.3.3 emulator"
4. See it showing the web view but then crashing with the logs showing:

<code><pre>
02-04 15:27:27.106: I/ActivityManager(294): Displayed test.webview/org.appcelerator.titanium.TiActivity: +1s786ms (total +5s846ms)
02-04 15:27:27.276: W/dalvikvm(4520): JNI WARNING: jarray 0x405e01e8 points to non-array object (Ljava/lang/String;)
02-04 15:27:27.276: I/dalvikvm(4520): "WebViewCoreThread" prio=5 tid=12 NATIVE
02-04 15:27:27.276: I/dalvikvm(4520):   | group="main" sCount=0 dsCount=0 obj=0x40555bc8 self=0x2ab890
02-04 15:27:27.276: I/dalvikvm(4520):   | sysTid=4538 nice=0 sched=0/0 cgrp=default handle=2919600
02-04 15:27:27.276: I/dalvikvm(4520):   | schedstat=( 355207036 459097043 65 )
02-04 15:27:27.276: I/dalvikvm(4520):   at android.webkit.JWebCoreJavaBridge.sharedTimerFired(Native Method)
02-04 15:27:27.286: I/dalvikvm(4520):   at android.webkit.JWebCoreJavaBridge.sharedTimerFired(Native Method)
02-04 15:27:27.286: I/dalvikvm(4520):   at android.webkit.JWebCoreJavaBridge.fireSharedTimer(JWebCoreJavaBridge.java:91)
02-04 15:27:27.286: I/dalvikvm(4520):   at android.webkit.JWebCoreJavaBridge.handleMessage(JWebCoreJavaBridge.java:108)
02-04 15:27:27.286: I/dalvikvm(4520):   at android.os.Handler.dispatchMessage(Handler.java:99)
02-04 15:27:27.286: I/dalvikvm(4520):   at android.os.Looper.loop(Looper.java:130)
02-04 15:27:27.286: I/dalvikvm(4520):   at android.webkit.WebViewCore$WebCoreThread.run(WebViewCore.java:629)
02-04 15:27:27.286: I/dalvikvm(4520):   at java.lang.Thread.run(Thread.java:1019)
02-04 15:27:27.296: E/dalvikvm(4520): VM aborting
02-04 15:27:27.396: I/DEBUG(3941): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
02-04 15:27:27.396: I/DEBUG(3941): Build fingerprint: 'generic/google_sdk/generic:2.3.4/GINGERBREAD/123630:eng/test-keys'
02-04 15:27:27.396: I/DEBUG(3941): pid: 4520, tid: 4538  >>> test.webview <<<
02-04 15:27:27.396: I/DEBUG(3941): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr deadd00d
02-04 15:27:27.396: I/DEBUG(3941):  r0 fffffec4  r1 deadd00d  r2 00000026  r3 00000000
02-04 15:27:27.396: I/DEBUG(3941):  r4 800a45c0  r5 405e01e8  r6 80085acc  r7 002c8cf0
02-04 15:27:27.396: I/DEBUG(3941):  r8 44fdab58  r9 4471af0c  10 4471aef4  fp 4272d8ec
02-04 15:27:27.396: I/DEBUG(3941):  ip 800a4720  sp 44fda678  lr afd19375  pc 80045a4a  cpsr 20000030
02-04 15:27:28.716: I/DEBUG(3941):          #00  pc 00045a4a  /system/lib/libdvm.so
02-04 15:27:28.716: I/DEBUG(3941):          #01  pc 00037748  /system/lib/libdvm.so
02-04 15:27:28.716: I/DEBUG(3941):          #02  pc 00039a10  /system/lib/libdvm.so
02-04 15:27:28.725: I/DEBUG(3941):          #03  pc 0003a4ec  /system/lib/libdvm.so
02-04 15:27:28.725: I/DEBUG(3941):          #04  pc 0029864e  /system/lib/libwebcore.so
02-04 15:27:28.725: I/DEBUG(3941):          #05  pc 00211d1c  /system/lib/libwebcore.so
02-04 15:27:28.725: I/DEBUG(3941):          #06  pc 001133be  /system/lib/libwebcore.so
02-04 15:27:28.737: I/DEBUG(3941):          #07  pc 002127e8  /system/lib/libwebcore.so
02-04 15:27:28.737: I/DEBUG(3941):          #08  pc 002c6de6  /system/lib/libwebcore.so
02-04 15:27:28.758: I/DEBUG(3941):          #09  pc 002ca13e  /system/lib/libwebcore.so
02-04 15:27:28.766: I/DEBUG(3941):          #10  pc 002d8028  /system/lib/libwebcore.so
02-04 15:27:28.766: I/DEBUG(3941):          #11  pc 002cf760  /system/lib/libwebcore.so
02-04 15:27:28.776: I/DEBUG(3941):          #12  pc 0020fd0c  /system/lib/libwebcore.so
02-04 15:27:28.776: I/DEBUG(3941):          #13  pc 0020fd8a  /system/lib/libwebcore.so
02-04 15:27:28.796: I/DEBUG(3941):          #14  pc 0020fdf8  /system/lib/libwebcore.so
02-04 15:27:28.796: I/DEBUG(3941):          #15  pc 001e7e4e  /system/lib/libwebcore.so
02-04 15:27:28.806: I/DEBUG(3941):          #16  pc 0007eae2  /system/lib/libwebcore.so
02-04 15:27:28.816: I/DEBUG(3941):          #17  pc 0007eb8c  /system/lib/libwebcore.so
02-04 15:27:28.816: I/DEBUG(3941):          #18  pc 0011b21e  /system/lib/libwebcore.so
02-04 15:27:28.816: I/DEBUG(3941):          #19  pc 00017d74  /system/lib/libdvm.so
02-04 15:27:28.816: I/DEBUG(3941):          #20  pc 00048f08  /system/lib/libdvm.so
02-04 15:27:28.826: I/DEBUG(3941):          #21  pc 00041ab6  /system/lib/libdvm.so
02-04 15:27:28.836: I/DEBUG(3941):          #22  pc 0001cfd4  /system/lib/libdvm.so
02-04 15:27:28.845: I/DEBUG(3941):          #23  pc 000220dc  /system/lib/libdvm.so
02-04 15:27:28.845: I/DEBUG(3941):          #24  pc 00020fd0  /system/lib/libdvm.so
02-04 15:27:28.855: I/DEBUG(3941):          #25  pc 0005f430  /system/lib/libdvm.so
02-04 15:27:28.855: I/DEBUG(3941):          #26  pc 0005f656  /system/lib/libdvm.so
02-04 15:27:28.865: I/DEBUG(3941):          #27  pc 00053b4e  /system/lib/libdvm.so
02-04 15:27:28.865: I/DEBUG(3941):          #28  pc 00011a7c  /system/lib/libc.so
02-04 15:27:28.876: I/DEBUG(3941):          #29  pc 00011640  /system/lib/libc.so
02-04 15:27:28.876: I/DEBUG(3941): code around pc:
02-04 15:27:28.886: I/DEBUG(3941): 80045a28 447a4479 ed0cf7d1 20004c09 ee34f7d1 
02-04 15:27:28.886: I/DEBUG(3941): 80045a38 447c4808 6bdb5823 d0002b00 49064798 
02-04 15:27:28.886: I/DEBUG(3941): 80045a48 700a2226 eea0f7d1 000436b7 00045275 
02-04 15:27:28.896: I/DEBUG(3941): 80045a58 0005eb82 fffffec4 deadd00d b510b40e 
02-04 15:27:28.896: I/DEBUG(3941): 80045a68 4c0a4b09 447bb083 aa05591b 6b5bca02 
02-04 15:27:28.896: I/DEBUG(3941): code around lr:
02-04 15:27:28.920: I/DEBUG(3941): afd19354 b0834a0d 589c447b 26009001 686768a5 
02-04 15:27:28.920: I/DEBUG(3941): afd19364 220ce008 2b005eab 1c28d003 47889901 
02-04 15:27:28.920: I/DEBUG(3941): afd19374 35544306 d5f43f01 2c006824 b003d1ee 
02-04 15:27:28.972: I/DEBUG(3941): afd19384 bdf01c30 000281a8 ffffff88 1c0fb5f0 
02-04 15:27:28.972: I/DEBUG(3941): afd19394 43551c3d a904b087 1c16ac01 604d9004 
02-04 15:27:28.972: I/DEBUG(3941): stack:
02-04 15:27:28.972: I/DEBUG(3941):     44fda638  00000015  
02-04 15:27:28.972: I/DEBUG(3941):     44fda63c  afd18407  /system/lib/libc.so
02-04 15:27:28.972: I/DEBUG(3941):     44fda640  afd4270c  /system/lib/libc.so
02-04 15:27:28.972: I/DEBUG(3941):     44fda644  afd426b8  /system/lib/libc.so
02-04 15:27:28.972: I/DEBUG(3941):     44fda648  00000000  
02-04 15:27:28.972: I/DEBUG(3941):     44fda64c  afd19375  /system/lib/libc.so
02-04 15:27:28.972: I/DEBUG(3941):     44fda650  002ab890  [heap]
02-04 15:27:28.972: I/DEBUG(3941):     44fda654  afd183d9  /system/lib/libc.so
02-04 15:27:28.972: I/DEBUG(3941):     44fda658  002c8cf0  [heap]
02-04 15:27:28.972: I/DEBUG(3941):     44fda65c  0005eb82  [heap]
02-04 15:27:28.972: I/DEBUG(3941):     44fda660  405e01e8  /dev/ashmem/dalvik-heap (deleted)
02-04 15:27:28.972: I/DEBUG(3941):     44fda664  80085acc  /system/lib/libdvm.so
02-04 15:27:28.972: I/DEBUG(3941):     44fda668  002c8cf0  [heap]
02-04 15:27:28.972: I/DEBUG(3941):     44fda66c  afd18437  /system/lib/libc.so
02-04 15:27:28.976: I/DEBUG(3941):     44fda670  df002777  
02-04 15:27:28.976: I/DEBUG(3941):     44fda674  e3a070ad  
02-04 15:27:28.976: I/DEBUG(3941): #00 44fda678  00000001  
02-04 15:27:28.976: I/DEBUG(3941):     44fda67c  8003774d  /system/lib/libdvm.so
02-04 15:27:28.976: I/DEBUG(3941): #01 44fda680  00000001  
02-04 15:27:28.976: I/DEBUG(3941):     44fda684  80039a15  /system/lib/libdvm.so
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-2322_45638/TC-3710_Build_DroidRazr_Device.txt">TC-3710_Build_DroidRazr_Device.txt</td></td><td>2014-02-05T20:46:01.000+0000</td><td>10415</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2014-02-04

   Same crash happens when you use the <code>ti.styledlabel</code> module.</li>
<li>Ritu Agrawal 2014-02-05

   Appears to be a duplicate of TIMOB-14947.</li>
<li>Fokke Zandbergen 2014-02-05

   Yes, seems to be same, now why didn't I find those issues when I searched for them?
   
   Anyway, all of these linked issues are closed, with TIMOB-14947 saying it's not our bug. That's nice and all, but this means I need to educate my client to target 4+ instead of 2.3.3+ even though Titanium officially supports 2.3.3+ and still 20% of users run this version and even buying phones running it.
   
   So whatever "hack" is needed, it would be very much welcomed!</li>
<li>Ingo Muschenetz 2014-02-05

   All, to reiterate (and I edited the title of TIMOB-14947), this is an issue on the Android 2.3.3 emulator. We cannot fix that issue.
   
   It _should_ work on a 2.3.3 device. We cannot reproduce the issue on a device. Hieu is asking if anyone can.</li>
<li>Lokesh Choudhary 2014-02-05

   I can reproduce this on 2.3.3 emulator. We do not have any 2.3.3/5 device to test it on though.
   Tried on 2.3 7 device its not reproducible.
   
   Console logs:
   <code><pre>
   [DEBUG] :  Window: Checkpoint: postWindowCreated()
   [WARN] :   webcore: Can't get the viewWidth after the first layout
   [WARN] :   dalvikvm: JNI WARNING: jarray 0x405de840 points to non-array object (Ljava/lang/String;)
   [INFO] :   dalvikvm: "WebViewCoreThread" prio=5 tid=12 NATIVE
   [INFO] :   dalvikvm:   | group="main" sCount=0 dsCount=0 obj=0x4055b4a8 self=0x3db898
   [INFO] :   dalvikvm:   | sysTid=352 nice=0 sched=0/0 cgrp=default handle=4045264
   [INFO] :   dalvikvm:   | schedstat=( 295161030 788985075 55 )
   [INFO] :   dalvikvm:   at android.webkit.JWebCoreJavaBridge.sharedTimerFired(Native Method)
   [INFO] :   dalvikvm:   at android.webkit.JWebCoreJavaBridge.sharedTimerFired(Native Method)
   [INFO] :   dalvikvm:   at android.webkit.JWebCoreJavaBridge.fireSharedTimer(JWebCoreJavaBridge.java:91)
   [INFO] :   dalvikvm:   at android.webkit.JWebCoreJavaBridge.handleMessage(JWebCoreJavaBridge.java:108)
   [INFO] :   dalvikvm:   at android.os.Handler.dispatchMessage(Handler.java:99)
   [INFO] :   dalvikvm:   at android.os.Looper.loop(Looper.java:123)
   [INFO] :   dalvikvm:   at android.webkit.WebViewCore$WebCoreThread.run(WebViewCore.java:629)
   [INFO] :   dalvikvm:   at java.lang.Thread.run(Thread.java:1019)
   [INFO] :   dalvikvm:
   [ERROR] :  dalvikvm: VM aborting
   </pre></code>
   
   Environment:
   Appc Studio : 3.2.1.201401311225
   Ti SDK : 3.2.1.v20140203174850
   Mac OSX : 10.8.5
   Alloy : 1.3.1-cr 	
   CLI - 3.2.1 beta3
   Android 2.3.3 emulator </li>
<li>Fokke Zandbergen 2014-02-05

   It crashes with me on emulator 2.3.3 and 2.3.5, but not on 2.3.7.
   
   Client had the crash on Htc HTC Desire S running Android 2.3.5.</li>
<li>Radamantis Torres-Lechuga 2014-02-05

   [~egomez] can you please try to reproduce with your 2.3.5 device?</li>
<li>Eduardo Gomez 2014-02-05

   Tested on DROID RAZR 2.3.5 Webview load up and displays: "Foo" as expected.
   
   Titanium Command-Line Interface, CLI version 3.2.1-beta3, Titanium SDK version 3.2.1.v20140121132444
   
   Attaching Build process logs: TC-3710_Build_DroidRazr_Device.txt</li>
<li>Fokke Zandbergen 2014-02-06

   I've asked my client for his device to do more tests on. Will get back to you after that.</li>
<li>Ritu Agrawal 2014-02-09

    Resolving this ticket until we get more information on the device use case. We would reopen this ticket once we have clear instructions to reproduce this crash on a deice. Emulator crash is already covered by TIMOB-14947.</li>
</ol>


<p><a href="/AC/AC-2322.json">JSON Source</a></p>