---
title: "[AC-2373] After enabling cloud push services, Android doesn't compile throwing UnicodeDecodeError"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2013-04-06T19:34:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Studio, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android, studio, unicode, unicodedecodeerror, utf-8</td></tr>
<tr><th>Reporter</th><td>Shahar Zrihen</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2012-11-28T00:48:16.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:24.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>After add Ti.cloudpush module, android can't compile a production apk with UTF8 text in AndroidManifest.</h4>

I have an app with a hebrew (utf8) name. When I add the push notification module, it stops compiling and throws a "UnicodeDecodeError: 'ascii' codec can't decode byte 0xd7 in position 336: ordinal not in range(128)" error.

<h4>Test case</h4>

Create a new app, give it a UTF8 name with an AndroidManifest.xml file.
Add Ti.cloudpush module.
try to compile the app for distribution.

<h4>Logs</h4>

<code><pre>
[ERROR] Exception occured while building Android project:
[ERROR] Traceback (most recent call last):
[ERROR]   File "/Users/Shahar/Library/Application Support/Titanium/mobilesdk/osx/2.1.4.v20121030173408/android/builder.py", line 2301, in &lt;module&gt;
[ERROR]     s.build_and_run(True, None, key, password, alias, output_dir)
[ERROR]   File "/Users/Shahar/Library/Application Support/Titanium/mobilesdk/osx/2.1.4.v20121030173408/android/builder.py", line 2053, in build_and_run
[ERROR]     self.manifest_changed = self.generate_android_manifest(compiler)
[ERROR]   File "/Users/Shahar/Library/Application Support/Titanium/mobilesdk/osx/2.1.4.v20121030173408/android/builder.py", line 1250, in generate_android_manifest
[ERROR]     custom_manifest_contents = fill_manifest(custom_manifest_contents)
[ERROR]   File "/Users/Shahar/Library/Application Support/Titanium/mobilesdk/osx/2.1.4.v20121030173408/android/builder.py", line 1177, in fill_manifest
[ERROR]     manifest_source = manifest_source.replace(ti_permissions,permissions_required_xml)
[ERROR] UnicodeDecodeError: 'ascii' codec can't decode byte 0xd7 in position 336: ordinal not in range(128)
</pre></code>

My Manifest file - 
<code><pre>
&lt;application
        android:icon="@drawable/appicon"
        android:label="??????"
        android:name="QuestionnaireApplication"
        android:debuggable="false"
    &gt;
        &lt;activity
            android:name=".QuestionnaireActivity"
            android:label="??????"
            android:theme="@style/Theme.Titanium"
            android:screenOrientation="portrait"
            android:configChanges="keyboardHidden"
        &gt;
</pre></code>

<h4>Discussions</h4>

<a href="http://developer.appcelerator.com/question/145133/after-enabling-cloud-services-i-get-unicodedecodeerror-when-compiling-for-android#comment-148283" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/145133/after-enabling-cloud-services-i-get-unicodedecodeerror-when-compiling-for-android#comment-148283</a>
<a href="http://stackoverflow.com/questions/13595837/titanium-appcelerator-after-enabling-cloud-services-i-get-unicodedecodeerror-w" rel="nofollow" target="_blank">http://stackoverflow.com/questions/13595837/titanium-appcelerator-after-enabling-cloud-services-i-get-unicodedecodeerror-w</a>


<h3>Comments</h3>

<ol>
<li>Shahar Zrihen 2012-12-18

   Any updates on the subject?</li>
<li>Daniel Sefton 2013-04-06

   Your AndroidManifest.xml doesn't seem complete... You don't escape the XML tags like <activity />. Can you provide your actual manifest, or one which reproduces the issue in a simple app? I added the cloudpush module, added an AndroidManifest.xml file replaced what you have between both android:label properties with hebrew. It builds for production fine with 3.0.2 GA.</li>
</ol>


<p><a href="/AC/AC-2373.json">JSON Source</a></p>