---
title: "[AC-2463] Invalid type passed to function in TestFlight report"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2014-01-31T04:36:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Sebastian Klaus</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2014-01-20T08:24:38.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-08T08:22:06.000+0000</td></tr>
</table>

<h3>Description</h3>

Sometimes I got a crash in the TestFlight Backend as follows:

<code><pre>
Invalid type passed to function
AppNameTiExceptionThrowWithNameAndReason 
in TiBase.m on Line 182
Occurrences1
Users1
#	Binary Image Name	Address	Symbol
0	CoreFoundation	0x2e291f4b	__exceptionPreprocess
1	libobjc.A.dylib	0x386216af	objc_exception_throw
2	AppName	0x00220d01	TiExceptionThrowWithNameAndReason in TiBase.m on Line 182
3	AppName	0x001ef559	-[TiProxy throwException:subreason:location:] in TiProxy.m on Line 1068
4	AppName	0x0019be95	-[TiUITabProxy rootController] in TiUITabProxy.m on Line 96
5	AppName	0x0019c69f	-[TiUITabProxy closeWindowProxy:animated:] in TiUITabProxy.m on Line 160
6	AppName	0x0019c427	-[TiUITabProxy closeOnUIThread:] in TiUITabProxy.m on Line 137
7	AppName	0x0019d42f	__28-[TiUITabProxy closeWindow:]_block_invoke in TiUITabProxy.m on Line 257
8	AppName	0x00221aab	__TiThreadPerformOnMainThread_block_invoke in TiBase.m on Line 268
9	AppName	0x00221489	TiThreadPerformOnMainThread in TiBase.m on Line 288
10	AppName	0x0019d3f1	-[TiUITabProxy closeWindow:] in TiUITabProxy.m on Line 258
11	AppName	0x002f0817	-[TiWindowProxy close:] in TiWindowProxy.m on Line 323
12	AppName	0x0018009b	__27-[TiUIWindowProxy _destroy]_block_invoke in TiUIWindowProxy.m on Line 112
13	AppName	0x00221aab	__TiThreadPerformOnMainThread_block_invoke in TiBase.m on Line 268
14	AppName	0x00221eab	TiThreadProcessPendingMainThreadBlocks in TiBase.m on Line 366
15	AppName	0x002bd77b	-[TiApp waitForKrollProcessing] in TiApp.m on Line 661
16	AppName	0x002bd987	-[TiApp applicationWillTerminate:] in TiApp.m on Line 695
17	UIKit	0x30a8b88d	-[UIApplication _terminateWithStatus:]
18	UIKit	0x30a88c9d	-[UIApplication _handleApplicationSuspend:eventInfo:]
19	UIKit	0x30a09ae1	-[UIApplication handleEvent:withNewEvent:]
20	UIKit	0x30a09721	-[UIApplication sendEvent:]
21	UIKit	0x30a6eb3d	_UIApplicationHandleEvent
22	GraphicsServices	0x32ea570d	_PurpleEventCallback
23	GraphicsServices	0x32ea52f7	PurpleEventCallback
24	CoreFoundation	0x2e25c9df	__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__
25	CoreFoundation	0x2e25c97b	__CFRunLoopDoSource1
26	CoreFoundation	0x2e25b14f	__CFRunLoopRun
27	CoreFoundation	0x2e1c5c27	CFRunLoopRunSpecific
28	CoreFoundation	0x2e1c5a0b	CFRunLoopRunInMode
29	GraphicsServices	0x32ea4283	GSEventRunModal
30	UIKit	0x30a69049	UIApplicationMain
31	AppName	0x001063bf	main in main.m on Line 36
32	libdyld.dylib	0x38b29ab7	start
</pre></code>

The TestFlight team responses due to my request, that the error is not based to TestFlight.

Maybe anyone here has an idea to what this error belongs. Do you need further information?

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-01-23

   It is hard to diagnose this issue based on this call stack. I would appreciate if you can provide an application and a list of steps to reproduce this problem.</li>
<li>Sebastian Klaus 2014-01-23

   The application is named Fantastic Library or Fantastic Library Free.
   
   Problem here is, that the app doesn't really crash. The crash seems to come after closing the app. That's totally weird.</li>
<li>Ritu Agrawal 2014-01-24

   I am curious if you noticed this crash with this specific application or every application. I am afraid that it may be an application issue if it is limited to a specific instance. 
   
   We tried to reproduce this issue with an in-house application and could not reproduce it.</li>
<li>Sebastian Klaus 2014-01-24

   I'm using this module <a href="https://marketplace.appcelerator.com/apps/744" rel="nofollow" target="_blank">https://marketplace.appcelerator.com/apps/744</a> for including TestFlight. The developer told me, that he has no error on his side. And so the TestFlight team does.
   
   Who could help now?</li>
<li>Ritu Agrawal 2014-01-26

   One possibility is that this module works only with Titanium SDK 3.1.3 and earlier versions. I would suggest you to build your application with 3.1.3 SDK as that would narrow down the problem.</li>
<li>Sebastian Klaus 2014-01-31

   If you just made some effort, you could look into the stack trace and see were the problem appears:
   
   <a href="https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/TiUITabProxy.m#L96-97" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/TiUITabProxy.m#L96-97</a>
   
   You are obviously looking for a window, but it isn’t a TiWindowProxy for some reason.
   That’s obviously a bug in Titanium, I think.</li>
<li>Ritu Agrawal 2014-02-09

   We actually looked at this code but we don't know if the module is using right Titanium proxy object. We do not know if this module is using TiUITabProxy correctly. Unfortunately we cannot make any progress until we have module code to reproduce this issue.</li>
<li>Hans Knöchel 2017-03-08

   Duplicate of TIMOB-20623.</li>
</ol>


<p><a href="/AC/AC-2463.json">JSON Source</a></p>