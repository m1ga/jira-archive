---
title: "[AC-2474] Calling Ti.Platform.openURL throws Unknown Java Exception"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-01-19T08:06:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android, defect, studio3</td></tr>
<tr><th>Reporter</th><td>Van Thompson</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2013-11-22T12:42:29.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:31.000+0000</td></tr>
</table>

<h3>Description</h3>

I am just trying to open a browser using the following command:

Ti.Platform.openURL("<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>");

Really nothing fancy.  I've tried without 'http' and with different URLs.  This happens on the emulator and a device.  I've tried with Android 4.0.3 and 4.2 with the same result.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2474_44120/openURL.PNG">openURL.PNG</td></td><td>2013-11-22T12:42:29.000+0000</td><td>91996</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2474_44121/stack.PNG">stack.PNG</td></td><td>2013-11-22T15:25:15.000+0000</td><td>9489</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2474_44123/studioStack.PNG">studioStack.PNG</td></td><td>2013-11-22T16:17:28.000+0000</td><td>35819</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2474_44628/Titanium openURL problem.docx">Titanium openURL problem.docx</td></td><td>2013-12-16T20:23:11.000+0000</td><td>226960</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Van Thompson 2013-11-22

   More information: If I put Ti.Platform.openURL on my first window, it works as expected.  I placed the same code on the second window in the app and I get the Unknown Java exception.</li>
<li>Mauro Parra-Miranda 2013-11-22

   Hello,
   as you mentioned, when we test, it just works. Please share with us the structure of your code or similar, so we can reproduce this.
   
   Best,
   Mauro</li>
<li>Van Thompson 2013-11-26

   I've uploaded the code without images.  The offending line is on controller/OrdersController.js line 32.</li>
<li>Mauro Parra-Miranda 2013-12-10

   Hello,
   I'm testing your code and:
   
   - We don't have any login/user.
   - In the line before the openURL, you are building a url with a local prefix for a maps app, right? Did you tried to open that one directly in the browser or similar to see if that's the problem?
   - Please add a try-catch so you can get more info on what failed in the openURL. 
   
   Your app is not suitable to be used as testcase, because of its complexity. If possible, please remove it from this ticket, since you have a lot of information that looks like is private, and this is a public forum.
   
   Best,
   
   Mauro </li>
<li>Van Thompson 2013-12-11

   I have removed the source code.
   
   I've tried a simple url such as <a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a> with the same result (as shown in 'openURL.png').  Any stack trace info I was able to retrieve is in the other two images I posted.  I also built the url, copied it, and pasted it into a browser.  It loaded fine.</li>
<li>Van Thompson 2013-12-11

   One other thing...I get the same error when my URL is a telephone number (tel://7705551212).</li>
<li>Mauro Parra-Miranda 2013-12-11

   Hello Van,
   if you create a simple testcase with Titanium, and use the openURL, are you able to reproduce the issue? i.e., is it a windows 8 focused issue?
   
   If that doesn't fail for you, then is something else in your code, but let's test the above sample and then we decide how to proceed on this. 
   
   Thanks!
   
   Best,
   Mauro </li>
<li>Van Thompson 2013-12-11

   Mauro
   
   I did that as well and it's hit or miss.  I've placed code on the first window of the app that opens google via openURL.  I proceeded to the next window and did the same.  It worked.  I can't find a rhyme or reason for it.  Initially I thought it had something to do with the code being in a custom event but I tried that as well.
   
   I will try a few other simple scenarios.
   
   Thanks
   Van</li>
<li>Van Thompson 2013-12-16

   Mauro
   
   I've attached a document containing the results of adding very simple buttons that attempt to open google.com using Ti.Platform.openURL('<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>').  I hope it will be helpful.
   
   Thanks
   Van</li>
<li>Mostafizur Rahman 2013-12-22

    We tried to reproduce this issue with the code below. We can't reproduce this problem with latest 3.2.0 GA release. Please try this sample code and let us know if the issue persists.
    
    <h4>Testing Environment:</h4>
    Android SDK: 4.2.2
    Titanium SDK: 3.2.0.GA
    Titanium CLI Version: 3.2.0
    
    <h4>Test Code</h4>
    <code><pre>
    var win = Ti.UI.createWindow({
    		title : 'URL TEST',
    		navBarHidden : false
    	});
     
    	// Create a Button.
    	var go = Ti.UI.createButton({
    		title : 'URL TEST',
    		height : Ti.UI.SIZE,
    		width : Ti.UI.SIZE,
    		top : 10,
     
    	});
     
    	// Listen for click events.
    	go.addEventListener('click', function() {
     
    		Ti.Platform.openURL("<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>");
     
    	});
     
    	win.add(go);
    	win.open();
    
    </pre></code>
    
    <h4>Steps to Test:</h4>
    1. Create a sample project,
    2. Paste this code in app.js file.
    3. Run this with testing environment.
    4. Click on URL test button
    
    
    </li>
<li>Van Thompson 2013-12-23

    I will do this, however, I have already done something similar and the code does work.  I have placed similar code in the app in question and have seen openURL work as expected (see 'Titanium openURL problem.docx' attachment).  The problem is I still get the previously reported java exception.  I fully acknowledge it has something to do with my application, however, I do not believe the exception is being thrown because of the way I am calling openURL.
    
    I updated to 3.2.0.GA today hoping it would fix the issue.  No luck.</li>
<li>Ritu Agrawal 2013-12-25

    [~vandert] We have been unable to reproduce this issue with numerous permutations. We need a minimal but complete test case that can reproduce this issue. We would be happy to investigate this issue further once we have a reproducible test.</li>
<li>Shak Hossain 2014-01-27

    Closing since we can't reproduce the issue with our sample and the reporter has not provided a sample to reproduce the error.</li>
</ol>


<p><a href="/AC/AC-2474.json">JSON Source</a></p>