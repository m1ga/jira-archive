---
title: "[AC-2487] uses-feature required=false being overwritten when packaging the app"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-02-17T07:28:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>android-manifest</td></tr>
<tr><th>Reporter</th><td>Brad Waxler</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2014-02-06T16:41:01.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:32.000+0000</td></tr>
</table>

<h3>Description</h3>

Here is my android section of tiapp.xml:
	<android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">
		<manifest android:versionCode="11" android:versionName="1.2.0.1">
			<supports-screens 
	            android:smallScreens="true"
	            android:normalScreens="true"
	            android:largeScreens="true"
	            android:xlargeScreens="true"
	            android:anyDensity="true"
	        />
	        
		<uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
		<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
		<uses-permission android:name="android.permission.CAMERA"/>
		<uses-permission android:name="android.permission.FLASHLIGHT"/>
		<uses-permission android:name="android.permission.INTERNET"/>
		<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
			
		<uses-feature android:name="android.hardware.camera" android:required="false"/>
		<uses-feature android:name="android.hardware.camera.any" android:required="false"/>
		<uses-feature android:name="android.hardware.camera.autofocus" android:required="false"/>
		<uses-feature android:name="android.hardware.camera.flash" android:required="false"/>
		<uses-feature android:name="android.hardware.camera.front" android:required="false"/>
		<uses-feature android:name="android.hardware.screen.landscape" android:required="false"/>
		<uses-feature android:name="android.hardware.touchscreen" android:required="false"/>
		<uses-feature android:name="android.hardware.wifi" android:required="false"/>
	</manifest>
</android>


And here is what ends up going into the packages AndroidManifest.xml:
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
<uses-permission android:name="android.permission.CAMERA"/>
<uses-permission android:name="android.permission.FLASHLIGHT"/>
<uses-permission android:name="android.permission.INTERNET"/>
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
<uses-feature android:name="android.hardware.camera"/>
<uses-feature android:name="android.hardware.camera.any" android:required="false"/>
<uses-feature android:name="android.hardware.camera.autofocus" android:required="false"/>
<uses-feature android:name="android.hardware.camera.flash" android:required="false"/>
<uses-feature android:name="android.hardware.camera.front" android:required="false"/>
<uses-feature android:name="android.hardware.screen.landscape"/>
<uses-feature android:name="android.hardware.touchscreen" android:required="false"/>
<uses-feature android:name="android.hardware.wifi" android:required="false"/>


The one that is currently screwing me up the worst is:
<uses-feature android:name="android.hardware.camera"/>

It needs to be required="false"

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-02-07

   I would appreciate if you can confirm if you are using a custom manifest file in your project. Please provide a simple project that includes this tiapp.xml so that we can build the project and reproduce the issue.</li>
<li>Brad Waxler 2014-02-07

   I've tried it with both a custom manifest file and without, same results for each.
   
   I'll try to get you a small project example as soon as I can.</li>
<li>Ritu Agrawal 2014-02-17

   We have not been able to reproduce this issue with 3.2.1 release. I added your Android entries to tiapp.xml and it generated the following entries in AndroidManifest.xml file.
   
   	<uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/>
   	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
   	<uses-permission android:name="android.permission.CAMERA"/>
   	<uses-permission android:name="android.permission.FLASHLIGHT"/>
   	<uses-permission android:name="android.permission.INTERNET"/>
   	<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
   	<uses-permission android:name="com.google.android.providers.gsf.permission.READ_GSERVICES"/>
   	<uses-permission android:name="com.ti.testproject.permission.MAPS_RECEIVE"/>
   	<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
   	<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
   	<uses-permission android:name="android.permission.GET_ACCOUNTS"/>
   	<uses-permission android:name="android.permission.WAKE_LOCK"/>
   	<uses-permission android:name="com.google.android.c2dm.permission.RECEIVE"/>
   	<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
   	<uses-permission android:name="android.permission.READ_PHONE_STATE"/>
   	<uses-permission android:name="android.permission.VIBRATE"/>
   	<uses-permission android:name="com.ti.testproject.permission.C2D_MESSAGE"/>
   	<uses-feature android:name="android.hardware.camera" android:required="false"/>
   	<uses-feature android:name="android.hardware.camera.any" android:required="false"/>
   	<uses-feature android:name="android.hardware.camera.autofocus" android:required="false"/>
   	<uses-feature android:name="android.hardware.camera.flash" android:required="false"/>
   	<uses-feature android:name="android.hardware.camera.front" android:required="false"/>
   	<uses-feature android:name="android.hardware.screen.landscape" android:required="false"/>
   	<uses-feature android:name="android.hardware.touchscreen" android:required="false"/>
   	<uses-feature android:name="android.hardware.wifi" android:required="false"/>
   	<permission android:name="com.ti.testproject.permission.MAPS_RECEIVE" android:protectionLevel="signature"/>
   	<permission android:name="com.ti.testproject.permission.C2D_MESSAGE" android:protectionLevel="signature"/></li>
</ol>


<p><a href="/AC/AC-2487.json">JSON Source</a></p>