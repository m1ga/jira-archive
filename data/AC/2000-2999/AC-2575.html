---
title: "[AC-2575] iOS: HTTPClient enableKeepAlive property true doesn't work"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-06-08T08:53:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>api, ios</td></tr>
<tr><th>Reporter</th><td>Stefan Hes</td></tr>
<tr><th>Assignee</th><td>Davide Cassenti</td></tr>
<tr><th>Created</th><td>2013-03-21T11:18:10.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:39.000+0000</td></tr>
</table>

<h3>Description</h3>

I use the HTTPClient to setup a persistent connection (enableKeepAlive property = true and reguest header for connection set to 'keep-alive').
With a sniffer I see that the request header 'Connection' is still 'Ã§lose'.

I tried to set the enableKeepAlive at creation time of the htppclient and also with the setEnableKeepAlive method. Both without succes.

In the attachment you can find the code, as well as a printsreen of fiddler (the http sniffer tool)

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2575_36520/fiddler.PNG">fiddler.PNG</td></td><td>2013-03-21T11:18:10.000+0000</td><td>61369</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2575_36519/httpclient code.txt">httpclient code.txt</td></td><td>2013-03-21T11:18:10.000+0000</td><td>316</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Martin Guillon 2013-05-27

   It can't work with the current implementation and use of ASIHTTPRequest
   That's why i personally created a new PersistentHTTPClient
   i had a pull request for that
   <a href="https://github.com/appcelerator/titanium_mobile/pull/2844" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2844</a>
   but it was never really followed</li>
<li>Shak Hossain 2013-06-07

   Hi Martin,
   
   Looks like you are in good contact with Blain Hammon of AppC to process this pull request. Is this JIRA needed any further? If not, I would like to close it.
   
   Regards,
   Shak H.</li>
<li>Martin Guillon 2013-06-08

   Personally I do think you can close this one </li>
</ol>


<p><a href="/AC/AC-2575.json">JSON Source</a></p>