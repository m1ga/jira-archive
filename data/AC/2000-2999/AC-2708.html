---
title: "[AC-2708] Android: Setting heights on TableView rows with classNames after creation no longer works"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-07-03T18:08:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android, classname, height, regression, tableviewrow</td></tr>
<tr><th>Reporter</th><td>Justin Toth</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2013-07-01T18:13:51.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:49.000+0000</td></tr>
</table>

<h3>Description</h3>

*Problem*
Setting the height of TableView rows with classNames after creation no longer works in Android.

*Expected behavior*
Pressing row 1 would toggle showing and hiding row 2. Pressing row 3 would toggle showing and hiding row 4.

*Actual behavior*
Pressing row 1 or 3 does nothing, rows 2 and 4 stay hidden.

*Note*
This is a regression in Titanium 3.1.1.GA, the same code works correctly in Titanium 3.1.0.GA. Removing the classNames from the rows isn't a workaround, as it will cause out of memory crashes on long tables. Using visible/show/hide to show and hide the rows instead of height isn't a workaround either, as this has never worked on Android.

*Test case*
<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor : "#fff"
});

var table = Ti.UI.createTableView({
	top : 0,
	bottom : 0,
	left : 0,
	right : 0
});

var rows = [];

var firstRow = Ti.UI.createTableViewRow({
	height : '60dp',
	backgroundColor : 'Red',
	className : 'rowType1'
});
firstRow.add(Ti.UI.createLabel({
	text : 'Row 1'
}));
firstRow.addEventListener('click', function() {
	secondRow.height = (secondRow.height === 0 ? '60dp' : 0);
});
rows.push(firstRow);

var secondRow = Ti.UI.createTableViewRow({
	height : 0,
	backgroundColor : 'Gray',
	className : 'rowType2'
});
secondRow.add(Ti.UI.createLabel({
	text : 'Row 2'
}));
rows.push(secondRow);

var thirdRow = Ti.UI.createTableViewRow({
	height : '60dp',
	backgroundColor : 'Red',
	className : 'rowType1'
});
thirdRow.add(Ti.UI.createLabel({
	text : 'Row 3'
}));
thirdRow.addEventListener('click', function() {
	fourthRow.height = (fourthRow.height === 0 ? '60dp' : 0);
});
rows.push(thirdRow);

var fourthRow = Ti.UI.createTableViewRow({
	height : 0,
	backgroundColor : 'Gray',
	className : 'rowType2'
});
fourthRow.add(Ti.UI.createLabel({
	text : 'Row 4'
}));
rows.push(fourthRow);

table.setData(rows);
win.add(table);

win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Daniel Sefton 2013-07-03

   I tested this on a Samsung Galaxy S2 Android 2.3.6; actually the opposite occurs to what you describe: The rows show/hide correctly on 3.1.1 GA, but not on 3.1 GA.</li>
<li>Mauro Parra-Miranda 2013-11-22

   Fixed in 3.1.3</li>
</ol>


<p><a href="/AC/AC-2708.json">JSON Source</a></p>