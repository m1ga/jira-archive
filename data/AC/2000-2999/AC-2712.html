---
title: "[AC-2712] ACS Places query cannot use \"$gt\" on updated_at field."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2013-08-30T17:41:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>acs, bug</td></tr>
<tr><th>Reporter</th><td>Yuji ODA</td></tr>
<tr><th>Assignee</th><td>Wei Kong</td></tr>
<tr><th>Created</th><td>2013-08-28T00:29:38.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:49.000+0000</td></tr>
</table>

<h3>Description</h3>

My application is working few days ago.
But it does not work today.

I use $gt on updated_at, see below.

<code><pre>
Cloud.Places.query({
    limit: 1,
    where: {
        user_id: "XXXXXXXXXX",
        thread_id: { "$exists" : false },
        closed: { "$exists" : false },
        updated_at: { "$gt": moment().subtract("minutes", 30).toDate() }
    },
    order: '-created_at'
},
function (e) {
    alert(e);
});
</pre></code>

The console output, below.

<code><pre>
ACS Request: { url: "places/query.json", verb: "GET", data: {"limit":1,"where":{"user_id":"XXXXXXXXXX","thread_id":{"$exists":false},"closed":{"$exists":false},"updated_at":{"$gt":"2013-08-27T23:37:11.262Z"}},"order":"-created_at"} })
</pre></code>

API returns 200 but result is empty. Not found records.

When I removed updated_at condition, there are records.My condition is correct.
I am very troubled that it is not available.
(Maybe this problem is related TC-2837 and TC-2836.)

Please fix.
Best regards,

<h3>Comments</h3>

<ol>
<li>Wei Kong 2013-08-28

   What is the actual value of the timestamp? In our documentation we only support 
   
   2013-08-21T04:54:22+0000
   
   or 
   2013-08-21T04:54:22-0000
   
   Can you please confirm the format of your timestamp?
   
   you can also get it from acs admin console log</li>
<li>Yuji ODA 2013-08-28

   The updated_at field value is auto generated by ACS.
   
   The actual value example is below.
   (on ACS admin console)
   
   > 2013-08-28T00:54:27+0000
   
   Thank you.</li>
<li>Wei Kong 2013-08-28

   can you please email me your app key and actual query that failed?
   
   wkong@appcelerator.com</li>
<li>Daniel Sefton 2013-08-28

   Hi Yuji,
   
   Apologies for any inconvenience caused, it should be working now, it would be great if you could post here to clarify.
   
   Thanks!</li>
</ol>


<p><a href="/AC/AC-2712.json">JSON Source</a></p>