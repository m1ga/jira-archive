---
title: "[AC-2713] Android, Backbone and Failed adding to JNI local ref table (has 512 entries) error"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2013-04-05T19:28:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Brian OConnor</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2013-02-14T16:39:16.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:41:49.000+0000</td></tr>
</table>

<h3>Description</h3>

Some simple backbone code is causing the error "Failed adding to JNI local ref table (has 512 entries) error".

var Note = Backbone.Model.extend({});
var NoteCollection = Backbone.Collection.extend({
   model: Note
});
 
var noteCollection = new NoteCollection();
 
noteCollection.on('reset', function() {
   alert(noteCollection);
});
 
setTimeout(function() {
   noteCollection.reset([{foo: 'bar'}]);
}, 5000);

Error occurs with a regular project including backbone.js and also occurs using Alloy

<h3>Comments</h3>

<ol>
<li>Brian OConnor 2013-02-14

   I have simplified the test case to:
   
   	var Note = Backbone.Model.extend({});
   	var NoteCollection = Backbone.Collection.extend({
   	   model: Note
   	});
   	 
   	var noteCollection = new NoteCollection();
   	noteCollection.add([{foo: 'bar'}]);
   	alert(noteCollection);</li>
<li>Carter Lathrop 2013-04-05

   Brian,
   When reporting bugs please make sure that the test case is reproducible. As in it should be able to be simply copy and pasted into an app.js and run. Also be sure to provide important headers with information like: problem, steps to reproduce, expected behavior, actual behavior and of course, the test case. Please refer to:
   <a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report</a>
   on how a correct bug report should be written.
   Regards,
   Carter</li>
</ol>


<p><a href="/AC/AC-2713.json">JSON Source</a></p>