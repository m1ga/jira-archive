---
title: "[AC-2745] Ti.Include returns 500 because it uses "POST" not "GET""
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2011-10-13T12:44:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>HTML5, Mobile</td></tr>
<tr><th>Reporter</th><td>Christopher Spence</td></tr>
<tr><th>Assignee</th><td>Paul Dowsett</td></tr>
<tr><th>Created</th><td>2011-10-12T11:26:59.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:47:38.000+0000</td></tr>
</table>

<h3>Description</h3>

Perhaps this is an issue with the server side, but from my understanding you're supposed to be using "GET" and not "POST" when requesting a script file. Ti.include (Ti.js ln 43) calls _loadSyncScript, which does an XHR call using "POST", which causes the call to fail and the script not returned.

The working code:
<code><pre>
function _loadSyncScript(_location) {
	if ('undefined' != typeof _loadedScripts[_location]) {
		return _execScript(_loadedScripts[_location]);
	}
	var _xhr = new XMLHttpRequest(); 
	_xhr.onreadystatechange = function() {
		if (_xhr.readyState == 4) {
			if (_xhr.status == 200) {
				_loadedScripts[_location] = _xhr.responseText;
				_execScript(_xhr.responseText);
			} 
		}
	};
	_xhr.open("GET",_location,false);
	_xhr.setRequestHeader("Access-Control-Allow-Origin","*");
	_xhr.setRequestHeader("Content-Type", "text/xml; charset=utf-8");
	_xhr.send(null);
}
</pre></code>

<h3>Comments</h3>

<ol>
<li>Christopher Spence 2011-10-13

   Also on a side note, I would imagine the content-type should be set to "application/javascript" when retrieving a script, but I left it as "text/xml" since the code is now working even with "text/xml" in place.</li>
<li>Paul Dowsett 2011-10-13

   I am sorry, Christopher, but we do not support software until its official release. That said, this part of the product is being rewritten, so it should be resolved by the next version.
   
   Thanks for your input.</li>
<li>Paul Dowsett 2011-12-27

   Ticket resolved and not updated since last curator action.</li>
</ol>


<p><a href="/AC/AC-2745.json">JSON Source</a></p>