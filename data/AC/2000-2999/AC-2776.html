---
title: "[AC-2776] iOS Ti.Platform.displayCaps.platformHeight inconsistency"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2012-07-31T05:22:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Studio</td></tr>
<tr><th>Labels</th><td>100%, iOS, inconsistency, platformHeight, serviceBar</td></tr>
<tr><th>Reporter</th><td>K.</td></tr>
<tr><th>Assignee</th><td>Davide Cassenti</td></tr>
<tr><th>Created</th><td>2012-06-30T11:42:25.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:47:41.000+0000</td></tr>
</table>

<h3>Description</h3>

On iOS simulator and device Ti.Platform.displayCaps.platformHeight does not calculate the always present 'service bar' at the top of the screen which becomes an issue when attempting to use more than one view in an absolute layout.

My previously working solution, Math.round( ((Ti.Platform.displayCaps.platformHeight - 20)/100) * percentageNumber ), where 20 is the service bar's height on non-retina screens has become unusable when trying to resize a map view, and I would need re-write these allowances for every instance since the service bar height and appearance changes, (retina, non-retina, android)

Steps to Replicate:
1. Create a window, (with navBarHidden: false in my case, but should not make a difference)
2. Add 3 views to be split amongst the Ti.Platform.displayCaps.platformHeight 

customTabBar = createView at bottom:0, height:'10%'
scrollableView = createScrollableView at top:0, height:'40%'
mapView = Map.createView at top:'40%', height'50%'
(add to window map last so that you can see the difference)

Result:
100 percent of screen used but map view overlaps view at bottom:0.
This becomes more evident when the same customTabBar and scrollableView are placed side by side, splitting the screen at height: '90%, where the result is the map view overlapping and scrollable view much closer to target.

since I do not want to continually load the map with every scrollableView change and resize, which occurs with vertical split to horizontal split of the screen, the resizing and movement of multiple views in an absolute layout with a custom tab or nav bar is often necessary. Keeping the map at a lower zIndex makes the map's touch events unreachable.

older post, slightly different layout, same issue:
<a href="http://developer.appcelerator.com/question/137321/platformheight--100-possible-dividing-issue-on-ios" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/137321/platformheight--100-possible-dividing-issue-on-ios</a>


<h3>Comments</h3>

<ol>
<li>Davide Cassenti 2012-07-17

   Hello,
   
   I tried to replicate the issue, but with the following code I do not see any overlap. Is your code supposed to have anything different?
   
   <code><pre>
   var win = Ti.UI.createWindow({
       navBarHidden: true,
       backgroundColor: '#000'
   });
   
   var customTabBar = Ti.UI.createView({
   	bottom: 0,
   	height: '10%',
   	left: 30,
   	backgroundColor: 'yellow'
   });
   win.add(customTabBar);
   
   var scrollableView = Ti.UI.createScrollableView({
   	top: 0,
   	left: 10,
   	height: '40%',
   	backgroundColor: 'blue'
   });
   win.add(scrollableView);
   
   var mapView = Ti.Map.createView({
   	top: '40%',
   	height: '50%',
   	right:50 
   });
   win.add(mapView);
        
   win.open();
   </pre></code></li>
<li>Davide Cassenti 2012-07-23

   Hello,
   
   Did you fix the problem? Is my code different from what you are trying on your side?
   
   Thanks</li>
<li>Shak Hossain 2014-01-01

   Closing since we have not heard back from the reporter. A functional sample has been posted as well.</li>
</ol>


<p><a href="/AC/AC-2776.json">JSON Source</a></p>