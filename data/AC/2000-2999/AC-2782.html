---
title: "[AC-2782] HTTPClient will not send a POST HTTP request"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2011-08-10T02:19:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Keith Miller</td></tr>
<tr><th>Assignee</th><td>Tony Guntharp</td></tr>
<tr><th>Created</th><td>2011-07-24T20:32:58.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:47:41.000+0000</td></tr>
</table>

<h3>Description</h3>

All requests coming to the server from HTTPClient are GET requests, no matter what I set it to.

Here is the code: 

<code><pre>
var request = Titanium.Network.createHTTPClient();
request.open('POST', "<a href="http://test.com" rel="nofollow" target="_blank">http://test.com</a>");
request.onload = function() {
    try {
        var content = JSON.parse(this.responseText);
        if(content.error == undefined) {
            // do some things
        } else {
            alert(content.error);
        }
    } catch (err) {
        Titanium.API.error(err);
        Titanium.UI.createAlertDialog({
            message : err,
            title : "Remote Server Error"
        });
    }
};
request.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
request.send({ test: 'test'});
</pre></code> 

I've also tried not setting the header and also passing in the data as a string instead of an object. 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2782_21948/android.log">android.log</td></td><td>2011-07-25T08:17:14.000+0000</td><td>4246</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2782_21947/app.js">app.js</td></td><td>2011-07-25T08:17:14.000+0000</td><td>765</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2782_21949/iphone.txt">iphone.txt</td></td><td>2011-07-25T08:17:14.000+0000</td><td>1820</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2011-07-25

   Keith
   
   The information listed in the environment section seems to imply that you have observed this issue for both mobile AND desktop apps. As I'm able to successfully send POST requests for my own mobile projects, I'd be surprised if that is the case.
   
   Please explicitly state whether this relates to iPhone or Android.
   
   You need to provide a proper [usecase](<a href="http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-CreatingGoodUsecases)" rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-CreatingGoodUsecases)</a>, which is concise code that demonstrates the issue and runs without modification when pasted into an app.js file.
   
   You also should consult the community via a Q&A question before raising a ticket. Please provide the link to that question.
   
   Please read the [Jira Ticket Checklist](<a href="http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-Summary%3AJiraTicketChecklist)" rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-Summary%3AJiraTicketChecklist)</a> to help you correct this ticket, and before raising any more.
   
   Thanks
   
   </li>
<li>Paul Dowsett 2011-07-25

   Also, please provide the log of the failed request. Thanks</li>
<li>Keith Miller 2011-07-25

   Sorry about that. 
   
   I marked the component as Mobile, since I'm only using Titanium Studio for mobile development. 
   
   It is happening in both the iPhone and Android, emulators and the actual phones. I also cleaned the project's build directory.
   
   I have attached both the app.js and the log files for when this happens. 
   
   Here is the Q&A link: <a href="http://developer.appcelerator.com/question/123135/httpclient-will-not-send-a-post-http-request#comment-91925" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/123135/httpclient-will-not-send-a-post-http-request#comment-91925</a> This code seems to work fine for other people, so it seems like a weird bug that it's not working for me. How can I see the actual request the code is sending? Thanks.</li>
<li>Keith Miller 2011-07-25

   So, the following code works:
   
   <code><pre>
   var request = Titanium.Network.createHTTPClient();
   
   request.onerror = function(e)
   {
       Ti.UI.createAlertDialog({title:'Error', message:e.error}).show();
       Ti.API.info('IN ERROR ' + e.error);
   };
   request.setTimeout(20000);
   request.onload = function(e)
   {
       var content = JSON.parse(this.responseText);
       Titanium.API.info(content);
       if(content.error == undefined) {
           // do some things
           alert('worked');
       } else {
           alert(content.error);
       }
   };
   request.onsendstream = function(e)
   {
       //ind.value = e.progress ;
       Ti.API.info('ONSENDSTREAM - PROGRESS: ' + e.progress);
   };
   request.open('POST','<a href="http://www.israelnetdaily.com/json.php" rel="nofollow" target="_blank">http://www.israelnetdaily.com/json.php</a>');
   
   request.send({test:'test',purpose:'newaccount'});
   </pre></code>
   
   So weird. At least it's working now. </li>
<li>Paul Dowsett 2011-08-10

   Great work, Keith, glad you fixed it.
   
   You can inspect the network traffic using a protocol analyzer, such as [Wireshark](<a href="http://www.wireshark.org/)." rel="nofollow" target="_blank">http://www.wireshark.org/).</a>
   
   Cheers</li>
<li>Paul Dowsett 2011-08-10

   User confirmed problem was with code.</li>
<li>Paul Dowsett 2011-10-07

   Closing due to inactivity.</li>
</ol>


<p><a href="/AC/AC-2782.json">JSON Source</a></p>