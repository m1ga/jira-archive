---
title: "[AC-2817] Android: Media - application restarts after taking a photo with showCamera()"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2011-12-28T06:46:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Florian Schnell</td></tr>
<tr><th>Assignee</th><td>Paul Dowsett</td></tr>
<tr><th>Created</th><td>2011-11-01T02:48:35.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:47:44.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

Application restarts after taking a photo with showCamera()

<h4>My thoughts</h4>

I can confirm that this has to do with too little memory available.

For instance if I have many services/applications running along it will restart almost certain, while clearing up memory by stopping apps and services will make the camera return smoothly.

<h4>Test case</h4>

Insert code here


<h4>Open up lots of applications/services ie. bring your phone to memory limit.</h4>
<h4>Calling Ti.Media.showCamera() opens the camera view correctly.</h4>
<h4>After taking a picture it is displayed just fine.</h4>
<h4>Now hitting the save-button from within the preview window the camera-app closes.</h4>

With a bit luck you will see your application's loading screen flashing up, then the app is restarted and the image taken is lost.

Note: I have enclosed the full log as an attachment.

This is an extracted log from the device's message stream. There is no information about why or if the application has been closed, but it seems that the camera is not able to hand over the results.

Id of the app is unikoch.de.test.

<code><pre>
11-01 11:02:23.433: INFO/TiApplication(30030): (main) [0,0] checkpoint, app created.
11-01 11:02:23.535: INFO/TiApplication(30030): (main) [105,105] Titanium 1.8.0 (2011/10/10 11:49 074cad3)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030): (main) [253,384] Unable to message creator. finishing.
11-01 11:02:23.828: ERROR/TiBaseActivity(30030): java.lang.RuntimeException: Can't marshal non-Parcelable objects across processes.
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.os.Message.writeToParcel(Message.java:433)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.os.IMessenger$Stub$Proxy.send(IMessenger.java:84)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.os.Messenger.send(Messenger.java:50)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at org.appcelerator.titanium.TiBaseActivity.handleSendMessage(TiBaseActivity.java:357)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at org.appcelerator.titanium.TiBaseActivity$2.run(TiBaseActivity.java:348)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at org.appcelerator.titanium.TiMessageQueue.handleMessage(TiMessageQueue.java:219)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.os.Handler.dispatchMessage(Handler.java:95)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at org.appcelerator.titanium.TiMessageQueue.sendMessage(TiMessageQueue.java:120)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at org.appcelerator.titanium.TiMessageQueue.post(TiMessageQueue.java:236)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at org.appcelerator.titanium.TiBaseActivity.sendMessage(TiBaseActivity.java:345)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at org.appcelerator.titanium.TiBaseActivity.onCreate(TiBaseActivity.java:328)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1615)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1667)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.app.ActivityThread.access$1500(ActivityThread.java:117)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:935)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.os.Handler.dispatchMessage(Handler.java:99)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.os.Looper.loop(Looper.java:123)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at android.app.ActivityThread.main(ActivityThread.java:3687)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at java.lang.reflect.Method.invokeNative(Native Method)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at java.lang.reflect.Method.invoke(Method.java:507)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:842)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)
11-01 11:02:23.828: ERROR/TiBaseActivity(30030):     at dalvik.system.NativeStart.main(Native Method)
11-01 11:02:23.832: WARN/ActivityManager(128): Trying to launch unikoch.de.test/.UnikochActivity
11-01 11:02:23.863: INFO/TiRootActivity(30030): (main) [0,0] checkpoint, on root activity create, savedInstanceState: Bundle[mParcelledData.dataSize=204]
11-01 11:02:24.066: ERROR/TiApplication(30030): (main) [202,202] APP PROXY: [Ti.App]
</pre></code>

<h4>Discussions</h4>

Q&A: [camera crashes titainium application during low memory conditions](<a href="http://developer.appcelerator.com/question/122763/camera-crashes-titainium-application-during-low-memory-conditions)" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/122763/camera-crashes-titainium-application-during-low-memory-conditions)</a>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-2817_23970/full_log.txt">full_log.txt</td></td><td>2011-11-01T04:24:04.000+0000</td><td>76196</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2011-12-28

   Thanks for raising this ticket.
   
   Please note the changes I have made to allow it to be accepted.
   
   The only item that is missing is a simple test case, which must run without modification, as per the [Creating a Test Case](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-CreatingaTestCase)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-CreatingaTestCase)</a> section.
   
   I will mark this resolved for now. Please reopen it once it is complete, and I will move it to the main project.
   
   Cheers</li>
<li>Paul Dowsett 2011-12-28

   I forgot to mention, the [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)</a> is useful when raising tickets.
   
   Thanks</li>
<li>Paul Dowsett 2012-02-17

   Closing due to inactivity. If this issue still exists, please raise a new ticket, including all the information in the [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)</a> to ensure that we can escalate it quickly. Read [How to Submit a Bug Report](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)</a> if you have not read it before, and always start a ticket using the [JIRA Ticket Template](<a href="https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template)." rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template).</a>
   
   Thanks in advance</li>
</ol>


<p><a href="/AC/AC-2817.json">JSON Source</a></p>