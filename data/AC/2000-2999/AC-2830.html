---
title: "[AC-2830] App complaining of memory issues with 64MB left remaining that causes camera to display black screen after editing"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2011-12-28T05:13:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>1.7.6, camera, ios, iphone,, memory</td></tr>
<tr><th>Reporter</th><td>Rey Bumalay</td></tr>
<tr><th>Assignee</th><td>Paul Dowsett</td></tr>
<tr><th>Created</th><td>2011-11-21T02:12:31.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:47:45.000+0000</td></tr>
</table>

<h3>Description</h3>

When testing app with camera feature on 1.7.3, black screen after taking picture/editing doesn't happen.

Now after upgrading 1.7.6 nightly, black screen appears right after taking picture or editing. Weird thing we found is device complains about running out of memory with 64MB remaining:

2011-11-19 03:57:40 Received memory warning. Level=1
2011-11-19 03:57:40 [INFO] Due to memory conditions, 0 of 0 image cache entries were unloaded from cache.
2011-11-19 03:57:41 [DEBUG] Remaining memory: 63.90625

After restarting the device and app started with 256MB+ memory left, black screen after taking/editing picture didn't show up. 

We run further tests, opened several apps on phone and after opening several number of apps, black screen after taking picture/edit appeared on 1.7.6 build with the following log:

2011-11-19 04:24:39 [Warning] IORegisterForSystemPower failed
2011-11-19 04:24:41 [DEBUG] Remaining memory: 8.3046875
2011-11-19 04:24:44 Received memory warning. Level=1
2011-11-19 04:24:44 [INFO] Due to memory conditions, 0 of 0 image cache entries were unloaded from cache.

We installed version which was built using 1.7.3 and  black screen after taking picture didn't appear. We noticed that remaining memory when app starts is usually higher:

2011-11-19 04:47:01 [DEBUG] Remaining memory: 83.10546875

We tested application built with 1.7.6 again just to confirm how much memory is left when app start and we got this:

2011-11-19 04:58:25 [DEBUG] Remaining memory: 17.36328125

and after taking a picture:

2011-11-19 04:58:55 [Warning] IORegisterForSystemPower failed
2011-11-19 04:58:55 [DEBUG] Remaining memory: 11.00390625
2011-11-19 04:58:56 Received memory warning. Level=1
2011-11-19 04:58:56 [INFO] Due to memory conditions, 0 of 0 image cache entries were unloaded from cache.

The summary is memory management in 1.7.3 is better compare to 1.7.6 nightly. Also we noticed that app starts with bigger memory on 1.7.3 compare to 1.7.6 although it might not be accurate.


Thanks
Rey


<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2011-12-28

   Thanks for raising this ticket.
   
   In order for me to escalate it to the core team, all the fields must be complete. Please check it against the [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)</a>, and add any missing information.
   
   Furthermore, a test case must be included and run without modification, as per the [Creating a Test Case](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-CreatingaTestCase)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-CreatingaTestCase)</a> section.
   
   I will mark this resolved for now. Please reopen it once it is complete, and I will move it to the main project.
   
   Cheers</li>
<li>Paul Dowsett 2012-02-17

   Closing due to inactivity. If this issue still exists, please raise a new ticket, including all the information in the [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)</a> to ensure that we can escalate it quickly. Read [How to Submit a Bug Report](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)</a> if you have not read it before, and always start a ticket using the [JIRA Ticket Template](<a href="https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template)." rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template).</a>
   
   Thanks in advance</li>
</ol>


<p><a href="/AC/AC-2830.json">JSON Source</a></p>