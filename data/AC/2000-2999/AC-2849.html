---
title: "[AC-2849] nested push animation can result in corrupted navigation bar"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2011-12-28T06:58:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>jean-baptsite pringuey</td></tr>
<tr><th>Assignee</th><td>Paul Dowsett</td></tr>
<tr><th>Created</th><td>2011-10-27T20:59:18.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:47:47.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

Nested push animation can result in corrupted navigation bar

<h4>Logs</h4>

I am getting the following message in the logs and a buggy navigation group

<code><pre>
'2011-10-27 21:41:21.575 bugtitanium[15903:207] nested push animation can result in corrupted navigation bar
2011-10-27 21:41:21.945 bugtitanium[15903:207] Finishing up a navigation transition in an unexpected state. Navigation Bar subview tree might get corrupted.
2011-10-27 21:41:21.946 bugtitanium[15903:207] Finishing up a navigation transition in an unexpected state. Navigation Bar subview tree might get corrupted.
</pre></code>

<h4>Test case</h4>
On the first load, everything is ok, hit 1 time reload, click on one row and click the back button

Do the same and reload 2 times, you will have to hit the back button 2 times, and so on ....

<code><pre>
Ti.UI.setBackgroundColor('#000');

var tabGroup = Ti.UI.createTabGroup();

var win1 = Ti.UI.createWindow({
  title:'Tab 1',
  backgroundColor:'#fff'
});

var mytasks_helping_button = Ti.UI.createButton({
  title : 'Reload',
  top:0,
  color:'black',
  width:200,
  height:30,
  style:Ti.UI.iPhone.SystemButtonStyle.BORDERED
});
win1.add(mytasks_helping_button);

var mytasks_helping_tableview = Ti.UI.createTableView({
  top:100
});
win1.add(mytasks_helping_tableview);

var tab1 = Ti.UI.createTab({
  icon:'KS_nav_views.png',
  title:'Tab 1',
  window:win1
});

function populateData(datasourcetmp,tabletmp){
  var data = [];
  for(var i = 0; i &lt; datasourcetmp.length; i++) {
    var row = Ti.UI.createTableViewRow({
      height : 120,
      backgroundColor:'#fff',
      borderWidth : 0,
      borderColor : 'transparent'
    });
  
    var my_tasks_table_top_label = Ti.UI.createLabel({
      text : 'test row:'+i+' date:'+new Date(),
      width : "100%",
      font : {
        fontSize : 12,
        fontFamily : 'Helvetica'
      },
      color : "black",
      top : 30,
      height : 20,
      left : 5
    });
    row.add(my_tasks_table_top_label);
  
    data.push(row);
  }

mytasks_helping_tableview.addEventListener('click', function(e) {
  //view a task screen
  var viewTask = Ti.UI.createWindow({
    height : "100%",
    width : "100%",
    title : "Helping with",
    barColor : 'lightGray'
  });

  var viewTask_top_label = Ti.UI.createLabel({
    text : 'nested view '+ e.index,
    width : "80%",
    font : {
      fontSize : 15,
      fontFamily : 'Helvetica'
    },
    color : "gray",
    top : 10,
    height : 20,
    left : 60
  });
  viewTask.add(viewTask_top_label);

  tab1.open(viewTask);
  });
  
  tabletmp.setData(data);
}

var datasource = ['1','2','3','4','5','6','7'];
  populateData(datasource,mytasks_helping_tableview);

mytasks_helping_button.addEventListener('click', function(e) {
  populateData(datasource,mytasks_helping_tableview);
});

tabGroup.addTab(tab1);
tabGroup.open();
</pre></code>


<h4>Discussions</h4>

Q&A: [bug-nested push animation can result in corrupted navigation bar](<a href="http://developer.appcelerator.com/question/127482/bug--nested-push-animation-can-result-in-corrupted-navigation-bar)" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/127482/bug--nested-push-animation-can-result-in-corrupted-navigation-bar)</a>


<h3>Comments</h3>

<ol>
<li>jean-baptsite pringuey 2011-10-28

   Resolved by putting the listener outside of the populate data</li>
<li>Paul Dowsett 2011-12-28

   Thanks for the update - I wish I had seen your comment before restructuring the ticket. ;)
   
   Please note the changes I made, so that you can use the format for your future tickets. Please see [How to Submit a Bug Report](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)</a> for full details.
   </li>
<li>Paul Dowsett 2011-12-28

   As stated by user, closing as invalid.</li>
</ol>


<p><a href="/AC/AC-2849.json">JSON Source</a></p>