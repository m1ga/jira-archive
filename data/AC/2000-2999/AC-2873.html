---
title: "[AC-2873] When Parsing large amounts of XML and referencing nodes, randomly a node will either be nulled, or change type!!"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2012-01-04T14:35:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>xml,, xmlparsing</td></tr>
<tr><th>Reporter</th><td>Matt Bryson</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2012-01-04T11:22:46.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:47:49.000+0000</td></tr>
</table>

<h3>Description</h3>

We load a XML feed that has 400+  elements.  Each has about 5 child nodes with numbers or a title, not much data.

Looping over this XML, and converting it to JS randomly causes strange issues.

First we get the element list using xmlDom.documentElement.getElementsByTagName('nodeName'), which works every time.

Then we loop over those nodes, and for each child, we get the various sub node values we want and convert them to a JS object.

During this loop, the current node value will randomly change from a TiDOMElement to either null, Object or TiDOMNodeList.
Non of these are valid nodes, and thus subsequent node operations fail.

The next iteration of the XML list will work fine.



the function parseXML in the example file is passed the XHR responseXML object.

In the retrieveNodeValue( nodeName, xmlNode) method, suddenly one of the calls the xmlNode passed in is null, Object or TiDOMNodeList - Not a NODE.  All calls after this in the current loop will be the same,and then the next loop iteration it works fine.













<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2873_24925/example.js">example.js</td></td><td>2012-01-04T11:24:36.000+0000</td><td>1165</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2012-01-04

   Alan Leard has raised this in TIMOB-6985. Watch that ticket, if this issue is important to you.</li>
<li>Mauro Parra-Miranda 2013-11-24

   DUP issue. </li>
</ol>


<p><a href="/AC/AC-2873.json">JSON Source</a></p>