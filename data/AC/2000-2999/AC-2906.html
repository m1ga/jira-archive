---
title: "[AC-2906] iOS: Build for device does not use platform specific folder"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-19T15:42:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Appcelerator Modules, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>device, ios, simulator</td></tr>
<tr><th>Reporter</th><td>Eli Mor</td></tr>
<tr><th>Assignee</th><td>Varun Joshi</td></tr>
<tr><th>Created</th><td>2012-05-21T08:37:19.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:47:52.000+0000</td></tr>
</table>

<h3>Description</h3>

When building the app for simulator, Titanium uses the correct file from the platform specific folder (iphone). When running on device, platform specific file is not loaded, but instead file used from the resources folder.

Way to duplicate:
1. Create new titanium mobile project (single page)
2. Run the app on simulator and device - Works fine.
3. Copy the file from resources/ui/common/FirstView.js to resources/iphone/ui/common/FirstView.js
4. modify label to include additional info, indicating located in iPhone folder.
5. Clean project.
6. Run on simulator. Correct file used.
7. Run on device. File from resources/ui/common/FirstView.js is used, instead of platform specific.
8. If the file from resources/ui/common is removed, build to device uses correct file (platform specific), but then generates Slider related error (second bug).

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2906_27833/applicationerror.log">applicationerror.log</td></td><td>2012-05-21T08:37:19.000+0000</td><td>2741</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2906_27829/iOS Simulator Screen shot May 21, 2012 9.05.52 AM.png">iOS Simulator Screen shot May 21, 2012 9.05.52 AM.png</td></td><td>2012-05-21T08:37:19.000+0000</td><td>10936</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2906_27830/iOS Simulator Screen shot May 21, 2012 9.13.25 AM.png">iOS Simulator Screen shot May 21, 2012 9.13.25 AM.png</td></td><td>2012-05-21T08:37:19.000+0000</td><td>11818</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2906_27832/iPhone.png">iPhone.png</td></td><td>2012-05-21T08:37:19.000+0000</td><td>40373</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-2906_27831/iPhone Error.png">iPhone Error.png</td></td><td>2012-05-21T08:37:19.000+0000</td><td>86731</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Varun Joshi 2012-06-04

   Hi,
   
   Did you try cleaning the project before installing it onto the device and also removing the previous built app from the device so we are sure that there is no reference to it?
   
   Thanks,
   Varun</li>
<li>Eli Mor 2012-06-04

   I did try that. Several times, including creating a brand new test project(different id and folder) with the same results: when the file was in the iPhone folder, it generated  the error as you can see in the screenshot</li>
<li>JoÃ«l Bohrer 2012-06-04

   Hi Varun,
   
   Before making your comment, did you try it yourself ? I have found the same problem, I have lost a few hours because of it, I can even explain you why it fails (or at least where you can watch), but I think you could at least try and verify, instead of making such a comment. Your community wants to help you, not to make you lose time.
   
   When you compile for the device, and watch the build.log, you can see that builder copy all files from specific folders to "build/Resources", but then it compiles from the original folder that's why it doesn't take care about specific files.
   It's in /Library/Application Support/Titanium/mobilesdk/osx/2.0.2.GA/iphone/compiler.py, around line 559 (and its callee, of course).
   
   Thank you for trying it.
   
   Joel</li>
<li>Varun Joshi 2012-06-21

   </li>
<li>Dan Ziemba 2012-06-25

   I am experiencing what is probably the same bug.  Attempting to use Ti.UI.iPhone.createNavigationGroup from any file within '/Resources/iphone/ui/' causes the following error:
   
   [ERROR] Script Error = 'undefined' is not an object (evaluating 'Ti.UI.iPhone.createNavigationGroup') (unknown file).
   
   No error appears if the code is run on the iphone simulator, but then running it on the device causes the error to happen both on the device and subsequent runs on the simulator until the project is cleaned.  I've tried with several different types of iDevices with different os versions and both deploying through itunes and with ad-hoc.  I've tried cleaning the project, deleting the build folder, creating a new project and coping only essential parts to run just iphone stuff, and finally an empty project with just the essential code for creating a nav group.  All attempts have resulted in the same errors, so I think it must be related to this bug.</li>
<li>Varun Joshi 2012-07-02

   Hi Dan,
   
   Did you try this with the latest CI Build? The issue is resolved in that build.
   
   Thanks,
   Varun</li>
<li>Varun Joshi 2012-07-19

   Issue fixed in latest CI.</li>
</ol>


<p><a href="/AC/AC-2906.json">JSON Source</a></p>