---
title: "[AC-3007] Ti.XML getNamedItem on a non existing attribute throws NullPointerException on Android"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2011-08-11T04:33:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android, defect</td></tr>
<tr><th>Reporter</th><td>Ruben Fonseca</td></tr>
<tr><th>Assignee</th><td>Tony Guntharp</td></tr>
<tr><th>Created</th><td>2011-07-26T09:43:00.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:48:02.000+0000</td></tr>
</table>

<h3>Description</h3>

If you have a XML node, and request a non exiting attribute, Titanium Mobile crashes on Android with NullPointerException

<code><pre>
var node = # XML node
node.attributes.getNamedItem('foo') // <-- crash
</pre></code>

The reason is that on this line
<a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/xml/src/ti/modules/titanium/xml/NamedNodeMapProxy.java#L31" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/xml/src/ti/modules/titanium/xml/NamedNodeMapProxy.java#L31</a>

you pass null to the getNodeProxy if the name doesn't exist. Then the getNodeProxy tries to call a method on it
<a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/xml/src/ti/modules/titanium/xml/NodeProxy.java#L59" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/xml/src/ti/modules/titanium/xml/NodeProxy.java#L59</a>

which causes the null pointer exception

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2011-08-10

   Ruben
   
   Are you able to please provide an XML file to test this with, so the core devs have everything they need to replicate it as you see it? This will also allow them to confirm their fix works correctly.
   
   Thanks</li>
<li>Ruben Fonseca 2011-08-10

   Hi Paul.
   
   I think the bug got fixed by this ticket TIMOB-4573, specifically on this commit
   
   <a href="https://github.com/appcelerator/titanium_mobile/commit/6bcd738ce0719847c20fa4c01b26fdbe7603525a" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/6bcd738ce0719847c20fa4c01b26fdbe7603525a</a>
   
   So I think you can close this ticket now. Thank you.</li>
<li>Paul Dowsett 2011-08-11

   That's good of you to provide a follow-up. Closing, as per your request. Cheers</li>
<li>Paul Dowsett 2011-10-07

   Closing due to inactivity.</li>
</ol>


<p><a href="/AC/AC-3007.json">JSON Source</a></p>