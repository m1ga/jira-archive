---
title: "[AC-3034] Using lots of graphics drastically increases VM memory footprint on Android"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-01-10T08:32:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android, crash, feature, ios</td></tr>
<tr><th>Reporter</th><td>Sven Herzberg</td></tr>
<tr><th>Assignee</th><td>Paul Dowsett</td></tr>
<tr><th>Created</th><td>2012-01-10T08:11:55.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:48:04.000+0000</td></tr>
</table>

<h3>Description</h3>

As our application uses quite some images for its visual representation, we started to run into memory issues on Android once we introduced different layouts.

Relevant snippets from LogCat:
<code><pre>
01-05 10:45:35.285: E/AndroidRuntime(460): FATAL EXCEPTION: main
01-05 10:45:35.285: E/AndroidRuntime(460): java.lang.OutOfMemoryError: bitmap size exceeds VM budget
01-05 10:45:35.285: E/AndroidRuntime(460):     at android.graphics.BitmapFactory.nativeDecodeStream(Native Method)
01-05 10:45:35.285: E/AndroidRuntime(460):     at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:459)
</pre></code>

A possible solution would be to manually load images and assign them to the views' backgrounds directly, like this:

<code><pre>
var group;
var win;
var tab;
var view;


Titanium.UI.setBackgroundColor('#000');
group = Titanium.UI.createTabGroup();
win = Titanium.UI.createWindow({
    backgroundColor:'#fff',
    title: 'Test'
});
tab = Titanium.UI.createTab({
    icon:   'KS_nav_views.png',
    title:  win.title,
    window: win
});
var img = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory + '/KS_nav_ui.png').read().image;
view = Titanium.UI.createView({
	backgroundImage: img
});
win.add(view);
group.addTab(tab);


group.open();
</pre></code>

However, this doesn't work with Titanium's current implementation (no background on Android; Crash on iOS -- shouldn't this rather be an exception than a crash?). Due to TC-550, using Ti.UI.ImageView isn't an option either.

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2012-01-10

   </li>
<li>Sven Herzberg 2012-01-10

   So, given that I want to improve the way the memory is managed and you simply provide a link to a document which doesn't solve my problem, should I go away from Titanium and instead develop app natively, so I can at least improve the way the memory is managed?</li>
<li>Paul Dowsett 2012-01-10

   Also, see the overviews in [this section](<a href="https://wiki.appcelerator.org/display/guides/Cross-Platform+Mobile+Development+In+Titanium)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/Cross-Platform+Mobile+Development+In+Titanium)</a> of the "Building Mobile Applications with Titanium" book.</li>
<li>Sven Herzberg 2012-01-10

   None of these overviews bring me closer to improving the memory footprint of the application.</li>
<li>Paul Dowsett 2012-01-10

   A ticket needs to prove the existence of a bug, for it to be accepted. I'm afraid that this does not, in its current form. Please kindly refer to the [How to Submit a Bug Report](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)</a> guide to learn how tickets need to be filed. Please also remember to raise a [Q&A question](<a href="http://developer.appcelerator.com/questions/created)" rel="nofollow" target="_blank">http://developer.appcelerator.com/questions/created)</a> (and to allow time for people to respond) before opening a ticket.
   
   Thank you</li>
</ol>


<p><a href="/AC/AC-3034.json">JSON Source</a></p>