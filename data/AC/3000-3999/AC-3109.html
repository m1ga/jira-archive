---
title: "[AC-3109] Android: Hardware back-button does not function when "android:back" event listener is attached to heavyweight window"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-04-01T22:51:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ivan Skugor</td></tr>
<tr><th>Assignee</th><td>Federico Casali</td></tr>
<tr><th>Created</th><td>2012-02-24T01:46:45.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:48:10.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>The problem</h4>



Heavyweight window can't be closed using hardware back-button when it has "android:back" event listener attached.



<h4>Test case</h4>



To see this problem run this example:


<code><pre>

var win = Ti.UI.createWindow({
	backgroundColor: '#000'
});

var button = Ti.UI.createButton({
	title: 'Open window'
});

button.addEventListener('click', function() {
	
    var win1 = Ti.UI.createWindow({
    	title: 'Click back button',
    	modal: true,
    	backgroundColor: '#369'
    });
    
	win1.addEventListener('android:back', function() {
		Ti.API.info('Android:back');
	});
	
	win1.open();
	
});

win.add(button);

win.open();

</pre></code>


Click on button and then try to close a window using hardware back-button. You should see that window did not close, while event has been fired as it can be seen in console output.



<h4>Expected behavior</h4>



Window needs to be closed when hardware back-button is clicked. Note that this works fine when example is compiled with 1.8.1 SDK.

<h3>Comments</h3>

<ol>
<li>Ivan Skugor 2012-02-24

   Just to add ... it seems that tabgroup also can't be closed using hardware back-button when some window in it has "android:back" event attached.</li>
<li>Ivan Skugor 2012-03-20

   This seems to be fixed in latest CI, so it can be closed.</li>
<li>Federico Casali 2012-04-01

   Not able to reproduce.
   Please note that in the example above, the only result that should be noticed clicking on the back button is to display the 'Android:back' in the console log.
   To also close the  window, 'win1.close()' should also be added in the eventListener.</li>
</ol>


<p><a href="/AC/AC-3109.json">JSON Source</a></p>