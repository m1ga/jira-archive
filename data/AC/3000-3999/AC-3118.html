---
title: "[AC-3118] TableView backgroundImage property causes huge memory leak"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2011-10-20T13:46:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>bug, ios, memory, tableview</td></tr>
<tr><th>Reporter</th><td>Jason Sznol</td></tr>
<tr><th>Assignee</th><td>Matthew Apperson</td></tr>
<tr><th>Created</th><td>2011-09-01T14:46:09.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:48:10.000+0000</td></tr>
</table>

<h3>Description</h3>

When setting a .png image as the backgroundImage of a tableView, the application leaks about 10-15 megs of memory. I am unsure if this is a problem with other file types. This was tested using instruments on an ipod touch 4th gen.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-3118_23055/altBackground.png">altBackground.png</td></td><td>2011-09-26T07:04:54.000+0000</td><td>228086</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2011-09-23

   Jason
   
   Please would you provide [a usecase](<a href="http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-CreatingGoodUsecases)" rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-CreatingGoodUsecases)</a> and also all the rest of the information requested in the [Jira Ticket Checklist](<a href="http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-Summary%3AJiraTicketChecklist)." rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-Summary%3AJiraTicketChecklist).</a> Once this ticket is complete and the issue is proven, we can move it to the main project.
   
   Many thanks</li>
<li>Jason Sznol 2011-09-26

   I've attached the png. The code would look something similar to this in app.js.
   
   var win = Ti.UI.createWindow();
   
   var table = Ti.UI.createTableView({
       backgroundImage: 'altBackground.png'
   });
   
   win.add(table);
   
   win.open();</li>
<li>Matthew Apperson 2011-10-20

   Jason, 
   
   Please update the ticket with this information, rather then adding the information to the comments.
   
   Also, how are you going about testing for the memory leak? (please also add this to the description of the ticket)
   
   Best regards,
   Matt</li>
<li>Paul Dowsett 2012-02-17

   Closing due to inactivity. If this issue still exists, please raise a new ticket, including all the information in the [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)</a> to ensure that we can escalate it quickly. Read [How to Submit a Bug Report](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)</a> if you have not read it before, and always start a ticket using the [JIRA Ticket Template](<a href="https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template)." rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template).</a>
   
   Thanks in advance</li>
<li>Luis Miguel García 2012-10-28

   I'm able to reproduce this problem. I have a 77 Kb .png. When I "open" the Window that has the tableView with backgroundImage, it "Force Closes".
   
   In the DDMS logs I can see that my application is trying to get 2 MB of memory, and the VM is denying so much memory. If I comment out the "backgroundImage" line while creating the tableView, I don't get the FC.
   
   I've tried to make a use case to upload to Jira, but I couldn't reproduce it outside my app.</li>
<li>Luis Miguel García 2012-10-29

   I forgot to mention that I'm on Titanium Mobile 2.1.3 and Testing in Android Emulator 2.3.3.
   
   Is there any more info I can provide to help reproduce and fix the problem?
   
   Thanks a lot.</li>
</ol>


<p><a href="/AC/AC-3118.json">JSON Source</a></p>