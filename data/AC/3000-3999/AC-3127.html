---
title: "[AC-3127] iPhone client closes TCP connection after 10 seconds"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2011-12-26T05:42:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>defect, ios, iphone</td></tr>
<tr><th>Reporter</th><td>Michael Welter</td></tr>
<tr><th>Assignee</th><td>Paul Dowsett</td></tr>
<tr><th>Created</th><td>2011-12-02T06:46:42.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:48:11.000+0000</td></tr>
</table>

<h3>Description</h3>

(This is not a problem with the Android emulator)

After opening an XMPP connection with the server, the iPhone client waits 10 seconds and then closes the connection.  It repeats this activity every 10 seconds thereafter.  The client is using the Sprophe XMPP library.

Wire trace at <a href="http://pastebin.com/xZFHFYuB" rel="nofollow" target="_blank">http://pastebin.com/xZFHFYuB</a>  The packet sent at 07:00:31.425308 closes the connection, the server acks, and the next packet (at 07:00:31.428480) opens a new connection on a different TCP port.  

No callbacks are executed during this period (no breakpoints hit).  There is nothing written to the Titanium debug logs during this event.

The same exact code works normally in the Android emulator.

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2011-12-26

   Thanks for raising this ticket.
   
   In order for me to escalate it to the core team, all the fields must be complete. Please check it against the [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)</a>, and add any missing information.
   
   Furthermore, a test case must run without modification, as per the [Creating a Test Case](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-CreatingaTestCase)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-CreatingaTestCase)</a> section.
   
   I will close this for now. Please reopen it once it is complete, and I will move it to the main project.
   
   Cheers</li>
<li>Paul Dowsett 2012-02-17

   Closing due to inactivity. If this issue still exists, please raise a new ticket, including all the information in the [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)</a> to ensure that we can escalate it quickly. Read [How to Submit a Bug Report](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)</a> if you have not read it before, and always start a ticket using the [JIRA Ticket Template](<a href="https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template)." rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template).</a>
   
   Thanks in advance</li>
</ol>


<p><a href="/AC/AC-3127.json">JSON Source</a></p>