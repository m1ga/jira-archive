---
title: "[AC-3138] View properties not updated after animation"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2011-10-20T12:38:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Javier Pascual Soriano</td></tr>
<tr><th>Assignee</th><td>Paul Dowsett</td></tr>
<tr><th>Created</th><td>2011-08-26T02:03:42.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:48:12.000+0000</td></tr>
</table>

<h3>Description</h3>

When launch an animation of a view than (for example) modify the 'top' property and use this property to calculate the next position of the view, the 'top' value is only valid at first time:

myButton.addEventListener("click", function () {
   myView.animate({
      top: myView.top + 10
   });
});

If the line 'top: myView.top + 10' is replaced with 'top: Math.random() * 10', view animation runs ok.

The bug is that 'animate' method don't update the 'top' property of the view after first complete animation.

<h3>Comments</h3>

<ol>
<li>Anthony Decena 2011-10-20

   Thank you for raising this ticket. If this is still an issue, then we need all the information listed in the [Jira Ticket Checklist](<a href="http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-Summary%3AJiraTicketChecklist)" rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-Summary%3AJiraTicketChecklist)</a> in order to accept a ticket.
   
   In this case, we need a complete code example showing the issue.
   
   Thank you.</li>
<li>Tamara Bernad 2011-10-31

   Hi, I am having the same issue. I see this ticket is already closed, but not solved because of lack of information.
   
   I am attaching here a code that can be use to see what is happening. Just two buttons and one box, when you click on button 1, the box animates to a position and on click on the second button the box resets its position to current top & left. On reset of the position the box should stay where it is, but it gets back to initial position, so the position values are not getting updated on the animation.
   
   The following code should work by just paste & compile:
   
   ----------------- CODE -----------------
   
   var platformWidth = Ti.Platform.displayCaps.platformWidth;
   var platformHeight = Ti.Platform.displayCaps.platformHeight;
   var win = Ti.UI.createWindow({
   	modal : true,
   	backgroundColor : '#000',
   	layout : 'absolute',
   	navBarHidden : true
   });
   var b1 = Titanium.UI.createButton({
   	title : 'Click to animate',
   	width : 200,
   	height : 30,
   	top : 10,
   	left : 10
   });
   var b2 = Titanium.UI.createButton({
   	title : 'Click to reposition',
   	width : 200,
   	height : 30,
   	top : b1.height + b1.top + 10,
   	left : 10
   });
   var box = Ti.UI.createView({
   	width : 100,
   	height : 30,
   	backgroundColor : "#ff00ff",
   	top : b2.top + b2.height + 20,
   	left : b1.left
   });
   win.add(b1);
   win.add(b2);
   win.add(box);
   b1.addEventListener('click', function(e) {
   	box.animate({
   		duration : 500,
   		left : platformWidth - box.width,
   		top : platformHeight - box.height - 30
   	});
   });
   
   b2.addEventListener('click', function(e) {
   	box.left = box.left;
   	box.top = box.top;
   });
   win.open();
   
   
   ----------------------------------------------------
   
   I am running:
   
   Titanium SDK version:1.7.3
   Platform & version: iOS 4.3
   Device Details: iOS simulator
   Host Operating System: OSX 10.6.7
   Titanium Studio version: 1.0.6.201110251616
   
   I hope this info helps, please let me know if this is enough or if I need to open a new ticket for this issue.
   
   Thank you.
   </li>
<li>Paul Dowsett 2012-02-17

   Closing due to inactivity. If this issue still exists, please raise a new ticket, including all the information in the [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)</a> to ensure that we can escalate it quickly. Read [How to Submit a Bug Report](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report)</a> if you have not read it before, and always start a ticket using the [JIRA Ticket Template](<a href="https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template)." rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template).</a>
   
   Thanks in advance</li>
</ol>


<p><a href="/AC/AC-3138.json">JSON Source</a></p>