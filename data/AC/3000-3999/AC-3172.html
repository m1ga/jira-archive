---
title: "[AC-3172] Android: Allow setting maxLines property of TextView through Ti.UI.Label"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2014-04-04T05:36:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ali Gangji</td></tr>
<tr><th>Assignee</th><td>Ritu Agrawal</td></tr>
<tr><th>Created</th><td>2014-04-03T20:50:54.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:57:34.000+0000</td></tr>
</table>

<h3>Description</h3>

The 'ellipsize' property for labels does not work on Android 4.x because maxLines cannot be set on the underlying TextView.

For example:
<code><pre>
var win1 = Titanium.UI.createWindow({
    backgroundColor:'red',
    exitOnClose:true,
    title:'win1: Main Window'
});
var label1 = Ti.UI.createLabel({
    backgroundColor:'black',
    color:'white',
    ellipsize:true,
    text:'This is some text to demonstrate the use of the ellipsize property of a label(click me!) This is some text to demonstrate the use of the ellipsize property of a label(click me!)',
    height:66,
    width:200,
    font:{fontSize:16}
});
win1.add(label1);
win1.open();
</pre></code>

The above will be ellipsized on iOS and on Android 2.x, but not on Android 4.0 or higher.

We can make this work by a simple modification to the TiUILabel class to allow setting the 'maxLines' property of the TextView which is wrapped by TiUILabel.

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-04-03

   This is a really old Android platform bug that is still not fixed. We cannot work around it in the Titanium. Resolving it as a duplicate of TIMOB-10451.
   
   Google bug:
   <a href="http://code.google.com/p/android/issues/detail?id=882" rel="nofollow" target="_blank">http://code.google.com/p/android/issues/detail?id=882</a></li>
<li>Ali Gangji 2014-04-04

   This is not the same issue. The android bug you referenced is an issue with single-line text and the ellipsize property.
   
   The way to ellipsize text after multiple lines on android is to use the maxLines property. This is a feature request to implement that property to enable setting a specific number of lines greater than 1. This is new functionality that titanium does not support.
   
   Why would you not have interest in supporting this property?</li>
<li>Ritu Agrawal 2014-04-23

   As per engineering comment in TIMOB-10451 ticket, we cannot set maxLines as SDK would need to calculate maximum number of lines dynamically based on a number of variables including font, spacing, text size and 
   
   To set the maxLines, the number of lines needs to be calculated dynamically which really depends on the font, spacing, text etc. and that would be error prone at the SDK level.</li>
</ol>


<p><a href="/AC/AC-3172.json">JSON Source</a></p>