---
title: "[AC-3232] Improve date picker to use Alloy.Globals reference"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-09-05T19:28:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>TCSupportTriage</td></tr>
<tr><th>Reporter</th><td>Michael Stelly</td></tr>
<tr><th>Assignee</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Created</th><td>2014-08-15T13:39:35.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:57:38.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to Reproduce</h4>
I have a global value for new Date() called Alloy.Globals.dates.today populated with the moment() method.

At the moment, I cannot use the global reference in my date picker like this
var datePicker = Ti.UI.createPicker({
  maxDate : Alloy.Globals.dates.today
});

I think this has more to do with moment.js than the Javascript Date object. Since moment.js is supported, I would expect to be able to use it as I see fit.

<h4>Actual Result</h4>
picker is disabled.

<h4>Expected Result</h4>
sets maxDate to today.

<h3>Comments</h3>

<ol>
<li>Motiur Rahman 2014-08-19

   Hello,
   
   We have tested this issue. Its work as expected, we can use alloy global variable (which is populated with the moment() method) inside the date picker.
   
   <h4>Testing Environment: </h4>
   Titanium SDK: 3.3.0.GA,
   Titanium CLI: 3.3.0,
   Android SDK: 4.4.3, 4.2.2,
   Alloy:1.4.1,
   iOS SDK:7.1,
   OS X Version: 10.9.4,
   Appcelerator Studio: 3.3.0
   
   <h4>Steps to test the issue:</h4>
   1. Create a Alloy project.
   2. Paste this code in alloy.js, index.js and index.xml file.
   3. Run this code with the testing environment.
   
   <h4>Test Code</h4>
   <code><pre>
   var moment = require('alloy/moment');
   var today = moment().toDate();
   
   Ti.API.info(today);
   
   Alloy.Globals.todays = today;
   
   </pre></code>
   
   <code><pre>
   <Alloy>
   	<Window backgroundColor="blue" id='win'></Window>
   </Alloy>
   </pre></code>
   
   <code><pre>
   
   var picker = Ti.UI.createPicker({
   	type : Ti.UI.PICKER_TYPE_DATE,
   	minDate : new Date(2009, 0, 1),
   	maxDate : Alloy.Globals.todays,
   	value : new Date(2013, 4, 10)
   });
   
   $.win.add(picker);
   
   $.win.open();
   
   </pre></code>
   
   Thanks.
   </li>
<li>Mauro Parra-Miranda 2014-09-05

   Please take a look into the testcase.</li>
<li>Michael Stelly 2014-09-05

   Thanks, Mauro. I will.</li>
</ol>


<p><a href="/AC/AC-3232.json">JSON Source</a></p>