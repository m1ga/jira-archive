---
title: "[AC-3293] Alloy: Project Configuration File should be deep-merged"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2014-12-18T15:52:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy</td></tr>
<tr><th>Labels</th><td>alloy, config.json</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Radamantis Torres-Lechuga</td></tr>
<tr><th>Created</th><td>2014-12-18T10:01:10.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-08T07:57:42.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently, the merge between different targets (by environment, deploy-type etc) within the same <code>config.json</code> as well as the merge of the app-level <code>config.json</code> and the one of the selected theme is shallow.

I'd like the merge to be deep.

<h4>Use case</h4>

*app/config.json*
<code><pre>
{
  "global": {
    "colors": {
      "dark": "red"
      "light": "white"
    }
  },
  "os:ios": {
    "colors": {
      "dark": "blue"
    }
  }
}
</pre></code>

*app/themes/mine/config.json*
<code><pre>
{
  "os:ios": {
    "colors": {
      "dark": "green"
    }
  }
}
</pre></code>

<h4>Current result</h4>

*Resources/iphone/alloy/CFG.js*
<code><pre>
module.exports = {
  "colors": {
    "dark": "green"
  }
};
</pre></code>

<h4>Desired result</h4>

*Resources/iphone/alloy/CFG.js*
<code><pre>
module.exports = {
  "colors": {
    "light": "white",
    "dark": "green"
  }
};
</pre></code>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-12-18

   Duplicates ALOY-1199</li>
<li>Fokke Zandbergen 2014-12-18

   Had to read ALOY-1199 3 times before I saw it, but indeed... Duplicate, but very much wanted.</li>
</ol>


<p><a href="/AC/AC-3293.json">JSON Source</a></p>