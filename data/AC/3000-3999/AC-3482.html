---
title: "[AC-3482] Hi ,Delete on ListView"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2016-04-18T06:08:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>ios</td></tr>
<tr><th>Reporter</th><td>Sachin</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-04-10T19:48:46.000+0000</td></tr>
<tr><th>Updated</th><td>2016-04-18T06:08:29.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi I am unable to delete selected Item From List View, Please find below sample code.

My Index.XML
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container"&gt;
		&lt;ListView id="pymtElementsList" defaultItemTemplate="elementTemplate"  height="200" editing="true" onDelete="deletePymtRecord"   allowsSelection="true"
				top="10%" borderColor="grey" borderRadius="3" borderWidth="0.5"
				&gt; 
			&lt;HeaderView&gt;
				&lt;View class="row" layout="horizontal"  height="30" width="100%" backgroundColor="Grey" borderColor="grey" borderWidth="0.5" borderRadius="6" &gt;							
					&lt;Label class="lblAgrhdr" id="editLblID" text="Delete" left="1.5%" width="9%" height="Titanium.UI.SIZE" color="#239142" &gt;&lt;/Label&gt;																						 								
				&lt;/View&gt;				
			&lt;/HeaderView&gt;			
		&lt;Templates&gt; 			
        	&lt;ItemTemplate name="elementTemplate" &gt;          	
        		&lt;View class="listMainView" layout="horizontal"&gt;						 		
		 			&lt;Label class="lblPymtType" bindId="PaymentType"   left="12%" width="20%" &gt;&lt;/Label&gt;															 
				&lt;/View&gt;        	        	                                                   
       	 	&lt;/ItemTemplate&gt;
		&lt;/Templates&gt;
		
		&lt;ListSection  id="pymtHistListView" dataFunction="laodListView" &gt;
						
		&lt;/ListSection&gt;			
	&lt;/ListView&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

and Index.js is as follow.
<code><pre>
function doClick(e) {
    alert($.label.text);
}


function laodListView()
{
		var listItemsDataArray = [];
		var sections= [];
	var listRow = {};			
		listRow["ItemId"] = {
					text :"1"  
		};			
		listRow["PaymentType"] = {
					text :"ACH"  
		};		
		listRow["properties"] = {
				canEdit : "true" ,
				//allowsSelection:"true",										
		};																					
		listItemsDataArray.push(listRow);
		//$.pymtHistListView.setItems(listItemsDataArray);
		listRow = {};
		listRow["ItemId"] = {
					text :"2"  
		};			
		listRow["PaymentType"] = {
					text :"ACH2"  
		};	
		listRow["properties"] = {
			canEdit : "true" ,
			//allowsSelection:"true",										
		};																						
		listItemsDataArray.push(listRow);
		//$.pymtHistListView.setItems(listItemsDataArray);
		listRow = {};
		listRow["ItemId"] = {
					text :"3"  
		};			
		listRow["PaymentType"] = {
					text :"ACH3"  
		};						
		listRow["properties"] = {
			canEdit : "true" ,
			//allowsSelection:"true",										
		};																							
		listItemsDataArray.push(listRow);
		//$.pymtHistListView.setItems(listItemsDataArray);
		listRow = {};
		listRow["ItemId"] = {
					text :"4"  
		};			
		listRow["PaymentType"] = {
					text :"ACH4"  
		};	
		listRow["properties"] = {
			canEdit : "true" ,
			//allowsSelection:"true",										
		};																						
		listItemsDataArray.push(listRow);
		//$.pymtHistListView.setItems(listItemsDataArray);
			
		Ti.API.info("List View listItemsDataArray= "+JSON.stringify(listItemsDataArray));
		$.pymtHistListView.setItems(listItemsDataArray);
		//$.pymtElementsList.setSections($.pymtHistListView);
}

laodListView();

function deletePymtRecord(e)
{
Ti.API.info("&&&&&&& PymtHistWidget INSIDE Function deleteRecord  "+JSON.stringify(e) );		
	Ti.API.info("$.$.pymtElementsList = "+JSON.stringify($.pymtElementsList));
	Ti.API.info("$.$.pymtHistListView = "+JSON.stringify($.pymtHistListView));
	Ti.API.info("Currently selected Item Section Index = "+e.sectionIndex);
	Ti.API.info("Currently selected Item Item Index = "+e.itemIndex);
	
	alert(" deletePymtRecord event Called ");
	
		
	// Get the clicked item from that section
	var item = e.section.getItemAt(e.itemIndex  ); 
	
	Ti.API.info("Selected Delete Item = "+JSON.stringify(item));
	
	$.pymtElementsList.sections[0].deleteItemsAt(e.itemIndex, item, { animated:true });
	
	//$.pymtHistListView.deleteItemsAt(e.itemIndex, item, { animated:true });
	
	
	
	Ti.API.info("&&&&&&& Leaving function  "+JSON.stringify(e) );
	
	
}

$.index.open();
</pre></code>

Please suggest How I can Delete Item At selected Index

<h3>Comments</h3>

<ol>
<li>Nazmus Salahin 2016-04-11

   Hello,
   You can use "deleteItemsAt" to delete a list item row. I am attaching a simple example here.
   *index.xml*
   <code><pre>
   &lt;Alloy&gt;
   	&lt;Window class="container"&gt;
   		&lt;ListView id="list"&gt;
   			&lt;ListSection&gt;
   				&lt;ListItem title="List item 1" color='black'&gt;&lt;/ListItem&gt;
   				&lt;ListItem title="List item 2" color='black'&gt;&lt;/ListItem&gt;
   				&lt;ListItem title="List item 3" color='black'&gt;&lt;/ListItem&gt;
   			&lt;/ListSection&gt;
   		&lt;/ListView&gt;
   	&lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   *index.js*
   <code><pre>
   function setListView() {
   	$.list.addEventListener('itemclick', function(e) {
   		e.section.deleteItemsAt(e.itemIndex, 1);
   	});
   
   }
   
   setListView();
   
   $.index.open();
   
   </pre></code>
   
   Thanks
   </li>
</ol>


<p><a href="/AC/AC-3482.json">JSON Source</a></p>