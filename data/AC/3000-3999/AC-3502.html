---
title: "[AC-3502] Ui.Picker broken in new alloy in Ti 5.2.1"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2016-04-14T08:29:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.4.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Adam Armstrong</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-04-13T18:20:28.000+0000</td></tr>
<tr><th>Updated</th><td>2016-04-14T08:29:58.000+0000</td></tr>
</table>

<h3>Description</h3>

Opening a popover with a simple picker crashes the app.

*[index.js] code to launch popover:*
var popover = Alloy.createController('popover').getView();
popover.show({view:$.button1});

*[popover.xml] code*
<Alloy>
	<Popover arrowDirection="Titanium.UI.iPad.POPOVER_ARROW_DIRECTION_UP" title="popover" height="300" width="250">
		<ContentView>
			<NavigationWindow id="navWindow">
				<Window>
					<LeftNavButton>
						<Button onClick="showAlert">left</Button>
					</LeftNavButton>
					<RightNavButton>
						<Button onClick="showAlert">right</Button>
					</RightNavButton>
					<Label>I'm a popover</Label>
						<Picker id="pickerID" width="310" height="228" selectionIndicator="true" useSpinner="true">
					            <Column id="column1">
					            	<Row title="select" />
					                <Row title="6" />
					                <Row title="7" />
					                <Row title="8" />
					                <Row title="9" />
					                <Row title="10" />
					                <Row title="11" />
					                <Row title="12" />
					            </Column>
					            <Column id="column2">
					                <Row title="00" />
					                <Row title="15" />
					                <Row title="30" />
					                <Row title="45" />
					            </Column>
					        </Picker>
				</Window>
			</NavigationWindow>
		</ContentView>
	</Popover>
</Alloy>


--Error--

[ERROR] :  Support for setting title on the popover directly is removed in 3.4.2
[ERROR] :  2016-04-13 13:14:04.978 Test4[92251:16271799] -[__NSCFNumber rangeOfCharacterFromSet:]: unrecognized selector sent to instance 0xb0000000000000f5
[ERROR] :  The application has crashed with an uncaught exception 'NSInvalidArgumentException'.
[ERROR] :  Reason:
[ERROR] :  -[__NSCFNumber rangeOfCharacterFromSet:]: unrecognized selector sent to instance 0xb0000000000000f5
[ERROR] :  Stack trace:
[ERROR] :  
[ERROR] :  0   CoreFoundation                      0x000000010993ef4d __exceptionPreprocess + 141
[ERROR] :  1   libobjc.A.dylib                     0x0000000109311deb objc_exception_throw + 48
[ERROR] :  2   CoreFoundation                      0x000000010994758d -[NSObject(NSObject) doesNotRecognizeSelector:] + 205
[ERROR] :  3   CoreFoundation                      0x0000000109894f7a ___forwarding___ + 970
[ERROR] :  4   CoreFoundation                      0x0000000109894b28 _CF_forwarding_prep_0 + 120
[ERROR] :  5   UIKit                               0x0000000106162d8b -[UILabel _contentInsetsFromFonts] + 137
[ERROR] :  6   UIKit                               0x0000000106462ed8 -[_UILabelLayer updateContentInsets] + 127
[ERROR] :  7   UIKit                               0x0000000106462fc7 -[_UILabelLayer updateContentLayerSize] + 50
[ERROR] :  8   UIKit                               0x0000000106463135 -[_UILabelLayer layoutSublayers] + 25
[ERROR] :  9   QuartzCore                          0x00000001083b6bd0 _ZN2CA5Layer16layout_if_neededEPNS_11TransactionE + 366
[ERROR] :  10  QuartzCore                          0x00000001083b6a4e _ZN2CA5Layer28layout_and_display_if_neededEPNS_11TransactionE + 24
[ERROR] :  11  QuartzCore                          0x00000001083ab1d5 _ZN2CA7Context18commit_transactionEPNS_11TransactionE + 277
[ERROR] :  12  QuartzCore                          0x00000001083d89f0 _ZN2CA11Transaction6commitEv + 508
[ERROR] :  13  UIKit                               0x0000000105f3153a _afterCACommitHandler + 174
[ERROR] :  14  CoreFoundation                      0x000000010986a9d7 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 23
[ERROR] :  15  CoreFoundation                      0x000000010986a947 __CFRunLoopDoObservers + 391
[ERROR] :  16  CoreFoundation                      0x000000010986059b __CFRunLoopRun + 1147
[ERROR] :  17  CoreFoundation                      0x000000010985fe98 CFRunLoopRunSpecific + 488
[ERROR] :  18  GraphicsServices                    0x000000010ac70ad2 GSEventRunModal + 161
[ERROR] :  19  UIKit                               0x0000000105f07676 UIApplicationMain + 171
[ERROR] :  20  Test4                               0x0000000103f95516 main + 310
[ERROR] :  21  libdyld.dylib                       0x000000010a58492d start + 1
[ERROR] :  
[ERROR] :  2016-04-13 13:14:04.991 Test4[92251:16271799] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[__NSCFNumber rangeOfCharacterFromSet:]: unrecognized selector sent to instance 0xb0000000000000f5'
[ERROR] :  *** First throw call stack:
[ERROR] :  (
[ERROR] :  	0   CoreFoundation                      0x000000010993ef65 __exceptionPreprocess + 165
[ERROR] :  	1   libobjc.A.dylib                     0x0000000109311deb objc_exception_throw + 48
[ERROR] :  	2   CoreFoundation                      0x000000010994758d -[NSObject(NSObject) doesNotRecognizeSelector:] + 205
[ERROR] :  	3   CoreFoundation                      0x0000000109894f7a ___forwarding___ + 970
[ERROR] :  	4   CoreFoundation                      0x0000000109894b28 _CF_forwarding_prep_0 + 120
[ERROR] :  	5   UIKit                               0x0000000106162d8b -[UILabel _contentInsetsFromFonts] + 137
[ERROR] :  	6   UIKit                               0x0000000106462ed8 -[_UILabelLayer updateContentInsets] + 127
[ERROR] :  	7   UIKit                               0x0000000106462fc7 -[_UILabelLayer updateContentLayerSize] + 50
[ERROR] :  	8   UIKit                               0x0000000106463135 -[_UILabelLayer layoutSublayers] + 25
[ERROR] :  	9   QuartzCore                          0x00000001083b6bd0 _ZN2CA5Layer16layout_if_neededEPNS_11TransactionE + 366
[ERROR] :  	10  QuartzCore                          0x00000001083b6a4e _ZN2CA5Layer28layout_and_display_if_neededEPNS_11TransactionE + 24
[ERROR] :  	11  QuartzCore                          0x00000001083ab1d5 _ZN2CA7Context18commit_transactionEPNS_11TransactionE + 277
[ERROR] :  	12  QuartzCore                          0x00000001083d89f0 _ZN2CA11Transaction6commitEv + 508
[ERROR] :  	13  UIKit                               0x0000000105f3153a _afterCACommitHandler + 174
[ERROR] :  	14  CoreFoundation                      0x000000010986a9d7 __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 23
[ERROR] :  	15  CoreFoundation                      0x000000010986a947 __CFRunLoopDoObservers + 391
[ERROR] :  	16  CoreFoundation                      0x000000010986059b __CFRunLoopRun + 1147
[ERROR] :  	17  CoreFoundation                      0x000000010985fe98 CFRunLoopRunSpecific + 488
[ERROR] :  	18  GraphicsServices                    0x000000010ac70ad2 GSEventRunModal + 161
[ERROR] :  	19  UIKit                               0x0000000105f07676 UIApplicationMain + 171
[ERROR] :  	20  Test4                               0x0000000103f95516 main + 310
[ERROR] :  	21  libdyld.dylib                       0x000000010a58492d start + 1
[ERROR] :  )
[ERROR] :  libc++abi.dylib: terminating with uncaught exception of type NSException





*Simply changing the Ti SDK to 5.2.0 in the dropdown in tiapp.xml using the AppC GUI doesn't resolve the issue.

* But, if I use CLI "appc use 5.2.0" then app and picker runs fine. If I understand correctly, this points to the new alloy version being the issue.

 

<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2016-04-14

   Thanks [~amwinsauto]. We already identified and fixed this bug as TIMOB-23191.</li>
</ol>


<p><a href="/AC/AC-3502.json">JSON Source</a></p>