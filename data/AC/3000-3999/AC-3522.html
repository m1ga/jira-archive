---
title: "[AC-3522] App crashes or freezes when uploading images and videos to amazon via firebase and refreshes the listview"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2016-04-26T15:53:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Appcelerator Modules, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>firebase, ios</td></tr>
<tr><th>Reporter</th><td>Javier Gonzalez</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-04-18T22:55:44.000+0000</td></tr>
<tr><th>Updated</th><td>2016-04-26T15:53:15.000+0000</td></tr>
</table>

<h3>Description</h3>

The following warning message shows up on my console when I try to save data on Firebase and the list where the data is located refreshes. Most of the time this happens when I save an image or video url in Firebase and then an imageview calls the url, and after this the app crashes.

This is the warning message:

[WARN] : 1 0x100401320 std::__1::__tree, std::__1::allocator >, std::__1::less, std::__1::allocator > >, std::__1::allocator, std::__1::allocator > > >::destroy(std::__1::__tree_node, std::__1::allocator >, void*>) [WARN] : 2 0x100452208 std::__1::__tree, std::__1::allocator >, std::__1::less, std::__1::allocator > >, std::__1::allocator, std::__1::allocator > > >::destroy(std::__1::__tree_node, std::__1::allocator >, void*>)
As a reference I am using: - Titanium SDK 5.1.2.GA. - Amazon S3. - Module com.leftlanelab.firebase 1.1.1

The data lives in a listview that contains images and text.

Use this modules 

<module platform="iphone">ti.imagefactory</module>
 <module platform="iphone">com.leftlanelab.firebase</module>

Steps:
1. Create an account in Amazon and a bucket in S3
2. Get your API keys, secret, and your bucket name to paste it in your code.
3. Start taking photos or videos.
4. App should crash when uploading photos or videos to amazon.
5. If crash does not happen try to do this with a bad internet connection.


and link to stackoverflow question <a href="http://stackoverflow.com/questions/36584993/appcelerator-ios-sudden-crash?noredirect=1#comment60965364_36584993" rel="nofollow" target="_blank">http://stackoverflow.com/questions/36584993/appcelerator-ios-sudden-crash?noredirect=1#comment60965364_36584993</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-3522_58992/entity.js">entity.js</td></td><td>2016-04-18T22:58:51.000+0000</td><td>22886</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-3522_58991/entity.tss">entity.tss</td></td><td>2016-04-18T22:59:18.000+0000</td><td>4588</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-3522_58990/entity.xml">entity.xml</td></td><td>2016-04-18T22:59:30.000+0000</td><td>4359</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-3522_58984/ic_camera@2x.png">ic_camera@2x.png</td></td><td>2016-04-18T22:55:12.000+0000</td><td>783</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-3522_58985/ti.amazon.s3.js">ti.amazon.s3.js</td></td><td>2016-04-18T22:43:46.000+0000</td><td>11291</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-04-20

   Hello,
   
   Please provide a sample project with only the necessary code section which causes the issue, for us to test in our environment. Please attach the project to this ticket. It will he helpful to test the issue and provide a solution once we have the full code and steps to regenerate the issue.
   
   Regards,
   Sharif.</li>
</ol>


<p><a href="/AC/AC-3522.json">JSON Source</a></p>