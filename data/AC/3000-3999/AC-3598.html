---
title: "[AC-3598] Relation fields in ArrowDB Appcelerator and File objects"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2016-05-17T14:02:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>ArrowDB</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jan Frode Maurice</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-05-05T17:29:18.000+0000</td></tr>
<tr><th>Updated</th><td>2016-05-17T14:02:15.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm adding a User object as an relation field to a Message object, and that works fine. But when I try to add an relation to a File object from the same Message object I get the following error:

400: Failed to send message: Invalid ACS type: file

Maybe I'm using the wrong notation for the File object!? I've tried: [ACS_File], [ACS_Files] without any luck?....[ACS_User] works like a charm?

Here is my code:

Cloud.Messages.create({
    to_ids: to.join(','),
    body: 'New Message',
    subject: 'Test Message',
    custom_fields:
    {
    "[ACS_File]file_id":videoFile, //videoFile is an Id string
    "[ACS_User]owner_id":to.join(','),

    "pausedAt" : pausedAt,
    "correctAnswer": correctAnswer,
    "a2" : a2,
    "a3" : a3
    }
}, function (e) {
    if (e.success) {
        var message = e.messages[0];
        alert('Success:\n' +
            'id: ' + message.id + '\n' +
            'subject: ' + message.subject + '\n' +
            'body: ' + message.body + '\n' +
            'updated_at: ' + message.updated_at);
            
    } else {
        alert('Error:\n' +
            ((e.error && e.message) || JSON.stringify(e)));
    }
});
}

	
I think the documentation on relations is somewhat thin: docs.appcelerator.com/arrowdb/latest/#!/guide/relationalfields I can't seem to figure out the "fieldname_id" part? in [ACS_<TYPENAME>]<fieldname_id> For what I understand, it should be: [ACS_File]ID_id if it is the id field of the File object I want refference!?

The confusing thing is that for example images is refferenced like this: [ACS_Photo]picture_id !? How should I know that the "fieldname" is called "picture" for the Photo object. Where is that documented? Sorry, but it is frustrating. And I've tried all thinkable combinations for the File object without luck..


<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-05-10

   Hello, 
   
   I tried to test the code you provided. It seems you have a code error. There is no field's  called custom_fields in Cloud.Messages. Can you please explain a little more on what you are trying to do. Also provide a clear code that youa re using. 
   
   Regards,
   Sharif.</li>
</ol>


<p><a href="/AC/AC-3598.json">JSON Source</a></p>