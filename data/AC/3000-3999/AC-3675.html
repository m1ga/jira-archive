---
title: "[AC-3675] IOS Assertion failed: (self.url != nil), function -[APSHTTPRequest send], file /Users/kiat/titaniumModules/APSHTTPClient/APSHTTPClient/APSHTTPRequest.m"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-06-02T20:16:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>http, xhr</td></tr>
<tr><th>Reporter</th><td>Suraj Datta</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-05-31T09:41:23.000+0000</td></tr>
<tr><th>Updated</th><td>2016-06-02T20:16:19.000+0000</td></tr>
</table>

<h3>Description</h3>

Hello,

While making XHR Http call I'm getting following error:

<code><pre>
Assertion failed: (self.url != nil), function -[APSHTTPRequest send], file /Users/kiat/titaniumModules/APSHTTPClient/APSHTTPClient/APSHTTPRequest.m, line 77.
</pre></code>

At this point my app crashes.

The API call was suppose to return following JSON value.

<code><pre>
{
  "value": [
    {
      "Title": "Preventive Maintenance",
      "URL": "<a href="https://api.myjson.com/bins/1gcuw" rel="nofollow" target="_blank">https://api.myjson.com/bins/1gcuw</a>"
    },
    {
      "Title": "PTSA",
      "URL": "<a href="https://api.myjson.com/bins/1ii0o" rel="nofollow" target="_blank">https://api.myjson.com/bins/1ii0o</a>"
    },
    {
      "Title": "Principal",
      "URL": "<a href="https://api.myjson.com/bins/44t2w" rel="nofollow" target="_blank">https://api.myjson.com/bins/44t2w</a>"
    },
    {
      "Title": "demo",
      "URL": "<a href="https://api.myjson.com/bins/57dyw" rel="nofollow" target="_blank">https://api.myjson.com/bins/57dyw</a>"
    }
  ]
}
</pre></code>



*Code Snippet:*

<code><pre>

function initializingAPIcalls() {
	Ti.API.info("Fn called");

var apiUrl = "Cannot Disclose";

var xhr = Ti.Network.createHTTPClient({

		onload : function() {

			response = this.responseText;

			var _response = JSON.parse(response);

			alert(_response);

},

		onerror : function(e) {

			Ti.API.info("Access Token error: " + e.code);

		}
	});

	xhr.open('GET', apiUrl);
	xhr.setRequestHeader("Content-Type", "application/json");
	xhr.setRequestHeader("Accept", "application/json; odata=nometadata");
	xhr.setRequestHeader("Authorization", "Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTBmZjEtY2UwMC0wMDAwMDAwMDAwMDAvdGF0YWNsYXNzZWRnZS5zaGFyZXBvaW50LmNvbUA3NWMzZTFkOS1lZGU2LTQxNzAtYTdlYi1mYjk3NWJhOTYyZTYiLCJpc3MiOiIwMDAwMDAwMS0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDBANzVjM2UxZDktZWRlNi00MTcwLWE3ZWItZmI5NzViYTk2MmU2IiwiaWF0IjoxNDY0Njg0NzYxLCJuYmYiOjE0NjQ2ODQ3NjEsImV4cCI6MTQ2NDY4ODY2MSwiYWN0b3IiOiIyN2FjYmJlMC0zZWRhLTQ5MWQtYTk0ZC00ZDVmMjVkODBlYThANzVjM2UxZDktZWRlNi00MTcwLWE3ZWItZmI5NzViYTk2MmU2IiwiaWRlbnRpdHlwcm92aWRlciI6InVybjpmZWRlcmF0aW9uOm1pY3Jvc29mdG9ubGluZSIsIm5hbWVpZCI6IjEwMDNiZmZkOTNiMTQ3ZmMifQ.AY21zJDQrk6lIxfNGfOb6euuTv21dv5CWRVpA6zL3iSLo2eqYxZL4Ul6cBv0Ugdm5gFpJ_PKJJY7C6_4sqFNQYGsBHqRWiqyaA-jeU0TlJvUTtLGKR0gJwY7TrYAnfk8FB_8IH2JhdTwa3SBVn_6MZ4smghfWucj89YVEaKUWhv3O_JjWU75Dd3jvTjYZ5W5SlSASku6GCo2OgS2qXv2RXOkdzcAC7qycyyYnhYgzTi5BbVSbuvRyQ3t_IWu50sKnxO4DhhN2oD9PYTiEaIWp1Bnh9NzR7MMEH2Au-eVrfQPty44s4xiQ21sHN9CBHbZXHDFsNxGduvNKPuf8yAPCA");
	xhr.send();

}
</pre></code>


Thanks.




<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-05-31

   Hello, 
   
   Thanks for creating the ticket. Please provide a full reproducible code and steps to test the issue in our environment. When we are able to reproduce the issue we will provide a fix. 
   
   Regards,
   Sharif.</li>
<li>Suraj Datta 2016-06-01

   Hello,
   
   The issue is solved guys.
   Actually my apiURL was having some space in between which was working fine on Postman.
   
   Thanks for your response.</li>
</ol>


<p><a href="/AC/AC-3675.json">JSON Source</a></p>