---
title: "[AC-3677] Android: URL Scheme intent is not being placed on AndroidManifest.xml after build"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2016-06-14T20:02:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.4.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android, android-6, android-manifest, cli, url-scheme</td></tr>
<tr><th>Reporter</th><td>Caio Perdona</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-05-31T21:50:47.000+0000</td></tr>
<tr><th>Updated</th><td>2016-06-14T20:02:59.000+0000</td></tr>
</table>

<h3>Description</h3>

After inserting code below into my tiapp.xml 

<code><pre>
&lt;activity android:label="@string/app_name"
       android:configChanges="keyboardHidden"
       android:name=".PinionActivity"
       android:screenOrientation="portrait" android:theme="@style/Theme.NoActionBar"
       url="app.js" android:launchMode="singleTask" android:alwaysRetainTaskState="true"&gt;
            &lt;intent-filter&gt;
                  &lt;action android:name="android.intent.action.MAIN"/&gt;
                  &lt;category android:name="android.intent.category.LAUNCHER"/&gt;
            &lt;/intent-filter&gt;
            &lt;intent-filter&gt;
                  &lt;action android:name="br.com.pinion.MESSAGE"/&gt;
                  &lt;category android:name="android.intent.category.DEFAULT"/&gt;
            &lt;/intent-filter&gt;
            &lt;intent-filter&gt;
                  &lt;data android:scheme="pinion"/&gt;
                  &lt;action android:name="android.intent.action.VIEW"/&gt;
                  &lt;category android:name="android.intent.category.DEFAULT"/&gt;
                  &lt;category android:name="android.intent.category.BROWSABLE"/&gt;
            &lt;/intent-filter&gt;
&lt;/activity&gt;
</pre></code>

URL schemes fail to launch app. After researching a bit, I found that Titanium is failing to insert the intent-filter into the generated AndroidManifest.xml located on build folder.
After overriding the tiapp.xml (putting generated AndroidManifest on app/platform/android) and manually inserting the code above, it worked like a charm.

Can anyone help me with this issue?
Thanks in advance.

<h3>Comments</h3>

<ol>
<li>Nazmus Salahin 2016-06-02

   Hello,
   Please check if the format of your customized manifest in tiapp.xml is correct. Things are working just fine in my environment in this regard.
   Thanks
   *Customized manifest in tiapp.xml :*
   <code><pre>
    &lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
       	&lt;manifest xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>" package="com.gsl.ac3677" android:versionCode="1" android:versionName="1.0"&gt;
   			&lt;application android:icon="@drawable/appicon" android:label="ac3677" android:name="Ac3677Application" android:debuggable="false" android:theme="@style/Theme.AppCompat"&gt;
   				&lt;activity android:name=".Ac3677Activity" android:label="@string/app_name" android:theme="@style/Theme.Titanium" android:configChanges="keyboardHidden|orientation|screenSize"&gt;
   					
   					&lt;intent-filter&gt;
   						&lt;action android:name="android.intent.action.MAIN"/&gt;
   						&lt;category android:name="android.intent.category.LAUNCHER"/&gt;
   					&lt;/intent-filter&gt;
   					
   			        &lt;intent-filter&gt;
                    	 	&lt;action android:name="br.com.pinion.MESSAGE"/&gt;
                    		&lt;category android:name="android.intent.category.DEFAULT"/&gt;
               		&lt;/intent-filter&gt;
   
              			&lt;intent-filter&gt;
                   	 	&lt;data android:scheme="pinion"/&gt;
                    		&lt;action android:name="android.intent.action.VIEW"/&gt;	
                    		&lt;category android:name="android.intent.category.DEFAULT"/&gt;
                    	 	&lt;category android:name="android.intent.category.BROWSABLE"/&gt;
               		&lt;/intent-filter&gt;
   
   				&lt;/activity&gt;
   		
   			&lt;/application&gt;
   
   		&lt;/manifest&gt;
   </pre></code>
   *Generated AndroidManifest.xml:*
   <code><pre>
   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;manifest xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>" package="com.abcd.ac3677" android:versionCode="1" android:versionName="1.0"&gt;
   	&lt;uses-sdk android:minSdkVersion="14" android:targetSdkVersion="23"/&gt;
   	&lt;application android:icon="@drawable/appicon" android:label="ac3677" android:name="Ac3677Application" android:debuggable="false" android:theme="@style/Theme.AppCompat"&gt;
   		&lt;activity android:name=".Ac3677Activity" android:label="@string/app_name" android:theme="@style/Theme.Titanium" android:configChanges="keyboardHidden|orientation|screenSize"&gt;
   			&lt;intent-filter&gt;
   				&lt;action android:name="android.intent.action.MAIN"/&gt;
   				&lt;category android:name="android.intent.category.LAUNCHER"/&gt;
   			&lt;/intent-filter&gt;
   			&lt;intent-filter&gt;
   				&lt;action android:name="br.com.pinion.MESSAGE"/&gt;
   				&lt;category android:name="android.intent.category.DEFAULT"/&gt;
   			&lt;/intent-filter&gt;
   			&lt;intent-filter&gt;
   				&lt;data android:scheme="pinion"/&gt;
   				&lt;action android:name="android.intent.action.VIEW"/&gt;
   				&lt;category android:name="android.intent.category.DEFAULT"/&gt;
   				&lt;category android:name="android.intent.category.BROWSABLE"/&gt;
   			&lt;/intent-filter&gt;
   		&lt;/activity&gt;
   		&lt;activity android:name="org.appcelerator.titanium.TiActivity" android:configChanges="keyboardHidden|orientation|screenSize"/&gt;
   		&lt;activity android:name="org.appcelerator.titanium.TiTranslucentActivity" android:configChanges="keyboardHidden|orientation|screenSize" android:theme="@style/Theme.AppCompat.Translucent"/&gt;
   		&lt;activity android:name="ti.modules.titanium.ui.android.TiPreferencesActivity" android:configChanges="screenSize"/&gt;
   		&lt;service android:name="com.appcelerator.analytics.APSAnalyticsService" android:exported="false"/&gt;
   	&lt;/application&gt;
   	&lt;uses-permission android:name="android.permission.INTERNET"/&gt;
   	&lt;uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/&gt;
   	&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt;
   	&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/&gt;
   &lt;/manifest&gt;
   </pre></code>
   
   *Environment*:
   
   *Device info:* Nexus7 (android 6.0.1)
   *Node.js Version:* 0.12.7
   *npm Version:* 2.11.3
   *Titanium SDKs:* 5.2.2.GA
   *Java Development Kit Version:* 1.8.0_73
   *Titanium CLI Version:*  5.0.5
   *Appcelerator CLI Version:*  5.2.2
   *Appcelerator Studio:* 4.5.0
   
   </li>
<li>Sharif AbuDarda 2016-06-02

   Hello, 
   
   If you are having a specific issue using URL scheme in Android here is a fairly easy guide for you to follow. <a href="http://fokkezb.nl/2013/08/26/url-schemes-for-ios-and-android-1/." rel="nofollow" target="_blank">http://fokkezb.nl/2013/08/26/url-schemes-for-ios-and-android-1/.</a> Follow the guide for using URL Scheme in Appcelerator. We are able to build and get the activity node in AndroidManifest.xml, which we then put in tiapp.xml
   
   Regards,
   Sharif</li>
<li>Caio Perdona 2016-06-03

   Guys, still no luck.
   Intent is not being placed on manifest, followed the link above in the first time already.
   
   Can't find anything wrong with my tiapp.xml.
   This is so strange...</li>
<li>Sharif AbuDarda 2016-06-09

   Hello, 
   
   We are not able to regenerate your issue. Perhaps you are not correctly following the instruction in <a href="http://fokkezb.nl/2013/08/26/url-schemes-for-ios-and-android-1/." rel="nofollow" target="_blank">http://fokkezb.nl/2013/08/26/url-schemes-for-ios-and-android-1/.</a> Please share with us how you are performing the action in details, possibly with screenshots or video demonstration. We will be able to escalate the ticket once we establish it's a real bug. 
   
   Regards,
   Sharif.</li>
</ol>


<p><a href="/AC/AC-3677.json">JSON Source</a></p>