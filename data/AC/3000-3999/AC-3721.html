---
title: "[AC-3721] TiHTTPClient java.lang.NullPointerException"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2016-06-12T05:02:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Andrea</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-06-02T20:16:06.000+0000</td></tr>
<tr><th>Updated</th><td>2016-06-13T02:07:13.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm using method Ti.Network.createHTTPClient in order to call a php service passing post variables.

I get a java.lang.NullPointerException

<h3>Comments</h3>

<ol>
<li>Andrea 2016-06-02

   [ERROR] :  TiHTTPClient: (TiHttpClient-2) [732,732] HTTP Error (java.lang.NullPointerException): java.lang.NullPointerException
   [ERROR] :  TiHTTPClient: java.lang.NullPointerException
   [ERROR] :  TiHTTPClient: 	at com.android.okhttp.internal.http.HttpEngine.readResponse(HttpEngine.java:783)
   [ERROR] :  TiHTTPClient: 	at com.android.okhttp.internal.http.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:347)
   [ERROR] :  TiHTTPClient: 	at com.android.okhttp.internal.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:296)
   [ERROR] :  TiHTTPClient: 	at com.android.okhttp.internal.http.HttpURLConnectionImpl.getHeaderField(HttpURLConnectionImpl.java:143)
   [ERROR] :  TiHTTPClient: 	at java.net.URLConnection.getHeaderFieldInt(URLConnection.java:544)
   [ERROR] :  TiHTTPClient: 	at java.net.URLConnection.getContentLength(URLConnection.java:316)
   [ERROR] :  TiHTTPClient: 	at ti.modules.titanium.network.TiHTTPClient.handleResponse(TiHTTPClient.java:159)
   [ERROR] :  TiHTTPClient: 	at ti.modules.titanium.network.TiHTTPClient.access$1200(TiHTTPClient.java:85)
   [ERROR] :  TiHTTPClient: 	at ti.modules.titanium.network.TiHTTPClient$ClientRunnable.run(TiHTTPClient.java:1207)
   [ERROR] :  TiHTTPClient: 	at java.lang.Thread.run(Thread.java:841)</li>
<li>Andrea 2016-06-02

   var client = Ti.Network.createHTTPClient({
        // function called when the response data is available
        onload : function(e) {
            Ti.API.info("Received text: " + this.responseText);
            alert('success');
        },
        // function called when an error occurs, including a timeout
        onerror : function(e) {
            Ti.API.debug(e.error);
            alert('error');
        },
        timeout : 5000  // in milliseconds
    });
    // Prepare the connection.
    //client.open("POST", url);
    		client.open("POST", url);
   		client.send({
   			"type" : "getcategories",
   			"sourcetype" : "source_app",
   		});
   	
   </li>
<li>Andrea 2016-06-02

   Of course if I call the php file from my browser I get the http response without any problem</li>
<li>Ashraf Abu 2016-06-06

   Testing this with:
   <code><pre>
   var url = "<a href="http://mockbin.com/request?foo=bar&foo=baz" rel="nofollow" target="_blank">http://mockbin.com/request?foo=bar&foo=baz</a>";
   var client = Ti.Network.createHTTPClient({
       // function called when the response data is available
       onload: function(e) {
           Ti.API.info("Received text: " + this.responseText);
           alert('success');
       },
       // function called when an error occurs, including a timeout
       onerror: function(e) {
           Ti.API.debug(e.error);
           alert('error');
       },
       timeout: 5000 // in milliseconds
   });
   // Prepare the connection.
   //client.open("POST", url);
   client.open("POST", url);
   //Set headers here.
   //client.setRequestHeader('Content-Type','text/csv');
   client.send({
       "type": "getcategories",
       "sourcetype": "source_app",
   });
   </pre></code>
   I do not find any issues. Could it be that your server expects something in the headers which causes it to give a wrong response?</li>
<li>Sharif AbuDarda 2016-06-09

   Hello, I can reconfirm that the issue is not occurring with Ashraf Abu's code. Can you follow his guide, or provide more info?
   
   Regards,
   Sharif.</li>
<li>Andrea 2016-06-11

   I re-installed Titanium sdk, and everything is ok now, tsk</li>
<li>Ashraf Abu 2016-06-13

   That's good to hear. Let us know if this reproduces again some how.</li>
</ol>


<p><a href="/AC/AC-3721.json">JSON Source</a></p>