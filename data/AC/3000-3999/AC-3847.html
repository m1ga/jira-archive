---
title: "[AC-3847] Migration only applies to the table not the model"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2016-06-21T18:38:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy</td></tr>
<tr><th>Labels</th><td>migration, model, sqlite</td></tr>
<tr><th>Reporter</th><td>Neville Dastur</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-06-14T22:53:20.000+0000</td></tr>
<tr><th>Updated</th><td>2016-06-21T18:38:42.000+0000</td></tr>
</table>

<h3>Description</h3>

I had a migration using:

<code><pre>
migration.up = function(migrator) {
    migrator.db.execute('ALTER TABLE ' + migrator.table + ' ADD COLUMN new_col INT;');
};
</pre></code>

This successfully adds the new column to the sqlite database, however models basedon the table can not be manipulated.

For example

<code><pre>
var Model = Alloy.createModel('mymodel');
Model.fetch({id: chat.from.id});
Model.set({
  "new_col": 1
});
Model.save();
</pre></code>

Will fail

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-06-15

   Hello, 
   
   Can you explain a little more about your issue? Please provide separate sample code to test for database and for Alloy model. We will test the sample to reproduce the issue in our environment. Also, Please provide complete steps to follow for successful regeneration. 
   
   Regards,
   Sharif.</li>
<li>Neville Dastur 2016-06-15

   Okay, realised not a bug but rather a documentation problem.
   
   I haven't tried but I didn't update the backbone model definition which must have been the cause. I think it would be worth adding to the docs to described the migration file but also that the new column need to be added to the Alloy model file</li>
<li>Sharif AbuDarda 2016-06-21

   Reference Docs: <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Alloy_Backbone_Migration</li>
</ol>


<p><a href="/AC/AC-3847.json">JSON Source</a></p>