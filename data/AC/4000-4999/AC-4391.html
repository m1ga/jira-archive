---
title: "[AC-4391] Facebook module loggedIn never true"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2016-08-28T16:37:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Alexander Rieger</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-08-25T06:03:44.000+0000</td></tr>
<tr><th>Updated</th><td>2016-08-28T16:37:20.000+0000</td></tr>
</table>

<h3>Description</h3>

I am using authorize function from Facebook module. In the past once I authorized with Facebook then the next time the app ist started newly I got loggedIn true or EventListener('login') was fired. Now this is not happening any more. Since my app code is calling then authorize again it always jumps to Facebook screen saying that the app is already authorized.

<code><pre>
    exports.facebook = require('facebook');
    exports.facebook.permissions = ['email','user_friends'];

    exports.facebookLogin=function() {
	    exports.facebook.addEventListener('login', faceBookLoginEvent);	
	    exports.facebook.initialize();			
	    exports.facebook.authorize();		
    };	
</pre></code>

This part always ends in calling facebookLogin, even after it is authorized once. 


<code><pre>
		if (exports.facebook.loggedIn) {
			facebookLoggedIn();
		} else {
			exports.facebookLogin();
		}
</pre></code>

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2016-08-28

   The code-style with all those <code>exports</code> statements causes problems with your application logic. I just verified that the loggedIn property works well when being called on a regular ti.facebook instance (e.g. <code>var fb = require("facebook);</code>). Ensure that your scope is correct and only use <code>exports</code> if you want something to be accessible from other components / controllers.</li>
</ol>


<p><a href="/AC/AC-4391.json">JSON Source</a></p>