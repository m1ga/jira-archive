---
title: "[AC-4496] Payload in KrollFunction: JNIUtil: !!! Unable to convert unknown Java object class 'java.util.ArrayList' to JS value !!!"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2016-11-07T14:42:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Rainer Schleevoigt</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-09-22T15:49:21.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-07T14:42:34.000+0000</td></tr>
</table>

<h3>Description</h3>

A XML parser (json-java) gives me an object like this: <a href="https://github.com/AppWerft/Ti.RemoteXML/blob/master/test.json" rel="nofollow" target="_blank">https://github.com/AppWerft/Ti.RemoteXML/blob/master/test.json</a> It is an object that contains as child partly arrays

I tried to use this object as second  parameter in KrollFunction.call().

In all cases crashes the app. I tried to convert the Object into HashMap, KrollDict or JSONObject (via contructor). The only working way is to send  the object by toString(). But in this case the payload must be converted to object on JS layer and exactly t his I would avoid.

Any ideas how I can clean transfer?



<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-11-01

   Hello, Can you provide a sample code? we will look into it. Thanks.</li>
</ol>


<p><a href="/AC/AC-4496.json">JSON Source</a></p>