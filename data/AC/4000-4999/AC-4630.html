---
title: "[AC-4630] [Android] Not able to complie/build any new/old module with the new SDK 6.0.0.GA"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-11-28T19:22:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>android, module, sdk-6.0.0.GA</td></tr>
<tr><th>Reporter</th><td>Lee phela</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-11-21T02:33:47.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-28T19:22:22.000+0000</td></tr>
</table>

<h3>Description</h3>

I cant build any module anymore with the new  sdk 6.0.0.GA.
I suspect it has got to do with the incompatible android NDK been used as the new sdk is making used of the latest V8 whereas the android NDK been used in the titanium studio is quit old and outdated. I tried installing the latest ndk revison 13 and tried compilling but that also always seems to ends up with some messy error.

This incompatibility has prevent all my projects from making use of the latest sdk 6 and had me still stuck at 5.5.1 sdk because my app make uses of a lot of external modules.

Steps to reproduce :
1. Go to titanium studio
2. Create new mobile module project with android as the deployment target using the sdk  6.0.0.GA version.
3. Put the android ndk path in the build.properties.
4. run as Ant Build.

The compiling never succeeds but always throws up some error [related to android NDK most probably]
 



<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-11-21

   Hello, You did not provide the actual error when you try to build module. Also, currently Appcelerator support NDK version 9. See:<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Installing_the_Android_NDK.Thanks.</li>
<li>Lee phela 2016-11-22

   Please take a look at the error log generated 
   
   Buildfile: /Users/mymac/Documents/mod6/android/build.xml
   python.set.exec:
   python.check:
        [echo] Testing for Python
        [exec] Python 2.7.10
   init:
   process.aidl:
        [echo] Generating java files from the .aidl files
        [echo] /Users/appcel/android-sdk/build-tools/23.0.3/aidl
   process.annotations:
   generate.v8.bindings:
        [java] Generating /Users/mymac/Documents/mod6/android/build/generated/jni/lee.mod6.Mod6Module.h
        [java] Generating /Users/mymac/Documents/mod6/android/build/generated/jni/lee.mod6.Mod6Module.cpp
        [java] Generating /Users/mymac/Documents/mod6/android/build/generated/jni/lee.mod6.ExampleProxy.h
        [java] Generating /Users/mymac/Documents/mod6/android/build/generated/jni/lee.mod6.ExampleProxy.cpp
   generate.bindings:
   pre.compile:
   js.compile:
   ndk.build:
       [mkdir] Created dir: /var/folders/mm/zp154r3123d4hjzbbyk83q5r0000gn/T/mymac/mod6-generated
        [copy] Copying 11 files to /var/folders/mm/zp154r3123d4hjzbbyk83q5r0000gn/T/mymac/mod6-generated
        [exec] Android NDK: WARNING:jni/Android.mk:lee.mod6: non-system libraries in linker flags: -lkroll-v8    
        [exec] Android NDK:     This is likely to result in incorrect builds. Try using LOCAL_STATIC_LIBRARIES    
        [exec] Android NDK:     or LOCAL_SHARED_LIBRARIES instead to list the library dependencies of the    
        [exec] Android NDK:     current module    
        [exec] jni/Android.mk:35: warning: overriding commands for target <code>/private/var/folders/mm/zp154r3123d4hjzbbyk83q5r0000gn/T/mymac/mod6-generated/KrollGeneratedBindings.cpp'
        [exec] jni/Android.mk:35: warning: ignoring old commands for target </code>/private/var/folders/mm/zp154r3123d4hjzbbyk83q5r0000gn/T/mymac/mod6-generated/KrollGeneratedBindings.cpp'
        [exec] jni/Android.mk:38: warning: overriding commands for target <code>/private/var/folders/mm/zp154r3123d4hjzbbyk83q5r0000gn/T/mymac/mod6-generated/BootstrapJS.cpp'
        [exec] jni/Android.mk:38: warning: ignoring old commands for target </code>/private/var/folders/mm/zp154r3123d4hjzbbyk83q5r0000gn/T/mymac/mod6-generated/BootstrapJS.cpp'
        [exec] Android NDK: WARNING:jni/Android.mk:lee.mod6: non-system libraries in linker flags: -lkroll-v8    
        [exec] Android NDK:     This is likely to result in incorrect builds. Try using LOCAL_STATIC_LIBRARIES    
        [exec] Android NDK:     or LOCAL_SHARED_LIBRARIES instead to list the library dependencies of the    
        [exec] Android NDK:     current module    
        [exec] [armeabi-v7a] Compile++ thumb: lee.mod6 <= lee.mod6.ExampleProxy.cpp
        [exec] In file included from /Users/mymac/Library/Application Support/Titanium/mobilesdk/osx/6.0.0.GA/android/native/include/Proxy.h:11:0,
        [exec]                  from jni/lee.mod6.ExampleProxy.h:12,
        [exec]                  from jni/lee.mod6.ExampleProxy.cpp:10:
        [exec] /Users/mymac/Library/Application Support/Titanium/mobilesdk/osx/6.0.0.GA/android/native/include/v8.h:345:1: error: expected unqualified-id before 'using'
        [exec] /Users/mymac/Library/Application Support/Titanium/mobilesdk/osx/6.0.0.GA/android/native/include/v8.h:481:1: error: expected unqualified-id before 'using'
        [exec] /Users/mymac/Library/Application Support/Titanium/mobilesdk/osx/6.0.0.GA/android/native/include/v8.h:882:1: error: expected unqualified-id before 'using'
        [exec] /Users/mymac/Library/Application Support/Titanium/mobilesdk/osx/6.0.0.GA/android/native/include/v8.h:5424:35: error: 'virtual v8::EmbedderHeapTracer::~EmbedderHeapTracer()' declared virtual cannot be defaulted in the class body
        [exec] make: *** [/var/folders/mm/zp154r3123d4hjzbbyk83q5r0000gn/T//mymac/mod6-generated/obj/local/armeabi-v7a/objs/lee.mod6/lee.mod6.ExampleProxy.o] Error 1
   {color:red}
   BUILD FAILED
   /Users/mymac/Library/Application Support/Titanium/mobilesdk/osx/6.0.0.GA/module/android/build.xml:347: The following error occurred while executing this line:
   /Users/mymac/Library/Application Support/Titanium/mobilesdk/osx/6.0.0.GA/module/android/build.xml:302: exec returned: 2
   {color}
   Total time: 15 seconds
   </li>
<li>Aminul Islam 2016-11-22

   Hi,
   So far we have been unable to reproduce this issue with Appcelerator Studio, build: 4.8.0.201611121409 and 6.0.0.GA. We recommend you to upgarde your NDK
   *build.properties*
   <code><pre>
   titanium.platform=/Library/Application Support/Titanium/mobilesdk/osx/6.0.0.GA/android
   android.platform=/Library/android-sdk-macosx/platforms/android-23
   google.apis=/Library/android-sdk-macosx/add-ons/addon-google_apis-google-23
   android.ndk=/Documents/r12b
   </pre></code>
   
   build success log :
   <code><pre>
   check.build.arch:
        [echo] Architectures in manifest: armeabi-v7a x86
        [echo] Compiled binary architectures: armeabi-v7a;x86
   ndk.build.local:
   compile:
       [javac] Compiling 1 source file to /Users/Raju/Documents/Appcelerator_Studio_Workspace_Oct_2016/newsix/android/build/classes
       [javac] warning: [options] bootstrap class path not set in conjunction with -source 1.6
       [javac] 1 warning
        [copy] Copying 1 file to /Users/Raju/Documents/Appcelerator_Studio_Workspace_Oct_2016/newsix/android/build/classes
   post.compile:
   pre.dist:
   dist:
         [jar] Building jar: /Users/Raju/Documents/Appcelerator_Studio_Workspace_Oct_2016/newsix/android/dist/newsix.jar
   post.jar:
   python.set.exec:
   python.check:
        [echo] Testing for Python
        [exec] Python 2.7.10
   init:
   pre.docgen:
   docgen:
        [exec] Creating dir: /Users/Raju/Documents/Appcelerator_Studio_Workspace_Oct_2016/newsix/android/build/docs
        [exec] Generating /Users/Raju/Documents/Appcelerator_Studio_Workspace_Oct_2016/newsix/android/build/docs/index.html
   post.docgen:
   check.respackage:
         [zip] Building zip: /Users/Raju/Documents/Appcelerator_Studio_Workspace_Oct_2016/newsix/android/dist/com.am.newsix-android-aaa.zip
   libs.check:
   zip.libs:
         [zip] Updating zip: /Users/Raju/Documents/Appcelerator_Studio_Workspace_Oct_2016/newsix/android/dist/com.am.newsix-android-aaa.zip
   zip.metadata:
   clean.respackage:
   post.dist:
   BUILD SUCCESSFUL
   Total time: 47 seconds
   </pre></code>
   Environment :
   <code><pre>
   Operating System
     Name                        = Mac OS X
     Version                     = 10.11.6
     Architecture                = 64bit
     # CPUs                      = 4
     Memory                      = 8.0GB
   
   Node.js
     Node.js Version             = 4.4.4
     npm Version                 = 2.15.1
   
   Appcelerator CLI
     Installer                   = 4.2.8
     Core Package                = 6.0.0
   
   Titanium CLI
     CLI Version                 = 5.0.10
     node-appc Version           = 0.2.31
   
   Titanium SDKs
       Version                   = 6.0.0
   </pre></code>
   
   Thanks</li>
<li>Lee phela 2016-11-23

   After updating the android NDK to revision 12 b, I can successfully compile again.
   
   I feel it should be explicitly stated on the release page that the latest release of the sdk needs ANDROID NDK r12b to successfully compile android module.</li>
<li>Sharif AbuDarda 2016-11-28

   Thanks for letting us know. Fixed with latest NDK release.</li>
</ol>


<p><a href="/AC/AC-4630.json">JSON Source</a></p>