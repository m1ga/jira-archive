---
title: "[AC-4640] openURL UTF8 GET parameters problem"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2016-12-01T14:34:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>ios</td></tr>
<tr><th>Reporter</th><td>Morten Hopstad</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-11-24T09:37:27.000+0000</td></tr>
<tr><th>Updated</th><td>2016-12-01T14:34:04.000+0000</td></tr>
</table>

<h3>Description</h3>

Hello.

On Android build made on Windows computer this is working fine.

On my MAC computer making the iOS build however I can not get this to work.

I open an URL like this : 
<code><pre>
var test = 'æøå';
var test2 = 'MoreÆØÅ';
var url = '<a href="https://somesite.com/?getParam1=" rel="nofollow" target="_blank">https://somesite.com/?getParam1=</a>' +test+ '&getParam2=' + test2;
openURL(url);
</pre></code>
---

Result is a messed up string . I have also tried using <code>Ti.Network.encodeURIComponent('øæå');</code> with the same result.

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-11-24

   Hello, What Titanium SDK are you using? Can you send a full sample code? Use the latest studio and SDK version. Thanks.</li>
<li>Morten Hopstad 2016-11-25

   Hello. I'm using the latest version of everything. (SDK is V6.0.0.GA)
   
   My code is used for opening a direct chat into a company and includes some semi-private keys etc. Therfor it will be difficult for me to show this exact code online for the public to see.
   
   Im doing the same thing on both the Android version and the iOS version. As mentioned, the Android version built on the Windows computer works fine but the iOS built on MAC shows the following:
   
   
   <code><pre>
   // Make URL
   var url = 'url.somecompany.com';
   
   // Some variables
   var customerKey = "123456";
   var something = 'æøå';
   
   // Add parameters to URL
   url = url + 
   '?customerKey=' + customerKey +
   '&something=' + something;
   
   // Open browser
   Titanium.Platform.openURL(url);
   
   // This opens a site that shows some of the given variables back to the user. "something" in this case.
   // It shows like this %C3%A6%C3%B8%C3%A5
   // Same result with and without Ti.Network.encodeURIComponent();
   </pre></code>
   </li>
<li>Hans Knöchel 2016-11-27

   Two things here:
   - The <code>Ti.Network.encodeURIComponent</code> works correctly, it encodes it utf-8 conform
   - You should try to avoid (un-encoded) special characters in requests, and if you do, your server would need to know how to deal with the encoded URI-string.
   
   This does not like an Titanium issue to me. Please try [this link](<a href="http://httpbin.org/get?param=More%C3%86%C3%98%C3%85)" rel="nofollow" target="_blank">http://httpbin.org/get?param=More%C3%86%C3%98%C3%85)</a> which will encode it the same way as the method does. We can test it with a native project as well, but it will most likely be the same.</li>
<li>Morten Hopstad 2016-11-28

   Hello and thank you for respons.
   
   My first thought was also that this was how the server is handling these encoded strings.
   
   But then I can see it's working in 2 of 3 cases. That was what made question Titanium and made a ticket.
   
   Android Build : Works fine. The string is decoded on the server and shows properly.
   Website (Javascript) : Works fine. Using URI-encoding (encodeURI())
   iOS : Trouble. Cant be decoded.</li>
<li>Sharif AbuDarda 2016-11-30

   Hello, I tried testing in simulator with your sample code. I wasn't able to reproduce the issue in iOS, The URL is same as it should be. 
   
   <code><pre>
   <a href="https://somesite.com/?getParam1=" rel="nofollow" target="_blank">https://somesite.com/?getParam1=</a>æøå&getParam2=MoreÆØÅ
   </pre></code>
   
   See my [screenshot](<a href="http://i64.tinypic.com/11vlely.jpg)" rel="nofollow" target="_blank">http://i64.tinypic.com/11vlely.jpg)</a> of the browser trying to open the url in iOS simulator.
   <code><pre>
   Operating System
     Name                        = Mac OS X
     Version                     = 10.11.6
     Architecture                = 64bit
     # CPUs                      = 4
     Memory                      = 8589934592
   
   Node.js
     Node.js Version             = 4.2.2
     npm Version                 = 2.14.7
   
   Titanium CLI
     CLI Version                 = 5.0.10
   
   Titanium SDK
     SDK Version                 = 6.0.0.GA
   </pre></code>
    </li>
</ol>


<p><a href="/AC/AC-4640.json">JSON Source</a></p>