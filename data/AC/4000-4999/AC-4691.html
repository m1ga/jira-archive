---
title: "[AC-4691] Windows: TabGroup createEventListener for \"back\" or \"windows:back\" do not work"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2017-01-03T20:51:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Mitch Starnes</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2016-12-22T19:34:04.000+0000</td></tr>
<tr><th>Updated</th><td>2017-01-03T20:51:00.000+0000</td></tr>
</table>

<h3>Description</h3>

I am currently unable to intercept the back button on a Windows Phone when the current window is based on a TabGroup. The back button kills the app.

Documentation: <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.UI.TabGroup-event-androidback refers to the Windows platform but it doesn't work.

Please add/fix event listening support for TabGroup on the Windows platform.



<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-12-22

   Hello, Please provide a full sample code to reproduce the issue in our environment. Thanks.</li>
<li>Mitch Starnes 2016-12-23

   Steps to reproduce:
   
   <h4>Build new mobile app based on the "Two-tabbed Alloy Application"</h4>
   <h4>Build and run in a Windows emulator for test purposes</h4>
   <h4>Replace index.js and index.xml with the code shown below.</h4>
   <h4>Build and run and test that tabs still work</h4>
   <h4>Hit the Back button and notice that neither windows:back nor back nor androidback are captured by the listeners in index.js</h4>
   
   
   <code><pre>
   &lt;!-- index.xml --&gt;
   &lt;Alloy&gt;
   	&lt;TabGroup&gt;
   		&lt;Tab title="Tab 1" icon="KS_nav_ui.png"&gt;
   			&lt;Window id="tab1" title="Tab 1"&gt;
   				&lt;Label&gt;I am Window 1&lt;/Label&gt;
   			&lt;/Window&gt;
   		&lt;/Tab&gt;
   		&lt;Tab title="Tab 2" icon="KS_nav_views.png"&gt;
   			&lt;Window id="tab2" title="Tab 2"&gt;
   				&lt;Label&gt;I am Window 2&lt;/Label&gt;
   			&lt;/Window&gt;
   		&lt;/Tab&gt;
   	&lt;/TabGroup&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   <code><pre>
   // index.js
   $.index.open();
   
   /* Don't let the user back out of the app */
   $.index.addEventListener('androidback',function(e) {
   	Ti.API.warn("index androidback");
   	e.cancelBubble = true;
       return false;
   });
   
   /* Don't let the user back out of the app */
   $.index.addEventListener('windows:back',function(e) {
   	Ti.API.warn("index windows:back");
   	e.cancelBubble = true;
       return false;
   });
   
   
   /* Don't let the user back out of the app */
   $.index.addEventListener('back',function(e) {
   	Ti.API.warn("index back");
   	e.cancelBubble = true;
       return false;
   });
   
   /* Don't let the user back out of the app */
   $.tab1.addEventListener('androidback',function(e) {
   	Ti.API.warn("tab1 androidback");
   	e.cancelBubble = true;
       return false;
   });
   
   /* Don't let the user back out of the app */
   $.tab1.addEventListener('windows:back',function(e) {
   	Ti.API.warn("tab1 windows:back");
   	e.cancelBubble = true;
       return false;
   });
   
   
   /* Don't let the user back out of the app */
   $.tab1.addEventListener('back',function(e) {
   	Ti.API.warn("tab1 back");
   	e.cancelBubble = true;
       return false;
   });
   
   /* Don't let the user back out of the app */
   $.tab2.addEventListener('androidback',function(e) {
   	Ti.API.warn("tab2 androidback");
   	e.cancelBubble = true;
       return false;
   });
   
   /* Don't let the user back out of the app */
   $.tab2.addEventListener('windows:back',function(e) {
   	Ti.API.warn("tab2 windows:back");
   	e.cancelBubble = true;
       return false;
   });
   
   
   /* Don't let the user back out of the app */
   $.tab2.addEventListener('back',function(e) {
   	Ti.API.warn("tab2 back");
   	e.cancelBubble = true;
       return false;
   });
   
   
   /* Don't let the user back out of the app */
   Ti.App.addEventListener('androidback',function(e) {
   	Ti.API.warn("Ti.App androidback");
   	e.cancelBubble = true;
       return false;
   });
   
   /* Don't let the user back out of the app */
   Ti.App.addEventListener('windows:back',function(e) {
   	Ti.API.warn("Ti.App windows:back");
   	e.cancelBubble = true;
       return false;
   });
   
   
   /* Don't let the user back out of the app */
   Ti.App.addEventListener('back',function(e) {
   	Ti.API.warn("Ti.App back");
   	e.cancelBubble = true;
       return false;
   });
   </pre></code></li>
<li>Mostafizur Rahman 2016-12-27

   Hello,
   
   Thanks for your query. We have tested your issue on our end on following environment and its working for me.
   
   *Testing Environment:*
   Appcelerator Studio, build: 4.8.0.201611121409
   SDK: 6.0.1.GA
   Appcelerator Command-Line Interface, version 6.0.0
   Windows emulator: 8.1 WVGA 4 inch 512MB
   
   *Testing Code:*
   <code><pre>$.tab2.addEventListener('windows:back',function(e) {
          alert("windows:back Working");
   	Ti.API.warn("tab2 windows:back");
   	e.cancelBubble = true;
       return false;
   });</pre></code>
   
   *Output:*
   [WARN] :   tab2 windows:back
   [INFO] :   Disconnected from app
   Also showing the alert.
   
   Thanks
   </li>
<li>Mitch Starnes 2016-12-29

   Still not working for me. 
   
   Did you follow my instructions to build the project from the "Two-tabbed Alloy Application" sample? 
   
   If so, our projects should now be identical as I replaced the contents of index.js with this:
   
   <code><pre>
   $.index.open();
   
   $.tab2.addEventListener('windows:back',function(e) {
   	alert("windows:back Working");
   	Ti.API.warn("tab2 windows:back");
   	e.cancelBubble = true;
       return false;
   });
   </pre></code>
   
   I have logging set at TRACE level. I am able to toggle between Tab1 and Tab2 but tapping the hardward back button closes the app with no alert and no WARN output.
   
   I am using VS 2015 Community Update 3. How about you?
   </li>
<li>Mitch Starnes 2016-12-29

   Is yours an Alloy project? Can I see your index.xml? 
   
   Can you share your working project in github?</li>
<li>Mostafizur Rahman 2017-01-02

   Hello [~mstarnes],
   
   Yes, I have tested on Alloy project. I am using VS 2013 Community. I have used your *index.xml* file.
   *Testing Environment:*
   Appcelerator Studio, build: 4.8.0.201611121409
   SDK: 6.0.1.GA
   Appcelerator Command-Line Interface, version 6.0.0
   Windows emulator: 8.1 WVGA 4 inch 512MB
   VS 2013 Community
   
   Thanks</li>
</ol>


<p><a href="/AC/AC-4691.json">JSON Source</a></p>