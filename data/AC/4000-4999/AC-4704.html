---
title: "[AC-4704] Strange issue when using \"const\" and conditional code"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2017-01-10T18:25:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jérémy Tonneau</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-01-02T21:27:59.000+0000</td></tr>
<tr><th>Updated</th><td>2017-01-10T18:25:36.000+0000</td></tr>
</table>

<h3>Description</h3>

Hello,

When I do something like that on an Android (note that this code shouldn't exists at all in "builded code") : 
<code><pre>
if(OS_IOS){
	const test = 'my string';
}
</pre></code>

I have this error: 

<code><pre>
[ERROR] :  TiExceptionHandler: (main) [128,128] ----- Titanium Javascript Runtime Error -----
[ERROR] :  TiExceptionHandler: (main) [1,129] - In /app.js:60,10
[ERROR] :  TiExceptionHandler: (main) [0,129] - Message: Uncaught SyntaxError: Missing initializer in const declaration
[ERROR] :  TiExceptionHandler: (main) [0,129] - Source: const test;
[ERROR] :  V8Exception: Exception occurred at /app.js:60: Uncaught SyntaxError: Missing initializer in const declaration
</pre></code>

And when I go the the "builded" file I have something like that : 
<code><pre>
const test;
</pre></code>

Which is not good because "const" need to been initialized ... And also not good because const is block scoped !




<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-01-03

   Hello, I can't reproduce the issue with the below code. In Android I don't run into any error. 
   <code><pre>
   var win = Ti.UI.createWindow({
   
       backgroundColor : 'white'
   
   });
   var osname = Ti.Platform.osname;
   
   var OS_IOS = (osname == 'iOS') ? true : false;
   
   if (OS_IOS) {
   
       const test = 'my string';
   
   }
   
   win.open(); 
   </pre></code>
   
   Can you provide a full sample code to reproduce. I am testing on SDK 6.0.1.GA. Thanks. 
   </li>
</ol>


<p><a href="/AC/AC-4704.json">JSON Source</a></p>