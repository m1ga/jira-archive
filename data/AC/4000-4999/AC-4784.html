---
title: "[AC-4784] iOS: Build to Device fail due to Ti.UI.RefreshControl usage"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2017-02-13T17:20:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>64-bit, buildproblem, ios, refreshcontrol, release-6.0.1</td></tr>
<tr><th>Reporter</th><td>Tom Nguyen</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-02-09T18:00:00.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-23T15:12:19.000+0000</td></tr>
</table>

<h3>Description</h3>

[INFO] :   Invoking xcodebuild
[ERROR] :  ** BUILD FAILED **
[ERROR] :  The following build commands failed:
[ERROR] :  CompileC build/Intermediates/Pillsync\ Scanner.build/Debug-iphoneos/Pillsync\ Scanner.build/Objects-normal/armv7/TiUIRefreshControlProxy.o Classes/TiUIRefreshControlProxy.m normal armv7 objective-c com.apple.compilers.llvm.clang.1_0.compiler
[ERROR] :  (1 failure)

I've narrowed the bug down to this API being added: Ti.UI.createRefreshControl
I've created a test project and built successfully to device WITHOUT that API. As soon as it's added, there's the error.



<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-02-09

   Hello, Please share a sample code that regenerates the issue for you. We will test the code and get back to you. Thanks.</li>
<li>Tom Nguyen 2017-02-09

    
       var pullRefresh = Ti.UI.createRefreshControl();
       tableResults.refreshControl = pullRefresh;
   
   "TiUIRefreshControlProxy.m normal armv7 objective-c "
   
   i believe the API for ios Refresh Control is giving this error.
   </li>
<li>Hans Knöchel 2017-02-09

   And please also attach the trace log, that would help greatly.</li>
<li>Sharif AbuDarda 2017-02-09

   Hello, I am testing the below code is simulator 
   <code><pre>
   var win = Ti.UI.createWindow({
       fullscreen:true
   });
   var counter = 0;
   function genData()
   {
       var data = [];
       var i=1;
       for (i=1;i<=3;i++) {
           data.push({properties:{title:'ROW '+(counter+i)}});
       }
       counter += 3;
       return data;
   }
   var section = Ti.UI.createListSection();
   section.setItems(genData());
   var control = Ti.UI.createRefreshControl({
       tintColor:'red'
   });
   var listView = Ti.UI.createListView({
       sections:[section],
       refreshControl:control
   });
   control.addEventListener('refreshstart',function(e){
       Ti.API.info('refreshstart');
       setTimeout(function(){
           Ti.API.debug('Timeout');
           section.appendItems(genData());
           control.endRefreshing();
       }, 2000);
   });
   win.add(listView);
   win.open();
   </pre></code>
   
   This works fine for iOS 10.2 simulator. will update the device result.</li>
<li>Motiur Rahman 2017-02-09

   Hello!
   
   I have tested the test code provided by [~sdarda] it works perfectly here.
   
   Testing Environment
   
   Operating System
     Name                        = Mac OS X
     Version                     = 10.12.3
     Architecture                = 64bit
     # CPUs                      = 4
     Memory                      = 8589934592
   Node.js
     Node.js Version             = 4.6.2
     npm Version                 = 2.15.11
   Titanium CLI
     CLI Version                 = 5.0.11
   Titanium SDK
     SDK Version                 = 6.0.1.GA
   
   Device: iPhone 5s v10.2
   Xcode: v8.2.1
   
   Thanks.</li>
<li>Hans Knöchel 2017-02-10

   There was no notable change to the Ti.UI.RefreshControl component over the last years. We will need the trace-log to say anything else.</li>
<li>Sharif AbuDarda 2017-02-10

   Hello [~tom@inventivegadget.com], Please send the trace log for us to analyze. Thanks.</li>
<li>Hans Knöchel 2017-08-23

   [~tom@inventivegadget.com] Any updates on your side? Did you resolve the issue yourself?</li>
<li>Tom Nguyen 2017-08-23

   yea it was Modules conflict. just had to add Width/Height property on createRefreshControl.</li>
</ol>


<p><a href="/AC/AC-4784.json">JSON Source</a></p>