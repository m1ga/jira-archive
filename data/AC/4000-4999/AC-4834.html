---
title: "[AC-4834] Defining var in Alloy.js causes global scope"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-03-03T14:11:56.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>alloy.js, scope, variables</td></tr>
<tr><th>Reporter</th><td>Creative</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-03-03T09:58:01.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-03T14:11:56.000+0000</td></tr>
</table>

<h3>Description</h3>

Defining a *var* in alloy.js actually creates a "global" variable since the context is the app itself. One would expect to have any local variable here go out of scope.

<code><pre>
// File: app/alloy.js
var mytestvar = 'foobar';
</pre></code>

Next, open any controller or common.js module, and simply retrieve the variable using *console.log(mytestvar);*. It will exist forever during the app's runtime.

I know one solution is to simply put alloy.js in a *(function(){})()* wrapper but the current implementation seems wrong by design.


<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2017-03-03

   This is made by design. The alloy.js is meant to be global if needed (although not recommended). People usually store global modules instances like Ti.Map there.</li>
</ol>


<p><a href="/AC/AC-4834.json">JSON Source</a></p>