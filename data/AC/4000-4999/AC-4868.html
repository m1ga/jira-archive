---
title: "[AC-4868] Building from CLI for Android device throws 'Failed to package application' error"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-03-27T18:38:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>titanium-cli</td></tr>
<tr><th>Reporter</th><td>Uriel Arvizu</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-03-21T18:53:12.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-27T18:38:23.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm trying to build an Alloy test project using the CLI. I followed the instructions from [here](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Setting_up_the_Titanium_CLI).

But whenever I run the command

{quote}ti build -p android -T device{quote}

I get the following error as it's finishing to try and generate the APK:

{quote}[INFO]  Generating C:\Titanium\workspace\AppTest4\build\android\res\values\theme.xml
[INFO]  Packaging application: c:\Android\SDK\build-tools\24.0.0\aapt.exe "package" "-f" "-m" "-J" "C:\Titanium\workspace\AppTest4\build\android\gen" "-M" "C:\Titanium\workspace\AppTest4\build\android\AndroidManifest.xml" "-A" "C:\Titanium\workspace\AppTest4\build\android\bin\assets" "-S" "C:\Titanium\workspace\AppTest4\build\android\res" "-I" "c:\Android\SDK\platforms\android-23\android.jar" "-F" "C:\Titanium\workspace\AppTest4\build\android\bin\app.ap_" "--auto-add-overlay" "--extra-packages" "ti.modules.titanium.ui:android.support.v7.appcompat:android.support.v7.cardview" "-S" "C:\Users\AGUSTN~1\AppData\Local\Temp\117222-4892-jevz47/res" "-S" "C:\Users\AGUSTN~1\AppData\Local\Temp\117222-4892-1b4s1oy/res" "-S" "C:\Users\AGUSTN~1\AppData\Local\Temp\117222-4892-1ik5kyr/res"
[ERROR] Failed to package application:
[ERROR]
[ERROR]{quote}

The full build log can be found in my attachments.

I have tried creating sample projects using Titanium SDK 6.0.2.GA, 6.0.1.GA and 5.5.1.GA, but none have been successful at generating the APK.

The way I generate the projects from CLI is using the following commands:

{quote}ti create --id com.mycompany.myapp -d . -n APPNAME -p android -t app -u <a href="http://mycompany.com" rel="nofollow" target="_blank">http://mycompany.com</a> 
cd APPNAME/
alloy new
{quote}

Are there any know causes for this issue? 

I attach the log from the command 'appc ti info -p android' when run with Titanium SDK 6.0.2.GA, 6.0.1.GA and 5.5.2.GA selected. 



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-4868_61897/appc_log_5.5.2.GA.txt">appc_log_5.5.2.GA.txt</td></td><td>2017-03-22T23:31:26.000+0000</td><td>1825</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-4868_61896/appc_log_6.0.1.GA.txt">appc_log_6.0.1.GA.txt</td></td><td>2017-03-22T23:31:26.000+0000</td><td>19364</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-4868_61895/appc_log_6.0.2.GA.txt">appc_log_6.0.2.GA.txt</td></td><td>2017-03-22T23:31:26.000+0000</td><td>18712</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-4868_61893/build_log.txt">build_log.txt</td></td><td>2017-03-22T22:57:51.000+0000</td><td>26486</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-03-21

   Hello, Use the new release SDK 6.0.2.GA. You are using an old SDK. Thanks.</li>
<li>Uriel Arvizu 2017-03-21

   Ok, I managed to get the latest SDK, created another test project and this time it fails when packaging the application, it throws the following:
   
   {quote}[INFO]  Generating C:\Titanium\workspace\TestApp\build\android\res\values\theme.xml
   [INFO]  Packaging application: c:\Android\SDK\build-tools\24.0.0\aapt.exe "package" "-f" "-m" "-J" "C:\Titanium\workspace\TestApp\build\android\gen" "-M" "C:\Titanium\workspace\TestApp\build\android\AndroidManifest.xml" "-A" "C:\Titanium\workspace\TestApp\build\android\bin\assets" "-S" "C:\Titanium\workspace\TestApp\build\android\res" "-I" "c:\Android\SDK\platforms\android-23\android.jar" "-F" "C:\Titanium\workspace\TestApp\build\android\bin\app.ap_" "--auto-add-overlay" "--extra-packages" "ti.modules.titanium.ui:android.support.v7.appcompat:android.support.v7.cardview" "-S" "C:\Users\AGUSTN~1\AppData\Local\Temp\117221-11972-1i8hc6e/res" "-S" "C:\Users\AGUSTN~1\AppData\Local\Temp\117221-11972-11ri86m/res" "-S" "C:\Users\AGUSTN~1\AppData\Local\Temp\117221-11972-1kv5ato/res"
   [ERROR] Failed to package application:
   [ERROR]
   [ERROR]{quote}</li>
<li>Sharif AbuDarda 2017-03-22

   Hello, Attach the log of "appc ti info -p android" as a text file in this ticket. Thanks.</li>
<li>Uriel Arvizu 2017-03-22

   I have attached the log with the contents you requested. Thanks.</li>
<li>Sharif AbuDarda 2017-03-23

   Hello, You should follow this link here <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Appcelerator_CLI_Tasks. You are using our old Titanium CLI for development. We are now Appcelerator. Also, Use the studio for development. Follow: <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Quick_Start. Thanks.</li>
<li>Uriel Arvizu 2017-03-23

   In that case you can close this as solved. Thanks</li>
</ol>


<p><a href="/AC/AC-4868.json">JSON Source</a></p>