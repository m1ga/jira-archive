---
title: "[AC-5001] Cant compile ti-mocha on 6.1.0.GA"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2017-08-01T18:34:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>6.1.0, android, compiler</td></tr>
<tr><th>Reporter</th><td>Creative</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-05-30T09:52:10.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-01T18:34:47.000+0000</td></tr>
</table>

<h3>Description</h3>

Error log lines:

<code><pre>
[ERROR] /Users/myuser/Documents/Appcelerator_Studio_Workspace/my-app/Resources/android/node_modules/ti-mocha/lib/build.js: Invalid number (32:40)
</pre></code>

After commenting out this specific line, and rebuilding, it finds another issue:

<code><pre>
[ERROR] /Users/myuser/Documents/Appcelerator_Studio_Workspace/my-app/Resources/android/node_modules/ti-mocha/lib/install.js: Invalid number (12:53)
</pre></code>

The faulty lines are:
<code><pre>
wrench.mkdirSyncRecursive(C.BUILD_DIR, 0755); // build.js line 32
if (!fs.existsSync(copyTo)) { fs.mkdirSync(copyTo, 0755); } // install.js line 12
</pre></code>

I've inspected both files and they seem to use both valid javascript, so I have no clue why the titanium compiler fails when not even in runtime yet.

Full sourcecode for this module can be found at <a href="https://github.com/tonylukasavage/ti-mocha" rel="nofollow" target="_blank">https://github.com/tonylukasavage/ti-mocha</a>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-07-19

   Can you test this on SDK 6.1.1.GA?</li>
</ol>


<p><a href="/AC/AC-5001.json">JSON Source</a></p>