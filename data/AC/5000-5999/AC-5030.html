---
title: "[AC-5030] Dialog box click not triggered"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-06-16T18:34:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Guile</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-06-15T16:06:00.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-16T18:34:38.000+0000</td></tr>
</table>

<h3>Description</h3>

The following code show a problem between alert dialog and controller.

I create an empty project, create an empty controller called 'test', then put this code in index.js

When you click on the label, its text is changed to "dialog open"
When you answer to the dialog, the label text is set to "dialog closed"

Because of the Alloy.createController() line , the click event is not triggered even if the dialog is closed. This happened very randomly (not at every time, I have to test it many time, by waiting few second before answer to the dialog).
I noticed this behaviour very rarely (but it may occur) without the createController, and it happens more often when I put createController()

use case : I use the widget fokkezb.loading that create a controller, and sometimes I need to open a dialog alert.

<code><pre>

function doClick(e) {
    Alloy.createController('test');

    var a = Titanium.UI.createAlertDialog({
        title : 'b',
        message : 'a',
        buttonNames : ['Y', 'N'],
        cancel : 1
    });
    a.addEventListener('click', function() {
        $.label.text = 'dialog closed';
    });
    $.label.text = 'dialog open';
    a.show();
}

$.index.open();

</pre></code>


<h3>Comments</h3>

<ol>
<li>Guile 2017-06-15

   Seems this is due to the property <property name="run-on-main-thread" type="bool">true</property>
   
   I set to true and didn't manage to reproduce the bug</li>
<li>Guile 2017-06-15

   This issue is related with TIMOB-24349 ...</li>
<li>Hans Kn√∂chel 2017-06-16

   Thanks! So it does **not** work with <code>run-on-main-thread</code> set to <code>true</code>? I would like to close it as <code>Duplicate</code> then and put the related ticket on our list asap.</li>
</ol>


<p><a href="/AC/AC-5030.json">JSON Source</a></p>