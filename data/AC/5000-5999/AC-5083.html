---
title: "[AC-5083] Liveview: Alloy.Globals undefined in 2nd run"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2017-08-08T19:53:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>liveview</td></tr>
<tr><th>Reporter</th><td>Michael Gangolf</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-07-14T06:19:36.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-08T19:53:55.000+0000</td></tr>
</table>

<h3>Description</h3>

When I run an app with Alloy.Globals defined in alloy.js I get an <code>undefined is not an object</code> error when the liveview updates for the first time. The first compile run is working fine.

index.js
<code><pre>
console.log(Alloy.Globals.device.height + " - " + Alloy.Globals.device.width);
$.index.open();
</pre></code>

*index.xml*
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container"&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>


*alloy.js*
<code><pre>
Alloy.Globals.device = {
	height: 100,
	width: 100
}
</pre></code>

*Output*
<code><pre>
 [INFO]  test_liveview/1.0 (6.1.1.c28220a)
 [LiveView]  Client connected
 [INFO]  100 100
 [LiveView]  Alloy recompile initiated for ios
 [LiveView]  Reload Triggered
   REASON:  File Changed
   FILE:  /Users/Development/test_liveview/app/controllers/index.js
 [LiveView]  Reload Triggered
   REASON:  File Changed
   FILE:  /Users/Development/test_liveview/Resources/iphone/alloy/sync/sql.js
[INFO]  [LiveView] Reloading App
[INFO]  UI SHUTDOWN COMPLETE. TRYING TO RESUME RESTART
[INFO]  test_liveview/1.0 (6.1.1.c28220a)
 [LiveView]  Client connected
 [LiveView]  Client disconnected
 [INFO]  [LiveView] Error Evaluating app.js @ Line: 28
 [ERROR] TypeError: undefined is not an object (evaluating 'Alloy.Globals.device.height')
 [ERROR] File: app.js
 [ERROR] Line: 28
 [ERROR] SourceId: &lt;null&gt;
 [ERROR] Backtrace:
 [ERROR]  undefined
</pre></code>

Ti SDK 6.1.1.GA
Liveview iOS Simulator

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-08-02

   Hello, I can't reproduce the issue with SDK 6.1.1.GA. Here is my log. At first I run the app with liveview enabled and got [INFO]  100 --- 100 output. Next i add -- and save index.js file and got the [INFO]  100 ----- 100 output. Thanks.
   <code><pre>
   [INFO]  hella/1.0 (6.1.1.c28220a)
    [LiveView]  Client connected
   [INFO]  100 --- 100
    [LiveView]  Alloy recompile initiated for ios
    [LiveView]  Reload Triggered
      REASON:  File Changed
      FILE:  /Users/sharifabudarda/Documents/Appcelerator_Studio_Workspace/hella/ap
   p/controllers/index.js
   [INFO]  [LiveView] Reloading App
    [LiveView]  Client disconnected
   [INFO]  UI SHUTDOWN COMPLETE. TRYING TO RESUME RESTART
   [INFO]  hella/1.0 (6.1.1.c28220a)
    [LiveView]  Client connected
   [INFO]  100 ----- 100
   </pre></code>
   I got the expected output. </li>
</ol>


<p><a href="/AC/AC-5083.json">JSON Source</a></p>