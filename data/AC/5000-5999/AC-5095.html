---
title: "[AC-5095] Titanium iOS app crashes after taking several photos using camera"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2017-08-29T20:31:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>iOS</td></tr>
<tr><th>Reporter</th><td>ankur garha</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-07-18T19:42:02.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-29T20:31:05.000+0000</td></tr>
</table>

<h3>Description</h3>

*Problem Description*:
Titanium App Crashes after some using camera for some time.

*Steps to Reproduce:*
Use the attached index.js code in a Alloy app. 

Tiapp.xml below
<code><pre>
    &lt;ios&gt;
        &lt;use-jscore-framework&gt;false&lt;/use-jscore-framework&gt;
        &lt;min-ios-ver&gt;8&lt;/min-ios-ver&gt;
        &lt;use-auto-layout&gt;true&lt;/use-auto-layout&gt;
        &lt;plist&gt;
            &lt;dict&gt;
                &lt;key&gt;NSContactsUsageDescription&lt;/key&gt;
                &lt;string&gt;Can we use to your contacts?&lt;/string&gt;
                &lt;key&gt;NSCameraUsageDescription&lt;/key&gt;
                &lt;string&gt;Can we use your camera?&lt;/string&gt;
                &lt;key&gt;NSCalendarsUsageDescription&lt;/key&gt;
                &lt;string&gt;Can we use your calendar?&lt;/string&gt;
                &lt;key&gt;NSPhotoLibraryUsageDescription&lt;/key&gt;
                &lt;string&gt;Can we save to your library?&lt;/string&gt;
                &lt;key&gt;NSMicrophoneUsageDescription&lt;/key&gt;
                &lt;string&gt;Can we use your microphone?&lt;/string&gt;
                &lt;key&gt;CFBundleURLTypes&lt;/key&gt;
                &lt;array&gt;
                    &lt;dict&gt;
                        &lt;key&gt;CFBundleTypeRole&lt;/key&gt;
                        &lt;string&gt;Editor&lt;/string&gt;
                        &lt;key&gt;CFBundleURLName&lt;/key&gt;
                        &lt;string&gt;com.homeinspectorpro.mobile&lt;/string&gt;
                        &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;
                        &lt;array&gt;
                            &lt;string&gt;touchtest-hip-mobile&lt;/string&gt;
                        &lt;/array&gt;
                    &lt;/dict&gt;
                &lt;/array&gt;
            &lt;/dict&gt;
        &lt;/plist&gt;
    &lt;/ios&gt;
</pre></code>

Touch "open camera"
Zoom camera and Take picture
Touch "Use Photo"
Repeat steps 8-10 times.

*Actual Result*
App crashes during the process of taking picture in above scenario.
*Expected Results:*
App should work usual and should not crash.

*Operating System*
  Name                        = Mac OS X
  Version                     = 10.12.2
  Architecture                = 64bit
  CPUs                      = 4
  Memory                      = 8589934592
*Node.js*
  Node.js Version             = 6.3.1
  npm Version                 = 3.10.3
*Titanium CLI*
  CLI Version                 = 5.0.14
*Titanium SDK*
  SDK Version                 = 6.1.0.GA

*Test device*: iPhone 5
*iOS* 9.2

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-5095_62900/HIP Mobile_2017-07-18-122620_admins-iPhone.crash">HIP Mobile_2017-07-18-122620_admins-iPhone.crash</td></td><td>2017-07-18T19:33:25.000+0000</td><td>57925</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-5095_62899/index.js">index.js</td></td><td>2017-07-18T19:35:47.000+0000</td><td>532</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>ankur garha 2017-07-19

   Issue is not happening on iPad 2 running on iOS 9.3.5</li>
<li>Dominic Maricic 2017-07-20

   We've had this issue for a few years now. It seems better in iOS 10 but does still occur enough to really frustrate our users who are taking 300 to 1000 pics a day with our app.</li>
<li>Dominic Maricic 2017-07-31

   We can reproduce this repeatedly and have had complaints from over a thousand users about it. What device were you testing it on? </li>
<li>ankur garha 2017-08-01

   Its happening for us a lots of times. 
   
   You need to try it multiple times as its an intermittent issue. Seems like its happening due to memory leaks. For some iOS devices it happens after taking 20-25 photos and its happens for sure. 
   
   In our app we have to take 100s of photos and hence we there is lose in data capture once we get a app crash.
   
   I've also attached the error snapshot. 
   
   Just want to understand which device are you testing to reproduce it...</li>
<li>Sharif AbuDarda 2017-08-14

   Hello, We are testing on iOS device: iPod 5G (9.3.5). We are unable to reproduce the issue. </li>
<li>Dominic Maricic 2017-08-14

   Please test it on a normal iPhone or iPad. We can reproduce it on the test app on iOS 10 as well but it takes 30-40 pics before it crashes (probably a slow memory leak).</li>
<li>Motiur Rahman 2017-08-16

   It's a very rare issue. Once I reproduced it when I take photo constantly at a very high speed. But it only one time happens at the several time attempts. I think it hangs the device camera, not the Appcelerator issue. Generally, the user does not take the photo such a high speed.
   
   Testeing Environment:
   Ti SDK: 6.1.2.GA
   iPhone 5s v10.3.3
   
   Thanks</li>
<li>Dominic Maricic 2017-08-16

   We get about 10-20 reports of it a day. We have thousands of users who use our mobile app for 6 to 10 hours a day to perform Home Inspections. They take anywhere from 100 to 500 photos a day (spread out on 3 separate jobs). We have guys saying it happens early on after only a few photos and guys who complain that it happens after 30-40 photos. We've had the issue for years and have never found a way to prevent it unfortunately but our competitors who aren't using Appcelerator are not having the issue.</li>
<li>Sharif AbuDarda 2017-08-16

   Hello, We are not able to reproduce it as you describe. For us the issue happens only one time happens at the several time attempts. It will be helpful if you provide a video demonstration of this issue. We will be looking into that. Thanks.</li>
</ol>


<p><a href="/AC/AC-5095.json">JSON Source</a></p>