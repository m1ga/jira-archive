---
title: "[AC-5340] iOS Titanium.Media.VideoPlayer setUrl not working on SDK 6.x"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2017-11-07T16:05:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Henry Orozco</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-11-02T18:55:29.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-08T21:08:25.000+0000</td></tr>
</table>

<h3>Description</h3>

Titanium.Media.VideoPlayer setUrl(url) works fine the first time, but the second time after setting another url setUrl(otherUrl), starts playing the first url set, if I execute getUrl() it returns the second url, but it is actually playing the first url set.

<Alloy>
	<Window class="container">
		<View layout="vertical" height="Ti.UI.SIZE">
			<Button onClick="playOne">Play pink-shades-o-pnr.mp3</Button>
			<Button onClick="playTwo">Play suit-and-tie-oscar-wylde-remix.mp3</Button>
			<Button onClick="stop">STOP</Button>
			<Button onClick="getUrl">Get URL</Button>
		</View>
	</Window>
</Alloy>

// index.js
var videoPlayer = Titanium.Media.createVideoPlayer({
	top : 0,
	visible: false,
	autoplay: true,
	mediaControlStyle : Ti.Media.VIDEO_CONTROL_NONE,
	scalingMode : Ti.Media.VIDEO_SCALING_ASPECT_FIT
});

function playOne(e) {
	videoPlayer.setUrl('<a href="http://nadikun.com/audio/pink-shades-o-pnr.mp3" rel="nofollow" target="_blank">http://nadikun.com/audio/pink-shades-o-pnr.mp3</a>');
	videoPlayer.play();
}

function playTwo(e) {
	videoPlayer.stop();
	// the issue is here, even though I am setting another URL still plays the previous URL set
	videoPlayer.setUrl('<a href="http://nadikun.com/audio/suit-and-tie-oscar-wylde-remix.mp3" rel="nofollow" target="_blank">http://nadikun.com/audio/suit-and-tie-oscar-wylde-remix.mp3</a>');
	videoPlayer.play();
}

function stop(e) {
	videoPlayer.stop();
}

function getUrl(e) {
	alert('videoPlayer.getUrl(): ' + videoPlayer.getUrl());
}

$.index.open();





<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-11-04

   Hello, Please create a full reproducible test code and provide here for us to test the issue. Also, provide detail affected environment. Thanks.</li>
<li>Hans Kn√∂chel 2017-11-07

   The video-player wasn't touched between 5.x and 6.x, so it has to be something on your end. If not, please try the new video-player being introduced in SDK 7.0 as part of TIMOB-19040</li>
<li>Henry Orozco 2017-11-08

   full reproducible test code added.</li>
</ol>


<p><a href="/AC/AC-5340.json">JSON Source</a></p>