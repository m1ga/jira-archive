---
title: "[AC-5369] Build failed when using analytics pod"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-11-14T15:44:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Hyperloop</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Kristjan Brand</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-11-14T14:03:29.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-15T07:10:46.000+0000</td></tr>
</table>

<h3>Description</h3>

Hey!

I ran into an issue when using Analytics pod version higher than 3.3.0. Starting from 3.4.0 it does not build and gives an CompileC error when trying to build.

Xcode version: 9.1
Titanium SDK: 6.3.0.GA

My Podfile looks like this:

<code><pre>
<h4>This is required for CocoaPods 1.x</h4>
install! 'cocoapods',
         :integrate_targets => false

platform :ios, '8.0'
target 'Testcase' do
    pod 'Analytics', '3.6.7'
end
</pre></code>

Code to initiate the module:

<code><pre>
analytics = require('Analytics/SEGAnalytics');
analyticsConf = require('Analytics/SEGAnalyticsConfiguration');
var analyticsKey = '*****';
 
var conf = analyticsConf.configurationWithWriteKey(analyticsKey);
conf.recordScreenViews = false;
conf.trackApplicationLifecycleEvents = true;
conf.flushAt = 1;
analytics.setupWithConfiguration(conf);
</pre></code>


Error from studio:

<code><pre>
[ERROR] :  ** BUILD FAILED **
[ERROR] :  The following build commands failed:
[ERROR] :  	CompileC build/Intermediates/Starship\ Project\ Mercury.build/Debug-iphonesimulator/Starship\ Project\ Mercury.build/Objects-normal/x86_64/analytics.o /Users/kristjan/Documents/Appcelerator_Studio_Workspace/Starship\ Project\ Mercury/build/hyperloop/ios/js/analytics/analytics.m normal x86_64 objective-c com.apple.compilers.llvm.clang.1_0.compiler
[ERROR] :  	Ld build/Products/Debug-iphonesimulator/Starship\ Project\ Mercury.app/Starship\ Project\ Mercury normal x86_64
[ERROR] :  	GenerateDSYMFile build/Products/Debug-iphonesimulator/Starship\ Project\ Mercury.app.dSYM build/Products/Debug-iphonesimulator/Starship\ Project\ Mercury.app/Starship\ Project\ Mercury
[ERROR] :  (3 failures)
</pre></code>

Any idea what could cause this? Segment analytics is a really good tool for analytics and 3.3.0 version has some unfixed memory leaks. I would really appreciate if the latest version could be made to work.

Let me know if there is any further information i could provide.

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2017-11-14

   This issue was resolved as not reproducible. Please do not create new issues as the account may get blocked because of spam-detections. The old one was not reopened because the library update itself caused the issue. Unless there are no new infos regarding the changes that caused this issue, the initial issue cannot be reopened.</li>
<li>Kristjan Brand 2017-11-15

   But it is reproducible. I gave all the information why this build fails. Go and try it please.
   I don't know what you mean with the "library update itself caused the issue". That is what hyperloop is doing? Taking a library and compiling it. But in this case it fails to do it. Meaning there is some piece of code what hyperloop is not able to compile meaning there is a bug somewhere.
   
   My last issue was ignored for way too long with the bug still being there. That is why i created a new one to draw attention to it again.
   
   Please take the 5 minutes and try to run this code and see that the compiling fails.
   </li>
</ol>


<p><a href="/AC/AC-5369.json">JSON Source</a></p>