---
title: "[AC-5413] Ti.UI.Android.createDrawerLayout there is no way to set the color of the title on AppBar via theme"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Done</td></tr>
<tr><th>Resolution Date</th><td>2017-12-27T22:10:56.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Henry Orozco</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-11-28T22:03:31.000+0000</td></tr>
<tr><th>Updated</th><td>2018-01-12T08:46:36.000+0000</td></tr>
</table>

<h3>Description</h3>

Ti.UI.Android.createDrawerLayout SDK 6.3.0.GA

There is no way to set the color of the title on AppBar via theme XML file.
Defaults to black, in this case I want the title on white.

The only way (not ideal because editing the SDK file) I've found so far is editing the file <a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/res/layout/titanium_ui_drawer_layout.xml" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/res/layout/titanium_ui_drawer_layout.xml</a>
and add android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar" to android.support.v7.widget.Toolbar

Sample Alloy project:

*inde.js*
var win = Ti.UI.createWindow({
	theme: "Theme.AudioVerse.NoActionBar"
});

var leftView = Ti.UI.createView({ backgroundColor:'white' });
var centerView = Ti.UI.createView({ backgroundColor:'white' });

var drawer = Ti.UI.Android.createDrawerLayout({
    leftView: leftView,
    centerView: centerView
});

win.add(drawer);
win.open();


*themes.xml on app/platform/android/res/values*
<?xml version="1.0" encoding="utf-8"?>

<resources xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">

    <style name="Theme.AudioVerse" parent="@style/Theme.AppCompat.Light.DarkActionBar">
      <item name="colorPrimary">#E53935</item>
      <item name="colorPrimaryDark">#D32F2F</item>
    </style>

    <style name="Theme.AudioVerse.NoActionBar" parent="@style/Theme.AppCompat.Light.NoActionBar">
      <item name="colorPrimary">#E53935</item>
      <item name="colorPrimaryDark">#D32F2F</item>
    </style>

</resources>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-5413_63704/Screen Shot 2017-11-28 at 4.54.05 PM.png">Screen Shot 2017-11-28 at 4.54.05 PM.png</td></td><td>2017-11-28T21:55:40.000+0000</td><td>9831</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-5413_63703/Screen Shot 2017-11-28 at 5.00.52 PM.png">Screen Shot 2017-11-28 at 5.00.52 PM.png</td></td><td>2017-11-28T22:01:11.000+0000</td><td>9928</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mostafizur Rahman 2017-11-29

   Hello [~horozco], 
   Thanks for sharing with us. Please provide a full sample test project that regenerates the issue. We will test the issue in our environment. Also, provide the SDK and CLI version you are testing on. Thanks.
   
   Best</li>
<li>Henry Orozco 2017-11-29

   Hi Mostafizur!
   
   I've updated the description to include the full sample code that regenerates the issue. Thanks!
   
   Kind regards.</li>
<li>Sharif AbuDarda 2017-12-27

   The issue is resolved in SDK 7.0.1.GA.</li>
<li>Guillermo Figueras 2018-01-10

   When using a Toolbar as an Actionbar, how do I add the left icon which used to show the left drawer menu? I mean, the icon that's in the blue rectangle: <a href="http://belencruz.com/wp-content/uploads/2015/04/android_actionbar_default-1024x253.png" rel="nofollow" target="_blank">http://belencruz.com/wp-content/uploads/2015/04/android_actionbar_default-1024x253.png</a>
   
   I have this on my alloy file:
   <code><pre>
   &lt;DrawerLayout id="drawerLayout"&gt;	
   	&lt;LeftView&gt;
   		
   	&lt;/LeftView&gt;
   			
   	&lt;CenterView&gt;
   		&lt;View&gt;
   			&lt;Toolbar
   				title="title"
   				width="Ti.UI.FILL"
   				elevation="10"
   				top="0"
   				barColor="#db4337"
   				titleTextColor="white"
   				displayHomeAsUp="true"
   				homeButtonEnabled="true" 
   				id="actionBar"  /&gt;
   	         &lt;/View&gt;
   	&lt;/CenterView&gt;
   &lt;/DrawerLayout&gt;
   </pre></code>
   
   And I have this on my controller:
   <code><pre>
   var actionBar = $.actionBar;
   
   if (actionBar) 
   {
          actionBar.displayHomeAsUp = true;
          actionBar.onHomeIconItemSelected = function() {
                 $.drawerLayout.toggleLeft();
          };
   }
   </pre></code></li>
<li>Henry Orozco 2018-01-10

   Hey Guillermo,
   
   Check this out:
   Add a custom toolbar and use the navigationIcon property - <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.UI.Toolbar
   Sample: <a href="https://github.com/appcelerator/titanium_mobile/pull/9646" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9646</a>
   
   Hope that helps :)</li>
<li>Guillermo Figueras 2018-01-11

   @Henry Orozco thank you!</li>
<li>Guillermo Figueras 2018-01-11

   Well, now I'm not sure on how to show the drawer menu when clicking on the navigationIcon. How do I add the click listener to it?</li>
<li>Henry Orozco 2018-01-11

   @Guillermo
   
   <code><pre>
             var activity = $.myWindow.getActivity();
   	
   	  if (activity) {
   	
   	    var actionBar = activity.getActionBar();
   	
   	    if (actionBar) {
   	      actionBar.displayHomeAsUp = true;
   	      actionBar.onHomeIconItemSelected = function() {
   	        $.drawerLayout.toggleLeft();
   	      };
   	    }
   	  }
   </pre></code>
   </li>
<li>Guillermo Figueras 2018-01-11

   I'm getting this error when using your code:
   
   <code><pre>
   [ERROR] :  TiExceptionHandler: (main) [1782,3374] ----- Titanium Javascript Runtime Error -----
   [ERROR] :  TiExceptionHandler: (main) [0,3374] - In undefined:240,42
   [ERROR] :  TiExceptionHandler: (main) [0,3374] - Message: Uncaught TypeError: Cannot read property 'getActivity' of undefined
   [ERROR] :  TiExceptionHandler: (main) [0,3374] - Source:     var activity = $.drawerLayout.window.getActivity();
   [ERROR] :  V8Exception: Exception occurred at undefined:240: Uncaught TypeError: Cannot read property 'getActivity' of undefined
   </pre></code></li>
<li>Henry Orozco 2018-01-11

    @Guillermo, replace $.drawerLayout.window for the id of the window that is wrapping your DrawerLayout. e.g var activity = $.myWindow.getActivity();</li>
<li>Guillermo Figueras 2018-01-12

    I tried that but nothing happens. I also tried this but it doesn't work:
    
    <code><pre>
    $.toolbarId.onHomeIconItemSelected = function() {
    	$.drawerLayout.toggleLeft();
    };
    </pre></code></li>
</ol>


<p><a href="/AC/AC-5413.json">JSON Source</a></p>