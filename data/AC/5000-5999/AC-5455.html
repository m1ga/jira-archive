---
title: "[AC-5455] Android Local Notification restart"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Done</td></tr>
<tr><th>Resolution Date</th><td>2017-12-15T21:56:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Marian Kucharcik</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-12-15T09:03:03.000+0000</td></tr>
<tr><th>Updated</th><td>2017-12-15T21:56:29.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi guys,
I'm facing a problem(on Android 6.0.1).
Let's say I have app with id=com.example.exampleApp and when starting activity is .ExampleappActivity.
I implemented local notifications, notification will show up, but when I click on in, I get this error:

<code><pre>
TiLaunchActivity: (main) [14972,34290] Android issue 2373 detected (missing intent CATEGORY_LAUNCHER or FLAG_ACTIVITY_RESET_TASK_IF_NEEDED), restarting app.
</pre></code>

I create notification and intents like this(from documentation's example):

<code><pre>
var intent = Ti.Android.createIntent({
	    action: Ti.Android.ACTION_MAIN,
	    // Substitute the correct class name for your application
	    className: 'com.example.exampleApp.ExampleappActivity',
	    // Substitue the correct package name for your application
	    packageName: ''com.example.exampleApp',
	    
	});
	intent.flags |= Ti.Android.FLAG_ACTIVITY_CLEAR_TOP | Ti.Android.FLAG_ACTIVITY_NEW_TASK;
	intent.addCategory(Ti.Android.CATEGORY_LAUNCHER);
	
	
	// Create a PendingIntent to tie together the Activity and Intent
	var pending = Titanium.Android.createPendingIntent({
	    intent: intent,
	    flags: Titanium.Android.FLAG_UPDATE_CURRENT
	});
	
	// Create the notification
	var notification = Titanium.Android.createNotification({
	    // icon is passed as an Android resource ID -- see Ti.App.Android.R.
	    icon: Ti.App.Android.R.drawable.icon,
	    contentTitle: 'Something Happened',
	    contentText : 'Click to return to the application.',
	    contentIntent: pending
	});
	
	// Send the notification.
	Titanium.Android.NotificationManager.notify(1, notification);
</pre></code>

When I click on the notification, I get restart is needed dialog and restart loop(app won't start correctly).
Have you please some advice what to do to avoid this?
Thank you

<h3>Comments</h3>

<ol>
<li>Marian Kucharcik 2017-12-15

   I solved this issue by addidng 
   <code><pre>
   &lt;property name="ti.android.bug2373.finishfalseroot" type="bool"&gt;true&lt;/property&gt;
   </pre></code>
   to tiapp.xml([According to documentation](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/tiapp.xml_and_timodule.xml_Reference) it should be default value...)</li>
</ol>


<p><a href="/AC/AC-5455.json">JSON Source</a></p>