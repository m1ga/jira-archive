---
title: "[AC-5467] Android : TextField center-alignment causing keyboard flickering by showing different keyboard layout"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2018-03-18T21:45:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Prashant Saini</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2017-12-22T08:34:08.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-18T21:45:15.000+0000</td></tr>
</table>

<h3>Description</h3>

Whenever we use *Ti.UI.TEXT_ALIGNMENT_CENTER* on TextField in Android, it flickers & switches to default *keyboardType* after pressing device's back-button & sometimes after pressing the Return key also. 

I tried it by using different *inputType* & *keyboardType* combination also, but after pressing device's back-button, it's showing up the default *keyboardType* for a millisecond & then it hides down.

This behaviour is further causing irregularities in TextField's *focus()* method. 

I tested it on both 7.0.0.GA & 7.0.1.GA SDK, it behaves same. At present, I can't seem to find any temporary solution if I use *Ti.UI.TEXT_ALIGNMENT_CENTER* alignment.

Here's the sample code & also a video of a different app but with same issue.

<code><pre>
        var win = Ti.UI.createWindow({
		backgroundColor: 'white',
		title : 'Ti Samples'
	});

	var field = Ti.UI.createTextField({
		top : 50,
		inputType : [Ti.UI.INPUT_TYPE_CLASS_NUMBER],
		width : '70%',
		color : 'black',
		hintText : '1234...',
		hintTextColor : '#555555',
		textAlign : Ti.UI.TEXT_ALIGNMENT_CENTER
	});

	win.add(field);

	win.open();
</pre></code>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-5467_63847/bug2.mp4">bug2.mp4</td></td><td>2017-12-22T10:32:06.000+0000</td><td>4699022</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-12-22

   Hello, I have tested your sample code on both Android 7.x emulator and device. I wasn't able to reproduce the issue with SDK 7.0.0.GA. I don't see any flickering or keyboard input type change when I press back. I don't have the Redmi Note 3  and Moto G4 Play device. I looked for the emulators,  unfortunately, Genymotion does not provide those either. [~jquick], anyone has those devices?</li>
<li>Joshua Quick 2017-12-22

   </li>
<li>Prashant Saini 2017-12-23

   Sharif , can you please look at the environment I have specified in this bug. I tested it on 6 different devices of various companies & with different Android version, so I hope you can get the idea that only Android OS 6.0.1 is causing this issue (at least this is what I found out in my testing)? I request you to please test it on Android OS 6.x
   
   Joshua , I have added a video of this bug for clear information about the issue.
   
   On both those 2 devices with OS 6.0.1, even I created & tested a native Android app with an EditText with same center-alignment, but it didn't cause any issue then. So, it's sure Titanium SDK is the issue here.
   </li>
<li>Sharif AbuDarda 2017-12-23

   Hello [~prashant_saini], please test the issue with SDK 6.1.x on your Redmi Note 3 and Moto G4 Play device running OS 6.0.1, And let us know the result. Thanks.</li>
<li>Prashant Saini 2017-12-24

   Hi Sharif, I don't have any other SDK than 7.0.0, 7.0.1 & 5.5.1.
   
   But I really don't understand why you guys are asking me to test this when I have provided you a video attachment with 6 different devices. Does it not matter to you that it's happening on Ti SDK 7.0.1 & still you want it checked on older SDKs? 
   
   Please understand that I am not a tester so I do not keep every SDK in my machine. Somehow I managed those 6 devices from my colleagues, but I simply don't have any SDK of 6.x version.</li>
<li>Sharif AbuDarda 2017-12-24

   Hello [~prashant_saini], First, as I said I don't have the Redmi Note 3 and Moto G4 Play device, If I had, I would have already tested there with SDK 6.x SDK. Now the reason we are asking for you to test with SDK 6.x on the mentioned devices is, we want to identify where the issue originated. This will help us identify the issue and we can move for a fix. You can easily download any previous version of SDK form the studio. Thanks.</li>
<li>Prashant Saini 2017-12-25

   Hello Sharif, I am quite busy to test it on different SDKs, but I guess you missed few points which are:
   
   - It's happening only on Android 6.x OS
   - On Android 6.x OS, it's not happening with native application, it's happening only with Titanium app.
   
   So, can you guys try it on any Android 6.x device (it gives you range to chose any android device, not just the mentioned ones)?</li>
<li>Sharif AbuDarda 2018-03-16

   Hello, I can't reproduce this issue with Android 6.0 emulator in SDK 7.0.2.GA. I don't observe the flickering of keyboard change when I press the back button. </li>
</ol>


<p><a href="/AC/AC-5467.json">JSON Source</a></p>