---
title: "[AC-5509] 7.0.1.GA ios simulator change orientation landscape crash"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2018-01-11T14:42:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Anthony Chung</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-01-11T02:13:12.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-12T16:46:09.000+0000</td></tr>
</table>

<h3>Description</h3>

Switching between orientations on iOS 11.2 sim for a 7.0.1.GA build causes crash.
Doesn't happen when switch back to 6.3.0.GA build.

xcode version 
Version 9.2 (9C40b)
Node.js
  Node.js Version             = 8.9.1
  npm Version                 = 5.5.1

Titanium CLI
  CLI Version                 = 5.0.14
  node-appc Version           = 0.2.41

Titanium SDKs
  7.0.1.GA

appc -v
7.0.1

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-5509_64726/crashlog.txt">crashlog.txt</td></td><td>2018-01-23T00:23:55.000+0000</td><td>9031</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2018-01-11

   Hello, Does it happen for any sample app? I have tested a sample app, I haven't seen the issue. Can you provide us a sample app to test? Thanks.</li>
<li>Anthony Chung 2018-01-11

   It's a production app. If it's not happening on the sample app, then you can close this issue, it might be the production app specific then.</li>
<li>Hans Knöchel 2018-01-11

   [~threethirds] There is nothing we changed regarding the orientation handling between those versions and cannot reproduce it in our sample apps. It may be caused by an application logic that changed between the versions. Please let us know if you think different and have a test-case, then we'll put our resources on it. Thanks!</li>
<li>Anthony Chung 2018-01-23

   Hi [~hknoechel],
   
   Further testing shows it is related to a ios searchbar in a listview. With orientationchange under the previous env conditions causing the crash. I have attached the crash log. Removing the searchbar stopped the crashing.
   
   Thanks, [^crashlog.txt] 
   Anthony
   </li>
<li>Hans Knöchel 2018-02-12

   Hey [~threethirds], followung up here. Did you test with 7.0.2.GA? It includes many search-bar related fixed and improvements (especially for iOS 11+). cc [~vsingh]
   
   *EDIT*: Looking into your crash log, you are trying something odd with a Ti.Database instance (maybe through Alloy). It says <code>[TiDatabaseProxy window]: unrecognized selector sent to instance</code> which means that a TiDatabaseProxy wants to receive the "window" object which isn't valid. Looking at our source, there are no places we are trying to do that. So if it still happens with 7.0.2 and didn't with 6.x, we'd need a test case to reopen this. Thanks!</li>
<li>Anthony Chung 2018-02-12

   Hi [~hknoechel],
   Could this happen if I was trying to keep a reference to a window?
   
   Alloy.Globals.courses = $;
   </li>
<li>Hans Knöchel 2018-02-12

   Ohhh yes it can! Can you try to prevent that and see if it changes something? Globals in globals are not really nice for performance either :-).</li>
<li>Anthony Chung 2018-02-12

   Thanks, I'll go cleaning.
   This is one of the oldest pieces of code in the app from when I started with Alloy :)
   I'll switch to a decoupled event listener model for this behaviour, rather than keeping the reference around for lazy access to the attached window function. 
   
   Cheers</li>
</ol>


<p><a href="/AC/AC-5509.json">JSON Source</a></p>