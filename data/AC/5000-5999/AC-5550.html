---
title: "[AC-5550] iOS: rightNavButton blinks on navigation"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2018-02-05T08:17:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>ios</td></tr>
<tr><th>Reporter</th><td>Philippe Wueger</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-01-26T09:00:03.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-06T08:36:48.000+0000</td></tr>
</table>

<h3>Description</h3>

When opening a second window in a navigation window with the same rightNavButton set as the first window, the button is faded out during opening and then reappears instantly when the second window is open. See attached screen recording.

This does not look nice and was not the behavior in previous versions of the Ti SDK, where the button did not fade out.

app.js:

<code><pre>
var btn = Ti.UI.createButton({
  title: 'Trigger'
});
 
var win = Ti.UI.createWindow({
  rightNavButton: btn
});
 
var nav = Ti.UI.iOS.createNavigationWindow({
  window: win
});
 
btn.addEventListener('click', function() {
  var win2 = Ti.UI.createWindow({
    backgroundColor: 'red',
    rightNavButton: btn
  });
  
  nav.openWindow(win2);
});
 
nav.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-5550_64756/RightNavButton.mov">RightNavButton.mov</td></td><td>2018-01-26T08:59:55.000+0000</td><td>228941</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-5550_64794/RightNavButton-SDK7.mov">RightNavButton-SDK7.mov</td></td><td>2018-02-01T20:45:09.000+0000</td><td>693261</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-5550_64761/RightNavButton-Ti522-iOS93.mov">RightNavButton-Ti522-iOS93.mov</td></td><td>2018-01-26T21:18:40.000+0000</td><td>288871</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2018-01-26

   Hey there! Which kind of SDK-versions indicate that it was working? From your test-case, you are referencing one button for both scoped (two different windows) which should not be allowed. In any case, if you are able to provide more details on when it was working, we may be able to trace back the issue. [~vsingh] This seems related to what we talked about recently.</li>
<li>Philippe Wueger 2018-01-26

   Hi. Thanks for your quick reply.
   
   It works with Ti 5.2.2 and iOS SDK 9.3. See attached screen recording  [^RightNavButton-Ti522-iOS93.mov].
   
   Could of course also be an iOS SDK behaviour change.
   
   Also tried creating a separate button for the second window:
   <code><pre>
   var btn = Ti.UI.createButton({
     title: 'Trigger'
   });
    
   var win = Ti.UI.createWindow({
     rightNavButton: btn
   });
    
   var nav = Ti.UI.iOS.createNavigationWindow({
     window: win
   });
    
   btn.addEventListener('click', function() {
     var btn2 = Ti.UI.createButton({
       title: 'Trigger'
     });
   
     var win2 = Ti.UI.createWindow({
       backgroundColor: 'red',
       rightNavButton: btn2
     });
     
     nav.openWindow(win2);
   });
    
   nav.open();
   </pre></code>
   The button also fades out and reappears with this code (with Ti 6.3.0 and iOS 11.2).</li>
<li>Hans Knöchel 2018-02-01

   I've just tested on 7.0.1.GA and it seems to work fine, see <code>RightNavButton-SDK7.mov</code> for details. Let me know your thoughts! Please note that your env currently says 6.3.0 which does not officially support iOS 11.2.</li>
<li>Philippe Wueger 2018-02-02

   The behavior in your screen recording is the same as in Ti SDK 6.3.0. The button of the first window fades out and the button on the second window appears instantly.
   
   The thing is I want to have the same text (or icon) as a button in the navigation bar on the first and second window. Now if a button with the same text first fades out and then appears again instantly it looks funny.
   
   But it may be a behavior change in the iOS SDK. I will still check this out on my side.</li>
<li>Hans Knöchel 2018-02-05

   [~philet] We found out that this is an issue caused by 11.2 (same for native apps). Read more [here](<a href="https://stackoverflow.com/questions/47754472/ios-uinavigationbar-button-remains-faded-after-segue-back)" rel="nofollow" target="_blank">https://stackoverflow.com/questions/47754472/ios-uinavigationbar-button-remains-faded-after-segue-back)</a> and find a fix in TIMOB-25675, thanks to [~vijaysingh]!</li>
<li>Philippe Wueger 2018-02-05

   The fix of TIMOB-25675 unfortunately does not solve my problem.
   I've tested it out with a native app too and the problem exists there too.
   So this is a problem with iOS SDK 11.2 and not of the Ti SDK.
   </li>
<li>Hans Knöchel 2018-02-05

   [~philet] So you applied the fix manually to your SDK in <code>~/Library/Application Support/Titanium/mobilesdk/osx/7.0.1.GA/iphone/Classes/TiUIiOSNavWindowProxy.m</code>, did a clean build and tested on iOS 11.2 afterwards? If so, you should file another radar at Apple about this. Interesting that they broke so many UINavigationBar related items in 11.2. We will eventually also file a radar for this, so Apple is able to prioritize the issue.</li>
<li>Philippe Wueger 2018-02-06

   I am still on Ti SDK 6.3.0. So I tested the fix there. I opened the generated iPhone project, applied the fix and ran the app directly from Xcode.
   OK, I will file a radar for this.</li>
<li>Hans Knöchel 2018-02-06

   Thanks [~philet]! We'll try to reproduce it again anyway to ensure it's properly tracked here as well.</li>
</ol>


<p><a href="/AC/AC-5550.json">JSON Source</a></p>