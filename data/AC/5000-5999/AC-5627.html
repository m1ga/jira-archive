---
title: "[AC-5627] Error when Microsoft review the application"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2018-03-29T21:45:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.3.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Thomas Lemaitre</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-02-27T10:44:43.000+0000</td></tr>
<tr><th>Updated</th><td>2018-04-02T00:29:07.000+0000</td></tr>
</table>

<h3>Description</h3>

I use Titanium SDK 6.2.0 on Windows

Error Found: The supported APIs test detected the following errors:

API ??0JSObject@HAL@@QAE@$$QAV01@@Z in hal.dll is not supported for this application type. TitaniumWindows_Utility.dll calls this API.
API ??0JSObject@HAL@@QAE@ABV01@@Z in hal.dll is not supported for this application type. TitaniumWindows_Utility.dll calls this API.
API ??0JSString@HAL@@QAE@ABV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@@Z in hal.dll is not supported for this application type. TitaniumWindows_Utility.dll calls this API.
API ??0JSValue@HAL@@QAE@ABV01@@Z in hal.dll is not supported for this application type. TitaniumWindows_Utility.dll calls this API.
API ??1JSObject@HAL@@UAE@XZ in hal.dll is not supported for this application type. TitaniumWindows_Utility.dll calls this API.

...

Impact if not fixed: Using an API that is not part of the Windows SDK for Microsoft Store apps violates the Microsoft Store certification requirements.

How to fix: Review the error messages to identify the API that is not part of the Windows SDK for Microsoft Store apps. Please note, apps that are built in a debug configuration or without .NET Native enabled (where applicable) can fail this test as these environments may pull in unsupported APIs. Retest your app in a release configuration, and with .NET Native enabled if applicable. See the link below for more information: 

<a href="https://msdn.microsoft.com/fr-fr/library/windows/apps/hh464945.aspx" rel="nofollow" target="_blank">https://msdn.microsoft.com/fr-fr/library/windows/apps/hh464945.aspx</a>




<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-5627_64908/log.xml">log.xml</td></td><td>2018-02-27T14:51:23.000+0000</td><td>22977</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-5627_64906/output.json">output.json</td></td><td>2018-02-27T13:42:57.000+0000</td><td>21991</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-5627_64905/output-appc.txt">output-appc.txt</td></td><td>2018-02-27T11:37:33.000+0000</td><td>1866</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2018-02-27

   [~thomas.webgo@gmail.com] Hey there, could you provide some more information, mainly
   
   - Visual Studio version
   - Target for deployment (dist-phonestore, dist-winstore)
   - Windows SDK version targeted (8.1 or 10)
   - When does this error occur, is it when you're uploading the app to developer.microsoft.com? Or running the Windows App Cert Kit locally?</li>
<li>Thomas Lemaitre 2018-02-27

   * Visual Studio version => i didn't use Visual studio, i use Appcelerator Studio (5.0.0) and i've create the windows certificate with CLI
   * Target for deployment (dist-phonestore, dist-winstore) => Target is dist-winstore
   * Windows SDK version targeted (8.1 or 10) => Windows 10
   * When does this error occur, is it when you're uploading the app to developer.microsoft.com? Or running the Windows App Cert Kit locally? => this error occur when i send the app to developer.microsoft.com. I didn't test with App Cert kit localy.</li>
<li>Ewan Harris 2018-02-27

   [~thomas.webgo@gmail.com] The Titanium SDK requires an install of Visual Studio in order to build applications, could you run <code>appc ti info -t windows</code> from command prompt and upload the output here</li>
<li>Thomas Lemaitre 2018-02-27

   I have Visual studio installed of course (i have the 14.0 version).
   
   You can find the ouput of the command attached here. [^output-appc.txt] </li>
<li>Ewan Harris 2018-02-27

   [~thomas.webgo@gmail.com] Could you also try running [Windows App Cert Kit](<a href="https://docs.microsoft.com/en-us/windows/uwp/debug-test-perf/windows-app-certification-kit)" rel="nofollow" target="_blank">https://docs.microsoft.com/en-us/windows/uwp/debug-test-perf/windows-app-certification-kit)</a> locally and see whether it passes or fails there. You might need to install the certificate you're using, see [To install certificates with WindowsCertutil.exe](<a href="https://msdn.microsoft.com/en-us/library/windows/desktop/jj835832%28v=vs.85%29.aspx?f=255&MSPPError=-2147217396)" rel="nofollow" target="_blank">https://msdn.microsoft.com/en-us/library/windows/desktop/jj835832%28v=vs.85%29.aspx?f=255&MSPPError=-2147217396)</a>, I'm trying to reproduce this locally, and using dev.microsoft.com, using 6.2.0.GA and am unable to</li>
<li>Kota Iguchi 2018-02-27

   [~thomas.webgo@gmail.com] Could you run <code>appc ti info -p windows -o json</code> to get more detailed environmental information? I am also interested in how Titanium SDK <code>7.0.0.GA</code> works for you because as of 7.0.0 release there was a big update on the base library (TIMOB-24746).
   </li>
<li>Thomas Lemaitre 2018-02-27

   @Kota Iguchi you can find the ouput json attached.
   
    [^output.json] </li>
<li>Thomas Lemaitre 2018-02-27

   Hello, i've test the windows app cert kit locally. You can find the log.xml attached to my message. </li>
<li>Thomas Lemaitre 2018-02-27

    [^log.xml] </li>
<li>Kota Iguchi 2018-02-28

    Hmm the result seems pretty strange. According to  [^log.xml], App Cert Kit doesn't report an error about actual usage of supported APIs (<code>in Test des API prises en charge</code>) but reports an error on .NET API (<code>System.Xml.XmlDocument.Load</code>) that is never used in the application. I would guess that the App Cert Kit is failing to test for some reason? Also, the reported API in the ticket description <code>0JSObject@HAL@@QAE@$$QAV01@@Z in hal.dll</code>) should be supporting the platforms as it is actually the API that is compiled for Titanium for all supported platforms (I mean it is not an "external" API, Titanium is providing all of those). As I see the inconsistency between local App Cert Kit result and Microsoft review, is there any possibilities to get more support from Microsoft?</li>
<li>Portal 2018-03-22

    I had the same issue and i wrote to Microsoft in order to discover what was the real problem and i finally find out: the problem is that the app package includes the HAL.dll library which has unfortunately the name of a Windows system library, so they told me to rename it if it is a different library because the current WACK (Windows Apps Certification Kit) which now is used for the store certification doesn’t accept it.
    The reason why the local WACK certification doesn’t detect this problem is that the new WACK is not yet available, it will be released with the next Windows update. 
    Conclusion: i think the HAL library needs to be renamed.
    </li>
<li>Kota Iguchi 2018-03-23

    Awesome, thank you for the information! (y) 
    Created TIMOB-25895 and started working on it.
    </li>
<li>Kota Iguchi 2018-03-29

    Let me close this ticket for now as duplicated, this issue has been taken care by TIMOB-25895. Current state: We are pushing fix for this and it is in-review state by QE team now. It is scheduled to release in next minor release <code>7.1.1</code>. If you have anything to comment/discuss, please use TIMOB-25895 ticket. (y)</li>
<li>Kota Iguchi 2018-04-02

    Just in case you missed we already have nightly build for this fix. you might want to try this out;
    
    <code><pre>
    appc ti sdk install --branch 7_1_X 7.1.1.v20180329233702
    </pre></code>
    
    Please note that AC-5627 won't be updated further more. If you have anything to comment/discuss, please use TIMOB-25895 ticket, thanks.
    </li>
</ol>


<p><a href="/AC/AC-5627.json">JSON Source</a></p>