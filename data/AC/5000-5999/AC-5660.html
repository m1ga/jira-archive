---
title: "[AC-5660] Android: Annotation.image can't be changed if annotation added to mapView."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2018-04-11T21:27:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Appcelerator Modules</td></tr>
<tr><th>Labels</th><td>android, annotation, ti.map</td></tr>
<tr><th>Reporter</th><td>CREATIVE KAIZEN</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-03-14T17:54:42.000+0000</td></tr>
<tr><th>Updated</th><td>2018-04-11T21:27:35.000+0000</td></tr>
</table>

<h3>Description</h3>

If annotation is on the map then changing image attribute will not change image itself.
Similar problem to TIMOB-20620 with color attribute, which was fixed in one of the Sprints.

<code><pre>
var window = Ti.UI.createWindow({
  backgroundColor : 'white'
}); 

window.open(); 

var mapModule = require('ti.map');  

var map = mapModule.createView({
   bottom : 50
}); 

window.add(map); 

var annotation = mapModule.createAnnotation({
   latitude : 1,
   longitude : 1,
   image: '/images/baloon_green.png'
}); 

map.addAnnotation(annotation); 

var view = Ti.UI.createView({
   backgroundColor: 'red',
   bottom: 0,
   height: 50
});

window.add(view);

view.addEventListener('click', function() {

   view.backgroundColor = 'green';
  annotation.image = '/images/baloon_red.png';		//Change annotation image here
  annotation.setImage('/images/baloon_red.png');   //Change annotation image here


});

</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-5660_64969/1.png">1.png</td></td><td>2018-03-14T17:53:27.000+0000</td><td>308548</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-5660_64968/2.png">2.png</td></td><td>2018-03-14T17:53:27.000+0000</td><td>307230</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2018-03-14

   You probably just need to change [this line](<a href="https://github.com/appcelerator-modules/ti.map/blob/master/android/src/ti/map/AnnotationProxy.java#L401)" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/blob/master/android/src/ti/map/AnnotationProxy.java#L401)</a> to
   <code><pre>
   } else if (name.equals(TiC.PROPERTY_PINCOLOR) || name.equals(TiC.PROPERTY_IMAGE)) {
   </pre></code>
   and likely do the same for other properties that should be changeable, like <code>customView</code>.</li>
<li>CREATIVE KAIZEN 2018-03-14

   @Hans: I guess so. But I believe that as in TIMOB-20620 with pincolor property it should be fixed with image property as well. Why would we have setImage method if it doesn't work?</li>
<li>Hans Knöchel 2018-03-14

   It is a computer setter.</li>
<li>Sharif AbuDarda 2018-04-09

   Hello [~CREATIVE KAIZEN], Whats the status of your issue? Are you steen having the issue? did you follow Hans's guide?</li>
</ol>


<p><a href="/AC/AC-5660.json">JSON Source</a></p>