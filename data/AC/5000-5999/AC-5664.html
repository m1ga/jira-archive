---
title: "[AC-5664] iOS: SearchBar inside ListView barColor and backgroundColor not working"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2018-03-18T16:11:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>7.1.0.GA, barColor, ios-11, searchBar</td></tr>
<tr><th>Reporter</th><td>Flavio Bontà</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-03-18T09:43:34.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-19T04:04:06.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi, I have created a simple navigationWindow in Alloy.
Inside the window I have a listView with a searchBar.
SearchBar barColor and backgroundColor do not make changes.
<code><pre>
&lt;Alloy&gt;
	&lt;NavigationWindow id="index" platform="ios"&gt;
		&lt;Window id="main"&gt;
		&lt;/Window&gt;
	&lt;/NavigationWindow&gt;
&lt;/Alloy&gt;
</pre></code>

<code><pre>
"#main": {
	title: "test",
	largeTitleEnabled: true
}
</pre></code>

<code><pre>
var counter = 0;

function genData() {
	var data = [];
	var i = 1;
	for (i = 1; i &lt;= 3; i++) {
		data.push({ properties: { title: 'ROW ' + (counter + i) } })
	}
	counter += 3;
	return data;
}
var search = Titanium.UI.createSearchBar({
    barColor:'red', 
    backgroungColor: 'green',
    showCancel:true,
    top:0,
});

var section = Ti.UI.createListSection();
section.setHeaderTitle("title");
section.setItems(genData());

var control = Ti.UI.createRefreshControl({
	tintColor: 'red'
})

var listView = Ti.UI.createListView({
	sections: [section],
	refreshControl: control,
        searchView: search
});

control.addEventListener('refreshstart', function(e) {
	Ti.API.info('refreshstart');
	setTimeout(function() {
		Ti.API.debug('Timeout');
		section.appendItems(genData());
		control.endRefreshing();
	}, 100); //if setTimeout is about 1s the problem not occurs
})

$.main.add(listView);
$.index.open();
</pre></code>




<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-5664_64976/Simulator Screen Shot - iPhone 8 - 2018-03-18 at 10.40.42.png">Simulator Screen Shot - iPhone 8 - 2018-03-18 at 10.40.42.png</td></td><td>2018-03-18T09:41:00.000+0000</td><td>30960</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2018-03-18

   Hey there! This should be fixed by TIMOB-25850 (cc [~vijaysingh]) and [this pull request](<a href="https://github.com/appcelerator/titanium_mobile/pull/9932)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9932)</a> that you can use to patch your SDK today. I will resolve the ticket to indicate its relation, thank you for reporting this!</li>
<li>Vijay Singh 2018-03-19

   Hans is correct, it will be fixed in above ticket.
   Simple workaround is - 
   
   Set searchBar property after creating list view.
   e.g.
   
   <code><pre>
   var listView = Ti.UI.createListView({
   	sections: [section],
   	refreshControl: control,
           searchView: search
   });
   
   searchView.setBarColor('red');
   searchView.setBackgroungColor('green');
   </pre></code>
   
   Thanks!</li>
</ol>


<p><a href="/AC/AC-5664.json">JSON Source</a></p>