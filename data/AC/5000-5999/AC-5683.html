---
title: "[AC-5683] Android: Getting crash report from google"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2018-04-17T21:19:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Studio, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>sonufana4u</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-03-29T12:07:57.000+0000</td></tr>
<tr><th>Updated</th><td>2020-03-16T12:49:45.000+0000</td></tr>
</table>

<h3>Description</h3>

*Getting crash report from google but don't know how to prevent that.Found below link where its causing the issue at line 258.So how to handle in my application?*

<a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/titanium/src/java/org/appcelerator/titanium/TiBaseActivity.java" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/titanium/src/java/org/appcelerator/titanium/TiBaseActivity.java</a>

{quote}
java.lang.RuntimeException: 
  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:2981)
  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3042)
  at android.app.ActivityThread.-wrap14 (ActivityThread.java)
  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1639)
  at android.os.Handler.dispatchMessage (Handler.java:102)
  at android.os.Looper.loop (Looper.java:154)
  at android.app.ActivityThread.main (ActivityThread.java:6776)
  at java.lang.reflect.Method.invoke (Native Method)
  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1520)
  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1410)
Caused by: java.lang.ClassCastException: 
  at org.appcelerator.titanium.TiBaseActivity.getTiApp (TiBaseActivity.java:248)
  at org.appcelerator.titanium.TiRootActivity.onCreate (TiRootActivity.java:78)
  at android.app.Activity.performCreate (Activity.java:6955)
  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1126)
  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:2924)
{quote}

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2018-03-29

   I am wondering if this also happens with currnet versions of the SDK, like 7.1.0.GA. [~ybanev] did you see this before?</li>
<li>Yordan Banev 2018-03-29

   Doesn't ring any bell. 
   [~sonufana4u] Any details you can share - code snippet you are suspecting, device, Android version ?</li>
<li>sonufana4u 2018-03-30

   Right now i don't have any info with me but i'll try to share as much as info i could collect.</li>
<li>Mostafizur Rahman 2018-04-01

   [~sonufana4u], Did you manage to collect more information?</li>
<li>sonufana4u 2018-04-02

   Hello Mostafizur,
   
   Not yet. Due to long weekend am not able to collect info.Will share with you soon.Thanks</li>
<li>Mostafizur Rahman 2018-04-02

   [~sonufana4u],Ok. Thanks. We will be waiting for that.</li>
<li>Mostafizur Rahman 2018-04-12

   Hello [~sonufana4u],
   
   Did you manage to collect more information? We are waiting for that.
   Thanks</li>
<li>sonufana4u 2018-04-13

   Hi Mostafizur,
   
   I didn't get much info but this is happening on Android 7 & Samsung Galaxy S7 edge and Galaxy S8.Check at your end and let me know if it helps to identify the issue.</li>
<li>Sharif AbuDarda 2018-04-13

   Hello, Please share a sample reproducible code for us to test. Thanks.</li>
<li>Sergey Volkov 2018-06-06

    Got same issue. Looks like it is not Titanium specific, but Android 7+. ([stackoverflow](<a href="https://stackoverflow.com/questions/44840768/android-7-0-and-7-1-getapplication-classcastexception/46676931))" rel="nofollow" target="_blank">https://stackoverflow.com/questions/44840768/android-7-0-and-7-1-getapplication-classcastexception/46676931))</a>
    I think this should fix it:
    
    <code><pre>
    --- a/android/titanium/src/java/org/appcelerator/titanium/TiBaseActivity.java
    +++ b/android/titanium/src/java/org/appcelerator/titanium/TiBaseActivity.java
    @@ -263,7 +263,7 @@ public abstract class TiBaseActivity extends AppCompatActivity
             */
            public TiApplication getTiApp()
            {
    -               return (TiApplication) getApplication();
    +               return TiApplication.getInstance();
            }
    </pre></code>
    </li>
<li>John Dalsgaard 2018-10-05

    I saw similar issues in my app using SDK 6.3.1.
    
    I have now patched the SDK to use this code:
    <code><pre>
    		TiApplication ta = (TiApplication) getApplication();
    		if(null == ta) {
    		    Log.e("Error", "TiApplication null. Try to load instance...");
    			ta = TiApplication.getInstance();
    		}
    		return ta;
    </pre></code>
    I cannot find a very to directly reproduce this - but I should know within a month or two whether it has removed this type of crashes by looking at the Google Play console.
    
    By the way I also checked the code in the lates SDK 7.4.1 - and it still uses:
    
    <code><pre>
    	return (TiApplication) getApplication();
    </pre></code></li>
<li>Sergey Volkov 2018-10-05

    Please use "preview" button (blue button with 3 stripes below comment block). You've just produced over 10 emails.
    Strip spaces before/after braces:
    { code:java }CODE HERE{ code }</li>
<li>Sergey Volkov 2018-11-07

    So, this does not help:
    <code><pre>
    -               return (TiApplication) getApplication();
    +               return TiApplication.getInstance();
    </pre></code>
    Now I got NullPointerExceptions, because somehow there is no <code>TiApplication</code> instance at the moment when <code>TiRootActivity.onCreate</code> executed.
    As before reports are coming only from Android 7.0 (and some 7.1) and I still have no idea how to reproduce it localy.</li>
<li>grebulon 2019-05-22

    This is not resolved. Got the same crash on Huawei Mate 10 Pro with Android 9:
    {noformat}
    java.lang.RuntimeException: 
      at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3300)
      at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3484)
      at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:86)
      at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:108)
      at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:68)
      at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2123)
      at android.os.Handler.dispatchMessage (Handler.java:109)
      at android.os.Looper.loop (Looper.java:207)
      at android.app.ActivityThread.main (ActivityThread.java:7470)
      at java.lang.reflect.Method.invoke (Native Method)
      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:524)
      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:958)
    Caused by: java.lang.ClassCastException: 
      at org.appcelerator.titanium.TiBaseActivity.getTiApp (TiBaseActivity.java:308)
      at org.appcelerator.titanium.TiRootActivity.onCreate (TiRootActivity.java:80)
      at android.app.Activity.performCreate (Activity.java:7436)
      at android.app.Activity.performCreate (Activity.java:7426)
      at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1286)
      at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3279)
    {noformat}</li>
<li>martin 2020-03-16

    Same here, using SDK 8.3.1.GA and seen on LGE LG Q6 (mhn) with Android 8.1 and Samsung Galaxy S8 (dreamlte) with Android 9:
    <code><pre>
    java.lang.RuntimeException: 
      at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3108)
      at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3251)
      at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:78)
      at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:108)
      at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:68)
      at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1948)
      at android.os.Handler.dispatchMessage (Handler.java:106)
      at android.os.Looper.loop (Looper.java:214)
      at android.app.ActivityThread.main (ActivityThread.java:7045)
      at java.lang.reflect.Method.invoke (Native Method)
      at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:493)
      at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:964)
    Caused by: java.lang.ClassCastException: 
      at org.appcelerator.titanium.TiBaseActivity.getTiApp (TiBaseActivity.java:225)
      at org.appcelerator.titanium.TiBaseActivity.finish (TiBaseActivity.java:1763)
      at org.appcelerator.titanium.TiActivity.onCreate (TiActivity.java:42)
      at android.app.Activity.performCreate (Activity.java:7327)
      at android.app.Activity.performCreate (Activity.java:7318)
      at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1271)
      at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3088)
    </pre></code></li>
</ol>


<p><a href="/AC/AC-5683.json">JSON Source</a></p>