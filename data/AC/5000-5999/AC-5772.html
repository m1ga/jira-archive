---
title: "[AC-5772] Hyperloop iOS - Setting Array value to required Class setting string"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2018-06-18T11:19:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Hyperloop</td></tr>
<tr><th>Labels</th><td>alloy, hyperloop, ios</td></tr>
<tr><th>Reporter</th><td>David van de Meer</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-06-18T03:31:19.000+0000</td></tr>
<tr><th>Updated</th><td>2018-06-18T13:47:55.000+0000</td></tr>
</table>

<h3>Description</h3>

In Hyperloop I have required and initiated a "config class" as part of the framework. The problem I have is that when I set an array to one of the config class variables it gets set to the class as a string and not an array, even when creating an NSArray it does not get set. The only workaround has been to set the value as a an array inside an array?! 

Example: <code>[["value1","value2"]]</code>

So I require the config class:

<code><pre>
// require CountlyConfig
var CountlyConfigClass = require('Countly/CountlyConfig');
var CountlyConfig = new CountlyConfigClass();
</pre></code>

I then set variables on the config class as follows, these work just fine:

<code><pre>
CountlyConfig.appKey = "123124";
CountlyConfig.host = "<a href="http://www.host.com" rel="nofollow" target="_blank">http://www.host.com</a>";
</pre></code>

The problem happens when setting array as follows:

<code><pre>
CountlyConfig.features = ["crash","views"];
</pre></code>

This does not work as the Config class thows an error saying it expects an NSArray, after many hours I was able to set the value as follows:

<code><pre>
CountlyConfig.features = [["crash","views"]];
</pre></code>

Steps to reproduce:
1. Create new alloy hyperloop enabled project
2. In your podfile, add -> pod 'Countly', '18.04'
3. In a alloy.js, put this:

<code><pre>
// require CountlyConfig
var CountlyConfigClass = require('Countly/CountlyConfig');
var CountlyConfig = new CountlyConfigClass();

// set config vars
CountlyConfig.appKey = "123124";
CountlyConfig.host = "<a href="http://www.host.com" rel="nofollow" target="_blank">http://www.host.com</a>";
CountlyConfig.features = ["crash","views"];

</pre></code>

4. Try and build project with the environment mentioned above

Podfile:

<code><pre>
<h4>This is required for CocoaPods 1.x</h4>
install! 'cocoapods',
         :integrate_targets =&gt; false
 
platform :ios, '8.0'
use_frameworks!
target 'alloy-hyperloop' do
    pod 'Countly', '18.04'
    
end
</pre></code>


<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2018-06-18

   A (non-typed) JS-array is different to the (typed) native Array, e.g.
   <code><pre>
   var nativeArray = NSArray.arrayWithObjects('crash', 'views', null);
   </pre></code>
   The "null" is for terminating the variadic method structure.</li>
</ol>


<p><a href="/AC/AC-5772.json">JSON Source</a></p>