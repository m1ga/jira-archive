---
title: "[AC-5877] Unable to compile Ti-SDK with scons.js"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Done</td></tr>
<tr><th>Resolution Date</th><td>2018-12-10T16:45:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>Android, iOS,</td></tr>
<tr><th>Reporter</th><td>Jonas Funk Johannessen</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-09-05T13:00:42.000+0000</td></tr>
<tr><th>Updated</th><td>2018-12-10T16:48:40.000+0000</td></tr>
</table>

<h3>Description</h3>

Following the guide here [<a href="https://www.appcelerator.com/blog/2018/06/patch-titanium-sdk-using-cherry-picking/" rel="nofollow" target="_blank">https://www.appcelerator.com/blog/2018/06/patch-titanium-sdk-using-cherry-picking/</a>](<a href="https://www.appcelerator.com/blog/2018/06/patch-titanium-sdk-using-cherry-picking/)" rel="nofollow" target="_blank">https://www.appcelerator.com/blog/2018/06/patch-titanium-sdk-using-cherry-picking/)</a>, I'm getting an error when running the last command <code>node scons.js cleanbuild</code>. The error I see is:

{panel:borderStyle=dashed}
BUILD SUCCESSFUL
Total time: 2 seconds

path.js:28
    throw new TypeError('Path must be a string. Received ' + inspect(path));
    ^

TypeError: Path must be a string. Received null
    at assertPath (path.js:28:11)
    at Object.join (path.js:1246:7)
    at AndroidSDK.getPlatformDir (/Users/jonasfunk/Dropbox/Appcelerator_Studio_Workspace/ti-sdk/build/androidsdk.js:64:24)
    at Android.build (/Users/jonasfunk/Dropbox/Appcelerator_Studio_Workspace/ti-sdk/build/android.js:41:28)
    at /Users/jonasfunk/Dropbox/Appcelerator_Studio_Workspace/ti-sdk/build/scons-cleanbuild.js:95:26
    at /Users/jonasfunk/Dropbox/Appcelerator_Studio_Workspace/ti-sdk/node_modules/async/dist/async.js:3047:16
    at replenish (/Users/jonasfunk/Dropbox/Appcelerator_Studio_Workspace/ti-sdk/node_modules/async/dist/async.js:982:17)
    at /Users/jonasfunk/Dropbox/Appcelerator_Studio_Workspace/ti-sdk/node_modules/async/dist/async.js:986:9
    at eachLimit$1 (/Users/jonasfunk/Dropbox/Appcelerator_Studio_Workspace/ti-sdk/node_modules/async/dist/async.js:3133:22)
    at Object.<anonymous> (/Users/jonasfunk/Dropbox/Appcelerator_Studio_Workspace/ti-sdk/node_modules/async/dist/async.js:1016:16)
{panel}

Node/NDK installed:
{panel:borderStyle=dashed}
✓  node               installed (v8.9.4)
✓  npm                installed (v6.4.1)
✓  ndk                 installed (12.1.2977051)
✓  ndk-build        installed (/Users/jonasfunk/android-ndk-r12b/ndk-build)
{panel}

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2018-09-05

   It looks like, although installed, the NDK path may not be known by the CLI. Make sure to set it in the Ti config (either via CLI with <code>ti config android</code> or by editing <code>~/.titanium/config.json</code>), e.g.:
   <code><pre>
   	"android": {
   		"sdkPath": "/opt/android-sdk/",
   		"ndkPath": "/opt/android-sdk/ndk-bundle"
   	},
   </pre></code></li>
<li>Jonas Funk Johannessen 2018-09-05

   Thanks for the feedback. Should note, that I just updated the NDK to r17b, as someone suggested that on  TiSlack. Had unsuccessfully tried with r12b before that. Tried setting the NDK path again, via <code>appc ti setup</code>. Checked <code>~/.titanium/config.json</code>, and it seems correct:
   <code><pre>
   "android": {
   		"sdkPath": "/Users/jonasfunk/android-sdk",
   		"ndkPath": "/Users/jonasfunk/android-ndk-r17b",
   	}
   </pre></code>
   
   Still no luck - same error.
   </li>
<li>Jan Vennemann 2018-10-19

   Make sure you have the required environment variables set. The scripts uses <code>ANDROID_SDK</code> to detect your Android SDK. For example, if you only have <code>ANDROID_HOME</code> set, run <code>ANDROID_SDK=$ANDROID_HOME ./scons.js cleanbuild</code> (or define ANDROID_SDK in your bash profile).</li>
<li>Sharif AbuDarda 2018-11-29

   Hello, [~jonasfunk], please follow up on the status of your issue? Did you tried following Jan's guide? Thanks.</li>
<li>Jonas Funk Johannessen 2018-12-03

   Environment variables has been set so that's not the issue. I haven't tried building since October, as the issue I wanted to fix, has later been fixed by an SDK update. </li>
<li>Jan Vennemann 2018-12-03

   Good to hear you got the fix. For future reference, it may still have been an issue with environment variables. I had a mixup in my previous comment and updated it accordingly.</li>
</ol>


<p><a href="/AC/AC-5877.json">JSON Source</a></p>