---
title: "[AC-5923] Ti.WKWebView doesn't work "localStorage""
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2018-11-28T22:33:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>hakaniemi</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-09-20T12:51:26.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-28T22:33:39.000+0000</td></tr>
</table>

<h3>Description</h3>

-- index.xml
<Alloy>
	<Window>
		<WebView id="webView" module="ti.wkwebview" />
	</Window>
</Alloy>


-- index.js
$.index.open();
$.webView.addEventListener("message", function(e) {
  Ti.API.info(e.body.message);
});
$.webView.html = '<html><head><title>Test</title></head><body>This is a test.<script>(function () {window.webkit.messageHandlers.Ti.postMessage({message:"test1"});var value = localStorage.getItem("key");window.webkit.messageHandlers.Ti.postMessage({message:"test2"});})();</script></body></html>';

"test2" is not shown on console.

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2018-09-24

   Hello, Is this for real device? Can you send the log that you see in the console, Run a trace log. Also, send the screenshot of the device/simulator screen. Thanks.</li>
</ol>


<p><a href="/AC/AC-5923.json">JSON Source</a></p>