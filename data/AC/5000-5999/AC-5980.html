---
title: "[AC-5980] x86 support removed in Ti SDK 7.4.0"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Done</td></tr>
<tr><th>Resolution Date</th><td>2018-10-19T22:20:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>David Benko</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-10-17T23:10:31.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-12T15:43:42.000+0000</td></tr>
</table>

<h3>Description</h3>

Just upgraded my app from Ti SDK 7.1.0.GA to SDK 7.4.0.GA and when I publish the app in Google Play I get a warning saying that x86 support is removed in the new APK and that OpenGL 2.0+ is now required (vs 1.0 before). 

I compiled the app with minSdkVersion 16 and targetSdkVersion 26. Could not find anything about x86 support being removed in the sdk release notes. Is this intended?

Screenshot: <a href="https://imgur.com/a/EcdRleQ" rel="nofollow" target="_blank">https://imgur.com/a/EcdRleQ</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-5980_65731/screencapture.png">screencapture.png</td></td><td>2018-10-17T23:09:18.000+0000</td><td>281043</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2018-10-18

   [~davidbenko] x86 was removed in TIMOB-26006, you can add the below to your tiapp to include it again
   
   <code><pre>
   &lt;android&gt;
       &lt;abi&gt;armeabi-v7a,arm64-v8a,x86&lt;/abi&gt;
   &lt;/android&gt;
   </pre></code></li>
<li>David Benko 2018-10-19

   Ewan Harris ok, thank you</li>
<li>David Benko 2018-10-23

   Using <abi>armeabi-v7a,arm64-v8a,x86</abi> I got the following error:
   
   [ERROR] Invalid ABI "x86"
   
   Valid ABIs:
      arm64-v8a
      armeabi-v7a
   </li>
<li>Thomas Neerup 2018-11-02

   Is there a solution for using x86? or is this just not supported any longer ? </li>
<li>Christian Clare 2018-11-12

   Getting the same error as David Benko above. We were using the x86 slice generated with our application apk in Titanium 7.1.0 to install the apk into x86 emulators and perform automated testing and this is causing us problems for our testing using Appium.
   
   Ewan Harris - is there something required when building Titanium 7.4.2 via scons that is required to reenable x86 support? I added the abi directive for Android but getting the "Invalid ABI x86" message as above.
   
   The application size has gone from 37mb under Titanium 7.1.0 to 31mb under 7.4.2 but we wanted that x86 slice... so it is smaller but the functionality is required for us.</li>
<li>Christian Clare 2018-11-12

   Ok I figured out how to revert it - this line with "x86" in _build.js is removing it from production builds:
   
   {{	if (this.deployType === 'production') {
   		// by default, remove 'x86' from production builds
   		// 'x86' devices are scarce; this is predominantly used for emulators
   		// we can save 16MB+ by removing this from release builds
   		this.abis.splice(this.abis.indexOf('x86'), 1);
   	}}}
   
   It is located here:
   $HOME/Library/Application\ Support/Titanium/mobilesdk/osx/7.4.2.GA/android/cli/commands/_build.js
   
   I also set the property of kroll.v8.build.x86 to 1:
   		<property name="kroll.v8.build.x86" value="1"/>
   In android/build/common.xml (it was a zero-length string before) but not sure if that was also required. I rebuilt the 7.4.2 framework with this flag set.
   
   The problem is that if you are doing production build, it always removes the x86 from the list of available abis and then displays an error, even if the user explicitly uses the abi directive in tiapp.xml - the code could look to see if the user specified it and if not, then remove it.
   </li>
<li>Ewan Harris 2018-11-12

   Sorry for the time taken to realise this one folks, I've just filed TIMOB-26548 to fix this issue. If you watch that ticket you'll be able to see the PR with the changes so that you can apply them yourself if you wish
   
   [~narbs], looks like we got the conclusion at the same time! :)</li>
<li>Christian Clare 2018-11-12

   Great! Thanks for the quick response. It will be a big help to other people needing this</li>
</ol>


<p><a href="/AC/AC-5980.json">JSON Source</a></p>