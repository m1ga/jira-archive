---
title: "[AC-6003] Android/iOS : decodeURIComponent() method not working"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2018-12-10T11:29:56.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.4.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>andoid, decode, ios</td></tr>
<tr><th>Reporter</th><td>Jignesh Kasundra</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-11-01T09:40:47.000+0000</td></tr>
<tr><th>Updated</th><td>2018-12-10T11:29:56.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm trying to display equivalent text for the below string but it's not working


<code><pre>

var win = Ti.UI.createWindow({
	backgroundColor : 'white'
});

win.open();

alert(decodeURIComponent('Hello &#8211 World'));

</pre></code>


the resulted text should be >> Hello – World




<h3>Comments</h3>

<ol>
<li>Michael Gangolf 2018-11-01

   That doesn't work in Javascript. Run the <code>alert(decodeURIComponent('Hello &#8211 World'));</code> in the Firefox developer tools and you will see the same text. The proper encoded version would be:
   
   <code>decodeURIComponent('Hello%20%E2%80%93%20World')</code>
   
   Try to run the "normal" text through <code>encodeURIComponent</code> to see the correct URI text. 
   
   And if you are using Alloy/underscore you can use <a href="https://underscorejs.org/#unescape" rel="nofollow" target="_blank">https://underscorejs.org/#unescape</a> to unescape the HTML entities</li>
<li>Jignesh Kasundra 2018-11-01

   Hi Michael
   
   i have tryed to encode the character in Titanium using encodeURIComponent('Hello &#8211 World') method
   
   and got the below result
   
   Hello%20%26%238211%20World
   
   and got the correct result on browser by decodeURIComponent() method
   
   but while using in Titanium it's returning the back to same character *Hello &#8211 World*
   
   how to i implement this with titanium ?
   
    i am using titanium classic project
   
   in my app i am getting *Hello &#8211 World* as original string
   
   thanks.</li>
<li>Michael Gangolf 2018-11-01

   Again, you are using it wrong:
   <code><pre>
   var enc = encodeURIComponent("Hello – World");
   var dec = decodeURIComponent(enc);
   console.log(enc);
   console.log(dec);
   </pre></code>
   
   outputs the correct result in Ti 7.4.1 (Android)
   
   <code>Hello &#8211 World</code> is not an URLComponent text. It is a HTML entities text. And you would need to use either a Webview or underscore (or something else from <a href="https://stackoverflow.com/questions/5796718/html-entity-decode)" rel="nofollow" target="_blank">https://stackoverflow.com/questions/5796718/html-entity-decode)</a> to decode it</li>
<li>Jignesh Kasundra 2018-11-01

   so my problem is  i am getting *Hello &#8211 World*  as original string and in the titanium label control have to print Hello – World
   
   is there anyway to implement this ?</li>
<li>Michael Gangolf 2018-11-01

   Either change your API that it will send proper strings or search for decoding HTML entities -> text in Javascript (e.g. <a href="https://stackoverflow.com/questions/17678694/replace-html-entities-e-g-8217-with-character-equivalents-when-parsing-an)." rel="nofollow" target="_blank">https://stackoverflow.com/questions/17678694/replace-html-entities-e-g-8217-with-character-equivalents-when-parsing-an).</a> So this is not a bug and better be asked in TiSlack or Stackoverflow.
   There are even modules you'll find on google: <a href="https://github.com/appcelerator-forks/kosso.TiHTML" rel="nofollow" target="_blank">https://github.com/appcelerator-forks/kosso.TiHTML</a>
   
   or something like this
   
   <code><pre>
   var decodeHtmlEntity = function(str) {
     return str.replace(/&#(\d+);/g, function(match, dec) {
       return String.fromCharCode(dec);
     });
   };
   decodeHtmlEntity("Hello &#8211; World")
   </pre></code></li>
<li>Nazmus Salahin 2018-12-01

   Hello [~jignesh.igp],
   Just passing as update here.Are you able to get that sorted out?  Please let us know if you need help with this issue.
   
   Thanks</li>
<li>Rakhi Mitro 2018-12-10

   Hello,
   I just wanted to follow up with you about this issue? Are you still experiencing this problem?
   Please let us know if you need more help with this issue.
   
   Thanks</li>
<li>Jignesh Kasundra 2018-12-10

   Hello,
   my issue is resolved. please close the issue
   
   Thanks</li>
</ol>


<p><a href="/AC/AC-6003.json">JSON Source</a></p>