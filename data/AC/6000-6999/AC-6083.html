---
title: "[AC-6083] iOS Uploading files causes extremely high ram usage"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2019-01-17T22:06:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Donovan Lewis</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-12-28T22:33:13.000+0000</td></tr>
<tr><th>Updated</th><td>2019-01-17T22:06:21.000+0000</td></tr>
</table>

<h3>Description</h3>

When uploading a large file or multiple small files at the same time the ram usage on iOS will sky rocket and is not always garbage collected after the upload is finished or stopped. 

A upload of 100 MB can cause well over 400 MB of ram usage. Repeated uploads will cause the app to crash because it will not be garbage collected always. Multiple small uploads will cause the same issue to happen. 

On older devices this is a bigger problem because of only having 1 or 2 GB of ram. But with larger file sizes even on newer devices this is a high amount of ram usage for an app. Having jscore set to false in the tiapp.xml seems to make it work better but its still not perfect. 

When you start an upload the file is immediately put into ram instead of being read off the disk, when the file is in ram it uses much more ram than the size of the file itself. I do not think the file should be put into ram if that was not done we would avoid this issue altogether. 


<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2018-12-30

   Hello, Please share a standalone sample code that can be used to reproduce the issue and observe the behavior. Thanks.</li>
<li>Rakhi Mitro 2019-01-16

   Hello,
   Just passing as follow up here. Are you able to get that sorted out? Â Please let us know if you need more help with this issue.
   </li>
</ol>


<p><a href="/AC/AC-6083.json">JSON Source</a></p>