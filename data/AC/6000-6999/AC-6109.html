---
title: "[AC-6109] Backbutton ActionBar doesn't work sometimes"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2019-02-02T20:50:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Alloy, Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android</td></tr>
<tr><th>Reporter</th><td>Barry van der Pol</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2019-01-16T09:32:19.000+0000</td></tr>
<tr><th>Updated</th><td>2019-04-08T12:31:53.000+0000</td></tr>
</table>

<h3>Description</h3>

Sometimes when the backbutton in the ActionBar is pressed, I get the following error:
 '{color:red}[ERROR] :  V8Function: !!!Received a bad pointer to the Proxy for 'this' in V8Function.nativeInvoke. Proxy may have been destroyed already. Returning undefined.{color}'

Sometimes have to open and close a window about 100 times to reproduce, I can also occur the first time.

{quote}<Alloy>
	<Window class="container" navTintColor="#FFFFFF" backButtonTitle="Terug" exitOnClose="false">
		<ActionBar  onHomeIconItemSelected="back" displayHomeAsUp="true"  homeButtonEnable="true" id="actionbar" title="Title" />
		<View id="contentView" class="mainmenu"  backgroundColor="#FFFFFF">
		</View>
	</Window>
</Alloy>{quote}

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/AC/AC-6109_66097/Foto 16-01-19 om 10.28.jpg">Foto 16-01-19 om 10.28.jpg</td></td><td>2019-01-16T09:31:59.000+0000</td><td>44222</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Rakhi Mitro 2019-01-16

   Hello [~nsttu],
   Thanks for reporting this. Are you experiencing this in all android devices or the specific this device? It would be great if you share your complete environment information and test steps to reproduce this on our end.</li>
<li>Barry van der Pol 2019-01-16

   We are experiencing this on multiple android devices. I can be reproduced by opening a new window and then go back with de the back button in de action bar, sometimes I have to do it about 100 times before the error occurs. If the error occurs I can resolve is with "$.overview.activity.invalidateOptionsMenu();" but I cannot detect it.
   
   View:
   <code><pre>
   &lt;Alloy&gt;
   	 &lt;Window class="container" navTintColor="#FFFFFF" backButtonTitle="Terug" exitOnClose="false"&gt;
   	 	 &lt;ActionBar onHomeIconItemSelected="back" displayHomeAsUp="true" homeButtonEnable="true" id="actionbar" title="Title" /&gt;
   	 	 &lt;View id="contentView" class="mainmenu" backgroundColor="#FFFFFF"&gt;
   	 	 &lt;/View&gt;
   	 &lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   Back function in the controller (this function will also not being called when the error occurs)
   <code><pre>
   function back(){
   	 $.overview.close();
   }
   </pre></code>
   
   
   {quote}Operating System
     Name                        = Mac OS X
     Version                     = 10.14
     Architecture                = 64bit
     # CPUs                      = 4
     Memory                      = 8589934592
   Node.js
     Node.js Version             = 10.14.2
     npm Version                 = 6.4.1
   Titanium CLI
     CLI Version                 = 5.1.1
   Titanium SDK
     SDK Version                 = 7.5.0.GA
     SDK Path                    = /Users/appdeveloper/Library/Application Support/Titanium/mobilesdk/osx/7.5.0.GA
     Target Platform             = android
   
   <uses-sdk android:minSdkVersion="16" android:targetSdkVersion="28"/>{quote}</li>
<li>Rakhi Mitro 2019-01-17

   Can you please share your index.js file with us to reproduce the issue on our end?</li>
<li>Sharif AbuDarda 2019-01-17

   Hello, In your sample code, "$.overview.close();" this is an error. There is no overview id in your xml code. Please provide the real sample code. Thanks.</li>
<li>Rakhi Mitro 2019-01-28

   Hello, 
   
   I thought I’d check in to see how things are progressing on your end. Just following up to check the status of this issue. Did you manage to provide the sample test project?
   
   
   </li>
<li>Barry van der Pol 2019-01-30

   We are stil working on a tiny sample code to reproduce the error. We can't figure out what's triggering the error.</li>
<li>Rakhi Mitro 2019-01-30

   [~nsttu],
   Can you please share the complete test code to reproduce the issue properly on our end?</li>
<li>Barry van der Pol 2019-02-04

   I found the cause of the problem. I couldn't reproduce the error in a new project, not even with the same code. After comparing the tiapp.xml files is saw there was a "<property name="run-on-main-thread" type="bool">true</property>". When I removed this property the error also occured in the new app. When I added the property in my app the problem did not occur anymore. My app exists for more then 5 years, that why the tiapp.xml did not contain the proptery.
   Why is that propetry added in the tiapp.xml and not the default in the code?
   I see this bug has no priority, thanks for your patience.</li>
<li>Caio Iglesias 2019-04-08

   I have also experienced this.
   
   <a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/guide/tiapp.xml_and_timodule.xml_Reference-section-src-29004921_tiapp.xmlandtimodule.xmlReference-run-on-main-thread
   
   run-on-main-thread seems to be enabled by default on SDK 7.0.0+ though</li>
</ol>


<p><a href="/AC/AC-6109.json">JSON Source</a></p>