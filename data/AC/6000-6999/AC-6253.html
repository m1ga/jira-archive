---
title: "[AC-6253] Use of Associated Domains crashes app on iOS with SDK 8.0.0+"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Done</td></tr>
<tr><th>Resolution Date</th><td>2019-07-24T18:24:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Low Bird</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2019-05-13T09:36:20.000+0000</td></tr>
<tr><th>Updated</th><td>2019-07-24T18:24:01.000+0000</td></tr>
</table>

<h3>Description</h3>

If you click on an URL that is registered to your app via iOS Associated Domains, the App is started and crashes instantly. It is working fine with Titanium SDK up to 7.5.2. It crashes on TiSDK 8.0.0 and 8.0.1RC.

How to reproduce:
app.js:
<code><pre>
Ti.App.iOS.addEventListener('continueactivity', function(e){
});
</pre></code>

tiapp.xml:
<code><pre>
&lt;ios&gt;
...
      &lt;entitlements&gt;
            &lt;dict&gt;
                &lt;key&gt;com.apple.developer.associated-domains&lt;/key&gt; 
                &lt;array&gt; 
                    &lt;string&gt;applinks:dev.expample.org&lt;/string&gt;
                &lt;/array&gt;
            &lt;/dict&gt;
        &lt;/entitlements&gt;
&lt;/ios&gt;
</pre></code>





<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-6253_66615/crashlog.txt">crashlog.txt</td></td><td>2019-05-17T15:20:50.000+0000</td><td>73168</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jebun Naher 2019-05-14

   [~l0wb1rd], Thanks for your report. Can you share complete crash log? Did you experience this on simulator or real device? Let us know the update.</li>
<li>Rakhi Mitro 2019-05-17

   Hello,
   We haven't heard back from you since our last response. I am just following up to check the status of this case and if you need further help on it. </li>
<li>Low Bird 2019-05-17

   I do need further help!
   Crash happens on Device - we haven't tested on simulator. It should be very easy reproducable since it happens with a blank iOS app on different devices built from different environments.
   </li>
<li>Low Bird 2019-05-17

   Crashlog: 
   [^crashlog.txt] 
   
   Can I provide anything else to help track this down?</li>
<li>Rakhi Mitro 2019-05-20

   [~l0wb1rd],
   Did you experience the same crash using 8.0.1.GA?</li>
<li>Daniel Marin 2019-05-27

   I had the same issue, and I fixed it commenting the line 128 of TiApp+Addons.m
   
   Classes -> TitaniumKit Extensions -> TiApp+Addons.m
   
   This recursive call provokes the dump:
   
   
   <code><pre>
     [self tryToInvokeSelector:@selector(application:continueUserActivity:restorationHandler:)
                 withArguments:[NSOrderedSet orderedSetWithObjects:application, userActivity, restorationHandler, nil]];
   </pre></code>
   
   
   Once I commented it, I had no dumps and the universal iOS links worked perfectly.</li>
<li>Daniel Marin 2019-05-27

   The issue is the same in 8.0.0GA and 8.0.1GA</li>
<li>Low Bird 2019-05-28

   can confirm that it still crashes with 801GA on device and on simulator.
   
   Thanks, Daniel Marin. I'll try the suggested patch and report back.</li>
<li>Low Bird 2019-05-31

   The suggested patch here in the comments does work.
   It might be that this issue is related and that it is already fixed in master/810
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/10725" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10725</a></li>
<li>Rakhi Mitro 2019-07-24

    [~l0wb1rd],
    
    Just passing as followup here. Are you able to get that sorted out?  Please let us know if you need more help with this issue.
    </li>
<li>Sharif AbuDarda 2019-07-24

    The issue is fixed in the master Ti SDK: 8.1.0.v20190611140242 and later. Thanks.</li>
</ol>


<p><a href="/AC/AC-6253.json">JSON Source</a></p>