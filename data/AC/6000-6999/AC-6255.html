---
title: "[AC-6255] ArrowDB query coordinates with or condition"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2019-08-18T10:33:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>ArrowDB</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Emmanuel Francis</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2019-05-14T11:36:51.000+0000</td></tr>
<tr><th>Updated</th><td>2019-08-18T10:33:00.000+0000</td></tr>
</table>

<h3>Description</h3>

I am trying to query users for coordinates with or clause. Below is the example:

URL: <a href="https://api.cloud.appcelerator.com/v1/users/query.json?key=key&pretty_json=true&response_json_depth=2" rel="nofollow" target="_blank">https://api.cloud.appcelerator.com/v1/users/query.json?key=key&pretty_json=true&response_json_depth=2</a>

Request: where:{"$or":[{"coordinates":{"$nearSphere":[79.0521694,21.1310236],"$maxDistance":0.0156}}, {"coordinates":{"$nearSphere":[78.0521694,21.1310236],"$maxDistance":0.0156}}]}
count:true

I am getting below error.
Response: {
    "meta": {
        "code": 400,
        "status": "fail",
        "message": "$and/$or/$nor must be a nonempty array",
        "method_name": "queryUsers"
    }
}

<h3>Comments</h3>

<ol>
<li>Rakhi Mitro 2019-05-16

   [~efrancis],
   
   Thanks for reporting this. Can you please share a simple test case to reproduce the issue on our end?</li>
<li>Rakhi Mitro 2019-06-16

   [~efrancis], 
   We haven't heard back from you since our last response. I am just following up to check the status of this case and if you need further help on it. </li>
<li>Rakhi Mitro 2019-07-25

   Hello,
   Are you able to get that sorted out?  Please let us know if you need more help with this issue.
   </li>
</ol>


<p><a href="/AC/AC-6255.json">JSON Source</a></p>