---
title: "[AC-6297] Please check the following bug i have found in SDK 8.1.0.v20190619134801"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2019-07-02T22:15:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android</td></tr>
<tr><th>Reporter</th><td>Andreas Pingas</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2019-06-28T12:11:31.000+0000</td></tr>
<tr><th>Updated</th><td>2019-07-02T22:15:26.000+0000</td></tr>
</table>

<h3>Description</h3>

Please check the following bug i have found in SDK 8.1.0.v20190619134801

Please us the attached code

In the older SDK version i get the following:
[INFO] :   Ti.Platform.isIOS TEST 1 false
[INFO] :   Ti.Platform.isIOS TEST 2 false
[INFO] :   Ti.Platform.isIOS TEST 3 false

at SDK SDK 8.1.0.v20190619134801 i get the following
[INFO] :   Ti.Platform.isIOS TEST 1 false
[INFO] :   Ti.Platform.isIOS TEST 2 undefined
[INFO] :   Ti.Platform.isIOS TEST 3 false

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-6297_66729/app.js">app.js</td></td><td>2019-06-28T12:10:31.000+0000</td><td>156</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/AC/AC-6297_66728/templates.js">templates.js</td></td><td>2019-06-28T12:10:33.000+0000</td><td>196</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2019-06-28

   [~andreas.pingas], I'm not going to accept this as a bug. This was unfortunately intentional. Here is why...
   
   On Android, every JS file has its own "copy" of core Titanium modules such as <code>Ti.Filesystem</code>, <code>Ti.Media</code>, <code>Ti.UI</code>, etc. This is true even in older versions of Titanium. The negative consequence of this is that whatever methods/properties you add to that core Titanium module will not be available to any other JS file. This was an intentional design decision made on Android years ago to support file paths relative to a JS file that it was called in. I don't personally agree with it (doesn't match iOS' behavior), but that's how it works for now. The reason you're seeing this in Titanium 8.1.0 now is because we added relative path support to <code>Ti.Platform.openURL()</code> and <code>Ti.Platform.canOpenURL()</code>.
   
   For example, run the below code on both Android and iOS. The below will log if the core library references match between the "app.js" and "foo.js" scripts. Notice that it'll return false on Android for <code>Ti.UI</code> and <code>Ti.Media</code> on older SDK versions, but they return true on iOS.
   
   app.js
   <code><pre>
   var foo = require("foo");
   Ti.API.info("Do 'Ti.UI' modules equals? " + (Ti.UI == foo.TiUI));
   Ti.API.info("Do 'Ti.Media' modules equals? " + (Ti.Media == foo.TiMedia));
   </pre></code>
   
   foo.js
   <code><pre>
   exports.TiUI = Ti.UI;
   exports.TiMedia = Ti.Media;
   </pre></code>
   
   ----
   
   What I recommend that you do instead is set up your own properties/methods in the "global" namespace. For example...
   <code><pre>
   global.MyGlobals = {
   	isIOS = true,
   };
   </pre></code>
   
   ----
   
   Alternatively, if your goal is to simply identify the platform, then a simpler solution that works for a Classic Titanium app is to do the following...
   <code><pre>
   if (Ti.App.Android) {
   	// Do Android stuff...
   } else if (Ti.App.iOS) {
   	// Do iOS stuff...
   } else if (Ti.App.Windows) {
   	// Do Windows stuff...
   }
   </pre></code>
   </li>
<li>Andreas Pingas 2019-07-02

   ok, thanks!</li>
</ol>


<p><a href="/AC/AC-6297.json">JSON Source</a></p>