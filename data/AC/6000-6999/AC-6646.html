---
title: "[AC-6646] [Android] Scrollable View `currentPage` Property Not Updated After Being Assigned"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>android, parity</td></tr>
<tr><th>Reporter</th><td>Ma Wenli</td></tr>
<tr><th>Assignee</th><td>Abir Mukherjee</td></tr>
<tr><th>Created</th><td>2020-12-15T08:43:17.000+0000</td></tr>
<tr><th>Updated</th><td>2020-12-15T10:23:56.000+0000</td></tr>
</table>

<h3>Description</h3>

If <code>currentPage</code> property of scrollable view is assigned in the code, the value doesn't seem to get updated immediately on Android. This issue can be reproduced by creating a new project with the following sample code, building the project with Titanium SDK 9.3.0.GA, and running the app on an *_Android_* device:

<code><pre>
var win = Ti.UI.createWindow();

var v0 = Ti.UI.createView({
    backgroundColor: 'red'
});
v0.add(Ti.UI.createLabel({
    color: 'white',
    text: 'Page index = 0'
}));

var v1 = Ti.UI.createView({
    backgroundColor: 'blue'
});
v1.add(Ti.UI.createLabel({
    color: 'white',
    text: 'Page index = 1'
}));

var v2 = Ti.UI.createView({
    backgroundColor: 'green'
});
v2.add(Ti.UI.createLabel({
    color: 'white',
    text: 'Page index = 2'
}));

var scrollableView = Ti.UI.createScrollableView({
    views: [v0, v1, v2],
    height: Ti.UI.FILL,
    width: Ti.UI.FILL
});
win.add(scrollableView);

// Note that <code>currentPage</code> property of scrollable view is assigned here
scrollableView.currentPage = 1;

Ti.API.info('<code>currentPage</code> property of scrollable view is: ' + scrollableView.currentPage);

win.open();
</pre></code>

What I observed in the console was a message saying "[INFO]  <code>currentPage</code> property of scrollable view is: 0", but <code>currentPage</code> should have been updated to 1 already.

FYI, when I run the above sample code on an iOS device, the console output would be "[INFO]  <code>currentPage</code> property of scrollable view is: 1" instead, which was the expected behaviour.


<h3>Comments</h3>

<ol>
<li>Ewan Harris 2020-12-15

   I can reproduce this issue back to 8.3.1.GA, it's possible this might be some form of timing issue on Android as adding even a small timeout to the log like below will log the correct value
   
   <code><pre>
   setTimeout(() =&gt; {
     Ti.API.info('<code>currentPage</code> property of scrollable view is after timeout: ' + scrollableView.currentPage);
   }, 50)
   </pre></code></li>
</ol>


<p><a href="/AC/AC-6646.json">JSON Source</a></p>