---
title: "[AC-6667] iOS: removeEventListener removes "any" callback"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK & CLI</td></tr>
<tr><th>Labels</th><td>ios</td></tr>
<tr><th>Reporter</th><td>martin</td></tr>
<tr><th>Assignee</th><td>Rene Pot</td></tr>
<tr><th>Created</th><td>2021-01-26T15:00:01.000+0000</td></tr>
<tr><th>Updated</th><td>2021-01-27T16:46:52.000+0000</td></tr>
</table>

<h3>Description</h3>

The removeEventListener should only remove a callback function that was previously added, but on iOS it removes any one with the same event type, see test case below.

<code><pre>
const win=Ti.UI.createWindow({
	backgroundColor:'#fff'
});
const view=Ti.UI.createButton({
	title:'This button does nothing on OS...'
});
view.addEventListener('click',()=>{
	alert('This alert does not open on iOS...')
});	
view.removeEventListener('click',()=>{}); //This removes the callback added above, but it shouldn't!
win.add(view); 
win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Rene Pot 2021-01-27

   Hi, <code>removeEventListener</code> indeed removes events of the same type, otherwise, it would be impossible to remove anonymous callbacks. It is ALWAYS recommended to use named callbacks so you can prevent this yourself.</li>
<li>martin 2021-01-27

   Hi Rene,
   Anonymous functions are not the point here. You could change my example to use named callbacks and it will give the same result:
   <code><pre>
   const win=Ti.UI.createWindow({
   	backgroundColor:'#fff'
   });
   const view=Ti.UI.createButton({
   	title:'This button does nothing on OS...'
   });
   view.addEventListener('click',callback1);	
   view.removeEventListener('click',callback2); //This removes the callback added above, but it shouldn't!
   win.add(view); 
   win.open();
   function callback1() {
   	alert('This alert does not open on iOS...')
   }
   function callback2() {	
   }
   </pre></code>
   If testing this on Android it will correctly show the alert when clicking the button. On iOS it will not.
   </li>
<li>Rene Pot 2021-01-27

   Thanks for clarifying that, that wasn't clear from your original sample, there it actually behaved as expected. I will have a look at this one and get back to you!</li>
</ol>


<p><a href="/AC/AC-6667.json">JSON Source</a></p>