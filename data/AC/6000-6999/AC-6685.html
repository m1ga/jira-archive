---
title: "[AC-6685] Titanium.Geolocation component's \"location\" event does not work within parks, beaches, it only works on streets and roads "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Appcelerator Studio 4.3.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Appcelerator Modules</td></tr>
<tr><th>Labels</th><td>Geolocation, Track, beach, park</td></tr>
<tr><th>Reporter</th><td>raul@rearmachine.com</td></tr>
<tr><th>Assignee</th><td>Abir Mukherjee</td></tr>
<tr><th>Created</th><td>2021-02-24T09:40:52.000+0000</td></tr>
<tr><th>Updated</th><td>2021-04-01T15:50:06.000+0000</td></tr>
</table>

<h3>Description</h3>

Hello, I am making an application where I have to make a route track. Everything works fine but I have to enter the event Titanium.Geolocation.addEventListener ('location', locationCallback) in park or field zones;
stop making calls, it's like it's deactivated. When I leave the park it works again.

I am attaching the code in case you can please tell me what the problem may be .. Thanks in advance...

<code><pre>
    // Create foreground service.
                        Ti.Geolocation.Android.manualMode = true;
                        var gpsProvider = Ti.Geolocation.Android.createLocationProvider({
                          name:              Titanium.Geolocation.Android.PROVIDER_GPS,
                          minUpdateTime:     1,  // 1 Buena
                          minUpdateDistance: 2  // 4 Buena prueba
                        });
                    
                        var gpsRule = Ti.Geolocation.Android.createLocationRule({
                          provider: Titanium.Geolocation.Android.PROVIDER_GPS,
                          accuracy: 20, //ACCURACY_BEST //Ti.Geolocation.ACCURACY_BEST // 20 buenos resultados
                          maxAge: 20000, //milisegundos //30000 buena pocos puntos
                          minAge:   10000, //milisegundos //10000 buena
                        });
                           
                        Ti.Geolocation.Android.addLocationProvider(gpsProvider);
                        Ti.Geolocation.Android.addLocationRule(gpsRule);
                        Ti.Geolocation.activityType = Ti.Geolocation.ACTIVITYTYPE_OTHER_NAVIGATION; 
                        Ti.Geolocation.Android.manualMode = true;



                        var locationCallback = function(e) {
    if (!e.success || e.error) {
        //Ti.API.info('error:' + JSON.stringify(e.error));
    } else {
       Ti.API.info('Entra: ' + JSON.stringify(e.coords));
        Alloy.Globals.actualizaTrack(e);
    }
};

Titanium.Geolocation.addEventListener('location', locationCallback);
</pre></code>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/AC/AC-6685.json">JSON Source</a></p>