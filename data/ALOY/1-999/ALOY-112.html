---
title: "[ALOY-112] Improve syntax of custom model functions"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-26T12:03:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2012 Sprint 15, Release 3.0.0</td></tr>
<tr><th>Components</th><td>Runtime, XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-07-18T10:37:27.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:25:52.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently the custom model function syntax requires an anonymous Javascript function to be housed in a "js" file as the same name as the model "json" file. It typically looks like this:

<code><pre>
function(Model) {
    // do stuff to model
    return Model;
}
</pre></code>

The anonymous function syntax causes a syntax error in TiStudio because an anonymous function alone is not valid Javascript syntax. We need to modify the custom model template and function to prevent this.

<h3>Comments</h3>

<ol>
<li>Russell McMahon 2012-07-23

   There are a couple solution. One I think one is not to use anonymous and perhaps return a var. Another solutions is to use a custom extension. The priority of this is high because it makes Alloy projects look messed up, although there is actually no problem in generation/parser.</li>
<li>Tony Lukasavage 2012-07-23

   we definitely don't need a custom extension, it's just JS. It's a little more complicated than just return a var, but not too much. I'll have to modify the template as well as the syntax in the definition. </li>
</ol>


<p><a href="/ALOY/ALOY-112.json">JSON Source</a></p>