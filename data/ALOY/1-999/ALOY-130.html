---
title: "[ALOY-130] Interpret .tss files as JS, not JSON"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-26T13:24:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-07-26T08:45:33.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:25:42.000+0000</td></tr>
</table>

<h3>Description</h3>

This will allow styles files to lose the enclosing \{\} characters, and it will remove the need to wrap all properties in quotes. All the same compile time rules will apply though. All dynamic code still needs to go in expr() syntax.

We can likely achieve the above by using eval() on the style, then using JSON.stringify() to turn it back to JSON, then continue are normal tss processing.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2012-07-26

   For reference, the <code>test/apps/simple/styles/index.tss</code> before and after. No more double quotes necessary on keys, and no top-level \{\} necessary.
   
   <h4>before</h4>
   <code><pre>
   {
   	"Button" : {
   		"width" : expr(Ti.Platform.displayCaps.platformWidth/2),
   		"height" : Ti.UI.SIZE
   	},
   	".button" : {
   		"randomProp":"OK"
   	},
   	"#index[platform=ios]": {
   		"backgroundColor":"blue"
   	},
   	"#index[platform=ios size=tablet]": {
   		"backgroundColor":"red"
   	},
   	"#b": {
   		"randomProp" : null
   	}
   }
   </pre></code>
   
   <h4>after</h4>
   <code><pre>
   "Button" : {
   	width: expr(Ti.Platform.displayCaps.platformWidth/2),
   	height: Ti.UI.SIZE
   },
   ".button" : {
   	randomProp: 'OK'
   },
   "#index[platform=ios]": {
   	backgroundColor: 'blue'
   },
   "#index[platform=ios size=tablet]": {
   	backgroundColor: 'red'
   },
   "#b": {
   	randomProp: null
   }
   </pre></code></li>
</ol>


<p><a href="/ALOY/ALOY-130.json">JSON Source</a></p>