---
title: "[ALOY-135] Improve widget asset and lib path handling"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-09-26T15:22:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2012 Sprint 20, Release 3.0.0</td></tr>
<tr><th>Components</th><td>Runtime, XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-07-26T11:36:02.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:26:07.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>problem</h4>

Right now managing paths that relate to encapsulated assets and libs in a widget is a bit unwieldily. For example, let's say you have a widget structure that looks like this:

* com.domain.widget
** assets
*** android 
**** images
***** someimage.png
*** iphone
**** images
***** someimage.png
***** someimage@2x.png
** controllers
*** widget.js
** lib
*** somemodule.js
** views
*** widget.xml
** widget.json

Here's some sample code from widget.js that would make use of those (ugly) encapsulated paths

<code><pre>
var mod = require('com.domain.widget/somemodule');
var iv = Ti.UI.createImageView({
    image: 'images/com.domain.widget/someimage.png',
});
</pre></code>

So like I mentioned, doable but ugly. It would benefit developers to have a shorthand method for defining asset and lib paths.

<h4>Possible Solution</h4>

We could use something like *WPATH()* wrapped around all paths in a widget to take care of proper pathing.

<code><pre>
var mod = require(WPATH('somemodule'));
var iv = Ti.UI.createImageView({
    image: WPATH('images/someimage.png'),
});
</pre></code>



<h3>Comments</h3>

<ol>
<li>Russell McMahon 2012-07-26

   Let's discuss this a bit more I think of WPATH as a constant but maybe a Alloy function call like getResource(...) and from the javascript argument somehow get the path. How does Android do it? I thought they grabbed resources using some kind of wrapper correct. </li>
<li>Tony Lukasavage 2012-07-26

   What would be the advantages of the Alloy.getResource() method? I ask mainly because that would have to be performed at runtime, where WPATH (or any other name) could be done at compile time, potentially improving performance. 
   
   I don't understand your questions as it relates to Android. Android doesn't have to worry about encapsulation. The reason the widgets assets and libraries are structured as such is to ensure that they don't conflict with any other installed widgets in your project.</li>
</ol>


<p><a href="/ALOY/ALOY-135.json">JSON Source</a></p>