---
title: "[ALOY-152] Add an Include and Require element see description"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-08-07T21:48:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>2012 Sprint 16</td></tr>
<tr><th>Fix Version/s</th><td>2012 Sprint 16, Release 3.0.0</td></tr>
<tr><th>Components</th><td>Runtime, XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Russell McMahon</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-07-30T23:54:27.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:26:06.000+0000</td></tr>
</table>

<h3>Description</h3>

 After having a lengthy discussion with Tony and Rick we may want to support both an Inculde and a Require element as the two elements provide quite disparate featues. Rick or Tony feel free to expand if you think I missed something.

index.xml
<Window id="win1">
  <Include src="myMarkup"/> 
</Window>

Would take the markup that is in myMarkup.xml and make that markup avaialable as it is under it's parent element "win1". This is good for quick reuse of fragments of markup (XML). If say within myMarkup.xml you had a Button say with id "btn1" then within the index.js controller the Ti.UI.Button proxy is accessed through "btn1". There is no associated style 

On the other hand

index.xml
<Window id="win1">
  <Require src="myView" id="view1"/> 
</Window>


Would take the controller (trifecto) and add that to the index.js controller. Styles and the source controller myView.js of myView is maintained. It's like a var view1 = require("myView").create() being done automatically for you and the view hierarchy still under "win1". If myView had a Button with id "btn1" In index.js controller the developer would access the button through "view1.btn1". The advantage here is trifecto reuse and never any id collisions. If the name attribute is missing we can use the view name. 



From Rick B


Include:
<a href="https://gist.github.com/3219597" rel="nofollow" target="_blank">https://gist.github.com/3219597</a>

Require:
<a href="https://gist.github.com/3219595" rel="nofollow" target="_blank">https://gist.github.com/3219595</a>

<h4>other suggestions</h4>

<code><pre>
&lt;!-- for widgets --&gt;
&lt;Require widgetId="widgetId"/&gt;
</pre></code>


<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2012-08-07

   Originally from Russell McMahon:
   
   Since both widgets and views will use the Require element we should have a type attribute. If type is missing default to type="view"
   
   <Require type="widget" id="widgetId"/>
   <Require type="view" src="path/to/view"/> /* require brings in trifecto */</li>
<li>Tony Lukasavage 2012-08-07

   OK, but we'll need to use something else for the widget id, since *id* is reserved for Alloy use. How about we use *src* for both cases and let the *type* determine how each should be handled?
   
   <h4>option #1</h4>
   <code><pre>
   &lt;Require type="widget" src="widgetId"/&gt;
   &lt;Require type="view" src="path/to/view"/&gt; 
   </pre></code>
   
   I actually like the idea of doing this initially:
   
   <h4>option #2</h4>
   <code><pre>
   &lt;Require widget="widgetId"/&gt;
   &lt;Require view="path/to/view"/&gt; 
   </pre></code>
   
   but it starts introducing more reserved keywords. It's also not as flexible as using *type* if we ended up adding more types. But... man does it look pretty, clean, and expressive. I don't know, I might be talking myself back into option #2 as I'm typing. Thoughts?
   
   Also, as far as <Include>, should it just look like this?
   
   <code><pre>
   &lt;Include src="path/to/any/xml/file"/&gt;
   
   &lt;!-- example --&gt;
   &lt;Include src="views/myMarkup.xml"/&gt;
   </pre></code>
   
   An important distinction is that <Include> will happen at compile time, where <Require> will generate runtime code for accessing the generated controllers.
   </li>
<li>Russell McMahon 2012-08-07

   Option #1 looks to be best.</li>
</ol>


<p><a href="/ALOY/ALOY-152.json">JSON Source</a></p>