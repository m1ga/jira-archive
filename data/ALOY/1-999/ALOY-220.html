---
title: "[ALOY-220] How to handle uglifyjs alloy-specific changes"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-10-10T02:16:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Documentation, XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-08-28T09:27:49.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:25:44.000+0000</td></tr>
</table>

<h3>Description</h3>

We need to determine how we would like to manage the custom changes made to uglifyjs to make it work for alloy. Specifically, a couple of (minimal) changes were needed to facilitate our JSON-derivative tss file format. As it stands now, these changes are simply noted with TODOs in the uglifyjs source code that is part of the alloy project. 

For the time being, this is OK. if we ever need to update uglifyjs or track our own changes, it becomes a little more difficult to handle. There's a couple ways we can proceed.

<h4>Continue to use a specifically marked TODO, perhaps that references this ticket, and re-insert the changes into any new version of uglifyjs. Not ideal, but we may never need to update uglifyjs and this would be the minimum amount of work.</h4>
<h4>Keep an open ticket or wiki document that keeps track of the uglifyjs changes, just so we have a reference outside of the code itself. Not sure this is entirely necessary or gets us much.</h4>
<h4>Fork uglifyjs. Make the custom changes in our fork and update from the upstream uglifyjs if necessary. This would be the "best" way to do it, but is likely more work than we should worry about now because as stated before, we may never even need to update uglifyjs</h4>

I'm leaning towards #1 for the time being. We can revisit later if we find updating uglifyjs is a reoccurring event. Thoughts?

<h3>Comments</h3>

<ol>
<li>Russell McMahon 2012-08-28

   Let's go with #1 for now. We can revisit in a couple months.</li>
<li>Tony Lukasavage 2012-10-10

   We will, for the time being, continue to track our minimal uglifyjs changes via TODOs. </li>
</ol>


<p><a href="/ALOY/ALOY-220.json">JSON Source</a></p>