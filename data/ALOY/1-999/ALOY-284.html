---
title: "[ALOY-284] Accept Titanium SDK constants in the XML markup"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-01-08T16:56:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>2012 Sprint 19</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 0.3.5, 2013 Sprint 02</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>notable</td></tr>
<tr><th>Reporter</th><td>Benjamin Hatfield</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-09-19T14:23:49.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:25:49.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently, the property attributes in the view XML markup do not accept the Titanium SDK constants. For instance, the label will not appear if using:

<Label id='label' text='Hello World!' color='purple' borderWidth='1' borderColor='purple' width='Ti.UI.FILL' textAlign='Ti.UI.TEXT_ALIGNMENT_CENTER'/>

This works fine in the TSS and controller code.

Side note: On iOS, using the value of the constant works for 'width' but not 'textAlign', that is, setting width='FILL' works but not textAlign='1'.  This fails on Android.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2012-09-20

   The core of the issue is that XML attributes are strings. They have no sense of type. So the default behavior when using the XML attributes is that the value is treated as a string. So right now, when you put the name of a Ti constant in an attribute, the generated code sees <code>"Ti.UI.TEXT_ALIGNMENT_CENTER"</code>, not <code>Ti.UI.TEXT_ALIGNMENT_CENTER</code>.
   
   I will get Ti constants, Alloy.CFG values, and L() localizations working in XML attributes, but further handling of specific types will require mappings from API property names to the expected type, so conversions can be performed. One such conversion like this already exists. Check out the parser for Ti.Map.Annotation which converts the XML attribute strings for latitude and longitude to floats: <a href="https://github.com/appcelerator/alloy/blob/master/Alloy/commands/compile/parsers/Ti.Map.Annotation.js" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/blob/master/Alloy/commands/compile/parsers/Ti.Map.Annotation.js</a> </li>
<li>Tony Lukasavage 2012-10-01

   Moving this to after 3.0.0. Rather than do a partial fix here, we'll save it until we can actually implement a fully dynamic syntax for the xml attributes. Something along the lines of:
   
   <code><pre>
   &lt;Alloy&gt;
       &lt;Label height="{Ti.UI.SIZE}" font="<code>fontSize:'24dp'</code>" onClick="{function(e){alert(e.source.id)}}"/&gt;
   &lt;/Alloy&gt;
   </pre></code></li>
<li>Tony Lukasavage 2013-01-08

   The {} syntax is being used for binding. Titanium constants will be made usable as the original description requests.</li>
</ol>


<p><a href="/ALOY/ALOY-284.json">JSON Source</a></p>