---
title: "[ALOY-345] Load pre-existing SQLite DBs with sql adapter"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-01-09T17:01:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 0.3.5, 2013 Sprint 02</td></tr>
<tr><th>Components</th><td>Runtime</td></tr>
<tr><th>Labels</th><td>notable</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-10-25T17:12:57.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:26:06.000+0000</td></tr>
</table>

<h3>Description</h3>

see conversation here: <a href="https://groups.google.com/forum/?fromgroups=#" rel="nofollow" target="_blank">https://groups.google.com/forum/?fromgroups=#</a>!topic/appc-ti-alloy/1q1e36mT6f0

Developers should be able to preload sqlite databases with the sql adapter models. To do so, they can add the new "db_file" field with the location of their db file. In addition, you can also explicitly name the database with the "db_name" field. This allows developers to continue to access a named, pre-loaded database even if they remove the "db_file" field:

<h4>examples</h4>

<code><pre>
// standard sql model using default _alloy_ db to create
// table "fighters" based on config.columns
exports.definition = {
	config: {
		"columns": {
			"name":"text",
			"nickname":"text"
		},
		"adapter": {
			"type": "sql",
			"collection_name": "fighters"
		}
	}
}
</pre></code>

<code><pre>
// sql model using specified customDb db to create
// table "fighters" based on config.columns. customDb
// can be referencing an existing db or creating a new one.
// This allows for multiple sqlite dbs in an Alloy app.
exports.definition = {
	config: {
		"columns": {
			"name":"text",
			"nickname":"text"
		},
		"adapter": {
			"type": "sql",
			"collection_name": "fighters",
			"db_name": "customDb"
		}
	}
}
</pre></code>

<code><pre>
// load myapp.sqlite db file if myapp db does not exist, auto-populate 
// config.columns based on <code>pragma table_info("fighters")</code>, which lists 
// table info regarding the fighters table
exports.definition = {
	config: {
		"adapter": {
			"type": "sql",
			"db_file": "/sql_preload.sqlite",
			"collection_name": "fighters"
		}
	}
}
</pre></code>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-01-09

   pre-loaded databases supported as per the ticket description. An example can be found at: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/models/sql_preload" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/models/sql_preload</a></li>
</ol>


<p><a href="/ALOY/ALOY-345.json">JSON Source</a></p>