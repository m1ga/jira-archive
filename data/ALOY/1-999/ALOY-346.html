---
title: "[ALOY-346] Unable to use createController('index')"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-11-15T22:33:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Runtime</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Benjamin Hatfield</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2012-10-25T19:40:57.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-22T13:23:14.000+0000</td></tr>
</table>

<h3>Description</h3>

REPRODUCTION:

Run the following code on either the Android emulator or iOS simulator. Tried assigning an ID to the window and using it with getView.  Same effect.  Code works fine with other view-controllers besides index.

views/index.xml:
<code><pre>
&lt;Alloy&gt;
    &lt;Window backgroundColor="red" title="Red Window"/&gt;
&lt;/Alloy&gt;
</pre></code>

controllers/index.js:
<code><pre>
var foo = require('foo');
foo.fooOpen();
</pre></code>

lib/foo.js:
<code><pre>
var Alloy = require('alloy');

exports.fooOpen = function(e) {
    var win = Alloy.createController('index').getView();
    win.open();
    return;
}
</pre></code>

RESULTS:

On the iPhone simulator, the Console View and simulator both report:
[ERROR] :  Script Error = Maximum call stack size exceeded. at underscore.js (line 428).

On the Android emulator:

On the Console View, the following message is repeated:
<code><pre>
[INFO] [2012-10-25 12:38:32,287] alloy/controllers/alloy/controllers/BaseController.js exists: false
[INFO] [2012-10-25 12:38:32,300] alloy/controllers/foo.js exists: false
</pre></code>

On adb logcat | grep '^./Ti', the following message is repeated:
<code><pre>
D/TiFastDev( 1154): (KrollRuntimeThread) [NN,50NNN] sent tokens successfully
</pre></code>

On the emulator, the following message is displayed:
In ti:/path.js:71,23
Message: Uncaught RangeError: Maximum call stack size exceeded
Source: var path = arguments[i];


<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2012-11-15

   You are creating the index controller inside the index controller, which is creating an infinite loop, which in turn is why your call stack blows up. You can create a new "index" controller, you just need to do it in another controller.</li>
</ol>


<p><a href="/ALOY/ALOY-346.json">JSON Source</a></p>