---
title: "[ALOY-357] Button fires event "singletap" twice"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-11-02T16:34:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 0.3.1, 2012 Sprint 22</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>alloy, button</td></tr>
<tr><th>Reporter</th><td>Ming Liu</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-10-17T16:58:02.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:25:45.000+0000</td></tr>
</table>

<h3>Description</h3>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-357_32722/singletap.tgz">singletap.tgz</td></td><td>2012-10-17T18:20:39.000+0000</td><td>54281</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ming Liu 2012-10-17

   sample code</li>
<li>Ming Liu 2012-10-17

   Seems like changing .on to .addEventListener solves the problem</li>
<li>Tony Lukasavage 2012-11-02

   This ended up being a pretty deep issue. The events firing twice were a symptom of a larger problem in the management of eventing done in order to wrap the Backbone eventing function for Titanium proxies. In short, the event listener only needs to be added to the proxy once, then its handling delegated to any number of handlers in the corresponding backbone listener(s). Listeners were being added to the proxy for _every_ new listener on a particular event added, which has been fixed. Same logic, except in reverse for the off() function as well. We only remove the event listener from the titanium proxy when there are no more listeners in the corresponding Backbone eventing.</li>
<li>Tony Lukasavage 2012-11-02

   @Ming: for reference, on() will work as expected when this change is pushed in 0.3.1. No need to use addEventListener() if you don't want. Thanks for taking the time to log this one cause it was actually a very important catch.</li>
<li>Ming Liu 2012-11-02

   @Tony
   
   Thanks for getting this fixed. Looking forward to 0.3.1</li>
<li>Kabriel Robichaux 2012-11-02

   @Tony: Thanks for this fix! :)</li>
</ol>


<p><a href="/ALOY/ALOY-357.json">JSON Source</a></p>