---
title: "[ALOY-368] Widgets should reference controllers within their standalone structure when using createController"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-11T15:52:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.1.0, 2013 Sprint 04</td></tr>
<tr><th>Components</th><td>Widgets</td></tr>
<tr><th>Labels</th><td>runtime</td></tr>
<tr><th>Reporter</th><td>Bert Grantges</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-11-06T17:54:30.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:26:03.000+0000</td></tr>
</table>

<h3>Description</h3>

Since Widgets are supposed to act as standalone instances, how do I go about creating multiple view/controllers and referencing them appropriately through createController? 

Example:

WIdgetA has two views 
widget.xml
menu.xml

WidgetA controller wants to create an instance of menu.xml using createController
var m = Alloy.createController("menu", {some object}).getView()

Expectation is the above should reference the widgets menu view/controller

Actual result â€“ alloy  tries to find the controller within the base alloy/controllers folder



<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2012-11-11

   Agree 100%, or at least support using WPATH in a widget controller to explicitly reference to other controllers within the widget:
   
   <code><pre>
   var row = Alloy.createController(WPATH('row'), arg).getView();
   </pre></code>
   
   I do see a WPATH implementation in the Alloy-generated <code>widget.js</code>:
   
   <code><pre>
   function WPATH(s) {
       var index = s.lastIndexOf("/"), path = index === -1 ? "MyWidget/" + s : s.substring(0, index) + "/MyWidget/" + s.substring(index + 1);
       return path;
   }
   </pre></code>
   
   But using it results in:
   
   <code><pre>
   alloy/controllers/MyWidget/row
   </pre></code>
   
   A workaround is to use:
   
   <code><pre>
   var row = Alloy.createWidget('MyWidget', 'row', arg).getView();
   </pre></code>
   
   Or is this actually the (undocumented) way to do it? You might think so since <code>createWidget</code> supports a controller name as a second parameter.</li>
<li>Tony Lukasavage 2013-03-11

   The was handled in ALOY-530. The Alloy creation functions, like createController(), should be accessed in widget's like this:
   
   <code><pre>
   widget.createController('viewName', args);
   </pre></code>
   
   This will use the controllers contained within the widget. The same goes for the model and collection creation functions. createWidget() still references the global collection of widgets as it should.</li>
</ol>


<p><a href="/ALOY/ALOY-368.json">JSON Source</a></p>