---
title: "[ALOY-370] In order to assign functions to exports object in controller - you must declare a local function vs a variable assigned function"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-11-26T17:47:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 0.3.1</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 0.3.3, 2012 Sprint 24</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Bert Grantges</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-11-07T18:53:51.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:26:08.000+0000</td></tr>
</table>

<h3>Description</h3>

The below does not work:

var myFunc = function(){alert("hi there")};
exports.myFunc = myFunc;

The below works:

function myFunc2(){ alert("Hello Again")};
exports.myFunc2 = myFunc2;


The issues is during the code generation, Alloy doesn't recognized variable assigned functions the same way it recognizes local functions. The result is that the generated code to assign the exports object is actually placed before the variable assigned function statement, leading to an undefined exports property.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2012-11-26

   Required change in runtime controller composition. Test case works now, as do the alloy test apps that rely on this behavior.</li>
</ol>


<p><a href="/ALOY/ALOY-370.json">JSON Source</a></p>