---
title: "[ALOY-439] ActionItems created in markup don't appear in action bar."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-02-07T15:58:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 0.3.3</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 03</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Arthur Evans</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2012-12-20T03:10:55.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-11T16:09:28.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm trying to create action items using code like this:

index.xml:
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container" onOpen="doWindowOpen" navBarHidden="false" exitOnClose="true"&gt;
		&lt;Menu id="menu" platform="android"&gt;
			&lt;MenuItem id="item1" title="One" onClick="doMenuClick" /&gt;
			&lt;MenuItem id="item2" title="Two" onClick="doMenuClick" /&gt;
		&lt;/Menu&gt;
		&lt;Label id="label" onClick="doClick"&gt;Hello, World&lt;/Label&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

index.tss:
<code><pre>
".container": {
},
"MenuItem": {
	showAsAction: Ti.Android.SHOW_AS_ACTION_ALWAYS
},
"#item1": {
	title: "One"
},
"#item2": {
	title: "Two",
	icon: "images/action_refresh.png"
},

"Label": {
	width: Ti.UI.SIZE,
	height: Ti.UI.SIZE,
	color: "#000"
} 
</pre></code>

However, even though the menu items seem to be being created with showAsAction set to Ti.Android.SHOW_AS_ACTION_ALWAYS, they don't show up in the UI.

If I add menu items in the open callback by specifying an onCreateOptionsMenu method and then calling invalidateOptionsMenu, the action items appear correctly. 

Conclusion: something is jacked with the menu items created from markup.

(Deep, huh?)

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-439_45698/app.zip">app.zip</td></td><td>2014-02-07T15:56:41.000+0000</td><td>3262411</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-439_45699/Screen Shot 2014-02-07 at 10.56.46 AM.png">Screen Shot 2014-02-07 at 10.56.46 AM.png</td></td><td>2014-02-07T15:57:39.000+0000</td><td>26617</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-02-07

   attached file</li>
<li>Tim Poulsen 2014-02-07

   screenshot</li>
<li>Tim Poulsen 2014-02-07

   I cannot reproduce with Alloy 1.3.0, SDK 3.2.0.GA. Tested with the attached app. See the screenshot attached for my results. Items appear in ActionBar as expected, event handlers fire when clicked.</li>
</ol>


<p><a href="/ALOY/ALOY-439.json">JSON Source</a></p>