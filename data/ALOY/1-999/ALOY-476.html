---
title: "[ALOY-476] Widgets within model-bound view get bound to unexisting $model"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-01-24T20:44:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.0.0, 2013 Sprint 02</td></tr>
<tr><th>Components</th><td>Widgets</td></tr>
<tr><th>Labels</th><td>alloy, bind, bindings, model, view, widgets</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-01-21T19:41:46.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:25:48.000+0000</td></tr>
</table>

<h3>Description</h3>

This:

<code><pre>
&lt;Alloy&gt;
	 &lt;Collection src="tip" /&gt;
	&lt;Window&gt;
		&lt;TableView id="table" dataCollection="tip"&gt;
			&lt;TableViewRow class="row" &gt;
				&lt;Widget src="nl.fokkezb.cachedImageView" id="profileImageView" image="{image}" /&gt;
				&lt;Label class="rowTitle" text="{name}"/&gt;
			&lt;/TableViewRow&gt;
		&lt;/TableView&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

Results in the following binding callback:

<code><pre>
var __alloyId10 = function(e) {
	var models = Alloy.Collections.tip.models, len = models.length, rows = [];
	for (var i = 0; i &lt; len; i++) {
		var __alloyId5 = models[i];
		__alloyId5.__transform = {};
		var __alloyId6 = A$(Ti.UI.createTableViewRow({
			id: "__alloyId4"
		}), "TableViewRow", null);
		rows.push(__alloyId6);
		var __alloyId7 = Alloy.createWidget("nl.fokkezb.cachedImageView", "widget", {
			id: "profileImageView",
			image: typeof $model.__transform.image != "undefined" ? $model.__transform.image : $model.get("image"),
			$model: __alloyId5
		});
		__alloyId7.setParent(__alloyId6);
		var __alloyId9 = A$(Ti.UI.createLabel({
			width: Ti.UI.SIZE,
			height: Ti.UI.SIZE,
			color: "#000",
			text: typeof __alloyId5.__transform.name != "undefined" ? __alloyId5.__transform.name : __alloyId5.get("name"),
			id: "__alloyId8"
		}), "Label", __alloyId6);
		__alloyId6.add(__alloyId9);
	}
	$.__views.table.setData(rows);
};
</pre></code>

Leading to:

<code><pre>
[ERROR] Script Error = 'null' is not an object (evaluating '$model.__transform') at index.js (line 25).
</pre></code>

Note the difference between lines 12 and 20 of the callback. It looks like <code>$model</code> must be <code>__alloyId5</code> in this specific case, since that refers to the model.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/ALOY/ALOY-476.json">JSON Source</a></p>