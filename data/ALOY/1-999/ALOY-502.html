---
title: "[ALOY-502] Unexpected error when requiring a widget that provides a valid view to it's parent"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-07-19T19:34:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.2.0, 2013 Sprint 15</td></tr>
<tr><th>Components</th><td>Widgets, XML</td></tr>
<tr><th>Labels</th><td>qe-testadded</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2012-11-21T07:56:31.000+0000</td></tr>
<tr><th>Updated</th><td>2013-08-01T01:06:47.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm building a widget that provides a nice almost-twitter-like-experience within an app's tab.

This widget can be required to provide a <TableView> containing a list of tweets to a <Window> like so:

<code><pre>
	<Tab id="tweetsTab" title="Tweets" icon="tweets.png">
		<Window id="tweetsWindow" title="Tweets">
			<Widget src="nl.fokkezb.tweetsView" id="tweetsWidget" />
		</Window>
	</Tab>
</pre></code>

But I'd rather like the widget to provide the <Window> all together like:

<code><pre>
	<Alloy>
		<Window>
 			<TableView id="tableView" />
		</Window>
	</Alloy>
</pre></code>

But when I require the widget including the window like within the tab like this:

<code><pre>
	<Tab id="tweetsTab" title="Tweets" icon="tweets.png">
		<Widget src="nl.fokkezb.tweetsView" id="tweetsWidget" />
	</Tab>
</pre></code>

I get the following error during build:

	[ERROR] Invalid Tab child "Alloy.Widget"
	[ERROR] Tab must have only one child element, which must be a Window

Shouldn't the build be aware that this widget provides (or a widget in general COULD provide) a <Window> and not trigger this error?

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-07-19

   *Note:* This appears to have been resolved by an earlier commit. A test case was created just to ensure no regressions.
   
   PR: <a href="https://github.com/appcelerator/alloy/pull/190" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/190</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-502" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-502</a>
   
   Functional testing can be passed on all platforms so long as the app compiles and runs. The initial issue was related to a compile time error, so the app loading enough is enough confirmation.</li>
<li>Fokke Zandbergen 2013-07-21

   I think the issue was also related to cases with proxy components like:
   
   <code><pre>
   <Alloy>
   	<Window class="container">
   		<TableView>
   
   			<!-- This code...
   
   			<HeaderPullView>
   				<View backgroundColor="red">
   					<Label color="white" bottom="0">Pull me</Label>
   				</View>
   			</HeaderPullView>
   
   			.. in a widget now also works! -->
   
   			<Widget src="hpv" />
   			<TableViewRow title="hello world" />
   		</TableView>
   	</Window>
   </Alloy>
   </pre></code>
   
   But I just tested the above and works fine. Time to update my PullToRefresh widget ;)</li>
<li>Federico Casali 2013-08-01

   Verified fixed.
   
   Titanium SDK 3.1.2.v20130730133101
   Alloy 1.2.0-alpha
   Appcelerator Studio 3.1.2.201307261628
   CLI 3.1.2
   Node 0.8.22
   
   Closing.</li>
</ol>


<p><a href="/ALOY/ALOY-502.json">JSON Source</a></p>