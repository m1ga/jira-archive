---
title: "[ALOY-536] Update uglifyjs to version 2.0"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-01T22:19:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.1.0, 2013 Sprint 05</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-02-25T18:50:30.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:26:04.000+0000</td></tr>
</table>

<h3>Description</h3>

In order to leverage source mapping capabilities, we need to update uglifyjs from version 1.3.0 to version 2.0 where this functionality was introduced. This will require modifying all the AST parsing sections of Alloy and then a lot of testing to assert that the new parsing is working correctly.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-03-01

   uglify-js v1 has been completed removed from alloy. Alloy is now using uglify-js 2.2.5 for all AST operations.
   
   There are a few lingering issues in terms of getting better compression from uglify-js v1 versus v2, which has resulted in some of the optimization unit tests failing. The failures, though, will not crash apps or generate invalid JS. they just signify non-optimal compression. This is covered in ALOY-540.
   
   These changes are in the "uglify2" branch and will not be merged until ALOY-540 has been resolved.</li>
<li>Anshu Mittal 2013-05-14

   Updated version of uglify-js is 2.2.5. For further testing on this bug, please provide more details</li>
<li>Tony Lukasavage 2013-05-14

   [~amittal] what are you talking about? I logged and resolved this improvement months ago myself. Your comment doesn't really make any sense. </li>
</ol>


<p><a href="/ALOY/ALOY-536.json">JSON Source</a></p>