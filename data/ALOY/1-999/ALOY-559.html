---
title: "[ALOY-559] Alloy optimisation breaks functionality"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-04-27T00:56:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ian Tearle</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-03-12T16:50:37.000+0000</td></tr>
<tr><th>Updated</th><td>2014-01-28T23:55:19.000+0000</td></tr>
</table>

<h3>Description</h3>

Upon building Alloy is optimising files which breaks their functionality especially in this circumstance relating to font character handling.

This function needs to be written this way so that TiIconicFont can read it properly and JS doesn't turn it into Emoji.

function SSSocial(options) {
  switch (Ti.Platform.osname) {
		case 'iphone':
		case 'ipad':
			this.fontfamily = 'SSSocialRegular';
			break;
		case 'android':
			this.fontfamily = 'SSSocialRegular';
	}
 
	this.charcode = {
		'stack overflow':'\uF672',
		'github octocat':'\uF671',
		'githuboctocat':'\uF671',
		'stackoverflow':'\uF672',
		'google plus':'\uF613',
		'kickstarter':'\uF681',
		'foursquare':'\uF690',
		'googleplus':'\uF613',
		'instagram':'\uF641',
		'pinterest':'\uF650',
		'posterous':'\uF623',
		'wordpress':'\uF621',
		'thumbs up':'\uD83D\uDC4D',
		'dribbble':'\uF660',
		'facebook':'\uF610',
		'linkedin':'\uF612',
		'thumbsup':'\uD83D\uDC4D',
		'google +':'\uF613',
		'readmill':'\uF652',
		'envelope':'\u2709',
		'twitter':'\uF611',
		'behance':'\uF661',
		'dropbox':'\uF653',
		'youtube':'\uF630',
		'octocat':'\uF671',
		'google+':'\uF613',
		'approve':'\uD83D\uDC4D',
		'spotify':'\uF6B1',
		'last fm':'\uF6B2',
		'blogger':'\uF622',
		'flickr':'\uF640',
		'tumblr':'\uF620',
		'paypal':'\uF680',
		'lastfm':'\uF6B2',
		'github':'\uF670',
		'svpply':'\uF651',
		'email':'\u2709',
		'skype':'\uF6A0',
		'vimeo':'\uF631',
		'mail':'\u2709',
		'rdio':'\uF6B0',
		'like':'\uD83D\uDC4D',
		'rss':'\uE310'
	};
}
 
SSSocial.prototype.getCharcode = function(options) {
	if (options === 'delete') {
		options = 'del';
	}
	return this.charcode[options];
}
 
module.exports = SSSocial;

<a href="https://gist.github.com/iantearle/5144379" rel="nofollow" target="_blank">https://gist.github.com/iantearle/5144379</a>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-03-20

   Ian, you mentioned that you found a solution to this in the developer community. Is this still a problem for you?</li>
<li>Tony Lukasavage 2013-04-27

   The developer indicated in a Q&A post that he resolved his own problem. I will re-open if this needs to be addressed further.</li>
</ol>


<p><a href="/ALOY/ALOY-559.json">JSON Source</a></p>