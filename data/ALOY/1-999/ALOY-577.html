---
title: "[ALOY-577] Theme assets not removed in orphan file cleanup"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-06-02T21:27:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.4.0</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.2.0, 2013 Sprint 15</td></tr>
<tr><th>Components</th><td>Styling</td></tr>
<tr><th>Labels</th><td>qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Thomas Neerup</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-03-08T06:39:19.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-02T21:27:54.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to Reproduce</h4>
When using Alloy with themes, the asset folder in the theme overrides the main asset folder as it should, but when changing theme, and the new theme does not have the same overrides as the last themes used, You find yourself with a mix of assets from the old and the new theme. 

<h4>Actual Result</h4>
Oldt themes overrides still exists in the resources folder, wuth the new ones

<h4>Expected Result</h4>
When changing theme, the resources folder should be cleared, so all files from old theme is removed.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-577_48515/actual.png">actual.png</td></td><td>2014-06-02T11:08:41.000+0000</td><td>167247</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-577_48516/expected.png">expected.png</td></td><td>2014-06-02T11:08:41.000+0000</td><td>183785</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-07-23

   PR: <a href="https://github.com/appcelerator/alloy/pull/195" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/195</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-577" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-577</a>
   
   Functional testing should do the following:
   
   <h4>Run the test app. The initial theme is "red" so you should see a red background color with 2 images. The top image should be a red [bokeh](<a href="http://en.wikipedia.org/wiki/Bokeh)" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Bokeh)</a> image with the Alloy logo under it.</h4>
   <h4>Open the config.json file and change the theme to "blue"</h4>
   <h4>Run the app again. You should see a blue background color with 2 images. The top image should be the Alloy logo with the second blue swirl image under it.</h4>
   <h4>Open the config.json and remove the theme entirely</h4>
   <h4>Run the app again. You should see 2 alloy logos. Prior to this fix, one or both of the red and blue images would still be there.</h4>
   
   *NOTE:* This fix introduces an alloy build log file which makes use of the project's build folder. As a simple additional validation, do the following:
   
   <h4>create a new alloy project</h4>
   <h4>delete the project's "build" folder</h4>
   <h4>compile alloy or do a full build</h4>
   <h4>Ensure that the absence of a "build" folder is handled gracefully by alloy, meaning that no errors are generated and the build executes as expected.</h4></li>
<li>Federico Casali 2013-08-05

   Verified as fixed on iOS, Android and MobileWeb.
   
   Titanium SDK 3.1.2.v20130802180729
   Alloy 1.2.0-alpha6
   Appcelerator Studio 3.1.2.201308021524
   CLI 3.1.1
   Node 0.10.13
   
   Closing.</li>
</ol>


<p><a href="/ALOY/ALOY-577.json">JSON Source</a></p>