---
title: "[ALOY-594] Alloy: Naming a collection "collection" will fail"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-06-20T22:41:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.2.0, 2013 Sprint 13</td></tr>
<tr><th>Components</th><td>Models, Runtime</td></tr>
<tr><th>Labels</th><td>Alloy, bindings, bug, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Daniel Sefton</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-03-30T14:25:12.000+0000</td></tr>
<tr><th>Updated</th><td>2013-07-15T23:57:23.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi Tony,

If I call a collection: "collection", and use bindings, it will fail:

This fails:
<code><pre>
var models = datafilter(Alloy.Collections.collection);
</pre></code>

if it was:
<code><pre>
var models = datafilter(Alloy.Collections["collection"]);
</pre></code>
it would not fail. 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-594_40099/Screen Shot 2013-06-20 at 6.40.41 PM.png">Screen Shot 2013-06-20 at 6.40.41 PM.png</td></td><td>2013-06-20T22:42:01.000+0000</td><td>42968</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-04-02

   Can you explain what "datafilter" is?</li>
<li>Mads Moller 2013-04-02

   Hi Tony, 
   
   Its your generated code:
   
   like this:
   <code>
   var __alloyId27 = function(e) {
     var models = datafilter($.tipcollection), len = models.length, rows = [];
   </code>
   
   the alloy xml is:
   <code>
   <TableView id="table" dataCollection="$.tipcollection" dataFilter="datafilter" dataTransform="dataTransform">
   ...	
   </TableView>
   </code>
   
   </li>
<li>Mads Moller 2013-04-03

   I was not clear. The above code works, because I use $.tipcollection. Its a local collection. 
   The bug I reported was if I called my collection "collection" like this: Alloy.createCollection("collection");
   <TableView id="table" dataCollection="collection"></li>
<li>Tony Lukasavage 2013-06-20

   This was resolved by an earlier commit. I created a test app to confirm this and prevent regressions going forward.
   
   PR: <a href="https://github.com/appcelerator/alloy/pull/161" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/161</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-594" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-594</a>
   
   The app can be run with 2 possible settings in the *config.json* file:
   
   1. <code><pre>"useAlloyModel": true</pre></code>This will use a full-fledged Alloy model to test the issue. Since it uses the sql adapter, this setting can only be tested on iOS and Android
   2. <code><pre>"useAlloyModel": false</pre></code>This can be tested on all supported platforms as it uses plain old Backbone models and no persistence
   
   To confirm functional testing, when the app is run it should present the attached screenshot showing filtered and transformed models in a collection named *collection* that are represented as rows.</li>
<li>Federico Casali 2013-07-15

   Verified as fixed.
   
   Environment:
   Titanium SDK 3.1.2.v20130710144553
   Appcelerator Studio 3.1.2.201307101037
   Alloy 1.2.0
   
   Android 4.2.2 and iOS 5.
   MobileWeb checked for case #2 (no SQL adapter)
   
   Closing.</li>
</ol>


<p><a href="/ALOY/ALOY-594.json">JSON Source</a></p>