---
title: "[ALOY-597] Windows: Debug source map reports incorrect line"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-04-02T20:52:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.1.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 07</td></tr>
<tr><th>Components</th><td>Titanium Studio</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-04-02T01:30:39.000+0000</td></tr>
<tr><th>Updated</th><td>2013-04-03T17:49:04.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
Under Windows, setting a breakpoint on the original controller source did not cause the app to break where expected.
Setting a breakpoint on the generated controller source works.


<h4>Steps to reproduce</h4>


<h4>Sample 'index.js'</h4>
<code><pre>
function doClick(e) {  
    alert($.label.text + a);
}

var a = 5;

$.index.open();
</pre></code>

Attached the 'Resources/alloy/controllers/index.js' generated file.

1) Set a Breakpoint at line 2 ( alert($.label.text + a); )
2) Debug for Android
Result: Breakpoints are ignored

3) Check the source map with command (from the build folder):
<code><pre>
$ alloy debugger generated "map/Resources/alloy/controllers/index.js.map" --line 2 --column 6 --source "app/alloy/controllers/index.js"
</pre></code>

Expected result: 
<code><pre>
{line: 3, column: 9}
</pre></code>

Actual Result:
<code><pre>
{ line: 35, column: 17 }
</pre></code>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-597_36921/index.js">index.js</td></td><td>2013-04-02T01:42:16.000+0000</td><td>1189</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-04-02

   I can't reproduce this with the given code. This same code maps correctly for me on both Mac and Windows giving expected results for a number of different "generated" tests on my end.  
   
   You might be having an error because you are using an invalid filename as for the --source option. "app/alloy/controllers/index.js" would never exist. I think you mean "app/controllers/index.js". This is likely the root of the issue. Please confirm and close if this is true. </li>
<li>Federico Casali 2013-04-02

   Confirming it was an error in the command (path and use '\' instead of '/')
   
   Using the sample code and launching the command: 
   $ alloy debugger generated "build\map\Resources\alloy\controllers\index.js.map" --line 2 --column 6 --source "app\controllers\index.js"
   
   correctly returns:
   { line: 3, column: 8 }
   
   
   Closing as invalid and opening a new one against Studio for the debugger isse.
   
   </li>
</ol>


<p><a href="/ALOY/ALOY-597.json">JSON Source</a></p>