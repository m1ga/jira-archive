---
title: "[ALOY-630] Use base xml files for views"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>Alloy, xml</td></tr>
<tr><th>Reporter</th><td>Daniel Sefton</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-04-19T17:27:22.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:26:01.000+0000</td></tr>
</table>

<h3>Description</h3>

Views should be able to include other views as a template and override.  In the example below I use the id tag to identify which section to override.
a simple example is as follows.

base.xml
<code><pre>
&lt;Alloy&gt;
  &lt;Window id='win' class="container"  onClose='onClose'&gt;
    &lt;View id="menu" onClick="showhidemenu"&gt;
      &lt;Require src="menu_top" id="menucnt"/&gt;
    &lt;/View&gt;
    &lt;View id="main"&gt;
      &lt;View id="iconBar" width="100%"&gt;
         &lt;ImageView id="menubtn" onClick="showhidemenu"&gt;&lt;/ImageView&gt;
         &lt;Label class="title" id="title"&gt;Some title&lt;/Label&gt;
      &lt;/View&gt;
      &lt;View id="grayLine"&gt;&lt;/View&gt;			
      &lt;View id="mainList"&gt;
         some custom content		
      &lt;/View&gt;
    &lt;/View&gt;
  &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

mywin.xml
<code><pre>
&lt;Extends src='base.xml'/&gt;
&lt;View id="menu" onClick="closeWindow"&gt;
      &lt;Require src="menu_new" id="menucnt"/&gt;
&lt;/View&gt;
&lt;View id="mainList"&gt;
  some new content
&lt;/View&gt;
</pre></code>

<h3>Comments</h3>

<ol>
<li>John C. Bland II 2013-04-19

   +1 for the concept. Open to the implementation.</li>
<li>Tony Lukasavage 2013-04-22

   Would the views added to the <Extends> just be appended to its children?</li>
<li>John C. Bland II 2013-04-22

   I think a layout system would be better. Extending a view seems it can get a bit confusing. Without layouts, you could easily do something like:
   <View contentFor="navigation">
   
   </View>
   
   <View contentFor="body">
   
   </View>
   
   Maybe even in the root of it allow you to set the layout:
   <Window layout="mylayout">
   ...
   </Window></li>
<li>Tony Lukasavage 2013-04-22

   John, I'm not sure I'm following. Also, we couldn't use <code>layout</code> since that is already in use by the Titanium API.</li>
<li>John C. Bland II 2013-04-22

   No worries on 'layout'. Consider all of that pseudo.
   
   One of the best templating engines I've seen is Rails and that's what that comment was loosely based on: <a href="http://guides.rubyonrails.org/layouts_and_rendering.html." rel="nofollow" target="_blank">http://guides.rubyonrails.org/layouts_and_rendering.html.</a> Basically a way to fill out a custom layout/template then fill it in with views that implement it.
   
   It is basically a preference from having dealt with this many days doing interactive and backend work. Extending can get hairy (hence the love of composition of inheritance now-a-days; another story though). :-D
   
   Here is another, fuller, example of implementing a template/layout.
   
   mytemplate.xml
   <code><pre>
   &lt;Window&gt;
        &lt;View ...&gt;
             &lt;Require src="menu_new" id="menucnt /&gt;
             &lt;Yield id="navigation" /&gt;
        &lt;/View&gt;
   
        &lt;View&gt;
             &lt;Yield id="body" /&gt;
        &lt;/View&gt;
   &lt;/Window&gt;
   </pre></code>
   
   someview.xml
   <code><pre>
   &lt;View template="mytemplate"&gt;
        &lt;ContentFor="navigation"&gt;
             &lt;!-- extra nav view specific stuff here ---&gt;
        &lt;/ContentFor&gt;
   
        &lt;ContentFor="body"&gt;
             &lt;!-- extra body view specific stuff here ---&gt;
        &lt;/ContentFor&gt;
   &lt;/View&gt;
   </pre></code></li>
<li>Mitch Duitz 2013-04-23

   Can the <Yield> also include views, such that if the <ContentFor> is not defined the yield would be the default view?
   </li>
<li>John C. Bland II 2013-04-23

   Yep. <Yield /> would be anything not wrapped in a ContentFor.
   
   (thx for pointing that out)</li>
</ol>


<p><a href="/ALOY/ALOY-630.json">JSON Source</a></p>