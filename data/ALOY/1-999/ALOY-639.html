---
title: "[ALOY-639] Support data-binding for other than Backbone collections"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Models, Runtime</td></tr>
<tr><th>Labels</th><td>alloy, data-binding</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2013-04-23T09:13:00.000+0000</td></tr>
<tr><th>Updated</th><td>2015-11-27T02:57:10.000+0000</td></tr>
</table>

<h3>Description</h3>

This issue was part of ALOY-504 but now separated.

Now we have the <code>dataFunction</code> attribute in place, we can manually trigger updating a data-bound view. This issue takes it a step further and asks for the generated data-function to be able to work with general objects/arrays.

index.xml
<code><pre>
&lt;TableView dataFunction="fillTable" dataTransform="transformItem" dataFilter="filterData"&gt;
  &lt;TableViewRow title="{title}" /&gt;
&lt;/TableView&gt;
</pre></code>

index.js
<code><pre>
function filterData(data) {
  return _.where(data, { title: 'Two' }); 
}

function transformItem(item) {
  var transform = _.clone(item);
  transform.title = title + ' ' + _.random(1, 10);
  return transform;
}

fillTable([
  { title: 'One'   },
  { title: 'Two'   },
  { title: 'Three' }
]);
</pre></code>

generated data-funtion
<code><pre>
function fillTable(data) {
  // Apply filter on passed data instead of a collection
  var models = dataFilter(data);

  // remove existing stuff like normal

  // Use Underscore's each instead of a for-loop
  _.each(data, function (_alloyId*N*) {
    // Apply transform on item like normal
    _alloyId*N*.__transform = dataTransform(_alloyId*N*);
    // Generate and add views like normal
  }
}
</pre></code>

Some notes:

* The <code>dataTransform</code> and <code>dataFilter</code> implementations won't need to be changed since the user is responsible for what happens inside these functions and the input and output when called on regular objects would be exactly the same.
* The generated data-function would need to accept an object/array as argument.
* The generated data-function would need to use <code>_.each</code> instead of a for-loop, because it needs to support any loop-able data.
* In case a <code>dataCollection</code> attribute was specified, the first line in the generated data-funtion could be changed to <code>var models = dataFilter(data || _alloyId*N*);</code> so the data-function would both work on the bound collection as well as manually called with custom data.


<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2014-08-29

   Thanks for changing this to high priority... still 'd like this very much ;)</li>
<li>me du 2015-01-17

   I also like to have it - see my question:
   <a href="https://developer.appcelerator.com/question/180238/howto-fire-event-to-refresh-view" rel="nofollow" target="_blank">https://developer.appcelerator.com/question/180238/howto-fire-event-to-refresh-view</a>
   </li>
</ol>


<p><a href="/ALOY/ALOY-639.json">JSON Source</a></p>