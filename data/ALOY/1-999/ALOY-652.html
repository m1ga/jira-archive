---
title: "[ALOY-652] Preprocess style for runtime"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Sub-task</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-06-03T21:27:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.2.0, 2013 Sprint 11</td></tr>
<tr><th>Components</th><td>Runtime, Styling, Titanium SDK</td></tr>
<tr><th>Labels</th><td>notable, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-05-01T17:38:37.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:25:44.000+0000</td></tr>
</table>

<h3>Description</h3>

Styles are currently placed in the runtime style modules as the JSON-safe version used at compile time. This is because during compilation things like the Titanium and Alloy namespace, L(), WPATH(), etc... are all invalid. They are only valid in an Alloy Titanium environment. Since this will obviously be the case at runtime and we need styles to run as quickly as possible, the styles should be pre-processed before being put into the runtime modules. This will ensure that no unnecessary processing is performed at runtime.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-06-03

   PR: 
   Test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-612" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-612</a>
   
   To pass the functional test for this app, we can use the ALOY-612 app which tested exposing the raw styles at runtime. With the addition of the code in the accompanying PR, these styles should output fully processed with runtime values now. Prior to this PR, a height may have looked like this:
   
   <code><pre>
   height: '__ALLOY_EXPR__--Ti.UI.SIZE'
   </pre></code>
   
   but it should now fully translate to the values relevant to the current platform with no additional processing necessary, like this for ios:
   
   <code><pre>
   height: "SIZE"
   </pre></code></li>
</ol>


<p><a href="/ALOY/ALOY-652.json">JSON Source</a></p>