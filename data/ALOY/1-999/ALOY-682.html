---
title: "[ALOY-682] Alloy: Prevent default ID for a view's root element to be used by child element"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-07-12T00:58:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.2.0, 2013 Sprint 14, 2013 Sprint 12</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>community, qe-closed-3.1.2, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Carter Lathrop</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-05-31T07:36:59.000+0000</td></tr>
<tr><th>Updated</th><td>2013-08-19T07:23:04.000+0000</td></tr>
</table>

<h3>Description</h3>

By default, the first root-level element of a view will get the view's name as ID. If you assign the same ID to a child element, this will result in conflicts.

I would suggest a simple check to be made by the compiler, which I will add as a PR soon.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-06-06

   PR: <a href="https://github.com/appcelerator/alloy/pull/148" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/148</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-682" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-682</a>
   
   To functionally test:
   
   * Run the test app and ensure that it compiles and loads without error
   * Modify "app/views/index.xml" and add <code>id="index"</code> to the <Label>, as noted in the XML comments.
   * Run the app again and it should fail during the compilation phase, indicating an illegal usage of the default ID.
   * Remove the id from index.xml and open another.xml
   * Add <code>id="another"</code> to one of the nested <View> elements
   * Run the app again and you should get another compile time error very similar to the one you encountered for index.xml</li>
<li>Tony Lukasavage 2013-07-12

   After inspecting a few apps, making this a hard error at compile time is causing a lot of issues with existing apps and would require significant refactoring in some. I am going to keep the check in place, but make it a warning message instead of a breaking error.</li>
<li>Tony Lukasavage 2013-07-12

   PR: <a href="https://github.com/appcelerator/alloy/pull/175" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/175</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-682" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-682</a>
   
   To functionally test:
   
   * Run the test app and ensure that it compiles and loads without error
   * Check the alloy compile log. Ensure that you see 2 warnings about using the default ID. One warning from the "index" view, one warning from the "another" view.</li>
<li>Federico Casali 2013-07-12

   Verified as fixed on Android and iOS devices.
   
   Environment:
   Titanium SDK 3.1.2.v20130710144553
   Appcelerator Studio 3.1.2.201307101037
   Alloy 1.2.0
   
   Closing</li>
<li>Fokke Zandbergen 2013-08-19

   I see that the warning is given even if the top-level element has another ID then the default one. I think in that case the warning should not be given.</li>
</ol>


<p><a href="/ALOY/ALOY-682.json">JSON Source</a></p>