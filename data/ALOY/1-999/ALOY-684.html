---
title: "[ALOY-684] Interface for dynamically creating styled UI elements"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Sub-task</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-06-07T21:08:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.2.0, 2013 Sprint 12</td></tr>
<tr><th>Components</th><td>Runtime, Styling</td></tr>
<tr><th>Labels</th><td>notable, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-06-03T21:06:16.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:26:16.000+0000</td></tr>
</table>

<h3>Description</h3>

<code><pre>
var ctr = 0;
var classes = [
	[],
	['big'],
	['blue'],
	'shadow',
	['shadow'],
	['shadow', 'big'],
	['big', 'shadow'],
	['big', 'blue', 'shadow'],
	'big blue shadow'
]

function addNewLabel(e) {
	var index = ctr % classes.length;

	// Alloy.createView() for creating new titanium view proxies with a 
	// given set of style attributes to determine which styles should be
	// applied.
	var label = Alloy.UI.create(
		// the name of the controller from which to reference styles
		'index',

		// The Titanium API to use for the creation. In this case we use "Label"
		// but the full "Ti.UI.Label" would work as well. Like in the XML,
		// implicit namespaces and defaults will be checked if an explicit
		// namespace is not given.
		'Label', 
		
		// The 2nd parameter is an object that holds style information, like id
		// and classes, as well as the typical parameters you would pass to a
		// Titanium proxy. This allows the creation and property application to
		// be done in a single command, making for the best runtime performance. 
		{
			// style attributes
			classes: classes[index],
			id: 'newLabel' + (ctr+1),

			// basic proxy properties that apply to Label
			text: 'this is label #' + (ctr+1),
			touchEnabled: false
		}
	);

	$.index.add(label);
	ctr++;
}

$.index.open();
</pre></code>

Internally, Alloy.createView() would use the runtime version of generateStyleParams to apply the appropriate styles based on the given options.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-06-07

   PR: <a href="https://github.com/appcelerator/alloy/pull/149" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/149</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-684" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-684</a>
   
   Functionally testing should involve successfully running the app on all supported platforms. While running, repeatedly click the main window. The result should be that a dynamically styled label should appear on the screen after each click. The style of the label should be impacted by the current array of styles applied to it, found in the *classes* array variable in the *app/controllers/index.js* controller.</li>
</ol>


<p><a href="/ALOY/ALOY-684.json">JSON Source</a></p>