---
title: "[ALOY-729] Alloy fails to compile when TabbedBar Labels have no properties"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-08-01T15:10:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.3.0</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Daniel Sefton</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-06-27T09:23:16.000+0000</td></tr>
<tr><th>Updated</th><td>2013-10-14T18:30:30.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

The TabbedBar component is well documented at <a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/api/Titanium.UI.iOS.TabbedBar

In the example of the documentation, the <code>Labels</code> texts are included directly in the XML template, which is not a convenient solution (at the moment) for the developer who works on a i18n application, who will probably prefer to set the <code>Label</code>'s <code>text</code> properties in the associated <code>tss</code> file.

This makes alloy bug in its compilation process.


<h4>Test case </h4>

<h4>index.xml</h4>

Doing so makes alloy fail to compile (the compilation stops):

<code><pre>
&lt;Alloy&gt;
    &lt;Window class="container" id="container"&gt;
        &lt;TabbedBar id="bb1" platform="ios"&gt;
            &lt;Labels&gt;
                &lt;Label id="options1" /&gt;
                &lt;Label id="options2" /&gt;
            &lt;/Labels&gt;
        &lt;/TabbedBar&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

The error is:

<code><pre>
Alloy/commands/compile/parsers/Alloy.Abstract.BarItemType.js:30
		logger.warn('&lt;BarItemType&gt; at index ' + index + ' has no properties');
		                                        ^
ReferenceError: index is not defined
    at parse (Alloy/commands/compile/parsers/Alloy.Abstract.BarItemType.js:30:43)
    at Object.exports.parse (Alloy/commands/compile/parsers/base.js:11:17)
    ...
    ...
</pre></code>

After digging in the code, I guess that the same should occur with <code>Alloy.Abstract.CoverFlowImageType.js</code>

<h3>Comments</h3>

<ol>
<li>Daniel Sefton 2013-06-27

   Tested and confirmed when building for iOS 6 simulator with Ti SDK 3.1.1 GA and Alloy 1.1.3.</li>
<li>Tony Lukasavage 2013-08-01

   PR: <a href="https://github.com/appcelerator/alloy/pull/206" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/206</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/ui/tabbedbar" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/ui/tabbedbar</a>
   
   This was resolved by an earlier commit. The PR contains an update to the test app that includes the ticket description's test case. Functional testing passes if the app compiles and runs successfully for iOS.</li>
<li>Federico Casali 2013-10-14

   Verified as fixed. 
   
   TiSDK 3.2.0.v20131013140318
   Alloy 1.3.0
   iOS 7 (Xcode 5)
   
   Closing.</li>
</ol>


<p><a href="/ALOY/ALOY-729.json">JSON Source</a></p>