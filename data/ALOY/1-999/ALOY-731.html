---
title: "[ALOY-731] Alloy: Ti.UI.textField: clearOnEdit being passed back as String instead of bool, causes crash"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-07-09T17:07:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.2.0, 2013 Sprint 14</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>android, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Carter Lathrop</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-07-06T01:59:41.000+0000</td></tr>
<tr><th>Updated</th><td>2013-07-15T23:45:14.000+0000</td></tr>
</table>

<h3>Description</h3>

NOTE: This is an android-only issue

When setting clearOnEdit to true for a textField, it crashes the app. The error reads:

<code><pre>
[ERROR][TiApplication( 1596)] (main) [1996,1996] Sending event: exception on thread: main msg:java.lang.RuntimeException: Unable to start activity ComponentInfo{it.italiaonline.mysos/org.appcelerator.titanium.TiActivity}: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Boolean; Titanium 3.1.1,2013/06/15 16:10,f7592c1
[ERROR][TiApplication( 1596)] java.lang.RuntimeException: Unable to start activity ComponentInfo{it.italiaonline.mysos/org.appcelerator.titanium.TiActivity}: java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Boolean
...
</pre></code>

*Alloy Test Case*
<code><pre>
<Alloy>
    <TabGroup>
        <Tab icon="KS_nav_ui.png" title="SOS">
            <Window title="SOS">
 
            ...
            <TextField borderColor="#000000" borderRadius="5" borderStyle="Titanium.UI.INPUT_BORDERSTYLE_ROUNDED" borderWidth="1" clearOnEdit="true" height="7.49%" left="3%" top="20%" value="State" width="94.38%"/>
            </Window>
        </Tab>
        ...
    </TabGroup>
</Alloy>
</pre></code>

*Working as Expected in Ti Standard*
<code><pre>var win = Ti.UI.createWindow({
	backgroundColor: 'gray',
    layout: 'vertical'
    }),
    textArea1 = Ti.UI.createTextField({
    	clearOnEdit: true,
    	value:"this should clear",
    	width: '50%'
    });
   textArea2 = Ti.UI.createTextField({
   	top: 20,
    	clearOnEdit: true,
    	value:"this should clear",
    	width: '50%'
    });

    win.add(textArea1);
    win.add(textArea2);
    win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Carter Lathrop 2013-07-06

   From Q&A:
   
   <a href="http://developer.appcelerator.com/question/154507/android-emulator-error-textfield-clearonedit-property-app-crash" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/154507/android-emulator-error-textfield-clearonedit-property-app-crash</a></li>
<li>Tony Lukasavage 2013-07-09

   PR: <a href="https://github.com/appcelerator/alloy/pull/169" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/169</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-731" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-731</a>
   
   Functional test passes by running the app on android and ensuring that it runs without exception and that the appropriate TextFields and TextAreas either do or do not clear on edit. <code>hintText</code> is provided to easily identify the appropriate behaviors for each control.</li>
<li>Federico Casali 2013-07-15

   Verified as fixed.
   
   Environment:
   Titanium SDK 3.1.2.v20130710144553
   Appcelerator Studio 3.1.2.201307101037
   Alloy 1.2.0
   
   Closing.</li>
</ol>


<p><a href="/ALOY/ALOY-731.json">JSON Source</a></p>