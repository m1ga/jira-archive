---
title: "[ALOY-742] CLI: alloy generate style command does not check for the existence of the global style or files without view-controllers before overwriting it"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-07-12T19:12:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.2.0</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.2.0, 2013 Sprint 14</td></tr>
<tr><th>Components</th><td>Styling, Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Benjamin Hatfield</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-07-12T18:27:43.000+0000</td></tr>
<tr><th>Updated</th><td>2013-07-12T20:01:52.000+0000</td></tr>
</table>

<h3>Description</h3>

ENVIRONMENT:
Mac OS X 10.7.5
Alloy 1.2.0 (Thu Jul 11 19:19:59/05d8ac922791043cf383d79993a4a2965325edc4)

REPRODUCTION:
Create a default Alloy project.

Run 'alloy generate style index' twice.
--> On the second attempt, you receive a warning that the file already exist.

Run 'alloy generate style app' twice (or use a name with no associated view-controller)
--> On the second attempt, the Alloy CLI overwrites the file with the skeleton version.

EXPECTED RESULT:

The command should not overwrite an existing file.

{panel}
savoytruffle:AlloyTestDynamicStyling bhatfield$ alloy generate -b style index
[INFO] Generated style named index
savoytruffle:AlloyTestDynamicStyling bhatfield$ alloy generate -b style index
[WARN] Style named index already up-to-date
savoytruffle:AlloyTestDynamicStyling bhatfield$ alloy generate -b style app
[INFO] Generated style named app
savoytruffle:AlloyTestDynamicStyling bhatfield$ alloy generate -b style app
[INFO] Generated style named app
{panel}



<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-07-12

   PR: <a href="https://github.com/appcelerator/alloy/pull/177" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/177</a>
   
   Functional test passes by following these steps:
   
   <h4>create a default alloy app</h4>
   <h4>execute <code>alloy generate style app</code>, which should generate a default app.tss</h4>
   <h4>execute <code>alloy generate style app</code> again, which should now throw an error indicating that the file already exists.</h4>
   <h4>execute <code>alloy generate style foo</code>, which should generate a default foo.tss</h4>
   <h4>execute <code>alloy generate style foo</code> again, which should now throw an error indicating that the file already exists.</h4>
   <h4>Create a "app/views/foo.xml" file that contains: <code>&lt;Window id="bar"/&gt;</code></h4>
   <h4>execute <code>alloy generate style foo</code> a third time, which should now update the existing foo.tss file by adding an entry for "#bar"</h4></li>
<li>Benjamin Hatfield 2013-07-12

   FR passed.  Receiving error for files (with no view-controllers) that already exist and correctly updating styles when new id or class attributes are added to markup files.</li>
</ol>


<p><a href="/ALOY/ALOY-742.json">JSON Source</a></p>