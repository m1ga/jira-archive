---
title: "[ALOY-761] BlackBerry: Map annotation are not displayed if object properties are set in the view .xml "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-08-06T22:14:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.2.0</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.2.0, 2013 Sprint 15</td></tr>
<tr><th>Components</th><td>Titanium SDK</td></tr>
<tr><th>Labels</th><td>qe-closed-3.1.2, qe-manualtest</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-07-25T23:24:32.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-06T22:14:09.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>

Map annotation is now shown on the Map if the Annotation properties are set in the View .xml file. If set in the .tss file, annotation is correctly visible.

<h4>Steps to reproduce</h4>
1. See sample code attached.
2. On BlackBerry, only the annotations with the properties only set in the index.tss file are visible. 

<code><pre>
&lt;Annotation title="Palo Alto" latitude="37.47" longitude="-122.12"/&gt;

and also the Required 

&lt;Require src="annotationView"/&gt;
</pre></code>

are not visible, while 
<code><pre>
&lt;Annotation id="annotation1"/&gt;

and

&lt;Annotation id="annotation2" platform="blackberry"/&gt;
</pre></code>
are correctly displayed.



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/ALOY/ALOY-761_41045/maps.zip">maps.zip</td></td><td>2013-07-25T23:24:32.000+0000</td><td>4264492</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/ALOY/ALOY-761_41046/Resources.zip">Resources.zip</td></td><td>2013-07-26T00:49:27.000+0000</td><td>4305135</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-07-26

   That's odd as there is special parsing code in annotations to convert the XML string attribute to a float. It solves the same problem on Android, which also does not accept strings as values for latitude and longitude. 
   
   I'll have to investigate the generated code. [~fcasali] would it be possible for you to show me the generated code for the working and non-working version?</li>
<li>Federico Casali 2013-07-26

   I've attached the generated Resource folder for the provided code in the sample and attached to the Jira.
   Both working and not-working annotations are in there.
   </li>
<li>Russell McMahon 2013-07-26

   Tony we could fix it on the platform side but if Alloy is already doing the conversion that is probably better.</li>
<li>Tony Lukasavage 2013-07-26

   [~rmcmahon] That's the confusing part, I'm already doing the conversion for all platforms. The API is defined as a float value in the documentation, so I would define this as Alloy's responsibility.</li>
<li>Tony Lukasavage 2013-07-26

   PR: <a href="https://github.com/appcelerator/alloy/pull/197" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/197</a>
   
   Functional testing can be confirmed with the steps you used to produce the error before.</li>
<li>Federico Casali 2013-08-10

   Verified fixed.
   
   Titanium SDK 3.1.2.v20130808180613 
   Alloy 1.2.0-alpha6
   Appcelerator Studio 3.1.2.201308082014
   CLI 3.1.2-alpha
   Node 0.10.13
   
   Closing.</li>
<li>Federico Casali 2014-08-06

   Reopening for updating 'tester' field, labels and log time.
   </li>
</ol>


<p><a href="/ALOY/ALOY-761.json">JSON Source</a></p>