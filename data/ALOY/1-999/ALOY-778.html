---
title: "[ALOY-778] Confirm Dialogs no opening on device"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-03-12T19:06:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jamie Buckley</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-08-07T21:58:33.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:28:29.000+0000</td></tr>
</table>

<h3>Description</h3>

On an Android device when creating a confirm dialog in Alloy, it will not open when the application is launched, it must instead be put inside of an event listener or will not be triggered, This does not happen on Android Emulator and iOS.

Example below demonstrates this problem, comments show the workaround.
index.js
<code><pre>
var dialogs = require('alloy/dialogs');

	dialogs.confirm({title:'Push Notifications', message:'Register for push notifications?'});		
/*
function doOpen(){
	dialogs.confirm({title:'Push Notifications', message:'Register for push notifications?'});
};
*/
$.win.open();
</pre></code>

index.tss
<code><pre>
"Window": {
	backgroundColor: "#fff"
}

</pre></code>

index.xml
<code><pre>
&lt;Alloy&gt;
    &lt;Window id="win" title="Click window to test" backgroundColor="white"
        exitOnClose="true" fullscreen="false"&gt;&lt;!-- onClick="doClick" --&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-08-07

   Just a heads up, the confirm builtin is going to be deprecated soon in favor of simply using the AlertDialog API.</li>
<li>Tim Poulsen 2014-03-12

   This seems to be simply a case of the alertDialog attempting to open before the window is fully loaded. On Android, alerts are modal to the window that contains them, thus I expect there's no valid window to attach to at the point at which your code runs. Change your controller code to the following and the confirmation dialog is shown as expected:
   
   <code><pre>
   var dialogs = require('alloy/dialogs');
   
   _.defer(function() {
       dialogs.confirm({title:'Push Notifications', message:'Register for push notifications?'});
   });
   
   $.win.open();
   </pre></code></li>
<li>Tim Poulsen 2014-03-12

   Resolving as invalid as this appears to be expected platform behavior and a suitable workaround is available.</li>
<li>Eric Merriman  2018-03-07

   Closing as invalid. If this is incorrect, please reopen.</li>
</ol>


<p><a href="/ALOY/ALOY-778.json">JSON Source</a></p>