---
title: "[ALOY-808] Alloy: Can't use 'Alloy.CFG' in a model definition"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-11-26T22:41:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.2.0</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.4.0</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>alloy, globals, model, qe-manualtest, scope</td></tr>
<tr><th>Reporter</th><td>Daniel Sefton</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-08-02T08:15:08.000+0000</td></tr>
<tr><th>Updated</th><td>2014-11-26T22:41:42.000+0000</td></tr>
</table>

<h3>Description</h3>

I want to use <code>Alloy.CFG</code> in my model definition:

<code><pre>
exports.definition = {
  config: {
    columns: { .. }
    URL: Alloy.CFG.API + '/json/gettasks',
    adapter: {
      type: "restapi",
      collection_name: "todo",
      idAttribute: "id"
    }
  }
};
</pre></code>

But I get:

<code><pre>
[ERROR] [iphone, 6.1.3, 192.168.0.101] 
Type: TypeError
Message: 'undefined' is not an object (evaluating 'Alloy.CFG')
File: /alloy/models/Todo.js
Line: 4
</pre></code>

If I change it to <code>require('alloy').CFG</code> all is OK, but that's just ugly ;)

Actually I wonder why this doesn't work, since <code>Alloy</code> should be available as a global, but I guess it's solved easily by just moving the line following the <code>exports.definition</code> object, where <code>var Alloy</code> is defined, to the top of the generated file?

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-808_45656/app.zip">app.zip</td></td><td>2014-02-06T16:17:45.000+0000</td><td>5903996</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2014-02-05

   PR: <a href="https://github.com/appcelerator/alloy/pull/330" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/330</a></li>
<li>Tim Poulsen 2014-02-06

   Functional test:
   
   1. Create a new Alloy project
   2. Overwrite the app folder in your project with the contents of the attached file.
   3. Build using the PR-version of Alloy
   4. You should get a simple tableview with a few names listed, no error messages.</li>
<li>Paras Mishra 2014-05-12

   Tested as directed by [~skypanther], a tableview with a few names is displayed with no error messages.
   Verified the fix using the following environment:
   Device : iPhone 5s , iOS version : 7.1
   SDK: 3.3.0.v20140508135704
   CLI version : 3.3.0-dev
   OS : MAC OSX 10.9.2
   Alloy:  1.4.0-dev
   ACS: 1.0.14
   npm:1.3.2
   LiveView: 1.0.4
   Appcelerator Studio, build: 3.3.0.201405080918
   titanium-code-processor: 1.1.1
   XCode : 5.1.1</li>
</ol>


<p><a href="/ALOY/ALOY-808.json">JSON Source</a></p>