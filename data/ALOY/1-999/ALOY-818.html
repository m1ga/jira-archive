---
title: "[ALOY-818] iOS7: NavigationWindow should work also inside Ti.UI.iPad.SplitWindow"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-09-04T23:35:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.3.0, Alloy 1.2.1</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.3.0, Alloy 1.2.2, 2013 Sprint 18</td></tr>
<tr><th>Components</th><td>Titanium SDK, XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-09-04T18:40:05.000+0000</td></tr>
<tr><th>Updated</th><td>2013-09-06T20:57:46.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

<NavigationWindow> iOS Ui object should also be used inside a <SplitWindow> object for iPad.

<h4>Sample</h4>

In classic Titanium projects, this is showing two NavigationWindows inside a SplitView object (one as master view, the other as detail view)
<code><pre>
var win1 = Ti.UI.createWindow({
	backgroundColor:'gray'
});

var label1 = Ti.UI.createLabel({
	text:'detail view',
	color:'orange',
	font:{
		fontSize:'24dp'
	},
	fontWeight:'bold'
});

win1.add(label1);


var win2 = Ti.UI.createWindow({
	backgroundColor:'purple'
});

var label2 = Ti.UI.createLabel({
	text:'master view',
	color:'orange',
	font:{
		fontSize:'24dp'
	},
	fontWeight:'bold'
});

win2.add(label2);



var nav = Ti.UI.iOS.createNavigationWindow({
   window: win1
});

var masterView = Ti.UI.iOS.createNavigationWindow({
   window: win2
});

var splitwin = Ti.UI.iPad.createSplitWindow({
    detailView: nav,
    masterView: masterView
});

splitwin.addEventListener('visible',function(e){
    if (e.view == 'detail'){
        e.button.title = "Master";
        win1.leftNavButton = e.button;
    } else if (e.view == 'master'){
        win1.leftNavButton = null;
    }
});

splitwin.open();
</pre></code>


<h4>Alloy sample</h4>
On Alloy, this sample code is throwing the following exception when run:
<code><pre>
[ERROR] :  SplitWindow must have exactly 2 children that are Windows, a master and detail respectively
[ERROR] :  Alloy compiler failed
</pre></code>

index.xml
<code><pre>
&lt;Alloy&gt;
    &lt;SplitWindow&gt;
        &lt;!-- First window is the masterView --&gt;
        &lt;NavigationWindow platform="ios"&gt;
        	&lt;Window id="main" title="Main Window"&gt;
        	    &lt;Label class="space"&gt;I am the master view&lt;/Label&gt;
        	&lt;/Window&gt;
   		 &lt;/NavigationWindow&gt;

        &lt;!-- Second window is the detailView --&gt;
        &lt;NavigationWindow platform='ios'&gt;
        	&lt;Window&gt;
            	    &lt;Label&gt;I am the detail view.&lt;/Label&gt;
       		&lt;/Window&gt;
        &lt;/NavigationWindow&gt;
    &lt;/SplitWindow&gt;
&lt;/Alloy&gt;
</pre></code>


<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-09-04

   PR (master): <a href="https://github.com/appcelerator/alloy/pull/240" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/240</a>
   commit (1_2_X): <a href="https://github.com/appcelerator/alloy/commit/c57e5ad31a4651b6f4e9b7c444023c5d79ea44b9" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/commit/c57e5ad31a4651b6f4e9b7c444023c5d79ea44b9</a>
   test apps:
   <h4><a href="https://github.com/appcelerator/alloy/tree/master/test/apps/ui/splitwindow" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/ui/splitwindow</a></h4>
   <h4><a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-818" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-818</a></h4>
   
   functional testing (iPad only):
   
   <h4>ui/splitwindow</h4>
   
   <h4>Run the app for ipad and ensure it functions as it always has. This is simply to ensure no regressions in the simplest cases</h4>
   <h4>Change the <Require> in the index.xml to a <Label></h4>
   <h4>Attempt to run again and ensure that you get error that looks something like this:</h4>
   <code><pre>
   [ERROR] Ti.UI.iPad.SplitWindow (line 13)  invalid child type "Ti.UI.Label"
   [ERROR] Ti.UI.iPad.SplitWindow must have exactly 2 children of one of the following types:
   [ERROR]   [Ti.UI.Window,Ti.UI.TabGroup,Ti.UI.iOS.NavigationWindow]
   [ERROR] The first child is the master, the second is the child.
   [ERROR] Alloy compiler failed
   </pre></code>
   <h4>Change the <Label> back to a <Require></h4>
   <h4>Add a 3rd <Window> under the <SplitWindow></h4>
   <h4>Attempt to run again and ensure that you get an error that looks something like this:</h4>
   <code><pre>
   [ERROR] Ti.UI.iPad.SplitWindow (line 13)  has 3 child elements
   [ERROR] Ti.UI.iPad.SplitWindow must have exactly 2 children of one of the following types:
   [ERROR]   [Ti.UI.Window,Ti.UI.TabGroup,Ti.UI.iOS.NavigationWindow]
   [ERROR] The first child is the master, the second is the child.
   [ERROR] Alloy compiler failed
   </pre></code>
   
   <h4>testing/ALOY-818</h4>
   
   <h4>Run the app on ipad</h4>
   <h4>Ensure that it compiles and runs without error, showing both the master and detail windows (when in landscape orientation)</h4></li>
</ol>


<p><a href="/ALOY/ALOY-818.json">JSON Source</a></p>