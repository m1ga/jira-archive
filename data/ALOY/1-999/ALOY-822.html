---
title: "[ALOY-822] Add support for unsetting properties in TSS via 'undefined'"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-05-28T19:57:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.4.0, 2014 Sprint 02</td></tr>
<tr><th>Components</th><td>Styling</td></tr>
<tr><th>Labels</th><td>alloy, qe-testadded, tss</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-09-03T11:24:46.000+0000</td></tr>
<tr><th>Updated</th><td>2014-05-29T18:03:47.000+0000</td></tr>
</table>

<h3>Description</h3>

I would like to be able to *un*set properties via TSS (and XML).

<h4>Use case</h4>
I want all windows to be heavyweight by default so my <code>app.tss</code> has:

<code><pre>
"Window": {
  modal: false
}
</pre></code>

But I have one widget which absolutely needs its window to be lightweight. Right now there is no way to do this. I can set <code>modal</code> to a different value like <code>true</code>, but even setting it to <code>null</code> won't make the window lightweight again.

I tried setting <code>modal</code> to <code>undefined</code> but it throws a syntax error:

<code><pre>
Expected "Alloy", "L", "Ti", "Titanium", "WPATH", "[", "false", "null", "true", "{", comment, end of line, number, string or whitespace but "u" found.
</pre></code>

<h4>Proposed solution</h4>

My suggestion is to accept <code>undefined</code> as a valid value, but instead of actually setting it, use it to trigger removing the property.

That way, for that specific window I can set <code>modal</code> to <code>undefined</code> which would remove that property from the dictionary passed to <code>Ti.UI.createWindow</code>.

<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2013-12-03

   When will this be discussed in triage?</li>
<li>Tony Lukasavage 2014-01-17

   For this ticket we will be making <code>undefined</code> usable in TSS, but the rest is outside the scope of ALOY. I created a similar ticket, TIMOB-16225, as "unsetting" properties needs to be handled at the platform level. Simple passing <code>undefined</code> to proxy properties actually has specific behavior in some cases, so Alloy can't just assume that it means it should remove it.</li>
<li>Fokke Zandbergen 2014-01-17

   Thx Tony, know about that ticket and see the difference.</li>
<li>Tony Lukasavage 2014-01-21

   PR: <a href="https://github.com/appcelerator/alloy/pull/305" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/305</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-822" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-822</a>
   
   Functional test consists of simply making sure that the given test app will compile without error. Prior to this fix, it would abort with the error mentioned in the description of this ticket. Additionally you can confirm that the generated controller code creates a <code>void 0</code> entry where the <code>undefined</code> should be (as uglify-js minifies it).</li>
</ol>


<p><a href="/ALOY/ALOY-822.json">JSON Source</a></p>