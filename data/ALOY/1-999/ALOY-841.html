---
title: "[ALOY-841] Add an `once` function for call-once global events"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2014-01-20T22:07:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Builtins</td></tr>
<tr><th>Labels</th><td>alloy</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-10-07T08:28:38.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-28T23:57:15.000+0000</td></tr>
</table>

<h3>Description</h3>

I use this function to avoid global events not releasing local objects:

<code><pre>
Alloy.Globals.once = function(event, cb) {
    var _cb = function() { 
        cb.apply(this, arguments);
        // Clean up
        Ti.App.removeEventListener(event, _cb);
    };
    Ti.App.addEventListener(event, _cb);
};
</pre></code>

Come handy when there is UI/async call interaction allowing to preserve a workflow (instead of continuation callbacks).

Would be meaningful to add to Alloy eg Alloy.once("an:app:event", doOnceCb)?


<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2014-01-20

   <code>Alloy.Globals</code> is not meant to be an eventing interface, and I don't want to add code like this that will appear to make it so. This seems much better suited as an external library, or this simple implementation by the developer.</li>
</ol>


<p><a href="/ALOY/ALOY-841.json">JSON Source</a></p>