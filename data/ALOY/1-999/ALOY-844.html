---
title: "[ALOY-844] Alloy - Event Listeners added repeated to different XML formFactors"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-02-06T22:05:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.4.0, 2014 Sprint 03</td></tr>
<tr><th>Components</th><td>Widgets, XML</td></tr>
<tr><th>Labels</th><td>alloy, event, eventlistener</td></tr>
<tr><th>Reporter</th><td>Rafael Kellermann Streit</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2013-10-14T11:47:07.000+0000</td></tr>
<tr><th>Updated</th><td>2014-05-19T17:13:26.000+0000</td></tr>
</table>

<h3>Description</h3>

Example:

On this code, when click on favorite button on handheld device, favorite function will be fired twice. This is not the correct, because there is only one button to each formFactor.

<code><pre>
&lt;Alloy&gt;
    &lt;NavigationWindow platform="ios" formFactor="tablet"&gt;
        &lt;Window id="win"&gt;
            &lt;RightNavButton&gt;
                &lt;View id="viewButtonsNavBar"&gt;
                    &lt;Button id="buttonFavorite" image="/images/Star.png" onClick="favorite" /&gt;
                &lt;/View&gt;
            &lt;/RightNavButton&gt;

            &lt;Require type="view" src="place" id="placeView" /&gt;
        &lt;/Window&gt;
    &lt;/NavigationWindow&gt;

    &lt;Window platform="ios" formFactor="handheld" id="win"&gt;
        &lt;RightNavButton&gt;
            &lt;View id="viewButtonsNavBar"&gt;
                &lt;Button id="buttonFavorite" image="/images/Star.png" onClick="favorite" /&gt;
            &lt;/View&gt;
        &lt;/RightNavButton&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-02-06

   I cannot reproduce this on:
   
   Alloy 1.3.0
   Ti CLI: 3.2.0
   SDK: 3.2.0.GA
   
   My code removed your required view and updated the controller with a simple favorites function and switcher so the right component opens on launch
   
   <code><pre>
   &lt;Alloy&gt;
       &lt;NavigationWindow platform="ios" formFactor="tablet"&gt;
           &lt;Window id="win" title="ALOY-844"&gt;
               &lt;RightNavButton&gt;
                   &lt;View id="viewButtonsNavBar"&gt;
                       &lt;Button id="buttonFavorite" image="/images/Star.png" onClick="favorite" /&gt;
                   &lt;/View&gt;
               &lt;/RightNavButton&gt;
               &lt;View&gt;
               	&lt;Label text="This is a label"/&gt;
               &lt;/View&gt;
           &lt;/Window&gt;
       &lt;/NavigationWindow&gt;
    
       &lt;Window id="win" platform="ios" formFactor="handheld" backgroundColor="white"&gt;
           &lt;RightNavButton&gt;
               &lt;View id="viewButtonsNavBar"&gt;
                   &lt;Button id="buttonFavorite" image="/images/Star.png" onClick="favorite" /&gt;
               &lt;/View&gt;
           &lt;/RightNavButton&gt;
               &lt;View&gt;
               	&lt;Label text="This is a label"/&gt;
               &lt;/View&gt;
       &lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   <code><pre>
   function favorite() {
   	alert('favorite fired');
   }
   
   if(Alloy.isTablet) {
   	$.index.open();
   } else {
   	$.win.open();
   }
   </pre></code></li>
</ol>


<p><a href="/ALOY/ALOY-844.json">JSON Source</a></p>