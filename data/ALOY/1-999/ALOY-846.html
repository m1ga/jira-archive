---
title: "[ALOY-846] iPad: detailWindow inside TabGroup does not load after switching tabs"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-10-28T17:07:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.3.0, 2013 Sprint 22</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>supportTeam</td></tr>
<tr><th>Reporter</th><td>Rupesh Sharma</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-10-11T10:05:10.000+0000</td></tr>
<tr><th>Updated</th><td>2015-10-16T17:30:19.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>
The project has as main element a TabGroup, one of the tabs of this TabGroup has a SplitWindow as the next list describes:

* TabGroup
** Tab1 (1)
*** SplitWindow
**** MasterWindow (a)
**** DetailWindow (b)
** Tab2 (2)

The MasterWindow is a menu that opens a new Window in the navigation of the DetailWindow. The first time this happens it works well, the UI loads as it is styled, actually if you go back in the Detailwindow and load another Detailwindow; but if you move to another tab, and then go back to the one with the Splitwindow, the new DetailWindow doesn't load correctly and it loads blank UI.

Note : Issue is not reproducible with classic titanium.

<h4>Test Case</h4>
index.xml
<code><pre>
&lt;Alloy&gt;
	&lt;TabGroup&gt;
		&lt;Tab title="Tab 1" icon="KS_nav_ui.png"&gt;
			&lt;Window&gt;
				&lt;SplitWindow id="splitWin" platform="ios" formFactor="tablet"&gt;

					&lt;Window&gt;

						&lt;NavigationGroup&gt;
							&lt;Require src="testwindow"/&gt;
						&lt;/NavigationGroup&gt;

					&lt;/Window&gt;
					&lt;Window&gt;
						&lt;NavigationGroup id="detail_navGroup"&gt;
							&lt;Require src="detailWin" /&gt;
						&lt;/NavigationGroup&gt;
					&lt;/Window&gt;

				&lt;/SplitWindow&gt;
			&lt;/Window&gt;
		&lt;/Tab&gt;
		&lt;Tab title="Tab 2" icon="KS_nav_views.png"&gt;
			&lt;Window title="Tab 2"&gt;
				&lt;Label&gt;I am Window 2&lt;/Label&gt;
			&lt;/Window&gt;
		&lt;/Tab&gt;
	&lt;/TabGroup&gt;
&lt;/Alloy&gt;
</pre></code>

index.js
<code><pre>
Alloy.Globals.detail_navGroup = $.detail_navGroup;
$.index.open();
</pre></code>
detailWin.xml
<code><pre>
&lt;Alloy&gt;
	&lt;Window id="detailWin" title="test 2 title"&gt;
		&lt;Label&gt;Detail Window&lt;/Label&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>
testwindow.xml
<code><pre>
&lt;Alloy&gt;
	&lt;Window id="testwin" class="container"&gt;
		&lt;Label&gt;Label&lt;/Label&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>
testwindow.js
<code><pre>
$.testwin.addEventListener("click",function(){
	Alloy.Globals.detail_navGroup.open(Alloy.createController('detailWin').getView(), {animated: true});
});
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-846_43186/app.js">app.js</td></td><td>2013-10-15T09:16:19.000+0000</td><td>1761</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Betty Tran 2013-10-22

   Any update on this issue?</li>
<li>Tony Lukasavage 2013-10-22

   [~btran] as is shown in the fix version of the ticket details, this is scheduled to be resolved in this sprint. What other updates are you looking for?</li>
<li>Tony Lukasavage 2013-10-24

   This ticket is missing TiSDK version and Alloy version.
   
   Also, I've tested this with both the 7.0 and 6.1 simulators using the provided Alloy code and it doesn't even show the SplitWindow. I need a test case that actually reproduces the issue, with all files necessary to show the issue, including images and styles. Another consideration is that NavigationGroup is being deprecated and that NavigationWindow should be used in its place.
   
   When the test case has been updated I will revisit. </li>
<li>Tony Lukasavage 2013-10-28

   <h4>solution</h4>
   
   The core of the issue was the <Window> element wrapping the <SplitWindow> in the Alloy example. I modified <Tab> so that it will accept <SplitWindow> (as well as <NavigationWindow>) as a direct child. After that, I modified the sample slightly, like this (notice the wrapping <Window> is gone):
   
   <code><pre>
   &lt;Alloy&gt;
   	&lt;TabGroup&gt;
   		&lt;Tab title="Tab 1" icon="KS_nav_ui.png"&gt;
   			&lt;SplitWindow id="splitWin" platform="ios" formFactor="tablet"&gt;
   				&lt;Window&gt;
   					&lt;NavigationGroup&gt;
   						&lt;Require src="testwindow"/&gt;
   					&lt;/NavigationGroup&gt;
   				&lt;/Window&gt;
   				&lt;Window&gt;
   					&lt;NavigationGroup id="detail_navGroup"&gt;
   						&lt;Require src="detailWin" /&gt;
   					&lt;/NavigationGroup&gt;
   				&lt;/Window&gt;
   			&lt;/SplitWindow&gt;
   		&lt;/Tab&gt;
   		&lt;Tab title="Tab 2" icon="KS_nav_views.png"&gt;
   			&lt;Window title="Tab 2"&gt;
   				&lt;Label&gt;I am Window 2&lt;/Label&gt;
   			&lt;/Window&gt;
   		&lt;/Tab&gt;
   	&lt;/TabGroup&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   The Alloy version nows behaves as well as the traditional Titanium example.
   
   <h4>testing </h4>
   
   PR: <a href="https://github.com/appcelerator/alloy/pull/261" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/261</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-846" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-846</a>
   
   This will not work at all if the TiSDK is greater than 3.1.2, so please use 3.1.2 as the ticket indicates. More details in the "next steps" section.
   
   Functional test should be performed only on iPad sim or device against the versions noted in this ticket. Please follow [~dcassenti]'s instructions for testing listed in the comment above. It should behave as well, if not better than the traditional Titanium cases. So long as it meets the standards of the traditional Titanium version, the ALOY issue is resolved.
   
   <h4>next steps</h4>
   
   [~dcassenti] you noted that there were still issues that were possible to be created when doing the traditional Titanium example, even though it didn't match the issue at hand. Please log those issues as TIMOB ticket, and then link them as "related" to this ticket.
   
   Also [~dcassenti], due to changes in iOS 7 and the iOS team's refactor of Windows to support NavigationWindow, this code will not work at all in Titanium SDK 3.1.3 or greater. Can you please log this as a ticket as well, and suggest that the originator of this ticket consider refactoring to use NavigationWindow, which should alleviate future compatibility issues. Please link that ticket as "related" to this one as well.
   </li>
</ol>


<p><a href="/ALOY/ALOY-846.json">JSON Source</a></p>