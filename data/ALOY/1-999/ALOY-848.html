---
title: "[ALOY-848] Titanium Alloy Map not showing in production release"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2013-10-29T22:25:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 22</td></tr>
<tr><th>Components</th><td>Titanium SDK</td></tr>
<tr><th>Labels</th><td>android</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-10-09T22:35:22.000+0000</td></tr>
<tr><th>Updated</th><td>2013-10-29T22:25:05.000+0000</td></tr>
</table>

<h3>Description</h3>

Started via developer question:

<a href="http://developer.appcelerator.com/question/156954/bug-in-titanium-alloy-map" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/156954/bug-in-titanium-alloy-map</a>

I have started by using the following sample:

<a href="https://github.com/appcelerator/alloy/tree/master/test/apps/ui/map" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/ui/map</a>

Running on a Production build with proper Google API Key I get the following when opening the map:

<code><pre>
10-08 19:47:30.878: W/System.err(2337): IOException processing: 26
10-08 19:47:30.878: W/System.err(2337): java.io.IOException: Server returned: 3
10-08 19:47:30.878: W/System.err(2337):     at android_maps_conflict_avoidance.com.google.googlenav.map.BaseTileRequest.readResponseData(BaseTileRequest.java:115)
10-08 19:47:30.878: W/System.err(2337):     at android_maps_conflict_avoidance.com.google.googlenav.map.MapService$MapTileRequest.readResponseData(MapService.java:1473)
10-08 19:47:30.878: W/System.err(2337):     at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher.processDataRequest(DataRequestDispatcher.java:1117)
10-08 19:47:30.878: W/System.err(2337):     at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher.serviceRequests(DataRequestDispatcher.java:994)
10-08 19:47:30.878: W/System.err(2337):     at android_maps_conflict_avoidance.com.google.googlenav.datarequest.DataRequestDispatcher$DispatcherServer.run(DataRequestDispatcher.java:1702)
10-08 19:47:30.878: W/System.err(2337):     at java.lang.Thread.run(Thread.java:864)
</pre></code>

To ensure it wasn't a key problem, I modified the project above and changed index.xml to:

<code><pre> 
&lt;Alloy&gt;&lt;/Alloy&gt;
</pre></code>

And index.js to:

<code><pre> 
var MapModule = require('ti.map');
 
var win = Ti.UI.createWindow({
    backgroundColor: "white",
    navBarHidden: false,
    title: "BETA Pub Crawl"
});
 
var mapview = MapModule.createView({
    mapType: MapModule.NORMAL_TYPE,
    region: {latitude:37.390749, longitude:-122.081651,
        latitudeDelta:0.01, longitudeDelta:0.01},
    animate:true,
    regionFit:true,
    enableZoomControls:true,
    touchEnabled:true,
    userLocation:true,
    zIndex:10
});
 
var ann = MapModule.createAnnotation({
    latitude:37.390749,
    longitude:-122.081651,
    title:"Appcelerator Headquarters",
    subtitle:'Mountain View, CA',
    pincolor:MapModule.ANNOTATION_RED,
    animate:true,
    annid:1, 
    venueid:1 
});
 
mapview.addAnnotation(ann);
win.add(mapview);
win.open();
</pre></code>

And the map opens as expected.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-10-23

   [~kolchy] it would help if you could show the actual alloy app you are using that's failing.</li>
<li>Tony Lukasavage 2013-10-24

   This because by default Alloy does not use the Android v2 map module. So the traditional code you used and got to work does not actually match the generated Alloy code. In order to use the Android v2 map module with Alloy, follow this guide:
   
   * <a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/guide/Google_Maps_v2_for_Android
   
   and use this Alloy app as an example:
   
   * <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-817" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/testing/ALOY-817</a>
   
   In the future, I will update the ui/map example so that it uses the Android v2 maps by default.</li>
</ol>


<p><a href="/ALOY/ALOY-848.json">JSON Source</a></p>