---
title: "[ALOY-865] Cache global style"
---
<table>
<tr><th>Type</th><td>Sub-task</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-10-29T22:25:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.3.0, 2013 Sprint 22</td></tr>
<tr><th>Components</th><td>Styling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-10-28T20:58:20.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:26:11.000+0000</td></tr>
</table>

<h3>Description</h3>

Speed up the compile phase by caching the global style. Reuse it when possible. Make sure to check all possible sources for the loaded global style for changes before using the cached version.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-10-29

   PR: <a href="https://github.com/appcelerator/alloy/pull/264" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/264</a>
   test app: <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/advanced/themes" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/advanced/themes</a>
   
   Functional testing should include running the test app for multiple platforms. Each time you run <code>alloy compile --platform PLATFORM</code> to test, assert the following:
   
   <h4>If this is your first run, a new global style should be created and then saved to the cache at "build/alloy/global_style_cache.json". You should also see this in the alloy log output (depending on the target platform):</h4>
   <code><pre>
   [INFO] ----- MVC GENERATION -----
   [INFO] [app.tss] global style processing...
   [INFO] [app.tss(theme:blue)] global style processing...
   [INFO] [global style] writing to cache...
   </pre></code>
   <h4>If you change the target platform, you should also see output similar to #1 as changing the platform in the "themes" app will also include platform-specific global style modifications.</h4>
   <h4>If you modify the app.tss in the app, or in the theme for which you are compiling, you should also see output similar to the output in #1</h4>
   <h4>In all other scenarios, the cached global style should be used. It will indicate this in the alloy log like this:</h4>
   <code><pre>
   [INFO] ----- MVC GENERATION -----
   [INFO] [global style] loading from cache...
   </pre></code></li>
</ol>


<p><a href="/ALOY/ALOY-865.json">JSON Source</a></p>