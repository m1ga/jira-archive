---
title: "[ALOY-880] Improve error reporting on duplicate alloy controller id"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-02-10T20:29:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 03</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>alloy, controller, error</td></tr>
<tr><th>Reporter</th><td>Lee Driscoll</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2013-11-07T15:25:10.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:28:25.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi =]

I had the following structure (note the duplicated id: 'scheduler'):

index.xml
<code><pre>
<Alloy>
	<TabGroup>
		<Tab title="Scheduler">
			<Require src="scheduler" id="scheduler" />
		</Tab>
		<Tab title="Job List">
			<Require src="jobList" id="jobList" />
		</Tab>
	</TabGroup>
</Alloy>
</pre></code>

scheduler.xml
<code><pre>
<Alloy>
	<Window title="Scheduler" navBarHidden="false" layout="vertical">
		<Widget src="uk.co.ibcos.scheduler" dataProvider="jobData" id="scheduler" />
	</Window>
</Alloy>
</pre></code>

The error I received back came from alloy/controllers/BaseController.js line 36 :

"cannot read property '__iamalloy' of undefined"

The problem was that the duplicate id prevented one of the scheduler controllers to have an undefined value as it's 'parent' property.

A check should occur somewhere sooner to warn that a duplicate id has been defined.

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-02-10

   [~lsdriscoll] There is actually a warning message output. It's probably  just that there's a lot of build messages that go by so that it's easy to miss it.
   
   <code><pre>
   [INFO]  [joblist.xml] view processing...
   [INFO]    view:       "joblist.xml"
   [WARN]  <Label> at line 3 is using this view's default ID "joblist". Only a top-level element in a view should use the default ID
   </pre></code>
   
   I used a label instead of a widget in my test app. Hence, I wouldn't get the same code error you saw. Instead, for me the label simply doesn't appear. Either way, the root cause is the same -- the child element is using the parent Window's id (which is assigned an id based on the file name since one isn't explicitly specified).
   
   I'm closing this as invalid. Reopen this ticket if you think I'm wrong in that assessment.</li>
<li>Eric Merriman  2018-03-07

   Closing as invalid. If this is incorrect, please reopen.</li>
</ol>


<p><a href="/ALOY/ALOY-880.json">JSON Source</a></p>