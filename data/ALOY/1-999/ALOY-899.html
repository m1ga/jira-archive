---
title: "[ALOY-899] Cannot add/remove class from ListViewItem"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2013-12-13T15:16:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Davide Cassenti</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-12-13T14:53:41.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-22T13:23:16.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>
While it is possible to change the style of a ListViewItem by changing the properties one by one (e.g. backgroundColor), it is not possible to use <code>addClass</code>, <code>removeClass</code> or <code>resetClass</code> to change them by using the classes.

<h4>Test code</h4>

index.xml
<code><pre>
&lt;Alloy autoStyle="true"&gt;
	&lt;Window&gt;
		&lt;ListView id="list" defaultItemTemplate="fullItem" &gt;
			&lt;Templates&gt;
				&lt;ItemTemplate id="fullItem" name="fullItem" height="88"&gt;
					&lt;Label bindId="myview" class="firststyle"&gt;&lt;/Label&gt;
				&lt;/ItemTemplate&gt;
			&lt;/Templates&gt;
			&lt;ListSection id="section"  &gt;&lt;/ListSection&gt;
		&lt;/ListView&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

app.tss
<code><pre>
".firststyle" : {
    backgroundColor:"green"
},
".secondstyle" : {
    backgroundColor:"yellow" 
}
</pre></code>

index.js
<code><pre>
$.index.open();

var data = [{
	myview : {
		text: "One"
	}
}, {
	myview : {
		text : "Two"
	}
}];

$.section.setItems(data);

$.list.addEventListener('itemclick', function(e) {
	var item = e.section.getItemAt(e.itemIndex);
	// item.myview.backgroundColor = "red";
	$.resetClass(item.myview, "secondclass");
	e.section.updateItemAt(e.itemIndex, item);
});
</pre></code>

<h4>Note</h4>

In the code above, note how changing the color works instead.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-12-13

   As I suspected, Ti.UI.ListItem does not support the <code>applyProperties()</code> function, which is critical to the dynamic style application process. I am marking this as "won't fix" as this won't be fixed in Alloy. I do suggest however that this issue be moved to TIMOB and better named to more precisely identify what the problem is here, as a fix in TIMOB for supporting <code>applyProperties</code> on ListItems would make this code work automatically in Alloy.
   
   Also, you didn't mention the actual error that occurs which identifies the missing <code>applyProperties</code> function as the culprit, so please add that before moving it to TIMOB.</li>
</ol>


<p><a href="/ALOY/ALOY-899.json">JSON Source</a></p>