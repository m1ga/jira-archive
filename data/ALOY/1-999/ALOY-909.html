---
title: "[ALOY-909] Tooling: No meaningful error message given for invalid XML markup"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2013-12-24T15:35:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Stephen Feather</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-12-12T03:49:38.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-15T20:13:17.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Expectation </h4>
Expect project to build or reasonable error message be delivered to developer

<h4>Reality</h4>
Error occurs without delivering meaningful message to the developer when parsing fails in a supporting tooling module

<h4>Steps to reproduce.</h4>
Create a basic alloy project that will build.  Throw the following file into app/assets:

<code><pre>
&lt;HTML&gt;
&lt;BODY&gt;
	&lt;H2&gt;Test&lt;/h2&gt;
&lt;/BODY&gt;
&lt;/html&gt;
</pre></code>

<h4>Error</h4>

<code><pre>
/Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/node_modules/xmldom/sax.js:92
			var localNSMap = config.localNSMap;
			                       ^
TypeError: Cannot read property 'localNSMap' of undefined
    at parse (/Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/node_modules/xmldom/sax.js:92:27)
    at XMLReader.parse (/Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/node_modules/xmldom/sax.js:29:3)
    at DOMParser.parseFromString (/Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/node_modules/xmldom/dom-parser.js:26:6)
    at Object.analyzeHtml (/Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/node_modules/titanium-sdk/lib/jsanalyze.js:155:58)
    at Object.analyzeHtmlFile (/Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/node_modules/titanium-sdk/lib/jsanalyze.js:143:17)
    at iOSBuilder.&lt;anonymous&gt; (/Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/iphone/cli/commands/_build.js:2703:17)
    at /Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/node_modules/async/lib/async.js:548:21
    at /Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/node_modules/async/lib/async.js:224:13
    at iterate (/Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/node_modules/async/lib/async.js:131:13)
    at /Users/username/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.v20131127225644/node_modules/async/lib/async.js:142:25
</pre></code>

<h4>Notes</h4>

The solution obviously is for the developer to fix their markup.  However, the developer is not informed as to which file is being processed at the time or the nature of the error.  

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-12-24

   This is a duplicate of ALOY-907. It has already been resolved and will be available in Alloy 1.3.1. As of the time if this comment, 1.3.1-alpha is currently available with this fix, along with ALOY-905 for compatibility with TiSDK 3.0.0+. You can install it like this:
   
   <code><pre>
   sudo npm install -g alloy@1.3.1-alpha
   </pre></code></li>
<li>Stephen Feather 2013-12-24

   Glad its fixed and all.
   
   But this ticket was opened on the 13th, a week before 907 was. 
   
   At the time this ticket was opened, it was NOT resolved.
   
   
   </li>
<li>Tony Lukasavage 2013-12-24

   [~sfeather] apologies for any confusion. I probably didn't see this one before ALOY-907 because I'm assuming it was in TC until today. 
   
   You're the best bug reporter ever and all should bask in your magnificence. Better? :P
   
   Now go drink some egg nog or something!</li>
<li>Stephen Feather 2013-12-24

   LOL! Merry Christmas, Tony.</li>
<li>Lee Morris 2017-08-15

   Closing as duplicate.</li>
</ol>


<p><a href="/ALOY/ALOY-909.json">JSON Source</a></p>