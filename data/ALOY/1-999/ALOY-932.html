---
title: "[ALOY-932] Improve error messages when attempting to bind to complex objects"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-07-23T15:27:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.5.0</td></tr>
<tr><th>Components</th><td>Models, XML</td></tr>
<tr><th>Labels</th><td>qe-manualtest</td></tr>
<tr><th>Reporter</th><td>Alan Wamser</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2014-01-21T14:45:54.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-14T01:07:21.000+0000</td></tr>
</table>

<h3>Description</h3>

When attempting to bind to a complex object, such as the following, the resulting error messages are not clear and meaningful.

<code><pre>
&lt;TableView dataCollection="provider"&gt;
    &lt;TableViewRow id="row" onClick="doViewDetails"&gt;
        &lt;ImageView id="rowImage" image="{photo.urls.square_75}" /&gt;
        &lt;Label id="rowFirstName" text="{first_name}" /&gt;
        &lt;Label id="rowLastName" text="{last_name}" /&gt;
    &lt;/TableViewRow&gt;
&lt;/TableView&gt;
</pre></code>

Generates:

<code>"'undefined' is not an object (evaluating 'Alloy.Models.photo.on')";</code>

Which doesn't clearly identify the problem being the attempt to reference the deep object reference <code>photo.urls.square_75</code>. 

As pointed out in the original source of this ticket (<a href="http://developer.appcelerator.com/question/161740/alloymodelsphotoon#answer-274198)" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/161740/alloymodelsphotoon#answer-274198)</a>, the solution is to map the object property to an attribute of the model, which could be done by extending the model or collection. Error message could possibly point developers to this solution.

<h3>Comments</h3>

<ol>
<li>Feon Sua Xin Miao 2014-07-21

   PR: <a href="https://github.com/appcelerator/alloy/pull/488" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/488</a>
   Test app: <a href="https://github.com/feons/alloy/tree/ALOY-932/test/apps/testing/ALOY-932" rel="nofollow" target="_blank">https://github.com/feons/alloy/tree/ALOY-932/test/apps/testing/ALOY-932</a>
   
   Functional Test:
   
       Run the test app, Alloy compilation should fail with an error message identify the problem that the developer is trying to bind to a complex object.
   
   </li>
<li>Tim Poulsen 2014-07-23

   PR merged</li>
<li>Federico Casali 2014-08-14

   Verified returning the expected error message, building for Android, iOS and MobileWeb, both from Appcelerator Studio and CLI:
   <code><pre>
   [INFO] :   ----- MVC GENERATION -----
   [INFO] :   [global style] writing to cache...
   [INFO] :   [models/fruits.js] model processing...
   [INFO] :   [index.xml] view processing...
   [INFO] :   style:      "index.tss"
   [INFO] :   view:       "index.xml"
   [ERROR] :  Attempt to reference the deep object reference : "name.color".
   [ERROR] :  Instead, please map the object property to an attribute of the model.
   [ERROR] :  Alloy compiler failed
   </pre></code>
   
   TCMS Test added.
   
   TiSDK 3.4.0.v20140813022514
   Appcelerator Studio 3.3.1.201408121314 
   CLI 3.4.0-dev
   Alloy 1.5.0-dev
   Xcode6-beta5
   
   Closing.
   </li>
</ol>


<p><a href="/ALOY/ALOY-932.json">JSON Source</a></p>