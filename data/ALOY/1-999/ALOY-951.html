---
title: "[ALOY-951] Social.js builtin: throws JS error after canceling authorization"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-02-07T15:59:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.4.0</td></tr>
<tr><th>Components</th><td>Builtins</td></tr>
<tr><th>Labels</th><td>qe-testadded</td></tr>
<tr><th>Reporter</th><td>Tim Poulsen</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-02-06T20:33:26.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-22T13:21:19.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:

After the Twitter authorization box is displayed, click its "X" button to close. Then, tap Back to exit the app. Android displays an error:

Cannot set property <code>value</code> of <code>null</code>

Cause is (approx) line 377 of social.js:

<code>loading = !0, loadingView.value = 0, estimateID = firstLoad ? ...</code>

Changing to the following fixes the issue:

<code>loading = !0, loadingView && (loadingView.value = 0), estimateID = firstLoad ? ...</code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-951_45667/app.zip">app.zip</td></td><td>2014-02-06T20:44:43.000+0000</td><td>5901229</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-02-06

   Sample project attached</li>
<li>Tim Poulsen 2014-02-06

   PR: <a href="https://github.com/appcelerator/alloy/pull/332" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/332</a>
   
   Functional test:
   
   1) Create a new project
   2) Replace its app folder with the attached.
   3) Update controllers/index.js with valid Twitter API consumer secret and consumer key values
   4) Build for Android
   5) Enter a message in the text box and tap Tweet
   6) Tap the "X" button to cancel the authorization
   7) Tap Back to exit the app. You should not get the code error
   
   (You do get the authorization screen again. I'm not sure if that's the expected flow. In any case, it's not something addressed by or related to this ticket)</li>
<li>Tim Poulsen 2014-02-07

   Resolved, see functional test in preceding comment</li>
<li>Lokesh Choudhary 2014-05-14

   Verified the fix. We do not get JS error after canceling authorization.
   
   Closing.
   
   Environment:
   Appc Studio : 3.3.0.201405121247
   Ti SDK : 3.3.0.v20140513191712
   Mac OSX : 10.8.5
   Alloy : 1.4.0-dev
   CLI - 3.3.0-dev
   Nexus 5 - android 4.4.2</li>
</ol>


<p><a href="/ALOY/ALOY-951.json">JSON Source</a></p>