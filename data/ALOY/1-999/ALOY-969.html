---
title: "[ALOY-969] Variable position in compiled alloy file"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-03-13T13:22:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Runtime</td></tr>
<tr><th>Labels</th><td>compiler, js</td></tr>
<tr><th>Reporter</th><td>Guile</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-03-12T10:30:37.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:28:25.000+0000</td></tr>
</table>

<h3>Description</h3>

I declare a button with a onClick event that uses a function.
<Button onClick="myFunc" />
This function is declare as a variable
var myFunc = function () {}

When Alloy compile it, the variable declaration is after the Button creation with the callback definition.
Then the button has an "undefined" click callback and does nothing

Is there anyway to say "this code must be before alloy code, this code can be after"

See attchmts: index.xml for the view example, index.js for the app/Controller file, and Resources index.js is the compiled file which show "myClick" is used before it is declared

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-969_46565/index.js">index.js</td></td><td>2014-03-12T10:30:37.000+0000</td><td>204</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-969_46566/index.js">index.js</td></td><td>2014-03-12T10:30:37.000+0000</td><td>1666</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-969_46564/index.xml">index.xml</td></td><td>2014-03-12T10:30:37.000+0000</td><td>285</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-03-13

   You're not taking into account JavaScript's [variable hoisting](<a href="http://www.kenneth-truyers.net/2013/04/20/javascript-hoisting-explained/)." rel="nofollow" target="_blank">http://www.kenneth-truyers.net/2013/04/20/javascript-hoisting-explained/).</a> Rather than using a function statement, use a function declaration.
   
   <code><pre>
   function myFunc() {
     // this whole function, including its contents will be hoisted to the
     // top of the enclosing scope, as if you declared it before other variables
     // this is called a function declaration
   }
   
   var myFunc = function() {}; // is treated as if you wrote it this way:
   
   var myFunc;
   // the rest of your variable declarations and other code comes here
   // then the assignment of your function to the myFunc variable
   myFunc = function() {};
   
   var myFunc = function() {}; // is called a function statement
   </pre></code></li>
<li>Tim Poulsen 2014-03-13

   JavaScript hoisting issue, not Alloy problem</li>
<li>Guile 2014-03-14

   Thank you Tim! :-)
   
   I am aware of this and found the solution by using a function declaration (I didn't know all of the terms you said)
   
   I still don't know how I can use a _.throttle(function () {}) event then (by example).
   
   
   </li>
<li>Tim Poulsen 2014-03-14

   We're getting a bit off topic here and Jira isn't really for help conversations. That said, check the Underscore docs <a href="http://underscorejs.org/#throttle" rel="nofollow" target="_blank">http://underscorejs.org/#throttle</a> or perhaps <a href="http://drupalmotion.com/article/debounce-and-throttle-visual-explanation" rel="nofollow" target="_blank">http://drupalmotion.com/article/debounce-and-throttle-visual-explanation</a>  If you're still stuck, ask in the Q&A forums please.</li>
<li>Eric Merriman  2018-03-07

   Closing as invalid. If this is incorrect, please reopen.</li>
</ol>


<p><a href="/ALOY/ALOY-969.json">JSON Source</a></p>