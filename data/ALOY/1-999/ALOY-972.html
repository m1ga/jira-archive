---
title: "[ALOY-972] Alloy : Alloy.Controller.getView returns a controller when requesting a widget or remote view by ID"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Alloy 1.3.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>community</td></tr>
<tr><th>Reporter</th><td>Lee Driscoll</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-03-20T15:05:01.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:26:12.000+0000</td></tr>
</table>

<h3>Description</h3>

Assume the following views:

<code><pre>
<Alloy>
  <View id="standardView" />
  <Require src="customView" id="customView" />
</Alloy>
</pre></code>

<code><pre>
<Alloy>
  <View />
</Alloy>
</pre></code>

The 2 function calls in this controller should logically return views

<code><pre>
$.getView('standardView'); // returns a Ti.UI.View
$.getView('customView'); // returns a controller
</pre></code>



<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-03-24

   I can understand your expectation, though the actual behavior is documented. The [$.getView()](<a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/api/Alloy.Controller-method-getView) entry states that it returns either a controller or view instance. And in the [Require tag](<a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/guide/Alloy_XML_Markup-section-35621528_AlloyXMLMarkup-RequireElement) states "To use UI objects from the included views ... var object = $.requireId.getView('objectId')."
   
   In essence, you can think of the <Require> tag doing the equivalent of <code>Alloy.createController('customView')</code> which in your controller you'd need to the follow with <code>.getView()</code> to access the associated View. See [createController()](<a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/api/Alloy-method-createController) to see it returns a controller, not a view.
   
   
   
   
   
   </li>
<li>Lee Driscoll 2014-03-24

   Hi Tim,
   
   I'm aware that I have described documented behaviour as a bug, maybe it would have been better for me to have listed this as an improvement.
   
   In my opinion, a better API would be for consistent behaviour of the getView method and the introduction of a getController method.
   
   An example of where this becomes obvious is when the children of a view are a mixed bag of internal and external views - for instance a form window that contains provided (e.g. Ti.UI.TextField) controls and custom ones (e.g. com.mycompany.combobox). Now, I will probably want to loop through each field and retrieve the value from each to save it to the database. With the current API, that loop will have to contains code to check whether the child view is actually an external controller so that the view can be accessed correctly, reducing the overall efficiency of the code, proving that having a consistent API makes for better OO.</li>
<li>Tony Lukasavage 2014-05-20

   [~lsdriscoll] it seems to me in the case that you cited that the issue is not with Alloy and its documented distinction between the return types of <code>getViews()</code>, but instead with the implementation of the views/widgets you might be using. The views and widgets are meant to be self-contained, exposing an interface to them via controllers as necessary. If you have a custom widget that has a list of form fields, my expectation is that that widget would also have a simple interface for extracting the values of those fields, not that the developer using it would be expected to iterate through each one individually. Changing the Alloy API to suit poorly designed widgets is just not something we can do.
   
   That said, there are some functions on controllers that are generally only used internally by Alloy that do a bit of what you are trying to do. For example, <code>getViewEx(opts)</code> will recurse through <Require> and <Widget> to find the actually top-level UI component, but it doesn't take ids. A feature request to allow <code>getView()</code> to recurse and search by id would be much more appropriate than actually changing the existing API to do something different.</li>
</ol>


<p><a href="/ALOY/ALOY-972.json">JSON Source</a></p>