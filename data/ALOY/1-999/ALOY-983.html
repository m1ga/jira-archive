---
title: "[ALOY-983] Popover height and width are ignored when using ContentView element"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-05-05T18:57:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.4.0</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.4.0</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>qe-testadded</td></tr>
<tr><th>Reporter</th><td>Benjamin Hatfield</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-04-08T20:27:00.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-22T13:21:05.000+0000</td></tr>
</table>

<h3>Description</h3>

ENVIRONMENT:
Alloy from master (commit 2267d1d002d7f7bd1f9b61557c11c8d24f259a45/Tue Mar 25 17:31:19 2014 -0400)
Titanium SDK 3.3.0.v20140328110920
Appcelerator Studio, build: 3.3.0.201403281814
Mac OS X 10.8.5
Xcode 5.0.2/iOS 7.0.3/iPad Retina simulator

REPRODUCTION:
Create a new Alloy project and run the code below with the iPad simulator.


RESULTS:
When using the Popover's contentView (ContentView XML element), height and width properties together, the height and width are not respected with Alloy projects.  If you do not set the contentView property, the height and width are honored.


Alloy Example
<code><pre>
&lt;!-- app/views/index.xml --&gt;
&lt;Alloy&gt;
    &lt;Window&gt;
        &lt;Button id="button" onClick="openPopover"&gt;Show Popover!&lt;/Button&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;

&lt;!-- app/views/popover.xml --&gt;
&lt;Alloy&gt;
    &lt;Popover id="popover" height='100' width='250'&gt;
        &lt;!-- If you remove the ContentView tags, it works as expected --&gt;
        &lt;ContentView&gt;
	    &lt;View id="popView" backgroundColor='green'&gt;
	        &lt;Label&gt;Alloy Popover!&lt;/Label&gt;
	    &lt;/View&gt;
	&lt;/ContentView&gt;
    &lt;/Popover&gt;
&lt;/Alloy&gt;

// app/controllers/index.js
function openPopover() {
    var popover = Alloy.createController('popover').getView();
    popover.show({view:$.button});
};

$.index.open();
</pre></code>


Titanium Classic Example -- works as expected
<code><pre>
var win = Ti.UI.createWindow();
var button = Ti.UI.createButton({title: 'Show Popover'});

var popView =  Ti.UI.createView({
	backgroundColor: 'green'
});
var label = Ti.UI.createLabel({text: 'Titanium Popover!'});
popView.add(label);

var popover = Ti.UI.iPad.createPopover({
	width: 250,
	height: 100,
	contentView: popView
});

button.addEventListener('click', function(e){
	popover.show({view: button});
});

win.add(button);
win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-983_47187/AlloyPopoverExample.png">AlloyPopoverExample.png</td></td><td>2014-04-08T20:28:00.000+0000</td><td>54840</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-983_47188/TitaniumPopoverExample.png">TitaniumPopoverExample.png</td></td><td>2014-04-08T20:28:00.000+0000</td><td>51881</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-05-02

   PR: <a href="https://github.com/appcelerator/alloy/pull/383" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/383</a>
   
   Functional test:
   
   Run the app included in the PR (<a href="https://github.com/skypanther/alloy/tree/ALOY-983/test/apps/testing/ALOY-983)" rel="nofollow" target="_blank">https://github.com/skypanther/alloy/tree/ALOY-983/test/apps/testing/ALOY-983)</a> on the iPad simulator or device. There are three buttons. Click on each. They open a popover that uses the ContentView tag containing a View, Window, and NavigationWindow. The height/width of the parent (<Popover> tag) is applied to <ContentView> if one is not set directly on ContentView. The NavigationWindow popover is taller because of an explicit height.
   
   Also, run the ui/popover test app included in the main Alloy repo on an iPad sim/device. It has two buttons: one creates a popover without a ContentView, the other with a ContentView. You should get a Warn message with the non-ContentView example that such a technique is deprecated. </li>
<li>Tim Poulsen 2014-05-05

   PR merged</li>
<li>Lokesh Choudhary 2014-05-10

   Verified the fix. The functional test instructions pass.
   
   Closing.
   
   Environment:
   Appc Studio : 3.2.3.201404181520
   Ti SDK : 3.3.0.v20140508223312
   Mac OSX : 10.8.5
   Alloy : 1.4.0-dev
   CLI - 3.3.0-dev
   Ipad simulator</li>
</ol>


<p><a href="/ALOY/ALOY-983.json">JSON Source</a></p>