---
title: "[ALOY-1004] Styles priority is not correctly respected when using Custom TSS queries"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-05-07T15:55:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.4.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Styling</td></tr>
<tr><th>Labels</th><td>qe-3.3.0</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-05-06T00:35:04.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-18T22:33:47.000+0000</td></tr>
</table>

<h3>Description</h3>



<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-05-06

   I discussed priorities with a group of the Titans prior to implementing this feature. It was universally agreed that custom TSS conditions should have the highest priority and take precedence over any other conditionals. 
   
   If you look to where priorities are defined in Alloy/commands/compile/styler.js (line 19), you'll see that TSSIF conditionals are assigned the highest priority. 
   
   Your example shows that this is the priority hierarchy that is being applied.
   
   I'm open to changing this if our internal decision is that priorities should be assigned differently. However, for now I'm closing this as invalid because it's working as intended.</li>
<li>Tim Poulsen 2014-05-06

   Reopening after speaking with Federico. Component selectors shouldn't override ID selectors regardless of whether custom TSS queries are in the mix or not.</li>
<li>Federico Casali 2014-05-06

   Further sample with Custom TSS applied to the Controller API : <a href="https://github.com/federico1525/Alloy-Samples/tree/master/ALOY-1004" rel="nofollow" target="_blank">https://github.com/federico1525/Alloy-Samples/tree/master/ALOY-1004</a></li>
<li>Tim Poulsen 2014-05-06

   PR: <a href="https://github.com/appcelerator/alloy/pull/387" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/387</a> 
   
   Includes a test app, which is an expanded version of the one posted by Federico in the preceding comment</li>
<li>Tim Poulsen 2014-05-07

   PR merged</li>
</ol>


<p><a href="/ALOY/ALOY-1004.json">JSON Source</a></p>