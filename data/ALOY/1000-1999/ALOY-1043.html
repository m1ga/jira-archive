---
title: "[ALOY-1043] Tooling: add script to compile all test apps and add _generated folders"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-12-17T08:42:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.7.0</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tim Poulsen</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-06-05T19:53:23.000+0000</td></tr>
<tr><th>Updated</th><td>2014-12-17T08:42:49.000+0000</td></tr>
</table>

<h3>Description</h3>

To improve our testing, we should have _generated folders (containing generated code for each platform) that can be compared to with each run of the <code>jake test:all</code> script. 

It should:

* Process each project in the test/apps folder tree
* Compile the app for each platform, saving the results to _generated/PLATFORM/alloy/controllers
* Offer a switch (<code>--force</code>) which if set, will overwrite existing _generated files

The test/testgen.js looks to accomplish this for an individual sample app. There's also the partially complete tools/compiles.js that might serve similar purpose.

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-12-15

   PR <a href="https://github.com/appcelerator/alloy/pull/632" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/632</a>
   
   Pull updates tools and docs for creating _generated code. It also includes generated code for all of the test/apps/testing apps.
   
   Functional review:
   
   1. From your Alloy repo directory, create a mock test app with <code>node tools/create_test.js foo</code>  It should output a message directing you to create _generated code.
   2. Open the test/apps/testing/foo folder to confirm that the app's files are present, but a _generated folder is not.
   3. Run <code>node tools/create_generated_code.js testing/foo</code> and check the folder. The _generated folder is present now.
   4. Run <code>jake test:spec\[compile.js\] app=testing/foo</code>  In the resulting output, you should see that "testing generated code" is present and passes (in other words, the code is compiled and compared to that in _generated and is found to match).
   5. Finally, open tools/README.md to confirm that new instructions for Alloy developers is present.</li>
<li>Tim Poulsen 2014-12-16

   Updated PR removes _generated code containing dates, which are localized and thus won't pass if the reviewer is in a different timezone than the generator. Updated the generation script to bypass known-problem test apps. Updated the README.md file.
   
   I also added documentation to <a href="https://wiki.appcelerator.org/display/pe/Tools+and+techniques#Toolsandtechniques-nodetools" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/pe/Tools+and+techniques#Toolsandtechniques-nodetools</a> and <a href="https://wiki.appcelerator.org/display/pe/Alloy+development+process" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/pe/Alloy+development+process</a></li>
<li>Feon Sua Xin Miao 2014-12-17

   PR merged.</li>
</ol>


<p><a href="/ALOY/ALOY-1043.json">JSON Source</a></p>