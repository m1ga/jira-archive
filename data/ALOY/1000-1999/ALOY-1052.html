---
title: "[ALOY-1052] Alloy: Support use of L in XML proxy elements"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-07-03T14:28:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.5.0</td></tr>
<tr><th>Components</th><td>I18N, XML</td></tr>
<tr><th>Labels</th><td>alloy, proxy, qe-manualtest, view, xml</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2014-06-11T06:51:33.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-25T17:27:56.000+0000</td></tr>
</table>

<h3>Description</h3>

Given the following <code>index.xml</code>:

<code><pre>
&lt;Alloy&gt;
  &lt;Window class="container"&gt;
    &lt;Label text="L('foo')" top="100" /&gt;
    &lt;TabbedBar id="planning_columns" top="200"&gt;
      &lt;Labels&gt;
        &lt;Label title="L(foo)" /&gt;
        &lt;Label title="L('foo')" /&gt;
        &lt;Label titleid="foo" /&gt;
        &lt;Label class="foo" /&gt;
      &lt;/Labels&gt;
    &lt;/TabbedBar&gt;
  &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

Only the last <code>&lt;Label&gt;</code> of the <code>&lt;TabbedBar&gt;</code> , which has the title set using <code>L('foo')</code> in TSS works. The first 2 show <code>L(foo)</code> as titel and the 3rd one is empty, which is expected as [BarItemType](<a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/api/BarItemType) doesn't support it (which of course it should, but thats a different story/ticket).

I'd expect <code>L()</code> to work in proxy elements, just like they do in the regular elements like the first <code>&lt;Label&gt;</code> above.

See the attached example project and screenshot.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1052_49457/ios.png">ios.png</td></td><td>2014-07-02T22:26:02.000+0000</td><td>40259</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1052_48837/iOS Simulator Screen shot 11 Jun 2014 08.45.36.png">iOS Simulator Screen shot 11 Jun 2014 08.45.36.png</td></td><td>2014-06-11T06:51:33.000+0000</td><td>21807</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1052_48838/l.zip">l.zip</td></td><td>2014-06-11T06:51:33.000+0000</td><td>5900757</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Shuo Liang 2014-06-12

   In XML file, you can identifying a string from the locale file to some UI component. For you case, the property for label call "textid" not "titleid".
   
   </li>
<li>Fokke Zandbergen 2014-06-12

   [~sliang], I know it's confusing, but for [<code>BarItemType</code>](<a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/api/BarItemType) it *is* <code>title</code>, not <code>text</code>.
   
   And as my example (project) shows it's not working. So please have another look ;)</li>
<li>Shuo Liang 2014-06-12

   Oh, I see. But Unfortunately，Not all the UI components support  locale file string in XML file. Only those component， which has "textid" or "titleid" property (like Label, Button and so on)， can use L() in XML file. You can check it from the document. <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.UI
   
   For your problem, the best option is identifying the title string in tss file, like you did in show 4.</li>
<li>Fokke Zandbergen 2014-06-12

   Not so fast [~sliang] :) I don't see a reason why Alloy couldn't compile <code>&lt;Label title="L('foo')" /&gt;</code> in a <code>&lt;TabbedBar&gt;</code> to <code>title: L('foo')</code> instead of <code>title: "L('foo')"</code> if a regular <code>&lt;Label&gt;</code> can. So I understand right now it can't and though I don't find it documented anywhere I take it from you this is by design. So for that I have changed the ticket to a feature request because I really think it should.</li>
<li>Shuo Liang 2014-06-13

   changed type to New Feature</li>
<li>Feon Sua Xin Miao 2014-07-02

   PR: <a href="https://github.com/appcelerator/alloy/pull/469" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/469</a>
   Test app: <a href="https://github.com/feons/alloy/tree/ALOY-1052/test/apps/testing/ALOY-1052" rel="nofollow" target="_blank">https://github.com/feons/alloy/tree/ALOY-1052/test/apps/testing/ALOY-1052</a>
   
   Functional Test:
   
       1. Run the test app
       2. UI should look like attached screenshot</li>
<li>Tim Poulsen 2014-07-03

   PR merged</li>
<li>Ewan Harris 2014-08-25

   Verified fix on:
   
   
   Mac OSX 10.9.4
   Appcelerator Studio, build: 3.4.0.201408210941
   Titanium SDK build: 3.4.0.v20140813022514 
   Titanium CLI, build: 3.4.0-dev
   Alloy: 1.5.0-dev
   iOS Simulator 7.1
   iOS Device 5S (8.0b5)
   
   Built the test app to iOS simulator and device, the UI matched the screenshot on both.
   
   Closing ticket.</li>
</ol>


<p><a href="/ALOY/ALOY-1052.json">JSON Source</a></p>