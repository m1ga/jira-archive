---
title: "[ALOY-1099] Alloy: Code Analyzer fails to analyze"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-11-26T19:34:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.4.0</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.5.0</td></tr>
<tr><th>Components</th><td>Appcelerator Studio</td></tr>
<tr><th>Labels</th><td>qe-3.3.0, qe-manualtest</td></tr>
<tr><th>Reporter</th><td>Shreya Chowbey</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-07-17T11:29:06.000+0000</td></tr>
<tr><th>Updated</th><td>2014-11-26T19:34:16.000+0000</td></tr>
</table>

<h3>Description</h3>

Code Analyzer fails to analyze Alloy Project from Studio on Windows system only. But working fine from CLI. 

1. Create a default alloy project.
2. Execute the Code Analyzer against Android/Mobileweb platforms.

Actual Result - Shows error message. Please refer the attached log file and screen shot for more clarification.

Expected Result - Code Analyzer should work fine for Alloy project from Studio.

Notes - 
1. The same works fine for Classic project.
2. Code Analyzer works fine for Alloy Project from CLI.
3. Code Analyzer works fine for Alloy/Classic on Mac and Ubuntu systems.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1099_49863/alloy code analyzer fails.png">alloy code analyzer fails.png</td></td><td>2014-07-17T11:29:06.000+0000</td><td>129069</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1099_49864/code analyzer fails on alloy-log file.txt">code analyzer fails on alloy-log file.txt</td></td><td>2014-07-17T11:29:06.000+0000</td><td>22930</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Praveen Innamuri 2014-07-24

   On Mac, analyzing a Alloy project runs without any issues. However, while analyzing a Alloy project on Windows, Alloy writes the debug output onto the console along with the code processor. Since Studio expects only the output from the code processor, having the output from both Alloy and code-processors results in the parsing failure.
   
   Alloy should not output the logging on Windows, similar to Mac. Re-directing the ticket to Alloy team to suppress the output on Windows.</li>
<li>Tim Poulsen 2014-07-29

   [~pinnamuri] I think Studio might be sending the wrong launch command to Alloy. It should be something like:
   
   <code>alloy compile -b -l 0 --config platform=android</code>
   
   To get no log output. The -b says "no banner" and -l sets the logging levels, use 0 to get no log output.
   
   Is there a way I can test this on Windows? Like, is there some config file that controls the launch settings Studios uses that I could modify?</li>
<li>Praveen Innamuri 2014-07-29

   The config file used to launch code processor contains information only specific to the plugins of the code analyzer. The code analyzer doesn't explicitly invoke Alloy command to compile the source. It fires off the event "codprocessor.pre.run" before it starts to analyze the source code - and alloy adds the hook for this event to compile the source code.
   
   The alloy.js file has added the hook for "codprocessor.pre.run" event to run before the code analyzer kicks off to analyze the source code.</li>
<li>Tim Poulsen 2014-07-30

   PR <a href="https://github.com/appcelerator/alloy/pull/495" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/495</a> 
   
   Functional test:
   
   1. On a Windows system, use Appcelerator Studio to create a new Alloy project.
   2. Right-click the project's name in the Project Explorer, choose Code Analysis, Android (or MobileWeb). Code analyzer should run without errors; you can optionally display the results by clicking on the notification in the bottom-right of the window.
   3. On a Macintosh system, repeat the above steps to confirm that the changes do not break anything there.
   
   Note: If using an existing project, you will need to re-install the Alloy plug-in. From the command line, in the project's directory, enter <code>alloy install plugin</code> prior to running the code analyzer.</li>
<li>Tim Poulsen 2014-07-30

   [~fmiao] would you test this PR?</li>
<li>Feon Sua Xin Miao 2014-07-31

   Tested on Windows, code analyzer runs with no errors. 
   Tested on Mac, looks good.</li>
<li>Tim Poulsen 2014-08-01

   PR merged</li>
<li>Ewan Harris 2014-08-26

   Verified fix on:
   
   Windows 8.1
   Mac OSX 10.9.4
   Appcelerator Studio, build: 3.4.0.201408210941
   Titanium SDK build: 3.4.0.v20140813022514 
   Titanium CLI, build: 3.4.0-dev
   Alloy: 1.5.0-dev
   
   Created a new alloy project on a Windows 8.1 machine and ran code analysis on the project, the code analyzer runs with no problems. Ran the same test on a OSX 10.9.4 machine and the code analyzer runs with no problems.
   
   Closing ticket.</li>
</ol>


<p><a href="/ALOY/ALOY-1099.json">JSON Source</a></p>