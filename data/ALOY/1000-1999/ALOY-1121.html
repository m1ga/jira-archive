---
title: "[ALOY-1121] Update extract-i18n command to extract strings from XML files in addition to TSS"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-10-28T02:07:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.6.0</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tim Poulsen</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-08-26T14:11:11.000+0000</td></tr>
<tr><th>Updated</th><td>2015-03-19T23:25:07.000+0000</td></tr>
</table>

<h3>Description</h3>

Community PR <a href="https://github.com/appcelerator/alloy/pull/527" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/527</a>

Ticket is to test, confirm functionality and applicability.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/ALOY/ALOY-1121_51078/app.zip">app.zip</td></td><td>2014-09-09T15:53:24.000+0000</td><td>2239356</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-09-09

   Test app attached</li>
<li>Tim Poulsen 2014-09-09

   QE/Review steps:
   
   1. Create a new Alloy app. Copy the contents of the attached zip over the top of the app folder. Not that there is no i18n folder.
   2. From the project's root directory, run <code>alloy extract-i18n</code> the output should match the following:
   
   <code><pre>
   [INFO] extract-i18n for "i18n/en/strings.xml"
   [DEBUG] /Users/admin/Documents/Titanium_Studio_Workspace/foo2/app/controllers/index.js: 1 strings found.
   [DEBUG] /Users/admin/Documents/Titanium_Studio_Workspace/foo2/app/styles/index.tss: 1 strings found.
   [DEBUG] /Users/admin/Documents/Titanium_Studio_Workspace/foo2/app/views/index.xml: 1 strings found.
   [INFO] Found 3 unique i18n strings in code. Checking against current i18n file...
   [INFO] ######## BEFORE ########
   &lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;resources&gt;
   &lt;/resources&gt;
   [INFO] ######## AFTER  ########
   &lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;resources&gt;
     &lt;string name="label4"&gt;label4&lt;/string&gt;
     &lt;string name="label2"&gt;label2&lt;/string&gt;
     &lt;string name="label1"&gt;label1&lt;/string&gt;
   &lt;/resources&gt;
   [INFO]  
   [WARN] Did not write the "i18n/en/strings.xml" file - use "--apply" option to write.
   </pre></code>
   
   Note that internationalized strings identified by the <code>textid</code> or <code>titleid</code> properties are not extracted (they were not prior to this change either).</li>
<li>Tim Poulsen 2014-10-23

   Reopen to backport to 1_6_X branch</li>
<li>Tim Poulsen 2014-10-24

   PR <a href="https://github.com/appcelerator/alloy/pull/607" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/607</a> for 1_6_X
   
   Functional test as above</li>
<li>Feon Sua Xin Miao 2014-10-28

   PR merged.</li>
<li>Eric Wieber 2015-03-19

   Verified fixed using:
   
   Titanium SDK 3.5.1.GA
   Studio 3.4.2.201502181619
   CLI 4.0.0-alpha
   Xcode 6.2
   Node 0.12
   Alloy 1.6.0-alpha
   
   Output strings match expected output.</li>
</ol>


<p><a href="/ALOY/ALOY-1121.json">JSON Source</a></p>