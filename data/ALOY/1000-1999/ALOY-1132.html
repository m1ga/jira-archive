---
title: "[ALOY-1132]  'testing/ALOY-1058' sample code is using quoted type value"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-09-17T03:57:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.5.0, Alloy 1.4.1</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.7.0</td></tr>
<tr><th>Components</th><td>Samples & Templates</td></tr>
<tr><th>Labels</th><td>qe-3.4.0</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-09-08T18:32:40.000+0000</td></tr>
<tr><th>Updated</th><td>2014-10-23T19:47:55.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
Sample code for ALOY-1058 is using a value for the type property with quotes, while, setting the type from the TSS, it should be used with no quotes.
Not a regression. 

From the sample code "index.tss", type is defined in this way:
<code><pre>
"#picker":{
	type:"Ti.UI.PICKER_TYPE_DATE"
}
</pre></code>

while type should be:
<code><pre>
type: Ti.UI.PICKER_TYPE_DATE
</pre></code>

<h4>Steps to reproduce</h4>
1. Run the sample code
Result: Running the sample, the picker is actually showing DATE as a type when run, but the constant values should be used with no quotes in the TSS.
Here is the compiled code from Resources/iphone/alloy/controller/index.js:
<code><pre>
  $.__views.picker = Ti.UI.createPicker({
        type: "Ti.UI.PICKER_TYPE_DATE",
        id: "picker",
        minDate: new Date("Tue Apr 01 2014 00:00:00 GMT-0700 (PDT)"),
        maxDate: new Date("Thu May 01 2014 12:00:00 GMT-0700 (PDT)"),
        value: new Date("Tue Apr 15 2014 12:00:00 GMT-0700 (PDT)")
    });
</pre></code>

2. Change index.tss picker stile to:
<code><pre>
"#picker":{
	type:Ti.UI.PICKER_TYPE_DATE_AND_TIME
}
</pre></code>

Result: compiled code is:
<code><pre>
   $.__views.picker = Ti.UI.createPicker({
        type: "Ti.UI.PICKER_TYPE_DATE_AND_TIME",
        id: "picker",
        minDate: new Date("Tue Apr 01 2014 00:00:00 GMT-0700 (PDT)"),
        maxDate: new Date("Thu May 01 2014 12:00:00 GMT-0700 (PDT)"),
        value: new Date("Tue Apr 15 2014 12:00:00 GMT-0700 (PDT)")
    });
</pre></code> 

However, DATE type picker is still shown (not DATE_AND_TIME).
Considering the generated code, this could be a behavior issue relative to how SDK is handling the Picker type property, not Alloy. Investigating and creating a Classic Titanium sample.

3. Change the picker style to: 
<code><pre>
"#picker":{
	type:Ti.UI.PICKER_TYPE_DATE_AND_TIME
}
</pre></code>

Result: Picker DATE_AND_STYLE is shown. Compiled code also looks good:
<code><pre>
 $.__views.picker = Ti.UI.createPicker({
        type: Ti.UI.PICKER_TYPE_DATE_AND_TIME,
        id: "picker",
        minDate: new Date("Tue Apr 01 2014 00:00:00 GMT-0700 (PDT)"),
        maxDate: new Date("Thu May 01 2014 12:00:00 GMT-0700 (PDT)"),
        value: new Date("Tue Apr 15 2014 12:00:00 GMT-0700 (PDT)")
    });
</pre></code>

<h4>Note</h4>
My suggestion for the sample is to use the DATE_AND_TIME picker as type in case of iOS.
i.e.
<code><pre>
"#picker":{
	type:Ti.UI.PICKER_TYPE_DATE
}

"#picker[platform=ios]":{
	type:Ti.UI.PICKER_TYPE_DATE_AND_TIME
}
</pre></code>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-09-15

   PR: <a href="https://github.com/appcelerator/alloy/pull/563" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/563</a>
   
   Functional test: run the ALOY-1058 sample on ios and android simulators, no errors, and you get the date-time or date pickers respectively. Examine the generated code to see that the constant is supplied to the picker constructor without quotes.</li>
<li>Feon Sua Xin Miao 2014-09-17

   PR merged.</li>
</ol>


<p><a href="/ALOY/ALOY-1132.json">JSON Source</a></p>