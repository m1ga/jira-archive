---
title: "[ALOY-1167] Update travis.yml to exit w/non-zero value on errors"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-10-28T02:31:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.6.0</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tim Poulsen</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-10-15T16:56:16.000+0000</td></tr>
<tr><th>Updated</th><td>2015-03-26T16:13:13.000+0000</td></tr>
</table>

<h3>Description</h3>

GitHub builds are marked as passing even when errors are encountered by Travis. Our test scripts must be exiting with a non-zero value in the case of errors.

We should add an <code>after_script</code> section that exits with 0/non-zero to properly signal build state.

<a href="http://docs.travis-ci.com/user/build-configuration/" rel="nofollow" target="_blank">http://docs.travis-ci.com/user/build-configuration/</a>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-10-21

   PR <a href="https://github.com/appcelerator/alloy/pull/595" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/595</a>
   
   I'm not sure how you can test this, as this change is entirely for the Travis environment on our GitHub repo. Perhaps simply checking the travis build log (click the "Details" link) on the pull request page is the only way to test it. You should see that all tests pass, no failures are reported, and ultimately the build is marked as passing.
   
   Prior to this change, even when individual tests failed, the overall PR would be marked as passing.</li>
<li>Feon Sua Xin Miao 2014-10-23

   PR merged.</li>
<li>Tim Poulsen 2014-10-24

   Reopen for 1_6_X backport</li>
<li>Tim Poulsen 2014-10-24

   PR <a href="https://github.com/appcelerator/alloy/pull/610" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/610</a></li>
<li>Feon Sua Xin Miao 2014-10-28

   PR merged.</li>
<li>Eric Wieber 2015-03-26

   Verified fixed using:
   Alloy 1.6.0-alpha
   
   Successful tests exit with zero while tests with errors exit with non-zero values.</li>
</ol>


<p><a href="/ALOY/ALOY-1167.json">JSON Source</a></p>