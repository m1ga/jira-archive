---
title: "[ALOY-1179] Support defining controller inheritance in XML"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Runtime, XML</td></tr>
<tr><th>Labels</th><td>TCSupportTriage, inheritance</td></tr>
<tr><th>Reporter</th><td>曹俊</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-07-01T02:45:15.000+0000</td></tr>
<tr><th>Updated</th><td>2015-01-05T15:43:38.000+0000</td></tr>
</table>

<h3>Description</h3>

I would like to be able to specify that subTopBar inherits from topBar by defining the baseController relationship in the XML of subTopBar rather than in its JavaScript code.

 --- original description follows ---

There is a super controller which name is 'topBar'.
There is a sub controller which inherit from 'topBar', its name is 'subTopBar'.
'subTopBar' has no XML in any views, because I wanna reuse the view of 'topBar'.
(exports.baseController = 'topBar' )

such as the following .jade file described:
<code><pre>
Alloy
  View
    Require#topBar(src='subTopBar', title='极速开户', top='0')
    View(backgroundColor="#f7f7f7", top="44")
</pre></code>

When Alloy building, Alloy will try to find the view of the subcontroller when it was required  in XML.

1st
  I wanna reuse the view, but I cant create a XML in views directory.
2nd
  I can still create it in JS by dynamic without any XML of subcontroller.

In a word:
  I am for fear to it is a bug.
  I think it would be better for you to check this issue, thx.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1179_49436/TestBaseController.zip">TestBaseController.zip</td></td><td>2014-07-02T02:27:43.000+0000</td><td>5526754</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2014-07-02

   Hello @曹俊
   
   please provide a testcase that shows this situation. 
   
   Thanks! </li>
<li>曹俊 2014-07-02

   Test case1 pass Alloy-build.
   Test case2 fail.</li>
<li>曹俊 2014-07-02

   Hi Mauro Parra-Miranda.
   I upload 2 test case.
   
   Environment: Ti 3.2.1, Ti SDK 3.2.2, alloy 1.3.0.
   
   Please run on iphone.
   
   "testcase1" pass Alloy-build.
   
   "testcase2" fail. 
   [INFO]  ----- MVC GENERATION -----
   [INFO]  [global style] writing to cache...
   [INFO]  [index.xml] view processing...
   [INFO]    style:      "index.tss"
   [INFO]    view:       "index.xml"
   [ERROR] view "subController" does not exist.
   
   Please notice "index.js" in "testcase1" and notice "index.xml" in "testcase2"
   
   Because "testcase1" work well and that there is not difference between "testcase1" and "testcase2" in truth.
   So I think it is a bug or a feature.
   
   Thx for your work.</li>
<li>Motiur Rahman 2014-07-12

   Hi,
   
   Testcase1 is well and testcase2 show error but both are logically same. But in testcase2 has little bit mistake, require file didn't exist in view.  
   
   In testcase2>>view>>index.xml and superController.xml but the reporter code is 
   
   <code><pre>
   &lt;Alloy&gt;
   	&lt;Window class="container"&gt;
       &lt;View id="mainView"&gt;
         &lt;Label id="label" onClick="doClick"&gt;Hello, World&lt;/Label&gt;
         &lt;Require src="subController"&gt;&lt;/Require&gt;
       &lt;/View&gt;
   	&lt;/Window&gt;
   &lt;/Alloy&gt;
   
   </pre></code>
   
   Actually code will be.
   
   <code><pre>
   &lt;Alloy&gt;
   	&lt;Window class="container"&gt;
       &lt;View id="mainView"&gt;
         &lt;Label id="label" onClick="doClick"&gt;Hello, World&lt;/Label&gt;
         &lt;Require src="superController"&gt;&lt;/Require&gt;
       &lt;/View&gt;
   	&lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   </li>
<li>Mauro Parra-Miranda 2014-08-08

   Hello [~mdsb100]!
   
   Let me know if the correction above fixes your issue. 
   
   Best Regards!</li>
<li>曹俊 2014-08-08

   Hi [~morahman],
   In fact, I want use subController. I can create subController in running time (testcase1). It does not pass the alloy-building if I write "subController" into XML (testcase2). This is problem. 
   The target of the two case is same!</li>
<li>曹俊 2014-08-08

   Hi [~mpmiranda],
   When I define a subController in .xml like "<Require src="subController"></Require>" , I do not need to create a View which name is "subController.xml" because I inherit the view form superController.
   
   So please let me pass the alloy-building.(Alloy try to find "subController.xml", and error.)</li>
<li>Tim Poulsen 2014-09-02

   Inheritance is currently supported when controllers are instantiated in the JavaScript files, but it is not currently supported with XML tags as testcase2 attempts to do. There's reference documentation at <a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/guide/Alloy_Controllers-section-34636384_AlloyControllers-Inheritance and a sample app at <a href="https://github.com/appcelerator/alloy/tree/master/test/apps/advanced/inheritance" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/tree/master/test/apps/advanced/inheritance</a> 
   
   [~mpmiranda] You can move this to Alloy. However, it is a feature request not a bug.</li>
</ol>


<p><a href="/ALOY/ALOY-1179.json">JSON Source</a></p>