---
title: "[ALOY-1193] Alloy: Changing Style in JS doesn't work for dynamically created views"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-12-02T16:57:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Runtime</td></tr>
<tr><th>Labels</th><td>alloy, runnable, runtime, style</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-12-02T04:20:05.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:28:29.000+0000</td></tr>
</table>

<h3>Description</h3>

Alloy: Changing Style in JS doesn't work for dynamically created views

Attached the test case to reproduce problem.

<h4>Reproduce:</h4>
1.Run the app device or simulator. (Do no click "Go to Dashboard first")
2.Click the "setNewsGothicSBOP" button to set some Alloy.Global Properties.
3.Click "Go to Dashboard", view the Label style is same.
4.Click "Change", then choose "setCordiaNew" button to re-set those Alloy.Global Properties.
5.Click "Go to Dashboard" again.

<h4>Expect Result:</h4>
All labels should change to apply new style.

<h4>Actual Result:</h4>
Only the labels defined in XML apply the new style, those views(Labels) created in JS did not apply the new style.

N.B.
Problem occurs in both IOS and Android devices


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1193_52941/TestCase.zip">TestCase.zip</td></td><td>2014-12-02T04:27:00.000+0000</td><td>3729</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Shuo Liang 2014-12-02

   Only attached controller, view and style folders.</li>
<li>Tim Poulsen 2014-12-02

   Alloy is a preprocessor. Your TSS file is being parsed and processed at compile time, at which point Alloy.Globals.regularFont is undefined. Therefore, you get the default system font. Furthermore, you are attempting to use dynamic styling without adding <code>autoStyle=true</code> to the component's tag in the XML. </li>
<li>Shuo Liang 2014-12-03

   [~skypanther], Sorry, still not follow why the label.width and font changing is applied by XML file, not JS file. Do you mean TSS file is being parsed and processed at compile time, can't change it during runtime? if yes, why XML file get applied.</li>
<li>Tim Poulsen 2014-12-03

   If you define style selectors, but never apply them, they will be optimized out of the generated code. </li>
<li>Jason Kneen 2014-12-10

   I agree with Tim, you're mixing methods here - both classes that have been already defined in the pre-processing to applying them in dynamic JS.
   
   If you create two classes, one with the old font and one with the new font, then apply these using $.addClass or createStyle then it works fine.
   </li>
<li>Eric Merriman  2018-03-07

   Closing as invalid. If this is incorrect, please reopen.</li>
</ol>


<p><a href="/ALOY/ALOY-1193.json">JSON Source</a></p>