---
title: "[ALOY-1212] TSS: class assignment order affects application of properties which doesn't match CSS rules"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Styling</td></tr>
<tr><th>Labels</th><td>parsing, tss</td></tr>
<tr><th>Reporter</th><td>Mads Moller</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2014-08-26T14:17:56.000+0000</td></tr>
<tr><th>Updated</th><td>2015-03-26T00:30:52.000+0000</td></tr>
</table>

<h3>Description</h3>

The Alloy tss parsing is a bit incorrect. it relies on where in a .tss file a class is defined rather than following CSS common rules:

Example: <a href="https://gist.github.com/viezel/a63562fc7e9b7a7f3290" rel="nofollow" target="_blank">https://gist.github.com/viezel/a63562fc7e9b7a7f3290</a>

Here the result should give me blue text, but since the BlueText class is above the Icon class, then Alloy let Icon win, even though the BlueText is defined in the end of the class="" markup. 

This is incorrect - if we want Alloy to mimic CSS. 

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2014-10-14

   Classes are applied in the order you list in the <code>class</code> attribute with the rightmost (last-specified) class taking precedence. The order of definition in the TSS file has no bearing. Changing to <code>class="BlueText Icon"</code> would create a black label. </li>
<li>Mads Moller 2014-10-14

   @Tim, if you do class="Icon BlueText" then from a HTML perspective, I would get a blue label. But I dont cause the TSS is handling this linear and incorrect. </li>
<li>Tim Poulsen 2014-12-18

   Needs further investigation and triage. If we're attempting to match CSS behaviors, relevant background info is at <a href="http://stackoverflow.com/questions/1321692/how-to-specifiy-the-order-of-css-classes" rel="nofollow" target="_blank">http://stackoverflow.com/questions/1321692/how-to-specifiy-the-order-of-css-classes</a>
   
   From the CSS spec: "Finally, sort by order specified: if two declarations have the same weight, origin and specificity, the latter specified wins. Declarations in imported style sheets are considered to be before any declarations in the style sheet itself." </li>
<li>Fokke Zandbergen 2014-12-19

   I confirm with [~viezel] that the current behaviour is that the order of classes has no effect, while I would prefer it to do have effect.
   
   In ALOY-562 [~tlukasavage] states that TSS follows the CSS behavior which (I never knew, but) is indeed that the order of classes has no effect like shown here:
   <a href="http://codepen.io/anon/pen/emzMyG" rel="nofollow" target="_blank">http://codepen.io/anon/pen/emzMyG</a>
   
   If it's a rule set in stone that we follow CSS then I guess this is a feature not a bug, but I rather see W3C change its mind instead :P</li>
<li>Mads Moller 2014-12-19

   Well in CSS I can do !important like this: <a href="http://codepen.io/anon/pen/EayEEL" rel="nofollow" target="_blank">http://codepen.io/anon/pen/EayEEL</a> then it works. 
   Having the ability to make order have an effect on styling gives greater control. </li>
<li>Fokke Zandbergen 2014-12-19

   Good point. Although I don't see why Alloy couldn't just decide to be different from CSS and allow the order of classes to have effect.</li>
</ol>


<p><a href="/ALOY/ALOY-1212.json">JSON Source</a></p>