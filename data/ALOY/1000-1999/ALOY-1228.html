---
title: "[ALOY-1228] Selective compilation can fail with platform-specific controllers and throws Exception incorrectly"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-01-30T23:50:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.7.0</td></tr>
<tr><th>Components</th><td>Runtime, Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tim Poulsen</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2015-01-15T14:33:54.000+0000</td></tr>
<tr><th>Updated</th><td>2015-01-30T23:50:20.000+0000</td></tr>
</table>

<h3>Description</h3>

Per email from David Bankier, the compilation-optimization technique implemented in [PR625](<a href="https://github.com/appcelerator/alloy/pull/625)" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/625)</a> will fail in certain cases. He suggests the following changes be made to fix these issues:

* <a href="https://github.com/xavierlacot/alloy/pull/1" rel="nofollow" target="_blank">https://github.com/xavierlacot/alloy/pull/1</a>
* <a href="https://github.com/xavierlacot/alloy/pull/2" rel="nofollow" target="_blank">https://github.com/xavierlacot/alloy/pull/2</a> 

Investigate and implement, add tests

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2015-01-19

   PR: <a href="https://github.com/appcelerator/alloy/pull/657" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/657</a>
   
   All jake tests should pass. In addition, FR with these steps:
   
   1. Compile the complex_styling test app: <code>jake app:run dir=advanced/complex_styling</code>
   2. Compile one file from it: <code>alloy compile /PATH_TO_YOUR_ALLOY_REPO/test/projects/Harness --config platform=ios,file=app/controllers/index.js</code>
   
   Both steps should compile without errors.</li>
</ol>


<p><a href="/ALOY/ALOY-1228.json">JSON Source</a></p>