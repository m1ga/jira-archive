---
title: "[ALOY-1244] Alloy: \"alloy new\" should remove/empty \"Resources\" folder"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Alloy 1.5.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Tim Poulsen</td></tr>
<tr><th>Created</th><td>2015-02-14T13:57:46.000+0000</td></tr>
<tr><th>Updated</th><td>2015-07-31T21:09:44.000+0000</td></tr>
</table>

<h3>Description</h3>

When you convert a classic project in an Alloy project, the classic <code>Resources/app.js</code> file will remain untouched because Alloy works with <code>Resources/\[platform\]/app.js</code>.

While this isn't a problem, it is really confusing for new users, wondering if that code will be executed.

<h4>Solution</h4>

It would be better if running <code>alloy new</code> would delete or empty the <code>Resources</code> folder.

As per [~sfeather]'s suggestion this might be improved upon by letting the user confirm he's aware <code>Resources</code> folder will be deleted and/or renaming it to e.g. <code>Resources (classic)</code> so it is preserved. This would also improve the current situation where the first time the user runs <code>alloy compile</code> or <code>ti build</code> he will lose his classic files as well.

<h4>To reproduce</h4>

Execute the following in a temporary directory:
<code><pre>
ti create -t app -p ios -n res --id test.res -d . -u <a href="http://appcelerator.com" rel="nofollow" target="_blank">http://appcelerator.com</a>
cd res
alloy new
ti build -p ios -b
cd Resources
nano app.js
</pre></code>

You'll see that even after alloy compiles <code>Resources/app.js</code> is still the default classic <code>app.js</code>.

<h3>Comments</h3>

<ol>
<li>Stephen Feather 2015-02-15

   <code>alloy new</code> should NOT be destructive.
   
   If a user is converting a classic to alloy, their old project would be IN Resources, and they may have forgotten to move the contents themselves, and now Alloy has eaten it.
   
   This is a bad idea.</li>
<li>Fokke Zandbergen 2015-02-15

   Although <code>alloy new</code> currently is NOT destructive, the next time you run <code>ti build</code> the <code>Resources</code> folder IS destructed, apart from the <code>app.js</code> file. So I don't see much difference.
   
   The UX could even improve if <code>alloy new</code> would prompt the user to confirm <code>Resources</code> to be destructed.</li>
<li>Stephen Feather 2015-02-15

   "So I don't see much difference."
   
   1. Your ticket is not for <code>ti build</code> it is for <code>alloy new</code>.
   2. The behavior of <code>ti build</code> is a different stage of development, namely building, not converting.
   3. A user converting a project from classic to alloy doesn't have a place to put their old files in the new structure until <code>alloy new</code> has been run.
   
   If you are looking for a consumer/user friendly solution, take the contents of the classic Resources, move/rename/place them in Resources.classic or Resources.old to protect/preserve them, create the alloy structure as before and if purging Resources is so important to you, do it.
   
   </li>
<li>Fokke Zandbergen 2015-02-15

   By not much different I mean:
   
   * Current: you lose the classic files (except for <code>app.js</code>) as soon as you do <code>ti build</code> or <code>alloy compile</code> after <code>alloy new</code>
   * Proposed: you lose the classic files as soon as you do <code>alloy new</code> 
   
   I agree that if you're unaware that Alloy soon or later will clean <code>Resources</code>, both the current and proposed situation might surprise users and cause them to lose their classic files (if they're not using versioning or backups).
   
   So I've updated the ticket to ask for the user to confirm or for the current <code>Resources</code> directory to be renamed. Thanks for that suggestion Stephen!</li>
</ol>


<p><a href="/ALOY/ALOY-1244.json">JSON Source</a></p>