---
title: "[ALOY-1275] Override not working when child controller is opened"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Alloy 1.6.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Runtime</td></tr>
<tr><th>Labels</th><td>qe-4.0.1</td></tr>
<tr><th>Reporter</th><td>Eric Wieber</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2015-05-26T22:05:49.000+0000</td></tr>
<tr><th>Updated</th><td>2015-07-29T00:12:48.000+0000</td></tr>
</table>

<h3>Description</h3>

When trying to override a function in an Alloy project, the function is not overridden if the 'child' controller is opened vs the function being called from the unopened controller.

*Steps to reproduce issue*
1. Create an Alloy project using the below files
2. Run the project
3. Click 'Create Ewan'
4. Click on 'Ewan'

*Actual Results*
An alert appears with "Ewan"

*Expected Results*
An alert appears with "OVERRIDE!"

*Notes*
If line 2 of <code>index.js</code> is changed to:
<code>Alloy.createController("ewan").sayName()</code> the function works as expected.

*Files*
index.js:
<code><pre>
function makeEwan(){
	Alloy.createController("ewan").getView().open();
}

$.index.open();
</pre></code>

person.js:
<code><pre>
var args = arguments[0] || {};

exports.sayName = function(){
	args.name ? alert(args.name) : alert($.name.text);
	$.win2.close();
};
</pre></code>

ewan.js:
<code><pre>
exports.baseController = 'person';

$.name.text = "Ewan";
exports.sayName = function() {
	alert("OVERRIDE!");
    $.win2.close();
};
</pre></code>

index.xml:
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container"&gt;
		&lt;Label id="label" onClick="makeEwan"&gt;Create Ewan&lt;/Label&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

person.xml:
<code><pre>
&lt;Alloy&gt;
	&lt;Window id="win2" class="container"&gt;
		&lt;Label id="name" onClick="exports.sayName"&gt;No Name&lt;/Label&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

<h3>Comments</h3>

<ol>
<li>Feon Sua Xin Miao 2015-07-28

   This seems like a limitation on the existing Alloy's inheritance model, specifically inheriting event handlers is not supported directly. 
   It's still possible to archive what you are trying to do, albeit with some changes in code: 
   
   <code><pre>
   function makeEwan(e){
   	var ewan = Alloy.createController("ewan");
   	ewan.init();
   	ewan.getView().open();
   }
   $.index.open();
   </pre></code>
   
   <code><pre>
   var args = arguments[0] || {};
   
   exports.sayName = function(){
   	args.name ? alert(args.name) : alert($.name.text);
   	$.win2.close();
   };
   
   exports.init = function() {
   	$.name.addEventListener('click', $.sayName);
   };
   </pre></code>
   
   <code><pre>
   &lt;Alloy&gt;
   	&lt;Window id="win2" class="container"&gt;
   		&lt;Label id="name"&gt;No Name&lt;/Label&gt;
   	&lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code></li>
</ol>


<p><a href="/ALOY/ALOY-1275.json">JSON Source</a></p>