---
title: "[ALOY-1302] Alloy needs to have a consistent behavior with Ti on App Icons"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-09-11T00:35:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2015-09-10T07:21:30.000+0000</td></tr>
<tr><th>Updated</th><td>2015-09-11T20:22:15.000+0000</td></tr>
</table>

<h3>Description</h3>

See related ticket. Currently the behavior in managing the app icons is different. This ticket has to address and make them consistent.
With the related ticket, a DefaultIcon.png WILL BE copied into the project's root when <code>alloy new</code> is run.

<h4>Test cases APPC CLI :</h4>
A. Brand new project via Appc. *appc new* *appc run -p ios*
B. *appc run -p ios -T dist-adhoc*
C. Scenario where DefaultIcon.png (use attached [^DefaultIcon.png] in ticket), and ALL icons described [here](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Icons_and_Splash_Screens) exists, but are different from DefaultIcon.png. (This is the situation when a user decide to IGNORE the DefaultIcon.png and have his very own other icons). *appc run -p ios*
D. Scenario where DefaultIcon.png is missing, but ALL icons described [here](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Icons_and_Splash_Screens) exists. (This is the situation when a user updates an existing project to the latest SDK). *appc run -p ios*
E. Scenario where DefaultIcon.png is missing, but SOME icons described [here](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Icons_and_Splash_Screens) are missing. (This is the situation when a user updates an existing project with missing icons to the latest SDK). *appc run -p ios*

<h4>Expected Results:</h4>
A. Build success. See inside build->iphone->Assets.xcassets and see these files [^defaultContent.png]
B. Build success. See inside build->iphone->build->Products->Release-iphoneos->SGIcon.app->Show Package Content, there's the iTunesArtwork.png and iTunesArtwork@2x.png
C. Build success. User's icons should be prioritized over the use of DefaultIcon.png. See inside build->iphone->Assets.xcassets and see these files [^withDefaultAndAllIcons.png]
D. Build success. See inside build->iphone->Assets.xcassets and see these files [^defaultContent.png]
E. Build Fail. See error prompt 
<code><pre>
[ERROR] There are missing app icons
[ERROR] You must either create the missing icons below or create an image named "DefaultIcon.png" in the root of your project
[ERROR] If the DefaultIcon.png image is present, the build will use it to generate all missing icons
[ERROR] It is highly recommended that the DefaultIcon.png be 1024x1024
[ERROR] Unable to create missing icons:
[ERROR]   Resources/iphone/appicon-Small@3x.png - Used for iPhone - required size: 87x87
[ERROR]   Resources/iphone/appicon-Small-40@3x.png - Used for iPhone - required size: 120x120
[ERROR]   Resources/iphone/appicon-60@3x.png - Used for iPhone - required size: 180x180
[ERROR] An error occurred during build after 2s 554ms
</pre></code>

<h4>Actual Result:</h4>
A. Build success. But the content of build->iphone->Assets.xcassets is inconsistent. [^appcdefaultContent.png] In tooling, we have to remove all the existing icons in the Resources folder so that DefaultIcon.png can do it's job.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1302_56676/appcdefaultContent.png">appcdefaultContent.png</td></td><td>2015-09-10T10:56:57.000+0000</td><td>202782</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1302_56674/defaultContent.png">defaultContent.png</td></td><td>2015-09-10T10:56:57.000+0000</td><td>107623</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1302_56677/DefaultIcon.png">DefaultIcon.png</td></td><td>2015-09-10T10:56:24.000+0000</td><td>91321</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1302_56675/withDefaultAndAllIcons.png">withDefaultAndAllIcons.png</td></td><td>2015-09-10T10:56:57.000+0000</td><td>108350</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Feon Sua Xin Miao 2015-09-10

   PR: <a href="https://github.com/appcelerator/alloy/pull/722" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/722</a></li>
<li>Chee Kiat Ng 2015-09-11

   APPROVED. PR Merged.</li>
<li>Eric Wieber 2015-09-11

   Verified implemented using:
   
   MacOS 10.11 (15A279b)
   Studio 5.0.0.201508271032
   Ti SDK 5.0.0.v20150910192021
   Appc NPM 4.2.0-1
   Appc CLI 5.0.0-50
   Ti CLI 5.0.1
   Alloy 1.7.7
   Arrow 1.2.48
   Xcode 7.0 (7A218)
   Node v0.10.37
   Java 1.7.0_45
   preproduction
   
   App icons are successfully generated for Alloy projects, user specified icons are used over the generated icons, and errors are correctly thrown if DefaultIcon.png and user icons are missing, when required.</li>
</ol>


<p><a href="/ALOY/ALOY-1302.json">JSON Source</a></p>