---
title: "[ALOY-1323] Alloy: module-tag in Alloy element effects all controller-views"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-11-20T17:35:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>alloy 1.7.16, alloy 1.7.26</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.2.0, alloy 1.7.27</td></tr>
<tr><th>Components</th><td>XML</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2015-11-01T18:49:35.000+0000</td></tr>
<tr><th>Updated</th><td>2016-02-02T21:23:00.000+0000</td></tr>
</table>

<h3>Description</h3>

The attached app-folder demonstrates that when you use the <code>module</code> tag on the <code><Alloy></code> tag of one view, this will be applied to *all* other controller-views as well.

1. Compile the app.
2. Open <code>Resources/iphone/controllers/testWindow.js</code>.
3. Confirm that it has <code>(require("testModule").createWindow || Ti.UI.createWindow)</code> for all views as well, while only <code>app/views/index.xml</code> has has the <code>module</code> tag.

Found by [~falko]

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/ALOY/ALOY-1323_57216/app.zip">app.zip</td></td><td>2015-11-01T18:49:55.000+0000</td><td>3723</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Feon Sua Xin Miao 2015-11-03

   According to ALOY-1018, this doesn't seem like a bug.</li>
<li>Andrey Tkachenko 2015-11-03

   what do you say to that?
   
   */app/lib/testModule.js*
   <code><pre>
   exports.createLabel = function(opts) {
   	return Ti.UI.createLabel(_.extend(opts, {
   		text: "Click me!"
   	}));
   };
   </pre></code>
   
   *app/controllers/index.js*
   <code><pre>
   function doClick(e) {
       Alloy.createController('testWindow').getView().open();
   }
   $.index.open();
   </pre></code>
   
   *app/views/index.xml*
   <code><pre>
   <Alloy module="testModule">
   	<Window class="container">
   		<Label id="label" onClick="doClick" />
   	</Window>
   </Alloy>
   </pre></code>
   
   
   *app/views/testWindow.xml*
   
   <code><pre>
   <Alloy>
   	<Window layout="vertical">
   		<Label>Do you see this text?</Label>
   		<Label>And this!</Label>
   	</Window>
   </Alloy>
   </pre></code>
   
   
   
   </li>
<li>Andrey Tkachenko 2015-11-03

   I think it is bad idea to propogate Alloy tag attribute specified in one View to the all other Views.
   It can be lead to bugs that very hard to find.</li>
<li>Feon Sua Xin Miao 2015-11-03

   [~falko], would this work for you?
   
   <code><pre>
   <Alloy>
   	<Window class="container" module="testModule">
   		<Label id="label" onClick="doClick" />
   	</Window>
   </Alloy>
   </pre></code></li>
<li>Andrey Tkachenko 2015-11-04

   Each View must relate to only his controller implementation and not has influence to other.</li>
<li>Fokke Zandbergen 2015-11-04

   [~fmiao] this *is* a bug. ALOY-1018 does not request for the <code>module</code> tag on an <code>Alloy</code> element to effect all views in the app, only the current.</li>
<li>Andrey Tkachenko 2015-11-04

   I can build controller with many views at root under Alloy tag and in this case I can use module attribute in Alloy tag but it not must has influence to other controllers.</li>
<li>Brenton House 2015-11-11

   This seems to be broken from version 1.7.8 to the current version 1.7.24</li>
<li>Brenton House 2015-11-11

   I am not opposed to this being a feature that is available to developers but I think it should probably go somewhere more global.</li>
<li>Andrey Tkachenko 2015-11-12

    It must work like autoStyle:
    
    <code><pre>
     To enable autostyle, set the autoStyle attribute to true either in the XML markup or the config.json file. You can enable autostyle for a individual component, for all components in a controller, or for all controllers in a project.
    
    * To enable autostyle for an individual component, set the autoStyle attribute to true on the XML tag (for example, <View autoStyle="true">).
    * To enable autostyle for components in a controller, set the autoStyle attribute to true on the root <Alloy/> tag (for example, <Alloy autoStyle="true">).
    * To enable autostyle for all controllers in an Alloy project, set the autoStyle field to true in the config.json file, for example:
    
    </pre></code>
    </li>
<li>Feon Sua Xin Miao 2015-11-12

    [~brentonhouse], what exactly is broken from 1.7.8? Did the module property work differently in earlier versions? </li>
<li>Feon Sua Xin Miao 2015-11-19

    PR: <a href="https://github.com/appcelerator/alloy/pull/742" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/742</a>
    
    To Test:
    1. Test for  ALOY-1018 should pass.
    2. Run attached app, <code>Resources/iphone/controllers/testWindow.js</code> shouldn't have <code>(require("testModule").createWindow || Ti.UI.createWindow)</code> for all views.</li>
<li>Andrey Tkachenko 2015-11-20

    I confirm. 
    <code><pre>(require("testModule").create... || Ti.UI.create...)</pre></code>
     only present in controller which contains <code>module</code> attribute in his <code>alloy</code> tag.
    Tested on your branch ALOY-1323</li>
<li>Feon Sua Xin Miao 2015-11-20

    Thank you [~falko]!</li>
<li>Feon Sua Xin Miao 2015-11-20

    PR merged.</li>
<li>Brenton House 2015-11-23

    Is there now a global way of doing this such as in the config.json file?</li>
<li>Fokke Zandbergen 2015-11-23

    No, we now fixed the bug this ticket was about. You can do a new ticket for a feature request for this.</li>
<li>Eric Wieber 2016-02-02

    Verified fixed, using:
    
    MacOS 10.11.3 (15D21)
    Studio 4.5.0.201601262138
    Ti SDK 5.2.0.v20160202103508
    Appc NPM 4.2.3-1
    Appc CLI 5.2.0-239
    Alloy 1.7.33
    Xcode 7.2 (7C68)
    
    Using the module property on the <Alloy> tag no longer applies to the sub views. Tested using the provided sample app contents and the code in ALOY-1018.</li>
</ol>


<p><a href="/ALOY/ALOY-1323.json">JSON Source</a></p>