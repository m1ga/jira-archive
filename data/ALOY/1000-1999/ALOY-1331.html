---
title: "[ALOY-1331] Windows: App crashes with 'Cannot find variable: OS_BLACKBERRY"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-11-23T02:54:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>alloy 1.7.25</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.2.0, alloy 1.7.26</td></tr>
<tr><th>Components</th><td>Runtime</td></tr>
<tr><th>Labels</th><td>qe-5.1.0</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2015-11-16T23:34:31.000+0000</td></tr>
<tr><th>Updated</th><td>2016-01-13T22:22:24.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When building an Alloy app for Windows Platform the app crashes with the below error


The error originates from [this line in alloy.js](<a href="https://github.com/appcelerator/alloy/blob/1fb9878e769c6afee6f46516c08b4708830e26a6/Alloy/lib/alloy.js#L486)" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/blob/1fb9878e769c6afee6f46516c08b4708830e26a6/Alloy/lib/alloy.js#L486)</a> and removing the OS_BLACKBERRY check allows the app to launch.

<code><pre>
[ERROR] :  Application Error: {
[ERROR] :    "line": 2,
[ERROR] :    "column": 10,
[ERROR] :    "message": "Error while require(/app) Error while require(alloy) Can't find variable: OS_BLACKBERRY",
[ERROR] :    "native_stack": [
[ERROR] :      "JSExportClass&lt;class Titanium::GlobalObject&gt;::CallNamedFunction"
[ERROR] :    ]
[ERROR] :  }
</pre></code>

<h4>Steps to reproduce </h4>

1. Create an Alloy app using <code>appc new</code>
2. Build the app to Windows Platform using <code>appc run -p windows</code>

<h4>Actual Result </h4>

App crashes with the below 


<code><pre>
[ERROR] :  Application Error: {
[ERROR] :    "line": 2,
[ERROR] :    "column": 10,
[ERROR] :    "message": "Error while require(/app) Error while require(alloy) Can't find variable: OS_BLACKBERRY",
[ERROR] :    "native_stack": [
[ERROR] :      "JSExportClass&lt;class Titanium::GlobalObject&gt;::CallNamedFunction"
[ERROR] :    ]
[ERROR] :  }
</pre></code>

<h4>Expected result</h4>

App should not crash

<h3>Comments</h3>

<ol>
<li>Feon Sua Xin Miao 2015-11-17

   PR: <a href="https://github.com/appcelerator/alloy/pull/740" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/740</a></li>
<li>Chee Kiat Ng 2015-11-17

   PR merged.</li>
<li>Ewan Harris 2015-11-17

   Verified using:
   
   OS: Microsoft Windows 10 Pro 10.0.10240
   Appc core: 5.1.0-60 (Alloy 1.7.26)
   Appc NPM: 4.2.1
   Ti SDK: 5.1.0.v20151116164430
   Appc Studio: 4.4.0.201511130407
   Node: v4.2.1
   NPM: 2.14.7
   
   Alloy apps no longer crash on launch
   
   Closing ticket</li>
</ol>


<p><a href="/ALOY/ALOY-1331.json">JSON Source</a></p>