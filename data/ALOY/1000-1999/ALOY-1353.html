---
title: "[ALOY-1353] Annotation doesn't appear in only Alloy Map"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2016-02-19T23:23:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.1.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Stefano Zanellato</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2016-02-04T09:44:35.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-07T22:28:28.000+0000</td></tr>
</table>

<h3>Description</h3>

I followed this example:

<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Modules.Map-method-createAnnotation

but if i create the map with Alloy, the map is ok but the annotation doesn't appear. With this example (no Alloy) all work well:

<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/iOS_Map_Kit

i think there are a bug with annotation in Alloy.

<h3>Comments</h3>

<ol>
<li>Jebun Naher 2016-02-04

   Hello,
   
   We tested and observed the same behavior. Map annotation is not showing properly.
   
   *Testing environment:*
   Appcelerator Studio, build: 4.4.0.201511241829
   Appcelerator Command-Line Interface, version 5.1.0
   Titanium Command-Line Interface, CLI version 5.0.5, 
   Titanium SDK version : 5.1.2 GA
   Mac OS X : 10.11.1 (EI Capitan)
   Android device: Nexus 7(android version 6)
   
   *Test Code:*
   *alloy.js*
   <code><pre>
   Alloy.Globals.Map = require('ti.map');
   </pre></code>
   
   *index.xml*
   <code><pre>
   &lt;Alloy&gt;
       &lt;Window&gt;
           &lt;View id="mapview" module="ti.map" onClick="report"&gt;
               &lt;!-- Starting with Alloy 1.4.0, use the Annotation tag to define an annotation --&gt;
               &lt;!-- Prior to Alloy 1.4.0, create annotations in the controller --&gt;
               &lt;Annotation id='appcHQ' myid='1' /&gt;
           &lt;/View&gt;
       &lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   *index.js*
   <code><pre>
   function report(evt) {
       Ti.API.info("Annotation " + evt.title + " clicked, id: " + evt.annotation.myid);
   }
   
   $.index.open();
   Defined By
   
   </pre></code>
   *index.tss*
   <code><pre>
   "#mapview" : {
       region : {
           latitude:33.74511,
           longitude:-84.38993,
           latitudeDelta:0.01,
           longitudeDelta:0.01
       }
   },
   "#appcHQ" : {
       latitude: 37.390749,
       longitude: -122.081651,
       title: "Appcelerator Headquarters",
       subtitle: "Mountain View, CA",
       pincolor: Alloy.Globals.Map.ANNOTATION_RED
   }
   </pre></code>
   
   *Steps to test:*
   Run above code and observe that map annotation is not showing.
   
   *Expected:*
   Map annotation should be visible
   
   Thanks.</li>
<li>Feon Sua Xin Miao 2016-02-19

   The pin is way off the visible region of the map, also <code>Module</code> tag should be used.
   Try this one:
   
   <h4>index.xml</h4>
   <code><pre>
   &lt;Alloy&gt;
   	&lt;Window class="container"&gt;
   		&lt;Module id="mapview" module="ti.map" method="createView"&gt;
   			&lt;Annotation id="appcHQ" myid="1"/&gt;
   		&lt;/Module&gt;
   	&lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   <h4>index.tss</h4>
   <code><pre>
   "#mapview" : {
       region : {
   		latitude: 37.38,
   		longitude: -122.05,
   		latitudeDelta: 0.1,
   		longitudeDelta: 0.1
   	},
   	mapType: Alloy.Globals.Map.NORMAL_TYPE,
   },
   "#appcHQ": {
   	latitude:37.390749,
   	longitude:-122.081651,
   	title: "Appcelerator Headquarters",
   	subtitle: "Mountain View, CA",
   	pincolor: Alloy.Globals.Map.ANNOTATION_PURPLE
   }
   </pre></code>
   </li>
<li>David Call 2017-06-07

   This may not be a bug in the Module however, there does seem to be an error in the documentation, because it's example shows using a "View" tag instead of the "Module" tag.</li>
<li>Eric Merriman  2018-03-07

   Closing as invalid. If this is incorrect, please reopen.</li>
</ol>


<p><a href="/ALOY/ALOY-1353.json">JSON Source</a></p>