---
title: "[ALOY-1355] Alloy doesn't cast "true"/"false" attributes as booleans"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-02-16T18:02:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.1.2</td></tr>
<tr><th>Fix Version/s</th><td>alloy 1.7.33, alloy 1.7.34</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>mobileweb, newline, suppressReturn, textarea</td></tr>
<tr><th>Reporter</th><td>Max Navsii</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-02-14T20:15:55.000+0000</td></tr>
<tr><th>Updated</th><td>2016-06-03T16:20:30.000+0000</td></tr>
</table>

<h3>Description</h3>

Textarea does not want to add a new line when I'm pressing return key (from my keyboard) when I run the application as a "Mobile Web Preview in Browser". However it works great when running in an Android Emulator.

Steps to reproduce :

1) Create a new project (use the "Two-Tabbed Alloy Application" sample)
2) In the project, replace index.xml with the one in the attachment files.
3) Run the application as a Mobile Web Preview in Browser
4) Try to type in the textarea, and push return key from your keyboard
5) It will loose focus instead of adding a new line.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1355_45945/index.xml">index.xml</td></td><td>2014-02-14T20:15:55.000+0000</td><td>676</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-02-18

   Moving this ticket to engineering as the provided sample works fine with iOS application but does not work with Mobile Web application (tried with Studio in-built browser as well as Safari).</li>
<li>Dirlei Dion√≠sio 2016-02-05

   I realize that the problem only happens with Alloy when I define [suppressReturn="false"] on the XML file. In this case, the generated .js file (in Resources folder) has a [suppressReturn: "false"] (with quotes) that is evaluated as true by the JavaScript interpreter. The same happens if I define [suppressReturn=false] (without quotes) on a xml.
   
   When I define [suppressReturn: false] on the .tss file, the generated .js file have a [suppressReturn: false] (without quotes) and all works as expected.</li>
<li>Chris Barber 2016-02-12

   PR: <a href="https://github.com/appcelerator/alloy/pull/756" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/756</a>
   
   This fix may cause other issues. Since Alloy doesn't know the data types of each attribute, it simply will have to check if the string value equals "true" or "false", then cast as a boolean. We should add a proper fix in a future Alloy release.</li>
<li>Fokke Zandbergen 2016-02-16

   [~cb1kenobi] alternatively, we could let Alloy use a fork of the xmldom package we use and only cast these types when no quotes are used, which <code>sax.js</code> handles here:
   
   <a href="https://github.com/jindw/xmldom/blob/master/sax.js#L270" rel="nofollow" target="_blank">https://github.com/jindw/xmldom/blob/master/sax.js#L270</a>
   <a href="https://github.com/jindw/xmldom/blob/master/sax.js#L298" rel="nofollow" target="_blank">https://github.com/jindw/xmldom/blob/master/sax.js#L298</a></li>
<li>Chris Barber 2016-02-16

   [~fokkezb] I don't want to use a fork of xmldom, especially since I'm going to be tackling the Alloy build soon.</li>
<li>Fokke Zandbergen 2016-02-16

   Fair enough :)</li>
</ol>


<p><a href="/ALOY/ALOY-1355.json">JSON Source</a></p>