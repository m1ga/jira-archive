---
title: "[ALOY-1480] Bug/Regression: Data binding always returns string values"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-04-24T01:31:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.5.0, alloy 1.8.1, alloy 1.8.5</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.4.0, alloy 1.9.0, alloy 1.9.1</td></tr>
<tr><th>Components</th><td>Models</td></tr>
<tr><th>Labels</th><td>alloy, qe-5.4.0</td></tr>
<tr><th>Reporter</th><td>Andrea Vitale</td></tr>
<tr><th>Assignee</th><td>Fokke Zandbergen</td></tr>
<tr><th>Created</th><td>2016-03-31T09:03:15.000+0000</td></tr>
<tr><th>Updated</th><td>2018-05-01T20:19:48.000+0000</td></tr>
</table>

<h3>Description</h3>

For ALOY-443 (Alloy 1.5.0) we started to use <code>_.template()</code> for complex model data binding.

With ALOY-1368 and ALOY-1369 we also adopted this method for complex collection data binding.

Since <code>_.template()</code> always returns a string, it doesn't work for binding objects, e.g. an attributedString as the attached test case:

<code><pre>
<Alloy>
	<Collection src="source" />
	<Window class="container">
		<ListView id="List" defaultItemTemplate="test" top="30">
			<Templates>
				<ItemTemplate name="test" height="50">
					<View height="Ti.UI.SIZE" layout="vertical">
						<Label id="simpleTestLabel" bindId="simpleTestLabel"></Label>
						<Label id="attributedTestLabel" bindId="attributedTestLabel" top="5"></Label>
					</View>
				</ItemTemplate>
			</Templates>
			<ListSection dataCollection="source" dataTransform="transform">
				<ListItem simpleTestLabel:text="{simple}" attributedTestLabel:attributedString="{attributedString}"></ListItem>
			</ListSection>
		</ListView>
	</Window>
</Alloy>
</pre></code>

<h4>Original description</h4>

Just tested that, using alloy v1.8.2 and v1.8.5 I was unable to set the <code>attributedString</code> property via a <code>ListItem</code> template.
Using alloy 1.7.35 everything is working fine.

I attach a simple test project that contains a <code>ListView</code> with a template composed by two labels.
On the first label I set the <code>text</code> property with a simple model string and on the second one i set the <code>attributedString</code>.

For the first label everything is working correctly (as expected) and for the second one is working only using v1.7.35 of alloy.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/ALOY/ALOY-1480_58776/attributed-string-alloy-test.zip">attributed-string-alloy-test.zip</td></td><td>2016-03-31T09:00:45.000+0000</td><td>10480092</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2016-03-31

   Combined PR for ALOY-1478, ALOY-1480, ALOY-1481 and ALOY-1482:
   <a href="https://github.com/appcelerator/alloy/pull/780" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/780</a></li>
<li>Fokke Zandbergen 2016-03-31

   [~bimmel] could you list this as a known issue for Alloy 1.8.5 (since that will ship with CLI 5.2.2) ?</li>
<li>(deactived) Brian Immel 2016-03-31

   [~fokkezb], Not a problem.</li>
<li>Feon Sua Xin Miao 2016-04-24

   PR merged.</li>
<li>Josh Longton 2016-07-08

   Verified as fixed.
   Tested on: 
   iPhone 6 (9.1)
   iOS Simulator (9.3)
   Android emulator (6.0) 
    Mac OSX El Capitan 10.11.5
   Studio: 4.7.0.201607070843
    Ti SDK: 5.4.0.v20160705213725
    Appc NPM: 4.2.8-1
   Appc CLI: 5.4.0-29
    Xcode 7.3.1
   Node v4.4.4
   * Closing Ticket*</li>
</ol>


<p><a href="/ALOY/ALOY-1480.json">JSON Source</a></p>