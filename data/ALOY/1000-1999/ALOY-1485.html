---
title: "[ALOY-1485] Warning on relocation of platform folder confusing if it contains only one platform"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>alloy 1.8.0, alloy 1.8.5</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2016-04-01T14:00:56.000+0000</td></tr>
<tr><th>Updated</th><td>2016-04-01T14:05:41.000+0000</td></tr>
</table>

<h3>Description</h3>

Take the following scenario:

<h4>I have an Alloy app that targets iOS and Android but only has a <code>/platform/android</code>, no <code>/platform/ios</code>.</h4>
<h4>I upgraden from Alloy 1.7.35 to 1.8.0, which includes ALOY-1365.</h4>
<h4>I continue to work on the iOS version of my app and get a warning to add <code>/platform</code> to my <code>.gitignore</code> file. Weird, because </h4>
why would I stop versioning that if it contains important stuff for Android?
<h4>After a while I switch to work on the Android version and it says:</h4>

<code><pre>
[ERROR] Detected legacy "/platform" directory in project directory.
[ERROR] Please move the "/platform" directory to "/app/platform" for Alloy 1.8.0 or later.
[ERROR] Alloy compiler failed
</pre></code>

This is confusing because didn't I work on my iOS app successfully using Alloy 1.8.0 without having moved the folder?

Also, when I'd now move <code>/i18n</code> to <code>/app/i18n</code> as it suggests it would now also include an <code>ios</code> folder which contains a <code>alloy_generated</code> file.

I think it would be better to do the check (and have the <code>alloy_generated</code> file in the root of <code>/platform</code> and not in the platform folders. It would then:

* Already have failed to build when I started working on IOS after the upgrade.
* The warning would not be confusing since it would only show on the second build after dealing with...
* The error would not be confusing since it is about the root folder and not the platform one.
* The <code>/platform/ios</code> would not have been generated, easing the relocation.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/ALOY/ALOY-1485.json">JSON Source</a></p>