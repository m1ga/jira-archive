{
	"id": "159895",
	"key": "ALOY-1504",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "11113",
			"key": "ALOY",
			"name": "Alloy",
			"projectCategory": {
				"id": "10400",
				"description": "Tools for developing applications",
				"name": "Tooling"
			}
		},
		"fixVersions": [
			{
				"id": "19280",
				"name": "Release 6.2.0",
				"archived": false,
				"released": true
			},
			{
				"id": "19365",
				"name": "alloy 1.9.10",
				"archived": false,
				"released": true,
				"releaseDate": "2017-04-03"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2017-04-03T20:57:08.000+0000",
		"created": "2016-04-29T14:13:59.000+0000",
		"priority": {
			"name": "Critical",
			"id": "1"
		},
		"labels": [
			"Alloy",
			"Alloy_is_not_defined",
			"Push_Notification"
		],
		"versions": [],
		"issuelinks": [],
		"assignee": {
			"name": "fmiao",
			"key": "fmiao",
			"displayName": "Feon Sua Xin Miao",
			"active": true,
			"timeZone": "America/Vancouver"
		},
		"updated": "2017-09-25T16:27:32.000+0000",
		"status": {
			"description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
			"name": "Resolved",
			"id": "5",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "13610",
				"name": "Builtins",
				"description": "Builtin Javascript libraries"
			}
		],
		"description": "I have an Android project integrated with _iamyellow.net_ Push Notification module.\r\n\r\nErroneous scenario generated by following steps.\r\n1. App is closed manually in background \r\n2. There is a notification in notification bar for the app\r\n3. App is opened by tapping on the notification.\r\n4. An error with \"Alloy is not defined\", sourced build/android/assets/alloy.js, is appeared.\r\nPlease refer screenshot in attachment.\r\n5. App sticks at default screen after receiving error.\r\n\r\nPlease consider this as high priority issue.\r\n\r\nRegards.",
		"attachment": [
			{
				"id": "59106",
				"filename": "alloy.js",
				"author": {
					"name": "appceleratorInvestis",
					"key": "appceleratorinvestis",
					"displayName": "Investis",
					"active": true,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2016-04-29T14:10:19.000+0000",
				"size": 11121,
				"mimeType": "application/x-javascript"
			},
			{
				"id": "59107",
				"filename": "GetFileAttachment.png",
				"author": {
					"name": "appceleratorInvestis",
					"key": "appceleratorinvestis",
					"displayName": "Investis",
					"active": true,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2016-04-29T14:10:11.000+0000",
				"size": 89241,
				"mimeType": "image/png"
			}
		],
		"flagged": false,
		"summary": "ERROR: Alloy is not defined",
		"creator": {
			"name": "appceleratorInvestis",
			"key": "appceleratorinvestis",
			"displayName": "Investis",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"subtasks": [],
		"reporter": {
			"name": "appceleratorInvestis",
			"key": "appceleratorinvestis",
			"displayName": "Investis",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"environment": "SDK version 5.2.2\r\ncli version 5.1.0\r\nMac mini mid 2010\r\nMac OS El Caption\r\nProcessor 2.4GHz Intel Core 2 Duo\r\nRam 4 GB 1067MHz DDR3",
		"closedSprints": [
			{
				"id": 864,
				"state": "closed",
				"name": "2017 Sprint 07 Tooling",
				"startDate": "2017-03-26T22:02:46.538Z",
				"endDate": "2017-04-09T22:02:00.000Z",
				"completeDate": "2017-04-10T15:38:31.332Z",
				"originBoardId": 199
			}
		],
		"comment": {
			"comments": [
				{
					"id": "384326",
					"author": {
						"name": "sdarda",
						"key": "sdarda",
						"displayName": "Sharif AbuDarda",
						"active": false,
						"timeZone": "Asia/Dhaka"
					},
					"body": "Hello, The issue is with this line of code in the alloy.js \r\n\r\n{code}\r\nif (style.queries && style.queries.formFactor && !Alloy[style.queries.formFactor]) continue;\r\n{code}\r\n\r\nHere, Alloy as a variable is not defined. It will be helpful for you if you query in iamyellow.net website. My suggestion would be using cloudpush module for push notification with Appcelerator.\r\n\r\nRegards,\r\nSharif.",
					"updateAuthor": {
						"name": "sdarda",
						"key": "sdarda",
						"displayName": "Sharif AbuDarda",
						"active": false,
						"timeZone": "Asia/Dhaka"
					},
					"created": "2016-04-29T14:34:17.000+0000",
					"updated": "2016-04-29T14:34:17.000+0000"
				},
				{
					"id": "384352",
					"author": {
						"name": "thebrousse",
						"key": "thebrousse",
						"displayName": "Christian Brousseau",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "Sorry to say this [~sdarda], but how is using another module a viable solution to an actual Alloy bug?\r\n\r\nThis isn't Stack Overflow where people are just _asking for ways_ to get around their problems.\r\n\r\nThis is an actual ticket, raised by +a paying customer+, so it is not unreasonable to expect your responses to take this into consideration.",
					"updateAuthor": {
						"name": "thebrousse",
						"key": "thebrousse",
						"displayName": "Christian Brousseau",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2016-04-29T18:10:56.000+0000",
					"updated": "2016-04-29T18:10:56.000+0000"
				},
				{
					"id": "384715",
					"author": {
						"name": "appceleratorInvestis",
						"key": "appceleratorinvestis",
						"displayName": "Investis",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Hello,\r\n\r\nThis is extremely urgent at our end to get this issue resolved asap.\r\n\r\nCan someone please help here to resolve this issue.\r\n\r\nRegards",
					"updateAuthor": {
						"name": "appceleratorInvestis",
						"key": "appceleratorinvestis",
						"displayName": "Investis",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-05-04T13:14:41.000+0000",
					"updated": "2016-05-04T13:14:41.000+0000"
				},
				{
					"id": "384732",
					"author": {
						"name": "sdarda",
						"key": "sdarda",
						"displayName": "Sharif AbuDarda",
						"active": false,
						"timeZone": "Asia/Dhaka"
					},
					"body": "Hello, \r\n\r\nThe issue is with the alloy.js code. Can you please tell me where did you get the code. Is it provided by the iamyellow.net? If so, Maybe they can help you out. Thay are an independent company providing push notification support. Please contact their support person. We are also looking into it.\r\n\r\nRegards,\r\nSharif.",
					"updateAuthor": {
						"name": "sdarda",
						"key": "sdarda",
						"displayName": "Sharif AbuDarda",
						"active": false,
						"timeZone": "Asia/Dhaka"
					},
					"created": "2016-05-04T15:10:47.000+0000",
					"updated": "2016-05-04T15:10:47.000+0000"
				},
				{
					"id": "384754",
					"author": {
						"name": "appceleratorInvestis",
						"key": "appceleratorinvestis",
						"displayName": "Investis",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Hi Sharif,\r\n\r\nRe - alloy.js , I have also mentioned the location of the file in (if you can review point 4) when I have registered bug ticket.\r\n\r\nalloy.js placed at *build/android/assets/alloy.js*. this file is being added with few functions by appcelerator studio at build time.\r\n\r\nThere is a function _*exports.createStyle*_ in alloy.js, which has a condition as per the screenshot and causing the error when opening the app from a push notification. \r\n\r\nPlease review _*exports.createStyle*_  function in attached alloy.js file with this ticket.\r\n\r\nI hope this would be helpful for further investigation.\r\n\r\nRegards,",
					"updateAuthor": {
						"name": "appceleratorInvestis",
						"key": "appceleratorinvestis",
						"displayName": "Investis",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-05-04T18:03:22.000+0000",
					"updated": "2016-05-04T18:03:22.000+0000"
				},
				{
					"id": "384845",
					"author": {
						"name": "fmiao",
						"key": "fmiao",
						"displayName": "Feon Sua Xin Miao",
						"active": true,
						"timeZone": "America/Vancouver"
					},
					"body": "After the app starts, {{Alloy}} is one of the globals which should be accessible by {{alloy.js}} the core builtin client library.\r\n\r\nIt looks like there might be an issue when the app is put in the background, then brought to the foreground. Probably the activities are being recreated?  We'll look into this.\r\n\r\nIn the mean time, one question: do you still see the same error if you kill the app and launch it again?",
					"updateAuthor": {
						"name": "fmiao",
						"key": "fmiao",
						"displayName": "Feon Sua Xin Miao",
						"active": true,
						"timeZone": "America/Vancouver"
					},
					"created": "2016-05-05T13:38:17.000+0000",
					"updated": "2016-05-05T13:44:02.000+0000"
				},
				{
					"id": "388187",
					"author": {
						"name": "azamouchi",
						"key": "azamouchi",
						"displayName": "Ayoub Zamouchi",
						"active": true,
						"timeZone": "Africa/Lagos"
					},
					"body": "Facing the same issue here, the error appear only when the app is killed, and launched via the click on the received push notification.",
					"updateAuthor": {
						"name": "azamouchi",
						"key": "azamouchi",
						"displayName": "Ayoub Zamouchi",
						"active": true,
						"timeZone": "Africa/Lagos"
					},
					"created": "2016-06-13T07:14:39.000+0000",
					"updated": "2016-06-13T07:22:55.000+0000"
				},
				{
					"id": "392186",
					"author": {
						"name": "jonasfunk",
						"key": "jonasfunk",
						"displayName": "Jonas Funk Johannessen",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Same here. Using this module though: https://github.com/morinel/gcmpush",
					"updateAuthor": {
						"name": "jonasfunk",
						"key": "jonasfunk",
						"displayName": "Jonas Funk Johannessen",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-08-02T09:18:20.000+0000",
					"updated": "2016-08-02T09:18:20.000+0000"
				},
				{
					"id": "393501",
					"author": {
						"name": "jonasfunk",
						"key": "jonasfunk",
						"displayName": "Jonas Funk Johannessen",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Is there any way to fix this temporarily, while we wait for a fix? For the missing Alloy references in lib-files, we can just do a require('alloy'), but as it is now, we are forced to remove all Alloy references in our tss-files. This is an extensive operation, that we would like to avoid.",
					"updateAuthor": {
						"name": "jonasfunk",
						"key": "jonasfunk",
						"displayName": "Jonas Funk Johannessen",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-08-18T11:49:09.000+0000",
					"updated": "2016-08-18T11:49:09.000+0000"
				},
				{
					"id": "396624",
					"author": {
						"name": "jknight@sbmcorp.com",
						"key": "jknight@sbmcorp.com",
						"displayName": "Jason Knight",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "This has been an obstruction for us and the source of multiple deadline push backs.  We hope this issue can be moved up the queue of tasks.\r\n\r\n",
					"updateAuthor": {
						"name": "jknight@sbmcorp.com",
						"key": "jknight@sbmcorp.com",
						"displayName": "Jason Knight",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-09-20T07:05:57.000+0000",
					"updated": "2016-09-20T07:05:57.000+0000"
				},
				{
					"id": "409606",
					"author": {
						"name": "fmiao",
						"key": "fmiao",
						"displayName": "Feon Sua Xin Miao",
						"active": true,
						"timeZone": "America/Vancouver"
					},
					"body": "PR: https://github.com/appcelerator/alloy/pull/819",
					"updateAuthor": {
						"name": "fmiao",
						"key": "fmiao",
						"displayName": "Feon Sua Xin Miao",
						"active": true,
						"timeZone": "America/Vancouver"
					},
					"created": "2017-03-07T19:56:45.000+0000",
					"updated": "2017-03-07T19:56:45.000+0000"
				},
				{
					"id": "428360",
					"author": {
						"name": "bwang@metroland",
						"key": "bwang@metroland",
						"displayName": "Bo Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Hi I am facing the same error some times on starting up the app. Which alloy.js file do I apply the changes to? I couldn't find the code need to be corrected in the alloy.js within the project. Could anybody help? I currently could not update Appcelerator, because the latest SDK 6.2.1 and 6.2.2 breaks my UI. I just want to fix this issue and release a stable version of our APP.",
					"updateAuthor": {
						"name": "bwang@metroland",
						"key": "bwang@metroland",
						"displayName": "Bo Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-09-22T21:31:44.000+0000",
					"updated": "2017-09-22T21:31:44.000+0000"
				},
				{
					"id": "428361",
					"author": {
						"name": "fmiao",
						"key": "fmiao",
						"displayName": "Feon Sua Xin Miao",
						"active": true,
						"timeZone": "America/Vancouver"
					},
					"body": "[~bwang@metroland], which version of Appc CLI are you using? The fix should be in latest CLI 6.2.3, it's independent of titanium SDK.",
					"updateAuthor": {
						"name": "fmiao",
						"key": "fmiao",
						"displayName": "Feon Sua Xin Miao",
						"active": true,
						"timeZone": "America/Vancouver"
					},
					"created": "2017-09-22T21:38:10.000+0000",
					"updated": "2017-09-22T21:40:41.000+0000"
				},
				{
					"id": "428414",
					"author": {
						"name": "bwang@metroland",
						"key": "bwang@metroland",
						"displayName": "Bo Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "@Feon Sua Xin Miao, my appc -v shows 6.2.4 . Does that mean I just need to build in latest Appcelerator Studio, and use the previous Titanium SDK. The error should be gone? ",
					"updateAuthor": {
						"name": "bwang@metroland",
						"key": "bwang@metroland",
						"displayName": "Bo Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-09-25T16:27:32.000+0000",
					"updated": "2017-09-25T16:27:32.000+0000"
				}
			],
			"maxResults": 15,
			"total": 15,
			"startAt": 0
		}
	}
}