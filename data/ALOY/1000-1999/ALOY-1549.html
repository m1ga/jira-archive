---
title: "[ALOY-1549] Remove autoloading of index controller from Alloy.js"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 2.0.0</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>alloy.js, app.js, createController, index</td></tr>
<tr><th>Reporter</th><td>Creative</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2017-02-07T13:09:56.000+0000</td></tr>
<tr><th>Updated</th><td>2020-01-31T12:13:59.000+0000</td></tr>
</table>

<h3>Description</h3>

During compilation, Alloy apparently appends a line named "Alloy.createController('index');" to the alloy.js file. We should remove any magic like this and make it visible/editable by the user. 

Use cases:
- Run a different controller than index.js
- Run unit tests before loading anything else
- Run no controller at all but run a different setup (like keeping the splash screen on and doing stuff which does not require user interaction)

<h3>Comments</h3>

<ol>
<li>Creative 2017-02-07

   <a href="https://github.com/appcelerator/alloy/pull/815" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/815</a></li>
<li>Sharif AbuDarda 2017-02-08

   Thanks for creating the ticket and the PR. Our engineers will consider it. Moving to TIMOB.</li>
<li>Brenton House 2020-01-30

   I currently use "main" to define the primary entry point for the application (similar to what Node.js does in package.json) . <a href="https://docs.npmjs.com/files/package.json#main" rel="nofollow" target="_blank">https://docs.npmjs.com/files/package.json#main</a>
   
   We can either use the existing "main" property in package.json or use a "main" property in config.json.   </li>
<li>Ewan Harris 2020-01-31

   That's a pretty nice solution [~bhouse], maybe rather than completely changing this and moving it to the alloy.js file. We could look at allowing it to be configured using something like the following:
   
   1. Prefer main in config.json
   2. Fallback to main in package.json
   3. If nothing else exists we maintain the <code>Alloy.createController('index');</code>
   
   I'd imagine we should still consider this a breaking change though just incase folks are using main in package.json/config.json already</li>
</ol>


<p><a href="/ALOY/ALOY-1549.json">JSON Source</a></p>