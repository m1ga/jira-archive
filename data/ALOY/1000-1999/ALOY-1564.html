---
title: "[ALOY-1564] Broken Require data-binding event translation. Custom events on Required views are being applied to the required root View instead of the required Controller itself, causing an error."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-08-17T03:33:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>CLI Release 6.2.4</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Brian Garc√≠a</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2017-05-22T12:35:55.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-17T03:34:07.000+0000</td></tr>
</table>

<h3>Description</h3>

When requiring a view with data binding, for instance: 

<code><pre>
&lt;ScrollView dataCollection="clclients" layout="vertical" class="Size"&gt;
            &lt;Label text="{name}" class="header Size" top="10"/&gt;
            &lt;Require src="products" name="{name}" onClick="doSomething" type="view"/&gt;
        &lt;/ScrollView&gt;
</pre></code>

 the following errors is firing:

<code><pre>
[ERROR] :  Script Error {
[ERROR] :      column = 18;
[ERROR] :      line = 40;
[ERROR] :      message = "undefined is not a function (evaluating '__alloyId146.getViewEx({\n                recurse: true\n            }).on(\"click\", doSomething)')";
[ERROR] :      stack = "__alloyId148\ntriggerEvents\ntrigger\n_onModelEvent\ntriggerEvents\ntrigger\nset\nsuccess\n\nonload";
[ERROR] :  }
</pre></code>


due to this processed code:

<code><pre>
 doSomething ? __alloyId146.getViewEx({
                recurse: true
            }).on("click", doSomething) : __defers["__alloyId146.getViewEx({recurse:true})!click! doSomething"] = true;
</pre></code>

which should be:

<code><pre>
doSomething ? __alloyId146.on("click", doSomething) : __defers["__alloyId146!click! doSomething"] = true;
</pre></code>

<h3>Comments</h3>

<ol>
<li>Feon Sua Xin Miao 2017-07-27

   PR: <a href="https://github.com/appcelerator/alloy/pull/840" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/840</a></li>
</ol>


<p><a href="/ALOY/ALOY-1564.json">JSON Source</a></p>