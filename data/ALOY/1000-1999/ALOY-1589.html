---
title: "[ALOY-1589] ListItem having a Label with AttributedString is not working"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2017-11-20T18:39:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>ankur garha</td></tr>
<tr><th>Assignee</th><td>Bruce Wayne</td></tr>
<tr><th>Created</th><td>2017-09-24T06:05:34.000+0000</td></tr>
<tr><th>Updated</th><td>2018-07-27T12:19:04.000+0000</td></tr>
</table>

<h3>Description</h3>

<code><pre>
&lt;ListView id="listView" defaultItemTemplate="result"&gt;
  &lt;Templates&gt;
    &lt;ItemTemplate name="result"&gt;
        &lt;Label  bindId="title" id="title" /&gt;
    &lt;/ItemTemplate&gt;
  &lt;/Templates&gt;
  &lt;ListSection id="section"&gt;&lt;/ListSection&gt;
&lt;/ListView&gt;
</pre></code>




<code><pre>
var snippet = "Test string";
var formatter = Ti.UI.createAttributedString({
  text : snippet,
  attributes : [{
    type : Titanium.UI.ATTRIBUTE_FOREGROUND_COLOR,
    value : 'red',
    range : [0, 4]
  }]
});

var item = {
  snippet : {
    text : snippet,
    attributedString : formatter
  },
  properties : {
    accessoryType : Titanium.UI.LIST_ACCESSORY_TYPE_NONE
  },
};
 
$.section.appendItems([item]);

</pre></code>

<code><pre>
It's always giving an error like this :-
[ERROR] :  Script Error: {
[ERROR] :      column = 32;
[ERROR] :      line = 223;
[ERROR] :      message = "Invalid type passed to function";
[ERROR] :      nativeLocation = "-[TiUILabel setAttributedString_:] (TiUILabel.m:491)";
[ERROR] :      nativeReason = "expected: TiUIAttributedStringProxy, was: NSNull";
[ERROR] :      stack = "[native code]\nrefresh\nController\ncreateController\ngoToInspectionPanel\n";
[ERROR] :  }
</pre></code>




<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1589_63572/Simulator Screen Shot - iPhone 7 Plus - 2017-11-09 at 12.48.59.png">Simulator Screen Shot - iPhone 7 Plus - 2017-11-09 at 12.48.59.png</td></td><td>2017-11-09T20:49:49.000+0000</td><td>70709</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2017-09-24

   Looks related to AC-1009 which was resolved by the creator of the ticket. Please ensure you cleaned your build-directory and watch out for possible typos. If it's still not working after that, we can move it to the Alloy-space, thx!</li>
<li>Sharif AbuDarda 2017-10-15

   Hello [~speedyankur@gmail.com], Can you please follow up on [~hknoechel], comment above? Let us know if you have done the things properly. Thanks.</li>
<li>Sharif AbuDarda 2017-10-31

   Hello [~speedyankur@gmail.com], Any update on your issue?</li>
<li>ankur garha 2017-11-01

   No its still not working for me.</li>
<li>Feon Sua Xin Miao 2017-11-09

   Works for me with SDK 6.3.0.GA, CLI 6.3.0. Above test app launched with no error, please see attached screen shot.</li>
<li>Feon Sua Xin Miao 2017-11-20

   Please reopen with more information if occurs. </li>
<li>Jonas Funk Johannessen 2018-07-27

   Using 7.1.1.GA the error is reproducible if template with a Ti.UI.TextArea is set with Ti.UI.AttributedString in one Ti.UI.ListItem and plain string value in another. </li>
</ol>


<p><a href="/ALOY/ALOY-1589.json">JSON Source</a></p>