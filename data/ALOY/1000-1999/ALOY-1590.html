---
title: "[ALOY-1590] Android: OS_IOS assigned to a variable causes a crash."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-11-09T22:39:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>CLI Release 7.0.0</td></tr>
<tr><th>Components</th><td>Runtime</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Joshua A. Ceaser</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2017-11-07T17:36:12.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-09T23:01:41.000+0000</td></tr>
</table>

<h3>Description</h3>

When opening a window if the controller has a variable assigned eg. var ANIMATION = OS_IOS; on android the app will crash.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1590_63556/index.js">index.js</td></td><td>2017-11-07T17:38:49.000+0000</td><td>67</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mostafizur Rahman 2017-11-08

   Hello [~jceaser],
   Thanks for sharing with us. Can you please visit this  [link](<a href="https://gist.github.com/rakhimoni/a801f624bc838da0e303a0a3589d8f16)" rel="nofollow" target="_blank">https://gist.github.com/rakhimoni/a801f624bc838da0e303a0a3589d8f16)</a> , test the sample code on iOS platform and let us know the results.</li>
<li>Hans Knöchel 2017-11-08

   The <code>OS_IOS</code>, <code>OS_ANDROID</code> and <code>OS_WINDOWS</code> variables are used by the compiler and resolved to classic Titanium code at build-time, so there are not supposed to be assigned to variables, just like the <code>@available(iOS 11.0,*)</code> flag in Swift. [~fmiao] to confirm, but I don't think this is something we should fix.</li>
<li>Joshua A. Ceaser 2017-11-08

   Why would it work prior to 6.3?</li>
<li>Hans Knöchel 2017-11-08

   [~jceaser] That makes it to a different thing :-) Unfortunately, you didn't provide any context so we could only guess. Please attach your full environment (including Alloy- and Appc-CLI-version).</li>
<li>Joshua A. Ceaser 2017-11-08

   Sorry about that, I created the ticket too fast. What information do you need about my environment?</li>
<li>Joshua A. Ceaser 2017-11-08

   I was using 6.3.0.GA when I got this error
   
   Appcelerator Command-Line Interface, version 6.3.0
   Copyright (c) 2014-2017, Appcelerator, Inc.  All Rights Reserved.
   
   Operating System
     Name                        = Mac OS X
     Version                     = 10.12.6
     Architecture                = 64bit
     # CPUs                      = 8
     Memory                      = 16.0GB
   
   Node.js
     Node.js Version             = 6.10.3
     npm Version                 = 3.10.10
   
   Titanium CLI
     CLI Version                 = 5.0.14
     node-appc Version           = 0.2.41</li>
<li>Feon Sua Xin Miao 2017-11-09

   PR: <a href="https://github.com/appcelerator/alloy/pull/858" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/858</a></li>
<li>Eric Wieber 2017-11-09

   FR Passed. Error is no longer present when using OS_IOS, OS_ANDROID, and OS_WINDOWS in variable assignment.</li>
</ol>


<p><a href="/ALOY/ALOY-1590.json">JSON Source</a></p>