---
title: "[ALOY-1595] alloy compile broken on node 9.3.0"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-01-30T16:46:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>CLI Release 7.0.3</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2017-12-14T12:10:13.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-23T22:21:26.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

<code>alloy compile</code> is currently broken on node 9.3.0 due to the deasync modules use of undocumented internal apis. We should look to either move away from deasync or fix the use of the internal apis in that module

Reference 

<a href="https://github.com/abbr/deasync/issues/89" rel="nofollow" target="_blank">https://github.com/abbr/deasync/issues/89</a>
<a href="https://github.com/nodejs/node/issues/17678" rel="nofollow" target="_blank">https://github.com/nodejs/node/issues/17678</a>

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2017-12-14

   This is fixed by <a href="https://github.com/abbr/deasync/commit/3638d542b6c0fece8d7ddf2a02d9bcd8b1109bcb" rel="nofollow" target="_blank">https://github.com/abbr/deasync/commit/3638d542b6c0fece8d7ddf2a02d9bcd8b1109bcb</a> but is still using node internals</li>
<li>Feon Sua Xin Miao 2017-12-18

   PR: <a href="https://github.com/appcelerator/alloy/pull/863" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/863</a>
   
   Alloy with deasync@0.1.12 has already be included in appc 7.0.1-5. This pr simply set the min version required.</li>
<li>Samir Mohammed 2018-03-23

   Closing ticket able to use alloy compile on (7.0.3-master.19)</li>
</ol>


<p><a href="/ALOY/ALOY-1595.json">JSON Source</a></p>