---
title: "[ALOY-1602] Avoid some global variables to be only available in parent controller."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-02-07T00:23:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>CLI Release 7.0.3</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hans Kn√∂chel</td></tr>
<tr><th>Assignee</th><td>Bruce Wayne</td></tr>
<tr><th>Created</th><td>2018-02-01T15:36:12.000+0000</td></tr>
<tr><th>Updated</th><td>2018-04-11T21:30:54.000+0000</td></tr>
</table>

<h3>Description</h3>

Quote from [Github](<a href="https://github.com/appcelerator/alloy/pull/859):" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/859):</a>
{quote}
I don't understand why it is necessary to remove "$model", "__parentSymbol" or "__itemTemplate" from the "arguments" variable.

This is causing issues when passing "$model" for example to a controller which is inheriting from another controller as per Alloy Controller Inheritance documentation (<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Alloy_Controllers-section-src-34636384_AlloyControllers-Inheritance).

If we delete it from there, only the parent will have "$model" properly set but the child controller won't as it's deleted from "arguments".

Another option would be to run "__processArg()" before calling the parent controller but this would mean only the child controller has <code>$model</code> properly set, it will be <code>null</code> for the parent one.

In order to reproduce:
<h4>index.js</h4>
Alloy.createController('child', \{ $model: aBackboneModelObject \});

<h4>parent.js</h4>
console.log(_.isNull($model)); // always return false
...

<h4>child.js</h4>
exports.baseController = "parent";
console.log(_.isNull($model)); // always return true

{quote}

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2018-02-07

   Is ALOY-897 no longer a problem? Checking git blame seems to show that's why this was done, I'm not well versed in widgets enough to know whether this is a known thing developers handle or not, the few widgets I checked on gitt.io seem to handle removing some of the properties</li>
<li>Lokesh Choudhary 2018-04-11

   Verified the fix in alloy 1.12.0 in core 7.0.3-master.36.
   
   Closing.
   
   </li>
</ol>


<p><a href="/ALOY/ALOY-1602.json">JSON Source</a></p>