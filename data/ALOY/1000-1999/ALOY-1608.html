---
title: "[ALOY-1608] Not possible to add elements on ti.map through alloy"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Titanium SDK</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Rene Pot</td></tr>
<tr><th>Assignee</th><td>Bruce Wayne</td></tr>
<tr><th>Created</th><td>2018-03-05T17:25:28.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-06T12:16:07.000+0000</td></tr>
</table>

<h3>Description</h3>

When adding a circle to ti.map using Alloy the code generated/compiled is incorrect as it calls the wrong method to add a circle to the map.

Sample XML:
<code><pre>
    	&lt;Module method="createView" module="ti.map" id="mapview" onClick="handleMapClick"&gt;
    	    
    		&lt;Annotation id="amsterdam"&gt;&lt;/Annotation&gt;
    		&lt;Annotation id="appcHQ"&gt;&lt;/Annotation&gt;
    		
    		&lt;Module module="ti.map" method="createCircle" id="mapCircle" /&gt;
    	&lt;/Module&gt;
</pre></code>

The same result was using 
<code><pre>
&lt;Circle module="ti.map" /&gt;
</pre></code>

This is compiled into 
<code><pre>

    $.__views.mapCircle = (require("ti.map").createCircle || Ti.UI.createCircle)({
        center : {
            latitude : 37.368122,
            longitude : -122.213653
        },
        radius : 500,
        fillColor : "#ff0000",
        strokeColor : "#000000",
        strokeWidth : 2,
        annotations : __alloyId196,
        id : "mapCircle"
    });

    $.__views.mapview.add($.__views.mapCircle); 
</pre></code>

There are 2 problems:

1) annotations shouldn't be added to the view
2) circle should be added to the map using addCircle

*This problem also exists with other methods, like polygons, polylines and routes.*

*Expected result*
Compiled code should use the addCircle/addPolygon/addRoute methods.

*Or!* circles, polygons polycircles and annotations should be added-able by using the _add()_ method.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/ALOY/ALOY-1608.json">JSON Source</a></p>