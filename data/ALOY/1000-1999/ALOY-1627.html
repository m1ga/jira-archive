---
title: "[ALOY-1627] Breakpoints not working on alloy apps"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-11-01T18:59:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Alloy 1.13.2</td></tr>
<tr><th>Fix Version/s</th><td>CLI Release 7.0.8</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>user_experience</td></tr>
<tr><th>Reporter</th><td>Seth Toda</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2015-08-25T22:40:33.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-01T18:59:14.000+0000</td></tr>
</table>

<h3>Description</h3>

Sprint noticed their their break points aren't working on conditions in their alloy apps. I've been able to verify this with my own testing on a fresh application. To clarify (➜ == break point):

<code><pre>
// This will not pause and the inner block runs
➜ if(true){ 
     console.log("hello Jay!"); 
} 

// This will pause 
if(true){ 
     ➜ console.log("hello Jay!"); 
}
</pre></code>

<h4>Steps to reproduce</h4>
1. Create a new alloy app within Appcelerator Studio
2. Add the above if statement with a breakpoint on the conditoin
3. Run in debugging mode

<h4>Expected</h4>
The code pauses on the if statement and doesn't call console.log()

<h4>Actual</h4>
The code is ran as if the breakpoint isn't there. 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1627_56531/breakpoint2.gif">breakpoint2.gif</td></td><td>2015-08-26T19:28:33.000+0000</td><td>203315</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1627_57647/native_android.png">native_android.png</td></td><td>2015-12-02T00:37:48.000+0000</td><td>109137</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1627_57646/native_android2.png">native_android2.png</td></td><td>2015-12-02T00:37:48.000+0000</td><td>109213</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/ALOY/ALOY-1627_56520/Screen Shot 2015-08-25 at 1.18.45 PM.png">Screen Shot 2015-08-25 at 1.18.45 PM.png</td></td><td>2015-08-25T22:38:19.000+0000</td><td>414594</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Seth Toda 2015-08-25

   [~pinnamuri], feel free to let me know if you need anything else from me.</li>
<li>Seth Toda 2015-08-26

   Just found that the breakpoint fails totally on the first build. But the second build works. </li>
<li>Seth Toda 2015-08-31

   [~pinnamuri], any ballpark I could get this scheduled?</li>
<li>Praveen Innamuri 2015-11-03

   [~kkolipaka] Can you take a look into this ?</li>
<li>Kondal Kolipaka 2015-11-03

   Looks like we are ignoring the break points for if conditions where condition value is already known at build time. Please find the snippet below for better understanding. And this happens only for alloy projects for iOS applications. It has to be fixed from iOS SDK end.
   
   <code><pre>
   function doClick(e) {
   	if (OS_IOS && Ti.Platform.model === "Simulator") //break point will hit here
   	{
   		alert("Simulator does not support sending emails. Use a device instead");
   
   		if (true)//break point doesn't hit here
   		{
   			alert("True Condition");
   		}
   		
   		if (false)//break point doesn't hit here
   		{
   			alert("False condition ");
   		}
   		
   		var x = 1;
   		var y = 2;
   		if ((x + y) == 3) //breakpoint will hit here
   		{
   			alert("x+y calc");
   		}
   		
   		var status = true;
   		if (status == true) //breakpoint will hit here
   		{
   			alert("status alert");
   		}
   		return;
   	}
   }
   
   $.index.open();
   
   </pre></code></li>
<li>Chee Kiat Ng 2015-11-25

   Hi. The test sample is *not valid*. 
   1. There's no sensible reason why anyone would do <code>if(true)</code>
   2. I just tested this natively on Xcode. if I write the below native code
   <code><pre>
   if (YES) {
       NSLog(@"hello Jay!"); 
   }
   </pre></code>
   and set the breakpoint at <code>if(YES)</code>. The behavior is the same, it *does not pause*, and goes to <code>NSLog(@"hello Jay");</code>
   Our debugger actually relies on Xcode Objective C behavior, so there's nothing we can do.
   
   But as Kondal has explained above, it makes sense that Xcode ignores the break points for if conditions where condition value is already known at build time.
   
   The below native code is valid and the breakpoint will pause on the if statement:
   <code><pre>
       int x = 1;
       int y = 1;
       if (x + y == 2)
       {
           NSLog(@"it's working");
       }
   </pre></code>
   
   I'm not sure why in this ticket only alloy sees this behavior, but i think the bigger question is, are we seeing problems hitting breakpoints on if blocks that does not do <code>if (true)</code> or <code>if(false)</code>. If so, please provide a valid reproducible case here.</li>
<li>Wilson Luu 2015-12-02

   I was able to reproduce this issue i.e:
   * If I add a breakpoint to <code>if(true)</code> or <code>if(false)</code> in an Alloy app, then the debugger will not hit those breakpoints.
   * If I add a breakpoint to <code>if(true)</code> or <code>if(false)</code> in a *Titanium classic app*, then the debugger *will hit* those breakpoints.
   * The two stated above behaviors occur with both iOS simulator *and* Android emulator.
   
   Given that the bug behavior appears on Android, I tried setting a breakpoint at <code>if(true)</code> in a native Android project and observed the same behavior that [~cng] saw when debugging in native iOS; see native_android.png and native_android2.png attachments.
   
   And to go off of [~cng]'s last comment:
   <h4>Is there a legitimate bug when using debugger with Titanium Classic apps?</h4>
   <h4>Are Alloy apps being debugged properly?</h4>
   
   *Tested on:*
   Appcelerator Studio, build: 4.4.0.201511241829
   Appc CLI NPM: 4.2.2
   Appc CLI Core: 5.1.0
   Arrow: 1.3.22
   SDK: 5.1.1.GA
   Node: v4.2.2
   OS: El Capitan (10.11.1)
   Xcode: 7.1.1
   Devices: iphone simulator (9.1), genymotion emulator (4.4.4)
   </li>
<li>Angel Petkov 2016-03-30

   Hello [~stoda] , the reason the breakpoint is not hit when placed on the <code><pre>if (true) { </pre></code> 
   statement is because if true will always be true. When alloy is ran it generates separate files , so when you're putting a breakpoint studio actually ties it to the equivalent line on the generated files. If something will always be true it won't get added to the files same with any variables that are created but not used. If you put the breakpoint on line underneath on the print statement it will get hit.  </li>
<li>Feon Sua Xin Miao 2018-08-29

   PR: <a href="https://github.com/appcelerator/alloy/pull/904" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/904</a>
   
   Looks like white space between the lines cause source map mismatch.
   <code><pre>
   function doClick(e) {
   	alert($.label.text);
   }
   
   
   $.index.open();
   
   
   for (var i = 0; i &lt; 4; i++) {
   	console.log("Hello: " + i); // add breakpoint here
   }
   
   </pre></code></li>
<li>Lokesh Choudhary 2018-09-14

    FR Passed.
    PR Merged.</li>
<li>Lokesh Choudhary 2018-10-11

    Verified the fix in 7.0.7-master.9.
    Closing.</li>
</ol>


<p><a href="/ALOY/ALOY-1627.json">JSON Source</a></p>