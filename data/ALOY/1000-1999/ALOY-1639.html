---
title: "[ALOY-1639] Use Matrix2D/Matrix3D instead of 2DMatrix/3DMatrix"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-01-10T22:12:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>CLI Release 7.0.10, Alloy 1.13.8</td></tr>
<tr><th>Components</th><td>Runtime</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2018-12-03T12:23:13.000+0000</td></tr>
<tr><th>Updated</th><td>2019-02-18T11:46:25.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

TIMOB-26137 deprecates the use of 2DMatrix/3DMatrix for Matrix2D/Matrix3D, the Alloy codebase uses these

<code><pre>
$rg -n -w -i create2DMatrix
Alloy/builtins/animation.js
199:		view.transform = Ti.UI.create2DMatrix();
206:		transform: Ti.UI.create2DMatrix().scale(1.05, 1.05),
210:		transform: Ti.UI.create2DMatrix(),
228:		transform: Ti.UI.create2DMatrix().translate(5, 0),
232:		transform: Ti.UI.create2DMatrix().translate(-5, 0),
236:		transform: Ti.UI.create2DMatrix().translate(5, 0),
240:		transform: Ti.UI.create2DMatrix().translate(-5, 0),
244:		transform: Ti.UI.create2DMatrix(),

Alloy/template/lib/alloy.js
37:var IDENTITY_TRANSFORM = OS_ANDROID ? Ti.UI.create2DMatrix() : undefined;

test/apps/testing/ALOY-717/alloy.js
1:Alloy.Globals.transform = Ti.UI.create2DMatrix().rotate(45);

samples/apps/advanced/themes/alloy.js
1:Alloy.CFG.sliderTransform = Ti.UI.create2DMatrix().rotate(-90);
</pre></code>

<code><pre>
$rg -n -w -i create3DMatrix
Alloy/builtins/animation.js
37:	var flipped_matrix = Ti.UI.create3DMatrix().rotate(
49:		var unflipped_matrix = Ti.UI.create3DMatrix().rotate(
</pre></code>

I think we'll need to wrap these in SDK 8 checks? Do you know [~fmiao]?

<h3>Comments</h3>

<ol>
<li>Feon Sua Xin Miao 2018-12-03

   [~eharris], yeah animation builtin needs to be update to support the sdk differences. </li>
<li>Feon Sua Xin Miao 2018-12-05

   PR: <a href="https://github.com/appcelerator/alloy/pull/917" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/917</a></li>
<li>Ewan Harris 2018-12-11

   [~fmiao], I think we should remove this from 7.0.9 as <a href="https://github.com/appcelerator/titanium_mobile/pull/10120" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10120</a> is still waiting merge and without that this breaks the animations stuff.</li>
<li>Lokesh Choudhary 2019-01-10

   PR Merged.</li>
<li>Ewan Harris 2019-01-11

   This is merged but not published. Will publish alongside ALOY-1640 and ALOY-1637</li>
<li>Lokesh Choudhary 2019-01-16

   Verified the fix in CLI 7.0.10-master.5 containing alloy 1.13.7.
   
   Studio Ver:     5.1.2.201812191831
   OS Ver:         10.14
   Xcode Ver:      Xcode 10.1
   Appc NPM:       4.2.13
   Appc CLI:       7.0.10-master.5
   Daemon Ver:     1.1.3
   Ti CLI Ver:     5.1.1
   Alloy Ver:      1.13.7
   Node Ver:       8.9.1
   NPM Ver:        5.5.1
   Java Ver:       10.0.2
   </li>
</ol>


<p><a href="/ALOY/ALOY-1639.json">JSON Source</a></p>