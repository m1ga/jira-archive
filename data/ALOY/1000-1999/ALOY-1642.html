---
title: "[ALOY-1642] Investigate why ALOY-1641 was not caught by tests/eslint"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2019-01-15T20:49:19.000+0000</td></tr>
<tr><th>Updated</th><td>2019-11-18T14:36:24.000+0000</td></tr>
</table>

<h3>Description</h3>

I borked on, ALOY-1641 but it is something that should have been exposed by tests and/or linting, but it wasn't and I'm perturbed as to why, this should be investigated and actioned upon. The relevant Jenkins jobs are

Master after updating version passed - <a href="https://jenkins.appcelerator.org/job/cli/job/alloy/job/master/87/" rel="nofollow" target="_blank">https://jenkins.appcelerator.org/job/cli/job/alloy/job/master/87/</a>
Master after PR merged failed - <a href="https://jenkins.appcelerator.org/job/cli/job/alloy/job/master/86/" rel="nofollow" target="_blank">https://jenkins.appcelerator.org/job/cli/job/alloy/job/master/86/</a>

PR passed - <a href="https://jenkins.appcelerator.org/job/cli/job/alloy/view/change-requests/job/PR-918/1/" rel="nofollow" target="_blank">https://jenkins.appcelerator.org/job/cli/job/alloy/view/change-requests/job/PR-918/1/</a>

At first glance the linting looks to turn off no-undef as a blanket rule over the whole repo, it should be selectively disabled. I started a WIP a long time ago to move alloy to eslint-config-axway and should finish that.

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2019-01-15

   Looks like the tests in the failing cases ran against 7.5.0, whereas in the passing cases it ran against 8.1.0. I think maybe we could update the Jenkinsfile to run the tests against master and whatever latest points to so we can test GA and bleeding edge SDKs to ensure we catch these. For a quick fix though the I think we could update it just ensure we're always using GA for now</li>
<li>Ewan Harris 2019-02-15

   CI improvements here <a href="https://github.com/appcelerator/alloy/pull/921" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/921</a></li>
</ol>


<p><a href="/ALOY/ALOY-1642.json">JSON Source</a></p>