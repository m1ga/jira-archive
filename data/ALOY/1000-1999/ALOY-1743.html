---
title: "[ALOY-1743] Runtime error when Widget contains another Widget at the top level"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>CLI Release 8.1.1, Alloy 1.15.2</td></tr>
<tr><th>Fix Version/s</th><td>Alloy 1.15.3, CLI Release 9.0.0</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>regression</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2020-11-18T12:06:09.000+0000</td></tr>
<tr><th>Updated</th><td>2021-06-16T14:13:33.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

In the attached sample a Widget is used alongside another View in a Widget, this causes a runtime error when trying to access properties from the included Widget, this is most like down to the the changes in the two linked tickets where the symbol definition for included Widgets has changed

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/ALOY/ALOY-1743_67723/sampleTest.zip">sampleTest.zip</td></td><td>2020-11-18T14:53:45.000+0000</td><td>8717675</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2020-11-18

   PR:  <a href="https://github.com/appcelerator/alloy/pull/1035" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/1035</a>
   
   I've tested the following:
   
   * Test cases associated with ALOY-1256 and ALOY-1738
   * <a href="https://github.com/ewanharris/alloy-widget-test" rel="nofollow" target="_blank">https://github.com/ewanharris/alloy-widget-test</a> which is the same as in ALOY-1256 but includes children in the Widget tag
   * The sample attached here
   
   
   To patch this in the appc CLI:
   
   1. Open up the appc CLI directory in explorer/finder
    * Windows: C:\Users\<User>\.appcelerator\install\8.1.1\package\
    * MacOS: ~/.appcelerator/install/8.1.1/package/
   
   2. Open node_modules/alloy/Alloy/commands/compile/parsers/Alloy.Require.js
   3. Apply the changes in the above PR
   </li>
<li>Ewan Harris 2020-11-18

   alloy-devkit PR: <a href="https://github.com/appcelerator/alloy-devkit/pull/194" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy-devkit/pull/194</a></li>
<li>Samir Mohammed 2020-12-10

   FR Passed, Runtime error is no longer shown when tested with the test case mentioned in the description. Tested using CLI Version <code>8.1.2-27</code>.</li>
</ol>


<p><a href="/ALOY/ALOY-1743.json">JSON Source</a></p>