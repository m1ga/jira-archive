---
title: "[DAEMON-124] "gulp check" no longer works properly since switching to workspaces"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-11-15T08:25:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Appc Daemon 1.0.0</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2017-11-09T05:40:22.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-15T08:25:59.000+0000</td></tr>
</table>

<h3>Description</h3>

Since Yarn workspaces have been enabled, <code>gulp check</code> is no longer working properly. It checks to see what is installed in the package's <code>node_modules</code> instead of the top-level workspace <code>node_modules</code>. Since it doesn't find a particular dependency installed, it says every package is not installed.

While fixing this, we should also make it more parallel so that it can compute the security and package update checks at the same time.

We may also need/want to come up with a more robust way of checking integrity. <code>yarn check --integrity</code> doesn't work well with Lerna.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/DAEMON/DAEMON-124.json">JSON Source</a></p>