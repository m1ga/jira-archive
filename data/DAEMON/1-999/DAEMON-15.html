---
title: "[DAEMON-15] appcd-config: Runtime config updates"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-02-14T04:13:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Appc Daemon 1.0.0</td></tr>
<tr><th>Components</th><td>appcd-core</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2016-05-05T07:41:05.000+0000</td></tr>
<tr><th>Updated</th><td>2017-02-17T06:20:11.000+0000</td></tr>
</table>

<h3>Description</h3>

The appc daemon's configuration is currently read-only. It cannot be changed at runtime.

However, it may be desirable to update settings without restarting the daemon. Restarting the daemon means that state will be lost.

Not all config settings should be changeable at runtime. For example, the pidFile should remain read-only, but the proxy settings should be allowed to change.

This should be implemented by listening to SIGHUP as well as exposing a dispatcher and web route to reload the config. If any read-only property is changed, then the entire config reload is rejected.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2017-02-14

   This was actually completed back in 2017 Sprint 02 Tooling in the commit: <a href="https://github.com/cb1kenobi/appc-daemon/commit/a4cac50c593e018ed41a0dd49ad8e5223f23bd5d." rel="nofollow" target="_blank">https://github.com/cb1kenobi/appc-daemon/commit/a4cac50c593e018ed41a0dd49ad8e5223f23bd5d.</a>
   
   The daemon has a micro-package called <code>appcd-config</code> which allows config options to have metadata where the values can be marked as readonly. It also allows config value datatypes to be defined so values that are read-in as strings can be coerced into the appropriate datatype.</li>
</ol>


<p><a href="/DAEMON/DAEMON-15.json">JSON Source</a></p>