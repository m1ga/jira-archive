---
title: "[DAEMON-174] jdklib: Implement options mechanism"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-12-01T16:45:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Appc Daemon 1.0.0</td></tr>
<tr><th>Components</th><td>jdklib</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2017-11-20T18:12:43.000+0000</td></tr>
<tr><th>Updated</th><td>2017-12-01T17:06:17.000+0000</td></tr>
</table>

<h3>Description</h3>

This ticket is to implement an options mechanism similar to ioslib and androidlib.

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2017-11-30

   [~cbarber] I'm not sure what would be added to jdklib here? We should mixin java.home here in [jdk-info-service](<a href="https://github.com/appcelerator/appc-daemon/blob/b39102772b8463279f33b259f45bd2958a87b02c/plugins/appcd-plugin-jdk/src/jdk-info-service.js#L24)" rel="nofollow" target="_blank">https://github.com/appcelerator/appc-daemon/blob/b39102772b8463279f33b259f45bd2958a87b02c/plugins/appcd-plugin-jdk/src/jdk-info-service.js#L24)</a> but I'm not grasping the usefulness of overriding the executables object for a jdk?</li>
<li>Chris Barber 2017-11-30

   This ticket is simply adding support for <code>jdk.searchPaths</code> option. In the core's <code>server.js</code>, we can import <code>java.home</code> from the Ti CLI's config and copy it into <code>jdk.searchPaths</code>. Then in the JDK plugin, we simply <code>get(options, 'jdk.searchPaths')</code> or fall back to the default ones (or whatever we do for Android, etc).</li>
<li>Ewan Harris 2017-11-30

   Ah ok, I assumed it extended to executables too as we included them in the java import change here <a href="https://github.com/appcelerator/appc-daemon/pull/166/files#diff-955bce450ab6d9d1deaeeb4d6f5a6124R381" rel="nofollow" target="_blank">https://github.com/appcelerator/appc-daemon/pull/166/files#diff-955bce450ab6d9d1deaeeb4d6f5a6124R381</a></li>
<li>Chris Barber 2017-11-30

   Ah, yeah, all of those settings need to be removed. We only need <code>jdk.home</code> (String) -> <code>jdk.searchPaths</code> (Array.<String>).</li>
<li>Ewan Harris 2017-12-01

   <a href="https://github.com/appcelerator/appc-daemon/pull/214" rel="nofollow" target="_blank">https://github.com/appcelerator/appc-daemon/pull/214</a></li>
</ol>


<p><a href="/DAEMON/DAEMON-174.json">JSON Source</a></p>