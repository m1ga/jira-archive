---
title: "[DAEMON-209] Studio: iOS SDK home not found and NullPointerException"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-12-14T07:01:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Appc Daemon 1.0.1</td></tr>
<tr><th>Components</th><td>appcd-plugin-ios, ioslib</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Sebastian Klaus</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2017-12-11T08:39:21.000+0000</td></tr>
<tr><th>Updated</th><td>2017-12-18T11:53:43.000+0000</td></tr>
</table>

<h3>Description</h3>

I updated to Appcelerator Studio 5.0.0.201712081732 (official Release) and now the iOS SDK home is not found anymore. Android works.

Can I do something to fix it?

--

There's a bug in ioslib when it tries to build the list of teams. If one of the provisioning profiles does not have any teams, then the <code>teamIds</code> will be <code>null</code>. The code that builds the unique list of teams expects teams to be an array.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-209_63806/Appc_Daemon_Dump.txt">Appc_Daemon_Dump.txt</td></td><td>2017-12-14T02:50:40.000+0000</td><td>849453</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-209_63807/appcInfo.txt">appcInfo.txt</td></td><td>2017-12-14T02:50:30.000+0000</td><td>60243</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-209_63754/Bildschirmfoto 2017-12-11 um 09.36.17.png">Bildschirmfoto 2017-12-11 um 09.36.17.png</td></td><td>2017-12-11T08:38:50.000+0000</td><td>413885</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-209_63808/DiagnosticLog.txt">DiagnosticLog.txt</td></td><td>2017-12-14T02:50:58.000+0000</td><td>213879</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-209_63809/StudioLog.txt">StudioLog.txt</td></td><td>2017-12-14T02:51:32.000+0000</td><td>2429589</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mostafizur Rahman 2017-12-11

   Hello [~benutzername],
   Thanks for sharing us. Which Xcode version are you using?  Do you have multiple Xcode? It would be better if you can share full environmental details here.
   Best</li>
<li>Sebastian Klaus 2017-12-11

   Sorry. I'm using Xcode Version 9.2 (9C40b) and no multiple versions
   
   appc ti setup check says:
   
   Node.js
     ✓  node               installed (v9.2.0)
     ✓  npm                installed (v5.5.1)
   
   Titanium CLI
     ✓  cli                bleeding edge (v5.0.14)
   
   Titanium SDK
     ✓  latest sdk         installed (v7.0.0.GA)
     !  selected sdk       latest Titanium SDK "v4.0.0.GA" is not the selected SDK (currently v6.3.0.GA)
   
   Mac OS X Environment
     ✓  CLI Tools          installed
   
   iOS Environment
     ✓  Xcode              installed (9.2)
     ✓  iOS SDK            installed (11.2)
     ✓  WWDR cert          installed
     ✓  developer cert     installed (1 found)
     ✓  distribution cert  installed (3 found)
     ✓  dev provisioning   installed (6 found)
     ✓  dist provisioning  installed (6 found)
   
   </li>
<li>Ewan Harris 2017-12-11

   [~benutzername] (and anyone else who has this issue) Could you please attach the following 
   
   * Appc Daemon dumpfile generated from <code>Help -&gt; Studio -&gt; Generate Appc Daemon Dump</code>
   * Studio logfile from <code>Help -&gt; Studio -&gt; View Log File</code>
   * Studio diagnostic log from <code>Help -&gt; Studio -&gt; Run Diagnostic test</code>
   * Appc daemon iOS info <code>appc appcd exec /ios/1.x/info</code> ran in terminal
   * Appc Ti info <code>appc ti info</code> 
   
   Please upload either to this ticket or in a gist/pastebin</li>
<li>Marian Kucharcik 2017-12-11

   Hi Ewan,
   I created Daemon dump and Log file, Diagnostic test encountered a error(null pointer exception) and that last command shows URI malformed
   
   [Here is that files:](<a href="https://1drv.ms/f/s" rel="nofollow" target="_blank">https://1drv.ms/f/s</a>!AqYLRbx94HRJmG4QP8SYdMzadmst)</li>
<li>Kondal Kolipaka 2017-12-11

   [~max87] Can you please share the generated log files.</li>
<li>Ewan Harris 2017-12-11

   [~max87] Thanks for those, would you also be able to upload the output of <code>appc ti info -t ios -o json</code> (I missed that from my list sorry!)</li>
<li>Sebastian Klaus 2017-12-11

   Here is mine _appc ti info -t ios -o json_
   
   <a href="https://pastebin.com/Mr8Km002" rel="nofollow" target="_blank">https://pastebin.com/Mr8Km002</a></li>
<li>Ewan Harris 2017-12-11

   [~benutzername] I believe that issue may be caused by an unsupported node version, could you try downgrading to [node 8.9.2](<a href="https://nodejs.org/en/download/)" rel="nofollow" target="_blank">https://nodejs.org/en/download/)</a>, we need to update the prebuilt binaries for node-ios-device to support 9.X I believe</li>
<li>Sebastian Klaus 2017-12-11

   [~eharris] That did the trick</li>
<li>Chris Barber 2017-12-11

    DAEMON-205 certainly addresses the "URI malformed" issue. There are a couple reasons <code>ti info</code> may not see this error. First, <code>ioslib</code> v2 now uses <code>node-forge</code> where <code>ioslib</code> v1 used a copy of an old version of <code>node-forge</code> to speed up certificate parsing (not an issue in the context of the daemon). Secondly, <code>ioslib</code> v2 now fetches and parses EVERY cert and filters out all non-iOS development related certs. This reduces the number of subprocesses from 5 to 1 and increases speed. However, now we face certain certs that may or may not be iOS related that we cannot parse. DAEMON-205 simply skips those certs that it cannot parse. <code>ioslib@2.0.4</code> which includes this fix has been published, though Appc CLI users will not see the update until the next published version.</li>
<li>Marian Kucharcik 2017-12-11

    Hi guys,
    downgrading node to linked 8.9.3 or manually to 8.9.2 doesn't solve it for me, it throws same errors as previously mentioned. Please any other advices?
    Thanks</li>
<li>Zarir Bhesania 2017-12-12

    Facing the same issue. Can we get a fix by this week as its very critical?</li>
<li>Marian Kucharcik 2017-12-12

    Hello Zarir,
    I tried to downgrade Studio to 4.1.0 and it works for me now. So please try it(so you can develop) and wait for fix from Appc guys. I hope, that fix will be available very soon.</li>
<li>Sebastian Klaus 2017-12-12

    [~max87] you can just downgrade your node version to 8.9.2 and it works. So can install Studio 5.0.0</li>
<li>Marian Kucharcik 2017-12-12

    @Sebastian Klaus as I mentioned above, downgrading just node to 8.9.2(tried also 3 and 0 ) doesn't worked for me, so I tried to downgrade Studio and that finally worked.</li>
<li>Kondal Kolipaka 2017-12-12

    [~zarirbhesania@gmail.com] What is the node version which you're using? Can you use node 8.9.1 and restart the studio.
     
    Please provide below logs as well.
    
    <h4>Appc Daemon dumpfile generated from Help -> Studio -> Generate Appc Daemon Dump</h4>
    <h4>Studio logfile from Help -> Studio -> View Log File</h4>
    <h4>Appc daemon iOS info <code>appc appcd exec /ios/1.x/info</code> ran in terminal</h4>
    <h4>Appc Ti info <code>appc ti info</code></h4></li>
<li>Alberto Marcone 2017-12-12

    downgrading to Studio 4.5 worked for me too, the quickest fix.</li>
<li>Zarir Bhesania 2017-12-12

    @Kondal Kolipaka I tried node v8.9.1 and 8.9.2 but it dint work. So I downgraded studio to 4.10.0 and its working now</li>
<li>Kondal Kolipaka 2017-12-12

    [~zarirbhesania@gmail.com] Okay, will update once DAEMON-205 is available for release. Hopefully, that will fix the issue for you.
    
    Can you run the below commands and attach the output - that will help us to analyze the problem and plan for a next release with the fix.
    
    <h4>Appc daemon iOS info <code>appc appcd exec /ios/1.x/info</code> ran in terminal</h4>
    <h4>Appc Ti info <code>appc ti info</code></h4></li>
<li>John Staunton 2017-12-12

    As requested by @eharris, hereby the info:
    
    1. Appc Daemon dumpfile generated from Help -> Studio -> Generate Appc Daemon Dump
    [Attached]
    
    2. Studio logfile from Help -> Studio -> View Log File
    <a href="https://pastebin.com/3Bd3b3Jc" rel="nofollow" target="_blank">https://pastebin.com/3Bd3b3Jc</a>
    
    3. Studio diagnostic log from Help -> Studio -> Run Diagnostic test
    Could not run:
    !ENTRY org.eclipse.core.jobs 4 2 2017-12-12 11:20:04.208
    !MESSAGE An internal error occurred during: "Getting Diagnostic Logs".
    !STACK 0
    java.lang.NullPointerException
    	at com.appcelerator.titanium.ios.internal.core.IOSDiagnosticLog.getLog(IOSDiagnosticLog.java:28)
    	at com.aptana.core.internal.diagnostic.DiagnosticManager$LazyDiagnosticLog.getLog(DiagnosticManager.java:166)
    	at com.aptana.ui.commands.DiagnosticHandler.getLogContent(DiagnosticHandler.java:66)
    	at com.aptana.ui.commands.DiagnosticHandler$1.run(DiagnosticHandler.java:39)
    	at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
    
    
    4. Appc daemon iOS info appc appcd exec /ios/1.x/info ran in terminal
    <a href="https://pastebin.com/JZgNyA2V" rel="nofollow" target="_blank">https://pastebin.com/JZgNyA2V</a>
    
    5. Appc Ti info appc ti info
    <a href="https://pastebin.com/vMK3TCYU" rel="nofollow" target="_blank">https://pastebin.com/vMK3TCYU</a></li>
<li>Ewan Harris 2017-12-12

    For people who are running into this issue, we have published an update that should fix most of the issues we are aware of. This will ship in a 7.0.1 release which is being scheduled but we would like feedback prior to this so we can be sure of fixing all issues.
    
    It can be installed using the below, while doing this please make sure Studio is closed
    
    <h4>Stop the daemon <code>appc appcd stop</code></h4>
    <h4>cd into the appcelerator package <code>cd ~/.appcelerator/install/7.0.0/package</code></h4>
    <h4>Install the update <code>npm install ioslib@next</code></h4>
    <h4>Reopen Studio</h4></li>
<li>Zarir Bhesania 2017-12-12

    @Ewan Harris Performed the steps mentioned above but still Xcode not getting detected. Error "An internal error occurred during: "Update iOS info". java.lang.NullPointerException"</li>
<li>Ewan Harris 2017-12-12

    </li>
<li>saladlife 2017-12-13

    I got the same problem and tried different way cannot solve the problem. I had sent the log by mail.</li>
<li>Sathaphorn Kerdmalai 2017-12-14

    I do have the same problem. (Axway Appcelerator Studio, build: 5.0.0.201712081732) 
    How can I fix this problem?</li>
<li>Kondal Kolipaka 2017-12-14

    [~iblack.dum] What is the Xcode version you're having? Did you launch Xcode after installing for the first time?
    
    Usually, if you've installed Xcode and not launched at least once you will be having issues in identifying Xcode due to "Xcode EULA".
    
    Go to terminal and run "appc ti info" and see if you're having the below issue
    
    <code><pre>
    iOS Issues
      ✕  Xcode EULA has not been accepted.
         Launch Xcode and accept the license.
    </pre></code>
    
    
    </li>
<li>Sathaphorn Kerdmalai 2017-12-14

    @Kondal  I installed the latest version of Xcode and I using xcode every day.
    </li>
<li>Kondal Kolipaka 2017-12-14

    [~iblack.dum] 
    
    Is it possible for you to get into call for 20 mins? I would like to capture few logs and analyze the issue.
    <a href="https://axway.webex.com/meet/kkolipakaaxway.com" rel="nofollow" target="_blank">https://axway.webex.com/meet/kkolipakaaxway.com</a>
    
    To understand more about the issue we need to capture the logs in the following order.
    
    1. Go to Studio Preferences - Studio - Trouble Shooting - Set "Debug Level" to "All"- Click on Apply
    2. Go to Help -> Studio -> Clear Log file
    3. Restart Studio
    4. Wait for Studio dashboard to open 
    5. Open Studio Preferences -Studio - iOS - verify Xcode(as you're facing the issue here)
    6. Go to Help -> Studio ->Generate Appc Dump
    7. Go to Help -> Studio -> View Log File
    8. Go to Help -> Studio -> Run Diagnostic Test
    9. Go to terminal -> run “appc ti info” -> export to some log file
    </li>
<li>Kondal Kolipaka 2017-12-14

    [~morahman] [~iblack.dum] Thanks a lot. Logs are helpful. We found the root cause of the problem. Will fix this soon and update the ticket ASAP.
    
    </li>
<li>Chris Barber 2017-12-14

    ioslib PR: <a href="https://github.com/appcelerator/ioslib/pull/73" rel="nofollow" target="_blank">https://github.com/appcelerator/ioslib/pull/73</a>
    
    ioslib@2.0.6 has been published.
    
    appcd-plugin-ios master PR: <a href="https://github.com/appcelerator/appcd-plugin-ios/pull/3" rel="nofollow" target="_blank">https://github.com/appcelerator/appcd-plugin-ios/pull/3</a>
    appcd-plugin-ios 1_0_X PR: <a href="https://github.com/appcelerator/appcd-plugin-ios/pull/4" rel="nofollow" target="_blank">https://github.com/appcelerator/appcd-plugin-ios/pull/4</a></li>
<li>Marian Kucharcik 2017-12-14

    Hi guys,
    how can I update that lib and where is located? 
    Thanks</li>
<li>Marcio Cunha 2017-12-14

    Do we have to execute the below steps to update ?
    
    <h4>Stop the daemon appc appcd stop</h4>
    <h4>cd into the appcelerator package cd ~/.appcelerator/install/7.0.0/package</h4>
    <h4>Install the update npm install ioslib@next</h4>
    <h4>Reopen Studio</h4></li>
<li>Chris Barber 2017-12-14

    This should work:
    
    <h4>Close Appcelerator Studio</h4>
    <h4>Open the terminal</h4>
    <h4>Stop the daemon: <code>appc appcd stop</code></h4>
    <h4>cd into the appcelerator package: <code>cd ~/.appcelerator/install/7.0.0/package</code></h4>
    <h4>Install the update: <code>npm install ioslib@next</code></h4>
    <h4>Reopen Studio</h4></li>
<li>John Staunton 2017-12-14

    Can't get the update to work:
    
    npm ERR! path /Users/johnstaunton/.appcelerator/install/7.0.0/package/node_modules/node-ios-device/node_modules/node-pre-gyp
    npm ERR! code ENOENT
    npm ERR! errno -2
    npm ERR! syscall rename
    npm ERR! enoent ENOENT: no such file or directory, rename '/Users/johnstaunton/.appcelerator/install/7.0.0/package/node_modules/node-ios-device/node_modules/node-pre-gyp' -> '/Users/johnstaunton/.appcelerator/install/7.0.0/package/node_modules/node-ios-device/node_modules/.node-pre-gyp.DELETE'
    npm ERR! enoent This is related to npm not being able to find a file.
    npm ERR! enoent 
    
    </li>
<li>Chris Barber 2017-12-14

    [~john.staunton] Maybe it's best to install ioslib@next to an empty folder and manually copy into <code>~/.appcelerator/install/7.0.0/package/node_modules</code>.</li>
<li>John Staunton 2017-12-14

    Thanks @Chris Barber... ioslib is at 2.0.6 now within ~/.appcelerator/install/7.0.0/package/node_modules but the issue persists - internal error during: "Loading certificates"</li>
<li>Chris Barber 2017-12-14

    [~john.staunton] Try closing studio, stop the daemon from the terminal by running <code>appc appcd stop</code>, then restart studio, reproduce the problem, then as quick as possible run <code>appc appcd dump mydump.json</code>. Attach the dump file and we'll see if we can figure out if it's a studio or daemon related issue. Thanks!</li>
<li>John Staunton 2017-12-14

    @Chris Barber, sent it directly to you by email. Thanks!</li>
<li>Chris Barber 2017-12-14

    John's issue is possibly due to a permission that exposed a bug in the system-info plugin. The system-info plugin bug was fixed in DAEMON-210 and set for the upcoming 1.0.1 release.</li>
<li>Marian Kucharcik 2017-12-14

    </li>
<li>Marian Kucharcik 2017-12-18

    Hi guys, 
    I can't add new provisioning profile to Appc Studio.
    I create Ad-hoc prov.profile via Apple developer website and download it, double click on in, opens xcode. I restart Appc Studio but profile doesn't show up. Also, when I delete some provisioning profiles and hit Refresh(Right click on project in Appc Studio-Distribute-Adhoc-refresh), profiles don't refresh(there are entries that no longer exists in Apple developer website)
    Please take a look asap. Thanks</li>
<li>Satyam Sekhri 2017-12-18

    </li>
<li>Marian Kucharcik 2017-12-18

    Thank you Satyam for pointing me to right ticket, it worked for me.</li>
</ol>


<p><a href="/DAEMON/DAEMON-209.json">JSON Source</a></p>