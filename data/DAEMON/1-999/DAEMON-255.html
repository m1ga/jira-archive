---
title: "[DAEMON-255] Appcelerator Studio not detecting android emulator and emulator doesn't come up on windows 7"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Done</td></tr>
<tr><th>Resolution Date</th><td>2018-10-25T13:20:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>androidlib, appcd</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Mostafizur Rahman</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2018-04-25T14:42:54.000+0000</td></tr>
<tr><th>Updated</th><td>2018-10-25T13:20:51.000+0000</td></tr>
</table>

<h3>Description</h3>

Hello,

We have an Enterprise customer who is facing an issue with Appcelerator Studio. Appcelerator Studio not detecting android emulator and emulator doesn't come up on windows 7. We have attached the screenshot, Studio Diagnostic log and *appc ti setup check* log file. 

If any others information needed please let us know.

Thanks

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65086/appc_ti_info_t_android.txt">appc_ti_info_t_android.txt</td></td><td>2018-04-25T14:55:49.000+0000</td><td>8501</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65085/appc_ti_setup_check.txt">appc_ti_setup_check.txt</td></td><td>2018-04-25T14:41:59.000+0000</td><td>4682</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65179/appcd_android_info.txt">appcd_android_info.txt</td></td><td>2018-05-17T13:26:08.000+0000</td><td>40759</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65089/appcd_log.txt">appcd_log.txt</td></td><td>2018-04-27T13:11:14.000+0000</td><td>766</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65088/Appc Daemon Dump.txt">Appc Daemon Dump.txt</td></td><td>2018-04-27T13:11:16.000+0000</td><td>464670</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65263/complete-Build-log.txt">complete-Build-log.txt</td></td><td>2018-06-15T12:36:27.000+0000</td><td>34178</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65084/DiagnosticTest.txt">DiagnosticTest.txt</td></td><td>2018-04-25T14:42:01.000+0000</td><td>15302</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65180/image001.jpg">image001.jpg</td></td><td>2018-05-17T13:26:07.000+0000</td><td>16645</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65181/image002.jpg">image002.jpg</td></td><td>2018-05-17T13:26:07.000+0000</td><td>17333</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65189/Img-01-22-05-18.jpg">Img-01-22-05-18.jpg</td></td><td>2018-05-22T16:22:45.000+0000</td><td>54151</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65190/Img-02-22-05-2018.jpg">Img-02-22-05-2018.jpg</td></td><td>2018-05-22T16:22:46.000+0000</td><td>55512</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65138/Out_Comes.jpg">Out_Comes.jpg</td></td><td>2018-05-09T16:36:54.000+0000</td><td>49332</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65083/Screenshot.jpg">Screenshot.jpg</td></td><td>2018-04-25T14:42:32.000+0000</td><td>131122</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65109/Server_not_running.jpg">Server_not_running.jpg</td></td><td>2018-05-02T15:16:12.000+0000</td><td>14180</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/DAEMON/DAEMON-255_65137/Stuck.jpg">Stuck.jpg</td></td><td>2018-05-09T13:53:55.000+0000</td><td>126151</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Kondal Kolipaka 2018-04-27

   Looking at the Screenshot.jpg - <code>C:\android-sdk-win</code> is not recognised as a valid android SDK path. Investing further on this
   
   Can you also provide the "Appc Daemon Dump" for studio
   
   In Studio, go to Help > Studio > Generate Appc Daemon Dump. 
   It generates the appc daemon dump and provide you the location for the generated file.
   </li>
<li>Kondal Kolipaka 2018-04-27

   Looks like Appc daemon is unable to find the android emulators. To confirm on this, can you run the following command and attach <code> appcd.log</code> to the ticket.
   
   <code><pre>
   $ appc appcd exec /system-info/1.x/info &gt; appcd.log
   </pre></code>
   </li>
<li>Kondal Kolipaka 2018-04-27

   [~eharris] [~cbarber] I think we were having a similar issue earlier, do you guys recall the ticket for this</li>
<li>Mostafizur Rahman 2018-04-27

   I have attached the required logs named: Appc Daemon Dump.txt and appcd_log.txt. Thanks</li>
<li>Ewan Harris 2018-05-04

   [~mrahman] Apologies they will have to start the daemon first, so the steps are the following
   
   1. <code>appc appcd start</code>, should log <code>Appc Daemon started</code>
   2. <code>appc appcd exec /system-info/1.x/info</code>, check it looks ok
   3. <code>appc appcd exec /system-info/1.x/info &gt; appcd.log</code>
   
   Then upload that appcd.log file</li>
<li>Kondal Kolipaka 2018-05-09

   [~eharris] Do you see any issue from the appc daemon dump  [^Appc Daemon Dump.txt] </li>
<li>Kondal Kolipaka 2018-05-09

   Maybe we can debug the below command and see where it's hanging. 
   
   <code><pre>
   set DEBUG=* && appc appcd exec /system-info/1.x/info
   </pre></code>
   </li>
<li>Kondal Kolipaka 2018-05-14

   Doesn't seem to be the studio issue, hence I'll move the component to DAEMON project to get the high priority</li>
<li>Chris Barber 2018-05-16

   I'm not convinced this is a daemon issue. It's obvious that "ti info" cannot see the emulators, but that's not the same source that Studio pulls from to get the list of emulators.
   
   There is no <code>appc appcd exec /system-info/1.x/info</code> output attached to this ticket. It would be better to attach the output of just the Android info by running either <code>appc appcd exec /system-info/1.x/info/android</code> or <code>appc appcd exec /android/1.x/info</code>. This output would tell us if the daemon can detect the emulators, however if it doesn't detect the emulators it won't tell us _why_ it couldn't detect the emulators.
   
   To get the why, we need an <code>appc appcd dump output.json</code> immediately after running <code>appc appcd exec /android/1.x/info</code>.</li>
<li>Mostafizur Rahman 2018-05-17

    [~cbarber], Command: appc appcd exec /android/1.x/info they are able to get the output, attached the same for reference (appcd_android_info.txt). 
    But the Below 2 commands
    appc appcd exec /system-info/1.x/info
    appc appcd exec /system-info/1.x/info/android is running for more than 4 hrs.
    
    There was no o/p as mentioned in attached screenshot (image001, image002).
    </li>
<li>Chris Barber 2018-05-17

    [~mrahman] They probably just need to restart the daemon: <code>appc appcd restart</code>. They also should upgrade to the latest Appcelerator CLI so that it pulls down the latest appcd version.</li>
<li>Mostafizur Rahman 2018-05-22

    Hello [~cbarber], They have restarted the daemon by using  *appc appcd restart*. Then upgraded the latest Appcelerator CLI but still facing the same issue. Appcelerator Studio not detecting android emulator and emulator doesn't come up on windows 7. They have emulators available in Appcelerator, but they still have the error persists as “Problem detected with the SDK settings”.
    Due to which emulator is not selected by default. Provided the screenshot for your reference.
    In another screenshot, they tried to build the project in cmd prompt but getting an error as “Unable to find any emulators”. Img-02-22-05-2018.jpg and Img-01-22-05-2018.jpg reference as screenshot.
    </li>
<li>Chris Barber 2018-05-22

    [~mrahman] I noticed is the AVD directory is <code>C:\android-sdk-win\.android\avd</code>. This is a non-standard location. Usually it is in the user's home directory.
    
    Titanium SDK *does not *support a non-standard AVD location. It must be in <code>C:\Users\&lt;user&gt;\.android\avd</code>.
    
    Appc Daemon _does_ support non-standard AVD locations, but it must be manually set by running <code>appc appcd config android.avd.path C:\android-sdk-win\.android\avd</code>. If you do this, then run <code>appc appcd exec /appcd/plugin/stop/android</code> and Studio should start displaying the list of emulators. However, if you move the AVDs to the user's home directory to make Titanium SDK happy as indicated above, then do not set the <code>android.avd.path</code>.</li>
<li>Mostafizur Rahman 2018-05-24

    We have shared this with the customer and waiting for his update. Thanks</li>
<li>Mostafizur Rahman 2018-06-14

    [~cbarber], We have an update from the customer. The customer replied: Sorry for the delayed response, I was on a business trip and could not get back. Here is the last error response from the compiler:
    
    
    <code><pre>alloy compile --platform android
    
    C:\Users\A78986\AppData\Roaming\npm\node_modules\alloy\Alloy\commands\compile\sourceMapper.js:97
    throw e;
    ^
    
    SyntaxError: Unexpected character '?' (68:0)
    at Parser.pp$5.raise (C:\Users\A78986\AppData\Roaming\npm\node_modules\alloy\node_modules\babylon\lib\index.js:4454:13)
    at Parser.getTokenFromCode (C:\Users\A78986\AppData\Roaming\npm\node_modules\alloy\node_modules\babylon\lib\index.js:1147:10)
    at Parser.readToken (C:\Users\A78986\AppData\Roaming\npm\node_modules\alloy\node_modules\babylon\lib\index.js:776:19)
    at Parser.nextToken (C:\Users\A78986\AppData\Roaming\npm\node_modules\alloy\node_modules\babylon\lib\index.js:766:19)
    at Parser.next (C:\Users\A78986\AppData\Roaming\npm\node_modules\alloy\node_modules\babylon\lib\index.js:691:10)
    at Parser.eat (C:\Users\A78986\AppData\Roaming\npm\node_modules\alloy\node_modules\babylon\lib\index.js:698:12)
    at Parser.pp$1.parseBlockBody (C:\Users\A78986\AppData\Roaming\npm\node_m</pre></code>
    
    Thanks
     </li>
<li>Chris Barber 2018-06-14

    That looks to be an Alloy error, not a Daemon related error.
    
    [~mrahman] Can we get a reproducible test case from the customer?
    
    [~fmiao] What do you make of the "Unexpected character" error above?</li>
<li>Feon Sua Xin Miao 2018-06-14

    Why is it loading alloy from <code>\AppData\Roaming\npm\node_modules\</code>?
    What's the alloy version?
    Can we have the complete build log?
    </li>
<li>Mostafizur Rahman 2018-06-15

    [~fmiao], Here is the answers from the customer regarding your questions:
    1)  It is the same way it loads initially before this issue happened.
    2) 1.11.0
    3) Attaching the log named complete-Build-log.txt</li>
<li>Feon Sua Xin Miao 2018-06-18

    [~mrahman], I could reproduce a similar error when I misplaced a <code>?</code> in <code>alloy.js</code>.  If you run appc with debug enable, you should get more information on exactly which line causes the issue.
    
    <code><pre>
    [INFO]  [app.js] Titanium entry point processing...
    [DEBUG] var Alloy = require('/alloy'),
    [DEBUG]         _ = Alloy._,
    [DEBUG]         Backbone = Alloy.Backbone;
    [DEBUG] console.log('a')?;
    [DEBUG] Alloy.createController('index');
    [DEBUG] .../.appcelerator/install/7.0.2/package/node_modules/alloy/Alloy/commands/compile/sourceMapper.js:97
    [DEBUG]         	throw e;
    [DEBUG]         	^
    [DEBUG] SyntaxError: Unexpected token (11:15)
    [DEBUG]     at Parser.pp$5.raise (.../.appcelerator/install/7.0.2/package/node_modules/alloy/node_modules/babylon/lib/index.js:4454:13)
    [DEBUG]     at Parser.pp.unexpected (.../.appcelerator/install/7.0.2/package/node_modules/alloy/node_modules/babylon/lib/index.js:1761:8)
    </pre></code></li>
<li>Ewan Harris 2018-10-25

    Closing based off feedback</li>
</ol>


<p><a href="/DAEMON/DAEMON-255.json">JSON Source</a></p>