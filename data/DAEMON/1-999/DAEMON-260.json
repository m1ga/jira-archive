{
	"id": "171842",
	"key": "DAEMON-260",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "12519",
			"key": "DAEMON",
			"name": "Appcelerator Daemon"
		},
		"fixVersions": [
			{
				"id": "20081",
				"description": "",
				"name": "Appc Daemon 2.0.0",
				"archived": false,
				"released": true,
				"releaseDate": "2018-11-25"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2019-03-13T20:42:26.000+0000",
		"created": "2018-06-26T03:47:14.000+0000",
		"priority": {
			"name": "High",
			"id": "2"
		},
		"labels": [],
		"versions": [],
		"issuelinks": [
			{
				"id": "56655",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "171846",
					"key": "TISTUD-9092",
					"fields": {
						"summary": "Error occurred during \"Getting Diagnostic Logs\"",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "High",
							"id": "2"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "cbarber",
			"key": "cbarber",
			"displayName": "Chris Barber",
			"active": true,
			"timeZone": "America/Chicago"
		},
		"updated": "2019-03-13T20:42:26.000+0000",
		"status": {
			"description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
			"name": "Resolved",
			"id": "5",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "15051",
				"name": "androidlib",
				"description": "Library for Android related functions"
			}
		],
		"description": "Hi all.  I am having issues with Studio on my Mac. It seems to randomly not know that I have Android SDKs installed.  It worked last week.  Just this morning, I start up studio and on the dashboard I see that Android is ready to go.  Then an few seconds later it changes to grayed out and the button says download.  I click download and run the install - when I do it recognizes that I already have some versions of the SDK installed.  But once through the install process, the problem still exists.  I have been doing this all morning.  An interesting point is that one of the times I did this process, it worked and I saw the emulators that I have always had available in Studio.   Also note that the preferences pane in Studio sometimes shows that it has found the SDKs and the emulators dropdown is populated, but most of the time it looks like the attached screenshot.  Any help would be greatly appreciated as I am unable to do Android mobile demonstrations and I have several in the near future.  Thanks in advance.",
		"attachment": [
			{
				"id": "65294",
				"filename": "appcd_dump_1530044433964.log",
				"author": {
					"name": "rwhite",
					"key": "rwhite",
					"displayName": "Rick White",
					"active": true,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2018-06-26T20:24:15.000+0000",
				"size": 1547463,
				"mimeType": "text/plain"
			},
			{
				"id": "65325",
				"filename": "appcddump.txt",
				"author": {
					"name": "kkolipaka",
					"key": "kkolipaka",
					"displayName": "Kondal Kolipaka",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2018-07-03T04:36:45.000+0000",
				"size": 1142813,
				"mimeType": "text/plain"
			},
			{
				"id": "65309",
				"filename": "log",
				"author": {
					"name": "rwhite",
					"key": "rwhite",
					"displayName": "Rick White",
					"active": true,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2018-06-29T15:26:17.000+0000",
				"size": 2722541,
				"mimeType": "text/html"
			},
			{
				"id": "65295",
				"filename": "Screen Shot 2018-06-26 at 1.18.59 PM.png",
				"author": {
					"name": "rwhite",
					"key": "rwhite",
					"displayName": "Rick White",
					"active": true,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2018-06-26T20:24:14.000+0000",
				"size": 68979,
				"mimeType": "image/png"
			},
			{
				"id": "65326",
				"filename": "status.txt",
				"author": {
					"name": "kkolipaka",
					"key": "kkolipaka",
					"displayName": "Kondal Kolipaka",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2018-07-03T04:36:54.000+0000",
				"size": 26027,
				"mimeType": "text/plain"
			},
			{
				"id": "65299",
				"filename": "studio.log",
				"author": {
					"name": "rwhite",
					"key": "rwhite",
					"displayName": "Rick White",
					"active": true,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2018-06-27T02:00:51.000+0000",
				"size": 4246119,
				"mimeType": "text/plain"
			},
			{
				"id": "65293",
				"filename": "tiInfo.rtf",
				"author": {
					"name": "rwhite",
					"key": "rwhite",
					"displayName": "Rick White",
					"active": true,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2018-06-26T20:24:14.000+0000",
				"size": 16682,
				"mimeType": "text/rtf"
			}
		],
		"flagged": false,
		"summary": "Android configuration issues with the Studio 5.1.0",
		"creator": {
			"name": "kkolipaka",
			"key": "kkolipaka",
			"displayName": "Kondal Kolipaka",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"subtasks": [],
		"reporter": {
			"name": "kkolipaka",
			"key": "kkolipaka",
			"displayName": "Kondal Kolipaka",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"environment": null,
		"closedSprints": [
			{
				"id": 1119,
				"state": "closed",
				"name": "2019 Sprint 6",
				"startDate": "2019-03-03T22:20:00.193Z",
				"endDate": "2019-03-15T22:20:00.000Z",
				"completeDate": "2019-03-18T17:26:43.120Z",
				"originBoardId": 114
			}
		],
		"comment": {
			"comments": [
				{
					"id": "438699",
					"author": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~fuzzywhite] If I understand the issue correctly, you're unable to configure Android SDK in the studio and it doesn't update in the studio dashboard page after installing a couple of times.Hope you're on the latest studio RC which is 5.1.0.201806130758 as on June 26th.\r\n\r\nCan you please provide the following logs and studio version which you're using.\r\n\r\nBefore you fetch all the logs, please restart the studio with the following settings\r\n# Go to Studio Preferences -> Studio -> Trouble Shooting\r\n# Select Debug Level to \"All\" from the drop-down\r\n# Click on Apply and restart the studio\r\n\r\nOnce studio is launched, verify the android configuration in the dashboard and studio preferences\r\n#  Go to Studio Preferences -> Studio -> Platforms -> Android\r\n#  If no android SDK is configured or shown here, click on the \"Browse\" button to select android SDK location. \r\n\r\n*To fetch Studio diagnostic Log:*\r\n# Go to Help -> Studio -> Run Diagnostic Test\r\n\r\n*To fetch Studio log:*\r\n# Go to Help -> Studio -> View Log file\r\n\r\n*To fetch Appc Daemon Log:*\r\n# Go to Help -> Studio -> Generate Appc Daemon Log\r\n\r\n*To fetch Appc ti info*\r\n# Go to terminal and run {{appc ti info}}\r\n\r\nPlease attach all the logs to the ticket to process further. ",
					"updateAuthor": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-26T03:47:51.000+0000",
					"updated": "2018-06-26T03:47:51.000+0000"
				},
				{
					"id": "438734",
					"author": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Diagnostic test will not run. Attached screenshot shows the error.  Other requested info is attached.  Thanks very much. [^tiInfo.rtf]  [^appcd_dump_1530044433964.log]  !Screen Shot 2018-06-26 at 1.18.59 PM.png|thumbnail! ",
					"updateAuthor": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-26T20:24:45.000+0000",
					"updated": "2018-06-26T20:24:45.000+0000"
				},
				{
					"id": "438741",
					"author": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~rwhite] Can you please add the missing studio log file as mentioned above",
					"updateAuthor": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-26T23:43:46.000+0000",
					"updated": "2018-06-26T23:44:23.000+0000"
				},
				{
					"id": "438742",
					"author": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Sorry. Iâ€™ll get that for you in an hour or so. ",
					"updateAuthor": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-27T01:14:03.000+0000",
					"updated": "2018-06-27T01:14:03.000+0000"
				},
				{
					"id": "438743",
					"author": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": " [^studio.log] ",
					"updateAuthor": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-27T02:00:47.000+0000",
					"updated": "2018-06-27T02:00:47.000+0000"
				},
				{
					"id": "438747",
					"author": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Thanks [~rwhite] for providing the logs.\r\n\r\nLooks like the problem is with the getting the android system-info from the Appc Daemon with in the 5sec, after making a system-info request if the daemon process doesn't respond with in the 5sec, studio will cancel the request process.\r\n\r\n[~cbarber] Why this can happen and how can we trace the root problem for this? I believe 5sec is good enough to fetch the system info from the daemon process.\r\n\r\n*Here is the request made by studio:*\r\n\r\n{code:java}\r\n{\"path\":\"\\/system-info\\/1.x\\/info\",\"id\":1530044373934,\"type\":\"call\",\"version\":\"1.0\"}\r\n{code}\r\n\r\nHere is the Appc Daemon [^appcd_dump_1530044433964.log], But I don't see any issue here.\r\n\r\n*Error log:*\r\n{code:java}\r\n!MESSAGE (Build 5.1.0.201806130758) [WARNING]  Unable to fetch system-info. Appcd didnt respond within 5 seconds.\r\n!STACK 1\r\norg.eclipse.core.runtime.CoreException: Unable to fetch system-info. Appcd didnt respond within 5 seconds.\r\n\tat com.appcelerator.titanium.core.daemon.AppcDaemonManager.executeSync(AppcDaemonManager.java:286)\r\n\tat com.appcelerator.titanium.core.daemon.AppcDaemonManager.getSystemInfo(AppcDaemonManager.java:303)\r\n\tat com.appcelerator.titanium.android.core.DaemonAndroidSDKLocator.loadTiInfo(DaemonAndroidSDKLocator.java:847)\r\n\tat com.appcelerator.titanium.android.core.DaemonAndroidSDKLocator.updateTiInfo(DaemonAndroidSDKLocator.java:231)\r\n\tat com.appcelerator.titanium.android.core.DaemonAndroidSDKLocator.access$0(DaemonAndroidSDKLocator.java:229)\r\n\tat com.appcelerator.titanium.android.core.DaemonAndroidSDKLocator$1.run(DaemonAndroidSDKLocator.java:244)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:56)\r\nCaused by: org.eclipse.core.runtime.CoreException: Unable to fetch system-info. Appcd didnt respond within 5 seconds.\r\n\tat com.appcelerator.titanium.core.daemon.AppcDaemonManager.executeSync(AppcDaemonManager.java:278)\r\n{code}",
					"updateAuthor": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-27T03:39:07.000+0000",
					"updated": "2018-06-27T04:36:17.000+0000"
				},
				{
					"id": "438822",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "I think 5 seconds is most likely insufficient. The first time the system-info is called, it takes time to get warmed up.\r\n\r\nThere are performance issues too with serializing the giant system-info object. I created DAEMON-230 to look into speeding it up, but without a major effort, it's just not feasible. Querying each type of info separately would be more efficient than system-info.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2018-06-28T14:53:16.000+0000",
					"updated": "2018-06-28T14:53:16.000+0000"
				},
				{
					"id": "438857",
					"author": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "https://github.com/appcelerator/titanium_studio/pull/1085",
					"updateAuthor": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-29T06:41:08.000+0000",
					"updated": "2018-06-29T06:41:08.000+0000"
				},
				{
					"id": "438859",
					"author": {
						"name": "ssekhri",
						"key": "ssekhri",
						"displayName": "Satyam Sekhri",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "FR Passed.\r\nThe login, dashboard and platform configuration works fine with the changes.\r\nAlso no significant changes in performance noticed.",
					"updateAuthor": {
						"name": "ssekhri",
						"key": "ssekhri",
						"displayName": "Satyam Sekhri",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-29T09:56:53.000+0000",
					"updated": "2018-06-29T09:56:53.000+0000"
				},
				{
					"id": "438862",
					"author": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~rwhite] Please pick 5.1.0 RC build  - 5.1.0.201806291005 which is published here http://preview.appcelerator.com/appc-studio/\r\n\r\nLet us know how it goes.",
					"updateAuthor": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-29T12:09:05.000+0000",
					"updated": "2018-06-29T12:09:05.000+0000"
				},
				{
					"id": "438864",
					"author": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Unfortunately, the problem still exists with this version .  However, it looks like the log file may have some more valuable info in it.  Attached.\r\n\r\n [^log] ",
					"updateAuthor": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-29T15:26:20.000+0000",
					"updated": "2018-06-29T15:26:41.000+0000"
				},
				{
					"id": "438865",
					"author": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "reopening, because it is not resolved.  Thanks",
					"updateAuthor": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-06-29T15:28:03.000+0000",
					"updated": "2018-06-29T15:28:03.000+0000"
				},
				{
					"id": "438891",
					"author": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"updateAuthor": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-07-02T04:13:55.000+0000",
					"updated": "2018-07-02T04:20:36.000+0000"
				},
				{
					"id": "438940",
					"author": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~kondal kolipaka].  I will ping you on teams around 10 am Singapore time.  Now iOS is not working either.  I am going to need help reconfiguring my Mac to get Appc Studio working again.  Thanks",
					"updateAuthor": {
						"name": "rwhite",
						"key": "rwhite",
						"displayName": "Rick White",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-07-02T21:31:30.000+0000",
					"updated": "2018-07-02T21:31:30.000+0000"
				},
				{
					"id": "438956",
					"author": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Few observations from the today's call with [~rwhite]\r\n\r\n# {{appc appcd exec /android/1.x/info}} is not responding. We have waited for more than 2mins still it doesn't return.\r\n#  {{appc appcd exec /system-info/1.x/info}} is also not responding from the terminal, but {{appc appcd exec  /ios/1.x/info}} seems to work fine.\r\n\r\nPlease find the  [^appcddump.txt]  [^status.txt] files captured during the session. Looking at the dump file I don't see any issues reported.\r\n\r\n[~cbarber]  Could you guide us how can identify the root cause of the problem here.",
					"updateAuthor": {
						"name": "kkolipaka",
						"key": "kkolipaka",
						"displayName": "Kondal Kolipaka",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2018-07-03T04:38:38.000+0000",
					"updated": "2018-07-03T04:38:38.000+0000"
				},
				{
					"id": "446811",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "I'm 99% positive I found the culprit and it's in androidlib.\r\n\r\nandroidlib's logic was ported from node-titanium-sdk. During the port, the code for executing a command over an adb connection was erroneously changed from a {{socket.on('end')}} to a {{socket.on('close')}}. When a command that is to buffer until the socket is closed, such as \"shell\", is executed, the \"close\" event would never fire. Turns out this needs to be an \"end\" event.\r\n\r\nIt was fixed in [this commit|https://github.com/appcelerator/androidlib/pull/20/commits/099b8d22866b4bd4c574f2a98fed2d1c396990e5] and shipped in androidlib@2.4.0.\r\n\r\nSince the fix, I haven't seen any hanging. Resolving this issue as fixed.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2019-03-13T20:41:50.000+0000",
					"updated": "2019-03-13T20:41:50.000+0000"
				}
			],
			"maxResults": 17,
			"total": 17,
			"startAt": 0
		}
	}
}