---
title: "[DAEMON-271] Error streaming object responses to HTTP clients"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-02-14T23:16:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Appc Daemon 2.0.0</td></tr>
<tr><th>Components</th><td>appcd-dispatcher</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2019-02-14T21:13:20.000+0000</td></tr>
<tr><th>Updated</th><td>2019-02-14T23:16:58.000+0000</td></tr>
</table>

<h3>Description</h3>

When a request is made to a service from an HTTP client, such as <code>curl</code>, that streams an object response, the dispatcher context's response stream is eventually piped into Koa's HTTP server's response stream which expects streamed chunks to be either strings or buffers. When an object is streamed, an error is thrown.

The solution is to stringify the object before it gets piped to the server response.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2019-02-14

   <a href="https://github.com/appcelerator/appc-daemon/pull/352" rel="nofollow" target="_blank">https://github.com/appcelerator/appc-daemon/pull/352</a></li>
</ol>


<p><a href="/DAEMON/DAEMON-271.json">JSON Source</a></p>