---
title: "[DAEMON-286] Incompatible Node environment in plugin modules"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-10-30T16:34:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Appc Daemon 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>appcd-plugin</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jan Vennemann</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2019-09-30T15:59:37.000+0000</td></tr>
<tr><th>Updated</th><td>2019-10-30T16:34:36.000+0000</td></tr>
</table>

<h3>Description</h3>

Plugins extend the default Node module definition to override the require behavior and inject a few globals. The provided globals include <code>console</code>, which is not fully compatible with the default Node behavior.

- <code>require</code> is missing <code>require.paths</code> and <code>require.main</code>.
- The global <code>console</code> object in Node is special in that it is is bound to Node's IO streams, which are [TTY](<a href="https://nodejs.org/api/tty.html#tty_tty)" rel="nofollow" target="_blank">https://nodejs.org/api/tty.html#tty_tty)</a> based streams with additional properties.

Other Node third-party modules that rely on these particular environment details do not work in plugins.

<h3>Comments</h3>

<ol>
<li>Jan Vennemann 2019-10-24

   PR: <a href="https://github.com/appcelerator/appc-daemon/pull/435" rel="nofollow" target="_blank">https://github.com/appcelerator/appc-daemon/pull/435</a>
   
   The <code>console</code> issues seem to be resolved with the recent snooplog update.</li>
</ol>


<p><a href="/DAEMON/DAEMON-286.json">JSON Source</a></p>