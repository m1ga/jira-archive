---
title: "[DAEMON-322] androidlib: NDK side-by-side support"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-02-13T23:26:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>androidlib@4.1.0</td></tr>
<tr><th>Components</th><td>androidlib</td></tr>
<tr><th>Labels</th><td>cb-next</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2020-02-11T15:59:43.000+0000</td></tr>
<tr><th>Updated</th><td>2020-02-13T23:26:49.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
As of 2019, Google introduced a new NDK "side-by-side" feature which allows you to install multiple NDK versions under the Android SDK directory. All new NDK versions are downloaded to the side-by-side directory and it replaces the old "ndk-bundle" directory.

*Example:*
The folder structure appear as follows on macOS...
<code>~/Library/Android/sdk/ndk/19.2.5345600</code>
<code>~/Library/Android/sdk/ndk/20.1.5948922</code>
<code>~/Library/Android/sdk/ndk/21.0.5935234</code>
<code>~/Library/Android/sdk/ndk/21.0.6113669</code>

There will be an "ndk" directory under the "Android/sdk" directory. Each subdirectory under "ndk" will be the version number of the installed NDK.

*Old Behavior:*
Before the NDK side-by-side feature existed, Android Studio used to install the NDK under the Android SDK directory as shown below. Updating the NDK version used to replace the old version. Android Studio no longer installs to this directory.
<code>~/Library/Android/sdk/ndk-bundle</code>

*To be done:*
The CLI should search for the installed NDK directory in the following order.
<h4>The "ANDROID_NDK" environment variable, if set.</h4>
<h4>The newest NDK side-by-side version subdirectory, if available.</h4>
<h4>The "ndk-bundle" directory.</h4>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2020-02-13

   PR: <a href="https://github.com/appcelerator/androidlib/pull/23" rel="nofollow" target="_blank">https://github.com/appcelerator/androidlib/pull/23</a></li>
</ol>


<p><a href="/DAEMON/DAEMON-322.json">JSON Source</a></p>