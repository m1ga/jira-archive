---
title: "[MOD-2194] Ti.Map: iOS event for regionwillchange"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-01-21T11:49:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Components</th><td>Map</td></tr>
<tr><th>Labels</th><td>ios, qe-5.4.0, ti.map</td></tr>
<tr><th>Reporter</th><td>Joseph Sachs</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2016-01-26T12:53:17.000+0000</td></tr>
<tr><th>Updated</th><td>2017-01-21T11:49:42.000+0000</td></tr>
</table>

<h3>Description</h3>

It would be nice to implement this event trigger on iOS:
<code><pre>
// regionwillchange to be triggered before the existing regionchanged event in Ti
- (void)mapView:(MKMapView *)mapView regionWillChangeAnimated:(BOOL)animated
</pre></code>
We do have regionDidChangeAnimated in ti.map for iOS & Android, however regionWillChangeAnimated is just as good to have :)

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-01-26

   Valid feature request, submitted via Github issue.</li>
<li>Hans Knöchel 2016-01-26

   *PR*: <a href="https://github.com/appcelerator-modules/ti.map/pull/146" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/pull/146</a>
   
   *Test*: Use the below code and drag the map view.
   *Expected behavior*: Start dragging and the <code>regionwillchange</code> event gets fired. Stop dragging and the <code>regionchanged</code> event gets fired.
   <code><pre>
   var window = Ti.UI.createWindow();
   var Map = require("ti.map");
   var mapView = Map.createView();
   
   mapView.addEventListener("regionwillchange", function(e) {
     Ti.API.warn("Region will change now!");
     Ti.API.warn(e);
   });
   
   mapView.addEventListener("regionchanged", function(e) {
     Ti.API.warn("Region did change!");
     Ti.API.warn(e);
   });
   
   window.add(mapView);
   window.open();
   </pre></code></li>
<li>Harry Bryant 2016-07-12

   Verified as fixed, When dragging the map view, "Region will change no!" warning is shown in the console. along with an object obtaining the current position. "Region did change!" event does not fire until dragging is stopped, which returns an object obtaining the new position.
   
   Tested On:
   iPhone 6S (9.3.2) Device & iPhone 6 Plus (8.3) Device
   Ti.Map (2.7.1)
   Mac OSX El Capitan 10.11.5 
   Ti SDK: 5.4.0.v20160712013704
   Appc Studio: 4.7.0.201607111053
   Appc NPM: 4.2.7	
   App CLI: 5.4.0-31
   Xcode 7.3
   Node v4.4.7
   
   *Closing ticket.*
   </li>
</ol>


<p><a href="/MOD/MOD-2194.json">JSON Source</a></p>