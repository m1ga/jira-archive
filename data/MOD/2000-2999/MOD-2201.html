---
title: "[MOD-2201] iOS annotations with customView Disappears"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-12-02T14:29:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Map</td></tr>
<tr><th>Labels</th><td>annotation, mapView, modules, qe-6.1.0, ti.map</td></tr>
<tr><th>Reporter</th><td>Brian García</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2016-02-14T13:39:26.000+0000</td></tr>
<tr><th>Updated</th><td>2017-01-03T19:28:51.000+0000</td></tr>
</table>

<h3>Description</h3>

Annotations with customView set disappears when zoom in and out several times. 

The app.js reproduces the issue with 10 numbered annotations, just zoom in and out.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/MOD/MOD-2201_58231/app.js">app.js</td></td><td>2016-02-14T13:37:56.000+0000</td><td>1202</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-02-14

   [~bgarcia] Does this problem occur on iOS or Android (or both?). Thank you!</li>
<li>Sharif AbuDarda 2016-02-15

   Hello, I tried to reproduce the issue with the example code provided. Annotations with customView is working as expected. I am using SDK 5.1.2.GA and ti.map module version 2.3.4. I am testing on Nexus 7, Android 6.0.1. I have done zoom out and zoom in multiple times in the mapview the annotations are present. </li>
<li>Brian García 2016-02-15

   Sorry! it's an iOS bug.</li>
<li>Hans Knöchel 2016-02-25

   [~sdarda] Can you please test some older versions to see which version broke it? Thanks!</li>
<li>Hans Knöchel 2016-02-26

   As a workaround: Use <code>return image.toImage()</code> and the annotation's <code>image</code> property which works well. The issue appears in all versions for over a year, so we need to backtrack that further.</li>
<li>Nikolai Derzhak 2016-03-03

   Hi guys, 
   
   I got email to Jira Admin. That Reporter (Brian) Can not reach this ticker anymore.
   
   {quote}
   
   From:	brian.ciavez13@gmail.com
   I've noticed that an issue reported by me has dissapeared from board. 
   
   
   The issue was:TC-5860 iOS annotations with customView Disappears. 
   
   thank you, 
   
   Brian
   {quote}</li>
<li>Nikolai Derzhak 2016-03-03

   Probably you should set Security Level to open, not internal. Stricted comments are conspired enough as for me.</li>
<li>Brian García 2016-04-11

   Any update on this? 
   
   thanks,</li>
<li>Vijay Singh 2016-11-15

   PR : <a href="https://github.com/appcelerator-modules/ti.map/pull/187" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/pull/187</a></li>
<li>Vijay Singh 2016-11-29

     I have made identifier of custom view nil.  So it will always create new annotation rather using the annotation from dqueue . This will solve the actual problem. But ideally we should use the reusable identifier for getting the annotation . This can cause a little bit lag in creating in annotation. As I tested from my side , it is not measurable . 
    Though I have put comment to correct the same in code as "TO DO" .
    We can create a ticket with low priority for fixing the same .
    [~hansknoechel] [~cng] Let me know your views.</li>
<li>Vijay Singh 2016-12-02

    [~hans123] Please check following PR for proper fix -
    <a href="https://github.com/appcelerator-modules/ti.map/pull/190" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/pull/190</a></li>
<li>Hans Knöchel 2016-12-02

    PR approved and merged, great work! The ti.map iOS version 2.8.1 and later includes the fix and will be pre-packaged in SDK 6.1.0 as well as already on the [Github Release Page](<a href="https://github.com/appcelerator-modules/ti.map/releases/tag/iOS-2.8.1)." rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/releases/tag/iOS-2.8.1).</a></li>
<li>Harry Bryant 2017-01-03

    Verified as fixed, using the latest 6.1.0 SDK build and Ti.Map module v2.8.2, the annotations no longer disappear when zooming in and out several times.
    
    Tested On:
    iPhone 6 Plus 10.2 Device & Simulator
    Ti.Map (2.8.2)
    Mac OS Sierra (10.12.2)
    Ti SDK:6.1.0.v20170101113815
    Appc Studio: 4.8.0.201611121409
    Appc NPM: 4.2.8
    App CLI: 6.1.0-319
    Xcode 8.2.1
    Node v4.4.7
    *Closing ticket.*</li>
</ol>


<p><a href="/MOD/MOD-2201.json">JSON Source</a></p>