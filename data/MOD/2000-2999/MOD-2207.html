---
title: "[MOD-2207] Android: Can't build project with ti.geofencing and ti.map"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-01-23T21:01:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>geofence</td></tr>
<tr><th>Reporter</th><td>dan</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2016-03-03T00:19:28.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-15T20:18:29.000+0000</td></tr>
</table>

<h3>Description</h3>

There are several problems with this. At first, i get an error that classes are already included. I have read about this problem elsewhere. So I removed google-play-services.jar from ti. From there it was able to build.

Now I can get the app to launch in the simulator, but as soon as it tries to register a location, it crashes with this error log:

<a href="https://gist.github.com/macdabby/693aaf2381cb3334c795" rel="nofollow" target="_blank">https://gist.github.com/macdabby/693aaf2381cb3334c795</a>

In it's original state, with all modules in tact as they are downloaded, i get this message in both 5.2.0 and 5.1.2:

[INFO] :   Running dexer: /Library/Java/JavaVirtualMachines/jdk1.7.0_79.jdk/Contents/Home/bin/java "-Xmx1024M" "-XX:-UseGCOverheadLimit" "-Djava.ext.dirs=/Users/dab/Library/android-sdk-macosx/platform-tools" "-jar" "/Users/dab/Library/android-sdk-macosx/build-tools/23.0.1/lib/dx.jar" "--dex" "--output=/Users/dab/Documents/dude/DWIApp/dwidude/build/android/bin/classes.dex" "/Users/dab/Documents/dude/DWIApp/dwidude/build/android/bin/classes" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/lib/titanium-verify.jar" "/Users/dab/Documents/dude/DWIApp/dwidude/modules/android/com.gconstantino.audiorecorder/1.0/audiorecorder.jar" "/Users/dab/Library/Application Support/Titanium/modules/android/ti.map/2.3.6/map.jar" "/Users/dab/Library/Application Support/Titanium/modules/android/ti.map/2.3.6/lib/google-play-services-base.jar" "/Users/dab/Library/Application Support/Titanium/modules/android/ti.map/2.3.6/lib/google-play-services-map.jar" "/Users/dab/Library/Application Support/Titanium/modules/android/ti.cloudpush/3.4.1/cloudpush.jar" "/Users/dab/Library/Application Support/Titanium/modules/android/ti.cloudpush/3.4.1/lib/aps-cloudpush-1.1.4.jar" "/Users/dab/Library/Application Support/Titanium/modules/android/ti.cloudpush/3.4.1/lib/google-play-services-gcm.jar" "/Users/dab/Documents/dude/DWIApp/dwidude/modules/android/ti.geofence/1.1.2/geofence.jar" "/Users/dab/Documents/dude/DWIApp/dwidude/modules/android/ti.geofence/1.1.2/lib/google-play-services.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/kroll-v8.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-analytics.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/aps-analytics.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-android.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/jaxen-1.1.1.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/ti-commons-codec-1.3.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/kroll-common.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/titanium.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-app.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-ui.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/nineoldandroids-appc-2.4.0.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-filesystem.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-media.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-appcompat.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/android-support-v4.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/android-support-v7-appcompat.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-cardview.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/cardview-v7-23.0.1.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-locale.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-network.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-xml.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-platform.jar" "/Users/dab/Library/Application Support/Titanium/mobilesdk/osx/5.1.2.GA/android/modules/titanium-geolocation.jar"
[ERROR] :  Failed to run dexer:
[ERROR] :  
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/maps/LocationSource;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/maps/GoogleMap$4;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/maps/StreetViewPanorama$OnStreetViewPanoramaChangeListener;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/maps/StreetViewPanoramaFragment;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/maps/GoogleMap$InfoWindowAdapter;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/maps/MapsInitializer;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/maps/MapFragment;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/maps/GoogleMap$OnMyLocationButtonClickListener;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/maps/UiSettings;
[ERROR] :  
[ERROR] :  UNEXPECTED TOP-LEVEL EXCEPTION:
[ERROR] :  java.lang.RuntimeException: Translation has been interrupted
[ERROR] :  	at com.android.dx.command.dexer.Main.processAllFiles(Main.java:608)
[ERROR] :  	at com.android.dx.command.dexer.Main.runMonoDex(Main.java:311)
[ERROR] :  	at com.android.dx.command.dexer.Main.run(Main.java:277)
[ERROR] :  	at com.android.dx.command.dexer.Main.main(Main.java:245)
[ERROR] :  	at com.android.dx.command.Main.main(Main.java:106)
[ERROR] :  Caused by: java.lang.InterruptedException: Too many errors
[ERROR] :  	at com.android.dx.command.dexer.Main.processAllFiles(Main.java:600)
[ERROR] :  	... 4 more


<h3>Comments</h3>

<ol>
<li>Nazmus Salahin 2016-03-03

   Please try to launch your app in real device and let us know the result. Try building your app using sdk 5.1.2.GA.  Also please provide your platform and environment details. If it is possible then give us the steps to reproduce this issue so that we can test it and dig deep. It will be more helpful and faster if you give test project or test code.
   
   Thanks.</li>
<li>dan 2016-03-03

   I'm not sure what you mean platform and environment. I have a mac, with os 10.11.3. I have tried to build for both the simulator and an android HTC desire, but I don't think that is the issue.</li>
<li>Hans Kn√∂chel 2017-01-23

   This issue was fixed in 6.0.0 as part of TIMOB-23697.</li>
<li>Lee Morris 2017-08-15

   Closing as duplicate.</li>
</ol>


<p><a href="/MOD/MOD-2207.json">JSON Source</a></p>