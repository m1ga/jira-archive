{
	"id": "159368",
	"key": "MOD-2240",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10034",
			"key": "MOD",
			"name": "Appcelerator Modules",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [],
		"resolution": {
			"id": "5",
			"description": "All attempts at reproducing this issue failed, or not enough information was available to reproduce the issue. Reading the code produces no clues as to why this behavior would occur. If more information appears later, please reopen the issue.",
			"name": "Cannot Reproduce"
		},
		"resolutiondate": "2016-04-22T04:36:28.000+0000",
		"created": "2016-04-07T08:07:12.000+0000",
		"priority": {
			"name": "High",
			"id": "2"
		},
		"labels": [
			"android-6",
			"annotation",
			"map"
		],
		"versions": [],
		"issuelinks": [],
		"assignee": {
			"name": "ssombhatla",
			"key": "ssombhatla",
			"displayName": "Srikanth Sombhatla",
			"active": false,
			"timeZone": "Asia/Singapore"
		},
		"updated": "2016-04-22T04:36:28.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "13700",
				"name": "Map"
			}
		],
		"description": "Annotations are not showing up on Android 6.0 + if you point the *image* property to a square-shaped image.\r\n\r\n\r\nI've tried with several different images and it only showed up with rectangle shaped images.\r\n\r\nInstructions: \r\n-> Create a classic or an alloy mobile project\r\n-> Add a Ti.Map View to the main Window\r\n-> Add an Annotation pointing to a random square shaped .png\r\n-> It wont show up in the map\r\n-> Add an annotation pointing to a random rectangle shaped .png\r\n-> It shows normally\r\n\r\nSee attached videos for example.\r\n",
		"attachment": [
			{
				"id": "58854",
				"filename": "pin-red.gif",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 1297,
				"mimeType": "image/gif"
			},
			{
				"id": "58853",
				"filename": "pin-red.jpg",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 12462,
				"mimeType": "image/jpeg"
			},
			{
				"id": "58852",
				"filename": "pin-red.png",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 17990,
				"mimeType": "image/png"
			},
			{
				"id": "58862",
				"filename": "pin-red-test.png",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 18460,
				"mimeType": "image/png"
			},
			{
				"id": "58861",
				"filename": "pin-red-test2.png",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 20602,
				"mimeType": "image/png"
			},
			{
				"id": "58860",
				"filename": "pin-red-test3.png",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 18477,
				"mimeType": "image/png"
			},
			{
				"id": "58859",
				"filename": "pin-red-test4.png",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 18512,
				"mimeType": "image/png"
			},
			{
				"id": "58858",
				"filename": "pin-red-test5.png",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 18917,
				"mimeType": "image/png"
			},
			{
				"id": "58857",
				"filename": "pin-red-test6.png",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 3192,
				"mimeType": "image/png"
			},
			{
				"id": "58856",
				"filename": "pin-red-test7.png",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 3194,
				"mimeType": "image/png"
			},
			{
				"id": "58855",
				"filename": "pin-red-test8.png",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T22:15:43.000+0000",
				"size": 3203,
				"mimeType": "image/png"
			},
			{
				"id": "58824",
				"filename": "rectangle1.mov",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T08:05:46.000+0000",
				"size": 5030069,
				"mimeType": "video/quicktime"
			},
			{
				"id": "58823",
				"filename": "rectangle2.mov",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T08:05:46.000+0000",
				"size": 5314827,
				"mimeType": "video/quicktime"
			},
			{
				"id": "58821",
				"filename": "square2.mov",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T08:05:58.000+0000",
				"size": 6986016,
				"mimeType": "video/quicktime"
			},
			{
				"id": "58822",
				"filename": "square image1.mov",
				"author": {
					"name": "rdperottoni",
					"key": "rdperottoni",
					"displayName": "Rodolfo Perottoni",
					"active": true,
					"timeZone": "Australia/Brisbane"
				},
				"created": "2016-04-07T08:05:55.000+0000",
				"size": 4777605,
				"mimeType": "video/quicktime"
			}
		],
		"flagged": false,
		"summary": "Android: Ti.Map Annotation not showing if IMAGE property points to a square shaped image",
		"creator": {
			"name": "rdperottoni",
			"key": "rdperottoni",
			"displayName": "Rodolfo Perottoni",
			"active": true,
			"timeZone": "Australia/Brisbane"
		},
		"subtasks": [],
		"reporter": {
			"name": "rdperottoni",
			"key": "rdperottoni",
			"displayName": "Rodolfo Perottoni",
			"active": true,
			"timeZone": "Australia/Brisbane"
		},
		"environment": "SDK 5.2.1.GA\r\nEvery single Ti.Map module version\r\nAndroid 6.0 (Device / Simulator)",
		"comment": {
			"comments": [
				{
					"id": "382066",
					"author": {
						"name": "aislam",
						"key": "aislam",
						"displayName": "Aminul Islam",
						"active": false,
						"timeZone": "Etc/GMT-6"
					},
					"body": "Hi,\r\nThanks for reaching out.Could you please share with us your all shaped  images? So that we can give you a right direction.",
					"updateAuthor": {
						"name": "aislam",
						"key": "aislam",
						"displayName": "Aminul Islam",
						"active": false,
						"timeZone": "Etc/GMT-6"
					},
					"created": "2016-04-07T11:48:13.000+0000",
					"updated": "2016-04-07T11:48:13.000+0000"
				},
				{
					"id": "382138",
					"author": {
						"name": "rdperottoni",
						"key": "rdperottoni",
						"displayName": "Rodolfo Perottoni",
						"active": true,
						"timeZone": "Australia/Brisbane"
					},
					"body": "Here you go. Several different image sizes / formats. Rectangle images show up normally, while square ones don't show. JPG's are OK, but i need transparency and that won't work.",
					"updateAuthor": {
						"name": "rdperottoni",
						"key": "rdperottoni",
						"displayName": "Rodolfo Perottoni",
						"active": true,
						"timeZone": "Australia/Brisbane"
					},
					"created": "2016-04-07T22:16:31.000+0000",
					"updated": "2016-04-07T22:16:31.000+0000"
				},
				{
					"id": "382893",
					"author": {
						"name": "nsalahin",
						"key": "nsalahin",
						"displayName": "Nazmus Salahin",
						"active": true,
						"timeZone": "Asia/Dhaka"
					},
					"body": "Hello,\r\nI am not able to reproduce this issue. Annotations are showing up on Android 6.0.1 with both square size image and rectangle size image. I have tested this issue in a classic project with ti.map 2.3.6 module. I am adding the screenshots here.\r\n[Square Annotation Visible| http://s24.postimg.org/4dlwz3arp/square_Annotation_Visible.png]\r\n[Rectangle Annotation Visible| http://s23.postimg.org/6xgtj1ybv/rectangle_Annotation_Visible.png]\r\n*Steps:*\r\n1. Create a classic project for Android.\r\n2. Add the following meta data for android manifest  in tiapp.xml.\r\n{code}\r\n   <android xmlns:android=\"http://schemas.android.com/apk/res/android\">\r\n        <manifest>\r\n            <application>\r\n                <!-- Replace \"PASTE YOUR GOOGLE MAPS API KEY HERE\" with the Google API key you obtained -->\r\n                <meta-data android:name=\"com.google.android.maps.v2.API_KEY\" android:value=\"your_api_key\"/>\r\n                <meta-data android:name=\"com.google.android.gms.version\" android:value=\"@integer/google_play_services_version\"/>\r\n            </application>\r\n        </manifest>\r\n    </android>\r\n{code}\r\n3. Paste rectangle.png and square.png file in \"android/images\" folder.\r\n[square.png| http://s22.postimg.org/xo7czv1xp/square.png]\r\n[rectangle.png| http://s24.postimg.org/fw82plk5d/rectangle.png]\r\n4. Replace code in app.js with following code.\r\n{code}\r\nvar Map = require('ti.map');\r\nvar win = Titanium.UI.createWindow();\r\n\r\nvar mountainView = Map.createAnnotation({\r\n    latitude:37.390749,\r\n    longitude:-122.081651,\r\n    title:\"Appcelerator Headquarters\",\r\n    subtitle:'Mountain View, CA',\r\n    image:'/images/square.png',  // refers to square size image\r\n    //image:'/images/rectangle.png', // refers to rectangle size image\r\n    myid:1 // Custom property to uniquely identify this annotation.\r\n});\r\n\r\nvar mapview = Map.createView({\r\n    mapType: Map.NORMAL_TYPE,\r\n    region: {latitude:37.390749, longitude:-122.081651,\r\n            latitudeDelta:0.01, longitudeDelta:0.01},\r\n    animate:true,\r\n    regionFit:true,\r\n    userLocation:true,\r\n    annotations:[mountainView]\r\n});\r\n\r\nwin.add(mapview);\r\n// Handle click events on any annotations on this map.\r\nmapview.addEventListener('click', function(evt) {\r\n    Ti.API.info(\"Clicked \" + evt.clicksource + \" on \" + evt.latitude + \",\" + evt.longitude);\r\n});\r\nwin.open();\r\n{code}\r\n\r\n5. Add ti.map module in tiapp.xml\r\n6. Build and run the app.\r\n7. Change the following two lines in app.js and test again.\r\n{code}\r\n    image:'/images/square.png',  // refers to square size image\r\n   // image:'/images/rectangle.png', // refers to rectangle size image\r\n{code}\r\n\r\n\r\n*Environment*:\r\n\r\n*Device info:* Nexus7 (android 6.0.1)\r\n*Node.js Version:* 0.12.7\r\n*npm Version:* 2.11.3\r\n*Titanium SDKs:* 5.2.2.GA and 5.2.1.GA\r\n*Java Development Kit Version:* 1.8.0_73\r\n*Titanium CLI Version:*  5.0.5\r\n*Appcelerator CLI Version:*  5.2.2\r\n*Appcelerator Studio:* 4.4.0.201511241829",
					"updateAuthor": {
						"name": "nsalahin",
						"key": "nsalahin",
						"displayName": "Nazmus Salahin",
						"active": true,
						"timeZone": "Asia/Dhaka"
					},
					"created": "2016-04-17T08:22:57.000+0000",
					"updated": "2016-04-21T09:27:19.000+0000"
				},
				{
					"id": "383629",
					"author": {
						"name": "ssombhatla",
						"key": "ssombhatla",
						"displayName": "Srikanth Sombhatla",
						"active": false,
						"timeZone": "Asia/Singapore"
					},
					"body": "Not able to reproduce this issue >= ti.map 2.3.6 on Android 4.4.2, 5.0. Used the provided square images, they show as expected. ",
					"updateAuthor": {
						"name": "ssombhatla",
						"key": "ssombhatla",
						"displayName": "Srikanth Sombhatla",
						"active": false,
						"timeZone": "Asia/Singapore"
					},
					"created": "2016-04-22T04:36:06.000+0000",
					"updated": "2016-04-22T04:36:19.000+0000"
				}
			],
			"maxResults": 7,
			"total": 7,
			"startAt": 0
		}
	}
}