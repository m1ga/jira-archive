---
title: "[MOD-2268] iOS/Android: Ti.Map - Support for the visible property, add circle-opacity, refactor old view, fix deprecations"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-03-20T19:20:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Map</td></tr>
<tr><th>Labels</th><td>Ti.Map, android, module</td></tr>
<tr><th>Reporter</th><td>Rodolfo Perottoni</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2016-07-10T22:27:00.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-18T22:11:19.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently we don't have access to the *visible* property of *Markers*. It would be good to have access to that. Also, it would be nice to support the *alpha* property of the native MKCircle.

*EDIT by Hans*: Additionally, I'd like to remove the legacy <code>TiMapIOS7View</code> class that has been around for < iOS 7 support. Nowadays we do not support this anymore, so we should clean it up.

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-07-10

   PR (cherry-picked): <a href="https://github.com/appcelerator-modules/ti.map/pull/192" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/pull/192</a></li>
<li>Vijay Singh 2017-01-17

   Test code for visible property of annotation- 
   
   <code><pre>
   var Map = require('ti.map');
   var win = Ti.UI.createWindow();
    
   var anno = Map.createAnnotation({
       latitude: -33.87365, 
       image: 'map_pin.png', 
       longitude: 151.20689, 
       title: "Sydney", 
       subtitle: "Sydney is quite chill", 
       hidden:false
   });
       
   var button1 = Ti.UI.createButton({
       left :10,
       top:10,
       width:80,
       title: 'Show Annotation'
   })
    
   var button2 = Ti.UI.createButton({
       right :10,
       top:10,
       width:80,
       title: 'Hide Annotation'
   })  
   var button3 = Ti.UI.createButton({
       left :120,
       top:10,
       width:80,
       title: 'Annotation state'
   })
   button1.addEventListener('click', function(){
       anno.hidden = false;
   });
    
   button2.addEventListener('click', function(){
       anno.hidden = true;
   });
    
   button3.addEventListener('click', function(){
       Ti.API.info('Annotation hidden? ' + anno.hidden);
   });
    
   win.add(button1);
   win.add(button2);
   win.add(button3);
    
   Ti.API.info ("Latitude:" + anno.latitude);
   Ti.API.info ("Title:" + anno.title);
    
   var map = Map.createView({
       userLocation: true,
       mapType: Map.NORMAL_TYPE,
       animate: true,
       annotations: [anno],
       region: {latitude: -33.87365, longitude: 151.20689, latitudeDelta: 0.1, longitudeDelta: 0.1 }, //Sydney
       top: '50%'
   });
   Ti.API.info("userLocation: " + map.userLocation);
   win.add(map);
    
   map.addEventListener('click', function(e) {
       Ti.API.info("Latitude: " + ann.latitude);
       Ti.API.info("Source: " + e.clicksource);
   });
    
   win.open();
   </pre></code>
   </li>
<li>Hans Knöchel 2017-01-19

   [~rdperottoni] The <code>visible</code> property does not seem to work when you set it after the initial state. I'll try to figure out why.</li>
<li>Eric Wieber 2017-05-18

   Verified implemented using iOS module 2.9.0 and Android module 3.1.1.
   
   Visible property (hidden on iOS), Circles, Opacity property for circles and color values for fill-color on circles and pin colors are all working. A parity issue was found during testing where iOS will accept strings and hex values for colors on circles, pins, and annotations, where Android will only accept the constants. This difference is documented, however. Thanks [~smohammed] for the Android testing.</li>
</ol>


<p><a href="/MOD/MOD-2268.json">JSON Source</a></p>