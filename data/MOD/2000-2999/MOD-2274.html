---
title: "[MOD-2274] iOS: Map Annotation click event doesn't return correct clicksource"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-08-10T16:49:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.0, Release 5.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Backlog</td></tr>
<tr><th>Components</th><td>Map</td></tr>
<tr><th>Labels</th><td>BNSF</td></tr>
<tr><th>Reporter</th><td>Angel Petkov</td></tr>
<tr><th>Assignee</th><td>Angel Petkov</td></tr>
<tr><th>Created</th><td>2016-07-15T23:35:54.000+0000</td></tr>
<tr><th>Updated</th><td>2016-08-10T16:49:07.000+0000</td></tr>
</table>

<h3>Description</h3>

Demo Code:
<code><pre>
var MapModule = require('ti.map');
var win = Ti.UI.createWindow({backgroundColor: 'white'});
var appc = MapModule.createAnnotation({
    latitude: 37.389569,
    longitude: -122.050212,
    title: 'Appcelerator HQ',
    subtitle: 'Mountain View, CA',
    pincolor: MapModule.ANNOTATION_GREEN,
    draggable: true,
    rightButton: Ti.UI.iPhone.SystemButton.CONTACT_ADD
});
var mapview = MapModule.createView({
    mapType: MapModule.HYBRID_TYPE,
    region: {latitude: 37.389569, longitude: -122.050212, latitudeDelta: 0.2, longitudeDelta: 0.2},
    annotations: [appc]
});


mapview.addEventListener('click', function(e){
    Ti.API.info(e.type);
    Ti.API.info(JSON.stringify(e.clicksource));
});

win.add(mapview);
win.open();
</pre></code>

*Test Case:*
Click the Title or subTitle of the map annotation.

*Expected Result:*
Should return the title/subTitle as the clickSource

*Actual Results*
The returned clickSource is "pin"


<h3>Comments</h3>

<ol>
<li>Angel Petkov 2016-07-26

   </li>
<li> Ricardo Ramirez 2016-07-27

   [~apetkov] We need at least a workaround for this. Is possible for you to implement a view or to add some view instead the map annotation and attach the event to the view ? </li>
<li>Angel Petkov 2016-07-27

   [~rramirez] Like I said above the mapView delegates deal with the annotation callbacks not the actual annotations  -so there aren't many workarounds.-
   
   Even if you were to create an annotation with a customView and 2 labels for title and subtitle it still wouldn't work, as no callbacks are called on the view because the user-interactions are [disabled](<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Modules.Map.Annotation). 
   
   
   *EDIT:* For now please use the right and left accessories. </li>
<li>Hans Kn√∂chel 2016-08-10

   PR for the docs-update merged. As described in detail above, newer iOS-versions do not allow to track the title and subtitle when clicking the infoWindow. If we would still want to do it, it would only be with private API-usage which is disallowed by Apple. People can still create their own infoWindow with their labels and get it from there. Thanks!</li>
</ol>


<p><a href="/MOD/MOD-2274.json">JSON Source</a></p>