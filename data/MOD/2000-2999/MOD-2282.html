---
title: "[MOD-2282] Include the ti.geofence module 1.1.5 and run on an android device or simulator and the app fails to run"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Geofence</td></tr>
<tr><th>Labels</th><td>android</td></tr>
<tr><th>Reporter</th><td>Calvin Cropper</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2016-08-09T14:36:00.000+0000</td></tr>
<tr><th>Updated</th><td>2016-09-22T20:29:10.000+0000</td></tr>
</table>

<h3>Description</h3>

Create a new standard mobile app project and include the latetest ti.geofence module, ti.cloud and ti.cloudpush modules. Set a reference to the ti.geofence module in the app var Geofence = require("ti.geofence"); and run on android device or simulator.  The app fails to run. The app runs fine on iOS device/simulator.

[INFO] :   dalvikvm: Could not find method ti.geofence.GeofenceRemover.<init>, referenced from method ti.geofence.GeofenceModule.<init>
[WARN] :   dalvikvm: VFY: unable to resolve direct method 27765: Lti/geofence/GeofenceRemover;.<init> (Landroid/content/Context;)V
[WARN] :   dalvikvm: Invalid indirect reference 0xa5aab650 in decodeIndirectRef
[INFO] :   dalvikvm: "KrollRuntimeThread" prio=5 tid=11 RUNNABLE
[INFO] :   dalvikvm:   | group="main" sCount=0 dsCount=0 obj=0xa503c528 self=0xb832dce8
[INFO] :   dalvikvm:   | sysTid=2007 nice=0 sched=0/0 cgrp=apps handle=-1204625064
[INFO] :   dalvikvm:   | state=R schedstat=( 146485703 20840100 207 ) utm=10 stm=4 core=0
[INFO] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.ReferenceTable.createReference(ReferenceTable.java:-1)
[INFO] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.V8Runtime.nativeRunModule(Native Method)
[INFO] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.V8Runtime.doRunModule(V8Runtime.java:177)
[INFO] :   dalvikvm:   at org.appcelerator.kroll.KrollRuntime.handleMessage(KrollRuntime.java:319)
[INFO] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.V8Runtime.handleMessage(V8Runtime.java:203)
[INFO] :   dalvikvm:   at android.os.Handler.dispatchMessage(Handler.java:98)
[INFO] :   dalvikvm:   at android.os.Looper.loop(Looper.java:136)
[INFO] :   dalvikvm:   at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:118)
[INFO] :   dalvikvm:
[ERROR] :  dalvikvm: VM aborting
[INFO] :   libc: Fatal signal 6 (SIGABRT) at 0x000007c7 (code=-6), thread 2007 (KrollRuntimeThr)

<h3>Comments</h3>

<ol>
<li>Aminul Islam 2016-08-09

   Hi,
   Thanks for reaching us. When building an application that includes two or more modules that contains the same library, in particular, the google-play-services.jar, the JAR files may conflict indicating that each module is using a different version of the library.
   To resolve this issue, you can either delete one of the JAR files from one of the modules or copy the JAR file from one module's lib folder to the other's to make both versions the same. This solution only works on a per-application basis and is not a global solution.
   
   Regards,
   Aminul </li>
<li>Calvin Cropper 2016-08-10

   I've removed google-play-services.jar from other modules and tried replacing them all with the same version and I still get an error that looks like its coming from the ti.geofence module.
   
   [INFO] : dalvikvm: Could not find method ti.geofence.GeofenceRemover.<init>, referenced from method ti.geofence.GeofenceModule.<init>
   
   Is the google-play-services.jar still the problem? If so is there a list of module versions that work well with each other using google play services? I'm only using Appcelerator modules and no 3rd party options.</li>
<li>Aminul Islam 2016-08-11

   Hi,
   Could you please test  ti.geofence module 1.1.5 separately? Create a new test project and include ti.geofence module only.
   Let me know how it's goes.
   
   Regards,
   Aminul
   
   </li>
<li>Calvin Cropper 2016-08-11

   After creating a new project and adding only the ti.geofence module I get the following:
   [ERROR] :  Failed to package application:
   [ERROR] :  
   [ERROR] :  /Documents/Appcelerator_Studio_Workspace/Geofence Test/build/android/AndroidManifest.xml:16: error: Error: No resource found that matches the given name (at 'value' with value '@integer/google_play_services_version').</li>
<li>Aminul Islam 2016-08-11

   Hi,
   Could you please download a fresh ti.geofence module 1.1.5 from the following link  and try it again?
   <a href="https://platform.appcelerator.com/#/download/modules" rel="nofollow" target="_blank">https://platform.appcelerator.com/#/download/modules</a>
   It's seems from your error log you changed your google_play_services_version.
   
   Thanks</li>
<li>Calvin Cropper 2016-08-11

   I downloaded a new version of the module, created new project only included the ti.geofence module and got the same error.
   
   [INFO] :   dalvikvm: Could not find method ti.geofence.GeofenceRemover.<init>, referenced from method ti.geofence.GeofenceModule.<init>
   [WARN] :   dalvikvm: VFY: unable to resolve direct method 27647: Lti/geofence/GeofenceRemover;.<init> (Landroid/content/Context;)V
   [WARN] :   dalvikvm: Invalid indirect reference 0xa5a84fb0 in decodeIndirectRef
   [INFO] :   dalvikvm: "main" prio=5 tid=1 RUNNABLE
   [INFO] :   dalvikvm:   | group="main" sCount=0 dsCount=0 obj=0xa4ce8bd8 self=0xb8137eb0
   [INFO] :   dalvikvm:   | sysTid=2376 nice=0 sched=0/0 cgrp=apps handle=-1217023936
   [INFO] :   dalvikvm:   | state=R schedstat=( 299841295 28890638 297 ) utm=20 stm=9 core=0
   [INFO] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.ReferenceTable.createReference(ReferenceTable.java:-1)
   [INFO] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.V8Runtime.nativeRunModule(Native Method)
   [INFO] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.V8Runtime.doRunModule(V8Runtime.java:189)
   [INFO] :   dalvikvm:   at org.appcelerator.kroll.KrollRuntime.runModule(KrollRuntime.java:241)
   [INFO] :   dalvikvm:   at org.appcelerator.titanium.TiLaunchActivity.loadActivityScript(TiLaunchActivity.java:102)
   [INFO] :   dalvikvm:   at org.appcelerator.titanium.TiLaunchActivity.windowCreated(TiLaunchActivity.java:150)
   [INFO] :   dalvikvm:   at org.appcelerator.titanium.TiRootActivity.windowCreated(TiRootActivity.java:107)
   [INFO] :   dalvikvm:   at org.appcelerator.titanium.TiBaseActivity.onCreate(TiBaseActivity.java:673)
   [INFO] :   dalvikvm:   at org.appcelerator.titanium.TiLaunchActivity.onCreate(TiLaunchActivity.java:143)
   [INFO] :   dalvikvm:   at org.appcelerator.titanium.TiRootActivity.onCreate(TiRootActivity.java:96)
   [INFO] :   dalvikvm:   at android.app.Activity.performCreate(Activity.java:5231)
   [INFO] :   dalvikvm:   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)
   [INFO] :   dalvikvm:   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2148)
   [INFO] :   dalvikvm:   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2233)
   [INFO] :   dalvikvm:   at android.app.ActivityThread.access$800(ActivityThread.java:135)
   [INFO] :   dalvikvm:   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)
   [INFO] :   dalvikvm:   at android.os.Handler.dispatchMessage(Handler.java:102)
   [INFO] :   dalvikvm:   at android.os.Looper.loop(Looper.java:136)
   [INFO] :   dalvikvm:   at android.app.ActivityThread.main(ActivityThread.java:5001)
   [INFO] :   dalvikvm:   at java.lang.reflect.Method.invokeNative(Native Method)
   [INFO] :   dalvikvm:   at java.lang.reflect.Method.invoke(Method.java:515)
   [INFO] :   dalvikvm:   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)
   [INFO] :   dalvikvm:   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)
   [INFO] :   dalvikvm:   at dalvik.system.NativeStart.main(Native Method)
   [INFO] :   dalvikvm:
   [ERROR] :  dalvikvm: VM aborting
   [INFO] :   libc: Fatal signal 6 (SIGABRT) at 0x00000948 (code=-6), thread 2376 (com.test)
   
   
   I also upgraded to SDK 5.4.0GA and Appcelerator Studio to 4.7 with the same result. The module runs with iOS and not with Android.</li>
<li>Calvin Cropper 2016-09-22

   Any updates on this?</li>
</ol>


<p><a href="/MOD/MOD-2282.json">JSON Source</a></p>