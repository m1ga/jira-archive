---
title: "[MOD-2365] iOS: Including ti.map causes build to error"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-10-02T10:51:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Map</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2017-10-02T09:40:14.000+0000</td></tr>
<tr><th>Updated</th><td>2017-10-02T10:51:56.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When building with ti.map@2.13.0 the build process fails with the below, full build log is attached. 

<code><pre>
[TRACE] Ld build/Products/Debug-iphonesimulator/ticreateapp.app/ticreateapp normal x86_64
[TRACE]     cd /Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone
[TRACE]     export IPHONEOS_DEPLOYMENT_TARGET=8.0
[TRACE]     export PATH="/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/Users/eharris/.rvm/gems/ruby-2.2.5/bin:/Users/eharris/.rvm/gems/ruby-2.2.5@global/bin:/Users/eharris/.rvm/rubies/ruby-2.2.5/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Users/eharris/.rvm/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_111.jdk/Contents/Home/bin"
[TRACE]     /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -arch x86_64 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator10.3.sdk -L/Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone/build/Products/Debug-iphonesimulator -L/Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone/lib -L/Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone/Classes/APSAnalytics -L/Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone/Classes/APSHTTPClient -L/Users/eharris/Library/Application\ Support/Titanium/modules/iphone/ti.map/2.13.0 -F/Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone/build/Products/Debug-iphonesimulator -filelist /Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone/build/Intermediates/ticreateapp.build/Debug-iphonesimulator/ticreateapp.build/Objects-normal/x86_64/ticreateapp.LinkFileList -mios-simulator-version-min=8.0 -dead_strip -Xlinker -object_path_lto -Xlinker /Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone/build/Intermediates/ticreateapp.build/Debug-iphonesimulator/ticreateapp.build/Objects-normal/x86_64/ticreateapp_lto.o -Xlinker -export_dynamic -Xlinker -no_deduplicate -Xlinker -objc_abi_version -Xlinker 2 -fobjc-link-runtime -stdlib=libc++ -ObjC -weak_framework MapKit -weak_framework MapKit -weak_framework JavaScriptCore -Xlinker -sectcreate -Xlinker __TEXT -Xlinker __entitlements -Xlinker /Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone/build/Intermediates/ticreateapp.build/Debug-iphonesimulator/ticreateapp.build/ticreateapp.app.xcent -weak_framework iAd -framework CoreMedia -weak_framework CoreMotion -lAPSAnalytics -weak_framework CoreText -framework EventKit -framework EventKitUI -weak_framework Security -licucore -framework Foundation -weak_framework UIKit -framework CoreGraphics -weak_framework AddressBook -framework AddressBookUI -framework CFNetwork -framework CoreLocation -weak_framework MapKit -framework MessageUI -framework MobileCoreServices -framework OpenGLES -framework QuartzCore -framework SystemConfiguration -lsqlite3 -lz -framework AudioToolbox -weak_framework MediaPlayer -framework AVFoundation -lxml2 -lAPSHTTPClient -ltiverify -lti.map -Xlinker -dependency_info -Xlinker /Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone/build/Intermediates/ticreateapp.build/Debug-iphonesimulator/ticreateapp.build/Objects-normal/x86_64/ticreateapp_dependency_info.dat -o /Users/eharris/Documents/Appcelerator_Studio_Workspace/ticreateapp/build/iphone/build/Products/Debug-iphonesimulator/ticreateapp.app/ticreateapp
[TRACE] Undefined symbols for architecture x86_64:
[TRACE]   "_OBJC_CLASS_$_MKClusterAnnotation", referenced from:
[TRACE]       objc-class-ref in libti.map.a(TiMapView.o)
[TRACE]   "_OBJC_METACLASS_$_MKMarkerAnnotationView", referenced from:
[TRACE]       _OBJC_METACLASS_$_TiMapMarkerAnnotationView in libti.map.a(TiMapMarkerAnnotationView.o)
[TRACE]   "_OBJC_CLASS_$_MKMarkerAnnotationView", referenced from:
[TRACE]       _OBJC_CLASS_$_TiMapMarkerAnnotationView in libti.map.a(TiMapMarkerAnnotationView.o)
[TRACE] ld: symbol(s) not found for architecture x86_64
[TRACE] clang: error: linker command failed with exit code 1 (use -v to see invocation)
[ERROR] ** BUILD FAILED **
[ERROR] The following build commands failed:
[ERROR]         Ld build/Products/Debug-iphonesimulator/ticreateapp.app/ticreateapp normal x86_64
[ERROR] (1 failure)
</pre></code>

<h4>Steps to reproduce</h4>

<h4>Download ti.map 2.13.0 <a href="https://github.com/appcelerator-modules/ti.map/releases/tag/ios-2.13.0" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/releases/tag/ios-2.13.0</a></h4>
<h4>Add to your tiapp.xml <code>&lt;module platform="ios"&gt;ti.map&lt;/module&gt;</code></h4>
<h4>Build for simulator <code>appc run -p ios</code></h4>

<h4>Actual</h4>

Build fails

<h4>Expected </h4>

Build should not fail

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/MOD/MOD-2365_63380/build_iphone.log">build_iphone.log</td></td><td>2017-10-02T09:36:10.000+0000</td><td>1813395</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2017-10-02

   Marking as Duplicate of TIMOB-25076 to reopen that one in order to keep the changelog clean.</li>
</ol>


<p><a href="/MOD/MOD-2365.json">JSON Source</a></p>