---
title: "[MOD-2366] Android: appcelerator.encrypteddatabase module fails with SDK 6.2.0+"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-10-06T21:23:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>appcelerator.encrypteddatabase 2.0.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Encrypted SQLite DB</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Victor Vazquez Montero</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2017-10-04T21:29:05.000+0000</td></tr>
<tr><th>Updated</th><td>2018-04-24T16:54:46.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>When running Encrypted database module with sdk 6.2.x the module errors out with the following error: </h4>
[ERROR] : TiExceptionHandler: (main) [0,291] - Message: Uncaught dlopen failed: library "libutils.so" not found 

full log attached below. 

<h4>steps to reproduce</h4>
Create a new project using Encrypted Database Module 2.0.2 
Build with SDK 6.2.+

<h4>Additional information </h4>
Works fine with anything before SDK 6.2.0

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/MOD/MOD-2366_63392/ModuleLog.rtf">ModuleLog.rtf</td></td><td>2017-10-04T21:28:58.000+0000</td><td>8661</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Victor Vazquez Montero 2017-10-05

   [~amukherjee]I was able to reproduce the issue using the example app like you. I went ahead and added environment details to the ticket</li>
<li>Victor Vazquez Montero 2017-10-05

   Here is a link to the sample app I used <a href="https://axwaysoftware-my.sharepoint.com/personal/vvazquezmontero_axway_com/_layouts/15/guestaccess.aspx?guestaccesstoken=icc5kQKMZuXVhv4zBNuNTV%2fcoNKXu%2fcC4FRdGLtZEmQ%3d&docid=2_1861d9138acec4092b86904d848027efa&rev=1" rel="nofollow" target="_blank">https://axwaysoftware-my.sharepoint.com/personal/vvazquezmontero_axway_com/_layouts/15/guestaccess.aspx?guestaccesstoken=icc5kQKMZuXVhv4zBNuNTV%2fcoNKXu%2fcC4FRdGLtZEmQ%3d&docid=2_1861d9138acec4092b86904d848027efa&rev=1</a></li>
<li>Lokesh Choudhary 2017-10-05

   [~amukherjee], [~vvazquezmontero], I was able to reproduce the issue. Its seen only on Android 7.0 & above device. 6.0.1 & below is fine.
   <code><pre>
   [WARN] :   [Pixel] W/System.err: java.lang.UnsatisfiedLinkError: dlopen failed: library "libutils.so" not found
   [WARN] :   [Pixel] W/System.err: 	at java.lang.Runtime.loadLibrary0(Runtime.java:989)
   [WARN] :   [Pixel] W/System.err: 	at java.lang.System.loadLibrary(System.java:1530)
   [WARN] :   [Pixel] W/System.err: 	at net.sqlcipher.database.SQLiteDatabase.loadLibs(SQLiteDatabase.java:174)
   [WARN] :   [Pixel] W/System.err: 	at net.sqlcipher.database.SQLiteDatabase.loadLibs(SQLiteDatabase.java:169)
   [WARN] :   [Pixel] W/System.err: 	at appcelerator.encrypteddatabase.EncrypteddatabaseModule.open(EncrypteddatabaseModule.java:64)
   [WARN] :   [Pixel] W/System.err: 	at org.appcelerator.kroll.runtime.v8.V8Runtime.nativeRunModule(Native Method)
   [WARN] :   [Pixel] W/System.err: 	at org.appcelerator.kroll.runtime.v8.V8Runtime.doRunModule(V8Runtime.java:196)
   [WARN] :   [Pixel] W/System.err: 	at org.appcelerator.kroll.KrollRuntime.runModule(KrollRuntime.java:243)
   [WARN] :   [Pixel] W/System.err: 	at org.appcelerator.titanium.TiLaunchActivity.loadActivityScript(TiLaunchActivity.java:128)
   [WARN] :   [Pixel] W/System.err: 	at org.appcelerator.titanium.TiLaunchActivity.windowCreated(TiLaunchActivity.java:183)
   [WARN] :   [Pixel] W/System.err: 	at org.appcelerator.titanium.TiRootActivity.windowCreated(TiRootActivity.java:172)
   [WARN] :   [Pixel] W/System.err: 	at org.appcelerator.titanium.TiBaseActivity.onCreate(TiBaseActivity.java:684)
   [WARN] :   [Pixel] W/System.err: 	at org.appcelerator.titanium.TiLaunchActivity.onCreate(TiLaunchActivity.java:169)
   [WARN] :   [Pixel] W/System.err: 	at org.appcelerator.titanium.TiRootActivity.onCreate(TiRootActivity.java:161)
   [WARN] :   [Pixel] W/System.err: 	at android.app.Activity.performCreate(Activity.java:6679)
   [WARN] :   [Pixel] W/System.err: 	at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)
   [WARN] :   [Pixel] W/System.err: 	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618)
   [WARN] :   [Pixel] W/System.err: 	at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)
   [WARN] :   [Pixel] W/System.err: 	at android.app.ActivityThread.-wrap12(ActivityThread.java)
   [WARN] :   [Pixel] W/System.err: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)
   [WARN] :   [Pixel] W/System.err: 	at android.os.Handler.dispatchMessage(Handler.java:102)
   [WARN] :   [Pixel] W/System.err: 	at android.os.Looper.loop(Looper.java:154)
   [WARN] :   [Pixel] W/System.err: 	at android.app.ActivityThread.main(ActivityThread.java:6119)
   [WARN] :   [Pixel] W/System.err: 	at java.lang.reflect.Method.invoke(Native Method)
   [WARN] :   [Pixel] W/System.err: 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)
   [WARN] :   [Pixel] W/System.err: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)
   [ERROR] :  [Pixel] TiExceptionHandler: (main) [208,208] ----- Titanium Javascript Runtime Error -----
   [ERROR] :  [Pixel] TiExceptionHandler: (main) [0,208] - In /alloy/sync/enc.db.js:198,24
   [ERROR] :  [Pixel] TiExceptionHandler: (main) [0,208] - Message: Uncaught dlopen failed: library "libutils.so" not found
   [ERROR] :  [Pixel] TiExceptionHandler: (main) [0,208] - Source:     var db = _database.open(dbname);
   [ERROR] :  [Pixel] V8Exception: Exception occurred at /alloy/sync/enc.db.js:198: Uncaught dlopen failed: library "libutils.so" not found
   [ERROR] :  [Pixel] V8Exception: dlopen failed: library "libutils.so" not found
   </pre></code>
   
   Studio Ver:     4.10.0.201709271713
   SDK Ver:        6.2.2.GA
   OS Ver:         10.12.3
   Xcode Ver:      Xcode 8.3.3
   Appc NPM:       4.2.9
   Appc CLI:       6.3.0-master.6
   Ti CLI Ver:     5.0.14
   Alloy Ver:      1.10.5
   Node Ver:       7.10.1
   Java Ver:       1.8.0_101
   Devices:        ⇨ google Nexus 5 --- Android 6.0.1
                   ⇨ google Pixel --- Android 7.1.1 
   Emulator: Android 8.0, Android 5.1.1</li>
<li>Gary Mathews 2017-10-05

   2.0.3: <a href="https://github.com/appcelerator-modules/appcelerator.encrypteddatabase/pull/22" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/appcelerator.encrypteddatabase/pull/22</a>
   
   [Release 2.0.3](<a href="https://github.com/appcelerator-modules/appcelerator.encrypteddatabase/releases/tag/2.0.3)" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/appcelerator.encrypteddatabase/releases/tag/2.0.3)</a>
   
   cc [~amukherjee] [~lchoudhary]</li>
<li>Abir Mukherjee 2017-10-06

   FR Passed. PR Merged.</li>
</ol>


<p><a href="/MOD/MOD-2366.json">JSON Source</a></p>