---
title: "[MOD-2389] iOS: HTTPS Module: https.createX509CertificatePinningSecurityManager is not a function"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 2.1.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Https</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Victor Vazquez Montero</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2018-01-22T20:57:09.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-06T18:52:32.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description:</h4>
Using the 2.1.1 Library for iOS and in some times (Not all the time) when doing a request to the Backend the SSL-Pinning fails saying that the https.createX509CertificatePinningSecurityManager is not a function (Pic Attached) even when using the same function 

<h4>Code: </h4>
<code><pre>if (OS_IOS || OS_ANDROID) { 
var https = require('appcelerator.https'); 

var securityManager = https.createX509CertificatePinningSecurityManager( 
[{ 
url: Alloy.Globals.baseUrl, 
serverCertificate: Alloy.Globals.serverCertificate 
}]); 
} </pre></code>

<h4>Additional information</h4>
Request works well when on SDK 6.3.0 but in SDK 7.0.1 there is an error. We have tried to recreate this on our end but unable to get the same error. So the customer has attached a video of the error occurring.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/MOD/MOD-2389_64723/ErrorLog.png">ErrorLog.png</td></td><td>2018-01-22T20:55:54.000+0000</td><td>498714</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/MOD/MOD-2389_64724/Pinning2.mov">Pinning2.mov</td></td><td>2018-01-22T20:55:49.000+0000</td><td>7948441</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2018-01-22

   It looks like the https instance is required when the backend-call is done? I could think of an issue where the scope gets lost when not require-ing the module in the top of the controller but inside a method. I don't think we will be able to reproduce this with the above code, so we would definitely need a full reproducible case or otherwise advice to check how the module is required. 
   
   Also, I cannot see how the SDK version could influence this behavior but we will check related code-changes between those versions.</li>
</ol>


<p><a href="/MOD/MOD-2389.json">JSON Source</a></p>