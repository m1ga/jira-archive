---
title: "[MOD-2398] Ti.WKWebView crash when selecting \"Save Image\""
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2018-02-22T15:16:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Matthew Delmarter</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2018-02-22T13:23:10.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:52:08.000+0000</td></tr>
</table>

<h3>Description</h3>

When viewing a website in Ti.WKWebView, load any page with an image on it. You should be able to longpress on the image, and from the popup menu choose "Save Image" and it should save to the Camera Roll on the device. 

However it just crashes the app.

For example load this url from the Appcelerator Blog into a Ti.WKWebView:
<a href="https://www.appcelerator.com/blog/2018/02/building-titanium-apps-for-homepod/" rel="nofollow" target="_blank">https://www.appcelerator.com/blog/2018/02/building-titanium-apps-for-homepod/</a>

Longpress on the "Tech Tip" image, and select "Save Image". The app will crash. The trace logs do not provide any clues.

Here is some basic sample code:

<code><pre>
var win = Ti.UI.createWindow();
var wkWebView = require('ti.wkwebview');
var webView = wkWebView.createWebView({
	url: '<a href="https://www.appcelerator.com/blog/2018/02/building-titanium-apps-for-homepod/" rel="nofollow" target="_blank">https://www.appcelerator.com/blog/2018/02/building-titanium-apps-for-homepod/</a>'
});
win.add(webView);
win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/MOD/MOD-2398_64886/Simulator_Screen_Shot_-_iPhone_8_Plus_-_2018-02-23_at_02_05_02.png">Simulator_Screen_Shot_-_iPhone_8_Plus_-_2018-02-23_at_02_05_02.png</td></td><td>2018-02-22T13:21:50.000+0000</td><td>77460</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2018-02-22

   Saving photos inside WKWebView require the <code>NSPhotoLibraryAddUsageDescription</code> key in your tiapp.xml. I've [updated the docs](<a href="https://github.com/appcelerator-modules/Ti.WKWebView/blob/master/README.md#saving-images)" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/Ti.WKWebView/blob/master/README.md#saving-images)</a> to reflect that!</li>
<li>Matthew Delmarter 2018-02-22

   Too easy! Thanks so much.</li>
<li>Eric Merriman  2018-08-06

   Closing as "not our bug". If you disagree, please reopen.</li>
</ol>


<p><a href="/MOD/MOD-2398.json">JSON Source</a></p>