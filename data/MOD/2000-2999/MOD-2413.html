---
title: "[MOD-2413] iOS: Ti.Worker crashes when terminating worker"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-04-20T19:42:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Ti.Worker 1.2.0</td></tr>
<tr><th>Components</th><td>Internal: Customer Assistance</td></tr>
<tr><th>Labels</th><td>ios, module, ti.worker, workers</td></tr>
<tr><th>Reporter</th><td>Rene Pot</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2018-04-20T12:27:47.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:49:29.000+0000</td></tr>
</table>

<h3>Description</h3>

When running the sample of [ti.worker](<a href="https://github.com/appcelerator-modules/ti.worker/tree/master/ios/example)" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.worker/tree/master/ios/example)</a> it works fine. As soon as "terminate" is clicked the app crashes. This is both on classic and Alloy apps.

It blocks the customer from implementing a heavy feature (where async is needed)

Crash log:

<code><pre>
[ERROR] :  The application has crashed with an uncaught exception 'NSInvalidArgumentException'.
[ERROR] :  Reason:
[ERROR] :  -[TiWorkerProxy shutdown:]: unrecognized selector sent to instance 0x7fa56a515ec0
[ERROR] :  Stack trace:
[ERROR] :  0   CoreFoundation                      0x000000011744d113 __exceptionPreprocess + 147
[ERROR] :  1   libobjc.A.dylib                     0x0000000116400f41 objc_exception_throw + 48
[ERROR] :  2   CoreFoundation                      0x00000001174ce024 -[NSObject(NSObject) doesNotRecognizeSelector:] + 132
[ERROR] :  3   CoreFoundation                      0x00000001173cff78 ___forwarding___ + 1432
[ERROR] :  4   CoreFoundation                      0x00000001173cf958 _CF_forwarding_prep_0 + 120
[ERROR] :  5   Foundation                          0x0000000110a86f35 __NSFireDelayedPerform + 409
[ERROR] :  6   CoreFoundation                      0x00000001173dd174 __CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__ + 20
[ERROR] :  7   CoreFoundation                      0x00000001173dce32 __CFRunLoopDoTimer + 1026
[ERROR] :  8   CoreFoundation                      0x00000001173dc9ea __CFRunLoopDoTimers + 266
[ERROR] :  9   CoreFoundation                      0x00000001173d4404 __CFRunLoopRun + 2308
[ERROR] :  10  CoreFoundation                      0x00000001173d3889 CFRunLoopRunSpecific + 409
[ERROR] :  11  GraphicsServices                    0x000000011a20c9c6 GSEventRunModal + 62
[ERROR] :  12  UIKit                               0x00000001110595d6 UIApplicationMain + 159
[ERROR] :  13  workersample                        0x000000010e9df684 main + 100
[ERROR] :  14  libdyld.dylib                       0x000000011869dd81 start + 1
[ERROR] :  15  ???                                 0x0000000000000001 0x0 + 1
-- End simulator log ---------------------------------------------------------
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/MOD/MOD-2413_65070/ti.worker-iphone-1.2.0.zip">ti.worker-iphone-1.2.0.zip</td></td><td>2018-04-20T16:07:51.000+0000</td><td>112422</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2018-04-20

   This is covered in [this PR](<a href="https://github.com/appcelerator-modules/ti.worker/pull/15)" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.worker/pull/15)</a> already. A new module version is attached for testing.</li>
<li>Rene Pot 2018-04-20

   App is not crashing with 1.2.0 and sample works & runs 3 workers as expected. 
   
   Tested using 7.1.0.GA on iOS 11.2 where it previously crashed.</li>
<li>Eric Merriman  2018-08-06

   Cleaning up older fixed issues. If this issue should not have been closed as fixed, please reopen.</li>
</ol>


<p><a href="/MOD/MOD-2413.json">JSON Source</a></p>