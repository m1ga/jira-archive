---
title: "[MOD-2445]  ti.barcode iOS : Camera overlay view randomly disappear after a period of time if you leave the scanner open but don't scan a code"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-08-13T07:05:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Ti.Barcode iOS 2.0.1</td></tr>
<tr><th>Components</th><td>Barcode</td></tr>
<tr><th>Labels</th><td>iOS</td></tr>
<tr><th>Reporter</th><td>Vijay Singh</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2018-08-06T09:58:00.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-13T07:05:51.000+0000</td></tr>
</table>

<h3>Description</h3>

As discussed [here| <a href="https://github.com/appcelerator-modules/ti.barcode/issues/77" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.barcode/issues/77</a>] camera overlay view randomly disappear after a period of time if you leave the scanner open but don't scan a code.
Sometimes 5 seconds after opening, other times up to a minute, very random. Thought it might have been to do with touch or orientation, but have been unable to reproduce it reliably.



<h3>Comments</h3>

<ol>
<li>Joe Finnigan 2018-08-06

   <code><pre>
   var Barcode = require('ti.barcode');
   Barcode.allowRotation = false;
   Barcode.useLED = false;
   
   var $ = this;
   $.capture = function() {
     var overlay = Ti.UI.createView({
       backgroundColor: 'red',
       opacity: 0.4
     });
    
     Barcode.capture({
       animate: false,
       overlay: overlay,
       showCancel: false,
       showRectangle: false,
       keepOpen: false,
       allowMenu: false,
       allowInstructions: false
     });
   };
    
   $.openScanner = function() {
       $.capture();
   };
    
   $.closeScanner = function() {
     Barcode.cancel();
   };
    
   $.showResult = function(e) {
     console.log(JSON.stringify(e));
   };
    
   Barcode.addEventListener('success', $.showResult);
    
   $.openScanner();
   </pre></code>
   </li>
<li>Hans Kn√∂chel 2018-08-06

   It is probably GC'd, so we need to retain it's proxy status with <code>rememberProxy</code> and <code>forgetProxy</code> (later) in [here](<a href="https://github.com/appcelerator-modules/ti.barcode/blob/master/ios/Classes/TiBarcodeModule.m#L81)" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.barcode/blob/master/ios/Classes/TiBarcodeModule.m#L81)</a>, similar to overlays in [<code>Ti.Media.showCamera(args)</code>](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/MediaModule.m#L938)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/MediaModule.m#L938).</a></li>
<li>Vijay Singh 2018-08-08

   You are right [~hknoechel].
   
   PR - <a href="https://github.com/appcelerator-modules/ti.barcode/pull/78" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.barcode/pull/78</a>
   
   [~jfinnigan] Can you please verify using  [Pre-release 2.0.1| <a href="https://github.com/appcelerator-modules/ti.barcode/releases/tag/ios-2.0.1" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.barcode/releases/tag/ios-2.0.1</a>]</li>
<li>Joe Finnigan 2018-08-09

   Overlays are no longer disappearing! However, any onClick events on the overlays aren't firing, these were working previously, however may have been pre-2.0.0 rather than an new bug introduced with this fix?</li>
<li>Vijay Singh 2018-08-10

   Click event on any button on overlay view is firing. But it is not firing from overlay itself. It is not due to this change but it is from 2.0.0. Before 2.0.0 it's working fine. I'll look in this. Thanks for reporting [~jfinnigan]. </li>
<li>Vijay Singh 2018-08-13

   Fixed the overlay 'click' event issue and updated the [Pre-release 2.0.1](<a href="https://github.com/appcelerator-modules/ti.barcode/releases/tag/ios-2.0.1)" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.barcode/releases/tag/ios-2.0.1)</a> .</li>
</ol>


<p><a href="/MOD/MOD-2445.json">JSON Source</a></p>