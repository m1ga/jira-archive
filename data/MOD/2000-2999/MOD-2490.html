---
title: "[MOD-2490] ImageFactory: JPEG EXIF orientation is wrongly ignored"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-10-19T23:48:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>ImageFactory</td></tr>
<tr><th>Labels</th><td>ImageFactory, android, exif, image, ios, jpeg, orientation</td></tr>
<tr><th>Reporter</th><td>Rene Pot</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2019-02-11T15:44:31.000+0000</td></tr>
<tr><th>Updated</th><td>2021-10-19T23:48:16.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
All of the "ti.imagefactory" module's APIs ignore a JPEG's EXIF orientation if assigned on both Android and iOS. This typically happens with camera photos or images from the photo gallery. This causes the images generated from this module's methods such as <code>compress()</code>, <code>imageAsCropped()</code>, etc. to have the wrong orientation.

*Solution:*
All APIs should compensate for the JPEG's EXIF orientation and generate a new image using an upright orientation.

*Note:*
We could copy the EXIF orientation from the source image to the generated image, but this will only work for JPEGs and not PNGs. Our APIs support a "format" option which allows it to generate a PNG, making this not a viable solution.

*Work-Around:*
There is a community module "fh.imagefactory" that handles EXIF orientation, but it's for Android only.
<a href="https://github.com/freshheads/fh.imagefactory" rel="nofollow" target="_blank">https://github.com/freshheads/fh.imagefactory</a>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-09-15

   PR (ti.imagefactory): <a href="https://github.com/appcelerator-modules/ti.imagefactory/pull/192" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.imagefactory/pull/192</a>
   </li>
<li>Joshua Quick 2021-10-19

   Fixed in release...
   <a href="https://github.com/appcelerator-modules/ti.imagefactory/releases/tag/v5.1.0-android" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.imagefactory/releases/tag/v5.1.0-android</a>
   </li>
</ol>


<p><a href="/MOD/MOD-2490.json">JSON Source</a></p>