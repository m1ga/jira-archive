---
title: "[MOD-2498] ti.cloudpush (version 6.0.0) : Conflicting jar files with titanium sdk 7.5.1.GA"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-03-04T16:18:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Components</th><td>CloudPush</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Aminul Islam</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2019-02-27T13:50:17.000+0000</td></tr>
<tr><th>Updated</th><td>2019-03-08T06:18:00.000+0000</td></tr>
</table>

<h3>Description</h3>

Hello!
I have updated my titanium sdk to the last version (7.5.1), but after that when I try to compile my app with to ti.cloudpush (version 6.0.0) on  android device I get this error:
<code><pre>
[ERROR] :  Conflicting jar files detected:
[ERROR] :  
[ERROR] :  The following modules have different "cloudpush.jar" files
[ERROR] :     ti.cloudpush   (version 6.0.0) (hash=eb23d9d16fd2d1364dc1bd53bc008b28)
[ERROR] :     ti.cloudpush   (version 6.0.0) (hash=5a67a29af933c56d2b30a310d40553fd)
[ERROR] :  
[ERROR] :  You can either select a version of these modules where the conflicting jar file is the same or you
[ERROR] :  can try copying the jar file from one module's "lib" folder to the other module's "lib" folder.
[ERROR] Application Installer abnormal process termination. Process exit value was 1
</pre></code>

*Steps to reproduce*
1. Create a new demo project with 7.5.1.GA
2. Included ti.cloudpush (version 6.0.0) and ti.cloud.
3. Add the following code and build on Android devices.
<code><pre>
var Cloud = require('ti.cloud');
var CloudPush = require('ti.cloudpush');
var deviceToken = null;

// login info for test propose
var user = "";
var password = "";
var channel = "TestChannel";
var platform = "ios";

// Differern process for Android and iOS platform
if (Ti.Platform.name == 'android') {
	platform = "android";
	
	CloudPush.retrieveDeviceToken({
		success: deviceTokenSuccess,
		error: deviceTokenError
	});
	
	CloudPush.addEventListener('callback', function(evt) {
		alert('Received push: ' + JSON.stringify(evt));
    	Ti.API.info('Received push: ' + JSON.stringify(evt));
	});
	
} else if (parseInt(Ti.Platform.version.split(".")[0]) >= 8) {
    Ti.App.iOS.addEventListener('usernotificationsettings', function registerForPush() {
 
        Ti.App.iOS.removeEventListener('usernotificationsettings', registerForPush); 
 
        Ti.Network.registerForPushNotifications({
            success: deviceTokenSuccess,
            error: deviceTokenError,
            callback: receivePush
        });
    });
    
    Ti.App.iOS.registerUserNotificationSettings({
	    types: [
            Ti.App.iOS.USER_NOTIFICATION_TYPE_ALERT,
            Ti.App.iOS.USER_NOTIFICATION_TYPE_SOUND,
            Ti.App.iOS.USER_NOTIFICATION_TYPE_BADGE
        ]
    });
} else {
	Ti.Network.registerForPushNotifications({
        types: [
            Ti.Network.NOTIFICATION_TYPE_BADGE,
            Ti.Network.NOTIFICATION_TYPE_ALERT,
            Ti.Network.NOTIFICATION_TYPE_SOUND
        ],
        success: deviceTokenSuccess,
        error: deviceTokenError,
        callback: receivePush
    });
}

function loginUser() {
	Cloud.Users.login({
        login: user,
        password: password
    }, function (e) {
        if (e.success) {
            Ti.API.info('Login successful');
            alert("Login successful");
        } else {
            Ti.API.info('Error:\n' +
                ((e.error && e.message) || JSON.stringify(e)));
        }
    });
}

function subscribeToChannel() {
	Cloud.PushNotifications.subscribeToken({
        channel: channel,
        device_token: deviceToken,
        type: platform
    }, function (e) {
        if (e.success) {
        	alert('Subscribed');
            Ti.API.info('Subscribed');
        } else {
            Ti.API.info('Error:\n' +
                ((e.error && e.message) || JSON.stringify(e)));
        }
    });
}

function unsubscribeToChannel() {
	Cloud.PushNotifications.unsubscribeToken({
        channel: channel,
        device_token: deviceToken
    }, function (e) {
        if (e.success) {
            Ti.API.info('Unsubscribed');
        } else {
            Ti.API.info('Error:\n' +
                ((e.error && e.message) || JSON.stringify(e)));
        }
    });;
}

function deviceTokenSuccess(e) {
	deviceToken = e.deviceToken;
	Ti.API.info("Device Registered Successfully.\nThe Device Token is: " + deviceToken);
	loginUser();
}

function deviceTokenError(e) {
	alert("Failed to register for push notifications!\nThe Error is: " + e.error);
	Ti.API.info("Failed to register for push notifications!\nThe Error is: " + e.error);
}

function receivePush(e) {
    alert('Received push: ' + JSON.stringify(e));
    Ti.API.info('Received push: ' + JSON.stringify(e));
}

var win = Ti.UI.createWindow({
    backgroundColor: 'white',
    layout:'vertical',
    exitOnClose: true
});
 
var subscribe = Ti.UI.createButton({
	title:'Subscribe',
	top: 100,
	left: 100
});
subscribe.addEventListener('click', subscribeToChannel);
win.add(subscribe);
 
var unsubscribe = Ti.UI.createButton({
	title:'Unsubscribe',
	top: 150,
	left: 100
});
unsubscribe.addEventListener('click', unsubscribeToChannel);
win.add(unsubscribe);
 
win.open();
</pre></code>

Test Environment:
1. TiSDK 7.5.1.GA
2. Ti.cloudpush (version 6.0.0)
3. Android 8 

Note: We don't have any other module in our project. You can reproduce this error with cloudpush module only. 


Thanks 



<h3>Comments</h3>

<ol>
<li>Gary Mathews 2019-02-28

   ti.cloudpush: <a href="https://github.com/appcelerator-modules/cloudpush/releases/download/android-6.0.1/ti.cloudpush-android-6.0.1.zip" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/cloudpush/releases/download/android-6.0.1/ti.cloudpush-android-6.0.1.zip</a></li>
<li>Gary Mathews 2019-02-28

   8_0_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/10737" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10737</a>
   7_5_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/10738" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10738</a></li>
<li>Arbind 2019-03-04

   I am also having the exact same issue.</li>
<li>Lokesh Choudhary 2019-03-06

   Verified the fix with SDK 7.5.2.v20190304130819 & 8.0.0.v20190306054146.
   Closing.</li>
<li>Arbind 2019-03-07

   I just now tested a blank project with cloudpush module in it, and it gets stuck at the step "Running Dexer" .
   SDK 7.5.2.v20190304130819
   
   So, it doesn't look like its fixed.</li>
<li>Gary Mathews 2019-03-07

   [~mr.arbindbhagat] I cannot reproduce your issue. I'm using <code>7.5.2.v20190306131103</code> with <code>ti.cloudpush-6.0.1</code> and able to build successfully.</li>
<li>Arbind 2019-03-08

   </li>
</ol>


<p><a href="/MOD/MOD-2498.json">JSON Source</a></p>