---
title: "[MOD-2507] ti.admob - Android 9 support?"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Admob</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jason Kotchoff</td></tr>
<tr><th>Assignee</th><td>Yordan Banev</td></tr>
<tr><th>Created</th><td>2019-03-27T00:25:38.000+0000</td></tr>
<tr><th>Updated</th><td>2019-04-10T17:27:15.000+0000</td></tr>
</table>

<h3>Description</h3>

The ti.admob module crashes on Android 9. We have had to completely disable it for this operating system version.

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2019-03-27

   It's an issue on Google's end because the AdMob library is still using the deprecate Apache library which has been removed as of Android 9. Please see:
   <a href="https://groups.google.com/forum/#" rel="nofollow" target="_blank">https://groups.google.com/forum/#</a>!category-topic/google-admob-ads-sdk/android/K1HKru7RutY
   
   The work-around is to add the below <code>&lt;uses-library/&gt;</code> to your "tiapp.xml". This is Google's recommendation as well.
   <code><pre>
   &lt;?xml version="1.0" encoding="UTF-8"?&gt;
   &lt;ti:app xmlns:ti="<a href="http://ti.appcelerator.org" rel="nofollow" target="_blank">http://ti.appcelerator.org</a>"&gt;
   	&lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
   		&lt;manifest&gt;
   			&lt;application&gt;
   				&lt;uses-library android:name="org.apache.http.legacy" android:required="false"/&gt;
   			&lt;/application&gt;
   		&lt;/manifest&gt;
   	&lt;/android&gt;
   &lt;/ti:app&gt;
   </pre></code>
   
   Note that this is an issue with Google Maps as well if you use it.
   </li>
<li>Jason Kotchoff 2019-04-09

   In order for this module to be compatible with the latest firebase modules for Ti SDK 8.0.0 to run on Android 9, it needs to also compile and run alongside ti.playservices v16.1.2.
   
   This ti.admob module won't compile on ti.playservices v16.1.2 as it errors out with:
   <code><pre>
   [ERROR] TiExceptionHandler: (main) [91,91] Failed resolution of: Lcom/google/android/gms/ads/AdSize;
   </pre></code>
   
   Can this be fixed?</li>
<li>Rene Pot 2019-04-10

   Currently a ti.admob rewrite is in progress for both iOS & Android to support more ad types and make them properly cross platform. [~ybanev] is working on that. I've assigned him to make sure it will work as well on Android 9</li>
</ol>


<p><a href="/MOD/MOD-2507.json">JSON Source</a></p>