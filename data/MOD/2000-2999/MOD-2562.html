---
title: "[MOD-2562] WebDialog: Support passing intent flags to open method on Android"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-03-09T21:02:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.0.0</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2020-01-08T15:37:50.000+0000</td></tr>
<tr><th>Updated</th><td>2020-03-09T21:02:36.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When using ti.webdialog in an OAuth2 flow, the webdialog needs to be closed after the flow is complete. Chrome Custom Tabs does not support closing the tab programatically, but we can achieve these by setting the following intent flags on the CustomTabsIntent 

<code><pre>
Intent.FLAG_ACTIVITY_NO_HISTORY
Intent.FLAG_ACTIVITY_NEW_TASK
</pre></code>

We could do this by allowing a <code>intentFlags</code> property to the open call, which accepts the flag options provided by Titanium.Android.FLAG_* constants

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2020-01-08

   I initially though of having intentFlags as an array, but the Ti.Android.createIntent call accepts flags as a bitwise or, so I think I will match that. For example
   
   <code><pre>
   webdialog.open({
   	url,
   	intentFlags: Ti.Android.FLAG_ACTIVITY_NO_HISTORY | Ti.Android.FLAG_ACTIVITY_NEW_TASK
   });
   </pre></code>
   </li>
<li>Ewan Harris 2020-01-08

   PR here: <a href="https://github.com/appcelerator-modules/titanium-web-dialog/pull/14" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/titanium-web-dialog/pull/14</a>
   
   Rather than add to workloads I'm going to leave this open and we can review and get it in at a later date</li>
<li>Lokesh Choudhary 2020-02-25

   FR Passed.
   Verified the fix with module Ver. 2.0.0.
   Closing.</li>
</ol>


<p><a href="/MOD/MOD-2562.json">JSON Source</a></p>