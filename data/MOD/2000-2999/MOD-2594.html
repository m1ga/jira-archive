---
title: "[MOD-2594] iOS: "ti.crypto" Example needs updating"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-06-15T12:03:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 9.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Crypto</td></tr>
<tr><th>Labels</th><td>2020-Q2</td></tr>
<tr><th>Reporter</th><td>Samir Mohammed</td></tr>
<tr><th>Assignee</th><td>Anil Shukla</td></tr>
<tr><th>Created</th><td>2020-04-07T09:15:25.000+0000</td></tr>
<tr><th>Updated</th><td>2020-06-15T12:03:53.000+0000</td></tr>
</table>

<h3>Description</h3>

ti.crypto includes <code>ti.include</code> which has now been removed in titanium and replaced with <code>.require</code>.
<code><pre>
[ERROR] TiExceptionHandler: (main) [1540,1540] /app.js:23
[INFO]   I/ti.crypto.app: Waiting for a blocking GC ProfileSaver
[ERROR] TiExceptionHandler: Ti.include('ui.js');
[ERROR] TiExceptionHandler:    ^
[ERROR] TiExceptionHandler: TypeError: Ti.include is not a function
[ERROR] TiExceptionHandler:     at /app.js:23:4
[ERROR] TiExceptionHandler:     at Module._runScript (ti:/module.js:587:9)
[ERROR] TiExceptionHandler:     at Module.load (ti:/module.js:106:7)
[ERROR] TiExceptionHandler:     at Module.loadJavascriptText (ti:/module.js:436:9)
[ERROR] TiExceptionHandler:     at Module.loadAsFile (ti:/module.js:488:15)
[ERROR] TiExceptionHandler:     at Module.loadAsFileOrDirectory (ti:/module.js:410:20)
[ERROR] TiExceptionHandler:     at Module.require (ti:/module.js:239:23)
</pre></code>

*+Test Steps:+*
<h4>Download module from (<a href="https://github.com/appcelerator-modules/ti.crypto)" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.crypto)</a></h4>
<h4>Build module</h4>
<h4>Copy the the code from the example</h4>
<h4>Paste the code into a Titanium application</h4>
<h4>Add module to app</h4>
<h4>Run Titanium application</h4>

*Expected result*
Application should not crash and run without issues.

*Actual result*
Application throws above error

*To be done:*
Update the example code with fixes done in Android here...
<a href="https://github.com/appcelerator-modules/ti.crypto/pull/13" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.crypto/pull/13</a>

After adding fixes done for Android module, iOS gives error which need to be fixed.

[TRACE] [ERROR] Script Error {
[TRACE] [ERROR]     column = 8;
[TRACE] [ERROR]     line = 25;
[TRACE] [ERROR]     message = "Maximum call stack size exceeded.";
[TRACE] [ERROR]     sourceURL = "file:///Users/axwayroot/Library/Developer/CoreSimulator/Devices/30071698-1263-4D45-A7A3-1BD6F3CE40C8/data/Containers/Bundle/Application/99E17B7A-7D07-4C1F-8DA7-3F4C3EC1AD78/crypto.app/app.js";
[TRACE] [ERROR]     stack = "    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code]\n    at (/ui.js:1:142)\n    at global code(/ui.js:116:70)\n    at require@[native code]\n    at (/app.js:25:8)\n    at global code(/app.js:31:70)\n    at require@[native code])";
[TRACE] [ERROR]     toJSON = "<KrollCallback: 0x600003060180>";
[TRACE] [ERROR] }


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/MOD/MOD-2594_67442/MOD-2594_android_log.txt">MOD-2594_android_log.txt</td></td><td>2020-06-15T12:03:30.000+0000</td><td>85930</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/MOD/MOD-2594_67441/MOD-2594_ios_log.txt">MOD-2594_ios_log.txt</td></td><td>2020-06-15T12:03:33.000+0000</td><td>1810316</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Anil Shukla 2020-04-09

   PR - <a href="https://github.com/appcelerator-modules/ti.crypto/pull/14" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.crypto/pull/14</a>
   
   resolved the previous TI.Module not found issue so now able to run the example successfully. Though couple of issues are coming when clicking the internal functionality. working on the issues.  </li>
<li>Anil Shukla 2020-06-11

   The PR: <a href="https://github.com/appcelerator-modules/ti.crypto/pull/15" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.crypto/pull/15</a> addressing all the issue crypto module had.
   There were crash coming while trying to open the single call and multiple call table view cell of crypto module. this issue has also been resolved by above PR.</li>
<li>Saumya Rai 2020-06-15

   Verified on below environment:
   *Mac OS X* = 10.15
   *Xcode*: 11.3.1
   *Node.js Version* = 12.16.0
   *CLI Version* = 5.2.2
   
   *Emulator* : Nexus6_API27 (8.1.0)
   *iOS Simulator* = iPhone 11 Pro Max (13.3)
   
   Its working fine so closing this ticket. Attaching logs for reference.</li>
</ol>


<p><a href="/MOD/MOD-2594.json">JSON Source</a></p>