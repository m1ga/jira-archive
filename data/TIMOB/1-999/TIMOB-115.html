---
title: "[TIMOB-115] HTTPClient doesn't seem to work with some URLs"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:52:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 0.7.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Nolan Wright</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T02:23:50.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:52:02.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Here's a test case. the responseText comes back empty.</p>
<pre>
<code class="html">&lt;html&gt;
    &lt;head&gt;

    &lt;/head&gt;

&lt;body&gt; 
    &lt;div style='-webkit-border-radius:8px;
    background-color:#FFFFCC;
    border:#878787 solid 1px;
    font-size:12pt;
    overflow:hidden;
    padding:0;
    position:relative;
    display:block;
    height:auto;
    width:auto;
    margin:3px 9px 17px;
    list-style:none'&gt;
        &lt;p id='salmodia'&gt;Carregando ...&lt;/p&gt;
    &lt;/div&gt;
    &lt;script&gt;
    var xhr = Titanium.Network.createHTTPClient();
    // set on ready state change function
    
    xhr.onreadystatechange = function() 
    {
        if (this.readyState == 4)
        {
            Titanium.UI.createAlertDialog({message:this.responseText}).show();
            document.getElementById('salmodia').innerHTML = this.responseText;
        }
    };

    // open the client
    xhr.open('GET','<a href="http://www.liturgiadashoras.org/Horas/1terca_laudes.htm" rel="nofollow" target="_blank">http://www.liturgiadashoras.org/Horas/1terca_laudes.htm</a>');
    
    // send the data
    xhr.send(null);

    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code>
</pre></div>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2011-04-15

   <div><p>It turns out the page in question was in a Windows 1252 charset.
   The fix has been made and pushed so that the charset is detected
   (not many charsets yet) and returned unmodified by responsetext.
   For inserting in html, this is okay. However, calling titanium
   methods with a non-UTF8 charset does run the risk of the API
   treating it as Mac Roman.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-115.json">JSON Source</a></p>