---
title: "[TIMOB-116] Shake Gesture unstable (Android)"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:52:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 0.7.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T02:23:51.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:52:02.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>The shake algorithm in Android has always been difficult or too
easy to trigger depending on the amount of motion of the device.
<a href=
"<a href="http://support.appcelerator.net/discussions/titanium-mobile-discussion/349-issue-with-event-listener-for-shake-gesture-on-android" rel="nofollow" target="_blank">http://support.appcelerator.net/discussions/titanium-mobile-discussion/349-issue-with-event-listener-for-shake-gesture-on-android</a>">
Issue with event listener for "shake" gesture on Android</a>.</p>
<p>A couple of notes regarding listeners.</p>
<p>1) When the activity (window) is paused via the Android onPause
method, the hardware listeners are disconnected.<br>
2) If you press end and put your phone to sleep, onPause will be
called if your app was active.<br>
3) If you press home, answer a call, or a notification, onPause is
called.<br>
4) If another activity/window completely covers your application
onPause is called.<br>
5) If your app was active, you press end to put it to sleep, then
you cause the device to wake even if you don't unlock the display,
onResume will be called and the hardware listeners restored.</p>
<p>What this means is that if you put the phone in your pocket,
purse, or just hit a hardware key. Your application is resumed.</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/d4aaf77edad820df2831af82ed97e03e45bf7528"
   title=
   "Changeset [d4aaf77edad820df2831af82ed97e03e45bf7528]">[d4aaf77edad820df2831af82ed97e03e45bf7528]</a>)
   [<a href="/projects/32238/tickets/116" title="Ticket #116">#116</a>
   state:resolved] Changed shake gesture to respond to shake motion
   more reliably. Added three new system properties for tuning:</p>
   <p>1) ti.android.shake.factor - double - default 1.3d - used to
   build threshold value for accelerometer changes that should be
   considered a potential shake</p>
   <p>2) ti.android.shake.quiet.milliseconds - int - default 500 - the
   number of milliseconds of no shaking after shaking has started that
   will cause the shake event to fire.</p>
   <p>3) ti.android.shake.active.milliseconds - int - default 1000 -
   the number of milliseconds that shaking must occur before allowing
   shake event to fire. The quiet period must elapse before this value
   is considered.</p>
   <p>These properties may be set in your tiapp.xml to tune the shake
   algorithm on android devices<br>
   <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/d4aaf77edad820df2831af82ed97e03e45bf7528" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/d4aaf77edad820df2831af82ed97e03e45bf7528</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/d4aaf77edad82..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/d4aaf77edad82...</a></a></p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-116.json">JSON Source</a></p>