---
title: "[TIMOB-160] iPhone - status and statusText not working on HTTPClient object"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:52:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, response, xhr</td></tr>
<tr><th>Reporter</th><td>Kevin Whinnery</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-04-15T02:24:30.000+0000</td></tr>
<tr><th>Updated</th><td>2011-05-15T22:18:51.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>When handling a response in HTTPClient's onreadystatechange
handler function, the client object's status and statusText
properties do not appear to be populated. Change the following
lines in the XHR test in the Kitchen Sink to reproduce quickly:</p>
<pre>
<code>    var c = Titanium.Network.createHTTPClient();

// set on ready state change function
c.onreadystatechange = function()
{
    Titanium.API.debug('&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; readyState = ' + this.readyState);
    Titanium.API.debug('&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; status = ' + this.status);
    Titanium.API.debug('&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; statusText = ' + this.statusText);
    if (this.readyState == 4)
    {

        document.getElementById('html').innerHTML = this.responseText;
    }
};
// open the client
c.open('GET','<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>');

// send the data
c.send();</code>
</pre></div>

<h3>Comments</h3>

<ol>
<li>Jeff Haynie 2011-04-15

   <div><p>yeah, we need to make sure to fully implement the XHR spec.</p></div></li>
<li>Ygor Lemos 2011-04-15

   <div><p>Even now on 1.4.2 XHR spec doesn't appear to be fully
   implemented yet.</p>
   <p>status never gets 404, 303 and other HTTP status codes other
   than 200.</p>
   <p>also statusText never gets populated.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>All properties which we still support (do not support
   statusText; separate bug dealing with XHR compliance, already
   filed) work properly.</p>
   <p>Tested against 1.6.0 RC1</p></div></li>
<li>Nikolai Derzhak 2011-04-15

   rollback wrong update</li>
<li>Andrey 2011-05-15

   Tested on 1.6.2 -- 200 & 406 work, 401 gets absolutely no response, not even a status with the code number.</li>
</ol>


<p><a href="/TIMOB/TIMOB-160.json">JSON Source</a></p>