---
title: "[TIMOB-282] Can't close a new window when created from a menu item"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-07-16T17:04:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>0.8.0, android, scrub-invalid</td></tr>
<tr><th>Reporter</th><td>Dav Glass</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-04-15T02:26:38.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-16T17:04:51.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>If you create a window from a button click listener, then call
Titanium.UI.currentWindow.close() from the opened window it will
work.</p>
<p>But if you create a window from an menu.addItem call (and the
win object is scoped to the callback with a "var") you can't close
the window.</p>
<p>Sample files attached here:<br>
<a href=
"<a href="http://gist.github.com/247895" rel="nofollow" target="_blank">http://gist.github.com/247895</a>"><a href="http://gist.github.com/247895" rel="nofollow" target="_blank">http://gist.github.com/247895</a></a></p>
<p>index.html shows the bug<br>
test.html new window opened by index.html<br>
works.html shows moving the win out of the callback scope makes it
work.</p>
<p>Not sure if it's a "real" bug or an implementation detail, but I
wanted to report it.</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>Are there any errors in the trace level log? Most of the java
   errors go there.</p></div></li>
<li>Dav Glass 2011-04-15

   <div><p>I don't see a Java error, but from JS Titanium.UI.currentWindow
   is undefined</p></div></li>
<li>Matthew Apperson 2011-12-05

   Not valid, does not reproduce in TiMOB SDK 1.7.5 as we no longer use HTML for our markup language</li>
<li>Josh Roesslein 2012-07-16

   No longer applicable since this was a bug in the "old" Titanium.</li>
</ol>


<p><a href="/TIMOB/TIMOB-282.json">JSON Source</a></p>