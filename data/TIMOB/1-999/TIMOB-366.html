---
title: "[TIMOB-366] Titanium.Database.execute should support indexed arguments in an array "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2012-07-25T13:04:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, arguments, database, execute, ios, patch</td></tr>
<tr><th>Reporter</th><td>Johann Richard</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-04-15T02:28:01.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-28T16:33:46.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>.execute(sql, args) currently does not support .execute(string,
array), which would come in very handy in certain cases. As I
understand, the Desktop version already supports that way of
calling execute, at least when I read the comments in Ticket 146
(<a href=
"<a href="https://appcelerator.lighthouseapp.com/projects/25719/tickets/146" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/25719/tickets/146</a>"><a href="https://appcelerator.lighthouseapp.com/projects/25719/tickets/146" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/25719/tickets/146</a></a>)
in Titanium Desktop. So it should be doable.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-366_17852/execute.patch">execute.patch</td></td><td>2011-04-15T02:28:02.000+0000</td><td>839</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Johann Richard 2011-04-15

   <div><p>And here's a (possible) patch to implement this behaviour:</p>
   <pre>
   <code>diff --git a/iphone/modules/DatabaseModule/DatabaseModule.m b/iphone/modules/DatabaseModule/DatabaseModule.m
   index 33702c0..24b901a 100644
   --- a/iphone/modules/DatabaseModule/DatabaseModule.m
   +++ b/iphone/modules/DatabaseModule/DatabaseModule.m
   @@ -293,7 +293,8 @@
                   "remove:function(){Ti.Database._RMDB(this._TOKEN);},"
                   "execute:function(query){"
                       "var args=[];"
   -                   "for(var i=1;i&lt;arguments.length;i++){args.push(arguments[i]);}"
   +                   "for(var i=1;i&lt;arguments.length;i++){if((arguments[i]).constructor == Array){"
   +                   "args.concat(arguments[i]);} else {args.push(arguments[i]);}}"
                       "var comm=Ti.Database._EXEDB(this._TOKEN,query,args);this.rowsAffected=comm.rowsAffected;this.lastInsertRowId=comm.lastRow;"
                       "var res={_TOKEN:comm.token,"
                           "fields:comm.fields,rowCount:comm.rowCount,values:comm.values,"</code>
   </pre>
   <p>-- maybe you want it to be even more robust but it should
   actually implement more or less the behaviour of the Desktop
   variant of Titanium. At least my tests on the iPhone plus the
   DB-related Unit tests in the titanium_mobile "Titanium" App did not
   show any isses w/ that patch when I custom built the SDK.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Need to discuss in R&amp;D for feature parity, but if this
   exists in Desktop, then it should probably exist for mobile.</p></div></li>
<li>Ping Wang 2012-07-25

   This is already fixed. See the doc [here](<a href="http://docs.appcelerator.com/titanium/2.1/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/2.1/#</a>!/api/Titanium.Database.DB-method-execute).</li>
</ol>


<p><a href="/TIMOB/TIMOB-366.json">JSON Source</a></p>