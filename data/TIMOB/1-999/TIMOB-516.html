---
title: "[TIMOB-516] table view does not render properly "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:53:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Backlog</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios, iphone, tableview</td></tr>
<tr><th>Reporter</th><td>Nolan Wright</td></tr>
<tr><th>Assignee</th><td>Jeff Haynie</td></tr>
<tr><th>Created</th><td>2011-04-15T02:30:44.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:53:21.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>from community - rows get cut off/jacked up<br>
see ticket:<br>
<a href=
"<a href="http://helpdesk.appcelerator.net/tickets/1398" rel="nofollow" target="_blank">http://helpdesk.appcelerator.net/tickets/1398</a>"><a href="http://helpdesk.appcelerator.net/tickets/1398" rel="nofollow" target="_blank">http://helpdesk.appcelerator.net/tickets/1398</a></a></p>
<p>code:</p>
<p>var win = Titanium.UI.createWindow();<br>
win.setBackgroundColor('#EAF6C4');<br>
var e = Titanium.UI.createButton({<br></p>
<pre>
<code>style:Titanium.UI.iPhone.SystemButtonStyle.BORDERED,
systemButton:Titanium.UI.iPhone.SystemButton.REFRESH</code>
</pre>
<p>}); win.setRightNavButton(e);<br>
// var URL = "<a href=
"http://localhost/~neps/test.json&quot;">http://localhost/~neps/test.json"</a>;
// var URL = "<a href=
"<a href="http://gothamist.com/js/staticRecentEntries.json&quot" rel="nofollow" target="_blank">http://gothamist.com/js/staticRecentEntries.json&quot</a>;"><a href="http://gothamist.com/js/staticRecentEntries.json" rel="nofollow" target="_blank">http://gothamist.com/js/staticRecentEntries.json</a>"</a>;
var URL = "<a href=
"<a href="http://twitter.com/status/user_timeline/sxswist.json?count=30&quot" rel="nofollow" target="_blank">http://twitter.com/status/user_timeline/sxswist.json?count=30&quot</a>;"><a href="http://twitter.com/status/user_timeline/sxswist.json?count=30" rel="nofollow" target="_blank">http://twitter.com/status/user_timeline/sxswist.json?count=30</a>"</a>;</p>
<pre>
<code>function fetchRows()
{
var data = [];
var xhr = Titanium.Network.createHTTPClient();
xhr.onload = function()
{
    // convert the response JSON text into a JavaScript object
    var entry = eval('(' + this.responseText + ')');

    for (var i=0;i&lt;entry.length;i++)
    {
        var row = Ti.UI.createTableViewRow();
        row.height  ='auto';
        row.hasChild = true;
        row.className = 'normal'

        var comment = Ti.UI.createLabel({
        color:'#222',
        font:{fontSize:16,fontWeight:'normal', fontFamily:'Helvetica'},
        left:10,
        right:10,
        top:10,
        bottom:10,
        height:'auto',
        width:'auto', 
        text:entry[i].text
        });
        comment.rowNum = i;
        row.add(comment);

        var url = '<a href="http://twitter.com/sxswist/status/" rel="nofollow" target="_blank">http://twitter.com/sxswist/status/</a>' + entry[i].id;
        row.url = url; 

        data.push(row);
    }
    // hide loader
    toolActInd.hide();
    win.setToolbar(null,{animated:true});

    // since this is the first page, just set the data since we started out empty
    tableView.setData(data);
}
xhr.open("GET",URL);
xhr.send(null);
};

var tableView = Titanium.UI.createTableView();

var toolActInd = Titanium.UI.createActivityIndicator();
toolActInd.style = Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN;
toolActInd.font = {fontFamily:'Helvetica Neue', fontSize:15,fontWeight:'bold'};
toolActInd.color = 'white';
toolActInd.message = 'Loading...';
//loader start
win.setToolbar([toolActInd],{animated:true});
toolActInd.show();
//loader end

tableView.addEventListener('click', function(e)
{

    var rowdata = e.row;
    var w = Ti.UI.createWindow({title:'@sxswist',barColor:'#A2CF18'});
    var webview = Ti.UI.createWebView();
    webview.url = rowdata.url;
    webview.addEventListener('load',function(e)
    {
        Ti.API.debug("webview loaded: "+e.url);
    });
    w.add(webview);
    win.tab.open(w);
});

win.add(tableView); 
fetchRows();

e.addEventListener('click', function()
{
    //loader start
    win.setToolbar([toolActInd],{animated:true});
    toolActInd.show();
    //loader end
    tableView.setData([]);
    setTimeout(function()
    {
        fetchRows();
    },1000)
});</code>
</pre>
<p>win.open();</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-516_17861/516.tiff">516.tiff</td></td><td>2011-04-15T02:30:44.000+0000</td><td>265796</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-516_17862/screen-shot-2010-08-26-at-113413-am.png">screen-shot-2010-08-26-at-113413-am.png</td></td><td>2011-04-15T02:30:45.000+0000</td><td>161372</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Thomas Huelbert 2011-04-15

   <div><p>valid, needs test case.</p>
   <p>The issue is seen when scrolling the list, then revealing the
   previously scrolled objects. Occurs on simulator and device.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>added screenshot</p></div></li>
<li>Steven Lu 2011-04-15

   <div><p>What's the status of this ticket? This bug is a very big
   eyesore.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>This ticket is still marked 'new' and is not marked as a
   priority bug for 1.5.0 currently. There has been no work done on it
   but we will fix it before release if there's time.</p></div></li>
<li>Steven Lu 2011-04-15

   <div><p>I still feel like this ticket should be at higher priority due
   to the number of watchers listed at the side. I noticed in 1.4.0rc1
   that it was fixed momentarily, then after the 1.4.0 official push
   update, the bug came right back to haunt us.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Do you have any additional information about where this was
   fixed, and then broken again? There was a very wide gap between rc1
   and the 1.4.0 drop.</p></div></li>
<li>Russ Frank 2011-04-15

   <div><p>Here's a test case:</p>
   <p>var win = Titanium.UI.currentWindow; var table =
   Ti.UI.createTableView(); data = []; for (var i=0; i &lt; 40; i++)
   {<br></p>
   <pre>
   <code>  var row = Ti.UI.createTableViewRow({layout:'vertical', height: 'auto'});
     var t = ""; 
     for (var j=0; j &lt; i; j++) t += "test ";
     row.add (Ti.UI.createLabel({ height: 'auto', width: 'auto', text: t }));
     row.add (Ti.UI.createLabel({ height: 'auto', width: 'auto', text: t }));
     data.push(row);</code>
   </pre>
   <p>}<br>
   table.setData(data); win.add(table);</p>
   <p>It appears that the bug will present when there are many
   vertical layout rows with height set to auto, each with multiple
   labels added to them with their heights set to auto, and when each
   row has a different height. Scrolling all the way to the bottom and
   back to the top with my test code above will reproduce the bug. See
   the attached screenshot of my simulator.</p></div></li>
<li>Jesse Domack 2011-04-15

   <div><p>This issue also pops up when you create a single label over 5
   lines and attach it to a tableViewRow with AutoHeight. The label at
   first is terminated with '...' then when scrolled off the page and
   back, the rest of the text shows up but is drawn outside the
   tableview row.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Fixed as part of tableview/view refactoring, duplicate of... a
   billion other bugs.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-516.json">JSON Source</a></p>