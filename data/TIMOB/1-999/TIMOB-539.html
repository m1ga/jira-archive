---
title: "[TIMOB-539] Text anti-aliasing on tableView labels after scrolling back on to the screen"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:53:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios, iphone, label, tableview, text</td></tr>
<tr><th>Reporter</th><td>kosso</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T02:31:24.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:53:26.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Hi,</p>
<p>I've seen this happen a few times. When I load at the vertical
layout demo in KS (on indeed my own app which uses this layout) the
text labels are nice and crisp.</p>
<p>If I then scroll the rows up out of view - and then back in to
view, the text is slightly blurred. (Called anti-aliasing)</p>
<p>I have a feeling this is happening when the row is repainted as
it comes back in to view and the calculations for the rowheight
might be float values, instead of integers (as we use when we set
positions for our labels - in whole numbers)</p>
<p>The reason I think it's this, is that this used to happen a lot
with Flash development - especially with certain types of text. We
had to make sure the positioning of the text was exactly 'on the
pixel'.</p>
<p>Probably this could be easily fixed (by Blain?) in
TiUITableViewRowProxy.m ?? :)</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-539_17865/blurring.jpg">blurring.jpg</td></td><td>2011-04-15T02:31:24.000+0000</td><td>213277</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-539_17864/tableview_blurringjs.zip">tableview_blurringjs.zip</td></td><td>2011-04-15T02:31:24.000+0000</td><td>3887</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>James K 2011-04-15

   <div><p>I am encountering this problem regularly.</p>
   <p>It only happens for labels added to table view rows - not for
   native <code>title</code> text.</p>
   <p>Whether it happens for a particular label appears to be
   influenced by the extent to which the label text is constrained by
   <code>top</code>, <code>bottom</code>, <code>left</code>,
   <code>right</code>, <code>width</code> and <code>height</code>.</p>
   <p>Setting both <code>left</code> and <code>right</code> in
   conjunction with <code>width:auto</code> seems to create the
   problem, but sometimes it's okay if you only set two of those three
   properties (which then precludes some complex layouts).</p></div></li>
<li>kosso 2011-04-15

   <div><p>thanks for this info.</p>
   <p>I tried just using 2 settings - an absolute left and an auto
   height (with textAlign:left) and I still the blurring when the row
   comes back in to view after scrolling off.</p>
   <p>I'm also placing my labels etc. in the row within a vertical
   layout view.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Should be fixed by <a href="/projects/32238/tickets/722" title=
   "Ticket #722">#722</a>. Please test.</p></div></li>
<li>kosso 2011-04-15

   <div><p>Hi,</p>
   <p>I'm still seeing it happen after building the latest 1.2.0
   today.</p>
   <p>Oddly, I'm sometimes seeing it blurred before scrolling
   offscreen, then sharpening up after scrolling off and on again.</p>
   <p>I've also tried setting my labels to even number positions and
   widths.</p>
   <p>Also bear in mind (if it's worth mentioning) that I use these
   labels (of varying fontSize and fontWeight, though I have tried
   setting fontSize to even numbers too) in a tableView WITHIN a
   'vertical' layout view (with 'auto' height) - and usually with
   textAlign left - WITHIN each tableViewRow</p>
   <p>See the attached image, where the top three rows have been
   scrolled out and then in to view.</p>
   <p>The titles have got blurred, yet the 'time ago' labels have got
   sharper.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>There is a chance that this is also related to <a href=
   "/projects/32238/tickets/709" title="Ticket #709">#709</a>.
   TableRowViews are handled differently than other views because they
   are dynamically loaded. Keep this a separate issue from <a href=
   "/projects/32238/tickets/722" title="Ticket #722">#722</a>.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Please provide me with some sample code so that I can replicate
   the problem.</p></div></li>
<li>kosso 2011-04-15

   <div><p>Hi Stephen.</p>
   <p>Here you go. See attached zip. (I have removed some of the
   functionality of this page in my app - which loads some JSON from
   my server and displays a tableView. You should be able to load it
   fine though)</p>
   <p>Scroll the rows up and down and you should see the effects on
   the various labels used.</p>
   <p>thx<br>
   Kosso</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/e4650d92e0a3192a758e8fae9ea38001f6bc529c"
   title=
   "Changeset [e4650d92e0a3192a758e8fae9ea38001f6bc529c]">[e4650d92e0a3192a758e8fae9ea38001f6bc529c]</a>)
   Closes <a href="/projects/32238/tickets/539" title=
   "Ticket #539">#539</a>. Bounds/Frames for UILabels always need to
   be on integer boundaries in the largest possible frame of
   reference. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/e4650d92e0a3192a758e8fae9ea38001f6bc529c" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/e4650d92e0a3192a758e8fae9ea38001f6bc529c</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/e4650d92e0a31..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/e4650d92e0a31...</a></a></p></div></li>
<li>kosso 2011-04-15

   <div><p>I'm still seeing this occur in places where left, right, height,
   top or bottom are odd numbers (with textAlign right or left) - in
   places like vertical layout scrollViews, tableViews,
   activityIndicator messages and others.</p>
   <p>Making sure things are on even numbers seems to help.</p>
   <p>It's got much better though. ;)</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-539.json">JSON Source</a></p>