---
title: "[TIMOB-559] Android: Appversion never taken from tiapp.xml"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-10-19T01:07:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 21, 2013 Sprint 21 Core, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android, CLI, Tooling</td></tr>
<tr><th>Labels</th><td>androidbuild, ay-verified, cb-verified, core</td></tr>
<tr><th>Reporter</th><td>Metal3d</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2011-04-15T02:31:55.000+0000</td></tr>
<tr><th>Updated</th><td>2013-11-13T18:34:26.000+0000</td></tr>
</table>

<h3>Description</h3>

I found this bug while I created new release for Android Market.

appversion is never changed from tiapp.xml file (version tag). I send you patch to correct this, to apply on 1.0.0/android/android.py

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-559_17868/android-appversion-correction.patch">android-appversion-correction.patch</td></td><td>2011-04-15T02:31:55.000+0000</td><td>903</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Metal3d 2011-04-15

   <div><p>There is a trouble with this patch... in fact with "android"
   manifest if you need to specify a floating value for version. It
   could be cool to correct this quickly, everybody wich needs to
   upload a new revision on android market is blocked because the
   appversion need to greater than previous</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Assigning to Don for triage... but bounce it back to iOS once
   you've handled it so we can check the report as well.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>There is a reason the version tag isn't used, because it's not
   sufficient for Android. You need to specify them in the android
   section of the tiapp.xml in the application element. Android
   requires an integer version that is incremented for each release
   AND a string version that can be everything. I will leave it in TBS
   so we can discuss it, but until we get project/platform specific
   settings it has to be done through the android manifest.</p></div></li>
<li>Jon Alter 2011-04-15

   <div><h3>Associated Helpdesk Ticket</h3>
   <p><a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/76595" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/76595</a>"><a href="http://developer.appcelerator.com/helpdesk/view/76595" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/76595</a></a></p></div></li>
<li>Jon Alter 2011-08-29

   <h4>Associated Helpdesk Ticket</h4>
   <a href="http://appc.me/c/APP-835962" rel="nofollow" target="_blank">http://appc.me/c/APP-835962</a></li>
<li>Josh Roesslein 2012-07-26

   We still don't generate a new versionCode for the AndroidManifest.xml when the
   "version" in tiapp.xml is updated. As mentioned in previous comment this is mostly due to Android
   requiring this to be an integer.
   
   <a href="http://developer.android.com/guide/topics/manifest/manifest-element.html#vcode" rel="nofollow" target="_blank">http://developer.android.com/guide/topics/manifest/manifest-element.html#vcode</a></li>
<li>Chris Barber 2013-10-15

   In Titanium SDK 3.2, we will populate the "android:versionName" with the <version> from the tiapp.xml. The "android:versionCode" will default to "1". You can override both of these values via the tiapp.xml:
   
   <code><pre>
   &lt;android&gt;
       &lt;manifest android:versionName="whatever" android:versionCode="1"&gt;&lt;/manifest&gt;
   &lt;/android&gt;
   </pre></code></li>
<li>Allen Yeung 2013-10-19

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4781" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4781</a></li>
<li>Samuel Dowse 2013-11-13

   Verified fixed on:
   Mac OSX 10.9 Mavericks
   Titanium Studio, build: 3.2.0.201311122225
   Titanium SDK, build: 3.2.0.v20131112144044
   CLI: 3.2.0
   Alloy: 1.3.0
   
   Android version can be specified in the tiapp.xml
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-559.json">JSON Source</a></p>