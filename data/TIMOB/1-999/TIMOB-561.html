---
title: "[TIMOB-561] Request:  ability to open DB from any path and filename"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:53:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, database, feature, open</td></tr>
<tr><th>Reporter</th><td>Burggraf</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T02:31:57.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:53:30.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>We often need to download database files and store them in the
appDataDirectory. It would be nice if we could simply call
DB.open("filename") and pass a fully-qualified path and filename to
the database.</p>
<p>We should not be required to place databases in a specific
folder, nor should we be forced to append a ".sql" extension to the
end of a database filename.</p></div>

<h3>Comments</h3>

<ol>
<li>Martin Robinson 2011-04-15

   <div><p>This can be accomplished by
   <code>Titanium.Database.openFile(...)</code>. I'm aware that the
   documentation on the Developer site is incorrect, but it should be
   fixed with the next release. Sorry for the inconvenience.</p></div></li>
<li>Martin Robinson 2011-04-15

   <div><p>Whoops. Thought this was filed in Titanium Desktop. Need more
   coffee. Reopening.</p></div></li>
<li>Burggraf 2011-04-15

   <div><p>Any update on this? With the small amount of space available for
   many Android devices, the ability to open a database stored on an
   SD card will be crucial for large databases.</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>For now it should be possible to use an absolute path to any
   readable location on the filesystem, here's a gist I made that
   shows the example using a DB pushed onto the SD card:</p>
   <p><a href=
   "<a href="http://gist.github.com/577943" rel="nofollow" target="_blank">http://gist.github.com/577943</a>"><a href="http://gist.github.com/577943" rel="nofollow" target="_blank">http://gist.github.com/577943</a></a></p>
   <p>I'm changing this bug to better reflect our API, i.e. we should
   accept a file object as well as a path string in our open() method
   so this works more consistently.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Note: Storing a database on the SDCard allows it to be used by
   any application on the system and or copied off by the user. App
   level security is not possible on SDCard.</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/b01fdb396b2b89aa87506654379c3755047a649f"
   title=
   "Changeset [b01fdb396b2b89aa87506654379c3755047a649f]">[b01fdb396b2b89aa87506654379c3755047a649f]</a>)
   allow sqlite databases to be opened from File objects as well as
   app:// paths [<a href="/projects/32238/tickets/561" title=
   "Ticket #561">#561</a> state:fixed-in-qa] <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/b01fdb396b2b89aa87506654379c3755047a649f" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/b01fdb396b2b89aa87506654379c3755047a649f</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/b01fdb396b2b8..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/b01fdb396b2b8...</a></a></p></div></li>
<li>Burggraf 2011-04-15

   <div><p>Is this available in the current nightly build? If not, where
   can I get a copy of this code for testing?</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>It's in the nightly build.</p></div></li>
<li>Matt Schmulen 2011-04-15

   <div><p>test script</p>
   <p>Ti.API.info("db tst open att l16file:///sdcard/test.db");<br>
   Ti.API.info('for drillbit copy test.db to card');<br>
   //copy db to the sdcard</p>
   <p>var file =
   Titanium.Filesystem.getFile("file:///sdcard/test.db");<br>
   var db = Ti.Database.open(file);<br>
   if ( db == null ) { alert('db null');}<br>
   Ti.API.info( 'db ... ' + db );<br>
   var rs = db.execute('SELECT message FROM test');<br>
   if ( rs != null &amp;&amp; rs.isValidRow()) {<br></p>
   <pre>
   <code>alert(rs.getFieldByName("message"));</code>
   </pre>
   <p>}//end if else<br>
   {</p>
   <pre>
   <code>alert('Select fail');</code>
   </pre>
   <p>}//end else</p>
   <p>if ( rs != null ) rs.close();<br>
   if ( db != null ) db.close();</p></div></li>
<li>Matt Schmulen 2011-04-15

    <div><p>pass Titanium SDK version: 1.5.0 (12/07/10 10:00 8f4eea3...)
    Android, 1.6/2.1, code above</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-561.json">JSON Source</a></p>