---
title: "[TIMOB-578] image view (stretchable image with left cap)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:53:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Nolan Wright</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T02:32:20.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:53:34.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p><a href=
"<a href="http://helpdesk.appcelerator.net/tickets/1474" rel="nofollow" target="_blank">http://helpdesk.appcelerator.net/tickets/1474</a>"><a href="http://helpdesk.appcelerator.net/tickets/1474" rel="nofollow" target="_blank">http://helpdesk.appcelerator.net/tickets/1474</a></a></p>
<p>blain, let's discuss this one.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-578_17871/app.js">app.js</td></td><td>2011-04-15T02:32:20.000+0000</td><td>905</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-578_17870/screen-shot-2010-04-16-at-25328-pm.png">screen-shot-2010-04-16-at-25328-pm.png</td></td><td>2011-04-15T02:32:20.000+0000</td><td>152887</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-578_17872/variable-behav.jpg">variable-behav.jpg</td></td><td>2011-04-15T02:32:21.000+0000</td><td>45569</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>kosso 2011-04-15

   <div><p>This could be related to this too:</p>
   <p><a href=
   "<a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/563-imageview-scaling-issues" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/563-imageview-scaling-issues</a>">
   <a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/563-i..." rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/563-i...</a></a></p></div></li>
<li>Blain Hamon 2011-04-15

   <div><p>Possible solution is a boolean property on the imageView class,
   'stretchImage'.</p>
   <p>When true, we'll have the imageView
   loadStretchableImmediateImage instead.</p></div></li>
<li>Justin 2011-04-15

   <div><p>That would be great. Can you also include properties for the
   leftCapWidth and topCapHeight so they can be customized (very
   useful in my case).</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Currently image views do not use stretchable images so this does
   not affect them. Stretchable image views should be considered a new
   feature and a separate ticket should be made for them (and they
   should be easy to implement with the new infrastructure).</p>
   <p>However as per the original ticket, backgrounds are now
   stretchable. The 'backgroundLeftCap' and 'backgroundTopCap' are
   TiDimensions, where 'auto' and '0' mean the same thing (the image
   stretches in the middle only). Otherwise, PLEASE be careful when
   using capping: Keep in mind that the left end cap == right end cap
   and similarly for top/bottom. This means that if the source image
   you're capping isn't symmetrical in terms of pixels, there may be
   issues such as where a stretched out pixel leads suddenly into a
   smooth bump at the very end of the image on the right cap. One
   example of this is the 'chat' image contained in KitchenSink. You
   can view this behavior by uncommenting the relevant lines in
   textfield_therest.js and playing around with the values a
   little.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/acbf58ff82857ec52dea89fb771d70d078f166fe"
   title=
   "Changeset [acbf58ff82857ec52dea89fb771d70d078f166fe]">[acbf58ff82857ec52dea89fb771d70d078f166fe]</a>)
   Closes <a href="/projects/32238/tickets/578" title=
   "Ticket #578">#578</a>: Stretchable images (backgrounds) are now
   cappable. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/acbf58ff82857ec52dea89fb771d70d078f166fe" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/acbf58ff82857ec52dea89fb771d70d078f166fe</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/acbf58ff82857..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/acbf58ff82857...</a></a></p></div></li>
<li>Justin 2011-04-15

   <div><p>Excellent, thanks guys!</p></div></li>
<li>Justin 2011-04-15

   <div><p>Stephen, should this also work with labels? Have a demo working
   with a textfield, but not a label.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Unfortunately, it appears not. Backgrounds on labels and most
   other UI elements are set via a method which does not preserve
   capping. Currently only text fields and buttons allow capping;
   labels appear not to. One way you may wish to get around the label
   issue is to create an inactive text field if it's important for
   look &amp; feel.</p>
   <p>This is an important documentation issue, and should be noted.
   There is lots of infrastructure in place to allow capping, but (on
   a technical note) CGImages are pure bitmap content, not
   instructions on how that content is to be interpreted. Keeping all
   the code in place for now so that if an eventual solution is
   determined or an API change is made, we can take advantage of
   it.</p></div></li>
<li>Justin 2011-04-15

   <div><p>Appreciate the explanation and insight. Thanks again for
   tackling this ticket, it's very helpful.</p></div></li>
<li>Justin 2011-04-15

    <div><p>backgroundPadding* renders unexpectedly with 1.3. Has this
    functionality changed?</p></div></li>
<li>Stephen Tramer 2011-04-15

    <div><p>Some things may have changed in the last update to fix how
    padding presents itself, and avoid issues with resetting background
    bounds.<br></p>
    <p>It's now a documented feature visible in the KitchenSink
    Controls -&gt; Labels test, so you can see if things have changed
    for yourself. Please let me know if you have any more questions, or
    sample code you want me to look at.</p></div></li>
<li>Justin 2011-04-15

    <div><p>I modified the LabelTest project I shared previously to mimic
    the KitchenSink demo. Where, the label is created first, then then
    the backgroundImage and padding are set. I launched the app 3 times
    in succession and got 3 different results (see image).</p>
    <p>When I modified the label constructor to include the
    backgroundImage and padding, I repeatedly got result <a href=
    "/projects/32238/tickets/3" title="Ticket #3">#3</a>.</p></div></li>
<li>Stephen Tramer 2011-04-15

    <div><p>Reopening and prioritizing this, since it could be a serious
    issue.</p></div></li>
<li>Jeff Haynie 2011-04-15

    <div><p>(from <a href=
    "/projects/32238/changesets/1fba03bb40a13c3ae4ac0d4346526d062f2d8a90"
    title=
    "Changeset [1fba03bb40a13c3ae4ac0d4346526d062f2d8a90]">[1fba03bb40a13c3ae4ac0d4346526d062f2d8a90]</a>)
    Closes <a href="/projects/32238/tickets/578" title=
    "Ticket #578">#578</a>: padding fixed (again). Because padding
    breaks easily and doesn't respect 'auto', it will be removed when
    stretchable image views are implemented (since labels can just be
    embedded in views then). <a href=
    "<a href="http://github.com/appcelerator/titanium_mobile/commit/1fba03bb40a13c3ae4ac0d4346526d062f2d8a90" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/1fba03bb40a13c3ae4ac0d4346526d062f2d8a90</a>">
    <a href="http://github.com/appcelerator/titanium_mobile/commit/1fba03bb40a13..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/1fba03bb40a13...</a></a></p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-578.json">JSON Source</a></p>