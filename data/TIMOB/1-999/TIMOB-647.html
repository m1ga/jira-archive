---
title: "[TIMOB-647] add subnet and external ip to platform API"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:53:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Nolan Wright</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T02:33:38.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:53:48.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>from ticket:</p>
<p><a href=
"<a href="http://helpdesk.appcelerator.net/tickets/1653" rel="nofollow" target="_blank">http://helpdesk.appcelerator.net/tickets/1653</a>"><a href="http://helpdesk.appcelerator.net/tickets/1653" rel="nofollow" target="_blank">http://helpdesk.appcelerator.net/tickets/1653</a></a></p>
<p>i believe these are available - see:</p>
<p><a href=
"<a href="http://stackoverflow.com/questions/2023592/iphone-wifi-subnet-mask-and-router-address" rel="nofollow" target="_blank">http://stackoverflow.com/questions/2023592/iphone-wifi-subnet-mask-and-router-address</a>">
<a href="http://stackoverflow.com/questions/2023592/iphone-wifi-subnet-mask-..." rel="nofollow" target="_blank">http://stackoverflow.com/questions/2023592/iphone-wifi-subnet-mask-...</a></a></p></div>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2011-04-15

   <div><p>Need more information. Does 'external ip' refer to the IP
   assigned to the phone, or the IP of the router?</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>I've gathered that this is what the user wants:</p>
   <ul>
   <li>Local IP address (address assigned by network)</li>
   <li>Local subnet (retrieve netmask &amp; figure out how to apply it
   to local IP, or just retrieve netmask and let the user do it)</li>
   <li>External IP address (address visible to the world)</li>
   </ul>
   <p>1 &amp; 2 are possible. Getting the external IP address is much
   harder, unless it refers to the EDGE/3G address assigned to the
   phone.</p>
   <p>Some more notes which I'll update as time goes on, germane to
   using getifaddrs:</p>
   <p>en0: wifi<br>
   pdp_ip0: data network<br>
   lo0: loopback (127.0.0.1)</p>
   <p>Note that this code will use getifaddrs() directly, which may or
   may not be considered "legal" under the iPhone guidelines since
   it's a BSD function. This is the only way to get the information;
   as with sockets, the system configuration framework is crippled on
   iPhone.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/b46736df8d8bbcebfe3d9c5820a7ea681db0343b"
   title=
   "Changeset [b46736df8d8bbcebfe3d9c5820a7ea681db0343b]">[b46736df8d8bbcebfe3d9c5820a7ea681db0343b]</a>)
   Closes <a href="/projects/32238/tickets/647" title=
   "Ticket #647">#647</a>: 'address' now works right, 'dataAddress'
   and 'netmask' properties added to Platform. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/b46736df8d8bbcebfe3d9c5820a7ea681db0343b" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/b46736df8d8bbcebfe3d9c5820a7ea681db0343b</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/b46736df8d8bb..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/b46736df8d8bb...</a></a></p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Very important note on this fix: It's only been tested on a 2G
   phone. You will need to test it across a broad spectrum of devices
   (any model of iPod touch, 3G, 3GS) before this can be absolutely
   confirmed. I've closed the bug anyway.</p>
   <p>There's no way to get a phone's external address (beyond data)
   simply because the phone will always reside behind a router on
   wifi.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Works on my 2G, but apparently not Nolan's 3GS. Rolled back the
   fix and reopened until we can perform some diagnostics on all
   platforms and add in some emulation for simulation (since right now
   network information doesn't work under the simulator in most
   cases).</p>
   <p>Devices tested so far: 2G.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/1519d4247c4f8b88b966ca28b1cb38282411eb85"
   title=
   "Changeset [1519d4247c4f8b88b966ca28b1cb38282411eb85]">[1519d4247c4f8b88b966ca28b1cb38282411eb85]</a>)
   Closes <a href="/projects/32238/tickets/647" title=
   "Ticket #647">#647</a>. Confirmed to work by me, matches
   information about other devices provided by Blain (thanks Blain).
   Comment on the bug again if netmask issues persist. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/1519d4247c4f8b88b966ca28b1cb38282411eb85" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/1519d4247c4f8b88b966ca28b1cb38282411eb85</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/1519d4247c4f8..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/1519d4247c4f8...</a></a></p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-647.json">JSON Source</a></p>