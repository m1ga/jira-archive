---
title: "[TIMOB-685] Android: Minimize APK"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:53:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M04</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, enterprise, release-1.6.0, rplist</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-04-15T02:34:24.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:53:55.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Several things to consider</p>
<ul>
<li>Make sure modules aren't linked in if not used.</li>
<li>Create minimal js.jar</li>
<li>Have dependency detection between modules (requires extending
module project)</li>
<li>Use js compiler where possible</li>
</ul>
<p>See this <a href=
"<a href="http://developer.appcelerator.com/question/8511/how-to-optimize-for-pacakge-size" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/8511/how-to-optimize-for-pacakge-size</a>">
Q&amp;A</a></p></div>

<h3>Comments</h3>

<ol>
<li>ryanchan 2011-04-15

   <div><p>I want to confirm if this issue only related to Android?</p>
   <p>How about iPhone?</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>We use different tickets for each platform. iPhone is already
   minimizing it.</p></div></li>
<li>John Veldboom 2011-04-15

   <div><p>Any update on this? I've received a couple of negative feedbacks
   from users in the marketplace due to the file size being large.</p>
   <p>The APK is just under 1MB, but when installed it's over 3MB.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>This is being done as part of our 1.5 release. We do not have a
   firm release date yet.</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/6dbf78c86cfa3b48320b786a7a026c714d321e21"
   title=
   "Changeset [6dbf78c86cfa3b48320b786a7a026c714d321e21]">[6dbf78c86cfa3b48320b786a7a026c714d321e21]</a>)
   a new smalljs.jar that includes everything needed for JS compiling,
   we now compile / ship with the smalljs.jar on device, and compile
   with js.jar [<a href="/projects/32238/tickets/685" title=
   "Ticket #685">#685</a> state:fixed-in-qa] <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/6dbf78c86cfa3b48320b786a7a026c714d321e21" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/6dbf78c86cfa3b48320b786a7a026c714d321e21</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/6dbf78c86cfa..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/6dbf78c86cfa...</a></a></p></div></li>
<li>hal 2011-04-15

   <div><p>Marshall</p>
   <p>Does this optimization address excluding images that aren't
   required, as per <a href=
   "<a href="http://developer.appcelerator.com/question/83571/zipalign---is-it-built-into-titanium" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/83571/zipalign---is-it-built-into-titanium</a>">
   this concern</a> in the Q&amp;A? Although, I'm not sure if this is
   possible. Would you mind clarifying? Thanks</p></div></li>
<li>hal 2011-04-15

   <div><p>Marshall - ignore my last post - Don answered it for me.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>Marshall, from osx (api 7) and Titanium SDK version: 1.5.0
   (12/08/10 08:34 4ee1205), when creating a minimal project I get
   4.85MB</p>
   <p>1.new project &gt; mobile, give it required info<br>
   2.install to device and check the size (by way of settings&gt;
   manage applications)</p>
   <p>results: 4.85 MB</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>1.4.1.1 same test yields a 2.86MB (uncompressed on device)</p></div></li>
<li>Don Thorp 2011-04-15

    <div><p>Should not have been in M01</p></div></li>
<li>Marshall Culpepper 2011-04-15

    <div><p>(from <a href=
    "/projects/32238/changesets/b2aae2b86035fd5479430aa25deeb0b11536d51c"
    title=
    "Changeset [b2aae2b86035fd5479430aa25deeb0b11536d51c]">[b2aae2b86035fd5479430aa25deeb0b11536d51c]</a>)
    Merge branch 'master' of <a href=
    "<a href="https://github.com/taazza/titanium_mobile" rel="nofollow" target="_blank">https://github.com/taazza/titanium_mobile</a>"><a href="https://github.com/taazza/titanium_mobile" rel="nofollow" target="_blank">https://github.com/taazza/titanium_mobile</a></a>
    into taazza-master [<a href="/projects/32238/tickets/685" title=
    "Ticket #685">#685</a>] <a href=
    "<a href="https://github.com/appcelerator/titanium_mobile/commit/b2aae2b86035fd5479430aa25deeb0b11536d51c" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/b2aae2b86035fd5479430aa25deeb0b11536d51c</a>">
    <a href="https://github.com/appcelerator/titanium_mobile/commit/b2aae2b86035..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/b2aae2b86035...</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

    <div><p>(from <a href=
    "/projects/32238/changesets/a843cf5fbb88612f73da03f398659568cc6b8d3f"
    title=
    "Changeset [a843cf5fbb88612f73da03f398659568cc6b8d3f]">[a843cf5fbb88612f73da03f398659568cc6b8d3f]</a>)
    extract all binding strings into constants, speeding up initial
    binding time and slightly lowering bytecode size [<a href=
    "/projects/32238/tickets/685" title="Ticket #685">#685</a>
    state:fixed-in-qa]<br>
    <a href=
    "<a href="https://github.com/appcelerator/titanium_mobile/commit/a843cf5fbb88612f73da03f398659568cc6b8d3f" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/a843cf5fbb88612f73da03f398659568cc6b8d3f</a>">
    <a href="https://github.com/appcelerator/titanium_mobile/commit/a843cf5fbb88..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/a843cf5fbb88...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

    <div><p><a href="/projects/32238/changesets/INFO" title=
    "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (01/10/11
    08:25 3452f06)</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-685.json">JSON Source</a></p>