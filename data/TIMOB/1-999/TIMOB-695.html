---
title: "[TIMOB-695] iPhone buildscript adhoc distribution"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-07-24T13:53:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>core, tooling</td></tr>
<tr><th>Reporter</th><td>SaturnPolly</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-04-15T02:34:39.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-26T21:03:05.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>around line 600 the builder.py says</p>
<pre>
<code class=
"python"># in this case, we have to do different things based on if it's
<h4>an ad-hoc distribution cert or not - in the case of non-adhoc</h4>
<h4>we don't use the entitlements file but in ad hoc we need to</h4>
adhoc_line = "CODE_SIGN_ENTITLEMENTS="
deploytype = "production_adhoc"
if not is_adhoc(appuuid):
  adhoc_line="CODE_SIGN_ENTITLEMENTS = Resources/Entitlements.plist"</code>
</pre>
<p>the comment is correct but in the code the two adhoc_line
assignments are the other way around.</p></div>

<h3>Comments</h3>

<ol>
<li>hal 2011-04-15

   <div><p>SaturnPolly</p>
   <p>This ticket does not explain how to reproduce the issue, so
   risks being marked invalid.</p>
   <p>A number of users have asked you to clarify your solution in
   your original <a href=
   "<a href="http://developer.appcelerator.com/question/32391/ad-hoc-finally-working-" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/32391/ad-hoc-finally-working-</a>">
   Q&amp;A post</a>, and also there is a new user with the
   problem.</p>
   <p>Would you minding helping them, to determine whether this bug
   still exists, please?</p>
   <p>Thanks</p></div></li>
<li>blueklein76 2011-04-15

   <div><p>I had this issue, but I can't remember whether it was the build
   that failed or the installation of the ad-hoc compiled app. I think
   it gave a "missing entitlements" error.</p>
   <p>To fix, I changed builder.py to:</p>
   <pre>
   <code>        # in this case, we have to do different things based on if it's
           # an ad-hoc distribution cert or not - in the case of non-adhoc
           # we don't use the entitlements file but in ad hoc we need to
           adhoc_line = "CODE_SIGN_ENTITLEMENTS=Resources/Entitlements.plist"
           deploytype = "production_adhoc"
           if not is_adhoc(appuuid):
               adhoc_line="CODE_SIGN_ENTITLEMENTS="
               deploytype = "production"</code>
   </pre>
   <p>i.e. change the value of "adhoc_line" so that it matches the
   comment.</p>
   <p>This code is present in builder.py for SDKs 1.2, 1.3, 1.3.2 but
   the build process has changed in 1.4 so it may no longer require
   fixing.</p></div></li>
<li>hal 2011-04-15

   <div><p>Another Q&amp;A post that includes a solution similar to the
   above is <a href=
   "<a href="http://developer.appcelerator.com/question/89391/problem-installing-to-device-itunes#195331" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/89391/problem-installing-to-device-itunes#195331</a>">
   this</a> one. The bug was found in 1.5.1.</p></div></li>
<li>hal 2011-04-15

   <div><p>In order to understand this issue, a build.log file needs to be
   provided. Does anyone have one they can add?</p></div></li>
<li>Vikramjeet Singh 2011-07-28

   Bug Scrub: Invalid. Test case exists</li>
<li>Stephen Tramer 2012-07-24

   Invalidated in bug scrub 28/Jul/11 as per comment. Currently we offer adhoc as well.</li>
</ol>


<p><a href="/TIMOB/TIMOB-695.json">JSON Source</a></p>