---
title: "[TIMOB-775] iPhone: zIndex in constructor doesn't seem to be respected"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2011-04-15T02:36:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, iphone, rplist, zindex</td></tr>
<tr><th>Reporter</th><td>Jeff Haynie</td></tr>
<tr><th>Assignee</th><td>Jeff Haynie</td></tr>
<tr><th>Created</th><td>2011-04-15T02:36:07.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-03T05:36:12.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>if you call it later in animate, works but if you put in
constructor, seems to be ignored.</p></div>

<h3>Comments</h3>

<ol>
<li>k00k 2011-04-15

   <div><p>I've tried calling animate workaround as jhaynie suggested with
   no luck, please advise.</p>
   <pre>
   <code>var w = Ti.UI.createWindow({backgroundColor:'#fff'});
   
   var v1 = Ti.UI.createView({backgroundColor:'blue', height:60,width:320});
   w.add(v1);
   
   var v2 = Ti.UI.createView({backgroundColor:'pink', height:50,width:300});
   w.add(v2);
   
   
   var b = Ti.UI.createButton({
       title:'open',
       top:10,
       height:40,
       width:200
   });
   
   w.add(b);
   
   b.addEventListener('click', function()
   {
       v1.animate({zindex: 1});
   });
   
   w.open();</code>
   </pre></div></li>
<li>k00k 2011-04-15

   <div><p>Here's the same code with zindex explicitly specified for the 2
   views at launch:</p>
   <pre>
   <code>var w = Ti.UI.createWindow({backgroundColor:'#fff'});
   
   var v1 = Ti.UI.createView({backgroundColor:'blue', height:60,width:320,zindex:1});
   w.add(v1);
   
   var v2 = Ti.UI.createView({backgroundColor:'pink', height:50,width:300,zindex:2});
   w.add(v2);
   
   
   var b = Ti.UI.createButton({
       title:'open',
       top:10,
       height:40,
       width:200
   });
   
   w.add(b);
   
   b.addEventListener('click', function()
   {
       v1.animate({zindex: 100});
   });
   
   w.open();</code>
   </pre></div></li>
<li>Jean-Etienne LaVallee 2011-04-15

   <div><p>I'm having this issue on iOS SDK 4.0.1, TiDev 1.2.1, TiSDK 1.4.0
   on both iPhone and iPad builds.</p>
   <p>What I'm seeing is that the zIndex constructor property IS being
   respected but any attempt to modify it programmatically is failing
   (which seems the opposite of what jhaynie is describing).</p>
   <p>When I dump the zIndex values to the debug log for the views in
   question, I'm seeing that the property IS being set properly just
   not rendering properly.</p>
   <p>Has this been reproduced? Is there a root cause? Etc.</p>
   <p>Trying to determine if I need to come up with a hack-around for
   an app that's due for testing hand-off in about 3 weeks.</p>
   <p>Thanks!</p></div></li>
<li>k00k 2011-04-15

   <div><p>@Jean-Etienne - Please update if you find a fix/hack-around.</p></div></li>
<li>Jean-Etienne LaVallee 2011-04-15

   <div><p>@k00k: Right now the only solution I've found is to remove the
   zIndex'd components from their container view/window and then
   immediately add them back. But it's tetchy at best as I've had a
   couple of situations where the app freezes up after a few
   remove()/add() cycles and becomes completely unresponsive.<br></p>
   <p>I couldn't get the animation of the zIndex to do anything.</p>
   <p>For now I'm leaving it be... in my case I'm simulating
   overlapping folder tabs at the top of the UI so, the overlap can be
   simulated with artwork swapping if absolutely necessary... tho,
   that immediately makes me feel like I'm back in HTML3 table-layout
   land... shiver.</p>
   <p>If I come up with something else, I'll let you know.</p>
   <p>@jhaynie, @Nolan or @Blain: you guys have a line of sight on
   this?</p></div></li>
<li>Jean-Etienne LaVallee 2011-04-15

   <div><p>Has there been any progress on this issue? I'm currently having
   to write helper methods in all of my component wrappers to do this
   very ugly .remove()/.add() cycling and I think it may be
   contributing to my app being a bit unstable. See lock-ups or UIView
   related crashes after remove/add processes happening fairly
   regularly in the simulator.</p>
   <p>Also, I'm having to do hide/show cycling to deal with a similar
   issue where some components won't resize their width/height until
   I've hidden them, resized them and then shown them. Since this
   occurs quite a bit with iPad orientation changing and I have some
   elements that can't be left-right, top-bottom anchored (i.e. I have
   to explicitly resize them to make them work in the given layout)
   this is becoming problematic too.</p>
   <p>Hoping to have this app out to beta testers on October 1 on
   iPad/iPhone deployments.</p>
   <p>thanks,<br>
   Etienne</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/48efc48d8a2d072fbe5347247fb3748a809cc582"
   title=
   "Changeset [48efc48d8a2d072fbe5347247fb3748a809cc582]">[48efc48d8a2d072fbe5347247fb3748a809cc582]</a>)
   [<a href="/projects/32238/tickets/775" title="Ticket #775">#775</a>
   status:fixed-in-qa] [<a href="/projects/32238/tickets/1426" title=
   "Ticket #1426">#1426</a> status:fixed-in-qa] [<a href=
   "/projects/32238/tickets/1416" title="Ticket #1416">#1416</a>
   status:fixed-in-qa] zIndex sorting must happen in the parent of the
   view whose zIndex changed. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/48efc48d8a2d072fbe5347247fb3748a809cc582" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/48efc48d8a2d072fbe5347247fb3748a809cc582</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/48efc48d8a2d0..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/48efc48d8a2d0...</a></a></p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/6a5a8a1cd4fe1e05fbfcfb076d3a1bdb9238d27b"
   title=
   "Changeset [6a5a8a1cd4fe1e05fbfcfb076d3a1bdb9238d27b]">[6a5a8a1cd4fe1e05fbfcfb076d3a1bdb9238d27b]</a>)
   [<a href="/projects/32238/tickets/775" title="Ticket #775">#775</a>
   status:fixed-in-qa] [<a href="/projects/32238/tickets/1426" title=
   "Ticket #1426">#1426</a> status:fixed-in-qa] [<a href=
   "/projects/32238/tickets/1416" title="Ticket #1416">#1416</a>
   status:fixed-in-qa] zIndex sorting must happen in the parent of the
   view whose zIndex changed. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/6a5a8a1cd4fe1e05fbfcfb076d3a1bdb9238d27b" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/6a5a8a1cd4fe1e05fbfcfb076d3a1bdb9238d27b</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/6a5a8a1cd4fe1..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/6a5a8a1cd4fe1...</a></a></p></div></li>
<li>Jean-Etienne LaVallee 2011-04-15

   <div><p>@jhaynie, is this in the continuous builds? Assuming so, but
   wanted to ask before I test it...</p>
   <p>And is this related to issue 1501 wherein the only way to change
   an objects size (w/o using an animation) is to show/hide cycle it?
   I'm dealing with this one specifically when resizing elements after
   an orientation change on iPad.</p>
   <p>Thanks, Etienne</p></div></li>
<li>Blain Hamon 2011-04-15

    <div><p>The Jhayne is due to automation. 'Twas me.</p>
    <p>This fix, which as of this posting is in the continuous build,
    only fixes the zIndex issue.</p></div></li>
<li>Thomas Huelbert 2011-04-15

    <div><p>provided code does change zindex, back to you Blain
    1.5.0.62c1cae</p></div></li>
<li>Thomas Huelbert 2011-04-15

    <div><p>a sample from <a href="/projects/32238/tickets/2183" title=
    "Ticket #2183">#2183</a> (duped against this)</p>
    <p>Running on master as of 10/24, zIndex seems broken.</p>
    <p>Here's the test case. Pink should be on top.</p>
    <p>var window = Ti.UI.createWindow();<br>
    var view1 = Ti.UI.createView({<br></p>
    <pre>
    <code>backgroundColor:'pink',
    zIndex:20,
    width:200,
    height:30,
    top:10,
    left:10</code>
    </pre>
    <p>});</p>
    <p>var view2 = Ti.UI.createView({<br></p>
    <pre>
    <code>backgroundColor:'blue',
    zIndex:11,
    width:200,
    height:30,
    top:15,
    left:15</code>
    </pre>
    <p>});</p>
    <p>var view3 = Ti.UI.createView({<br></p>
    <pre>
    <code>backgroundColor:'red',
    zIndex:12,
    width:200,
    height:30,
    top:20,
    left:20</code>
    </pre>
    <p>});</p>
    <p>window.add(view1);<br>
    window.add(view2);<br>
    window.add(view3);<br>
    window.open();</p></div></li>
<li>Jeff Haynie 2011-04-15

    <div><p>(from <a href=
    "/projects/32238/changesets/483124c7082e31db4e80b3de4739f7eeb703da27"
    title=
    "Changeset [483124c7082e31db4e80b3de4739f7eeb703da27]">[483124c7082e31db4e80b3de4739f7eeb703da27]</a>)
    [<a href="/projects/32238/tickets/2183" title=
    "Ticket #2183">#2183</a> state:fixed-in-qa] [<a href=
    "/projects/32238/tickets/775" title="Ticket #775">#775</a>
    state:fixed-in-qa] [<a href="/projects/32238/tickets/2092" title=
    "Ticket #2092">#2092</a> state:fixed-in-qa] [<a href=
    "/projects/32238/tickets/1426" title="Ticket #1426">#1426</a>
    state:fixed-in-qa] [<a href="/projects/32238/tickets/1416" title=
    "Ticket #1416">#1416</a> state:fixed-in-qa] This time, zIndex is
    fixed for sure! Really now! Honest! <a href=
    "<a href="http://github.com/appcelerator/titanium_mobile/commit/483124c7082e31db4e80b3de4739f7eeb703da27" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/483124c7082e31db4e80b3de4739f7eeb703da27</a>">
    <a href="http://github.com/appcelerator/titanium_mobile/commit/483124c7082e3..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/483124c7082e3...</a></a></p></div></li>
<li>Stephen Tramer 2011-04-15

    <div><p>Duplicate of <a href="/projects/32238/tickets/2183" title=
    "Ticket #2183">#2183</a> as per Thom, above.</p></div></li>
<li>Lee Morris 2017-03-03

    Closing issue due to time passed and irrelevance of the ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-775.json">JSON Source</a></p>