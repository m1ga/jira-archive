---
title: "[TIMOB-829] Android: Menu isn't visible/doesn't work for tabbed windows."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:54:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M06</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, release-1.6.0</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Jeff Haynie</td></tr>
<tr><th>Created</th><td>2011-04-15T02:37:20.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:54:22.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>The problem is that the Activity that creates the menu isn't
always the current activity that has access to the menu.</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>Click <em>FAIL</em> re-assigning to me instead of Jeff.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Reports of it's operation being intermittent as well even with
   single Windows.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>This may no longer be valid.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>This is eons old and the menu system has changed for the better
   since then. I see no problem with menus in tabbed window contexts.
   My test case app.js, win1.js and win2.js:</p>
   <p>app.js:</p>
   <pre>
   <code class="javascript">Titanium.UI.setBackgroundColor('#000');
   var tabGroup = Titanium.UI.createTabGroup();
   var win1 = Titanium.UI.createWindow({  
       title:'Tab 1',
       backgroundColor:'#fff',
       url: 'win1.js'
   });
   var tab1 = Titanium.UI.createTab({  
       icon:'KS_nav_views.png',
       title:'Tab 1',
       window:win1
   });
   
   var win2 = Titanium.UI.createWindow({  
       title:'Tab 2',
       backgroundColor:'#fff',
       url: 'win2.js'
   });
   var tab2 = Titanium.UI.createTab({  
       icon:'KS_nav_ui.png',
       title:'Tab 2',
       window:win2
   });
   
   tabGroup.addTab(tab1);  
   tabGroup.addTab(tab2);  
   tabGroup.open();</code>
   </pre>
   <p>win1.js:</p>
   <pre>
   <code class="javascript">var win = Ti.UI.currentWindow;
   
   var activity = Ti.Android.currentActivity;
   activity.onCreateOptionsMenu = function(e) {
       var m = e.menu.add({title: 'Win 1 Item 1'});
       m.addEventListener('click', function(){alert('Win 1 Item 1 click');});
   };
   win.add(Ti.UI.createLabel({text: 'Press menu and you should see "Win 1 Item 1"'}));</code>
   </pre>
   <p>win2.js:</p>
   <pre>
   <code class="javascript">var win = Ti.UI.currentWindow;
   
   var activity = Ti.Android.currentActivity;
   activity.onCreateOptionsMenu = function(e) {
       var m = e.menu.add({title: 'Win 2 Item 1'});
       m.addEventListener('click', function(){alert('Win 2 Item 1 click');});
   };
   win.add(Ti.UI.createLabel({text: 'Press menu and you should see "Win 2 Item 1"'}));</code>
   </pre></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Verified on G1/1.6 and Nexus One/2.2.1 using build #e1cb22a</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-829.json">JSON Source</a></p>