---
title: "[TIMOB-836] iOS: Ti.* functions fail within webview after additional page loads."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2017-06-26T23:22:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.6.0, Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Gabriel Cox</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-04-15T02:37:30.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-26T23:22:13.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Ti.* functions fail within webview after additional page loads.
This can be reproduced by creating links with to an additional page
with a call like Ti.API.info("message"). I have only tried this on
iPhone, but it may be elsewhere. This affects an Oauth
implementation since a redirect to a callback url is used at the
end of the authorization.</p>
<p>example:</p>
<pre>
<code class=
"javascript">var webview = Ti.UI.createWebView({url:'app://Resources/test2.html'});
Ti.UI.currentWindow.add(webview);</code>
</pre>
<p>test2.html</p>
<pre>
<code>&lt;html&gt;
    &lt;head&gt;
        &lt;script&gt;
            Ti.API.info("in test2.html"); // console will show "in test2.html"
    &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Test 2&lt;/h1&gt;
            &lt;a href='/test3.html'&gt;Click to Test3&lt;/a&gt;
    &lt;/body&gt;
&lt;/html&gt;</code>
</pre>
<p>test3.html</p>
<pre>
<code>&lt;html&gt;
    &lt;head&gt;
        &lt;script&gt;
            Ti.API.info("in test3.html"); // PROBLEM: console will show nothing...
    &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Test 3&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;</code>
</pre></div>

<h3>Comments</h3>

<ol>
<li>Gabriel Cox 2011-04-15

   <div><p>Sorry, test2.html above didn't encode as I intended. Trying a
   different method.</p>
   <p><br></p>
   {mkd-extraction-e98647f60da57ec8b80b213d12dc331f}
   <p><br>
   <br></p>
   {mkd-extraction-bb3970ac74fe1f13090ef8573691f334}</div></li>
<li>Gabriel Cox 2011-04-15

   <div><p>Trying "</p>
   <pre>
   "
   
   </pre>
   <pre>
   
       
           
       
       
           
   </pre>
   <pre>
   
   
   </pre>
   <h1>Test 2</h1>
   <pre>
   
           <a href="test3.html">Click to Test3</a>
       
   </pre></div></li>
<li>Gabriel Cox 2011-04-15

   <div><p>Got it -- ignore 2 previous comments (wish I could delete
   them)</p>
   <p>test2.html</p>
   <pre>
   <code>&lt;head&gt;
       &lt;script&gt;
           Ti.API.info("in test2.html"); // shows "in test2.html"
   &lt;/script&gt;
   &lt;/head&gt;
   &lt;body&gt;
       &lt;h1&gt;Test 2&lt;/h1&gt;
       &lt;a href="test3.html"&gt;Click to Test3&lt;/a&gt;
   &lt;/body&gt;</code>
   </pre>
   <p>(now I see the "preview" -- sorry I'm new to this...)</p></div></li>
<li>Gabriel Cox 2011-04-15

   <div><p>Not sure who to assign to -- Assuming Jeff as the
   distributor.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Bumping into triage.</p></div></li>
<li>Vikramjeet Singh 2011-08-02

   Bug Scrub: Valid. No Test Case exists. 
   
   Tested On: 
   Mac OSX Lion 
   TiMob Version: 1.7.2 
   TiStud Version: 1.0.2 
   
   Devices used: 
   iPhone 4.3.4</li>
<li>Junaid Younus 2012-08-13

   Issue still reproducible on the iOS simulator using TiSDK 2.2.0v20120810194112.
   
   app.js
   <code><pre>
   var win = Ti.UI.createWindow({backgroundColor: 'white'});
   
   var webview = Ti.UI.createWebView({url:'test2.html'});
   win.add(webview);
   
   win.open();
   </pre></code>
   
   test2.html
   <code><pre>
   &lt;html&gt;
       &lt;head&gt;
           &lt;script&gt;
               Ti.API.info("in test2.html"); // console will show "in test2.html"
       &lt;/script&gt;
       &lt;/head&gt;
       &lt;body&gt;
           &lt;h1&gt;Test 2&lt;/h1&gt;
               &lt;a href='test3.html'&gt;Click to Test3&lt;/a&gt;
       &lt;/body&gt;
   &lt;/html&gt;
   </pre></code>
   
   test3.html
   <code><pre>
   &lt;html&gt;
       &lt;head&gt;
           &lt;script&gt;
               Ti.API.info("in test3.html"); // PROBLEM: console will show nothing...
       &lt;/script&gt;
       &lt;/head&gt;
       &lt;body&gt;
           &lt;h1&gt;Test 3&lt;/h1&gt;
       &lt;/body&gt;
   &lt;/html&gt;
   </pre></code></li>
<li>Lee Morris 2017-06-26

   I am unable to reproduce this issue with the following environment;
   iPhone 7 (10.2)
   Studio 4.9.0.201705302345
   Ti SDK 6.1.1.v20170623141152
   Appc NPM 4.2.9
   Appc CLI 6.2.1
   Ti CLI 5.0.13
   Alloy 1.9.11
   Arrow 2.0.0
   Xcode 8.2 (8C38)
   Node v4.8.2
   Java 1.8.0_131</li>
</ol>


<p><a href="/TIMOB/TIMOB-836.json">JSON Source</a></p>