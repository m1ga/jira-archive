---
title: "[TIMOB-960] videoPlayer issue with 'proxied' urls (php etc.) - quite urgent"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:54:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, iphone, php, urls, videoplayer</td></tr>
<tr><th>Reporter</th><td>kosso</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-04-15T02:40:18.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:54:48.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Something appears to have recently changed in how the
videoPlayer works.</p>
<p>I'm often seeing this output:<br></p>
<pre>
<code>[INFO] VIDEO!!<a href="http://phreadz.com/service/encoder.php?g=5LPOKP754&amp" rel="nofollow" target="_blank">http://phreadz.com/service/encoder.php?g=5LPOKP754&amp</a>;iph=1
[WARN] Invalid type passed to function. Tried to play movie player without a valid url, media, or contentURL property in -<a>TiMediaVideoPlayerProxy play:</a><br>
<br>


<br>
[INFO] VIDEO!!<a href="http://api.12seconds.tv/videosrv/389492.mp4" rel="nofollow" target="_blank">http://api.12seconds.tv/videosrv/389492.mp4</a>
[WARN] Invalid type passed to function. Tried to play movie player without a valid url, media, or contentURL property in -<a>TiMediaVideoPlayerProxy play:</a></code>
</pre>
<p>As you can see the url I'm sending it from phreadz needs to be a
php file.<br>
This provides privacy controls and mp4 encoding triggers, if
needed, and the resulting output is always an MP4 url, with the
correct video/mp4 mimetype set in the header. This all worked fine
before the recent changes to TiMediaVideoPlayerProxy.m</p>
<p>Quite a few providers of mp4 files which Phreadz supports do so
through redirects and proxies on their servers, but do end up
providing the correct mimetype and a compatible video file.</p>
<p>I'm calling the videoPlayer like this:<br></p>
<pre>
<code>                        Ti.API.info('VIDEO!!'+media_url);<br>
<br>


</code>
</pre>
<pre>
<code><code>                    var activeMovie = Titanium.Media.createVideoPlayer({
                        url:media_url,
                        backgroundColor:'#111',
                        movieControlMode:Titanium.Media.VIDEO_CONTROL_DEFAULT,
                        scalingMode:Titanium.Media.VIDEO_SCALING_MODE_FILL
                    });</code></code>
</pre>
<pre>


<br>
activeMovie.play();
</pre>
<p>I did try setting mediaTypes or sourceTypes to the video
constants too.</p>
<p>This is very urgent for a few apps I'm building for some vip
clients.</p></div>

<h3>Comments</h3>

<ol>
<li>Jeff Haynie 2011-04-15

   <div><p>resolved.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-960.json">JSON Source</a></p>