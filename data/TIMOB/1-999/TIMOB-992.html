---
title: "[TIMOB-992] Shake gesture not implemented"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:54:54.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M06</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>accelerometer, android, feature, refactor, release-1.6.0, shake</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T02:41:00.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:54:54.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>See <a href="/projects/32238/tickets/116" title=
"Ticket #116">#116</a> for 0.8x issues with Android shake - maybe
interesting.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-992_17906/app.js">app.js</td></td><td>2011-04-15T02:41:01.000+0000</td><td>1947</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-992_17907/gesture.zip">gesture.zip</td></td><td>2011-04-15T02:41:02.000+0000</td><td>4194195</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Opie Cyrus 2011-04-15

   <div><p>Refactor of TiSensorHelper, TiCompass, GestureModule and
   AccelerometerModule. Major thing to note is that the accelerometer
   listeners (GestureModule 'shake' event, Accelerometer 'update'
   event and Geolocation 'heading' event) will need to manually be
   removed when the app is paused or exited otherwise the
   accelerometer will be attached and sending events as long as the
   app is running in the background.</p>
   <p>This change also partially addresses <a href=
   "/projects/32238/tickets/1386" title="Ticket #1386">#1386</a></p>
   <p>Test app for this this change is attached. In order to verify
   shake event, click 'Attach Shake' and then shake the device for a
   few seconds. The event should be noted in the yellow status bar and
   in the trace log.</p></div></li>
<li>Opie Cyrus 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/0351c2ba9989eda352e6067d8df57d7747675ae4"
   title=
   "Changeset [0351c2ba9989eda352e6067d8df57d7747675ae4]">[0351c2ba9989eda352e6067d8df57d7747675ae4]</a>)
   [<a href="/projects/32238/tickets/992" title="Ticket #992">#992</a>
   state:fixed-in-qa] shake event implemented in gesture module</p>
   <p>Refactor of GestureModule, AccelerometerModule, TiSensorHelper
   and TiCompass to support shake event. Also added support for
   accelerometer to remain active even when the app is running in the
   background.<br>
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/0351c2ba9989eda352e6067d8df57d7747675ae4" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/0351c2ba9989eda352e6067d8df57d7747675ae4</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/0351c2ba9989..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/0351c2ba9989...</a></a></p></div></li>
<li>Opie Cyrus 2011-04-15

   <div><p>Including an updated test that will actually turn on/off the
   accelerometer based on resume/pause.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Reminder, please add the configuration parameters to this
   ticket.</p></div></li>
<li>Opie Cyrus 2011-04-15

   <div><p>Configuration params that can be added to the tiapp.xml to tweak
   the shake behavior:</p>
   <p>ti.android.shake.factor (double)<br>
   ti.android.shake.quiet.milliseconds (int)<br>
   ti.android.shake.active.milliseconds (int)</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Verified on G1/1.6 and Nexus One/2.2.1 using build #e1cb22a</p>
   <p>we may want to tune this more before it goes out. Active seems
   too long.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-992.json">JSON Source</a></p>