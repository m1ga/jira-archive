---
title: "[TIMOB-1011] Android: Animations Cause the location of touch events to be incorrect"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-07-20T18:30:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>allen-review, core, insight, merge, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Dasher</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2011-04-15T02:41:29.000+0000</td></tr>
<tr><th>Updated</th><td>2014-03-11T08:20:40.000+0000</td></tr>
</table>

<h3>Description</h3>

Android 2.2, Ti SDK 1.3, Horizontal Orientation

Applying an animation to a view with a tableview child doesn't
translate the tableview touch events. The touch events happen at
the old location - rather than the new location.

In the below example, clicking on an item in the tableview won't trigger
an event - but clicking on the place where the item was before the
animation happened - will trigger the event.

Test case:
<code><pre>
var win = Ti.UI.createWindow({backgroundColor: 'white'});

var vInv = Titanium.UI.createView({
   borderRadius:12,
   backgroundColor:'black',
   width:300,
   height:500,
   top: 10,
   opacity: 1,
   anchorPoint: {x:0,y:0},
   touchEnabled:true
});

win.add(vInv);

var tableData = [ {title: 'Apples'}, {title: 'Bananas'}, {title: 'Carrots'}, {title: 'Potatoes'} ];
var tv = Ti.UI.createTableView({
	data: tableData
});


tv.addEventListener('click', function(e) {
	Ti.API.debug("***************** TableView Click");
});


vInv.add(tv);

vInv.show();

win.open();

var start = Ti.UI.create2DMatrix().translate(0,150);
vInv.animate({transform:start,delay:100,duration:1500});
</pre></code>

<h3>Comments</h3>

<ol>
<li>Junaid Younus 2012-08-13

   Tested with a Samsung Galaxy S3 using TiSDK 2.2.0v20120810194112, issue still exists. </li>
<li>Ingo Muschenetz 2012-12-20

   Comment from Bill Dawson: In iOS, when you animate a view such as by changing its size (scale animation) or location (translate animation), iOS is kind enough to adjust the touch target.  Android'sold animation -- which Ti uses since the new one came about in Honeycomb -- does not do this.  So in Ti one has to re-layout the view, which (I believe) is often the source of blips and artifacts seen on older devices.  Also it makes the code ugly.</li>
<li>Matt Langston 2013-04-26

   TIMOB-12842 has a reproducible project the demonstrates the issue, and may actually be a duplicate of this bug.</li>
<li>Allen Yeung 2013-07-20

   Resolving as a part of <a href="https://github.com/appcelerator/titanium_mobile/pull/4398." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4398.</a>  Please note that this is a "won't fix" for versions lower than Honeycomb.  This is a native Android limitation that we can't work around.</li>
<li>Priya Agarwal 2013-10-21

   Verified the fix with:
   
   Appc-Studio: 3.2.0.201310181700
   Sdk:3.2.0.v20131018154951
   alloy:1.2.2
   npm:1.3.2
   titanium:3.2.0
   titanium-code-processor:1.0.3
   Device:Google Nexus 7(v4.3),iPhone5(v 7)
   Xcode: 5
   
   
   Touch Events working fine while and after animation.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1011.json">JSON Source</a></p>