---
title: "[TIMOB-1048] Run On Device doesn't detect my iPhone and Provisioning"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2011-04-15T02:42:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>device, ios, iphone, mac, osx, provisioning, snowleopard</td></tr>
<tr><th>Reporter</th><td>Hugo Josefson</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-04-15T02:42:29.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-09T21:23:48.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Titanium Developer fails to detect my iPhone and Provisioning
Profile, when I try to do Run on Device -&gt; iPhone.</p>
<p>Please see attached screenshot.</p>
<p>I can build and run the app without problems in XCode, so the
phone, iPhone SDK and provisioning stuff should be in order. These
are the relevant software versions:</p>
<ul>
<li>Titanium Developer 1.2.1 + Titanium SDK 1.3.0.</li>
<li>"Xcode 3.2.2 developer tools for Mac SDK 10.6 and iPhone SDK
3.2"</li>
<li>Snow Leopard</li>
</ul>
<pre>
<code>$ /Library/Application\ Support/Titanium/mobilesdk/osx/1.3.0/iphone/prereq.py project
{"success":true, "sdks":["3.1","3.1.2","3.1.3","3.2"],"ipad":true}

$ xcodebuild -showsdks
Mac OS X SDKs:
    Mac OS X 10.5                   -sdk macosx10.5
    Mac OS X 10.6                   -sdk macosx10.6

iPhone OS Device SDKs:
    Device - iPhone OS 3.0          -sdk iphoneos3.0
    Device - iPhone OS 3.1          -sdk iphoneos3.1
    Device - iPhone OS 3.1.2        -sdk iphoneos3.1.2
    Device - iPhone OS 3.1.3        -sdk iphoneos3.1.3
    Device - iPhone OS 3.2          -sdk iphoneos3.2

iPhone OS Simulator SDKs:
    Simulator - iPhone OS 3.0       -sdk iphonesimulator3.0
    Simulator - iPhone OS 3.1       -sdk iphonesimulator3.1
    Simulator - iPhone OS 3.1.2     -sdk iphonesimulator3.1.2
    Simulator - iPhone OS 3.1.3     -sdk iphonesimulator3.1.3
    Simulator - iPhone OS 3.2       -sdk iphonesimulator3.2</code>
</pre>
<p>What could be the issue here?</p>
<p>Thanks,<br>
Hugo</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-1048_17917/run-on-device-iphone-fails-to-detect.png">run-on-device-iphone-fails-to-detect.png</td></td><td>2011-04-15T02:42:30.000+0000</td><td>62159</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hugo Josefson 2011-04-15

   <div><p>This may or may not be related to the fact that I get dead links
   in the UI. Reported as separate issue <a href=
   "/projects/32238/tickets/1050" title="Ticket #1050">#1050</a>.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>can you paste the output of</p>
   <p>/Library/Application\
   Support/Titanium/mobilesdk/osx/1.3.0/iphone/prereq.py package</p>
   <p>also? that's the one that prints out your correct provisioning
   profile info we use to populate.</p>
   <p>also, are you running 1.3 just to double check the version?</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>one more thing, in your screen shot, the certs inside Developer
   aren't correctly checked.</p>
   <p>Just curious, did you previously have certs installed before
   Titanium and not install them via titanium?</p>
   <p>if so, try and click the "Upload.." link and select your cert.
   Titanium will then note them in its internal DB - and this is safe
   if you already have them installed in Organizer - will just let us
   know that you have them and the proper names.</p></div></li>
<li>Hugo Josefson 2011-04-15

   <div><p>Hi Jeff! Thanks for getting back to me. Here's the output:</p>
   <pre>
   <code>$ /Library/Application\ Support/Titanium/mobilesdk/osx/1.3.0/iphone/prereq.py package
   
   {"wwdr":true,"ipad":true,"sdks":["3.1","3.1.2","3.1.3","3.2"],"iphone_dev_name":["Hugo Josefson (2XHRP877F6)"],"iphone_dist_message":"Missing iPhone Distribution Certificate","wwdr_message":null,"itunes_message":null,"itunes":true,"iphone_dev_message":null,"iphone_dev":true,"iphone_dist":false,"itunes_version":"9.1.1"}</code>
   </pre>
   <p>"Missing iPhone Distribution Certificate" doesn't sound
   good...</p>
   <p>Yes, I'm using 1.3.0.</p>
   <p>And also yes, I installed the certificates outside of Titanium,
   both before installing Titanium and also reinstalled Titanium
   completely afterwards to test. (Including deleting
   ~/Library/Application Support/Titanium)</p>
   <p>I have filed a separate issue for all the links being incorrect:
   <a href="/projects/32238/tickets/1050" title=
   "Ticket #1050">#1050</a>. This means that even the Upload link
   doesn't work right.</p>
   <p>The Install Now button seems to be disabled, or it only does
   something quietly in the background.</p>
   <p>Please advice.</p>
   <p>Thanks,<br>
   Hugo</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>Weird. so this says you don't have a distribution cert but
   you're saying you've got one right?</p>
   <p>Just to be sure ... there's 2 types of certifications. A
   development certificate and a distribution certificate. You'll need
   both. I assume that you already know this given your comment above
   that you can run in XCode. :)<br></p>
   <p>If we're not detecting this, that means something weird in your
   keychain or something. Do you have multiple keychains by
   chance?</p>
   <p>We simply run security -dump-keychain</p>
   <p>And grep (sort of) for "iPhone Distribution" and pull our your
   details.</p>
   <p>What do you get when you run this command:</p>
   <blockquote>
   <p>security dump-keychain | grep "iPhone "</p>
   </blockquote></div></li>
<li>Hugo Josefson 2011-04-15

   <div><p>Right. No, I think I only have the Developer cert. Don't count
   too much into me sounding confident :) I'm really new to all this
   iPhone stuff. I only really started to deploy to iPhone because the
   Facebook module in Titanium isn't ported to Android yet.</p>
   <p>When I say I can build and run the app in XCode, I reconfigure
   the XCode project to sign with "iPhone Developer" instead of
   "iPhone Distribution". I have a provisioning profile though, which
   makes it possible for me to try the app on any of our iPhones
   listed in the profile. In my humble opinion, Titanium should at
   least make it possible for me build and run the app on the iPhone I
   have connected to my iTunes, even without a Distribution cert,
   because I don't need one when doing the same thing in XCode.</p>
   <p>I only have one keychain, I think. The only thing I have done
   which has to do with different keychains, is that when I installed
   Apple's intermediate cert (or whatever it was called; their
   certificate from their CA), I chose to put it in the system
   keychain.</p>
   <p>When I run <code>security dump-keychain | grep "iPhone "</code>
   I only see "iPhone Developer" and no "iPhone Distribution". Since
   I'm not sure what all bytes in the output really contains, I'm
   reluctant to posting the exact output publicly.</p>
   <p>Here's the gist of it though:</p>
   <pre>
   <code>$ security dump-keychain|grep "iPhone "
   
       "alis"&lt;blob&gt;="iPhone Developer: Hugo Josefson (XXXXXXXXXX)"
   
       "labl"&lt;blob&gt;="iPhone Developer: Hugo Josefson (XXXXXXXXXX)"
   
       "subj"&lt;blob&gt;=0x..........[a-bunch-of-stuff]..........,iPhone Developer: Hugo Josefson (XXXXXXXXXX)..........[more-stuff].........."</code>
   </pre>
   <p>Will I really need a distribution cert? And should I have to (in
   possible future versions of Titanium)?</p>
   <p>Thanks for debugging with me,<br>
   Hugo</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>OK - yeah, this means you simply have a developer cert. This
   means you can<br>
   run only on device for testing - but not for distribution. You'll
   need a<br>
   separate certification for distribution. However, this means you
   should be<br>
   able to do all your testing on device - you just can't submit it to
   the<br>
   appstore for approval until you get a distribution certificate.</p>
   <p>I'm going to forward this to our support guys who see this type
   of stuff<br>
   more than me...</p></div></li>
<li>Hugo Josefson 2011-04-15

   <div><p>Yes, that was my plan. Someone else will have to submit to
   AppStore when it's time.</p>
   <p>I hope the support guys can help me figure out how to get it to
   install on device :)</p>
   <p>Thank you for your help so far,<br>
   Hugo</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>here's what they said:</p>
   <p>so I think he just needs to click the upload link on the 'run on
   device' screen to give Developer his provisioning profile. it
   sounds like he's installed his profile via XCode Organizer, but he
   needs to upload it to Developer as well (that's how we pass it to
   xcodebuild)</p>
   <p>which is what i thought (mentioned above).</p></div></li>
<li>Hugo Josefson 2011-04-15

    <div><p>Wow! This is so strange. I could have sworn I clicked the
    <code>Upload</code> link before, but now it prompts for the
    Provisioning Profile file just as you say. Apparently I made a
    mistake before with that (at least twice!)...</p>
    <p>After having selected the Provisioning Profile, the UI changes
    and I am able to install to device successfully.</p>
    <p>You can close this issue now.</p>
    <p>Thank you so much for your patience and help!<br>
    /Hugo</p></div></li>
<li>Jeff Haynie 2011-04-15

    <div><p>Hey no problem! thanks for your patience working through it.
    glad you got it working.</p></div></li>
<li>Lee Morris 2017-03-09

    Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1048.json">JSON Source</a></p>