---
title: "[TIMOB-1058] iphone: Cookies not being persisted across multiple XHR instances"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:55:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M03</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, cookies, enterprise, ios, iphone, release-1.6.0, rplist, xhr</td></tr>
<tr><th>Reporter</th><td>Jeff Haynie</td></tr>
<tr><th>Assignee</th><td>Jeff Haynie</td></tr>
<tr><th>Created</th><td>2011-04-15T02:42:47.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:55:05.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p><a href=
"<a href="http://developer.appcelerator.com/question/30511/httpclient-multiple-requests" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/30511/httpclient-multiple-requests</a>">
<a href="http://developer.appcelerator.com/question/30511/httpclient-multipl..." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/30511/httpclient-multipl...</a></a></p>
<p>i think this is related to a setting on the ASIHttpRequest</p></div>

<h3>Comments</h3>

<ol>
<li>Biztactix 2011-04-15

   <div><p>Can anyone let me know if this will be resolved in monday's 1.4
   As i have a subscription service app riding on this fix. I don't
   particularly want to write a workaround to send the login details
   with every request.</p>
   <p>However i can't wait much longer before i get going rebuilding
   this app in Titanium</p>
   <p>Regards<br>
   Ryan Tregea</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>For iPhone, this should be now resolved in master with <a href=
   "<a href="https://appcelerator.lighthouseapp.com/projects/32238-titanium-mobile/tickets/1162-iphone-upgrade-asihttprequest-to-latest" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238-titanium-mobile/tickets/1162-iphone-upgrade-asihttprequest-to-latest</a>">
   <a href="https://appcelerator.lighthouseapp.com/projects/32238-titanium-mobi..." rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238-titanium-mobi...</a></a>.</p>
   <p>I have tested locally with KS. Please test on your side. This
   will be in the upcoming 1.4 release. You can build from head to
   test.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>This was fixed in iPhone. Need to test to make sure works in
   Android.</p></div></li>
<li>Opie Cyrus 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/907b19d1aff9dcdd2468df1af9a5ae64ba335918"
   title=
   "Changeset [907b19d1aff9dcdd2468df1af9a5ae64ba335918]">[907b19d1aff9dcdd2468df1af9a5ae64ba335918]</a>)
   [<a href="/projects/32238/tickets/2654" title=
   "Ticket #2654">#2654</a> state:fixed-in-qa][<a href=
   "/projects/32238/tickets/1058" title="Ticket #1058">#1058</a>
   state:fixed-in-qa] update HttpClient to support app wide HttpClient
   instance</p>
   <p>Modified TiHTTPClient to be a static member so that the client
   values such as cookies will live over multiple requests. Also
   modifed the credentials to now pay attention to the url scope they
   are assigned to and not used globally. Made an additional change to
   set the source property for HttpClient callbacks.<br>
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/907b19d1aff9dcdd2468df1af9a5ae64ba335918" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/907b19d1aff9dcdd2468df1af9a5ae64ba335918</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/907b19d1aff9..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/907b19d1aff9...</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/f15f4e3195df40bc719c74afaa80f9460ef09619"
   title=
   "Changeset [f15f4e3195df40bc719c74afaa80f9460ef09619]">[f15f4e3195df40bc719c74afaa80f9460ef09619]</a>)
   gracefully handle when a http response returns 0 bytes [<a href=
   "/projects/32238/tickets/1058" title="Ticket #1058">#1058</a>]
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/f15f4e3195df40bc719c74afaa80f9460ef09619" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/f15f4e3195df40bc719c74afaa80f9460ef09619</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/f15f4e3195df..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/f15f4e3195df...</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>verified opie's fix on Nexus S / 2.3.2</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1058.json">JSON Source</a></p>