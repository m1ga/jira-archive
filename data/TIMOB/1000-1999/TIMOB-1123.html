---
title: "[TIMOB-1123] Orientation Change not working correctly"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:55:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios, iphone, mode, orientation</td></tr>
<tr><th>Reporter</th><td>ctredway</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-04-15T02:44:37.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:55:16.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>In sdk 1.3.1 the first orientation change is not honored when
setting the orientation mode to PORTRAIT only. The code below shows
that the window rotates to landscape on the first rotation only,
then it follows what was set in orientation modes. Just a note:
this is holding up the app of the customer that found this.</p>
<p>// this sets the background color of the master UIView (when
there are no windows/tab groups on it)
Titanium.UI.setBackgroundColor('#000');</p>
<p>// // create base UI tab and root window // var win1 =
Titanium.UI.createWindow({<br></p>
<pre>
<code>title:'Tab 1',
backgroundColor:'#fff'</code>
</pre>
<p>});</p>
<p>win1.add( Ti.UI.createLabel( { text: 'label to show
orientation', top:50, left:10}));</p>
<p>win1.orientationModes =[Ti.UI.PORTRAIT];<br>
win1.orientation = Ti.UI.PORTRAIT;</p>
<p>// open tab group win1.open();</p></div>

<h3>Comments</h3>

<ol>
<li>ctredway 2011-04-15

   <div><p>fyi - this holding up a premium customers project.<br>
   <a href=
   "<a href="http://helpdesk.appcelerator.net/tickets/3007" rel="nofollow" target="_blank">http://helpdesk.appcelerator.net/tickets/3007</a>"><a href="http://helpdesk.appcelerator.net/tickets/3007" rel="nofollow" target="_blank">http://helpdesk.appcelerator.net/tickets/3007</a></a></p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>In the following (correct) code I'm not seeing any orientation
   issues:</p>
   <pre>
   <code>// this sets the background color of the master UIView (when there are no windows/tab groups on it) 
   Titanium.UI.setBackgroundColor('#000');
   
   // // create base UI tab and root window // 
   var win1 = Titanium.UI.createWindow({
   
   title:'Tab 1',
   backgroundColor:'#fff'
   });
   
   win1.add( Ti.UI.createLabel( { text: 'label to show orientation', top:50, left:10}));
   
   win1.orientationModes =[Ti.UI.PORTRAIT];
   Ti.UI.orientation = Ti.UI.PORTRAIT;
   
   // open tab group 
   win1.open();</code>
   </pre>
   <p>The window stays in PORTRAIT orientation, even as the device
   rotates.</p>
   <p>Will get some independent confirmation from Blain and determine
   if the helpdesk ticket is asking something different before
   closing.</p></div></li>
<li>ctredway 2011-04-15

   <div><p>in 1.3.1 this is broken. it may be fixed in head but I have not
   built from<br>
   head.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Could you check in head and see if this was fixed? Blain may
   actually have done it already as part of another ticket, and I
   can't reproduce the behavior you seem to be describing.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>This issue still exists. The JS above actually demonstrates
   correct behavior, but the following reproduces the described
   bug:</p>
   <pre>
   <code>// this sets the background color of the master UIView (when there are no windows/tab groups on it) 
   Titanium.UI.setBackgroundColor('#000');
   
   // // create base UI tab and root window // 
   var win1 = Titanium.UI.createWindow({
   
   title:'Tab 1',
   backgroundColor:'#fff'
   });
   
   win1.add( Ti.UI.createLabel( { text: 'label to show orientation', top:50, left:10}));
   
   win1.orientationModes =[Ti.UI.PORTRAIT,Ti.UI.LANDSCAPE_LEFT];
   Ti.UI.orientation = Ti.UI.LANDSCAPE_LEFT;
   
   // open tab group 
   win1.open();</code>
   </pre></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Okay, my mistake. This is fixed in HEAD, it must be a duplicate
   of something Blain did. All I can say is that you should be aware
   of the difference between PORTRAIT and UPSIDE_PORTRAIT.</p></div></li>
<li>ctredway 2011-04-15

   <div><p>I understand. However, our docs are not up to snuff. We have to
   remember our target audience are not obj-c programmers, so they may
   not know the difference between PORTRAIT and UPSIDE_PORTRAIT.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>I've made a doc change that clarifies this.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1123.json">JSON Source</a></p>