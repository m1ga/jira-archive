---
title: "[TIMOB-1215] Ti.UI.TableView.data.length returns the original no of rows in table, rather than *current* number of rows"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2011-04-26T09:15:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-12</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, reported-1.3.2, rows, tableview</td></tr>
<tr><th>Reporter</th><td>Paul Dowsett</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-04-15T02:46:47.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-26T09:15:06.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Platform: Android, emulator, Ti 1.3.2</p>
<p>Ti.UI.TableView.data.length returns the original no of rows in
table, rather than <em>current</em> number of rows</p>
<p>A good example of this problem is in the KitchenSink at <a href=
"<a href="http://github.com/appcelerator/KitchenSink/blob/master/KitchenSink/Resources/examples/table_view_row_delete.js" rel="nofollow" target="_blank">http://github.com/appcelerator/KitchenSink/blob/master/KitchenSink/Resources/examples/table_view_row_delete.js</a>">
table_view_row_delete.js</a> which results in an exception after
row 5 is deleted, because tableview.data.length-1 on line 52 always
returns 4 (and after row 5 is deleted, id 4 no longer exists).</p>
<p>Inserting this code at line 49 and opening the delete row page
will make the problem clear:</p>
<p>Ti.API.info(' <em>* * * * * * * * * * * *</em> ');<br>
Ti.API.info(typeof(tableview));<br>
Ti.API.info(typeof(tableview.data));<br>
Ti.API.info(typeof(tableview.data.length));<br>
Ti.API.info('Number of table rows: '+tableview.data.length);<br>
tableview.deleteRow(tableview.data.length-1);<br>
Ti.API.info("deleting row");<br>
Ti.API.info('Number of table rows: '+tableview.data.length);<br>
Ti.API.info(' <em>* * * * * * * * * * * *</em> ');</p>
<p>Incidentally, another issue that may be related is that
getData() does not work currently, demonstrated by
Ti.API.info('getData type: '+typeof(tableview.getData()));
producing an exception.</p></div>

<h3>Comments</h3>

<ol>
<li>hal 2011-04-15

   <div><p>See <a href=
   "<a href="http://developer.appcelerator.com/question/39391/kitchensink-tableviewdatalength-not-defined" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/39391/kitchensink-tableviewdatalength-not-defined</a>">
   <a href="http://developer.appcelerator.com/question/39391/kitchensink-tablev..." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/39391/kitchensink-tablev...</a></a>
   for better formatting of the code!</p></div></li>
<li>Luke Melia 2011-04-15

   <div><p>I think that I'm seeing this on iPhone 1.4, too. Is there
   another way to get the number of rows in the table?</p></div></li>
<li>hal 2011-04-15

   <div><p>Actually, I don't think javascript inherently returns the
   correct array.length when an element has been removed, because I
   don't think elements of an array can be deleted - they can only be
   nulled. After this, the array remains the same length as when it
   was created.</p>
   <p>Still, as I imagine Ti manages the number of visible rows
   displayed in a table as an object, hopefully there is a better way
   of obtaining this information than with array.length.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Gonna reassign to Don for triage. Sorry Don!</p></div></li>
<li>Joe iEntry 2011-04-15

   <div><p>Has this issue been resolved?</p></div></li>
<li>hal 2011-04-15

   <div><p>Joe</p>
   <p>As this ticket is not marked resolved, the issue has not been
   resolved.</p>
   <p>Note that this system is not the place for a discussion - ask a
   question in the <a href=
   "<a href="http://developer.appcelerator.com/questions/created" rel="nofollow" target="_blank">http://developer.appcelerator.com/questions/created</a>">Q&amp;A</a>
   if you are looking for suggestions for a workaround.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>This ticket is now invalid. Tableview.data returns an array of
   Sections. You can iterate that array and sum the rows in all
   sections.</p></div></li>
<li>Joe iEntry 2011-04-15

   <div><h2>Example:</h2>
   <p>Don is right, to see an example of how this works, check out
   this post on the Q&amp;A Forum: <a href=
   "<a href="http://developer.appcelerator.com/question/117594/number-of-rows-in-table" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/117594/number-of-rows-in-table</a>">
   Number of Rows in Table</a></p></div></li>
<li>hal 2011-04-15

   <div><p>Joe</p>
   <p>I am certain that everyone appreciates your participation, which
   is welcome and worthwhile. That said, the medium you are choosing
   to give it is not really appropriate.</p>
   <p>As Don is the lead for the Titanium Android development team,
   his posts to Lighthouse should typically be considered the
   definitive view at the time of writing of any issue.</p>
   <p>Bear in mind that the Q&amp;A is a community forum, and hence
   the views expressed in it are provided on a best-effort basis. As
   such, there is little point using advice provided in the Q&amp;A to
   justify a standpoint made in Lighthouse.</p>
   <p>Again, Lighthouse is not the place for discussion, speculation
   or opinion, which simply create noise and interrupt work on the
   task at hand.</p>
   <p>Even by writing this post I realize I risk contributing to that
   noise, but I hope it will be sufficient to encourage you to keep
   all of your posts strictly factual while always providing sound
   evidence to support them.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1215.json">JSON Source</a></p>