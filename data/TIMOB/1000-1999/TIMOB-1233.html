---
title: "[TIMOB-1233] iOS: Webview crashes on Twitter oAuth pin page (1.3.2)"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2012-07-25T12:17:54.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>James Pearson</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-04-15T02:47:17.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-26T22:26:00.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>First lets get some technical details out of the way:</p>
<ul>
<li>Snow Leopard 10.6.4</li>
<li>Titanium Developer 1.2.1</li>
<li>Titanium SDK 1.3.2</li>
<li>iOS SDK 3.2 or 4.0</li>
</ul>
<p>I discovered this bug trying to get oAuth working for Twitter.
The bug occurs when the Allow / Deny page is submitted. You will
briefly see the next page, with the authenication pin number, then
the app will crash with the following error:</p>
<pre>
<code>2010-07-06 10:23:56.850 iPadTest[7991:1803] *** -[DOMHTMLElement setHref:]: unrecognized selector sent to instance 0x6507cc0
[ERROR] The application has crashed with an unhandled exception. Stack trace:
0 CoreFoundation 0x0398d850 __exceptionPreprocess + 96
1 libobjc.A.dylib 0x03aa832c objc_exception_throw + 44
2 CoreFoundation 0x0398fa5b -[NSObject doesNotRecognizeSelector:] + 187
3 CoreFoundation 0x0390c676 ___forwarding___ + 918
4 CoreFoundation 0x0390b9f2 _CF_forwarding_prep_0 + 50
5 DataDetectorsUI 0x0c58c3d8 -[DOMDocument(DDExtension) dd_urlifyResults:operation:] + 3255
6 DataDetectorsUI 0x0c586cb8 -[DDDetectionController doURLificationOnWebThreadAndRelease:] + 543
7 CoreFoundation 0x0390ba5d __invoking___ + 29
8 CoreFoundation 0x0390b93a -[NSInvocation invoke] + 154
9 WebCore 0x040bf723 _ZL15HandleAPISourcePv + 147
10 CoreFoundation 0x038dce5a CFRunLoopRunSpecific + 1450
11 CoreFoundation 0x038dc8a8 CFRunLoopRunInMode + 88
12 WebCore 0x0404a633 _ZL12RunWebThreadPv + 467
13 libSystem.B.dylib 0x91fdb81d _pthread_start + 345
14 libSystem.B.dylib 0x91fdb6a2 thread_start + 34
2010-07-06 10:23:56.853 iPadTest[7991:1803] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '*** -[DOMHTMLElement setHref:]: unrecognized selector sent to instance 0x6507cc0'
2010-07-06 10:23:56.854 iPadTest[7991:1803] Stack: (
60348496,
61506348,
60357211,
59819638,
59816434,
207143896,
207121592,
59816541,
59816250,
67893027,
59625050,
59623592,
67413555,
2449324061,
2449323682
)
terminate called after throwing an instance of 'NSException'
[INFO] Application has exited from Simulator</code>
</pre>
<p>I have included the resources folder of an app that can
replicate this problem.</p>
<p>Jim</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-1233_17956/resources.zip">resources.zip</td></td><td>2011-04-15T02:47:17.000+0000</td><td>39237</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>James Pearson 2011-04-15

   <div><p>This also crashes in a build of 1.3.3, but the problem isn't
   (really) with Titanium, it is a bug in iOS4.</p>
   <p>The problem is with the WebView trying to recognise phone
   numbers, while we can'r fix this problem in iOS, we can work around
   it by adding an option to ignore phone numbers in a webview...
   unfortunately that is beyond me on Objective-C, but here is where I
   found the problem discussed:</p>
   <p><a href=
   "<a href="http://code.google.com/p/oauthconsumer-iphone/issues/detail?id=1&amp" rel="nofollow" target="_blank">http://code.google.com/p/oauthconsumer-iphone/issues/detail?id=1&amp</a>;can=1">
   <a href="http://code.google.com/p/oauthconsumer-iphone/issues/detail?id=1&amp" rel="nofollow" target="_blank">http://code.google.com/p/oauthconsumer-iphone/issues/detail?id=1&amp</a>;am...</a></p>
   <p>And here is their implementation of a fix:</p>
   <p><a href=
   "<a href="http://code.google.com/p/oauthconsumer-iphone/source/diff?spec=svn10&amp" rel="nofollow" target="_blank">http://code.google.com/p/oauthconsumer-iphone/source/diff?spec=svn10&amp</a>;r=10&amp;format=side&amp;path=/trunk/examples/oauthTwitterApp/Classes/AuthorizeWebViewController.xib&amp;old_path=/trunk/examples/oauthTwitterApp/Classes/AuthorizeWebViewController.xib&amp;old=2">
   <a href="http://code.google.com/p/oauthconsumer-iphone/source/diff?spec=svn1..." rel="nofollow" target="_blank">http://code.google.com/p/oauthconsumer-iphone/source/diff?spec=svn1...</a></a></p>
   <p>Jim</p></div></li>
<li>David R. 2011-04-15

   <div><p>Hi Jeff,</p>
   <p>As a workaround in Titanium 1.3.x, it is possible to set the
   webview autoDetect to AUTODETECT_NONE:</p>
   <pre>
   <code class="javascript">         webView = Ti.UI.createWebView({
               url: pUrl,
               autoDetect:[Ti.UI.AUTODETECT_NONE]
           });</code>
   </pre></div></li>
<li>Blain Hamon 2011-04-15

   <div><p>We should revisit this, maybe fixed, but headache.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Yes! Let's revisit this!</p></div></li>
<li>Stephen Tramer 2012-07-25

   Unable to reproduce in SDK 2.2.0.f9e938d, iPhone Sim 5.1.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1233.json">JSON Source</a></p>