---
title: "[TIMOB-1238] Android application lifecycle issues: app activity can be destroyed, but app still not terminated"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-06-05T21:08:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, lifecycle</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-04-15T02:47:24.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-05T21:08:52.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Stems from <a href=
"<a href="http://developer.appcelerator.com/helpdesk/view/20811" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/20811</a>"><a href="http://developer.appcelerator.com/helpdesk/view/20811" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/20811</a></a>.
In that case, user would back out of program and TiRootActivity's
onDestroy would get called, but yet the Application would never
terminate. (TiApplication.onTerminate never hit breakpoint). When
user launched the application again, it was more like a resume,
since it had never terminated. This meant that the same instance of
TiApplication was being used, and singletons such as those
maintained in TiModule's <code>modules</code> hashmap were still
alive. This leads to weird stuff, since the application "kinda"
terminated but didn't really.</p>
<p>To be very specific regarding that helpdesk issue: when user
backed out of program, AppModule's onDestroy removed itself from
TiApplication's appEventProxies collection. When the app started up
again, the AppModule singleton was still alive, which means its
constructor did not run again, which means it was never added back
to the Application's appEventProxies collection. So no calls to
Ti.App.fireEvent worked.</p></div>

<h3>Comments</h3>

<ol>
<li>Marshall Culpepper 2011-04-15

   <div><p>I have a regression that falls under this heading, but I'm not
   sure if this is the right bug to attach it to. I'll go ahead and
   tag it, but we might want to resolve this since we fixed the module
   singleton instance problem already.</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/dac0b4dec18678c1f5e9701fe2bdae7f5bb24895"
   title=
   "Changeset [dac0b4dec18678c1f5e9701fe2bdae7f5bb24895]">[dac0b4dec18678c1f5e9701fe2bdae7f5bb24895]</a>)
   clean up singleton modules and event managers in context onDestroy,
   this lets event listeners work when the app has been relaunched.
   removed impl of File.spaceAvailable() (it was Java6 only, we'll
   need to find another way) [<a href="/projects/32238/tickets/1238"
   title="Ticket #1238">#1238</a>] [<a href=
   "/projects/32238/tickets/1842" title="Ticket #1842">#1842</a>]
   <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/dac0b4dec18678c1f5e9701fe2bdae7f5bb24895" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/dac0b4dec18678c1f5e9701fe2bdae7f5bb24895</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/dac0b4dec1867..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/dac0b4dec1867...</a></a></p></div></li>
<li>Lee Morris 2017-06-05

   Closing ticket due to the time passed and lack of progress over the past few years.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1238.json">JSON Source</a></p>