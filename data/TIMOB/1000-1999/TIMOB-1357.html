---
title: "[TIMOB-1357] iOS: App Close event on IOS4 not fired"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-25T12:04:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>gero</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-04-15T02:50:20.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-26T22:26:32.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>The App's close event is not fired under iOS4.</p>
<p>If you press the home button, double click the home button and
close the app from the "running tasks" bar (which is the way to
really close an app under iOS4) no log output appears and no
properties are saved with this code:</p>
<pre>
<code class=
"javascript">Ti.App.addEventListener('close',function() {
    Ti.API.info("Saving close event info");
    Ti.App.Properties.setInt('closeevent', 1);
});</code>
</pre>
<p>Dont't mix up with <a href="/projects/32238/tickets/982" title=
"Ticket #982">#982</a> - this is a iOS4 problem. The above code
works with iPhone OS 3.2.</p>
<p>Tested in simulator and on device.</p></div>

<h3>Comments</h3>

<ol>
<li>Brion Vibber 2011-04-15

   <div><p>Note that the operating system does not actually inform a
   suspended application when it gets terminated -- there is no way to
   catch this condition. Apps need to perform all their cleanup when
   they're informed that they're being suspended; if an event isn't
   currently fired for that, it really needs to be.</p></div></li>
<li>gero 2011-04-15

   <div><p>Thank you for your appraisal. In this case, maybe the close
   event should by fired on suspension for iOS4 -- for
   compatibility.</p>
   <p>For now: there is no documented event for suspension to make a
   workaround for this issue -- am I missing something?</p></div></li>
<li>Brion Vibber 2011-04-15

   <div><p>Firing close on suspend is probably a bad idea, since apps are
   likely to assume that 'close' means their code will DEFINITELY not
   come back and they may do things like closing out windows and UI
   elements; the result would be a broken app if it's reactivated.</p>
   <p>I'm not aware offhand of a suspend event existing yet (I'm not a
   member of the development team, just another user.)</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Because of how the shutdown framework works there is no
   guarantee this event listener will ever even be fired. Requires
   R&amp;D, going to bump.</p></div></li>
<li>Stephen Tramer 2012-07-25

   Tested with app with <code>UIApplicationExitsOnSuspend = YES</code> (required for iOS 4.0+). Unable to reproduce in SDK 2.2.0.f9e938d, iPhone Sim 5.1.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1357.json">JSON Source</a></p>