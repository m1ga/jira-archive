---
title: "[TIMOB-1373] iOS : videoplayer done button doesn't trigger any eventlistener "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2011-04-15T02:50:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, movie, movieplayer, videoplayer</td></tr>
<tr><th>Reporter</th><td>zeroendless</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-04-15T02:50:39.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-09T23:16:59.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>On full screen, the video player used to trigger complete event
handler. Now, it does nothing. From the Doc, it says it should
trigger the properties "reason"- user existed, but it's not.</p>
<p><a href=
"<a href="http://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Media.VIDEO_FINISH_REASON_USER_EXITED-property.html" rel="nofollow" target="_blank">http://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Media.VIDEO_FINISH_REASON_USER_EXITED-property.html</a>">
<a href="http://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Med..." rel="nofollow" target="_blank">http://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Med...</a></a>.</p>
<p>var win = Titanium.UI.currentWindow;</p>
<p>var contentURL = '<a href=
"<a href="http://movies.apple.com/media/us/ipad/2010/tours/apple-ipad-video-us-20100127_r848-9cie.mov" rel="nofollow" target="_blank">http://movies.apple.com/media/us/ipad/2010/tours/apple-ipad-video-us-20100127_r848-9cie.mov</a>'"><a href="http://movies.apple.com/media/us/ipad/2010/tours/apple-ipad-video-u..." rel="nofollow" target="_blank">http://movies.apple.com/media/us/ipad/2010/tours/apple-ipad-video-u...</a></a>;<br>
if (Ti.Platform.name == 'android') {<br>
contentURL = "<a href=
"<a href="http://c0222252.cdn.cloudfiles.rackspacecloud.com/0032_MotoBlur.m4v&quot" rel="nofollow" target="_blank">http://c0222252.cdn.cloudfiles.rackspacecloud.com/0032_MotoBlur.m4v&quot</a>;"><a href="http://c0222252.cdn.cloudfiles.rackspacecloud.com/0032_MotoBlur.m4v" rel="nofollow" target="_blank">http://c0222252.cdn.cloudfiles.rackspacecloud.com/0032_MotoBlur.m4v</a>"</a>;<br>
} var activeMovie = Titanium.Media.createVideoPlayer({<br>
contentURL: contentURL,<br>
backgroundColor:'#111',<br>
movieControlMode:Titanium.Media.VIDEO_CONTROL_DEFAULT,<br>
scalingMode:Titanium.Media.VIDEO_SCALING_MODE_FILL<br>
});</p>
<p>if (parseFloat(Titanium.Platform.version) &gt;= 3.2)<br>
{ win.add(activeMovie);<br>
}</p>
<p>var windowClosed = false;</p>
<p>activeMovie.addEventListener('complete',function(e)<br>
{ Titanium.UI.createAlertDialog({title:'Movie', message:'click on
done?'+e}).show();<br>
});</p>
<p>activeMovie.play();</p>
<p>win.addEventListener('close', function()<br>
{ if (!windowClosed)<br>
{ windowClosed = true;<br>
alert("Window closed!!");<br>
activeMovie.stop();<br>
} });</p></div>

<h3>Comments</h3>

<ol>
<li>Craig Jones 2011-04-15

   <div><p>I'm also experiencing the same problem.</p>
   <p>Used to work fine in previous version, but since the update the
   'Done' button only pauses the movie and doesn't close the window
   view and return.</p>
   <p>Many thanks</p>
   <p>Craig</p></div></li>
<li>Emir Alp 2011-04-15

   <div><p>I have same issue too. Is there any solution?</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Apple's documentation specifies that the "done" button does NOT
   trigger a completion event on the player:</p>
   <blockquote>
   <p>MPMoviePlayerPlaybackDidFinishNotification ... This notification
   is <strong><em>not sent</em></strong> in cases where the movie
   player is displaying in fullscreen mode and the user taps the Done
   button. In that instance, the Done button causes movie playback to
   pause while the player transitions out of fullscreen mode. If you
   want to detect this scenario in your code, you should monitor other
   notifications such as
   MPMoviePlayerDidExitFullscreenNotification.</p>
   </blockquote>
   <p>Listen for 'fullscreen' notification, and check the 'entering'
   property of the event.</p></div></li>
<li>Lee Morris 2017-03-09

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1373.json">JSON Source</a></p>