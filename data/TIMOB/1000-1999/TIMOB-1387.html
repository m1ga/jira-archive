---
title: "[TIMOB-1387] XHR with self signed certificate not working since yesterday"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-10-27T15:51:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-30, Release 1.8.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Marko Perutovic</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-04-15T02:51:04.000+0000</td></tr>
<tr><th>Updated</th><td>2012-02-10T00:53:20.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Here some code. Worked fine since yesterday.</p>
<p>@@@xhrBOCall.onerror = BO_Call_error; xhrBOCall.onload =
BO_Call_success;<br>
xhrBOCall.validateSecureCertificate = false;<br>
xhrBOCall.open(strHttpMethod,strURL);<br>
(xhrBOCall); xhrBOCall.send(dataToSend);<br></p>
<pre>
<code>
It returns error:
Domain=ASIHTTPRequestErrorDomain Code=1...
which I can't copy because since today Ti.API.info not working...
I use SDK4.0.1 for iPhone.</code>
</pre></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-1387_17978/app.js">app.js</td></td><td>2011-04-15T02:51:04.000+0000</td><td>1185</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Marko Perutovic 2011-04-15

   <div><p>logging probably the same as <a href=
   "/projects/32238/tickets/1380" title="Ticket #1380">#1380</a></p></div></li>
<li>Jick Steen 2011-04-15

   <div><p>I've the same issue. Getting the following error on iOS:</p>
   <p><code>{"source":{},"type":"error","error":"Error
   Domain=ASIHTTPRequestErrorDomain Code=1 \"A connection failure
   occurred: SSL problem (possibly a bad/expired/self-signed
   certificate)\" UserInfo=0xf01f1d0 {NSUnderlyingError=0xf009780
   \"The operation couldn&#8217;t be completed. (OSStatus error
   -9807.)\", NSLocalizedDescription=A connection failure occurred:
   SSL problem (possibly a bad/expired/self-signed
   certificate)}"}</code></p>
   <p>Used the same code as Marko:<br>
   <code>xhr.validateSecureCertificate = false;</code>
   <code>xhr.setTimeout(200000);</code>
   <code>xhr.open("GET",url);</code> <code>xhr.send({});</code></p>
   <p>This error occurs on iOS simulator and on iOS devices. It works
   on Android.</p></div></li>
<li>Jick Steen 2011-04-15

   <div><p>I tested it using the latest (nightly) build</p></div></li>
<li>Jick Steen 2011-04-15

   <div><p>attached a simple example to reproduce this error.</p>
   <p>@jhaynie can you have a look at this issue?</p></div></li>
<li>Jick Steen 2011-04-15

   <div><p>@Marco it works when setting it directly as a param on XHR
   creation:</p>
   <p><code>var xhr =
   Titanium.Network.createHTTPClient({validatesSecureCertificate:
   false});</code></p>
   <p>Maybe it helps you. Nevertheless it should be fixed or mentioned
   in documentation that this property has to be set on creation. I
   think it is also not disabled in Simulator as described in
   docs.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Provided app.js demonstrates the problem. Persists, slating for
   1.7.0.</p></div></li>
<li>Stephen Tramer 2011-07-25

   Validated that this issue is already resolved. Probably fixed in 1.7.2 but marking official fix-version as 1.8.0.
   
   Tested iPhone 4.3.3 sim (Lion)/iPod 4GT iOS 4.3.3.</li>
<li>Natalie Huynh 2011-08-25

   Tested with 1.8.0.v20110819142548
   iPhone 4.3.4
   iPad2 4.3.2
   Motorola Xoom 3.2
   Nexus One 2.2.2</li>
</ol>


<p><a href="/TIMOB/TIMOB-1387.json">JSON Source</a></p>