---
title: "[TIMOB-1451] iOS: iPad, issue with dragging objects after initial release"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-06-22T14:57:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-04-15T02:53:11.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-09T23:32:55.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>This is device only, not being seen using the simulator. Using
the provided code, fire up the app on an ipad and:</p>
<p>Using 1.4.1.7c619b and an ipad running 3.2.</p>
<p>1.launch app on device (start in landscape or portrait), file
attached, but code copy pasted below<br>
2.use your finger to drag the grey square to a new location<br>
3.use your finger to press on the object then quickly make a
circle. repeat if need be</p>
<p>results: on the second (or third) try, the object will not track
with the users finger. This does not seem to occur on the first
interaction.</p>
<p>// this sets the background color of the master UIView (when
there are no windows/tab groups on it)
Titanium.UI.setBackgroundColor('#000');</p>
<p>// create tab group var tabGroup =
Titanium.UI.createTabGroup();</p>
<p>// // create base UI tab and root window // var win1 =
Titanium.UI.createWindow({<br></p>
<pre>
<code>title:'Tab 1',
backgroundColor:'#fff'</code>
</pre>
<p>}); var tab1 = Titanium.UI.createTab({<br></p>
<pre>
<code>icon:'KS_nav_views.png',
title:'Tab 1',
window:win1</code>
</pre>
<p>});</p>
<p>var label1 = Titanium.UI.createLabel({<br></p>
<pre>
<code>color:'#999',
text:'I am Window 1',
font:{fontSize:20,fontFamily:'Helvetica Neue'},
textAlign:'center',
width:'auto'</code>
</pre>
<p>});</p>
<p>win1.add(label1);</p>
<p>// // create controls tab and root window // var win2 =
Titanium.UI.createWindow({<br></p>
<pre>
<code>title:'Tab 2',
backgroundColor:'#fff'</code>
</pre>
<p>}); var tab2 = Titanium.UI.createTab({<br></p>
<pre>
<code>icon:'KS_nav_ui.png',
title:'Tab 2',
window:win2</code>
</pre>
<p>});</p>
<p>var label2 = Titanium.UI.createLabel({<br></p>
<pre>
<code>color:'#999',
text:'I am Window 2',
font:{fontSize:20,fontFamily:'Helvetica Neue'},
textAlign:'center',
width:'auto'</code>
</pre>
<p>});</p>
<p>win2.add(label2);</p>
<p>// // add tabs // tabGroup.addTab(tab1);<br>
tabGroup.addTab(tab2);<br></p>
<p>// open tab group tabGroup.open();</p>
<p>/////////////////////////// NATES CODE ////////////////////</p>
<p>var logTable = Ti.UI.createTableView({ borderRadius: 10, data:
[], top: 10, width: 250, rowHeight: 30, right: 10});<br>
logTable.height = 300;</p>
<p>var logToTable = function(txt){<br></p>
<pre>
<code>var row = Titanium.UI.createTableViewRow({});
var view = Titanium.UI.createView({height: 20, width: 'auto', left: 0});
var label = Titanium.UI.createLabel({
    text: txt, height:20, width: 'auto', left: 10,
    font: {fontSize: 10, fontFamily: 'Verdana'}
});
view.add(label);
row.add(view);

if( logTable.data.length &gt; 0){
    logTable.insertRowBefore(0, row);
}else{
    logTable.appendRow(row);
}</code>
</pre>
<p>};</p>
<p>var obj = Ti.UI.createView({<br></p>
<pre>
<code>top: 20,
left: 20,
height: 200,
width: 200,
zIndex: 2,
backgroundColor: '#ccc',
center: {x: 200, y: 200}</code>
</pre>
<p>});</p>
<p>win1.add(obj);<br>
win1.add(logTable);</p>
<p>var animationOffset = {};<br>
obj.addEventListener('touchstart', function(e){<br></p>
<pre>
<code>animationOffset.log = [];
animationOffset.screenHeight = win1.toImage().height;
animationOffset.screenWidth = win1.toImage().width;
animationOffset.startingPositionX = obj.center.x;
animationOffset.startingPositionY = obj.center.y;

animationOffset.x = e.x - obj.width/2;
animationOffset.y = e.y -  obj.width/2;

animationOffset.lastX = e.x + obj.animatedCenter.x - obj.width/2;
animationOffset.lastY = e.y + obj.animatedCenter.y - obj.height/2;
animationOffset.lastX = animationOffset.lastX - animationOffset.x;
animationOffset.lastY = animationOffset.lastY - animationOffset.y;

animationOffset.log.push('------');
animationOffset.log.push('Start At: ' + obj.center.x + ', ' + obj.center.y);</code>
</pre>
<p>});</p>
<p>obj.addEventListener('touchmove', function(e){<br></p>
<pre>
<code>animationOffset.log.push(obj.animatedCenter.x + ", " + obj.animatedCenter.y);
var newX = e.x + obj.animatedCenter.x - obj.width/2;
var newY = e.y + obj.animatedCenter.y - obj.height/2;
newX = newX - animationOffset.x;
newY = newY - animationOffset.y;

var diffX = animationOffset.lastX - newX;
var diffY = animationOffset.lastY - newY;
if( diffX &lt; 0 ){ diffX = diffX * -1; }
if( diffY &lt; 0 ){ diffY = diffY * -1; }

if( (newX &gt; animationOffset.screenWidth || newX &lt; 0) || (newY &gt; animationOffset.screenHeight || newY &lt; 0) ){
    obj.fireEvent('touchcancel');
    return;
}

animationOffset.lastX = newX;
animationOffset.lastY = newY;
obj.animate({center:{x:newX,y:newY}, duration:0});</code>
</pre>
<p>});</p>
<p>obj.addEventListener('touchcancel', function(){<br></p>
<pre>
<code>obj.animate({center:{x: animationOffset.startingPositionX, y: animationOffset.startingPositionY}, duration:3});</code>
</pre>
<p>});</p>
<p>obj.addEventListener('touchend', function(e){<br></p>
<pre>
<code>Ti.API.notice('touchend');
for(var i=0; i&lt;animationOffset.log.length; i++){
    logToTable(animationOffset.log[i]);
}</code>
</pre>
<p>});</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-1451_17995/ticket-0-3e93b33ee5eeb1dbcd09f17959e18eea4de4c9d7-jumptest-resources-1.zip">ticket-0-3e93b33ee5eeb1dbcd09f17959e18eea4de4c9d7-jumptest-resources-1.zip</td></td><td>2011-04-15T02:53:11.000+0000</td><td>110009</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2011-04-15

   <div><p>Hunh.</p></div></li>
<li>Vishal Duggal 2012-06-22

   Due to the fact that tableView updating takes a long time. This interferes with the touch event processing. Comment out the logToTable method in <code>touchend</code> handler and all works fine</li>
<li>Lee Morris 2017-03-09

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1451.json">JSON Source</a></p>