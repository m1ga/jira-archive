---
title: "[TIMOB-1458] WebView doesn't keep html"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2012-06-22T16:24:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>wolef</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-04-15T02:53:24.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-09T21:29:42.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>If I add a local string to the html-attribute and try to get the
string back, I'll only get an empty html tag.</p>
<pre>
<code>var html = '&lt;html&gt;&lt;body&gt;Text&lt;/body&gt;&lt;/html&gt;';
var view = Titanium.UI.createWebView();
view.html = html;
alert(view.html);</code>
</pre></div>

<h3>Comments</h3>

<ol>
<li>Dawson Toth 2011-06-01

   That code sample still will not work, but for a good reason. Setting the html is an async process, so it returns quickly. In the background, the web view is loading up your HTML and rendering it. When you inspect the html property right away, it will be whatever the web view had in it before you set the html property. In this case, it will be something like "<html></html>".
   
   If you listen for the "load" event, you'll see your HTML returned. I expanded your example to show how to properly handle this:
   
   <code><pre>
   
   var win = Ti.UI.createWindow({ backgroundColor: '#fff' });
   var html = '&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;Text&lt;/body&gt;&lt;/html&gt;';
   var web = Ti.UI.createWebView({
       html: html,
       width: '90%', height: '90%', top: '5%', left: '5%'
   });
   win.add(web);
   win.open();
   web.addEventListener('load', function() {
       if (web.html != html) {
           win.backgroundColor = '#f00';
           alert('FAIL: web.html != original html');
       }
       else {
           win.backgroundColor = '#0f0';
           alert('PASS: I love you forever!');
       }
       Ti.API.info(web.html);
   });
   </pre></code></li>
<li>Vishal Duggal 2012-06-22

   Dup of TIMOB-8293 </li>
<li>Lee Morris 2017-03-09

   Closing ticket as duplicate.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1458.json">JSON Source</a></p>