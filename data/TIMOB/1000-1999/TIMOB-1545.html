---
title: "[TIMOB-1545] Android: Unusual behavior when opening an app immediately after installing it"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:56:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T02:55:42.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:56:28.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>When you install an app, you get the option at the end of the
installation to touch "open" (to run the app) or just "done". If
you choose open and start the app, it behaves differently in terms
of pause/resume than an app that you open from the normal
applications list. (See also helpdesk ticket 35861.)</p>
<ol>
<li>
<p>Use the native android browser go enter a URL to an APK on the
internet.</p>
</li>
<li>
<p>After it's downloaded, click on the apk to install</p>
</li>
<li>
<p>On post install screen click 'open'</p>
</li>
<li>
<p>After the app loads, click the home button</p>
</li>
<li>
<p>Go to the list of applications, find the one you just installed
and click it to open it again. You will see splash screen again
instead of being brought back into app in previous state.</p>
</li>
<li>
<p>repeat 4 and 5 a few times</p>
</li>
</ol>
<p>After doing it a few times, start clicking the back button, and
you'll end up backing through a bunch of instances your app's main
screen.<br></p>
<p>None of this weird stuff happens if you do <em>not</em> click
'open' upon completing the installation of the app but rather go
start the app for the first time using the normal applications
list.</p>
<p>If you click back a bunch of times you will see multiple
instances of the getglue app and splash screen</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>"Normal" start of an application looks like this:</p>
   <pre>
   <code>I/ActivityManager(   97): Starting activity: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.billdawson.testanything/.TestanythingActivity }
   I/ActivityManager(   97): Start proc com.billdawson.testanything for activity com.billdawson.testanything/.TestanythingActivity: pid=6935 uid=10097 gids={3003, 1015}</code>
   </pre>
   <p>Starting an app from the 'open' button post-installation looks
   like this:</p>
   <pre>
   <code>I/ActivityManager(   97): Starting activity: Intent { act=android.intent.action.MAIN flg=0x10000000 cmp=com.billdawson.testanything/.TestanythingActivity }
   I/ActivityManager(   97): Start proc com.billdawson.testanything for activity com.billdawson.testanything/.TestanythingActivity: pid=6857 uid=10097 gids={3003, 1015}</code>
   </pre>
   <p>So the only difference appears to be the 'flg': 0x10000000 when
   loading from 'open' button post-installation, 0x10200000 when
   launching 'normally' from application list.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>The post-installation 'open' button's launch flag of 0x10000000
   corresponds to <a href=
   "<a href="http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_NEW_TASK" rel="nofollow" target="_blank">http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_NEW_TASK</a>">
   FLAG_ACTIVITY_NEW_TASK</a>.</p>
   <p>The standard launch flag 0x10200000 corresponds to that (above)
   plus <a href=
   "<a href="http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_RESET_TASK_IF_NEEDED" rel="nofollow" target="_blank">http://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_RESET_TASK_IF_NEEDED</a>">
   FLAG_ACTIVITY_RESET_TASK_IF_NEEDED</a>.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>This is a duplicate of <a href="/projects/32238/tickets/1559"
   title="Ticket #1559">#1559</a>, but existed first. Since the fix
   has already been checked in for <a href=
   "/projects/32238/tickets/1559" title="Ticket #1559">#1559</a>
   please verify that this isn't a special case that still needs
   attention.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>huh, thought I closed this on sat - anyway 1.5.0.70ce98 g2 and
   g1</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1545.json">JSON Source</a></p>