---
title: "[TIMOB-1554] iOS  - Fix Math.random()"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-01-03T10:58:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>generate, ios, ipad, iphone, math, number, random</td></tr>
<tr><th>Reporter</th><td>Sindre Sorhus</td></tr>
<tr><th>Assignee</th><td>Hans Kn√∂chel</td></tr>
<tr><th>Created</th><td>2011-04-15T02:55:54.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-30T18:30:18.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Fix Math.random() so that it actually generates random
number.</p>
<p>Yes, I know you can seed it seconds to make it random, but it
would be better to fix it in the core.</p>
<p>Here is the best way, from StackOverflow: <a href=
"<a href="http://stackoverflow.com/questions/160890/generating-random-numbers-in-objective-c" rel="nofollow" target="_blank">http://stackoverflow.com/questions/160890/generating-random-numbers-in-objective-c</a>">
<a href="http://stackoverflow.com/questions/160890/generating-random-numbers..." rel="nofollow" target="_blank">http://stackoverflow.com/questions/160890/generating-random-numbers...</a></a></p></div>

<h3>Comments</h3>

<ol>
<li>Lance Ulmer 2011-04-15

   <div><p>I agree. Please add this functionality asap. Thanks
   appcelerator!</p></div></li>
<li>Damien Elmes 2011-04-15

   <div><p>Personally I think the behavior is correct as it is. By not
   making the seed automatic it is possible to get reproducible
   results from the random number generator, which is useful in
   debugging. Not to mention the fact that this is standard Javascript
   behavior. I would be more worried if Appcelerator started to modify
   standard Javascript functions to behave differently.</p></div></li>
<li>Lance Ulmer 2011-04-15

   <div><p>I don't want to change Math.random(). I would like a native
   version with objective-c (and maybe a java version for android).
   Then titanium users could call it with javascript. Maybe it could
   be added to Titanium.Utils or something similar. The problem I am
   facing is even though I can get random numbers from javascript,
   they are the same two to four times in a row. It's actually been a
   show-stopper for an app that I have about 65% finished. I would
   really like to build a module that adds this functionality, but I'm
   not an objective-c programmer.</p></div></li>
<li>Damien Elmes 2011-04-15

   <div><p>They wouldn't be truly random if they never repeated...</p></div></li>
<li>Lance Ulmer 2011-04-15

   <div><p>Yes, but I'm generating numbers between 1 and 9999. If it's
   random it should not consistently give me the same numbers over and
   over.</p></div></li>
<li>Damien Elmes 2011-04-15

   <div><p>Paste your code</p></div></li>
<li>Lance Ulmer 2011-04-15

   <div><p>I've tried several things from appcelerator's q&amp;a site. All
   of them produce similar results. I tried to shorten the code, and
   it seems more and more random the more I remove chunks specific to
   my app. I'm trying to generate quizzes for an app for students.
   I've created a function that generates a very specific type of
   number, and it calls my random function several times. The problem
   I discovered today is, titanium is skipping past my function
   because it takes too long. So other parts of my code that require
   the random number start firing errors because the variable doesn't
   have a value yet. So, my problem is not entirely with the random
   function. However I would still like to see a random number
   generator in objective-c that I can access from javascript. I'm
   sorry if I caused confusion.</p></div></li>
<li>Rick Blalock 2011-04-15

   <div><p>We have another customer reporting this here: <a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/64131#c295801" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/64131#c295801</a>"><a href="http://developer.appcelerator.com/helpdesk/view/64131#c295801" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/64131#c295801</a></a></p></div></li>
<li>Sindre Sorhus 2012-01-02

   Any updates?</li>
<li>Stephen Tramer 2012-01-03

    Sample testing indicates that <code>Math.random()</code> is seeded from walltime when it's called, which conforms to ECMA-262.15.8.2.1.</li>
<li>Diego Lafuente 2013-05-30

    Hi,
    It's been a long time since the last comment here, but the bug remains "Resolved", but "Invalid" (which, to me, is pretty close to "Unresolved"). I just performed an experiment that "proves" that the performance of Math.random() in Titanium is way behind the one in node or iOS. Here is the detailed description of the experiment: <a href="http://developer.appcelerator.com/question/153040/titanium-performance-generating-random-strings." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/153040/titanium-performance-generating-random-strings.</a> Should I reopen this bug or open a new one?</li>
</ol>


<p><a href="/TIMOB/TIMOB-1554.json">JSON Source</a></p>