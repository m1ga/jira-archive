---
title: "[TIMOB-1558] iOS - Closing a window in a navigationGroup closes the window before sliding back"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2011-08-02T13:41:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-31</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Dawson Toth</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T02:56:00.000+0000</td></tr>
<tr><th>Updated</th><td>2011-08-02T14:30:51.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
Programmatically closing a window in a navigation group causes it to disappear before it slides off the screen.

<h4>Reproduction</h4>
Drop the following in an app.js.
1. You'll start off by seeing a blue window. This is the outermost window in the nav group.
2. After 2 seconds, a green window will open in the nav group. It will slide in. We're good so far.
3. After 2 seconds, the green window will close; it will disappear, revealing the red background of the nav group's container. The blue window will slide back in to place.
4. After 2 seconds, the green window will open again. Click the "Back" button this time, and you'll see it slides away properly without disappearing first.
<code><pre>
var outerWin = Ti.UI.createWindow({ backgroundColor: 'red' });

var childWin1 = Ti.UI.createWindow({ backgroundColor: 'blue' });
var childWin2 = Ti.UI.createWindow({ backgroundColor: 'green' });

var nav = Ti.UI.iPhone.createNavigationGroup({ window: childWin1 });
outerWin.add(nav);

outerWin.open();

function open() {
    nav.open(childWin2, { animated: true });
    setTimeout(close, 2000);
}
function close() {
    nav.close(childWin2, { animated: true });
    setTimeout(open, 2000);
}

setTimeout(open, 2000);
</pre></code>

<h4>Expected Behavior</h4>
When you programmatically close a window in a nav group, it should slide away smoothly without disappearing.

<h4>Associated Helpdesk Ticket</h4>
<a href="http://appc.me/XTG-54178-122" rel="nofollow" target="_blank">http://appc.me/XTG-54178-122</a>

<h3>Comments</h3>

<ol>
<li>chrismi 2011-04-15

   <div><p>I'm kind of surprised this has passed QA. I hope you are able to
   patch this quickly, as it's a show stopper for many navigation
   group based applications.</p>
   <p>Alternatively, is there a way to programatically click the back
   button instead? Clicking the back button results in the desired
   behavior.</p></div></li>
<li>Sindre Sorhus 2011-04-15

   <div><p>This should really be fixed in 1.5.0.<br>
   It's a showstopper for my app, and probably many others too...</p></div></li>
<li>chrismi 2011-04-15

   <div><p>Do you have any information about the progress of this
   ticket?</p>
   <p>We have an app for a customer ready for submission, just
   awaiting this bug to be fixed. As this looks now, table-view based
   apps are bad-looking. I sincerely hope this can be fixed in time
   for the 1.5.0 release. I also have the feeling that this bug is the
   root cause of several other currently open tickets for the 1.5.0
   release.</p></div></li>
<li>Dawson Toth 2011-07-14

   I updated the ticket based on customer interest; it should be much easier to repro now, and the bug reported here should be clearer. Let me know if there's any additional details I can get to grease the wheels on this one.</li>
<li>Dawson Toth 2011-07-14

   Forgot to update the affected version and test environment. Done...</li>
<li>Alan Leard 2011-07-19

   Pro customer waiting for resolution.
   HD Ticket: <a href="http://appc.me/c/APP-247321" rel="nofollow" target="_blank">http://appc.me/c/APP-247321</a></li>
<li>Blain Hamon 2011-08-02

   I do believe this was solved in another bug (possibly duplicate of TIMOB-1564).
   
   One thing I noticed is that the test reuses the same window over and over, and using the back button during the script does make things run off the rails, in that the script tries to then open an already-open window (shouldn't be done).</li>
<li>Dawson Toth 2011-08-02

   Agreed, I can't reproduce anymore (on 1.7.2). It must have been fixed by one of our other changes.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1558.json">JSON Source</a></p>