---
title: "[TIMOB-1575] iPad - restarting a iPhone published app on ipad after using 2X mode, app uses incorrect icons"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:56:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Backlog</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>2x, defect, icon, ios, ipad, mode, patch</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T02:56:25.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:56:33.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>you can use the resources folder associated with <a href=
"<a href="http://developer.appcelerator.com/helpdesk/view/31431" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/31431</a>"><a href="http://developer.appcelerator.com/helpdesk/view/31431" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/31431</a></a>
to reproduce the issue.</p>
<p>issue reported as <a href=
"<a href="http://developer.appcelerator.com/helpdesk/view/32681#c162321" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/32681#c162321</a>"><a href="http://developer.appcelerator.com/helpdesk/view/32681#c162321" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/32681#c162321</a></a></p>
<p>1.Publish the app as an mobile app<br>
2.install on an ipad<br>
3.launch app, note appearance of the icon in the title bar
(right)<br>
4.tap 2X, quit the app (hit home button)<br>
5.relaunch app and look at the icon</p>
<p>results: after going 2X mode, quit and relaunch the app is using
the incorrect icon.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-1575_18022/ios-32-scaling-bug.jpg">ios-32-scaling-bug.jpg</td></td><td>2011-04-15T02:56:26.000+0000</td><td>81654</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Brion Vibber 2011-04-15

   <div><p>The problem here seems to be that the UIScreen reports a scale
   factor of 2.0 when running on iPad at 2x mode, so [TiUtils
   isRetinaDisplay] gives a false positive and [TiUtils
   checkFor2XImage:] pulls the @2x images.</p>
   <p>The problem doesn't show up when starting non-zoomed because the
   scale factor is 1.0 at the time the image gets loaded, so the
   low-res version is retrieved as expected.</p></div></li>
<li>Brion Vibber 2011-04-15

   <div><p>The scale property on UIScreen is documented to only exist in
   iOS 4, so I'm not sure it should <em>be</em> responding on an iPad
   running 3.2.2... but it is.</p>
   <p>Need to disregard that if we're running in iPhone compat mode on
   an iPad, I guess... or else make sure that the high-res images get
   displayed at the proper scale! (However this will usually not be
   great behavior, since the zoom can change during runtime so any
   already-loaded images will end up wrong.)</p></div></li>
<li>Brion Vibber 2011-04-15

   <div><p>Here's my proposed fix:</p>
   <p><a href=
   "<a href="http://github.com/brion/titanium_mobile/commit/c35f0fb2f6241cad27d2825924a6c695df37977c" rel="nofollow" target="_blank">http://github.com/brion/titanium_mobile/commit/c35f0fb2f6241cad27d2825924a6c695df37977c</a>">
   <a href="http://github.com/brion/titanium_mobile/commit/c35f0fb2f6241cad27d2..." rel="nofollow" target="_blank">http://github.com/brion/titanium_mobile/commit/c35f0fb2f6241cad27d2...</a></a></p>
   <p>When checking the scale, this double-checks if we're on an iPad
   but with a UI_USER_INTERFACE_IDIOM() for iPhone mode; if so, then
   we pretend we're on 1x scale instead of checking the reported
   value.</p>
   <p>In native iPad mode we'll still check the scale, so it should
   still support automatic use of @2x images on a hypothetical future
   iPad with a double-density display.</p></div></li>
<li>Brion Vibber 2011-04-15

   <div><p>Somebody in #titanium_app asked about this issue today. Would
   love to see the fix make it in!</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/03bff3242c76f0b30a794107e13cf74624408cf2"
   title=
   "Changeset [03bff3242c76f0b30a794107e13cf74624408cf2]">[03bff3242c76f0b30a794107e13cf74624408cf2]</a>)
   [<a href="/projects/32238/tickets/1575" title=
   "Ticket #1575">#1575</a> state:fixed-in-qa] Based off the commit
   brion made, checks if the iPad is incorrectly returning a 2x scale.
   Also, some unnecessary conditional compiles removed. <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/03bff3242c76f0b30a794107e13cf74624408cf2" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/03bff3242c76f0b30a794107e13cf74624408cf2</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/03bff3242c76..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/03bff3242c76...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p><a href="/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (01/12/11
   14:54 ff401e1) ipad 3.2 wifi, 4.2 emulator</p></div></li>
<li>Travelin_G 2011-04-15

   <div><p>Not sure if I'm missing something here - but I
   downloaded/installed the continuous 1.6 build dated 1/14/11
   (mobilesdk-1.6.0-20110114221541-osx.zip), installed &amp; compiled
   and I'm still seeing the same bug.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1575.json">JSON Source</a></p>