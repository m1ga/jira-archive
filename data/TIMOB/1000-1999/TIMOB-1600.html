---
title: "[TIMOB-1600] Android: JSON.stringify incorrectly handles dates including silently faiing"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:56:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0 M02</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, date, defect, json.stringify</td></tr>
<tr><th>Reporter</th><td>lukaso</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T02:57:04.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:56:38.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Here is the output of JSON.stringify on a number of different
platforms, including Android. As you can see, the Android version
handles both a date directly incorrectly, and embedded in an object
incorrectly, but differently.</p>
<p>This bug makes it very difficult to send date information to
servers or store it in local state.</p>
<p>Firefox:<br>
<code>JSON.stringify(new Date()) =&gt; "2010-08-19T09:12:00.027Z"
JSON.stringify({time: new Date()}) =&gt;
{"time":"2010-08-19T09:13:30.025Z"}</code></p>
<p>Chrome:<br>
<code>JSON.stringify(new Date()) =&gt; "2010-08-19T09:14:16.527Z"
JSON.stringify({time: new Date()}) =&gt;
{"time":"2010-08-19T09:14:55.028Z"}</code></p>
<p>Titanium iPhone:<br>
<code>JSON.stringify(new Date()) =&gt; "2010-08-19T09:21:22.528Z"
JSON.stringify({time: new Date()}) =&gt;
{"time":"2010-08-19T09:21:22.528Z"}</code></p>
<p>Titanium Android:<br>
<code>JSON.stringify(new Date()) =&gt; "Thu Aug 19 10:19:00
Europe/London 2010" JSON.stringify({time: new Date()}) =&gt;
{}</code></p></div>

<h3>Comments</h3>

<ol>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/c680f8c261118315c9160a96ce05bcbc08eda14f"
   title=
   "Changeset [c680f8c261118315c9160a96ce05bcbc08eda14f]">[c680f8c261118315c9160a96ce05bcbc08eda14f]</a>)
   compensate for JS timezone offsets in date conversion (Java Dates
   are GMT), use the same JSON format used by browsers for JSON
   stringifying Dates. added a test for dates and JSON [<a href=
   "/projects/32238/tickets/1600" title="Ticket #1600">#1600</a>
   state:fixed-in-qa milestone:"Release 1.5.0 M02"] <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/c680f8c261118315c9160a96ce05bcbc08eda14f" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/c680f8c261118315c9160a96ce05bcbc08eda14f</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/c680f8c26111..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/c680f8c26111...</a></a></p></div></li>
<li>Matt Schmulen 2011-04-15

   <div><p>Passed Android Version 1.6 Sim, Titanium SDK version: 1.5.0
   (11/24/10 12:05 c0aff27)<br>
   Passed Android Versions 2.1 Sim, Titanium SDK version: 1.5.0
   (11/24/10 12:05 c0aff27)</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1600.json">JSON Source</a></p>