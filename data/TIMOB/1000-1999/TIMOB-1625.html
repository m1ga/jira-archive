---
title: "[TIMOB-1625] events attached to a view not working in Android"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:56:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, eventlistener, view</td></tr>
<tr><th>Reporter</th><td>Burggraf</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T02:57:43.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:56:41.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>If you attach a click event to a view with
addEventListener("click",....), the event does not fire unless
you've created children objects inside the view.</p>
<p>Example (this works fine on iOS but not on Android):</p>
<p>var myView = Ti.UI.createView({<br></p>
<pre>
<code>top:100,
left:100,
height:40,
width:40,
backgroundColor:'red'</code>
</pre>
<p>});</p>
<p>win1.add(myView);</p>
<p>myView.addEventListener("click",function(e) {<br></p>
<pre>
<code>alert("you tapped the red box!");</code>
</pre>
<p>});</p>
<hr>
<p>However, if you add a label to the view,<br>
clicking on the label fires the event:</p>
<hr>
<p>var myView = Ti.UI.createView({<br></p>
<pre>
<code>top:100,
left:100,
height:40,
width:40,
backgroundColor:'red'</code>
</pre>
<p>});</p>
<p>var myLabel = Ti.UI.createLabel({text:"AAA"});<br>
myView.add(myLabel);</p>
<p>win1.add(myView);</p>
<p>myView.addEventListener("click",function(e) {<br></p>
<pre>
<code>alert("you tapped the red box!");</code>
</pre>
<p>});</p></div>

<h3>Comments</h3>

<ol>
<li>Brion Vibber 2011-04-15

   <div><p>I ran into this bug today while attempting to attach a click
   handler to a View to create a larger touch target for a fixed-size
   icon shown via an ImageView.</p>
   <p>Just want to add that the parent View's events do fire when
   tapping on the child view (eg the label in the example above, or my
   ImageView when I tried making it a child of the larger View) but
   still <em>not</em> on the <em>rest</em> of the parent View.</p>
   <p>I worked around this by instead placing a fixed-size Label with
   no text on top of the ImageView, and putting the click event on the
   label.</p></div></li>
<li>Burggraf 2011-04-15

   <div><p>We've noticed a temporary workaround until this is fixed. The
   "touchStart" event DOES fire, so if you use that instead of the
   "click" event, you can get the same behavior. (Technically click
   and touchStart are a bit different, if you were to touch and drag
   off the object, then release. But for the most part, using
   touchStart does the trick for us.)</p></div></li>
<li>hal 2011-04-15

   <div><p>In Android I think this issue has something to do with
   setClickable() returning true for complex views but false for
   simple views.<br>
   The easiest workaround is to use the borderRadius property to force
   the view to be complex:</p>
   <p><code>borderRadius:0</code></p>
   <p>Then you can use the click event as normal.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Also reported in <a href="/projects/32238/tickets/952" title=
   "Ticket #952">#952</a></p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/7b6449b75f82462bd18c1c4776ef67f014e18829"
   title=
   "Changeset [7b6449b75f82462bd18c1c4776ef67f014e18829]">[7b6449b75f82462bd18c1c4776ef67f014e18829]</a>)
   [<a href="/projects/32238/tickets/952" title="Ticket #952">#952</a>
   state:fixed-in-qa][<a href="/projects/32238/tickets/1625" title=
   "Ticket #1625">#1625</a> state:fixed-in-qa] refactored click
   handling and removed special cases that weren't needed. Note if a
   view doesn't handle a click Android search up through all
   components under the touch/click point to find one that will. If
   you want to stop other views from getting a click (e.g. full screen
   loading view) just set an no-op click handler on the topmost view
   <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/7b6449b75f82462bd18c1c4776ef67f014e18829" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/7b6449b75f82462bd18c1c4776ef67f014e18829</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/7b6449b75f824..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/7b6449b75f824...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>g1, 1.6, 2.2 simulator. 1.4.2.5935b3</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>confirmed - 1.4.2.5935b3 g1 1.6, sim with 2.2. Checked on iOS
   4.1</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1625.json">JSON Source</a></p>