---
title: "[TIMOB-1652] Android: showCamera()'s success callback does not work for HTC phones"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:56:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, camera, defect</td></tr>
<tr><th>Reporter</th><td>Ryan Coyner</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T02:58:28.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:56:46.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>The success callback is supposed to have the cropRect and media
properties... The media property however is always returned as
undefined, and the cropRect property only returns the default
values. The image itself is successfully saved in the DCIM/Camera
directory, but there is no way to access the image in that callback
function.</p>
<p>Tested on HTC Droid Eris 2.1 and HTC Evo 2.2. I'm not sure if
this is an issue for all Android phones or not.</p></div>

<h3>Comments</h3>

<ol>
<li>Brion Vibber 2011-04-15

   <div><p>I haven't encountered this with my Nexus 1; this is also an HTC
   phone but running a more stock 2.2 operating system. Could be some
   problem related to the Sense tweaks... perhaps the photo file's
   saving to a different place?</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>HTC interpreted the Intent differently that Google.</p></div></li>
<li>Ryan Coyner 2011-04-15

   <div><p>All photos are saved into "/sdcard/dcim/Camera", as defined by
   PHOTO_DCIM_CAMERA in MediaModule.java. When saveToPhotoGallery is
   enabled, it just dumps the image in that directory. When it is
   disabled (which it is by default), it creates a new set of
   directories in "/sdcard/dcim/Camera" which reflects the package
   name of your app (com/foo/bar).</p>
   <p>The images being saved there isn't so much of an issue, although
   it would be nice to be able to properly define where it can be
   saved. The problem is that the success callback doesn't properly
   grab the information about the image. Accessing event.media returns
   undefined.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/beec48069f8749b354a46ac66edf757a0bbd657e"
   title=
   "Changeset [beec48069f8749b354a46ac66edf757a0bbd657e]">[beec48069f8749b354a46ac66edf757a0bbd657e]</a>)
   [<a href="/projects/32238/tickets/1652" title=
   "Ticket #1652">#1652</a> state:fixed-in-qa] Added support for
   detecting the HTC camera app and working with it's different
   requirement for capturing images. If saveToPhotoGallery is true,
   the image is left where the camera puts it. If false, then the file
   is moved to the applications photo directory and the content
   provider updated with that information. This matches more closely
   with what we do when using the Google camera app. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/beec48069f8749b354a46ac66edf757a0bbd657e" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/beec48069f8749b354a46ac66edf757a0bbd657e</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/beec48069f874..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/beec48069f874...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>verified on an htc eris</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1652.json">JSON Source</a></p>