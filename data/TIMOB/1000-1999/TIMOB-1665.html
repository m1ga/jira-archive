---
title: "[TIMOB-1665] Ti.Platform.displayCaps.density returns bad values on iPhone 2G/3G, iPad"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-06-07T22:36:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, apidoc, density, displaycaps, ios, ipad, iphone, patch</td></tr>
<tr><th>Reporter</th><td>Brion Vibber</td></tr>
<tr><th>Assignee</th><td>Nolan Wright</td></tr>
<tr><th>Created</th><td>2011-04-15T02:58:49.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-07T22:36:13.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Ti.Platform.displayCaps.density is documented to return 'low'
for iPhone and 'high' for iPad, which it does in fact do... but
this seems really wrong, and is inconsistent with the density
strings used for Android:</p>
<p>low: circa 120dpi (close to iPad's 132dpi)<br>
medium: circa 160dpi (close to iPhone 2G/3G's 163dpi, which we
report as 160dpi)<br>
high: 240dpi (halfway between medium and iPhone 4's 326dpi)</p>
<p><a href=
"<a href="https://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Platform.DisplayCaps-object" rel="nofollow" target="_blank">https://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Platform.DisplayCaps-object</a>">
<a href="https://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Pl..." rel="nofollow" target="_blank">https://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Pl...</a></a></p>
<p>In particular, returning 'high' for both iPad (132dpi) and
iPhone 4 (326dpi) seems a bit wrong. :)</p>
<p>Since the value's not reliable, currently we just check the dpi
directly for StatusNet Mobile when determining what resolution
images to fetch from the network, which requires our patch for
<a href="/projects/32238/tickets/1349" title=
"Ticket #1349">#1349</a> to fix the bogus dpi value on iPhone 4:
<a href=
"<a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/1349-titaniumplatformdisplaycapsdpi-returns-wrong-value-on-iphone-4" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/1349-titaniumplatformdisplaycapsdpi-returns-wrong-value-on-iphone-4</a>">
<a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/1349-..." rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/1349-...</a></a></p>
<p>Assigning to our support contact.</p></div>

<h3>Comments</h3>

<ol>
<li>Brion Vibber 2011-04-15

   <div><p>I've whipped up a fix in my work branches:<br>
   <a href=
   "<a href="http://github.com/brion/titanium_mobile/tree/density" rel="nofollow" target="_blank">http://github.com/brion/titanium_mobile/tree/density</a>"><a href="http://github.com/brion/titanium_mobile/tree/density" rel="nofollow" target="_blank">http://github.com/brion/titanium_mobile/tree/density</a></a></p>
   <p>iPhone/iPad fix:<br>
   <a href=
   "<a href="http://github.com/brion/titanium_mobile/commit/4bf669bd37252f4eaaa39053cfe374e1b6ac55da" rel="nofollow" target="_blank">http://github.com/brion/titanium_mobile/commit/4bf669bd37252f4eaaa39053cfe374e1b6ac55da</a>">
   <a href="http://github.com/brion/titanium_mobile/commit/4bf669bd37252f4eaaa3..." rel="nofollow" target="_blank">http://github.com/brion/titanium_mobile/commit/4bf669bd37252f4eaaa3...</a></a></p>
   <p>apidoc fix:<br>
   <a href=
   "<a href="http://github.com/brion/titanium_mobile/commit/1cc430e566f5a97363a142611a0c0e92ffa77d8c" rel="nofollow" target="_blank">http://github.com/brion/titanium_mobile/commit/1cc430e566f5a97363a142611a0c0e92ffa77d8c</a>">
   <a href="http://github.com/brion/titanium_mobile/commit/1cc430e566f5a97363a1..." rel="nofollow" target="_blank">http://github.com/brion/titanium_mobile/commit/1cc430e566f5a97363a1...</a></a></p></div></li>
<li>Lee Morris 2017-06-07

   Closing ticket due to the time passed and lack of progress.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1665.json">JSON Source</a></p>