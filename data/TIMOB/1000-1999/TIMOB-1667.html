---
title: "[TIMOB-1667] Changing label view's font.fontSize property after view is rendered has no effect."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2011-04-15T02:58:54.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>eventlistener, font, fontsize, label</td></tr>
<tr><th>Reporter</th><td>k00k</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-04-15T02:58:52.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-09T22:58:36.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p><strong>Environment:</strong> Titanium Developer 1.40 and iPhone
Simulator (iphone and iphone4). Also tested on iPhone4 device with
same results.</p>
<p><strong>Issue:</strong> Changing the fontSize property of a
label after label is rendered has no effect. The following code
does not work.</p>
<p><strong>Example code:</strong> (notice 2 methods for defining
new font size - neither work)</p>
<pre>
<code>var w = Ti.UI.createWindow({backgroundColor:'#fff'});
var b = Ti.UI.createButton({
   title:'Click Me',
   top:10,
   height:40,
   width:200
});
var lab = Ti.UI.createLabel({
   text: 'test',
   top: 150,
   height: 140,
   width: 300,
   font:{fontSize:20},
   color: '#c00',
   backgroundColor: '#ccc'
});

w.add(b);
w.add(lab);

b.addEventListener('click', function() {
   lab.font = '{fontSize:100}'; 
  // lab.font.fontSize = 100; // this also doesn't work
});

w.open();</code>
</pre></div>

<h3>Comments</h3>

<ol>
<li>Brion Vibber 2011-04-15

   <div><p>This should work as a workaround (it's what I've been doing,
   works for me on both Android and iPhone):</p>
   <p>lab.font = {fontSize:100};</p>
   <p>I think the reason the initial attempt to just assign
   lab.font.fontSize directly doesn't work is that the 'font' property
   is implemented with getters/setters that just take and return plain
   JSON-style objects.</p>
   <p>So 'lab.font' returns a plain old object which has no inherent
   connection back to 'lab'; changing its contents only changes the
   new object, and doesn't ever reach the original.</p>
   <p>This could probably be made to work as expected if the font
   property's getter returned a proxy object, which itself would have
   getters/setters to handle sending through the subproperties.</p></div></li>
<li>Brion Vibber 2011-04-15

   <div><p>Since we encountered this same issue while working on StatusNet
   Mobile, I'm assigning this to our support contact. Nolan, can you
   make sure it's reassigned to the appropriate people for iPhone and
   Android implementations? We've used the above workaround, but
   clearly other people are encountering the same problem... if it
   can't be fixed easily, could the workaround be added to API
   documentation perhaps?</p>
   <p>Thanks!</p></div></li>
<li>Nolan Wright 2011-04-15

   <div><p>it's working as designed. Our properties use getters/setters, so
   there is no support for property nesting. The font property takes
   an object as a value, so this:</p>
   <p>label.font = {fontSize:20};</p>
   <p>is the proper way to change the value.</p>
   <p>thanks.</p></div></li>
<li>Brion Vibber 2011-04-15

   <div><p>Nolan, any comment on the feasibility of my suggested
   implementation for property nesting?</p>
   <p>Or is there a deliberate choice to <em>not</em> implement
   property nesting? If so, this should be very clearly documented;
   most JavaScript developers will probably be coming from web
   development and will be used to nested properties like
   'div.style.fontSize = 100'.</p></div></li>
<li>k00k 2011-04-15

   <div><p>Thanks for the clarification Nolan. I see I was mistakenly
   wrapping the object in ''. I agree on needing better documentation.
   I also realize you guys are busy. Time to get a few interns :)</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Nolan should have invalidated.</p></div></li>
<li>Lee Morris 2017-03-09

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1667.json">JSON Source</a></p>