---
title: "[TIMOB-1680] iOS regression: ImageView loaded from local file no longer scales in current git build"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:56:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>imageview, ios, iphone, regression, rescale, scaling, size</td></tr>
<tr><th>Reporter</th><td>Brion Vibber</td></tr>
<tr><th>Assignee</th><td>Nolan Wright</td></tr>
<tr><th>Created</th><td>2011-04-15T02:59:13.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:56:51.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>In StatusNet Mobile, we're saving avatar and site icon images
from the network to local filesystem storage. Within the webview
where we show some content everything's fine, but images that we
load directly into ImageViews are no longer scaled to the size of
the ImageView on iPhone in current builds from git.</p>
<p>Example (use any 256x256 PNG file):</p>
<pre>
<code>var window = Ti.UI.createWindow({
    backgroundColor: 'black'
});

var img = Ti.UI.createImageView({
    image: '256x256.png',
    width: 128,
    height: 128,
    canScale: true, // only used by Android
    enableZoomControls: false // only used by Android
});
window.add(img);
window.open();</code>
</pre>
<p>Expected behavior: image should be scaled to 128x128 in logical
coordinates</p>
<p>Actual behavior on Android: as expected</p>
<p>Actual behavior on iPhone w/ 1.3.2: as expected</p>
<p>Actual behavior on iPhone w/ 1.4.0: as expected</p>
<p>Actual behavior on iPhone w/ current git build: image shows at
its original size in logical coordinates (256x256).</p>
<p>Screenshot showing the above attached.</p>
<p>Images loaded directly from a remote URL are still scaled to the
correct logical display size.</p>
<p>This bug put a halt to today's beta push for StatusNet Mobile; I
can work around it by disabling our filesystem caching on iPhone
for the affected parts, but this will leave us unable to show
cached icons when offline. Assigning to our support contact.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-1680_18041/256x256.png">256x256.png</td></td><td>2011-04-15T02:59:14.000+0000</td><td>44261</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-1680_18040/screenshots-scaling.png">screenshots-scaling.png</td></td><td>2011-04-15T02:59:14.000+0000</td><td>247253</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/87903b26cc1d6e3f07459b754d73caa8579fd268"
   title=
   "Changeset [87903b26cc1d6e3f07459b754d73caa8579fd268]">[87903b26cc1d6e3f07459b754d73caa8579fd268]</a>)
   [<a href="/projects/32238/tickets/1867" title=
   "Ticket #1867">#1867</a> state:fixed-in-qa] [<a href=
   "/projects/32238/tickets/1583" title="Ticket #1583">#1583</a>
   state:fixed-in-qa] [<a href="/projects/32238/tickets/1740" title=
   "Ticket #1740">#1740</a> state:fixed-in-qa] [<a href=
   "/projects/32238/tickets/1680" title="Ticket #1680">#1680</a>
   state:fixed-in-qa] [<a href="/projects/32238/tickets/1676" title=
   "Ticket #1676">#1676</a> state:fixed-in-qa] [<a href=
   "/projects/32238/tickets/1584" title="Ticket #1584">#1584</a>
   state:fixed-in-qa] Image views use content mode aspect fit scaling
   instead of centering. This may also solve things for <a href=
   "/projects/32238/tickets/1543" title="Ticket #1543">#1543</a>, but
   not sure. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/87903b26cc1d6e3f07459b754d73caa8579fd268" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/87903b26cc1d6e3f07459b754d73caa8579fd268</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/87903b26cc1d6..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/87903b26cc1d6...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>1.4.2.4c5cd4a ipod 4th gen 4.1</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1680.json">JSON Source</a></p>