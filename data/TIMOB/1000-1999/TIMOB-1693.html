---
title: "[TIMOB-1693] scrolling performance and redraw issues, table row class name scroll"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:56:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios, redraw, scroll</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-04-15T02:59:40.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:56:53.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>1.use this script (thanks to gero):</p>
<p>var max = 100;<br>
var data = [];</p>
<p>for (var c=0; c&lt;max; c++) {<br></p>
<pre>
<code>var row = Ti.UI.createTableViewRow({
    className: 'feedlist',
    height: 'auto'
});

var textview = Ti.UI.createView({
    layout: 'vertical',
    height: 'auto'

});

var h1 = Ti.UI.createLabel({
    text: 'Title title title #'+c,
    height: 'auto'
});
textview.add(h1);

var cre = Ti.UI.createLabel({
    text: 'Creator creator creator#'+c,
    height: 'auto',
    color: '#ccc'
});
textview.add(cre);

row.add(textview);
data[c] = row;</code>
</pre>
<p>}</p>
<p>var win = Ti.UI.createWindow();<br>
var tableview = Ti.UI.createTableView();<br>
tableview.setData(data);<br>
win.add(tableview);<br>
win.open();</p>
<p>2.scroll up and down, note the performance<br>
3.look at the bolded text</p>
<p>results:scroll performance is poor, and after some scrolling
there are redraw issues on the text.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-1693_18047/tiissue_1693_badrender.png">tiissue_1693_badrender.png</td></td><td>2011-04-15T02:59:41.000+0000</td><td>167550</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-1693_18046/tiissue_1693_norender.png">tiissue_1693_norender.png</td></td><td>2011-04-15T02:59:41.000+0000</td><td>126248</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Robby 2011-04-15

   <div><ol>
   <li>At least with 1.4.0, I am noticing the same type of performance
   and redraw issues with scrolling of one of my tableviews, which
   uses multiple labels, imageviews, for each row.</li>
   </ol></div></li>
<li>Jean-Etienne LaVallee 2011-04-15

   <div><p>I'm seeing the same issue... specifically, the initial draw of
   the table doesn't render <strong>anything</strong> until I do
   something to trigger an event in the the tableView. At that point,
   either some or all of the rows will render but in many cases the
   log will throw out a ton of "Orphaned child found during proxy
   transfer!" errors and there will be duplicate data transposed or
   overlaid from other tableViewRows. (see attached PNGs)</p>
   <p>My only solution thus far has been to give each row a unique
   className (if I suppress className all together then it doesn't
   render at all). But even then it still is only rendering the rows
   after the table receives an initial event (click, drag, etc.).</p>
   <p>Is there an interim fix for this? I have a demo on friday and
   the app I'm working on relies largely on presenting data in custom
   tableViewRow layouts.</p>
   <p>Thanks!</p></div></li>
<li>Jean-Etienne LaVallee 2011-04-15

   <div><p>FYI, I'm currently on TiDev 1.2.1, TiSDK 1.4.0, and iOS SDK
   4.0.1</p></div></li>
<li>Jean-Etienne LaVallee 2011-04-15

   <div><p>Well, for the time being I'm able to get the initial render to
   occur by doing this:</p>
   <p>this.contactListTable.scrollToTop(1, {<br></p>
   <pre>
   <code>animated: true,
   position:Ti.UI.iPhone.TableViewScrollPosition.TOP</code>
   </pre>
   <p>});</p>
   <p>Immediately after the initializer that builds the view is
   called. It's not pretty, but it'll get the job done for now.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Jean-Etienne, these issues you describe may be fixed in
   master/HEAD. They were known issues in 1.4.0 and the bug which
   described similar behavior has been closed. See bug <a href=
   "/projects/32238/tickets/1250" title="Ticket #1250">#1250</a>.</p></div></li>
<li>Jean-Etienne LaVallee 2011-04-15

   <div><p>Stephen, thanks for the pointer! totally missed the <a href=
   "/projects/32238/tickets/1250" title="Ticket #1250">#1250</a>
   bug...</p>
   <p>Generally is it safest to work off of master/HEAD or from the
   latest official release?</p>
   <p>And how do I install from master/HEAD? Pull down that revision
   from github and then put it in my /Library/Application
   Support/Titanium/mobilesdk/osx/ directory?</p>
   <p>Or if there are instructions elsewhere and I'm being daft, just
   point me to the right URL.</p>
   <p>Thanks!</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>It is usually best to work off of the last stable release.</p>
   <p>You can go to <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile</a>"><a href="http://github.com/appcelerator/titanium_mobile" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile</a></a>
   and download the source there. Then run scons, copy the development
   library from the dist directory, and unzip it in
   /Library/Application Support/Titanium.</p></div></li>
<li>Jean-Etienne LaVallee 2011-04-15

   <div><p>Nevermind... took me a bit, but I found the nightly build
   server... why isn't that published somewhere more accessible?</p></div></li>
<li>Robby 2011-04-15

   <div><p>I tried the newest nightly and didn't see this problem anymore
   (maybe I missed it though -- Thomas/Jean, you may want to confirm).
   However, I have developed a test case for a related rendering
   problem involving the Navbar: Ticket <a href=
   "<a href="https://appcelerator.lighthouseapp.com/projects/32238-titanium-mobile/tickets/1726-hidenavbarshownavbar-on-tableview-searchbar-focusblur-whites-out-first-page-of-results" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238-titanium-mobile/tickets/1726-hidenavbarshownavbar-on-tableview-searchbar-focusblur-whites-out-first-page-of-results</a>">
   1726</a></p></div></li>
<li>Jean-Etienne LaVallee 2011-04-15

    <div><p>@Robby: Using the nightly build from the Sept 1, I'm not longer
    seeing this issue and was able to remove the 1pixel scroll hack I
    had to use to get the table to initially display.</p>
    <p>@Steve: Thanks, yeah, I figured out the install process... I'm
    going to keep working off of the Sept 1 nightly since it does fix a
    number of issues I was experiencing from 1.4.0</p></div></li>
<li>Stephen Tramer 2011-04-15

    <div><p>Revisiting this issue because of recent tableview performance
    problems. Looks like it's still serious.</p></div></li>
<li>Jeff Haynie 2011-04-15

    <div><p>(from <a href=
    "/projects/32238/changesets/e12366086233dddaf83cd53518a489ce0788d29f"
    title=
    "Changeset [e12366086233dddaf83cd53518a489ce0788d29f]">[e12366086233dddaf83cd53518a489ce0788d29f]</a>)
    [<a href="/projects/32238/tickets/1693" title=
    "Ticket #1693">#1693</a> state:fixed-in-qa] Only tell the parent
    that the child is resizing if it actually, you know, is resizing.
    <a href=
    "<a href="https://github.com/appcelerator/titanium_mobile/commit/e12366086233dddaf83cd53518a489ce0788d29f" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/e12366086233dddaf83cd53518a489ce0788d29f</a>">
    <a href="https://github.com/appcelerator/titanium_mobile/commit/e12366086233..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/e12366086233...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

    <div><p>Back to Stephen - 1.5.0.3ee6a97 Looks really good on 4th gen
    ipod touches running 4-4.2.1, but on 3rg gen touch(4.0.1) and an
    iphone 3g (3.1.3) there are redraw problems where the list draws in
    on the bottom of the screen while scrolling, first time scroll only
    (smooths out on a second scroll). It's much, much better than it
    was, but can it be improved on the slower hardware? if not, will
    close (hesitant to even bounce it back as its so dramatically
    improved...)</p></div></li>
<li>Stephen Tramer 2011-04-15

    <div><p>This is just natural draw times (drawing auto/vertical layouts
    takes a long time because of all of the dimension calculation
    involved on our end). We're getting into the realm of view system
    draw improvements in general at this point.</p>
    <p>Going to switch back to fixed-in-qa - feel free to create a
    feature/enhancement request for faster view draw times.</p></div></li>
<li>Thomas Huelbert 2011-04-15

    <div><p>Thanks for the info Stephen, closing</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1693.json">JSON Source</a></p>