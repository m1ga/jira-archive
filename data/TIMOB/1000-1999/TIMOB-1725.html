---
title: "[TIMOB-1725] iPad Video player does not remove when window is closed."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Hold</td></tr>
<tr><th>Resolution Date</th><td>2011-04-15T03:00:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>apple, bug, ios, ipad, player, rplist, video, window</td></tr>
<tr><th>Reporter</th><td>ctredway</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T03:00:33.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-03T17:17:09.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Running 1.4 and 1.4.1 on iOS 3.2 when a window is closed that
has a video player instance in it, the video player is not removed
as well. I tried using a window.remove(videoPlayer) and that did
not work either.</p></div>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2011-04-15

   <div><p>No views are detached when a window is closed. What's the point
   of removing the video player? If it's to stop it, then the player
   can simply be stopped manually through an event listener.</p>
   <p>If it has to do with memory issues, this could possibly be fixed
   by better view memory management, which may be part of Blain's
   ongoing view refactor.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/4ec97cd3307b066fbf464300337d89e89b70a6b4"
   title=
   "Changeset [4ec97cd3307b066fbf464300337d89e89b70a6b4]">[4ec97cd3307b066fbf464300337d89e89b70a6b4]</a>)
   [<a href="/projects/32238/tickets/1725" title=
   "Ticket #1725">#1725</a> state:fixed-in-qa] Added flag to determine
   whether or not movies are 'really' attached to a view. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/4ec97cd3307b066fbf464300337d89e89b70a6b4" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/4ec97cd3307b066fbf464300337d89e89b70a6b4</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/4ec97cd3307b0..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/4ec97cd3307b0...</a></a></p></div></li>
<li>Pedro Enrique 2011-04-15

   <div><p>test file exists in bug tests.<br>
   Tested in iPad Simulator 3.2, 4.0, 4.1, and 4.2<br>
   SDK 1.5 12/9/2010 - r43358e5f</p>
   <p>When window is opened, the video starts playing, then:</p>
   <p>iOS 4.0, 4.1, and 4.2<br>
   When window is closed, video stops playing as expected.</p>
   <p>iOS 3.2<br>
   When window is closed, video keeps playing in the background.</p></div></li>
<li>Ralf Pfeiffer 2011-04-15

   <div><p>Steve, please describe the problem, root cause and fix. I prefer
   not to add to R1.5 if there is a workaround.</p>
   <p>Categorizing as needs more info and TBS, and low.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Going to mark this as "resolved" as it's resolved for 4.0+
   devices.</p>
   <p>In 3.2, it appears that this is an apple bug (able to recreate
   outside of Titanium, and so was Blain). Unfortunately there is no
   workaround because this is caused entirely by the
   MPMoviePlayerController internals - we can't intervene at any point
   without the possibility of introducing private APIs and thus
   possible app rejection.</p></div></li>
<li>ctredway 2011-04-15

   <div><p>Ok, this is back on iOS 4+. If the fullscreen flag is set to
   true, the video player will not remove from view and the window its
   in will not close either. If the fullscreen flag is not used or
   false (which is the default), and the controls are set to
   fullscreen, it will behave the way it should.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Not a regression. Was caused by erroneously listening for
   "complete" on the click of the fullscreen "Done" button. Making
   resolved. FROM APPLE'S DOCUMENTATION:</p>
   <blockquote>
   <p>This notification <a href=
   "/projects/32238/changesets/MPMoviePlayerPlaybackDidFinishNotification"
   title=
   "Changeset [MPMoviePlayerPlaybackDidFinishNotification]">[MPMoviePlayerPlaybackDidFinishNotification]</a>
   is not sent in cases where the movie player is displaying in
   fullscreen mode and the user taps the Done button. In that
   instance, the Done button causes movie playback to pause while the
   player transitions out of fullscreen mode. If you want to detect
   this scenario in your code, you should monitor other notifications
   such as MPMoviePlayerDidExitFullscreenNotification.</p>
   </blockquote>
   <p>These notifications trigger "complete" and "fullscreen"
   respectively.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Clint is able to continuously reproduce, although I'm not. Very
   strange. Marking needs-more-info as a result.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Turns out this is also an apple bug - sometimes the
   notification/event IS fired, but only when the control style is
   FULLSCREEN (whether or not the movie is fullscreen is irrelevant).
   That doesn't match documentation. Also, the close() issue has to do
   with not allowing the close of toplevel tab windows (which is
   perfectly OK).</p>
   <p>It's worth noting that this bug also prevents us from being able
   to remove the movie control overlay from a window if necessary; all
   other control schemes allow us to remove a movie from a view.
   Fullscreen controls do not.</p>
   <p>Radar Bug ID# 8785759</p></div></li>
<li>Lee Morris 2017-03-03

    Closing ticket due to time passed and irrelevance of ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1725.json">JSON Source</a></p>