---
title: "[TIMOB-1802] iPhone audio session setting does not work"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:57:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>audio, ios, iphone, session</td></tr>
<tr><th>Reporter</th><td>Stephen Tramer</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-04-15T03:02:48.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:57:13.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Thought this problem had been squashed in the past, but a recent
helpdesk ticket clued me in that it persists. Setting an audio mode
WHILE the session is active is apparently not respected: So if we
do the following:</p>
<pre>
<code>var v = Ti.Media.createSound();
v = Ti.Media.createSound({audioPlaybackMode:...});</code>
</pre>
<p>Then there's no guarantee that the audio playback mode will be
set (the initially created sound is already 'taking up' our
application's audio session). Note that the audio playback mode set
for 'v' MAY be respected the next time a sound plays!</p>
<p>We need to work out a way to manage audio session(s) so that
this issue can be avoided.</p></div>

<h3>Comments</h3>

<ol>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/cb2651aaac259b475a94a8845249d040cc6e28a2"
   title=
   "Changeset [cb2651aaac259b475a94a8845249d040cc6e28a2]">[cb2651aaac259b475a94a8845249d040cc6e28a2]</a>)
   [<a href="/projects/32238/tickets/1802" title=
   "Ticket #1802">#1802</a> state:fixed-in-qa] Changed how audio
   sessions are managed - they're now only claimed/released when
   sounds start/stop. Many improvements to audio tests. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/cb2651aaac259b475a94a8845249d040cc6e28a2" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/cb2651aaac259b475a94a8845249d040cc6e28a2</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/cb2651aaac259..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/cb2651aaac259...</a></a></p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Interestingly, audio streaming does NOT respect the audio
   session mode - you may play both a stream and a sound when the mode
   is SOLO_AMBIENT, for example. Mystifying, but this seems to be an
   Apple internal.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>ipod 3rd gen, 1.4.2.e6bd67</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>1.4.2.e6bd67 4.1 ipod touch</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1802.json">JSON Source</a></p>