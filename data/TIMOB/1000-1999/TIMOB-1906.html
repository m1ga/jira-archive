---
title: "[TIMOB-1906] Android: Event Source Gets Reset"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:57:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:05:16.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:57:30.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>When an event is fired in a child and propagated up the tree,
the source is getting set to the proxy that's firing it and does
not preserve the initial source.</p>
<p>See <a href=
"<a href="http://developer.appcelerator.com/helpdesk/view/45061" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/45061</a>">Helpdesk
45061</a></p>
<pre>
<code>var w = Ti.UI.createWindow({ backgroundColor : 'blue' , name : 'w'});
w.addEventListener('focus', function(e) {
    Ti.API.info("Window Focus: " + e.type + " " + e.source + " " + e.source.name);
});

var b = Ti.UI.createButton({ title : 'Click Me', width : 100, height : 50 , top : 20, name : 'b'});
b.addEventListener('focus', function(e) {
    Ti.API.info("Button Focus: " + e.type + " " + e.source + " " + e.source.name);
});

var b1 = Ti.UI.createButton({ title : 'Click Me', width : 100, height : 50, top : 90, name : 'b1' });
b1.addEventListener('focus', function(e) {
    Ti.API.info("Button 1 Focus: " + e.type + " " + e.source + " " + e.source.name);
});

w.add(b);
w.add(b1);

w.open({ animated : false});</code>
</pre>
<p><img src=
"<a href="http://img.skitch.com/20100924-xt69d7yk3s5n5w81rfrapamgp6.png" rel="nofollow" target="_blank">http://img.skitch.com/20100924-xt69d7yk3s5n5w81rfrapamgp6.png</a>"
alt="screenshot"></p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/66b7aa975c491b00c7c58e0aa97a95b41d183e4f"
   title=
   "Changeset [66b7aa975c491b00c7c58e0aa97a95b41d183e4f]">[66b7aa975c491b00c7c58e0aa97a95b41d183e4f]</a>)
   [<a href="/projects/32238/tickets/1906" title=
   "Ticket #1906">#1906</a> state:fixed-in-qa] the problem was that if
   a null event object was passed, it wasn't being created at the
   initial fireEvent location. Therefore each proxy was creating its
   own event object and setting itself as the source. Some view
   event's like 'click' set the source explicitly so masked the
   underlying problem. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/66b7aa975c491b00c7c58e0aa97a95b41d183e4f" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/66b7aa975c491b00c7c58e0aa97a95b41d183e4f</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/66b7aa975c491..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/66b7aa975c491...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>thanks for the screenshot :)</p>
   <p>closed against 1.6 G1 and a sim running 2.2</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1906.json">JSON Source</a></p>