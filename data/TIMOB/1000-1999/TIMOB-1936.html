---
title: "[TIMOB-1936] Android: crash (mem leak?) when running BaseUi>Views>Web Views (external url and local url)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:57:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0 M03</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, crash, regression</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:06:03.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:57:35.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>1.4.2.5935b3 G1 running 1.6</p>
<ol>
<li>BaseUi&gt;Views&gt;Web Views&gt;external url<br></li>
<li>then BaseUi&gt;Views&gt;Web Views&gt;local url</li>
</ol>
<p>crashlog at - <a href=
"<a href="http://pastie.org/1186898" rel="nofollow" target="_blank">http://pastie.org/1186898</a>"><a href="http://pastie.org/1186898" rel="nofollow" target="_blank">http://pastie.org/1186898</a></a></p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>Let's check for leaks from one test to the other.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>You can even reproduce by backing out of the first webview,
   going back to the Views menu, and clicking to go into any Views set
   of tests. (So you don't need to load webview twice to get it to
   happen.)</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>For posterity: the crash begins happening in 1.6 after this
   commit is applied:</p>
   <p><a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/a8c5ccc4cb76843898bc" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/a8c5ccc4cb76843898bc</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/a8c5ccc4cb768..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/a8c5ccc4cb768...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/b8a6eb4de745a63299b04a9a6d221bfa35b1dc9c"
   title=
   "Changeset [b8a6eb4de745a63299b04a9a6d221bfa35b1dc9c]">[b8a6eb4de745a63299b04a9a6d221bfa35b1dc9c]</a>)
   [<a href="/projects/32238/tickets/1936" title=
   "Ticket #1936">#1936</a> status:fixed-in-qa] Don't allow the
   webview to be released like other views are in our new
   memory-saving scheme. Some native (JNI) code seems to freak out and
   crash the app if the webview isn't still around at a certain point
   in the GC process <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/b8a6eb4de745a63299b04a9a6d221bfa35b1dc9c" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/b8a6eb4de745a63299b04a9a6d221bfa35b1dc9c</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/b8a6eb4de745a..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/b8a6eb4de745a...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>crash persists in Mobile sdk 1.5.0.02c264.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>This seems to have resolved itself. (A lot of changes since
   10/14 in the master branch, related to the Kroll refactoring that
   was merged around that time.) Can you still reproduce? I can't.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>Titanium SDK version: 1.5.0 (12/03/10 09:29 33c2058). Not seeing
   it on the g1 or g2 anymore. closing as resolved</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1936.json">JSON Source</a></p>