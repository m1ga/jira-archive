---
title: "[TIMOB-1954] Android: removeEventListener has no effect when removing from a view in another context"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:57:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:06:24.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:57:38.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Sample failcase app.js:</p>
<pre>
<code class="javascript">/*global Ti, Titanium, alert, JSON */
Titanium.UI.setBackgroundColor('#000');
var win = Titanium.UI.createWindow({  
    title:'Test',
    backgroundColor:'#fff',
    fullscreen: true
});

function clickhandler() {
    Ti.API.info('HELLO');
}

var btn1 = Ti.UI.createButton({
    top: 0,
    title: 'Say hello'
});
btn1.addEventListener('click', clickhandler);

win.add(btn1);

var btn2 = Ti.UI.createButton({
    top: 60,
    title: 'Remove hello click handler'
});
btn2.addEventListener('click', function() {
    btn1.removeEventListener('click', clickhandler);
});
win.add(btn2);
win.open();</code>
</pre>
<p>Note the <code>fullscreen: true</code> in that script. This
makes the window being opened a "heavyweight" window that gets its
own activity and context. The code to remove the event listener
from one of the buttons on that window is defined in the root
context. This causes the <code>removeEventListener</code> to have
no effect.</p>
<p>If you take away the <code>fullscreen: true</code> in the window
creation arguments, the <code>removeEventListener</code> will
succeed.</p>
<p>EXPECTED BEHAVIOR: The "HELLO" message will stop appearing in
the console when you click the first button, <em>IF</em> you click
the second button at least once.</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/c6e1d2cdaa30d33e504163c750d55c41dda4063b"
   title=
   "Changeset [c6e1d2cdaa30d33e504163c750d55c41dda4063b]">[c6e1d2cdaa30d33e504163c750d55c41dda4063b]</a>)
   [<a href="/projects/32238/tickets/1954" title=
   "Ticket #1954">#1954</a> state:fixed-in-qa] Because we don't copy
   over pre-existing event listeners when a proxy switches contexts,
   when we remove a listener we need to remove it from the original
   context as well <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/c6e1d2cdaa30d33e504163c750d55c41dda4063b" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/c6e1d2cdaa30d33e504163c750d55c41dda4063b</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/c6e1d2cdaa30d..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/c6e1d2cdaa30d...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>1.4.2.4ce7ff G1 running 1.6, 2.2 simulator</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1954.json">JSON Source</a></p>