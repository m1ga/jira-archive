---
title: "[TIMOB-1967] iOS: createAudioPlayer not playing MP3 from URL"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-04-28T20:46:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api</td></tr>
<tr><th>Reporter</th><td>johnmcknight (at yahoo)</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-04-15T03:06:48.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-31T22:42:20.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>When I create an AudioPlayer object and set a URL to an MP3 file
I get an error that says 'No audio data found' even though I can
verify a correct MP3 file is present and can be played through
iTunes and can be downloaded.</p>
<p>Here is the code that I am using</p>
<pre>
<code>    var player = Titanium.Media.createAudioPlayer({url: audio_uri});
    player.start();</code>
</pre>
<p>audio_uri is <a href=
"<a href="http://serverdemo.voicebox.com/VBTGetTTSAudio.aspx?TTS=79458.mp3" rel="nofollow" target="_blank">http://serverdemo.voicebox.com/VBTGetTTSAudio.aspx?TTS=79458.mp3</a>"><a href="http://serverdemo.voicebox.com/VBTGetTTSAudio.aspx?TTS=79458.mp3" rel="nofollow" target="_blank">http://serverdemo.voicebox.com/VBTGetTTSAudio.aspx?TTS=79458.mp3</a></a></p>
<p>This happens on an iPad/iPhone project with versions 1.4.1 and
1.4.2 continuous.</p></div>

<h3>Comments</h3>

<ol>
<li>eddiemonge 2011-04-15

   <div><p>I think its a problem with your audio file. I threw the link
   into my working music player and it gave me the error.</p></div></li>
<li>johnmcknight (at yahoo) 2011-04-15

   <div><p>It's not the file, I am able to fetch it using createHTTPClient
   and then play that file locally. If I just send the URL, it says
   there is no audio data.</p></div></li>
<li>johnmcknight (at yahoo) 2011-04-15

   <div><p>I have found the problem for my URL while attempting to use
   createSound to play the same URL.<br></p>
   <p>TiMediaSoundProxy.m around line 43 of the 1.5.0 nightly
   build.</p>
   <pre>
   <code> NSString *ext = [[[url path] lastPathComponent] pathExtension];</code>
   </pre>
   <p>For my URL, which is a fairly common thing to encounter, the
   value of ext becomes aspx because that is the file extension of the
   file that is being called to return the MP3. Using the same logic,
   a URL that is not using any file to return audio would have an
   invalid extension as well. An example would be a streaming audio
   URL that is something like <a href=
   "<a href="http://www.somestream.com/astream/" rel="nofollow" target="_blank">http://www.somestream.com/astream/</a>"><a href="http://www.somestream.com/astream/" rel="nofollow" target="_blank">http://www.somestream.com/astream/</a></a>
   would fail because the ext variable would not specify the type of
   file that is present.</p>
   <p>My sloppy test was changing that line to this and it would play
   my file.</p>
   <pre>
   <code>NSString *ext = @"mp3";</code>
   </pre>
   <p>I assume the preferred way to deal with this would be some sort
   of media type detection and setting the temp ext according to it
   but an easier would might be to allow developers to specify the
   type of media we are attempting to play and make the ext variable
   based on it. Just my opinion...</p></div></li>
<li>johnmcknight (at yahoo) 2011-04-15

   <div><p>When calling createAudioPlayer with the same URL, I have a
   similar problem.</p>
   <p>Around line 543 of AudioStreamer.m there is another place that
   looks like it attempts to guess file type by extension which
   wouldn't work correctly for my URL. The comment directly above that
   line says.</p>
   <pre>
   <code>     //
           // Attempt to guess the file type from the URL. Reading the MIME type
           // from the CFReadStream would be a better approach since lots of
           // URL's don't have the right extension.
           //
           // If you have a fixed file-type, you may want to hardcode this.
           //</code>
   </pre>
   <p>This is similar to my comment above about being able to tell the
   media object what file type it is trying to stream.</p></div></li>
<li>Stephen Tramer 2012-07-26

   Confirmed against SDK 2.2.0.014b86f. Probably due to URL mangling; a URL without special characters works fine.</li>
<li>Lee Morris 2017-04-28

   Resolving ticket as invalid due to the above comments and the lack of activity.</li>
</ol>


<p><a href="/TIMOB/TIMOB-1967.json">JSON Source</a></p>