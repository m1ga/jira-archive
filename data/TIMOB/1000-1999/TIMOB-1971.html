---
title: "[TIMOB-1971] Android: Optimize TableViewRow Layout with Same Classname"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:57:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0 M04</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, performance</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:06:55.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:57:41.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>We got a clarification today that TableViewRows that have the
same structure are not allowed to change their layout. Previously
we interpreted that they had to have the same controls in the same
order, but layout might not be identical.</p>
<p>Optimize Rows such layout only occurs when a new internal row is
created and when reused, only the data from each control is
applied, not layout.</p></div>

<h3>Comments</h3>

<ol>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/e18980e31ba5c0e061da3ababd711467471bffeb"
   title=
   "Changeset [e18980e31ba5c0e061da3ababd711467471bffeb]">[e18980e31ba5c0e061da3ababd711467471bffeb]</a>)
   pre-seed a relatively large number of row types so we can avoid
   calling setAdapter to tell the ListView about new row types (which
   causes all kinds of memory / model havoc). added a new
   forceCreateView in TiViewProxy to simply assign the internal view
   reference to a new instance, rather than forcefully tearing down
   the existing view. this fixes the className redrawing bug when the
   ListView recycler shuffles reused view instances [<a href=
   "/projects/32238/tickets/1971" title="Ticket #1971">#1971</a>
   state:fixed-in-qa] [<a href="/projects/32238/tickets/2377" title=
   "Ticket #2377">#2377</a> state:fixed-in-qa] [<a href=
   "/projects/32238/tickets/2344" title="Ticket #2344">#2344</a>]
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/e18980e31ba5c0e061da3ababd711467471bffeb" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/e18980e31ba5c0e061da3ababd711467471bffeb</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/e18980e31ba5..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/e18980e31ba5...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>used KS example for linked bug to close this.[INFO] Titanium SDK
   version: 1.5.0 (12/08/10 08:34 4ee1205) G2 + 2.1 sim</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1971.json">JSON Source</a></p>