---
title: "[TIMOB-1989] Android: Callbacks for Facebook publishStream never occur"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:57:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, facebook, rplist</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:07:28.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:57:45.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Fail case is to be seen also in our KitchenSink. Go to Mashups -
Facebook - Publish Stream (or Publish Status). Do a Facebook status
update and you should get an alert dialog after you are finished,
but you don't. The facebook update occurs as planned, but the alert
-- which should tell you "Your status was published" -- is
generated from inside the callback function, which never fires.</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/671ca48045584277d384bd5f3203ca9b40e73848"
   title=
   "Changeset [671ca48045584277d384bd5f3203ca9b40e73848]">[671ca48045584277d384bd5f3203ca9b40e73848]</a>)
   [<a href="/projects/32238/tickets/1989" title=
   "Ticket #1989">#1989</a>] Check for requestCode instead of
   resultCode when finding callbacks. Now callbacks occur, but the
   problem is the result code is always 0 which sets success to false.
   <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/671ca48045584277d384bd5f3203ca9b40e73848" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/671ca48045584277d384bd5f3203ca9b40e73848</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/671ca48045584..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/671ca48045584...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>So i got the callback to fire, but it always thinks that
   <code>success</code> is <code>false</code>.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/caff4cd3e2c8a70e76d6b9c8a3c67f39ac2af888"
   title=
   "Changeset [caff4cd3e2c8a70e76d6b9c8a3c67f39ac2af888]">[caff4cd3e2c8a70e76d6b9c8a3c67f39ac2af888]</a>)
   [<a href="/projects/32238/tickets/1989" title=
   "Ticket #1989">#1989</a>] Recent change to compiler.py made
   activity and permission detection fail. After discussing with
   marshall, taking out that change so Facebook activity gets put
   successfully into AndroidManifest. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/caff4cd3e2c8a70e76d6b9c8a3c67f39ac2af888" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/caff4cd3e2c8a70e76d6b9c8a3c67f39ac2af888</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/caff4cd3e2c8a..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/caff4cd3e2c8a...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/4b3b3d5e03e98363198532c0d62e52568f024476"
   title=
   "Changeset [4b3b3d5e03e98363198532c0d62e52568f024476]">[4b3b3d5e03e98363198532c0d62e52568f024476]</a>)
   [<a href="/projects/32238/tickets/1989" title=
   "Ticket #1989">#1989</a>]&nbsp;Put the facebook success/cancel urls
   in GET params instead of POST-- now the activity accurately sets
   the result. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/4b3b3d5e03e98363198532c0d62e52568f024476" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/4b3b3d5e03e98363198532c0d62e52568f024476</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/4b3b3d5e03e98..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/4b3b3d5e03e98...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/f3bf1945838339091296179fd2179913d11165c3"
   title=
   "Changeset [f3bf1945838339091296179fd2179913d11165c3]">[f3bf1945838339091296179fd2179913d11165c3]</a>)
   [<a href="/projects/32238/tickets/1989" title=
   "Ticket #1989">#1989</a>]&nbsp;Put the facebook success/cancel urls
   in GET params instead of POST-- now the activity accurately sets
   the result. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/f3bf1945838339091296179fd2179913d11165c3" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/f3bf1945838339091296179fd2179913d11165c3</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/f3bf194583833..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/f3bf194583833...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/39fb5c4c905df7e8d9b91b4d51be554d702b6671"
   title=
   "Changeset [39fb5c4c905df7e8d9b91b4d51be554d702b6671]">[39fb5c4c905df7e8d9b91b4d51be554d702b6671]</a>)
   [<a href="/projects/32238/tickets/1989" title=
   "Ticket #1989">#1989</a> state:fixed-in-qa] Use the invocation
   context to determine which activity to pass to activitySupport, so
   we can get results from activities. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/39fb5c4c905df7e8d9b91b4d51be554d702b6671" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/39fb5c4c905df7e8d9b91b4d51be554d702b6671</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/39fb5c4c905df..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/39fb5c4c905df...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/d5d8dbe632f6fef21799b160f1c56359d89b751e"
   title=
   "Changeset [d5d8dbe632f6fef21799b160f1c56359d89b751e]">[d5d8dbe632f6fef21799b160f1c56359d89b751e]</a>)
   [<a href="/projects/32238/tickets/1989" title=
   "Ticket #1989">#1989</a> state:fixed-in-qa] Put the cancel url back
   to fbconnect:cancel (instead of fbconnect://cancel), which matches
   Facebook's own setting per <a href=
   "<a href="http://github.com/facebook/facebook-android-sdk/blob/ef53183c59dac75cda7b6787a7fcb6f4bcd35b7b/facebook/src/com/facebook/android/Facebook.java#L42" rel="nofollow" target="_blank">http://github.com/facebook/facebook-android-sdk/blob/ef53183c59dac75cda7b6787a7fcb6f4bcd35b7b/facebook/src/com/facebook/android/Facebook.java#L42</a>">
   <a href="http://github.com/facebook/facebook-android-sdk/blob/ef53183c59dac7..." rel="nofollow" target="_blank">http://github.com/facebook/facebook-android-sdk/blob/ef53183c59dac7...</a></a>
   <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/d5d8dbe632f6fef21799b160f1c56359d89b751e" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/d5d8dbe632f6fef21799b160f1c56359d89b751e</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/d5d8dbe632f6f..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/d5d8dbe632f6f...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/7376f0231dd1383947abbf484a137316329bd4b5"
   title=
   "Changeset [7376f0231dd1383947abbf484a137316329bd4b5]">[7376f0231dd1383947abbf484a137316329bd4b5]</a>)
   [<a href="/projects/32238/tickets/1989" title=
   "Ticket #1989">#1989</a> state:fixed-in-qa] Put the cancel url back
   to fbconnect:cancel (instead of fbconnect://cancel), which matches
   Facebook's own setting per <a href=
   "<a href="http://github.com/facebook/facebook-android-sdk/blob/ef53183c59dac75cda7b6787a7fcb6f4bcd35b7b/facebook/src/com/facebook/android/Facebook.java#L42" rel="nofollow" target="_blank">http://github.com/facebook/facebook-android-sdk/blob/ef53183c59dac75cda7b6787a7fcb6f4bcd35b7b/facebook/src/com/facebook/android/Facebook.java#L42</a>">
   <a href="http://github.com/facebook/facebook-android-sdk/blob/ef53183c59dac7..." rel="nofollow" target="_blank">http://github.com/facebook/facebook-android-sdk/blob/ef53183c59dac7...</a></a>
   <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/7376f0231dd1383947abbf484a137316329bd4b5" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/7376f0231dd1383947abbf484a137316329bd4b5</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/7376f0231dd13..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/7376f0231dd13...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>g1 running 1.6 and the sim running 2.2 Ti Mobile sdk
   1.5.0.02c264</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1989.json">JSON Source</a></p>