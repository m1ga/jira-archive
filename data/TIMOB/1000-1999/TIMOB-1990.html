---
title: "[TIMOB-1990] Android: JARs for third-level module names do not get included in APK"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:57:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0 M02</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, feature</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:07:31.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:57:45.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>In the android_native_refactor branch, we have our first
third-level module: Ti.Android.Calendar (until now all modules are
just Ti.XXXX, but this has "Android" in between "Ti" and "XXX").
Our android compiler does not support this. Failcase: run any app
on the android_native_refactor branch that includes this code:</p>
<p><code>Ti.Android.Calendar.getSelectableCalendars()</code></p>
<p>You will get an error.</p>
<p>Setting this as a "feature" since third-level modules -- and
specifically the Calendar module -- are new features.</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/d40697ee7462ec28f0348179ca8eebb933e00686"
   title=
   "Changeset [d40697ee7462ec28f0348179ca8eebb933e00686]">[d40697ee7462ec28f0348179ca8eebb933e00686]</a>)
   [<a href="/projects/32238/tickets/1990" title=
   "Ticket #1990">#1990</a> state:fixed-in-qa] Parse third-level
   module names such as Ti.Android.Calendar <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/d40697ee7462ec28f0348179ca8eebb933e00686" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/d40697ee7462ec28f0348179ca8eebb933e00686</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/d40697ee7462e..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/d40697ee7462e...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>Reopening -- the problem persists in master branch, though I
   think the feature went into ANR before it was merged in Master.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>Assigning to Marshall because he'll need to study the annotation
   processor he wrote for 1.5</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/c5cd0952569ac347b38c538ff079ab3b361154a8"
   title=
   "Changeset [c5cd0952569ac347b38c538ff079ab3b361154a8]">[c5cd0952569ac347b38c538ff079ab3b361154a8]</a>)
   [<a href="/projects/32238/tickets/1990" title=
   "Ticket #1990">#1990</a>] Set Ti.Android as parent to
   Ti.Android.Calendar, add calendar project to dependency.json
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/c5cd0952569ac347b38c538ff079ab3b361154a8" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/c5cd0952569ac347b38c538ff079ab3b361154a8</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/c5cd0952569a..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/c5cd0952569a...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/958923fa73323d0d9e3a581ec036de2750049d63"
   title=
   "Changeset [958923fa73323d0d9e3a581ec036de2750049d63]">[958923fa73323d0d9e3a581ec036de2750049d63]</a>)
   [<a href="/projects/32238/tickets/1990" title=
   "Ticket #1990">#1990</a>] Disable inclusion of Calendar for now
   because it makes Ti projects fail in android.py <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/958923fa73323d0d9e3a581ec036de2750049d63" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/958923fa73323d0d9e3a581ec036de2750049d63</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/958923fa7332..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/958923fa7332...</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/d27b9681f002fdad0840295c8696127a2b3682ed"
   title=
   "Changeset [d27b9681f002fdad0840295c8696127a2b3682ed]">[d27b9681f002fdad0840295c8696127a2b3682ed]</a>)
   add support for external child modules [<a href=
   "/projects/32238/tickets/1990" title="Ticket #1990">#1990</a>
   state:fixed-in-qa]</p>
   <p>external child modules are children of modules<br>
   that doesn't necessarily live in the same 'project'<br>
   or source round. module jars are now looked up via<br>
   a new modules.json that is generated as part of the<br>
   ant build. this also fixes the Ti.Android.Calendar module<br>
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/d27b9681f002fdad0840295c8696127a2b3682ed" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/d27b9681f002fdad0840295c8696127a2b3682ed</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/d27b9681f002..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/d27b9681f002...</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/6ea48c4f72b096f8dc1ef41b0bcbd317b13742fb"
   title=
   "Changeset [6ea48c4f72b096f8dc1ef41b0bcbd317b13742fb]">[6ea48c4f72b096f8dc1ef41b0bcbd317b13742fb]</a>)
   don't add external modules if they aren't referenced in code
   [<a href="/projects/32238/tickets/1990" title=
   "Ticket #1990">#1990</a>] <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/6ea48c4f72b096f8dc1ef41b0bcbd317b13742fb" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/6ea48c4f72b096f8dc1ef41b0bcbd317b13742fb</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/6ea48c4f72b0..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/6ea48c4f72b0...</a></a></p></div></li>
<li>Matt Schmulen 2011-04-15

   <div><p>pass Android Sim 1.6/2.1 Titanium SDK version: 1.5.0 (12/06/10
   13:14 52a4db3), Custom</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-1990.json">JSON Source</a></p>