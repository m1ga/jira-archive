---
title: "[TIMOB-10043] Android: Add "physicalSizeCategory" to Ti.Platform.displayCaps"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-09-05T23:35:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>core, module_platform, parity, qe-review, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2012-07-19T14:05:39.000+0000</td></tr>
<tr><th>Updated</th><td>2012-09-05T23:35:40.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>description</h4>

In order to reliably determine the physical size of an Android device, it would be beneficial to use Android's own assessment of the device. To do so, we should expose the screen layout size of an Android device via a simple comparison on Android's <code>Configuration.screenLayout</code> property. This property and getter method should be added to <code>Ti.Platform.displayCaps</code> and return the various possible Android screen layout size, currently:

* small
* normal
* large
* xlarge

It should be noted that <code>xlarge</code> was actually added at API level 9, so its constant value with be entered manually.

<h4>test app</h4>

Just pop this into a default titanium mobile project and test on android.

<code><pre>
var size = Ti.Platform.Android.physicalSizeCategory;
var str = '';
switch(size) {
	case Ti.Platform.Android.PHYSICAL_SIZE_CATEGORY_SMALL:
		str = 'small';
		break;
	case Ti.Platform.Android.PHYSICAL_SIZE_CATEGORY_NORMAL:
		str = 'normal';
		break;
	case Ti.Platform.Android.PHYSICAL_SIZE_CATEGORY_LARGE:
		str = 'large';
		break;
	case Ti.Platform.Android.PHYSICAL_SIZE_CATEGORY_XLARGE:
		str = 'xlarge';
		break;
	case Ti.Platform.Android.PHYSICAL_SIZE_CATEGORY_SMALL:
		str = 'undefined';
		break;
}

alert(
	'width:  ' + Ti.Platform.displayCaps.platformWidth + '\n' +
	'height: ' + Ti.Platform.displayCaps.platformHeight + '\n' +
	'dpi:    ' + Ti.Platform.displayCaps.dpi + '\n' +
	'den:    ' + Ti.Platform.displayCaps.density + '\n' +
	'ldf:    ' + Ti.Platform.displayCaps.logicalDensityFactor + '\n' +
	'xdpi:   ' + Ti.Platform.displayCaps.xdpi + '\n' +
	'ydpi:   ' + Ti.Platform.displayCaps.ydpi + '\n' +
	'SIZE:   ' + str
 ); 

</pre></code>

<h4>concerns</h4>

Parity tickets may need to be raised for Mobileweb and iOS.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2012-07-19

   PR submitted: <a href="https://github.com/appcelerator/titanium_mobile/pull/2610" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2610</a>
   
   While far from a comprehensive test, I ran this against the following devices and emulators, all of which returned the correct values:
   
   * Transformer Prime: xlarge
   * Galaxy Nexus: normal
   * Galaxy Tab (emulator): large</li>
<li>Tony Lukasavage 2012-07-20

   The functionality is android-specific, much like the existing <code>xdpi</code> and <code>ydpi</code> properties. As far as I can tell from perusing the code, iOS and mobileweb implement neither of these properties and simply return <code>undefined</code> when they are accessed in Titanium at runtime. I was following those examples when implementing this property.
   
   I have no aversion to attaching this new property to an Android-specific namespace if you think that will help. Let me know how you'd like me to proceed and I can adjust the corresponding PR.</li>
<li>Tony Lukasavage 2012-07-27

   This has been made into an Android-only property, with corresponding constants and docs, in <code>Ti.Platform.Android</code>. The PR has been updated.</li>
<li>Shyam Bhadauria 2012-08-16

   Environment used for verification -
   Tested with Titanium SDK: 2.2.0.v20120816212512
   Tested with Titanium Â Studio: 2.1.1.201207271312
   Device - Samsung GALAXY Note Android 2.3.6,Samung GALAXY Tab 620 Android 3.2
   Machine OS - MAC 10.8</li>
<li>Shyam Bhadauria 2012-09-05

   Re-opening to edit label</li>
</ol>


<p><a href="/TIMOB/TIMOB-10043.json">JSON Source</a></p>