---
title: "[TIMOB-10048] CLI: if SDK folder is moved from original install location, build scripts fail"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-10-30T00:15:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0, Release 2.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.0, 2012 Sprint 22 JS, 2012 Sprint 22</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>qe-and070112, qe-ios070112, qe-mw070112</td></tr>
<tr><th>Reporter</th><td>Dustin Hyde</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-07-18T16:58:00.000+0000</td></tr>
<tr><th>Updated</th><td>2012-12-06T00:36:30.000+0000</td></tr>
</table>

<h3>Description</h3>

SDK deployment scripts will fail if the SDK is moved to a directory other than the one it was installed to.

This is not a regression.

Run iOS Simulator: silent failure
Run Android Emulator/Device: failure w/log attached
Run MobileWeb in Browser: failure w/screenshot attached

Steps to Reproduce:

1. Move Library/Application Support/Titanium (main folder containing SDKs) to some other location (e.g., Downloads/Titanium).
2. In the Titanium Studio preferences, change the Titanium SDK to the new location.
3. Run a titanium project using any platform such as iOS Simulator, Android Device/Emulator, MobileWeb Preview, etc.

Actual Result:

All deployments fail.

Expected Result:

All deployments should succeed.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-10048_29869/AndroidEmulatorStudioConsoleLog.txt">AndroidEmulatorStudioConsoleLog.txt</td></td><td>2012-07-18T16:58:00.000+0000</td><td>373</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-10048_29868/MobileWeb Preview in Browser.png">MobileWeb Preview in Browser.png</td></td><td>2012-07-18T16:58:00.000+0000</td><td>68883</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2012-07-18

   Unable to reproduce on both OS X Lion 10.7.4 and 10.6.8
   
   <h4>Ensured SDK setting was /Library/Application Support/Titanium</h4>
   <h4>Moved Folder to /Users/ingo/Downloads/Titanium</h4>
   <h4>Created a new project with both SDK 2.0.1.GA2 and 2.1.1.GA</h4>
   <h4>Ran "Preview Mobile Web in Browser"</h4>
   
   All succeeded.
   
   Also tried iOS builds too...that worked.
   
   Please try turning on troubleshooting com.aptana.core/debug/shell. I get entries like:
   
   <code><pre>
   !ENTRY com.aptana.core 1 0 2012-07-18 21:23:27.247
   !MESSAGE (Build 0.0.0.qualifier) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/python" "/Users/ingo/Downloads/Titanium/mobilesdk/osx/2.0.2.GA/mobileweb/builder.py" "/Users/ingo/Documents/Aptana Studio 3 Workspace/testMobileWeb202" "development"
   Working directory: /Users/ingo/Documents/Aptana Studio 3 Workspace/testMobileWeb202
   Environment: null
   </pre></code>
   
   Which appear correct. One note is that your stack trace (for Android) appears that it is confusing where to load items from. Note:
   
   <code><pre>
   Traceback (most recent call last):
     File "/Users/dhyde/Downloads/Titanium/mobilesdk/osx/2.1.1.v20120717154609/android/builder.py", line 15, in <module>
       from compiler import Compiler
     File "/Library/Application Support/Titanium/mobilesdk/osx/2.1.1.v20120717154609/android/compiler.py", line 23, in <module>
       import simplejson
   ImportError: No module named simplejson
   </pre></code>
   
   This code could only execute in this way if you had folders at both /Users/dhyde/Downloads/ and /Library/Application Support/. Did you move the folder, or copy it?
   
   Also note:
   
   It sounds like the error is that it can't find simplejson:
   
   <a href="http://developer.appcelerator.com/question/131785/importerror-no-module-named-simplejson" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/131785/importerror-no-module-named-simplejson</a>
   
   Does that solution work for you?
   
   Downgrading from blocker until we get a reliable repo case.</li>
<li>Nam Le 2012-07-19

   Tried reproducing OSX 10.7.4 using Studio 2.1.1.201207171343 with SDK 2.1.1, 2.1.0 and 2.0.2. iOS/MobileWeb packaging works as expected. I tried both renaming the Titanium folder in the 'Application Support' directory and leaving it there, while pointing the SDK to my .../Downloads directory. All calls utilized the SDK in the .../Downloads directory</li>
<li>Clayton Headley 2012-07-19

   Could not reproduce in Titanium Studio, build: 2.1.1.201207171343 on Mac OS 10.7.4 Lion using SDK 2.0.1GA and 1.8.2 using the Iphone, Android, and Mobile Web preview. No errors reported and the log file is empty. I tried both with copying and moving the SDK directory, neither seemed to have an effect.  </li>
<li>Dustin Hyde 2012-07-19

   I could not reproduce in Lion, but I could on 2/2 local Snow Leopard machines.
   
   It appears the run scripts are looking in /Library/Application Support/Titanium/ when the SDK is actually in (and set to in the preferences) ~/Library/Application Support/Titanium/.
   
   Restarting studio has no effect.
   
   If a titanium SDK is freshly installed while studio is in this state, the new SDK install will run correctly.
   
   Log Info com.aptana.core/debug
   
   <code><pre>
   !SESSION 2012-07-19 14:22:48.297 -----------------------------------------------
   eclipse.buildId=unknown
   java.version=1.6.0_31
   java.vendor=Apple Inc.
   BootLoader constants: OS=macosx, ARCH=x86, WS=cocoa, NL=en_US
   Framework arguments:  -keyring /Users/dhyde/.eclipse_keyring -showlocation
   Command-line arguments:  -os macosx -ws cocoa -arch x86 -keyring /Users/dhyde/.eclipse_keyring -consoleLog -showlocation
   
   !ENTRY org.eclipse.core.net 1 0 2012-07-19 14:22:54.934
   !MESSAGE System property http.nonProxyHosts has been set to local|*.local|169.254/16|*.169.254/16 by an external source. This value will be overwritten using the values from the preferences
   
   !ENTRY org.eclipse.core.net 1 0 2012-07-19 14:22:54.935
   !MESSAGE System property https.proxyHost is not set but should be 127.0.0.1.
   
   !ENTRY org.eclipse.core.net 1 0 2012-07-19 14:22:54.936
   !MESSAGE System property https.proxyPort is not set but should be 8888.
   
   !ENTRY org.eclipse.core.net 1 0 2012-07-19 14:22:54.936
   !MESSAGE System property https.proxyHost is not set but should be 127.0.0.1.
   
   !ENTRY org.eclipse.core.net 1 0 2012-07-19 14:22:54.936
   !MESSAGE System property https.proxyPort is not set but should be 8888.
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.054
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/killall" "-2" "iPhone Simulator"
   Working directory: null
   Environment: null
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.086
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/killall" "-2" "iphonesim"
   Working directory: null
   Environment: null
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.116
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/killall" "-2" "ios-sim"
   Working directory: null
   Environment: null
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.178
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Searching for bash in PATH locations: /usr/bin, /bin, /usr/sbin, /sbin
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.179
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Found executable on PATH: /bin/bash
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.213
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Searching for python in PATH locations: /usr/bin, /bin, /usr/sbin, /sbin, /usr/local/bin, /Users/dhyde/Documents/android/android-sdk-macosx, /Users/dhyde/Documents/android/android-sdk-macosx/tools, /Users/dhyde/Documents/android/android-sdk-macosx/platform-tools, /Users/dhyde/Documents/android/android-ndk-r7b, /usr/local/git/bin, /usr/X11/bin, /Users/dhyde/Desktop/Android/android-sdk-macosx/tools, /Users/dhyde/Desktop/Android/android-sdk-macosx/platform-tools
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.214
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Found executable on PATH: /usr/bin/python
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.215
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/python" "/Users/dhyde/Library/Application Support/Titanium/mobilesdk/osx/2.0.2.GA/iphone/builder.py" "simulator" "5.0" "/Users/dhyde/Desktop/Titanium_Studio_2.1.1_RC/Titanium_Studio_Workspace/MyProject2" "com.appcelerator.myproject" "MyProject2" "universal" "iphone" ""
   Working directory: null
   Environment: {DEVELOPER_DIR=/Developer}
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.339
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/killall" "-2" "iPhone Simulator"
   Working directory: null
   Environment: null
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.371
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/killall" "-2" "iphonesim"
   Working directory: null
   Environment: null
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:29.402
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/killall" "-2" "ios-sim"
   Working directory: null
   Environment: null
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:33.405
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Searching for python in PATH locations: /usr/bin, /bin, /usr/sbin, /sbin, /usr/local/bin, /Users/dhyde/Documents/android/android-sdk-macosx, /Users/dhyde/Documents/android/android-sdk-macosx/tools, /Users/dhyde/Documents/android/android-sdk-macosx/platform-tools, /Users/dhyde/Documents/android/android-ndk-r7b, /usr/local/git/bin, /usr/X11/bin, /Users/dhyde/Desktop/Android/android-sdk-macosx/tools, /Users/dhyde/Desktop/Android/android-sdk-macosx/platform-tools
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:33.405
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Found executable on PATH: /usr/bin/python
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:33.406
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/python" "/Users/dhyde/Library/Application Support/Titanium/mobilesdk/osx/2.0.2.GA/android/builder.py" "install" "MyProject2" "/Users/dhyde/Desktop/Android/android-sdk-macosx" "/Users/dhyde/Desktop/Titanium_Studio_2.1.1_RC/Titanium_Studio_Workspace/MyProject2" "com.appcelerator.myproject" "9"
   Working directory: null
   Environment: null
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:35.793
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Searching for python in PATH locations: /usr/bin, /bin, /usr/sbin, /sbin, /usr/local/bin, /Users/dhyde/Documents/android/android-sdk-macosx, /Users/dhyde/Documents/android/android-sdk-macosx/tools, /Users/dhyde/Documents/android/android-sdk-macosx/platform-tools, /Users/dhyde/Documents/android/android-ndk-r7b, /usr/local/git/bin, /usr/X11/bin, /Users/dhyde/Desktop/Android/android-sdk-macosx/tools, /Users/dhyde/Desktop/Android/android-sdk-macosx/platform-tools
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:35.793
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Found executable on PATH: /usr/bin/python
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:35.793
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/python" "/Users/dhyde/Library/Application Support/Titanium/mobilesdk/osx/2.0.2.GA/android/builder.py" "emulator" "MyProject2" "/Users/dhyde/Desktop/Android/android-sdk-macosx" "/Users/dhyde/Desktop/Titanium_Studio_2.1.1_RC/Titanium_Studio_Workspace/MyProject2" "com.appcelerator.myproject" "9" "WVGA854"
   Working directory: null
   Environment: null
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:38.107
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Searching for python in PATH locations: /usr/bin, /bin, /usr/sbin, /sbin, /usr/local/bin, /Users/dhyde/Documents/android/android-sdk-macosx, /Users/dhyde/Documents/android/android-sdk-macosx/tools, /Users/dhyde/Documents/android/android-sdk-macosx/platform-tools, /Users/dhyde/Documents/android/android-ndk-r7b, /usr/local/git/bin, /usr/X11/bin, /Users/dhyde/Desktop/Android/android-sdk-macosx/tools, /Users/dhyde/Desktop/Android/android-sdk-macosx/platform-tools
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:38.108
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Found executable on PATH: /usr/bin/python
   
   !ENTRY com.aptana.core 1 0 2012-07-19 14:23:38.111
   !MESSAGE (Build 2.1.1.201207171343) [INFO] com.aptana.core/debug/shell Running process:
   Process: "/usr/bin/python" "/Users/dhyde/Library/Application Support/Titanium/mobilesdk/osx/2.0.2.GA/mobileweb/builder.py" "/Users/dhyde/Desktop/Titanium_Studio_2.1.1_RC/Titanium_Studio_Workspace/MyProject2" "development"
   Working directory: /Users/dhyde/Desktop/Titanium_Studio_2.1.1_RC/Titanium_Studio_Workspace/MyProject2
   Environment: null
   
   !ENTRY com.appcelerator.titanium.mobile 4 0 2012-07-19 14:23:38.240
   !MESSAGE Unable to generate Mobile Web App. Error:
   
   [INFO] Titanium Mobile Web Compiler v2.0.2.GA
   [ERROR] Unable to open titanium package manifest "/Library/Application Support/Titanium/mobilesdk/osx/2.0.2.GA/mobileweb/titanium/package.json"
   
   </pre></code></li>
<li>Dustin Hyde 2012-07-19

   I was able to reproduce this issue using only the command line.
   
   Steps:
   
   1. Run Command (change user-specific paths):
   
   <code><pre>
   dhydeMBPSnowLeopard:~ dhyde$ /Users/dhyde/Library/Application\ Support/Titanium/mobilesdk/osx/2.0.2.GA/mobileweb/builder.py /Users/dhyde/Desktop/Titanium_Studio_2.1.1_RC/Titanium_Studio_Workspace/MyProject2 development
   </pre></code>
   
   Actual Result:
   
   SDK Install Path is hard-coded:
   
   <code><pre>
   [ERROR] Unable to open titanium package manifest "/Library/Application Support/Titanium/mobilesdk/osx/2.0.2.GA/mobileweb/titanium/package.json"
   </pre></code></li>
<li>Allen Yeung 2012-09-25

   Won't fix this since it's low priority and will be replaced with the new CLI.</li>
<li>Allen Yeung 2012-09-25

   The new CLI will include all ios/android/mobile web related fixes.</li>
<li>Allen Yeung 2012-09-25

   Assigning to Chris to take this into account for the new CLI</li>
<li>Lokesh Choudhary 2012-12-06

   Moved the titanium folder to desktop, changed the path in studio ran in android simulator,iOS simulator & mobileweb preview in browser & everything worked as expected.
   
   Titanium studio : 3.0.0.201211301903
   SDK Version  : 3.0.0.v20121204154658
   CLI version : 3.0.19
   OS : OSX 10.8.2</li>
</ol>


<p><a href="/TIMOB/TIMOB-10048.json">JSON Source</a></p>