---
title: "[TIMOB-10066] Android: Allow for transparent activities"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Hold</td></tr>
<tr><th>Resolution Date</th><td>2012-12-11T18:40:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>2012 Sprint 25, 2012 Sprint 25 API</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api</td></tr>
<tr><th>Reporter</th><td>Rick Blalock</td></tr>
<tr><th>Assignee</th><td>Karl Rowley</td></tr>
<tr><th>Created</th><td>2012-07-20T15:55:40.000+0000</td></tr>
<tr><th>Updated</th><td>2013-03-30T16:47:44.000+0000</td></tr>
</table>

<h3>Description</h3>

We need a way to have a transparent activity on top of another app.  Here is some information:

<a href="http://abtandroid.blogspot.com/2011/08/small-tutorial-on-creating-transparent.html" rel="nofollow" target="_blank">http://abtandroid.blogspot.com/2011/08/small-tutorial-on-creating-transparent.html</a>
<a href="http://www.coderzheaven.com/2011/07/20/how-to-create-a-transparent-activity-in-android/" rel="nofollow" target="_blank">http://www.coderzheaven.com/2011/07/20/how-to-create-a-transparent-activity-in-android/</a>

An app that does something similar to what the customer wants to do:  <a href="https://play.google.com/store/apps/details?id=at.neiti.scribblesmart" rel="nofollow" target="_blank">https://play.google.com/store/apps/details?id=at.neiti.scribblesmart</a>
Here is the source: <a href="https://github.com/mneubrand/scribble-smart" rel="nofollow" target="_blank">https://github.com/mneubrand/scribble-smart</a>

This possibly is a module request or is even possible just with the theme manifests.  If so I'll need some guidance on the best way to tackle this.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10066_29978/Archive.zip">Archive.zip</td></td><td>2012-07-23T16:58:01.000+0000</td><td>750636</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10066_29975/IMG_3009.MOV">IMG_3009.MOV</td></td><td>2012-07-23T15:38:13.000+0000</td><td>1814938</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2012-08-06

   Moving to sprint 17. Trading for some 2.1.2 requests</li>
<li>Neeraj Gupta 2012-08-09

   De-prioritizing this feature based on the discussion with services team.</li>
<li>Karl Rowley 2012-11-01

   Here's an example of a transparent activity.  
   
   <code><pre>
   package com.alert;
   
   import android.app.Activity;
   import android.content.Intent;
   import android.os.Bundle;
   import android.util.Log;
   import android.view.Gravity;
   import android.view.View;
   import android.view.View.OnClickListener;
   import android.view.Window;
   import android.view.WindowManager;
   import android.widget.Button;
   
   public class ServicesDemo extends Activity implements OnClickListener {
     private static final String TAG = "ServicesDemo";
     Button buttonStart, buttonStop;
   
     @Override
     public void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       
       Window window = getWindow();
       
       window.setLayout(100, 100);
       window.setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL,
               WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL);
       window.setGravity(Gravity.LEFT);
       window.setContentView(R.layout.main)
       
     }
   
   @Override
   public void onClick(View v) {
   	// TODO Auto-generated method stub
   	
   }
    
   }
   </pre></code>
   
   
   layout/main.xml:
   <code><pre>
   &lt;?xml version="1.0" encoding="utf-8"?&gt;
   &lt;FrameLayout xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"
       android:id="@+id/FrameLayout1"
       android:layout_width="100dp"
       android:layout_height="100dp" &gt;
   
       &lt;Button
           android:id="@+id/button1"
           android:layout_width="match_parent"
           android:layout_height="match_parent"
           android:layout_gravity="top"
           android:text="Button" /&gt;
   
   &lt;/FrameLayout&gt;
   </pre></code>
   
   values/styles.xml:
   
   <code><pre>
   &lt;resources&gt;
   
       &lt;style name="AppTheme" parent="android:Theme.Light" /&gt;
     &lt;style name="Theme.Transparent" parent="android:Theme"&gt;
       &lt;item name="android:windowIsTranslucent"&gt;true&lt;/item&gt;
       &lt;item name="android:windowBackground"&gt;@android:color/transparent&lt;/item&gt;
       &lt;item name="android:windowContentOverlay"&gt;@null&lt;/item&gt;
       &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;
       &lt;item name="android:windowIsFloating"&gt;true&lt;/item&gt;
       &lt;item name="android:backgroundDimEnabled"&gt;false&lt;/item&gt;
     &lt;/style&gt;
   &lt;/resources&gt;
   </pre></code>
   
   AndroidManifest.xml:
   <code><pre>
   &lt;manifest xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"
       package="com.alert"
       android:versionCode="1"
       android:versionName="1.0" &gt;
   
       &lt;uses-sdk
           android:minSdkVersion="8"
           android:targetSdkVersion="15" /&gt;
       
       &lt;application
           android:icon="@drawable/ic_launcher"
           android:label="@string/app_name"
           android:theme="@style/Theme.Transparent" &gt;
           &lt;activity
               android:name=".ServicesDemo"
               android:label="@string/title_activity_main" &gt;
               &lt;intent-filter&gt;
                   &lt;action android:name="android.intent.action.MAIN" /&gt;
   
                   &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
               &lt;/intent-filter&gt;
           &lt;/activity&gt;
          
       &lt;/application&gt;
       
    
   
   &lt;/manifest&gt;
   </pre></code></li>
<li>Karl Rowley 2012-11-02

   Here's a transparent activity that's started from a broadcast receiver
   (listening for changes to phone state):
   
   <code><pre>
   package com.phone;
   
   import android.app.Activity;
   import android.content.Intent;
   import android.os.Bundle;
   import android.util.Log;
   import android.view.Gravity;
   import android.view.View;
   import android.view.View.OnClickListener;
   import android.view.Window;
   import android.view.WindowManager;
   import android.widget.Button;
   
   public class ButtonActivity extends Activity implements OnClickListener {
     private static final String TAG = "ServicesDemo";
     Button buttonStart, buttonStop;
   
     @Override
     public void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
   
       
       Window window = getWindow();
       
       window.setLayout(100, 100);
       window.setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL,
               WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL);
       window.setGravity(Gravity.LEFT);
       window.setContentView(R.layout.main);
       
     }
   
   @Override
   public void onClick(View v) {
   	// TODO Auto-generated method stub
   	
   }
    
   }
   </pre></code>
   
   <code><pre>
   package com.phone;
   
   import android.app.Activity;
   import android.content.BroadcastReceiver;
   import android.content.Context;
   import android.content.Intent;
   import android.util.Log;
   
   public class IncomingReceiver extends BroadcastReceiver {
   
   	
       @Override
       public void onReceive(Context context, Intent intent) {
    
         
               Log.i("com.phone", "onReceive");
               try {
               	
               
               	Intent activityIntent = new Intent(context, ButtonActivity.class);
               	activityIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
               	context.startActivity(activityIntent);
               	Log.i("com.phone", "Started activity");
               }
               catch (Exception exp) {
               	Log.i("com.phone", "Caught exception trying to start activity " + exp.toString());
               }
   
       }
   
   
   }
   </pre></code>
   
   <code><pre>
   &lt;?xml version="1.0" encoding="utf-8"?&gt;
   &lt;FrameLayout xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"
       android:id="@+id/FrameLayout1"
       android:layout_width="100dp"
       android:layout_height="100dp" &gt;
   
       &lt;Button
           android:id="@+id/button1"
           android:layout_width="match_parent"
           android:layout_height="match_parent"
           android:layout_gravity="top"
           android:text="Button" /&gt;
   
   &lt;/FrameLayout&gt;
   </pre></code>
   
   <code><pre>
   &lt;resources&gt;
   
       &lt;style name="AppTheme" parent="android:Theme.Light" /&gt;
     &lt;style name="Theme.Transparent" parent="android:Theme"&gt;
       &lt;item name="android:windowIsTranslucent"&gt;true&lt;/item&gt;
       &lt;item name="android:windowBackground"&gt;@android:color/transparent&lt;/item&gt;
       &lt;item name="android:windowContentOverlay"&gt;@null&lt;/item&gt;
       &lt;item name="android:windowNoTitle"&gt;true&lt;/item&gt;
       &lt;item name="android:windowIsFloating"&gt;true&lt;/item&gt;
       &lt;item name="android:backgroundDimEnabled"&gt;false&lt;/item&gt;
     &lt;/style&gt;
   &lt;/resources&gt;
   </pre></code>
   
   AndroidManifest.xml
   <code><pre>
   &lt;?xml version="1.0" encoding="utf-8"?&gt;
   &lt;manifest xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"
         package="com.phone"
         android:versionCode="1"
         android:versionName="1.0"&gt;
       &lt;application  android:label="@string/app_name"
           android:theme="@style/Theme.Transparent"&gt;
   
   		&lt;receiver android:name=".IncomingReceiver" android:enabled="true"&gt;
   		    &lt;intent-filter&gt;
   				&lt;action android:name="android.intent.action.PHONE_STATE"&gt;&lt;/action&gt;
   			&lt;/intent-filter&gt;
   		&lt;/receiver&gt;
   		
   		&lt;activity
               android:name=".ButtonActivity"
               android:launchMode="singleTask" 
               android:label="@string/title_activity_main" &gt;
   		                    &lt;intent-filter&gt;
                       &lt;action android:name="android.intent.action.MAIN"/&gt;
                   &lt;/intent-filter&gt;
           &lt;/activity&gt;
   
       &lt;/application&gt;
       &lt;uses-sdk android:minSdkVersion="3" /&gt;
   
   &lt;uses-permission android:name="android.permission.READ_PHONE_STATE"&gt;&lt;/uses-permission&gt;
   &lt;/manifest&gt;
   
   </pre></code></li>
<li>Karl Rowley 2012-11-05

   A Javascript version of the transparent activity would look 
   something like the following.  A problem here is that the 
   activity in the background does not show through -- I am not 
   sure how to bypass the splash screen here so that the existing 
   activity shows.
   
   <code><pre>
   var win = Titanium.UI.createWindow({
           id: "propertyWindow",
           title: "My New Window",
           modal: true,
           width:100,
           height: 100,
           top: 100,
           left: 0, 
           full: false,
           opacity: 0.5,
           topMost: true,
           visible: true,
           transparentBackground: true,
           transparency: true
       });
       
       var button = Titanium.UI.createButton({title: "Button"});
       button.height=100;
       button.width=100;
       button.left=0;
       button.top=100;
       win.add(button);
       
   win.width=100;
   win.height=100;
   win.left=0;
   win.top=100;
   win.open();
   
   </pre></code></li>
<li>Ingo Muschenetz 2012-11-06

   Module needs to be be 2.1.X compatible (and should also work on 3.0.0). Once we've figured out for sure this is a module item, be can move the ticket and remove the merge tags.</li>
<li>Ingo Muschenetz 2012-11-19

   Should we resolve this ticket as "on hold" until the module is done?</li>
<li>Martin Guillon 2013-03-30

   That's actually already possible. I already do it.
   You only need to use android theming system.
   Use a style like this
   
   <style name="AppTheme" parent="AppBaseTheme">
       <item name="android:windowIsTranslucent">true</item>
       <item name="android:windowBackground">@android:color/transparent</item>
       <item name="android:windowContentOverlay">@null</item>
       <item name="android:backgroundDimEnabled">false</item>
   </style>
   
   And it will give you a transparent window</li>
</ol>


<p><a href="/TIMOB/TIMOB-10066.json">JSON Source</a></p>