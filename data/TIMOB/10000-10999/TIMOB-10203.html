---
title: "[TIMOB-10203] iOS: Map Annotation image cannot be changed dynamically"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-08-14T09:09:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-15 API, Release 2.1.2, Release 3.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, module_map, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Pedro Enrique</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2012-07-26T18:59:59.000+0000</td></tr>
<tr><th>Updated</th><td>2012-08-14T09:09:55.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>The problem</h4>
The map annotations can be represented by an image with the "image" property. That image cannot be dynamically changed.

<h4>The test case:</h4>
<code><pre>
var changeButton = Ti.UI.createButton({
	title: 'change colour'
});
var win = Ti.UI.createWindow({
	rightNavButton: changeButton
});

var map = Ti.Map.createView({
	userLocation:false,
	animate: true,
	region: {
		latitude:12,
		longitude:12,
		latitudeDelta:1,
		longitudeDelta:1
	}
});

var annot = Ti.Map.createAnnotation({
	latitude:12,
	longitude:12,
	image: 'blue.png'
});

map.addAnnotation(annot);

win.add(map);
win.open({modal: true});

var isBlue = true;

changeButton.addEventListener('click', function(e){
	annot.image = isBlue ? 'yellow.png' : 'blue.png';
	isBlue = !isBlue;
});
</pre></code>

<h4>To reproduce:</h4>
1. Copy and paste this code to app.js
2. Run the app and you'll see a blue pin
3. Click the right navigation button
4. The blue pin is still blue - it did not change to yellow.

(Attached are the two images)

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10203_30100/blue.png">blue.png</td></td><td>2012-07-26T18:59:59.000+0000</td><td>2457</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10203_30101/yellow.png">yellow.png</td></td><td>2012-07-26T18:59:59.000+0000</td><td>2241</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Pedro Enrique 2012-07-26

   Pull request ready: [2648](<a href="https://github.com/appcelerator/titanium_mobile/pull/2648)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2648)</a></li>
<li>Ivan Markovic 2012-07-27

   Really hoping that this is a quick fix. I have 6 Apps that are waiting behind this issue. They are for Estate Agents here in the UK and as they sell houses, it's all about Maps and locations and showing pin selection is important. Thanks.</li>
<li>Shyam Bhadauria 2012-08-10

   Re-opening to edit label</li>
<li>Vishal Duggal 2012-08-14

   Reopening to add fixVersion</li>
<li>Vishal Duggal 2012-08-14

   Closing after adding fixVersion</li>
</ol>


<p><a href="/TIMOB/TIMOB-10203.json">JSON Source</a></p>