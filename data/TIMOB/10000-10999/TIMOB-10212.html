---
title: "[TIMOB-10212] AudioPlayer lacks duration function"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-04-03T20:02:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0, Release 3.1.2</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 07, 2014 Sprint 07 SDK, Release 3.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>community, module_media, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Yue Ming Wang</td></tr>
<tr><th>Assignee</th><td>Pedro Enrique</td></tr>
<tr><th>Created</th><td>2012-07-20T23:30:56.000+0000</td></tr>
<tr><th>Updated</th><td>2014-07-01T03:56:56.000+0000</td></tr>
</table>

<h3>Description</h3>

AudioPlayer lacks duration function.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10212_30102/4fa7ea4a3a111f50b8c4a84e19d5ca26.png">4fa7ea4a3a111f50b8c4a84e19d5ca26.png</td></td><td>2012-07-26T19:17:06.000+0000</td><td>162513</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Varun Joshi 2012-07-26

   Hi,
   
   What is the functionality that you are trying to implement? Can you not have a counter in the Javascript code itself to get the duration of the audio player?
   
   Thanks,
   Varun</li>
<li>Yue Ming Wang 2012-07-26

   A customized radio player which implements online stream playing and could display the the total time length, also known as duration, and the progress.</li>
<li>Yue Ming Wang 2012-07-26

   I need to get the duration just in the beginning rather than the end of playing with a counter in js.</li>
<li>Sam Cleaver 2013-06-22

   Affects: Release 3.1.1GA iOS
   +1 For this. Getting the full duration at the start of a track is a critical feature in any streaming application. A pull-request was put in a while ago for this with a bunch of other additional features for the audioplayer; I've manually merged and tested these which work fine so its definitely feasible to implement this with little additional work. As a developer its frustrating having to manually fork and then update/re-fork just because what should be minor features are missing from the sdk.</li>
<li>Ingo Muschenetz 2013-06-26

   [~scleaver] Do you have a link to that PR? I seem to be unable to find the one you are referring to.</li>
<li>Sam Cleaver 2013-06-26

   Sure, it was <a href="https://github.com/appcelerator/titanium_mobile/pull/86" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/86</a>
   It's quite a mess which I guess is why it was never pulled in; took a couple of hours to do the manual merge (going through the diffs and picking out the right/relevant changes). If it would expedite this feature I can re-fork off the latest master and apply the changes and submit a clean pull request?</li>
<li>Ingo Muschenetz 2013-06-26

   [~scleaver] Yes, that would be most appreciated. I think one issue is that gerry3 doesn't appear to have signed the CLA, so I don't believe we can legally accept his code without it, even if you clean it up. Let me see if I can get him to do so. You'll need to sign the CLA as well: <a href="https://appcelerator.echosign.com/public/hostedForm?formid=25LBTXJ55452R" rel="nofollow" target="_blank">https://appcelerator.echosign.com/public/hostedForm?formid=25LBTXJ55452R</a></li>
<li>Sam Cleaver 2013-06-26

   I've just submitted my signed CLA, if you could post back when/if gerry3 gives a response that'd be great.</li>
<li>Ingo Muschenetz 2013-06-27

   [~scleaver] gerry3 signed the CLA, so we should be all set.</li>
<li>Sam Cleaver 2013-06-27

    Great to hear, I'll look to fork off master branch over the weekend and perform the integration again. I don't expect there to be any issues but will report back on progress (and certainly when I put in a PR).</li>
<li>Sam Cleaver 2013-06-29

    [~ingo] Have created a PR for the change: <a href="https://github.com/appcelerator/titanium_mobile/pull/4427" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4427</a> have also created parity PR for Android at <a href="https://github.com/appcelerator/titanium_mobile/pull/4428." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4428.</a> Both only required minor changes so should be relatively low risk. 
    
    With these additions, seeking a track is also now possible which, in my opinion, is also a core feature of an audio player application. gerry3 implemented this in his previous mammoth PR and I've separately implemented this feature on Android before, should I open a separate JIRA for this with a view to submitting a PR for this?</li>
<li>Ingo Muschenetz 2013-07-01

    [~scleaver] That's great. Thanks! Would you mind adding a small test case so we know how to test the functionality works? See [Creating a test case](<a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/guide/How_to_Submit_a_Bug_Report-section-29004732_HowtoSubmitaBugReport-CreatingaTestCase). As to the second functionality, yes, a separate JIRA is preferred.</li>
<li>Sam Cleaver 2013-07-03

    [~ingo] Sorry for the delay, will try and get the test cases done by the end of this week (for iOS and Android respectively).</li>
<li>Betty Tran 2013-09-11

    [~scleaver] any progress on the test cases? </li>
<li>Þórhallur Helgason 2013-09-11

    I'm also anxiously waiting for this one to be resolved, would save me a lot of trouble and hassle trying to find an alternative method... :)</li>
<li>Sam Cleaver 2013-09-24

    [~btran] Apologies for the delay, combination of travelling/new job. I've been trying to get this done for the past few days but came up against numerous Titanium Studio issues which resulted in me having to fully reinstall everything (I suspect something went wrong with Nodejs somewhere). Even now I'm being plagued by a mysterious "Waiting for SD card to become available..." when trying to run Android which means waiting 60 seconds for it to timeout (after which it runs fine) so obviously thats slowing things also. </li>
<li>David van de Meer 2013-09-26

    Sam Cleaver I am really looking for these features to be added to Titanium - I am willing to help out where I can. Thanks for the great work!</li>
<li>Sam Cleaver 2013-09-26

    [~btran] [~ingo] I've added an additional commit to my iOS pull request to tidy things up (fix some deprecation, parity issues). Seems you can't add attachments in comments so I've created a gist for the test case at: <a href="https://gist.github.com/samcleaver/6720370" rel="nofollow" target="_blank">https://gist.github.com/samcleaver/6720370</a>
    The same test case should work with iOS and Android but obviously you'll need to merge the commits in either off the Android or iOS branches I created in the respective pull requests. I've tested on both iOS 6 and Android 4.3.</li>
<li>David van de Meer 2013-10-09

    Ingo Muschenetz - Now that it is marked as fixed in Release 3.3.0 - How would we go about adding this to our Titanium SDK?　Should we wait for the official 3.3.0 release (When is this planned?) Should we use the nightly builds? Or is there a better way? Thanks for all the amazing work!</li>
<li>Ingo Muschenetz 2013-10-09

    [~dieskim] Just a note--it's not fixed yet. It's scheduled _to be fixed_ in 3.3.0.</li>
<li>Brandon West 2013-11-13

    Please get this fixed; we are desperately needing these critical features. Thanks for the hard work!</li>
<li>Satyam Sekhri 2014-04-29

    The audioPlayer duration is shown.
    Verified on:
    Appc Studio: 3.3.0.201404211130 
    SDK build: 3.3.0.v20140422163054 
    alloy: 1.4.0-dev 
    CLI: titanium-3.3.0-dev 
    titanium-code-processor:1.1.1-beta1 
    Xcode: 5.1.1 
    Osx: 10.9.2 
    Device: Nexus 5 (4.4.2), iPhone4 (7.1)</li>
<li>Keylo E. 2014-07-01

    I don't see this in the release candidate. Please tell us it is.</li>
</ol>


<p><a href="/TIMOB/TIMOB-10212.json">JSON Source</a></p>