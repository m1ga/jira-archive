---
title: "[TIMOB-10234] iOS: Platform > XHR > File Download: 'Large File Download' after downloading file leads to crash."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-07-19T09:44:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.0, Sprint 2012-18 Core, 2012 Sprint 18</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>core, qe-ios070112, qe-newKS, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Evgenii Tcarev</td></tr>
<tr><th>Assignee</th><td>Max Stepanov</td></tr>
<tr><th>Created</th><td>2012-07-30T11:25:46.000+0000</td></tr>
<tr><th>Updated</th><td>2013-07-19T09:44:53.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:
After completing the large file download, KitchenSink crashes. Device logs are attached.

This is a regression it doesn't occur on SDK 2.0.1.GA2

Steps to reproduce:
1) Launch refactored Kitchen Sink (Kevin Winnerey/Developer relations version) > Platform > XHR > File Download
2) â€¨Tap on 'Large File Download.

Actual results:
Afte complete downloading the application crashes.

Expected results:
Large File should be successfully downloaded. 

Note:
According to recent investigations, this also affects Android

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10234_30136/Crash_Log_1.rtf">Crash_Log_1.rtf</td></td><td>2012-07-30T11:40:21.000+0000</td><td>26099</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10234_30150/Screenshot 2012.07.30 10.11.28.png">Screenshot 2012.07.30 10.11.28.png</td></td><td>2012-07-30T15:48:53.000+0000</td><td>172879</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10234_30134/XHR_File_Download_crash.rtf">XHR_File_Download_crash.rtf</td></td><td>2012-07-30T11:25:46.000+0000</td><td>1472</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Evgenii Tcarev 2012-07-30

   When device goes sleep during downloading see an error: "Error Domain=ASIHTTPRequestErrorDo main Code=2 "The request timed out" UserInfo=0x18a13e0 {NSLocalisedDescription=The request time out}. Screenshot is attached. 
   
   Tested on:
   iPhone 4 (5.1), iPad2 (5.1)
   Titanium Studio, build: 2.1.1.201207171343
   SDK version: 2.1.1.v20120727140110</li>
<li>Max Stepanov 2012-07-30

   Regression caused by <a href="https://github.com/appcelerator/titanium_mobile/commit/ef06d63806e036de0b1cc647e1fe079048a99845" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/ef06d63806e036de0b1cc647e1fe079048a99845</a></li>
<li>Max Stepanov 2012-07-30

   Decoding random binary data with NSISOLatin1StringEncoding causes application crash.</li>
<li>Evgenii Tcarev 2012-07-31

   Can't Reproduce with build of refactored Kitchen Sink (Kevin Winnerey/Developer relations version) at 07-31-12
   Tested on:
   iPhone4 (5.1), iPad2 (4.3.5)
   Titanium Studio, build: 2.1.1.201207271312
   SDK version: 2.1.1.v20120727140110</li>
<li>Max Stepanov 2012-09-06

   Test file has been updated from binary to test, so decoding could handle it.</li>
<li>Olga Romero 2012-11-29

   Reopened due to the same issue on iPhone5 iOS6.0
   
   Tested on:
   Titanium Studio, build: 3.0.0.201211271925
   Titanium SDK, build: 3.0.0.v20121121161553
   Device:
   iPhone5 iOS 6.0</li>
<li>Max Stepanov 2012-11-29

   Any crash logs ?</li>
<li>Olga Romero 2012-11-29

   Looks like I have to close it, reloaded, relaunched, refreshed. Cannot reproduce it:)
   My apology for the fals alarm:) </li>
<li>Anshu Mittal 2013-07-19

   Reopening to update labels</li>
</ol>


<p><a href="/TIMOB/TIMOB-10234.json">JSON Source</a></p>