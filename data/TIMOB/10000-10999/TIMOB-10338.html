---
title: "[TIMOB-10338] Android: Opening a new tab group after closing a tab group crashes the application"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-08-21T16:45:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0, Release 2.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-17 API, Release 3.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, module_tabgroup, qe-review, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Betty Tran</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-08-08T07:13:40.000+0000</td></tr>
<tr><th>Updated</th><td>2012-09-10T03:55:24.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

When closing a tab group followed by creating and opening a new tab group, the application crashes.

<h4>Steps to reproduce</h4>

1. The app starts and the first tab group is opened
2. Click on the button to close the first tab group and create and open another tab group
3. Application crashes

<h4>Code to reproduce</h4>

<code><pre>
var rootWin = Ti.UI.createWindow({
	backgroundColor : 'pink',
	exitOnClose : true,
	navBarHidden : true
});

rootWin.open();

var tabGroup = Ti.UI.createTabGroup();

var win1 = Ti.UI.createWindow({
	backgroundColor : 'orange'
});


var aButton = Ti.UI.createButton({
	title : 'Button',
	height : Ti.UI.SIZE,
	width : Ti.UI.SIZE
});


aButton.addEventListener('click', function() {

	tabGroup.close();
	tabGroup = null;

	var tabGroup2 = Ti.UI.createTabGroup();

	var win21 = Ti.UI.createWindow({
		backgroundColor : 'orange'
	});

	var tab21 = Ti.UI.createTab({
		window : win21
	});

	tabGroup2.addTab(tab21);

	tabGroup2.open();
});

win1.add(aButton);

var win2 = Ti.UI.createWindow({
	backgroundColor : 'lime'
});

var tab1 = Ti.UI.createTab({
	window : win1
});
var tab2 = Ti.UI.createTab({
	window : win2
});

tabGroup.addTab(tab1);
tabGroup.addTab(tab2);

tabGroup.open();

</pre></code>

<h4>Expected behavior </h4>

First tab group is closed and new tab group is opened.

<h4>Actual behavior</h4>

Application crashes 




Please find attached the crash log.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-10338_30349/log.txt">log.txt</td></td><td>2012-08-08T07:14:43.000+0000</td><td>17890</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Opie Cyrus 2012-08-16

   Window open is an asynchronous operation and it is not safe to assume that the Tab Group will not be opened as the root activity for the task.  Both the window and tab group are basically in a race to be the root activity.  If a true chaining is desired (first window then tab group), it is possible to open the tab group once the window has been opened via open event listener.  The default behavior of the application should be to exit when the root activity is closed. </li>
<li>Anshu Mittal 2012-09-10

   Verified on:
   SDK: 2.2.0.v20120907162025
   STUDIO: 2.1.3.201209071738
   Devices: Samsung galaxy note(v 2.3.6), iOS simulator
   
   According to Opie Cyrus comment,tab group is opened after window is opened via open event listener. Following code is being used to test the scenario:
   
   
   var rootWin = Ti.UI.createWindow({
       backgroundColor : 'pink',
       exitOnClose : true,
       navBarHidden : true
   });
    
   
    
    rootWin.addEventListener('open', function(e)
     {
       
       var tabGroup = Ti.UI.createTabGroup();
    
   var win1 = Ti.UI.createWindow({
       backgroundColor : 'orange'
   });
    
    
   var aButton = Ti.UI.createButton({
       title : 'Button',
       height : Ti.UI.SIZE,
       width : Ti.UI.SIZE
   });
    
    
   aButton.addEventListener('click', function() {
    
       tabGroup.close();
       tabGroup = null;
    
       var tabGroup2 = Ti.UI.createTabGroup();
    
       var win21 = Ti.UI.createWindow({
           backgroundColor : 'orange'
       });
    
       var tab21 = Ti.UI.createTab({
           window : win21
       });
    
       tabGroup2.addTab(tab21);
    
       tabGroup2.open();
   });
    
   win1.add(aButton);
    
   var win2 = Ti.UI.createWindow({
       backgroundColor : 'lime'
   });
    
   var tab1 = Ti.UI.createTab({
       window : win1
   });
   var tab2 = Ti.UI.createTab({
       window : win2
   });
    
   tabGroup.addTab(tab1);
   tabGroup.addTab(tab2);
    
   tabGroup.open();
   
       });
   rootWin.open();
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-10338.json">JSON Source</a></p>