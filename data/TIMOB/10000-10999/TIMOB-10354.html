---
title: "[TIMOB-10354] iOS: Camera overlay rendering issues "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-08-14T11:15:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0, Release 2.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-16 API, Release 2.1.2, Release 3.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, qe-port</td></tr>
<tr><th>Reporter</th><td>Nikhil Sharma</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-08-08T14:42:29.000+0000</td></tr>
<tr><th>Updated</th><td>2014-04-03T16:42:12.000+0000</td></tr>
</table>

<h3>Description</h3>

There is a problem rendering views on a camera overlay. Please find the image attached.
<h4>Repo Steps</h4>
1. Run the below code in app.js
2. Tap the "Open Button" and it will open the casmera with custom overlay.
3. First time everything looks good. Tap the close button.
4. Again tap the "Open Button" and now you'll see the icon on the shutter button will be moved above the close button.    

<code><pre>
/*jslint white:true plusplus:true nomen:true vars:true sloppy:true undef:false*/

var win1 = Titanium.UI.createWindow();

var openCameraButton = Titanium.UI.createButton({
	title : 'Open Camera',
	width : 120,
	height : 40
});

win1.add(openCameraButton);

var overlayView = Ti.UI.createView({
	backgroundColor : 'transparent'
});

var closeButton = Ti.UI.createButton({
	title : 'Close',
	width : 60,
	height : 40,
	bottom : 0,
	left : 0
});

closeButton.addEventListener('click', function() {
	Ti.Media.hideCamera();
});

var shutterButton = Ti.UI.createButton({
	touchEnabled : true,
	width : 100,
	height : 40,
	bottom : 5
});
var shutterButtonIcon = Ti.UI.createImageView({
	image : 'ShutterIcon.png',
	width : 26,
	height : 21
});

shutterButton.add(shutterButtonIcon);
overlayView.add(closeButton);
overlayView.add(shutterButton);

openCameraButton.addEventListener('click', function() {
	Ti.Media.showCamera({
		success : function(event) {
			Ti.API.info('Camera success event received.');
		},
		cancel : function(event) {
			Ti.API.info('Camera cancel event received.', 2);
		},
		error : function(error) {
			Ti.API.info('Camera error event received.', 2);
		},
		overlay : overlayView,
		transform : Ti.UI.create2DMatrix(),
		allowEditing : false,
		saveToPhotoGallery : false,
		mediaTypes : Ti.Media.MEDIA_TYPE_PHOTO,
		showControls : false,
		autohide : false,
		animated : true
	});
});

win1.open();

</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10354_30368/ShutterIcon.png">ShutterIcon.png</td></td><td>2012-08-08T14:42:29.000+0000</td><td>3629</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10354_30373/ShutterIcon 2.png">ShutterIcon 2.png</td></td><td>2012-08-08T16:37:29.000+0000</td><td>3555</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2012-08-09

   Pull pending <a href="https://github.com/appcelerator/titanium_mobile/pull/2712" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2712</a></li>
<li>Evgenii Tcarev 2012-08-10

   Verified fixed with
   Titanium Studio, build: 2.1.1.201207271312
   Titanium SDK, build: 2.2.0.v20120810080115
   Device:
   iPhone 4s (5.1.1)</li>
<li>Vishal Duggal 2012-08-10

   Reopening to adjust estimates</li>
<li>Vishal Duggal 2012-08-10

   Closing after adjusting estimates</li>
<li>Sabil Rahim 2012-08-14

   Reopening to update Fixversion label to Release 2.1.2</li>
</ol>


<p><a href="/TIMOB/TIMOB-10354.json">JSON Source</a></p>