---
title: "[TIMOB-10370] Android: md5HexDigest hashing behaviour is inconsistent with other systems"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-05-26T13:36:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.1, Release 3.1.0, Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>core, exalture</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Sunila</td></tr>
<tr><th>Created</th><td>2012-08-09T09:23:22.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-27T18:33:30.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
Creating an md5sum of a text-like file that does not conform exactly to UTF-8 produces a different hash from mac or linux systems, reducing its use as file validation.

<h4>Steps to reproduce</h4>
Mac and Ubuntu systems both give the following MD5 sum for the attached file:
MD5 (init5.js) = 693e9af84d3dfcc71e640e005bdc5e2e

using the following titanium code:

<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor:'white'
});

win.addEventListener('click', function() {
	var file = Titanium.Filesystem.getFile("init5.js");
	var blob = file.read();
	var md5sum = Titanium.Utils.md5HexDigest(blob);
	Ti.API.info("md5 is  " + md5sum);
	alert(md5sum);
});

win.open();
</pre></code>

produces a different MD5 output (on both Android and iOS) = d41d8cd98f00b204e9800998ecf8427e , different from the one generated from Mac OS X or Ubuntu Linux

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-10370_30396/init5.js">init5.js</td></td><td>2012-08-09T09:24:34.000+0000</td><td>3</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-10370_36514/iOS Simulator Screen shot Mar 21, 2013 2.34.40 PM.png">iOS Simulator Screen shot Mar 21, 2013 2.34.40 PM.png</td></td><td>2013-03-21T09:35:35.000+0000</td><td>41211</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-10370_36517/Screenshot_2013-03-21-14-38-28.png">Screenshot_2013-03-21-14-38-28.png</td></td><td>2013-03-21T09:39:25.000+0000</td><td>28887</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Shameer Jan 2013-03-21

   Android  MD5 sum : d41d8cd98f00b204e9800998ecf8427e,
   but it shows error on iphone emulator(see screen shot). Attached code(init5.js) is empty </li>
<li>Sunila 2013-05-26

   Tried with 3.2.0, cannot reproduce.</li>
<li>Lee Morris 2017-03-27

   Closing ticket as I am unable to reproduce this issue with the following environment;
   Pixel (7.1)
   MacOS 10.11.6 (15G31)
   Studio 4.8.1.201612050850
   Ti SDK 6.0.3 GA
   Appc NPM 4.2.8
   Appc CLI 6.1.0
   Ti CLI 5.0.11
   Alloy 1.9.5
   Arrow 1.10.1
   Xcode 8.2 (8C38)
   Node v4.6.0
   Java 1.7.0_80</li>
</ol>


<p><a href="/TIMOB/TIMOB-10370.json">JSON Source</a></p>