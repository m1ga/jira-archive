---
title: "[TIMOB-10394] Android: Two versions of V8 are shipped"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2012-08-10T19:54:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam</td></tr>
<tr><th>Reporter</th><td>Pedro Enrique</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2012-08-10T09:27:29.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-20T22:22:30.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>The Problem</h4>
A packaged app is way too big.

<h4>Reason</h4>
Two version of V8 are shipped with the app.

<h4>To reproduce:</h4>
1. Create a new Titanium Android app
2. Build for distribution
3. Change the app.apk name (extension) to app.zip
4. Uncompress the app.zip
5. Look inside the lib folder and you'll see two v8 folders


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10394_30414/Hello World.apk">Hello World.apk</td></td><td>2012-08-10T11:08:56.000+0000</td><td>5785759</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10394_30412/Screen Shot 2012-08-10 at 12.22.41 PM.png">Screen Shot 2012-08-10 at 12.22.41 PM.png</td></td><td>2012-08-10T09:27:29.000+0000</td><td>34522</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Michael Belkin 2012-08-10

   Apk size is hugely important for google play's rankings and customer retention (many people delete the largest apps on their phone when storage is low).  Titanium apps are always huge and a 5.5mb reduction would be extremely valuable.  Really hoping for an update/fix for this soon!</li>
<li>Josh Roesslein 2012-08-10

   TIMOB-7474 is a feature to allow selecting which ABI version to package with your application. This could be used to reduce the APK size if supporting only one ABI is acceptable for your application.</li>
<li>Bill Dawson 2012-08-10

   Most applications don't ship with a Javascript runtime. :)  It is, of course, the very nature of Titanium that we have to do that.
   
   It's common practice to ship both the armeabi and the armeabi-v7a versions of a library because the latter can take advantage of newer chip architectures for (possibly) better performance.  However armeabi (v5) is compatible with the newer chipsets (not vice-versa), so you could get away with shipping just armeabi.  We have TIMOB-7474 to create that possibility.  However, making use of that opportunity (to only ship armeabi) _could_ affect performance of your app on newer devices.
   
   If you want to do comparison testing, here is a modified version of builder.py for 2.1.1 (please backup the real one if you decide to use this).  If you use this builder.py it will just package armeabi.  Try it out and put your packaged app on a newer device and see if you notice performance degradation compared to the package that gets built with the shipped builder.py.  With this modified builder.py you can also set an environment variable ANDROID_ARCH to either armeabi or armeabi-v7a (default, as I said, is armeabi).  It will package only the one you choose.</li>
<li>Marcus Olovsson 2012-08-10

   When you say that "making use of that opportunity (to only ship armeabi) could affect performance of your app on newer devices", what kind of performance hits are we talking about? Will it still be faster than running with rhino?
   
   The rather extreme change in file size has made it hard for us to move beyond 1.7.X (hard to motivate the change for clients :/), so I'll definitely look forward to trying this out.</li>
<li>Neeraj Gupta 2012-08-10

   Duplicate of TIMOB-7474.</li>
<li>Lee Morris 2017-03-20

   Closing ticket as duplicate.</li>
</ol>


<p><a href="/TIMOB/TIMOB-10394.json">JSON Source</a></p>