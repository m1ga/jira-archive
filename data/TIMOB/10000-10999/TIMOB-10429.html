---
title: "[TIMOB-10429] Android: Animate doesn't redraw label when width is larger than parent window"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-06T23:19:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 05 Core, 2013 Sprint 05</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>core, insight, module_animation, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Sam Cleaver</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2012-08-13T08:56:52.000+0000</td></tr>
<tr><th>Updated</th><td>2013-07-16T12:09:44.000+0000</td></tr>
</table>

<h3>Description</h3>

In a view there is a label whose string size is more than the view size,the label is animated to left. There is a slag to display the right side of the label. It is only displayed when the animation is over. Its getting chopped off.

Sample app.js:
<code><pre>

var win = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff'
});
var view = Ti.UI.createView({
	width:'90%',
});
var label = Titanium.UI.createLabel({
	backgroundColor:'red',
	color:'#999',
	text:'This is a paragraph. This is a paragraph. This is a paragraph.This is a paragraph.This is a paragraph.This is a paragraph.This is a paragraph.',
	wordWrap:false,
});

var animation = Titanium.UI.createAnimation({
	left:-100,
    duration:5000
}); 
animation.addEventListener('complete',function() { 
	animation.left = 0;
	label.animate(animation); });
label.animate(animation);
view.add(label);
win.add(view);

win.open();

</pre></code>

Steps to Reproduce:
1.Launch the app.
2.Notice the label getting chopped off to the right end.
3.It will displayed at the end of the animation.

Please find the four screenshots attached in series.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10429_30452/AnimateLabelBug.png">AnimateLabelBug.png</td></td><td>2012-08-13T08:56:52.000+0000</td><td>5128</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10429_30468/first.png">first.png</td></td><td>2012-08-13T17:51:53.000+0000</td><td>26907</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10429_30471/fourth.png">fourth.png</td></td><td>2012-08-13T17:51:53.000+0000</td><td>18599</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10429_30469/second.png">second.png</td></td><td>2012-08-13T17:51:53.000+0000</td><td>27368</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10429_30470/third.png">third.png</td></td><td>2012-08-13T17:51:53.000+0000</td><td>18435</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10429_30457/wordWrapFalse.png">wordWrapFalse.png</td></td><td>2012-08-13T14:23:03.000+0000</td><td>10693</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Amuktha Akkinepally 2012-08-13

   It exhibits this behavior because the wordWrap is explicitly set as false. It works fine if the wordWrap property is set as 'true'. However, wordWrap is by default set as true. In fact it is exhibiting the correct behavior. Please find the attached code.
   <code><pre>
   var win = Titanium.UI.createWindow({  
       title:'Tab 1',
       backgroundColor:'#fff'
   });
   var view = Ti.UI.createView({
   	width:'90%',
   });
   var label = Titanium.UI.createLabel({
   	backgroundColor:'red',
   	color:'#999',
   	text:'This is a paragraph. This is a paragraph. This is a paragraph.This is a paragraph.This is a paragraph.This is a paragraph.This is a paragraph.',
   	wordWrap:true,//this is what you want it to be false. It works if its true and exhibits correct behavior if it false as well.
   });
   label.animate({
   	left:100,
   	duration:500
   })
   view.add(label);
   win.add(view);
   
   win.open();
   
   </pre></code></li>
<li>Sam Cleaver 2012-08-13

   Ahh, because I'm trying to create a ticker/marquee style component I had the duration set to a high number (so it went along slowly) and going left (negative left value).
   The redraw doesn't happen until the end of the animation which isn't really a good user experience. I could use a setInterval method to move it left but that kind of defeats the purpose of having an animate function!
   
   You can see what I mean by changing the animate code to the following:
   <code><pre>
   label.animate({
   	    left:-100,
   	    duration:3000
   	})
   </pre></code></li>
<li>Amuktha Akkinepally 2012-08-13

   Sam,
   
   Could you please try this code.
   <code><pre>
   var win = Titanium.UI.createWindow({  
       title:'Tab 1',
       backgroundColor:'#fff'
   });
   var view = Ti.UI.createView({
   	width:'90%',
   });
   var label = Titanium.UI.createLabel({
   	backgroundColor:'red',
   	color:'#999',
   	text:'This is a paragraph. This is a paragraph. This is a paragraph.This is a paragraph.This is a paragraph.This is a paragraph.This is a paragraph.',
   	wordWrap:true,//this is what you want it to be false. It works if its true and exhibits correct behavior if it false as well.
   });
   // label.animate({
   	// left:-50,
       // duration:3000
   // })
   var animation = Titanium.UI.createAnimation({
   	left:-100,
       duration:3000
   }); 
   animation.addEventListener('complete',function() { 
   	animation.left = 0;
   	label.animate(animation); });
   label.animate(animation);
   view.add(label);
   win.add(view);
   
   win.open();
   </pre></code>
   
   Let me know how it goes.</li>
<li>Sam Cleaver 2012-08-13

   Okay so I guess with wordWrap set to true that makes sense. (as the width of the label is just the width of the view). 
   However if wordWrap is set to false then the width of the label is more than the width of the view. This means when you move it left it should obviously show the rest of the content. It doesn't do this until the end of the animation.
   
   I've attached an image to try and demonstrate what I mean. </li>
<li>Allen Yeung 2013-02-27

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/3911" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3911</a></li>
<li>Shyam Bhadauria 2013-03-12

   Environment used for verification -
   Titanium SDK: 3.1.0.v20130311192922
   Titanium Â Studio:3.0.2.201302151605
   Device: Samsung GALAXY Note (2.3.6) </li>
</ol>


<p><a href="/TIMOB/TIMOB-10429.json">JSON Source</a></p>