---
title: "[TIMOB-10451] Android: 'ellipsize' label property  does not work on Android 4.x"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-07-19T18:50:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.1, Release 2.1.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, api, exalture</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2012-08-15T11:57:37.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:57:35.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
The 'ellipsize' property for labels does not work on Android 4.x
The ellipsis (...) is not shown at all

<h4>Sample code to reproduce</h4>
<code><pre>
var win1 = Titanium.UI.createWindow({
    backgroundColor:'red',
    exitOnClose:true,
    title:'win1: Main Window'
});
var label1 = Ti.UI.createLabel({
    backgroundColor:'black',
    color:'white',
    ellipsize:true,
    text:'This is some text to demonstrate the use of the ellipsize property of a label(click me!) This is some text to demonstrate the use of the ellipsize property of a label(click me!)',
    height:66,
    width:200,
    font:{fontSize:16}
});
win1.add(label1);
win1.open();
</pre></code>


See attached screenshots - one is relative to Android 2.2 and other one to Android 4.x

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10451_30512/AndroidOS2.2.png">AndroidOS2.2.png</td></td><td>2012-08-15T11:57:37.000+0000</td><td>14097</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10451_30511/AndroidOS4.x.png">AndroidOS4.x.png</td></td><td>2012-08-15T11:57:37.000+0000</td><td>29284</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>sunil alachi 2012-12-15

   This looks like an Android SDK issue. Either setSingleLine or setMaxLines needs to be set on the Android textView. 
   see <a href="http://code.google.com/p/android/issues/detail?id=882" rel="nofollow" target="_blank">http://code.google.com/p/android/issues/detail?id=882</a> </li>
<li>Sunila 2013-02-21

   This is an Android SDK bug.
   Here is the link
   <a href="http://code.google.com/p/android/issues/detail?id=882" rel="nofollow" target="_blank">http://code.google.com/p/android/issues/detail?id=882</a> </li>
<li>kent hao 2013-02-23

   are you sure it's the bug of android sdk 4.x? because then i look at the link, two things are weird:
   1. the problem is issued in 2008, 5 years passed .......
   2. in the link, there's some comment(#47) say it's working perfect in 4.x</li>
<li>Sunila 2013-02-23

   This works in some special cases like if the line is set to singleLine or setMaxLines is set. In our case, we can't make the line as singleLine. To set the maxLines, the number of lines needs to be calculated dynamically which really depends on the font, spacing, text etc.
   </li>
<li>kent hao 2013-02-23

   thanks for your reply. you mentioned dynamically calculation, could you please give me some hint about how to do that? maybe it's not the proper place for Q&A, but it will be great if you give me some link.</li>
<li>Lee Morris 2017-03-29

   Closing ticket as "Not Our Bug".</li>
<li>Joshua Quick 2017-06-20

   Re-opening because this is a valid request. Especially since iOS and Windows Phone supports this.
   
   Note that the prior comments are correct. The Android OS does not support showing ellipsis when setting the Label view height. Android only supports ellipsis when setting the "lines" and "maxLines" properties. So, we would have to calculate the visible lines ourselves in Java.</li>
<li>Joshua Quick 2017-07-11

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/9211" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9211</a></li>
<li>Eric Merriman  2018-08-06

   Cleaning up older fixed tickets from 2016 and earlier. If this ticket should not have been closed, please reopen it.</li>
</ol>


<p><a href="/TIMOB/TIMOB-10451.json">JSON Source</a></p>