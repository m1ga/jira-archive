---
title: "[TIMOB-10497] iOS: Insert text at current cursor position "
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-04-08T20:58:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 07, 2014 Sprint 07 SDK, Release 3.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, module_textarea, module_textfield, qe-closed-3.3.0, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Markus Wutzler</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-08-06T01:57:09.000+0000</td></tr>
<tr><th>Updated</th><td>2014-04-24T09:26:58.000+0000</td></tr>
</table>

<h3>Description</h3>

I've tried several different ways to insert text at current cursor position but there are two major problems. First there is no possibility to get the current cursor position. On iOS there is a possibility to track this position with _change_ and _selected_ events but this is rather defective. Second problem is that (if you've inserted at correct position) the cursor will be set to the end of the text on iOS (I didn't tried on Android.

Usecase: In some kind of Twitter Application i wanna provide a '#' and a '@' button for faster writing a message.

<h3>Comments</h3>

<ol>
<li>Gabriel Lin 2012-08-30

   I really need this featureï¼Œhope you can fix it in next version!</li>
<li>Walter Zeidler 2012-09-29

   I really need this feature, too for a implementation of a Texteditor under iOS. Thank you for solve this. </li>
<li>Markus Wutzler 2012-09-29

   Yes, we need it also. We're now planning to release our app without this feature. This is bad for our customers but we didn't find a useful solution till today.</li>
<li>Vitr 2013-07-04

   We are talking about a TextArea - aren't we? I would need that feature, too! Is there at least a way to get the current cursor position, so I can scroll the containing scrollview to this position programmatically?</li>
<li>Markus Wutzler 2013-08-16

   No solution / workaround yet. :-( Only native extension possible yet.</li>
<li>Hagen Nordheim 2013-09-30

   Are there any updates on this issue?</li>
<li>Hagen Nordheim 2014-01-13

   So, will this issue be resolved by 10/Feb/14?</li>
<li>Vishal Duggal 2014-04-01

   Exposed property <code>selection</code> on TextArea and TextField to get current cursor characteristics on iOS and Android. We already have support for setSelection(start,end) on iOS and Android.
   
   Test Case
   
   <code><pre>
   var win = Ti.UI.createWindow({backgroundColor:'white',layout:'vertical',fullscreen:true});
   
   var control = Ti.UI.createView({width:Ti.UI.SIZE,height:Ti.UI.SIZE,layout:'horizontal'});
   
   var b1 = Ti.UI.createButton({title:'TEXTFIELD',right:10});
   var b2 = Ti.UI.createButton({title:'TEXTAREA',left:10});
   control.add(b1);
   control.add(b2);
   var textField = Ti.UI.createTextField({top:10,height:40, width:Ti.UI.FILL, value:'I am a text field'});
   var textArea = Ti.UI.createTextArea({top:10,height:40, width:Ti.UI.FILL, value: 'I am a text area'});
   win.add(control);
   win.add(textField);
   win.add(textArea);
   win.open();
   
   b1.addEventListener('click',function(e){
       Ti.API.info('\n\n****************');
       Ti.API.info('TEXTFIELD');
       var result = textField.selection;
       if(result == null || result == undefined) {
           Ti.API.info('NO selection info available from property');
       } else {
           Ti.API.info('PROPERTY selection start:'+result.location+' length:'+result.length);
       }
       
       var result1 = textField.getSelection();
       if(result1 == null || result1 == undefined) {
           Ti.API.info('NO selection info available from method');
       } else {
           Ti.API.info('METHOD selection start:'+result1.location+' length:'+result1.length);
       }
       Ti.API.info('****************');
   })
   
   
   b2.addEventListener('click',function(e){
       Ti.API.info('\n\n----------------------');
       Ti.API.info('TEXTAREA');
       var result = textArea.selection;
       if(result == null || result == undefined) {
           Ti.API.info('NO selection info available from property');
       } else {
           Ti.API.info('PROPERTY selection start:'+result.location+' length:'+result.length);
       }
       
       var result1 = textArea.getSelection();
       if(result1 == null || result1 == undefined) {
           Ti.API.info('NO selection info available from method');
       } else {
           Ti.API.info('METHOD selection start:'+result1.location+' length:'+result1.length);
       }
       Ti.API.info('----------------------');
   })
   </pre></code></li>
<li>Vishal Duggal 2014-04-01

   Pull pending against master
   <a href="https://github.com/appcelerator/titanium_mobile/pull/5568" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5568</a></li>
<li>Neha Mittal 2014-04-23

    Verified fix with below environment:
    
    Appc Studio: 3.3.0.201404211130
    SDK build: 3.3.0.v20140422163054
    acs: 1.0.14
    npm: 1.3.2
    alloy: 1.4.0-dev
    CLI: titanium-3.3.0-dev
    titanium-code-processor:1.1.1-beta1
    Xcode: 5.1.1
    Osx: Mavericks(10.9.2)
    Device: iPhone 5C( iOS 7.1) and Galaxy Nexus (4.1)
    
    Able to insert text at the current location in both TextField and TextArea.
    Hence Closing the issue.</li>
</ol>


<p><a href="/TIMOB/TIMOB-10497.json">JSON Source</a></p>