---
title: "[TIMOB-10526] Android: Video created with object tag inside a webview does not automatically stop when the window/app is closed"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Hold</td></tr>
<tr><th>Resolution Date</th><td>2013-03-07T00:16:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.1</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 05 API, 2013 Sprint 05</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, api</td></tr>
<tr><th>Reporter</th><td>Nikhil Sharma</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-08-21T11:18:33.000+0000</td></tr>
<tr><th>Updated</th><td>2013-03-27T22:56:28.000+0000</td></tr>
</table>

<h3>Description</h3>

When you create a video in a webview with object tag (HTML5), the video doesn't automatically stop when the window/app is closed.
<h4>Repo Steps</h4>
1. Run the below code in app.js
2. Click back button and you can still hear the video playing in the background.
<code><pre>
(function() {
    var window = Titanium.UI.createWindow({
        left : Titanium.Platform.displayCaps.platformWidth,
        backgroundColor : '#787878',
        navBarHidden : true,
        opacity : 0.0,
        layout : 'absolute'
    });
    var webView = Titanium.UI.createWebView({
        top : 0,
        scalesPageToFit : true,
        left : 0,
        width :'100%',
        showScrollbars : false,
        willHandleTouches : false,
        disableBounce: false,
        pluginState: Titanium.UI.Android.WEBVIEW_PLUGINS_ON
    });
    var html = 
    '<html>' + 
        '<head>' +
           '<meta name="viewport" content="width=device-width,user-scalable=yes,initial-scale=1">' +
        '</head>' + 
        '<body>' +
          '<P>Video 1</P><P><div class="video_callout" style="width:330px;height:275px;">'+
          '<script language="JavaScript" type="text/javascript" src="<a href="http://admin.brightcove.com/js/BrightcoveExperiences.js" rel="nofollow" target="_blank">http://admin.brightcove.com/js/BrightcoveExperiences.js</a>"></script>'+


          '<object id="myExperience1301289234001" class="BrightcoveExperience">'+
           '<param name="bgcolor" value="white" />' +
           '<param name="width" value="480" />' +
           '<param name="height" value="270" />' +
           '<param name="playerID" value="1052840410001" />' +
           '<param name="playerKey" value="AQ~~,AAAABokGock~,bQUst1ZshUkZ7AWyIRKjmoefLfGQUFYx" />' +
           '<param name="isVid" value="true" />' +
           '<param name="isUI" value="true" />' +
           '<param name="dynamicStreaming" value="true" />' +
           '<param name="@videoPlayer" value="1301289234001" />' +
          '</object>' +

          '<script type="text/javascript">brightcove.createExperiences();</script>' +


         '</body>' + 
      '</html>';
   webView.html = html;
   window.add(webView);
   window.addEventListener('close',function(){
   Ti.API.info('window closing');
});
   window.open();
})();

</pre></code>

<h3>Comments</h3>

<ol>
<li>Vivekr 2013-01-30

   in progress</li>
<li>Vishal Duggal 2013-03-07

   The only workaround I have found is to change the page in the webview before closing the window. The problem and the workaround are all over the web.
   Something like this
   <code><pre>
      window.addEventListener('androidback',function(){
         Ti.API.info('GOT ANDROID BACK');
         webView.url = "data://";
         setTimeout(function(){window.close()},250);
      })
   </pre></code>
   Going to mark this ticket as HOLD because we should ideally fix it in code.
   
   However triage of this bug has exposed a bunch </li>
</ol>


<p><a href="/TIMOB/TIMOB-10526.json">JSON Source</a></p>