---
title: "[TIMOB-10914] iOS: When building for iOS devices, the string "Titanium" will be crippled in my application"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2016-08-24T19:28:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>community, core, exalture, parity</td></tr>
<tr><th>Reporter</th><td>Sven Herzberg</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2012-09-12T03:02:41.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-24T21:58:45.000+0000</td></tr>
</table>

<h3>Description</h3>

My example application breaks when being built for iOS devices (e.g. via Run on "iOS device"), it does not break in the iOS simulator.

This is an inconsistency that can introduce bugs in software when people just run quick tests in the iOS simulator. Here is my example code:

<code><pre>
	var MyNamespace,
	    win;
	
	try {
		MyNamespace = {};
		MyNamespace.Titanium = {};
		MyNamespace.Titanium.UI = {};
		MyNamespace.Titanium.UI.createWindow = function (params) {
			var result = Titanium.UI.createWindow(params);
			
			if (!params.hasOwnProperty('orientationModes')) {
				result.orientationModes = [
					Titanium.UI.PORTRAIT
				];
			}
			
			return result;
		};
		
		win = MyNamespace.Titanium.UI.createWindow({
			backgroundColor: '#fff',
			navBarHidden:    true
		});
		win.open();
	} catch (e) {
		alert("Ooops! Someone broke *.Titanium.UI.*: " + e);
	}

</pre></code>

This code works as expected in the iOS simulator and on Android device. I have not tested the Android emulator (yet I am confident that it will work). The code does not work on iOS devices yielding this alert message:

<code>Oooops! Someone broke \*.Ti.UI.\*: TypeError: 'undefined' is not an object (evaluating 'MyNamespace.Ti.UI = {}')</code>

Observations:
<h4><code>MyNamespace.Titanium.UI</code> gets changed into <code>MyNamespace.Ti.UI</code> (which breaks my code)</h4>
<h4>Even the string fragment <code>"\*.Titanium.UI.\*"</code> will be changed into <code>"\*.Ti.UI.\*"</code></h4>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2016-08-24

   I cannot reproduce with Titanium SDK master (6.1.0). I suspect this is because we properly AST parse and minify JS code now. I believe this was fixed in 3.0.0 with the iOS build rewrite.</li>
<li>Lee Morris 2017-03-24

   Closing ticket as the issue cannot be reproduced and with reference to the previous comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-10914.json">JSON Source</a></p>