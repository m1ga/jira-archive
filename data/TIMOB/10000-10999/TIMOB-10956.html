---
title: "[TIMOB-10956] Android: ConvertPointToView doesnt take transform in account"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-07-09T18:08:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.2, Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 14, 2013 Sprint 14 API, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>exalture, module_view, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Martin Guillon</td></tr>
<tr><th>Assignee</th><td>Sunila</td></tr>
<tr><th>Created</th><td>2012-09-04T06:44:38.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:43:55.000+0000</td></tr>
</table>

<h3>Description</h3>

a test code will explain it better!
<code><pre>
var win = Ti.UI.createWindow({ backgroundColor: '#fff' });

var label = Ti.UI.createLabel({
    text: 'Touch the Button!',
    verticalAlign:'top',
    top: 0, right: 0, left: 0
});
win.add(label);

var view = Ti.UI.createView({
    backgroundColor:'red',
    // borderWidth:2,
    // borderColor:'black',
    top:0,
    width:100,
    height:100
});
view.transform = Ti.UI.create2DMatrix().translate(0,100);
win.add(view);


win.addEventListener('touchstart', function(e) {
    var point = e.source.convertPointToView({x:e.x,y:e.y}, view);
    label.text = point.x + ',' + point.y;
});

win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10956_31178/test_android.png">test_android.png</td></td><td>2012-09-12T00:09:14.000+0000</td><td>12441</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-10956_31179/test_iphone.png">test_iphone.png</td></td><td>2012-09-12T00:09:14.000+0000</td><td>15786</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Nikhil Sharma 2012-09-11

   Hi,   
   I tested the above sample testcase with Ti SDK 2.1.2.GA and latest CI build. It works same on both android and iOS. Could you please provide me a screenshot of your device and please explain the problem?</li>
<li>Martin Guillon 2012-09-12

   Look at the screen shots. The value on iphone corresponds to where the pointer is.
   On android it s not the case, it says 110 as if the square where not transformed.
   
   Remember that the value i print is relative to the red square
   ios 5.1
   android 4.0
   titanium 2.2.0 (master)</li>
<li>Shameer Jan 2013-02-23

   The issue  can  reproduced with release 3.0.2 and latest master version 3.1.0 .
    
   
   Tested on:
   Titanium Studio, build:  2.1.2.201208301612
   Titanium SDK version: 3.1.0 (23/02/2013)
   Titanium SDK version: 3.0.2 (23/02/2013)
   Device: Samsung galaxy s duos Android version: 4.0.4
   
   
   The displayed values are not relative to the red square. </li>
<li>Sunila 2013-06-11

   Remove translation effect from the point if there is a transformation
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/4375" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4375</a></li>
<li>Dhirendra Jha 2013-10-24

   Test Environment - 
   Appc Studio - 3.2.0.201310230601
   SDK - 3.2.0.v20131023171643
   acs - 1.0.7
   alloy - 1.2.2
   titanium - 3.2.0
   titanium-code-processor - 1.0.3
   Xcode - 5.0
   Devices - iPhone5(v7.0.2), Nexus7(v4.3), Android Emulator 2.3.3
   Result - Now it works correctly on both Android as well as iOS. Hence closing this issue.</li>
</ol>


<p><a href="/TIMOB/TIMOB-10956.json">JSON Source</a></p>