---
title: "[TIMOB-10985] Android: Holding button down cancels 'singletap' event listener"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2018-01-03T03:27:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, exalture, longpress, parity, singletap</td></tr>
<tr><th>Reporter</th><td>Martin Guillon</td></tr>
<tr><th>Assignee</th><td>Maggie Chen</td></tr>
<tr><th>Created</th><td>2012-09-04T05:40:48.000+0000</td></tr>
<tr><th>Updated</th><td>2018-01-03T03:27:07.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
Looking at the logcat, I get that message every time I "longpress"

- 09-04 14:45:26.052: W/TextView(623): TextView does not support text selection. Action mode cancelled.

If i get that message then I dont get the singletap event.

<h4>Tested on</h4>
Confirmed on Samgsung Galaxy Tab Android OS 3.2

<h4>Test case</h4>
<code><pre>
var win = Ti.UI.createWindow({ backgroundColor: '#fff' });

var label = Ti.UI.createLabel({
    text: 'Touch the Button!', textAlign: 'center',
    top: 0, right: 0, bottom: '50%', left: 0
});
win.add(label);

var button = Ti.UI.createButton({
    title: 'Update Label',
    top: '50%', right: 0, bottom: 0, left: 0
});
win.add(button);

var launch = new Date().getTime();
button.addEventListener('singletap', function() {
    label.text = parseInt((new Date().getTime() - launch) / 100) / 10 + ' seconds since app launched.';
});

win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Eduardo Gomez 2012-09-12

   Not seeing the actual device this was tested on, but basically onSingleTap event is notified when a tap occurs with the up MotionEvent that triggered it.
   
   MotionEvent overview: Some devices can report multiple movement traces at the same time.
   
   <a href="http://developer.android.com/reference/android/view/MotionEvent.html" rel="nofollow" target="_blank">http://developer.android.com/reference/android/view/MotionEvent.html</a>
   
   Do you get the same result if using a click event listener?
   
   <code><pre>
   var button = Titanium.UI.createButton({
      title: 'Hello',
      top: 10,
      width: 100,
      height: 50
   });
   button.addEventListener('click',function(e)
   {
      Titanium.API.info("You clicked the button");
   });
   </pre></code></li>
<li>Martin Guillon 2012-09-17

   </li>
<li>Eduardo Gomez 2012-09-18

   </li>
<li>Daniel Sefton 2012-09-18

   Tested and confirmed on Samgsung Galaxy Tab Android OS 3.2.
   
   To clarify: 'singletap' is not fired and the message "TextView does not support text selection. Action mode cancelled." appears in logcat when holding the button down for longer than a tap gesture. It is fired with no message when tapping without holding.</li>
<li>Martin Guillon 2012-09-18

   @Eduardo: You are right the 2 other bugs where on ios, yes. But in a multi platform situation, having singletap and click problems is not that good. That s what i wanted to point out.
   
   As for the device, if i didnt mention device/simulator, is because it was clearly happening on both. Especially as i pointed out that it certainly was just a question of implementation.
   
   Thanks for your feedback</li>
<li>Eduardo Gomez 2012-09-19

   Format corrected, added the test device & parity label. Moving to Titanium Project to dig into it - it's potentially native behavior.</li>
<li>Martin Guillon 2012-10-16

   </li>
<li>Maggie Chen 2017-09-21

   Hi in your case the long press was handled by longpress event rather than singletap event.
   
   <code><pre>
   var win = Ti.UI.createWindow({ backgroundColor: '#5ff' });
   
   var label = Ti.UI.createLabel({
       text: 'Touch the Button!', textAlign: 'center',
       top: 0, right: 0, bottom: '50%', left: 0
   });
   win.add(label);
   
   var button = Ti.UI.createButton({
       title: 'Update Label',
       top: '50%', right: 0, bottom: 0, left: 0
   });
   win.add(button);
   
   var launch = new Date().getTime();
   button.addEventListener('singletap', function() {
       label.text = parseInt((new Date().getTime() - launch) / 100) / 10 + ' seconds since app launched.';
   });
   
   button.addEventListener('longpress', function() {
       label.text = parseInt((new Date().getTime() - launch) / 100) / 10 + ' seconds longpress fired.';
   });
   
   win.open();
   </pre></code> </li>
</ol>


<p><a href="/TIMOB/TIMOB-10985.json">JSON Source</a></p>