---
title: "[TIMOB-11090] Android: httpClient clearCookies() doesn't work."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-10-24T23:01:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.2, Release 2.1.3</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, parity</td></tr>
<tr><th>Reporter</th><td>Amuktha Akkinepally</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-09-24T20:20:43.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T20:51:48.000+0000</td></tr>
</table>

<h3>Description</h3>

When trying to clear cookies on logging out from webView, The clearCookies does not work on Android. it works perfectly fine on iOS.

<h4>Steps to Reproduce:</h4>
1. Load the app.
2. Enter the credentials.
3. click on logout

Expected behavior: Logged out (since cookies are deleted)

Actual Behavior: Nothing happened.
<h4>code:</h4>
<code><pre>
var win = Titanium.UI.createWindow({  
    backgroundColor:'#bbb',
    navBarHidden:true
});

var logout = Titanium.UI.createButton({
	top:0,
	height:30,
	title:'log out'	
});

var webview = Ti.UI.createWebView({
	top:30,
	url:'<a href="http://m.facebook.com" rel="nofollow" target="_blank">http://m.facebook.com</a>',
	bu_url:'<a href="http://m.facebook.com" rel="nofollow" target="_blank">http://m.facebook.com</a>'
});

logout.addEventListener('click', function(e) {
	var client = Titanium.Network.createHTTPClient();
	client.clearCookies('<a href="http://m.facebook.com" rel="nofollow" target="_blank">http://m.facebook.com</a>');
	webview.url = webview.bu_url;
});

win.add(logout);
win.add(webview);

win.open();


</pre></code>

<h3>Comments</h3>

<ol>
<li>Anirudh Nagesh 2012-10-12

   PR : <a href="https://github.com/appcelerator/titanium_mobile/pull/3199" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3199</a></li>
<li>Hieu Pham 2012-10-19

   I can't reproduce this bug on master. </li>
<li>Amuktha Akkinepally 2012-10-20

   I could reproduce the issue on the master build 3.1.0.v20121015140323. Could you please check this once again?</li>
<li>Hieu Pham 2012-10-24

   I am able to reproduce this problem now. This works on iOS because they use the same storage for httpClient cookies and webview cookies. On Android, however, that is not the case. We currently do not support cookies removal from a webview. I will create a feature request for this and close this ticket as invalid.</li>
<li>Hieu Pham 2012-10-24

   </li>
<li>Lee Morris 2017-03-22

   Closing ticket as invalid with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11090.json">JSON Source</a></p>