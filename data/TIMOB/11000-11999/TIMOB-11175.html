---
title: "[TIMOB-11175] iOS 6: Project using sdk 6.0 has strange target architecture"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-01-24T20:05:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.3, Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 02 API, 2013 Sprint 02</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, triage</td></tr>
<tr><th>Reporter</th><td>Martin Guillon</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2012-09-26T07:41:00.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-31T22:18:10.000+0000</td></tr>
</table>

<h3>Description</h3>

Yesterday i add to debug my app on an ipad 3 running 6.0
So i launch the generated xcode project for my app, selected universal target and run.

Xcode told me that i could not run the app on that device.
After looking at the project i found out something strange about the targets. Valid architecture was not the same for all of them.

Screenshots speak for themselves.

After changing valid archs of the universal target to "armv7 armv7s", the app did run on the device.

If i am correct a project using 6.0 sdk should not have any mention of armv6, right?

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11175_31827/Screen Shot 2012-09-26 at 9.30.03 AM.png">Screen Shot 2012-09-26 at 9.30.03 AM.png</td></td><td>2012-09-26T07:41:00.000+0000</td><td>64946</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11175_31828/Screen Shot 2012-09-26 at 9.30.26 AM.png">Screen Shot 2012-09-26 at 9.30.26 AM.png</td></td><td>2012-09-26T07:41:00.000+0000</td><td>60836</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11175_31829/Screen Shot 2012-09-26 at 9.30.32 AM.png">Screen Shot 2012-09-26 at 9.30.32 AM.png</td></td><td>2012-09-26T07:41:00.000+0000</td><td>57580</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11175_31830/Screen Shot 2012-09-26 at 9.30.38 AM.png">Screen Shot 2012-09-26 at 9.30.38 AM.png</td></td><td>2012-09-26T07:41:00.000+0000</td><td>59123</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Daniel Sefton 2012-09-26

   Tested and confirmed on: iOS 6 SDK, Titanium Studio, build: 2.1.2.201208301612, TiSDK 2.1.3 RC.
   
   Xcode also complains about updating recommended settings: "Upgrade ARMV6 assembler codegen from THUMB to ARM mode".
   
   The targets have "Valid Architectures" set to "armv6 armv7 i386". On iOS 6 this should be "armv7 armv7s i386".
   
   And ideally "Architectures" should all be set to $(ARCHS_STANDARD_32_BIT) which translates to "Standard (armv7, armv7s)". It's currently set to "armv6 armv7".
   
   I'm guessing the project generation in Titanium has yet to be updated for iOS 6.</li>
<li>Blain Hamon 2012-10-27

   Okay, here's the sticky wicket. Adding armv7s is something that must be done in the future, yes. But if you have an app set to build for an arch, it requires ALL parts be there for that arch. And as of now, NO modules made would have armv7s.
   
   So I propose that the archs for 3.0 be such: Titanium apps: armv7. Titanium modules: armv7, armv7s.
   Then the archs would have armv7 and armv7s for both, after enough time has been given for the module marketplace to refresh.
   
   Additional possibilities for extra style points is to have the cli detect what archs modules have through otool.</li>
<li>Ingo Muschenetz 2012-10-29

   This sounds good to me. To confirm, that would mean we'd be dropping support for armv6 (by default)?</li>
<li>Eric Merriman  2012-10-29

   I attempted to reproduce using Xcode 4.5, iPad 3 with iOS 6.
   With a sample project, the architectures are as reported, armv6 and armv7. I was unable however to get a failure using the steps in the ticket. I was able to run the universal target on iPad, which strangely launched in iPhone paradigm. The discrepancy in results could be related to any modules used in the project. Mine had none, but the reporter could very well be including modules. Regardless, the architecture needs to be addressed.</li>
<li>Ingo Muschenetz 2012-10-30

   @Martin--did you use modules in your project? Eric was unable to reproduce your exact failure.</li>
<li>Martin Guillon 2012-10-30

   @Ingo, @Eric: Yes i do use module in that project.
   But do modules modify the target architecture? That seem quite strange to me
   If so that might explain the strange targets
   
   One remark though , @Eric you say that you are facing [this](<a href="https://github.com/appcelerator/titanium/issues/20)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/issues/20)</a> issue, which means you are using the new "node" build system. And so it s not the same code that generate the xcode project (if i am correct!). 
   Maybe this bug is gone with the new node system. I was facing it using the old build system</li>
<li>Blain Hamon 2012-10-30

   Okay, the change is thus: The Titanium module templates have the archs specifications removed, and for the Titanium app, the archs now no longer list armv6. This means modules will use the XCode/user default, so yay future proofing for free. 
   
   As for the app, right now it builds only armv7 (If someone really really wants to use arm6, there's a workaround, but that's an extreme edge case). The reason for no armv7s yet is to give modules time to have the architecture supported before it's required.
   
   That is, the advantage of having the small superset of armv7 used is currently outweighted by the danger of linker failures, but this is only a function of time.</li>
<li>Ingo Muschenetz 2012-11-02

   Pulling this out of the developer preview for 3.0.0 until I get confirmation from QE on how they will be testing this.</li>
<li>Lee Morris 2017-03-31

   Closing ticket as fixed, if there are any problems, please file a new ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11175.json">JSON Source</a></p>