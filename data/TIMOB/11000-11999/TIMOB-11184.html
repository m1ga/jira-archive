---
title: "[TIMOB-11184] Android: Cancelable ActivityIndicator"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-10-10T19:50:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2012 Sprint 21 API, 2012 Sprint 21</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, module_activityindicator, qe-and100112, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Olga Romero</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2012-09-27T00:36:03.000+0000</td></tr>
<tr><th>Updated</th><td>2013-03-13T18:55:48.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:
Feature
Allow ActivityIndicator dialogs on Android to be cancelable by the user.
Note: this is an Android only feature and doesn't require parity with iOS and MobileWeb
since they don't use modal dialogs.
API Changes
New property: cancelable
When true the indicator can be canceled by the user.
New event: cancel
Fired when the user has canceled the indicator. This is called after the indicator
dialog has been hidden, so the developer does not need to call hide() manually.
* IT IS A REGRESSION* it is not occurs on 2.1.3.v20120926141610
Test case:
<code><pre>

var hideIndicatorTimeout = null;
 
var win = Ti.UI.createWindow({
    backgroundColor: "red",
    layout: 'vertical'
});
 
var indicator = Ti.UI.createActivityIndicator({
  message: "Processing...",
  cancelable: true  // Indicator will be cancelable by setting this to true.
});
indicator.addEventListener('cancel', function() {
    // Fired when the user has canceled this indicator.
    clearTimeout(hideIndicatorTimeout);
    alert("Aborted processing");
});
 
var cancelableSwitch = Titanium.UI.createSwitch({
    title: 'Cancelable',
    style: Ti.UI.Android.SWITCH_STYLE_CHECKBOX,
    value: true
});
cancelableSwitch.addEventListener('change',function(e)
{
    indicator.cancelable = e.value;
});
win.add(cancelableSwitch);
 
var showIndicatorButton = Ti.UI.createButton({
    title: "Show Indicator"
});
showIndicatorButton.addEventListener('click', function() {
    indicator.show();
    hideIndicatorTimeout = setTimeout(function() {
        indicator.hide();
    }, 5000);
});
win.add(showIndicatorButton);
 
win.open();
</pre></code>
1. Start up the application.
2. Click "Show Indicator".
3. Wait for it to go away (~5 seconds).
4. Click "Show Indicator" again.
5. Press the BACK button, the dialog should go away. You should also see an alert popup.
6. Uncheck "Cancelable" and click "Show Indicator" again.
7. Try hitting the BACK button, nothing should happen. Dialog should disappear in 5 seconds.
8. Check "Cancelable" and click "Show Indicator".
9. Try hitting the BACK button, the dialog should go away and alert popup (same as step 5).


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11184_32091/device-2012-09-26-171422.png">device-2012-09-26-171422.png</td></td><td>2012-09-27T00:36:03.000+0000</td><td>35215</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ping Wang 2012-10-10

   The Android ActivityIndicator is totally new in 3.0.0 (see TIMOB-6092). It is a view, so it has to be added to the window/view before the show() method is called. The new ActivityIndicator does not have the property "cancelable" any more. Mark the ticket as invalid.</li>
<li>Tamila Smolich 2012-10-18

   Closing the bug as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11184.json">JSON Source</a></p>