---
title: "[TIMOB-11219] iOS: Black bar starts appearing below navBar when orientation changed between opening and closing of a window."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-10-17T20:46:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.3</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.0, Release 3.1.0, 2012 Sprint 21 API, 2012 Sprint 21</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, orientation, qe-ios090112, qe-testadded, release-note</td></tr>
<tr><th>Reporter</th><td>Shyam Bhadauria</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-10-01T07:20:50.000+0000</td></tr>
<tr><th>Updated</th><td>2012-12-04T20:03:11.000+0000</td></tr>
</table>

<h3>Description</h3>

This is a regression. It is working fine with 2.1.2GA on iOS 6.
This is only occurring on iOS 6 ipad. Working fine on iOS 5.1 ipad with 2.1.3.v20120928203111.

Steps to reproduce:
1. Use the code below - 
<code><pre>
Titanium.UI.setBackgroundColor('#000');

var tabGroup = Titanium.UI.createTabGroup();

var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff',
    navBarHidden: false,
});
var tab1 = Titanium.UI.createTab({  
    icon:'KS_nav_views.png',
    title:'Tab 1',
    window:win1
});

var b1 = Titanium.UI.createButton({
	title:'Win 2',
});

win1.add(b1);

b1.addEventListener('click', function(e)
{
    var w = Titanium.UI.createWindow({
	fullscreen:true,
	barColor:'#111',
	orientationModes:[Titanium.UI.LANDSCAPE_LEFT]
    });
    tab1.open(w);
});

tabGroup.addTab(tab1);  
tabGroup.open();
</pre></code>

2. Run the app and rotate device to landscape mode.
3. Click the button 'Win 2'
4. Rotate the device to portrait mode.
5. Click the nav button 'Tab 1'.

Expected result:
2. A tabgroup with a button 'win 2' should be displayed. Window should be rotated to landscape mode.
3. A new black window should get opened in the tab.
4. The black window should remain in landscape mode.
5. The black window should get closed and older white window should be displayed with no black bar below navbar.

Actual result:
2. A tabgroup with a button 'win 2' gets displayed. Window gets rotated to landscape mode.
3. A new black window gets opened in the tab.
4. The black window remains in landscape mode.
5. The black window gets closed and older white window gets displayed with a black bar below navbar.

This black bar below navbar should not get displayed. Snapshots attached.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-11219_32165/iOS 5 - 2.1.3.v20120928203111.png">iOS 5 - 2.1.3.v20120928203111.png</td></td><td>2012-10-01T08:26:54.000+0000</td><td>24767</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-11219_32166/iOS 6 - 2.1.2GA.png">iOS 6 - 2.1.2GA.png</td></td><td>2012-10-01T08:26:54.000+0000</td><td>73383</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-11219_32167/iOS 6 - 2.1.3.v20120928203111.png">iOS 6 - 2.1.3.v20120928203111.png</td></td><td>2012-10-01T08:26:54.000+0000</td><td>73671</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Natalie Huynh 2012-10-01

   Tested with iPad 3 6.0 with 2.1.3.v20120915120319 still see the issue.</li>
<li>Ingo Muschenetz 2012-10-01

   Vishal, thoughts?</li>
<li>Vishal Duggal 2012-10-01

   Not a regression. Occurs on 2.1.2 GA against 5.1 iPAD sim. Removing regression and qe-io6 labels</li>
<li>Olga Romero 2012-10-02

   Tested with:
   Titanium Studio, build: 2.1.2.201208301612
   Titanium Studio, SDK: 2.1.3.v20120928203111
   iPad1 ios 5.1.1
   The issue occurs after Win2 is open and then the device is rotated to any mode but left landscape, and Tab1 is pressed.</li>
<li>Vishal Duggal 2012-10-13

   Pull pending <a href="https://github.com/appcelerator/titanium_mobile/pull/3211" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3211</a></li>
<li>Ingo Muschenetz 2012-10-14

   Assuming this should be merged to 3.0.0. Please remove the label if that isn't the case.</li>
<li>Vishal Duggal 2012-10-17

   3_0_X PR <a href="https://github.com/appcelerator/titanium_mobile/pull/3270" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3270</a></li>
<li>Olga Romero 2012-12-04

   Closing as fixed.
   Tested and verified with:
   Titanium Studio, build: 3.0.0.201211301903
   Titanium SDK, build: 3.0.0.v20121130200208
   Devices:
   iPad mini iOS 6.0.1
   iPhone5 iOS 6.0</li>
</ol>


<p><a href="/TIMOB/TIMOB-11219.json">JSON Source</a></p>