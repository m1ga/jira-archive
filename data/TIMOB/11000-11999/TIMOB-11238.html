---
title: "[TIMOB-11238] Android: local webviews fail with removed js files when packaged for android"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-08-14T18:51:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.2, Release 2.1.3</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2012 Sprint 23 Core, 2012 Sprint 23</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, core, module_webview, qe-manualtest, qe-port</td></tr>
<tr><th>Reporter</th><td>Varun Joshi</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2012-10-03T00:22:03.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-14T18:51:21.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>

When the app is packaged for distribution, .js files are removed. This appears to be causing problems with the javascript files that are referenced by the local html files.

This works fine with an iOS app when packaged. The js files are missing from the package but seem to load and execute with no issues. 

<h4>Workaround</h4>

The javascript files can be renamed with .jsx extension and this will disable them from getting removed from the app package.

<h4>Steps to Reproduce</h4>

1. Run the attached test project. 
2. When launched in android emulator or on device, the test.js file work update the html file correctly. The apk file still has the test.js resource.
3. When packaged for distribution the test.js file is removed and the html file does not get updated.
4. When the test.html is modified to reference test.jsx, the testcase succeeds



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11238_32243/WebViewWithJSTest.zip">WebViewWithJSTest.zip</td></td><td>2012-10-03T00:22:03.000+0000</td><td>2362489</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Varun Joshi 2012-10-03

   Also happens in earlier SDK versions. Tested in 2.1.2.GA and 2.0.1.ga2. </li>
<li>Bill Dawson 2012-11-09

   PR ready:
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/3407" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3407</a></li>
<li>Satyam Sekhri 2013-01-22

   Verified on:
   Studio: 3.0.1.201212181159
   SDK: 3.1.0.v20130114171802
   Android Device: Samsung Galaxy Note (v2.3.6)</li>
<li>Lokesh Choudhary 2014-08-14

   adding port labels</li>
</ol>


<p><a href="/TIMOB/TIMOB-11238.json">JSON Source</a></p>