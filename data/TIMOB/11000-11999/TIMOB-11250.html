---
title: "[TIMOB-11250] iOS: blur() callback fails to blur keyboard on textfields with custom toolbar."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-10-05T22:10:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.3</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.4, Release 3.0.0, Sprint 2012-20 API, 2012 Sprint 20</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, blur, ios, ios6, qe-port, toolbar</td></tr>
<tr><th>Reporter</th><td>Nick</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-10-01T08:36:22.000+0000</td></tr>
<tr><th>Updated</th><td>2012-11-01T17:12:18.000+0000</td></tr>
</table>

<h3>Description</h3>

The problem does not appear on iOS5 with 2.1.2.

It is only reproducable when there are many onscreen elements.

blur() causes the custom toolbar to hide but focus remains on textfield with keyboard still displayed.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11250_32254/blur_event_fail.m4v">blur_event_fail.m4v</td></td><td>2012-10-03T11:29:32.000+0000</td><td>1284842</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2012-10-01

   Can you please provide a code snippet to test?</li>
<li>Nick 2012-10-02

   Okay so this is proving harder to replicate in a snippet than I thought. When I simplify to the simplest use case of 1 field in a table view it works. </li>
<li>Chris Bailey 2012-10-03

   I concur that this issue is present only on 2.1.3 RC2, as I am experiencing the same problem.  It appears to work properly on 2.1.3 RC1 and 2.1.2.
   
   I'm having the same difficulty as Nick to get a code snippet since it only occurs on my most complex of projects.</li>
<li>Zhenya Kogan 2012-10-03

   Same problem here. Keyboard slides down, than back up.</li>
<li>Ingo Muschenetz 2012-10-03

   Could someone attach a video of the problem? Does it appears if you try the latest 2.1.X version from the CI server (we've fixed a few remaining issues there):
   
   <a href="http://builds.appcelerator.com.s3.amazonaws.com/index.html" rel="nofollow" target="_blank">http://builds.appcelerator.com.s3.amazonaws.com/index.html</a></li>
<li>Nick 2012-10-03

   This is a video of the blur event firing but not blurring the keyboard.</li>
<li>Nick 2012-10-03

   I've just uploaded a video from a real live app that is displaying this behaviour.
   
   When the test button is click, the event listener, animates in another view, and blurs the selected text field (actually fires blur on all the text fields).
   
   As you can see the keyboard remains, but the toolbar disappears.
   
   Also, in the second part of the video, I show that even though the blur event is called, typing on the keyboard continues to populate the field.
   
   I have placed debug logging statements and can see the all the events firing correctly, focus, blur, change.
   
   </li>
<li>Nick 2012-10-03

   I have just tested with mobilesdk-2.1.3.v20121002161610-osx.zip (r15997d0c) and the problem still persists.</li>
<li>Ingo Muschenetz 2012-10-03

   We still can't reproduce the problem. Can anyone post a longer code snippet that demonstrates the problem? You can also post something privately or email it to me at ingo [at] appcelerator.com if it is sensitive.</li>
<li>Zhenya Kogan 2012-10-04

    No longer a problem on my end. Just installed 2.1.3 GA. I did have to create a new project from scratch though and manually move all Resources in order to get 2.1.3 GA to be used, otherwise it seemed to be stuck on RC2 even when I manually emptied the build/iphone/ folder, changed the build path, and tiapp.xml.</li>
<li>Nick 2012-10-05

    Problem still appears for me in 2.1.3GA. Ingo, I will email you some code.</li>
<li>Mitchell Amihod 2012-10-05

    </li>
<li>Vishal Duggal 2012-10-05

    Yup. That is the case. Setting up PR now top fix the tableView issue.</li>
<li>Vishal Duggal 2012-10-05

    Pull pending <a href="https://github.com/appcelerator/titanium_mobile/pull/3118" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3118</a></li>
<li>Vishal Duggal 2012-10-05

    PR for 2_1_X <a href="https://github.com/appcelerator/titanium_mobile/pull/3119" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3119</a></li>
<li>Nick 2012-10-07

    Tested with mobilesdk-2.1.4.v20121005153115 (r61edac43) and it is resolved.</li>
<li>Ingo Muschenetz 2012-10-31

    Looks like this was not marked as resolved for 2.1.4. Corrected that.</li>
<li>Natalie Huynh 2012-11-01

    </li>
</ol>


<p><a href="/TIMOB/TIMOB-11250.json">JSON Source</a></p>