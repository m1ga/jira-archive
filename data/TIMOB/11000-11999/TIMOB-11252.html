---
title: "[TIMOB-11252] Android: Entries in tiapp.xml do not replace stock values in generated AndroidManifest.xml"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-03-15T22:48:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.2, Release 2.1.3, Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 06 Core, 2013 Sprint 06</td></tr>
<tr><th>Components</th><td>Android, Tooling</td></tr>
<tr><th>Labels</th><td>insight, triage</td></tr>
<tr><th>Reporter</th><td>Tim Poulsen</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2012-10-03T20:14:51.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-30T17:35:21.000+0000</td></tr>
</table>

<h3>Description</h3>

Android manifest changes in the tiapp.xml file do not replace the "stock" manifest entries created by the build process. Instead, the stock entries are copied after the custom entries, overriding the customizations.

<h4>Steps to reproduce</h4>

<h4>Create a default Ti project targeting Android</h4>
<h4>Build the app (for emulator or device, doesn't matter)</h4>
<h4>Open tiapp.xml, view the XML source</h4>
<h4>Change the <android tag to be container tags and add manifest tags, like this:\\</h4>
<code><pre>
    &lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
    	&lt;manifest&gt;
    	&lt;/manifest&gt;
    &lt;/android&gt;
</pre></code>
<h4>Open <project>/builds/android/AndroidManifest.xml and copy the <activity> and <service> tags that follow the <!-- TI_APPLICATION --> comment</h4>
<h4>Paste the copied text into the tiapp.xml between the <manifest></manifest> tags</h4>
<h4>Edit the pasted in code to remove |orientation from each of the <activity configChanges"> attributes</h4>
<h4>To each of those tags, add  android:screenOrientation="portrait"  to force portrait orientation in the app</h4>
<h4>Save and build the app</h4>
<h4>Open <project>/builds/android/AndroidManifest.xml. It will have both your customized entries followed by the generated stock entries. As a result, the app will display in both portrait and landscape orientation.</h4>

<h4>Expected results </h4>

Changes in tiapp.xml would override the stock/generated AndroidManifest.xml values

<h4>Actual results</h4>

Stock/generated AndroidManifest values pasted in after custom entries, negating the effect of the custom entries.


This is likely a regression as it used to work properly. The tiapp.xml customization technique is taught in the ATMD training course.

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2013-03-14

   This is still not working with the 3.0.0.GA SDK, 3.0.2.201302191606 Studio, and 3.0.24 CLI.</li>
<li>Ingo Muschenetz 2013-03-14

   @Tim--when did it last work? </li>
<li>Lee Morris 2017-03-30

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11252.json">JSON Source</a></p>