---
title: "[TIMOB-11254] iOS: When resizing a view, a centered child label does not go along with the animation"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2013-07-19T23:03:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>parity</td></tr>
<tr><th>Reporter</th><td>Amuktha Akkinepally</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-10-03T22:42:03.000+0000</td></tr>
<tr><th>Updated</th><td>2015-10-14T21:29:40.000+0000</td></tr>
</table>

<h3>Description</h3>

When resizing a view with an animation, a centered child label will jump to its new position immediately rather than sliding along with the redraw Animation. This happens when animating to a different height (i.e. when the label should be vertically centered in the view) and when animating to a different width in case the label is set to textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER (i.e. when the label should be horizontally centered in the view). This works perfectly fine on Android.

<h4>Steps to reproduce</h4>

1. Create a default master / detail application and use the following detail function (ui/common/DetailView).

Expected Behavior: label should slide along with the animation

Actual behavior: label just jumps off to the new position.

<code><pre>
function DetailView() {
var self = Ti.UI.createView();

var wrapper = Ti.UI.createView({
    left: 10,
    top: 10,
    width: 200,
    backgroundColor: "#CCC",
    height: 50
});
var label = Ti.UI.createLabel({
    left: 10,
    right: 10,
    text: "Some text",
    textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER
});
wrapper.add(label);
self.add(wrapper);

var isLarge = false;
wrapper.addEventListener("click", function(e) {
    isLarge = !isLarge;
    wrapper.animate({
        width: isLarge ? 300 : 200,
        height: isLarge ? 100 : 50,
        duration: 1000
    });
});
return self;
}
module.exports = DetailView;



</pre></code>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2013-07-19

   ok not our bug. Look like the drawing operation of the label takes only the final rect into consideration. So although the frame of the label is animating correctly, it looks like it is jumping because the label has already drawn its text for final rect.
   
   Define the label as shown below and you can see its frame animating correctly but the text drawing incorrectly (something we do not control).
   <code><pre>
   var label = Ti.UI.createLabel({
       left: 10,
       right: 10,
       text: "Some text",
       backgroundColor:'red'
       textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER //This is the reason the text jumps
   });
   </pre></code>
   
   To work around this for this particular example, you can do something as shown below
   <code><pre>
   var labelWrapper = Ti.UI.createView({
       left: 10,
       right: 10,
       backgroundColor:'red',
       height:Ti.UI.SIZE
   });
   
   //Use a SIZED label
   var label = Ti.UI.createLabel({
       text: "Some text"
   });
   labelWrapper.add(label);
   wrapper.add(labelWrapper);
   </pre></code>
   
   Going to mark this as Not Our Bug</li>
</ol>


<p><a href="/TIMOB/TIMOB-11254.json">JSON Source</a></p>