---
title: "[TIMOB-11306] iOS: Subversion directories and files present in .IPA"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-10-30T23:59:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.3</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.4, Release 3.0.0, Release 3.1.0, 2012 Sprint 22 Core, 2012 Sprint 22</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>core, qe-port</td></tr>
<tr><th>Reporter</th><td>Raymond Verbruggen</td></tr>
<tr><th>Assignee</th><td>Max Stepanov</td></tr>
<tr><th>Created</th><td>2012-09-26T10:57:48.000+0000</td></tr>
<tr><th>Updated</th><td>2012-11-01T21:42:20.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
Titanium does not exclude subversion directories and files when generating .IPA file. 

<h4>Actual result</h4>
This increased the file size already from 77MB to 127MB, even more increase at every new build.

<h4>Screenshot</h4>
Shows an IPA file generated. Above with 2.0.2.GA, below with 2.1.3.GA.

_Is noticeable after publishing a project with Studio, a .svn subdirectory is being created with 2.1.3.GA release only._

<h4>Steps to reproduce</h4>
1. Set 2.0.2.GA SDK into tiapp.xml
2. Right click on Studio Project, "Publish"
3. Select distribution method, "Distribute - Ad Hoc/Enterprise" for instance
4. Perform steps 1, 2 and 3 with 2.1.3.GA. 
5. Unzip, compare IPA generated files upon distribution.

_Results may vary according the project files size_

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11306_32427/UnzippedFolders.jpg">UnzippedFolders.jpg</td></td><td>2012-10-09T00:01:26.000+0000</td><td>125336</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Daniel Sefton 2012-09-26

   Have you tried generating the .IPA file through the Xcode project? Then can you post the app size in comparison to creating it through Titanium? Thanks.</li>
<li>Eduardo Gomez 2012-10-08

   @Raymond Verbruggen Where should exactly "SVN directories and files" be when generating .IPA file? Can you give insight in regards with?
   
   Also, what is the current Titanium SDK that you built it? And state what is your current iOS version to dig into this.
   </li>
<li>Eduardo Gomez 2012-10-08

   <h4>Associated Community thread</h4>
   <a href="http://developer.appcelerator.com/question/91901/over-20mb-filesize" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/91901/over-20mb-filesize</a>
   
   Edit: Could see a .svn directory generated in 2.1.3.GA. Added the repro steps and background info. </li>
<li>Raymond Verbruggen 2012-10-09

   The svn directories are used by the Subversion system for administration purposes. When generating the IPA file they must remain where they are, because otherwise this administration is lost.
   In other words, these files have to be excluded from the IPA file.
   
   SDK versions 2.1.2 and 2.1.3 are currently used, the behaviour is the same.
   
   I have not used Xcode for generating of the IPA file (wouldn't know how to do that, maybe a workaround?)
   This is an urgent problem for me, the IPA is now 140M; generated from a directory without SVN files it is around 80MB.
   </li>
<li>Mihai Bojin 2012-10-15

   Simple fix for this is to add the following code in builder.py at line 1217 (method execute_xcode, after output = run.run(args,False,False,o)
   
   <h4>remove .svn files from build dir</h4>
   os.system("find -d \"%s\" -name \".svn\" -exec rm -r '{}' \;" % build_dir)
   
   It looks like xcodebuild is actually pulling the .svn directories into the build. I haven't had enough time to figure out why this is happening, but this is a quick fix for the problem.</li>
<li>Raymond Verbruggen 2012-10-16

   At 1231 in builder.ph
   
   	output = run.run(args,False,False,o)
   
   	# RV added start
   	# remove .svn files from build dir
   	os.system("find -d \"%s\" -name \".svn\" -exec rm -r '{}' \;" % build_dir)
   	# RV added end
   
   However;
   This doesn't work, a lot of errors and no IPA is generated.
   
   [INFO] Performing clean build
   [INFO] Compiling localization files
   [DEBUG] compiled ios file: /Users/raymond/Documents/Titanium Studio Workspace/sprookjes/build/iphone/build/Debug-iphoneos/Sprookjes.app/en.lproj/Localizable.strings
   [DEBUG] compiled ios file: /Users/raymond/Documents/Titanium Studio Workspace/sprookjes/build/iphone/build/Debug-iphoneos/Sprookjes.app/nl.lproj/Localizable.strings
   [INFO] Installing application in iTunes ... one moment
   [DEBUG] executing command: /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/PackageApplication /Users/raymond/Documents/Titanium Studio Workspace/sprookjes/build/iphone/build/Debug-iphoneos/Sprookjes.app
   [DEBUG] error: Codesign check fails : /var/folders/cz/2mc0s7r559z94g3lypnr6tr00000gn/T/wsmMM6cH7V/Payload/Sprookjes.app: a sealed resource is missing or invalid
   [DEBUG] In architecture: armv6
   [DEBUG] resource missing: /private/var/folders/cz/2mc0s7r559z94g3lypnr6tr00000gn/T/wsmMM6cH7V/Payload/Sprookjes.app/animation/scene19/.svn/text-base/scene19.jpg.svn-base
   [DEBUG] resource missing: /private/var/folders/cz/2mc0s7r559z94g3lypnr6tr00000gn/T/wsmMM6cH7V/Payload/Sprookjes.app/.svn/text-base/KS_nav_ui.png.svn-base
   [DEBUG] resource missing: /private/var/folders/cz/2mc0s7r559z94g3lypnr6tr00000gn/T/wsmMM6cH7V/Payload/Sprookjes.app/images/.svn/text-base/bg2@2x.jpg.svn-base
   [DEBUG] resource missing: /private/var/folders/cz/2mc0s7r559z94g3lypnr6tr00000gn/T/wsmMM6cH7V/P
   
   etc etc etc</li>
<li>Max Stepanov 2012-10-26

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/3337" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3337</a></li>
<li>Max Stepanov 2012-10-26

   Already fixed for 2.1.4</li>
<li>Vishal Duggal 2012-10-31

   3_0_X PR <a href="https://github.com/appcelerator/titanium_mobile/pull/3367" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3367</a></li>
<li>Natalie Huynh 2012-11-01

    Tested with 2.1.4.v20121030173408</li>
</ol>


<p><a href="/TIMOB/TIMOB-11306.json">JSON Source</a></p>