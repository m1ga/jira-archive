---
title: "[TIMOB-11319] Studio : Apk file size varies in 2.1.3 and in 3.0 build of SDK"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2012-10-10T23:59:54.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2012 Sprint 21 Core, 2012 Sprint 21</td></tr>
<tr><th>Components</th><td>Core</td></tr>
<tr><th>Labels</th><td>qe-and100112</td></tr>
<tr><th>Reporter</th><td>Pragya Rastogi</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2012-10-09T10:12:56.000+0000</td></tr>
<tr><th>Updated</th><td>2013-03-13T18:56:57.000+0000</td></tr>
</table>

<h3>Description</h3>

This is a Regression issue. Size in SDK 2.1.3 is 5.9MB
Steps To Reproduce:
1. create a default app.
2. Distribute app on Android device.
3. Verify its apk size.

Actual: In 3.0 SDK build, size is 6.1MB for V8 whereas in 2.1.3 its 5.9MB
Expected: Size must be similar in respective builds.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11319_32494/213.zip">213.zip</td></td><td>2012-10-10T12:18:57.000+0000</td><td>5884634</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11319_32492/3.0.zip">3.0.zip</td></td><td>2012-10-10T12:18:31.000+0000</td><td>6000376</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11319_32493/MyTestApp.zip">MyTestApp.zip</td></td><td>2012-10-10T12:18:31.000+0000</td><td>3694974</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Pragya Rastogi 2012-10-10

   Environment used is same for 3.0 and 2.1.3.</li>
<li>Bill Dawson 2012-10-10

   <h4>ACTUAL APK FILE SIZE DIFFERENCES</h4>
   
   6060842 - APK 3.0.0
   5943795 - APK 2.1.3
   -------
   117047 bytes
   
   <h4>INVESTIGATE DIFFERENCES</h4>
   
   <h4>Two new drawables</h4>
   btn_check_buttonless_on_64.png = 3832
   btn_more_64.png = 5765
   ----
   sum new drawables (already compressed): *9597*
   
   <h4>libkroll-v8 size changes</h4>
   armeabi: 5546988 (3.0.0) - 5502148 (2.1.3) = 44840 delta
   armeabi-v7a: 5523500 (3.0.0) - 5479832 (2.1.3) = 43668 delta
   ----
   sum delta is 88508
   the .so files compress about 61%, so keep only 39% of that delta: *34518*
   
   <h4>classes.dex size changes</h4>
   1640000 (3.0) - 1443124 (2.1.3) = 196876 delta
   classes.dex deflates 56%, so keep only 44% of that delta: *86625*
   
   <h4>Sum of all compressed deltas:</h4>
   9597 + 34518 + 86625 = *130740*
   
   <h4>DISCUSSION</h4>
   
   <h4>APK File size growth was 1.97%</h4>
   <h4>libkroll-v8 will always grow as we add new features. There are two copies of it (one for each architecture). It grew by 34K (compressed) this time.  This is to be expected.</h4>
   <h4>classes.dex will also always grow as we add new features. Also any other java libraries we include will end up in there. For example, we had to update to the latest version of Google's android-support-v4.jar to support some accessibility features.  Classes.dex grew by 87K this time.  This is to be expected.</h4>
   <h4>Two new drawables were added to support higher densities. Naturally this contributed to file size growth.</h4>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-11319.json">JSON Source</a></p>