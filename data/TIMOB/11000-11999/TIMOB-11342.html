---
title: "[TIMOB-11342] Android: ActionItems do not display correctly"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-10-25T11:55:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.0, Release 3.1.0, 2012 Sprint 21 API, 2012 Sprint 21</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>actionbar, api, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Arthur Evans</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2012-10-10T02:23:18.000+0000</td></tr>
<tr><th>Updated</th><td>2013-10-03T07:28:10.000+0000</td></tr>
</table>

<h3>Description</h3>

Running the test code in TIMOB-9910 for ActionItems on a 4.0 device, the "Expand" item that appears appears partly off-screen, below the action bar.

(This assumes that all of the manifest voodoo is setup correctly to run using the action bar and associated themes.)

In my other testing, adding a menu item with showAsAction set to ALWAYS, I'm getting nothing in the action bar, a menu button displayed in the bottom row (like the legacy menu button), which brings up the menu item in the same place--below the action bar and halfway off screen.



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11342_32600/ThemeThree.zip">ThemeThree.zip</td></td><td>2012-10-13T16:17:56.000+0000</td><td>3747551</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ping Wang 2012-10-13

   The issue describe above is due to "targetSdkVersion" is not correctly set in tiapp.xml. We should always use "android:targetSdkVersion", eg.
   <code><pre>
   &lt;uses-sdk android:targetSdkVersion="14"/&gt;
   </pre></code>
   
   After fixing the setting issue, we found that in Menu.add() method many properties, eg. showAsAction, icon, are not set correctly. Sent PR <a href="https://github.com/appcelerator/titanium_mobile/pull/3208" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3208</a> to fix this.
   
   For FR:
   1. Run the attached project "ThemeThree" on 4.0+ device.
   2. Should see a "KS_nav_ui.png" icon shown in the action bar.
   3. Click the action item. Should see the console log:
   <code><pre>
   I was clicked
   </pre></code></li>
<li>Hieu Pham 2012-10-15

   Master PR : <a href="https://github.com/appcelerator/titanium_mobile/pull/3208" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3208</a></li>
<li>Ping Wang 2012-10-15

   backport PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/3243" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3243</a></li>
<li>Anshu Mittal 2012-10-25

   Tested with:
   SDK:3.0.0.v20121024144610
   Studio: 3.0.0.201210220122
   Device:HTC Desire V(Android 4.0.3)
   
   ActionItems are displayed correctly</li>
<li>Anshu Mittal 2012-10-25

   Reopening to update labels</li>
</ol>


<p><a href="/TIMOB/TIMOB-11342.json">JSON Source</a></p>