---
title: "[TIMOB-11358] Android: Many calls to getFIle causes local reference table overflow"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-08-14T22:37:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.3</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.4, Release 3.0.0, Release 3.1.0, 2012 Sprint 21 API, 2012 Sprint 21</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, module_filesystem, qe-manualtest, qe-port, triage</td></tr>
<tr><th>Reporter</th><td>Nikhil Sharma</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-10-10T19:10:31.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-14T22:37:13.000+0000</td></tr>
</table>

<h3>Description</h3>

Many calls to getFile with the application data directory causes the local reference table overflow error. It works fine on android 2.3.4 and 3.1, but on android 4.0.1 and 4.1 it stops after the 504 calls. 
<h4>Repo Steps</h4>
1. Run the below code in your app.js
2. Open the DDMS and you can see that it stops at 504 call and gives the above error.

<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor : "red"
})
for (var i = 0; i &lt; 512; i++) {

	Ti.API.info(i);
	var dir = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory, "test");

};
win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11358_32510/crash_log.rtf">crash_log.rtf</td></td><td>2012-10-10T22:01:43.000+0000</td><td>12675</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Josh Roesslein 2012-10-13

   Created [PR #3221](<a href="https://github.com/appcelerator/titanium_mobile/pull/3221)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3221)</a> to resolve issue in master.</li>
<li>Ingo Muschenetz 2012-10-14

   Need to backport to 2_1_X branch.</li>
<li>Josh Roesslein 2012-10-14

   Created [PR #3230](<a href="https://github.com/appcelerator/titanium_mobile/pull/3230)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3230)</a> to back port fix into 3.0 release.</li>
<li>Ingo Muschenetz 2012-10-18

   I don't believe we have a 2.1.X backport PR yet. Could you please generate that?</li>
<li>Hieu Pham 2012-10-24

   2.1.X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/3316" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3316</a></li>
<li>Natalie Huynh 2012-11-01

   Tested with 2.1.4.v20121030173408 on Droid 3 2.3.4</li>
</ol>


<p><a href="/TIMOB/TIMOB-11358.json">JSON Source</a></p>