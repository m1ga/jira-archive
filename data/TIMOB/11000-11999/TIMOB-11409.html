---
title: "[TIMOB-11409] iOS: Accessibility: LayoutChanged and ScreenChanged accessibility system events not working and show warning in console"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-10-15T19:42:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.0, Release 3.1.0, 2012 Sprint 21 Core, 2012 Sprint 21</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>accessibility_module, core, qe-ios100112, qe-nfc, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Satyam Sekhri</td></tr>
<tr><th>Assignee</th><td>Max Stepanov</td></tr>
<tr><th>Created</th><td>2012-10-12T10:10:06.000+0000</td></tr>
<tr><th>Updated</th><td>2012-12-04T19:45:14.000+0000</td></tr>
</table>

<h3>Description</h3>

The device does not read aloud for system events for Ti.App.iOS.EVENT_ACCESSIBILITY_LAYOUT_CHANGED and Ti.App.iOS.EVENT_ACCESSIBILITY_SCREEN_CHANGED
Also warning is shown in console

Steps to Reproduce:
1. Open the application with code below
2. Click on Remove button. (Label gets hidden)
3. Click on Add button. (A view is created and shown)

Actual: Device does not speak anything. A warning is shown in console for both the buttons. Refer the attachment for logs

Expected: Device should speak for respective system event

<code><pre>
var win=Ti.UI.createWindow({backgroundColor:'white'});
var btn1 = Ti.UI.createButton({
	title: 'Add',
	top: 20,
	right:10,
	width:100,
	height: 100,
	accessibilityHint: 'This will add view on screen'
	
});
var btn2 = Ti.UI.createButton({
	title: 'Remove',
	top: 20,
	left:10,
	width:100,
	height: 100,
	accessibilityHint: 'This will remove the label'
});

var lbl = Ti.UI.createLabel({
	text: 'This will be removed',
	top: 150
});
btn1.addEventListener('click', function(e){
	var view= Ti.UI.createView({
		top: 200,
		bottom: 0,
		backgroundColor: "red",
		left: 0,
		right : 50
	});

	view.addEventListener('postlayout',function(e){
		Ti.App.fireSystemEvent(Ti.App.iOS.EVENT_ACCESSIBILITY_SCREEN_CHANGED);
    });
		win.add(view);
});

win.add(lbl);
btn2.addEventListener('click', function(e){
	lbl.hide();
	Ti.App.fireSystemEvent(Ti.App.iOS.EVENT_ACCESSIBILITY_LAYOUT_CHANGED);
});

win.add(btn2);
win.add(btn1);
win.open();

</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-11409_32598/log.txt">log.txt</td></td><td>2012-10-13T11:55:17.000+0000</td><td>1861</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Max Stepanov 2012-10-12

   Not seeing any issues with the events. No warnings in console. Please provide details/sample code.</li>
<li>Satyam Sekhri 2012-10-13

   Description updated with the code being used to test. Also the logs are attached.</li>
<li>Max Stepanov 2012-10-13

   Correct test case
   <code><pre>
    var win=Ti.UI.createWindow({backgroundColor:'white', layout:'vertical'});
    var view= Ti.UI.createView({
        top: 0,
        bottom: 0,
        backgroundColor: "red",
        width: 50,
        height : 50,
        accessibilityLabel: 'Red view'
    });
   
   var btn1 = Ti.UI.createButton({
       title: 'Add',
       width:100,
       height: 100,
       accessibilityHint: 'This will add view on screen'
   
   });
   var btn2 = Ti.UI.createButton({
       title: 'Update',
       width:100,
       height: 100,
       accessibilityHint: 'This will update the button title'
   });
   
   btn1.addEventListener('click', function(e){
   	view.show();
        Ti.App.fireSystemEvent(Ti.App.iOS.EVENT_ACCESSIBILITY_SCREEN_CHANGED);
   });
   
   btn2.addEventListener('click', function(e){
   	btn2.title = "Updated";
       btn2.accessibilityHint = "This button has been already pressed.";
       Ti.App.fireSystemEvent(Ti.App.iOS.EVENT_ACCESSIBILITY_LAYOUT_CHANGED);
   });
   
   win.add(view);
   win.add(btn2);
   win.add(btn1);
   view.hide();
   
   win.open();
   </pre></code></li>
<li>Max Stepanov 2012-10-13

   PR to move EVENT_ACCESSIBILITY_LAYOUT_CHANGED/EVENT_ACCESSIBILITY_SCREEN_CHANGED to Ti.App.iOS module is submitted <a href="https://github.com/appcelerator/titanium_mobile/pull/3216" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3216</a></li>
<li>Max Stepanov 2012-10-14

   3_0_X PR <a href="https://github.com/appcelerator/titanium_mobile/pull/3228" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3228</a></li>
<li>Olga Romero 2012-12-04

   Closing as fixed.
   Tested and verified with:
   Titanium Studio, build: 3.0.0.201211301903
   Titanium SDK, build: 3.0.0.v20121130200208
   Device:
   iPhone5 iOS 6.0</li>
</ol>


<p><a href="/TIMOB/TIMOB-11409.json">JSON Source</a></p>