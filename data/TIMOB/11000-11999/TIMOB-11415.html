---
title: "[TIMOB-11415] Android: App crashes while trying to convert null to boolean"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2012-10-13T02:28:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2012 Sprint 21 Core, 2012 Sprint 21</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>core, qe-and100112</td></tr>
<tr><th>Reporter</th><td>Shyam Bhadauria</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2012-10-12T12:33:42.000+0000</td></tr>
<tr><th>Updated</th><td>2013-03-27T22:29:51.000+0000</td></tr>
</table>

<h3>Description</h3>

This is not a regression. It exists as far as 2.0.1.

Steps to reproduce:
1. Use the code below in app.js
<code><pre>
 var win = Ti.UI.createWindow();
		 
		var info = Ti.UI.createLabel();
		win.add(info);
		 
		var switchButton = Ti.UI.createSwitch({
		    top:40,
		     value:Ti.App.Properties.getBool('test') // mandatory property for iOS 
		});
		switchButton.addEventListener('change',function(_event){
		    Ti.App.Properties.setBool('test', _event.value);
		});
		win.add(switchButton);
		 
		function onPropertiesChange()
		{
		    switchButton.value = Ti.App.Properties.getBool('test');
		    info.text = 'onPropertiesChange';
		    Ti.API.info('onPropertiesChange')
		    setTimeout(function(){info.text = '';}, 1000);
		}
		     
		Ti.App.Properties.addEventListener('change',onPropertiesChange);
		 
		win.addEventListener('close', function() {
		    Ti.App.Properties.removeEventListener('change',onPropertiesChange);
		});
		 
		win.open();
</pre></code>
2. Run the app on android device.

Expected result:
1. A window with a button should be displayed. 

Actual result:
1. App crashes and force closes.It gives message unable to convert null to boolean. Error logs attached.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-11415_32561/TIMOB-10314.rtf">TIMOB-10314.rtf</td></td><td>2012-10-12T12:33:42.000+0000</td><td>11419</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Allen Yeung 2012-10-13

   This behavior has actually been there for a long time, and we actually throw an exception when the user passes in a null.  We may not necessarily want to always assume null -> false.  This will get complicated for other types like string or number.  In the app, they should really set a default value themselves, like:
   <code><pre>
   Ti.App.Properties.getBool('test', false);
   </pre></code>
   Going to mark this as won't fix until we decide we want to change this behavior for sure.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11415.json">JSON Source</a></p>