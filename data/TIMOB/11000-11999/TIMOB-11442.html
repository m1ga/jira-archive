---
title: "[TIMOB-11442] CLI: titanium build should not allow --deploy-type to be set"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-11-19T19:37:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.0, 2012 Sprint 21 JS, 2012 Sprint 21</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>qe-cli</td></tr>
<tr><th>Reporter</th><td>Natalie Huynh</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-10-12T23:23:29.000+0000</td></tr>
<tr><th>Updated</th><td>2012-12-04T23:03:43.000+0000</td></tr>
</table>

<h3>Description</h3>

Steps to Reproduce
1. Run "titanium build -h"

Actual:
Allows for user to set --deploy-type

Expected:
Deploy type is hard coded and 
Simulator = test
Device = development
Package = production

If we allow use to modify this it will ruin all the analytics

<h3>Comments</h3>

<ol>
<li>Chris Barber 2012-10-13

   This is new functionality.
   
   The old builder.py was indeed hard coded, however the correct settings were:
   * Simulator = "development"
   * Device = "test"
   * Package = "production"
   
   The --deploy-type for the new ios build command allows you to set the deploy type to "development" or "test" for only the simulator or device:
   * Simulator = --deploy-type value (either "development or "test") else "development"
   * Device = --deploy-type value (either "development or "test") else "test"
   * Package = "production"</li>
<li>Chris Barber 2012-10-13

   Fixing this for Android build only.</li>
<li>Chris Barber 2012-10-13

   Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/3209" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3209</a>
   3.0.x pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/3210" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3210</a></li>
<li>Natalie Huynh 2012-10-18

   CLI 3.0.6
   SDK 3.0.0.v20121017192538
   Android deploy type is removed
   iOS deploy type still allows you to set device to test. We discussed that we are only allowing simulator to test or development.</li>
<li>Chris Barber 2012-10-18

   We MUST allow the deploy type to be set for device. By default, device builds are set to "test" which will minify all JavaScript code. However when we debug on device, the line numbers are all messed up, so we must allow deploy type development for device.</li>
<li>Natalie Huynh 2012-11-15

   If we allow this on iOS we need to allow the same for Android. Android currently does not allow you to set that</li>
<li>Chris Barber 2012-11-19

   Marking as fixed because Android's build scripts today do not allow --deploy-type to be set, so there's no point to enable this.</li>
<li>Natalie Huynh 2012-12-04

   Tested with CLI 3.0.19</li>
</ol>


<p><a href="/TIMOB/TIMOB-11442.json">JSON Source</a></p>