---
title: "[TIMOB-11495] CLI: iOS fails on every modified build with new CLI"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-10-18T02:14:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.0, Release 3.1.0, 2012 Sprint 21 JS, 2012 Sprint 21</td></tr>
<tr><th>Components</th><td>iOS, Tooling</td></tr>
<tr><th>Labels</th><td>cli, regression, triage</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-10-16T01:13:51.000+0000</td></tr>
<tr><th>Updated</th><td>2012-12-04T18:58:23.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

Every build I do with iOS for the iOS simulator fails after a modification of any kind. This includes the first time the app is run. The app will run fine if you run it a second time. But if you make changes after that successful run, it will fail again until you attempt to run it twice, effectively doubling the length of time it takes to test applications. 

<h4>Reproduce</h4>

<h4>Create new Titanium app (doesn't have to be Alloy, but the problem shows up there as well)</h4>
<h4>Run the app for the iOS simulator (happens on both regular and debug builds)</h4>
<h4>The app will fail with the error log listed below. Run it again and it will succeed.</h4>
<h4>To go further, make any change to the app, perhaps just changing the background color. Run it. It will fail with the same error as before. Run it again and it will succeed. Lather, rinse, repeat.</h4>

<h4>Error Log</h4>

<code><pre>
[DEBUG] :  No project level plugins to load
[DEBUG] :  Loaded plugin hooks:
[DEBUG] :  /Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.0.0/cli/hooks/plugins.js
[DEBUG] :  /Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.0.0/iphone/cli/hooks/install.js
[DEBUG] :  /Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.0.0/iphone/cli/hooks/package.js
[DEBUG] :  /Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.0.0/iphone/cli/hooks/run.js
[INFO] :  Build type: development
[DEBUG] :  Titanium iOS SDK directory: /Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.0.0/iphone
[DEBUG] :  Setting Xcode target to Debug
[DEBUG] :  Setting Xcode build OS to iphonesimulator6.0
[DEBUG] :  Xcode installation: /Applications/Xcode.app/Contents/Developer
[DEBUG] :  iOS WWDR certificate: not found
[DEBUG] :  Minimum iOS version: 4.3
[INFO] :  Building for target: simulator
[INFO] :  Building using iOS SDK: 6.0
[INFO] :  Building for iOS Simulator: 6.0
[INFO] :  Building for device family: universal
[INFO] :  Building for iOS 6.0; using 4.3 as minimum iOS version
[INFO] :  Debugging enabled via debug host: 192.168.1.125:58444
[DEBUG] :  Building for the following architectures: armv7 armv7s i386
[DEBUG] :  Would be firing "compile" legacy plugin hook if it was supported
[INFO] :  Building Info.plist
[INFO] :  No Titanium Modules required, continuing
[INFO] :  Creating symlinks for simulator build
[DEBUG] :  Walking directory /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/Resources
[DEBUG] :  Symlinking /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/Resources/app.js =&gt; /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/build/iphone/build/Debug-iphonesimulator/test1.app/app.js
[DEBUG] :  Symlinking /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/Resources/KS_nav_ui.png =&gt; /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/build/iphone/build/Debug-iphonesimulator/test1.app/KS_nav_ui.png
[DEBUG] :  Symlinking /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/Resources/KS_nav_views.png =&gt; /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/build/iphone/build/Debug-iphonesimulator/test1.app/KS_nav_views.png
[DEBUG] :  Copying /Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.0.0/iphone/modules/facebook/images =&gt; /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/build/iphone/build/Debug-iphonesimulator/test1.app/modules/facebook/images
[DEBUG] :  Copying /Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.0.0/iphone/modules/ui/images =&gt; /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/build/iphone/build/Debug-iphonesimulator/test1.app/modules/ui/images
[DEBUG] :  Copying /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/Resources/iphone =&gt; /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/build/iphone/build/Debug-iphonesimulator/test1.app
[INFO] :  No module resources to copy
[INFO] :  No CommonJS modules to copy
[DEBUG] :  Copying /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/Resources/iphone/appicon.png =&gt; /Users/tlukasavage/Documents/Titanium Studio Workspace/test1/build/iphone/build/Debug-iphonesimulator/test1.app/appicon.png
[INFO] :  Finished building the application in 8s 579ms
[DEBUG] :  Would be firing "postbuild" legacy plugin hook if it was supported
[INFO] :  Running application in iOS Simulator
[DEBUG] :  Terminating all iOS simulators
[DEBUG] :  Removing old log file: /Users/tlukasavage/Library/Application Support/iPhone Simulator/6.0/Applications/6C340125-30CE-4619-90B8-667E85E146DE/Documents/2fab29a2-c337-400f-8863-89582bd7d28a.log
[INFO] :  Launching application in iOS Simulator
[DEBUG] :  Simulator command: "/Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.0.0/iphone/ios-sim" launch "/Users/tlukasavage/Documents/Titanium Studio Workspace/test1/build/iphone/build/Debug-iphonesimulator/test1.app" --sdk 6.0 --family universal
[ERROR] :  An error occurred running the iOS Simulator
[DEBUG] :  Would be firing "finalize" legacy plugin hook if it was supported
[INFO] :  Project built successfully in 9s 632ms
ACT ERR! /Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.0.0/iphone/iphone_sim_activate.scpt: execution error: iPhone Simulator got an error: Connection is invalid. (-609)
</pre></code>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2012-10-16

   I cannot reproduce this bug. Can you attach your project that you're struggling with (including build directories)? We might need to do a screenshare.</li>
<li>Chris Barber 2012-10-18

   Master pull request: <a href="https://github.com/cb1kenobi/titanium_mobile/pull/new/timob-11495" rel="nofollow" target="_blank">https://github.com/cb1kenobi/titanium_mobile/pull/new/timob-11495</a>
   3.0.x pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/3284" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3284</a></li>
<li>Natalie Huynh 2012-12-04

   Tested with 3.0.19</li>
</ol>


<p><a href="/TIMOB/TIMOB-11495.json">JSON Source</a></p>