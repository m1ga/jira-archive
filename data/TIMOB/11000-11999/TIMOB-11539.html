---
title: "[TIMOB-11539] Android: Action bar logo changes when action item is expanded"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-10-30T22:51:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2012 Sprint 22 API, 2012 Sprint 22</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, triage</td></tr>
<tr><th>Reporter</th><td>Arthur Evans</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2012-10-19T02:27:00.000+0000</td></tr>
<tr><th>Updated</th><td>2013-11-07T18:30:09.000+0000</td></tr>
</table>

<h3>Description</h3>

If the user specifies a custom applogo and creates an expandable action item, the logo changes when the item is expanded.

Given an android manifest like this:

<code><pre>
    &lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
        &lt;tool-api-level&gt;14&lt;/tool-api-level&gt;
        &lt;manifest android:installLocation="auto"&gt;
            &lt;uses-sdk targetSdkVersion="14"/&gt;
            &lt;application android:logo="@drawable/applogo" android:theme="@android:style/Theme.Holo"&gt;
            &lt;/application&gt;                
        &lt;/manifest&gt;
    &lt;/android&gt;
</pre></code>

The applogo image must exist in platforms/android/res/drawable/applogo.png and/or the appropriate density-specific drawables- folders. The icon must be different from the default titanium app icon. An unmistakably ugly one is attached for your testing pleasure.

Run the sample code below:


<code><pre>
var win = Ti.UI.createWindow({fullscreen: false, backgroundColor: 'red'});

win.activity.onCreateOptionsMenu = function(e) {
  var item = e.menu.add({title: 'Expand'});
  item.showAsAction = Ti.Android.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW;

  var collapseActionButton = Ti.UI.createButton({
    title: 'Collapse'
  });
  collapseActionButton.addEventListener('click', function() {
    item.collapseActionView();
  });
  item.actionView = collapseActionButton;

  item.on('expand', function() {
    alert('Expanded menu item!');
  });
  item.on('collapse', function() {
    alert('Collapsed menu item!');
  });
  item.on('click', function() {
    alert('clicked!');
  });
}

win.open();
</pre></code>

Note that when the action item is expanded, the custom applogo disappears, replaced by the standard app icon (the Up affordance is also displayed, which is correct).



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-11539_32783/applogo.png">applogo.png</td></td><td>2012-10-19T02:38:15.000+0000</td><td>5574</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Arthur Evans 2012-10-29

   Might possibly be related.</li>
<li>Arthur Evans 2012-10-29

   This may actually be the right behavior. From re-reading the Android docs, the "app logo" can be wider than the "app icon", so what may be happening here is that the app logo is being collapsed to the app icon when the action bar needs more space.
   
   I think someone who understands this code should take a look at this and the linked issue to make sure we're doing the correct thing.
   
   </li>
<li>Ping Wang 2012-10-30

   Tested using a native Android project with action bar. It has the same behavior as described in the ticket. So this is a native Android behavior. Mark the ticket as invalid. </li>
<li>Anshu Mittal 2013-05-10

   As per Arthur Evans and Ping Wang comments, the ticket seems to be invalid. So, closing the issue.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11539.json">JSON Source</a></p>