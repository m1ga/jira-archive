---
title: "[TIMOB-11568] Anvil: wrench is undefined in localMode.js"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-21T18:52:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Components</th><td>Anvil</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jon Alter</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2012-10-24T19:26:10.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-09T18:55:10.000+0000</td></tr>
</table>

<h3>Description</h3>

Running anvil the first time is fine, but once "/tmp/driver/logs/json_results" has been created, when you run anvil a second time, "wrench" is undefined in "localMode.js".


<h4>Steps to repro:</h4>
1. run an anvil test or suite 1x (I tested this with the ti.cloud module)
2. once the test is complete, run the test again
3. notice the error saying that "wrench" is undefined

<h3>Comments</h3>

<ol>
<li>Jon Alter 2012-10-24

   Pull Request: <a href="https://github.com/appcelerator/titanium_mobile/pull/3317" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3317</a></li>
<li>Bill Dawson 2013-03-18

   Would be awesome to get this in.  At the moment it's not possible to run Anvil from a script. (The error occurs particularly when launching Anvil with "--command..." as opposed to in interactive mode.)</li>
<li>Allen Yeung 2013-03-21

   To reproduce this issue, I had to do the following:
   
   - Add 'this.customHarnessConfigDirs = [ "./anvil/configSet" ];' in your config.js
   - Clone the repo at <a href="https://github.com/appcelerator-modules/ti.cloud" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.cloud</a>
   - Go into the ti.cloud/anvil directory
   - Run the command: 'node ~/titanium/titanium_mobile/anvil/driver/driver.js --mode=local --platform=ios --command="start"'</li>
<li>Lee Morris 2017-03-09

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11568.json">JSON Source</a></p>