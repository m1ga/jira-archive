---
title: "[TIMOB-11660] iOS: String.format crash with no feedback if the arguments are not strings"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-04-08T11:39:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.3, Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 07</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Shameer Jan</td></tr>
<tr><th>Created</th><td>2012-10-25T18:10:01.000+0000</td></tr>
<tr><th>Updated</th><td>2015-06-11T15:08:17.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
String.format is crashing the app if the arguments are not strings

<h4>Steps to reproduce and sample code</h4>

<code><pre>
var win = Ti.UI.createWindow({
	title:'test',
	backgroundColor:'white',
});

var cost = 10;
var coins = 20;
var message = String.format(L("menu_iconsbuy"),cost,coins);

// setting cost and coins as Strings, it works
// var message = String.format(L("menu_iconsbuy"),cost.toString(),coins.toString());

Ti.API.info('#### ' + message);

win.open();
</pre></code>


strings.xml (in the i18n folder) is:
<code><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!-- All localized strings should go here --&gt;
&lt;resources&gt;
	&lt;string name="menu_iconsbuy"&gt;This icon set will cost %1$s coins.\n You have %2$s coins\nWant to buy it ?&lt;/string&gt;
&lt;/resources&gt;
</pre></code>

The workaround is to convert the numeric values to string:  
var message = String.format(L("menu_iconsbuy"),cost.toString(),coins.toString());


Attached the crash log.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-11660_33166/11660_log.txt">11660_log.txt</td></td><td>2012-11-02T21:33:58.000+0000</td><td>486</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Shameer Jan 2013-04-08

   Issue does not reproduces 
   
   Tested with
   
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK version: 3.1.0 
   Titanium SDK version: 3.0.2 
   iOS iPhone Simulator: iOS SDK version: 6.0</li>
<li>Paras Mishra 2013-04-10

   Issue is not reproducible, Hence closing.
   
   Verified on:
   Device : iPad 4, iOS version: 6
   SDK: 3.1.0.v20130409124549
   CLI version : 3.1.0-cr
   OS : MAC OSX 10.7.5
   Appcelerator Studio, build: 3.1.0.201304052347
   XCode : 4.5.1
    </li>
<li>Manuel Lehner 2015-06-11

   Thanks. It just took me 2 hours to find that bug! <code>value.toString()</code> solved it.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11660.json">JSON Source</a></p>