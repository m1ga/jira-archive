---
title: "[TIMOB-11709] Android: String.formatTime causes app crash when date is string."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-11-14T21:38:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.3</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.2, Release 7.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>parity, qe-3.2.1</td></tr>
<tr><th>Reporter</th><td>Amuktha Akkinepally</td></tr>
<tr><th>Assignee</th><td>Maggie Chen</td></tr>
<tr><th>Created</th><td>2012-11-08T22:20:47.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-15T07:01:08.000+0000</td></tr>
</table>

<h3>Description</h3>

When the date is a random string rather than a function(Date()) then String.formatTime causes app crash. It just gives a null output on iOS and does not crash.

<h4>Steps to reproduce:</h4>
1. Load the below app.js
2. Test it on both iOS and Android.

Expected Result: On Android, the output should be null or should throw an exception.

Actual Result: The App crashes on Android.

<code><pre>
var win = Ti.UI.createWindow({
   backgroundColor:'white'
   });
win.addEventListener('click', function() {
  
var date = "GIBBERISH";
//var date = new Date();
alert( String.formatTime(date) );

	
});

win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>jithinpv 2013-03-18

   Issue does not reproduces with
   
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK version: 3.1.0 (03/11/13 15:43 0c88429)
   Titanium SDK version: 3.0.2 (02/07/13 16:46 a4def81)
   Device: Samsung galaxy s duos Android version: 4.0.4
   
   jithinpv</li>
<li>Lokesh Choudhary 2014-01-31

   This issue is still reproducible. The app crashes on android 2.3.7, 4.1.1, 4.2.2. But does not crash on android 4.4.2 & 4.3.
   
   Might be a regression, dont have the fix built to test though.
   
   Reopening.
   
   Environment:
   Appc Studio : 3.2.1.201401281409
   Ti SDK : 3.2.1.v20140130101648
   Mac OSX : 10.8.5
   Alloy : 1.3.1-cr 	
   CLI - 3.2.1 beta3</li>
<li>Yordan Banev 2017-08-17

   Moving this out of 6.2.0. 
   A more general type-mismatching handling during build time should cover it and similar cases.</li>
<li>Maggie Chen 2017-11-07

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/9572" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9572</a></li>
<li>Lokesh Choudhary 2017-11-14

   FR Passed.
   Waiting for merge to get enabled.</li>
<li>Lokesh Choudhary 2017-11-14

   PR Merged.</li>
<li>Abir Mukherjee 2017-11-15

   Changes are seen in SDK 7.0.0.v20171114203226.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11709.json">JSON Source</a></p>