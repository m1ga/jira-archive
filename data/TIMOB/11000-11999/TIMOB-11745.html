---
title: "[TIMOB-11745] iOS TableViewRow structures for className meh does not match"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-11-21T22:15:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.0, Release 3.1.0, 2012 Sprint 24, 2012 Sprint 24 Core</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>TableViewRow, qe-port, regression, triage</td></tr>
<tr><th>Reporter</th><td>Pedro Enrique</td></tr>
<tr><th>Assignee</th><td>Max Stepanov</td></tr>
<tr><th>Created</th><td>2012-11-12T23:05:39.000+0000</td></tr>
<tr><th>Updated</th><td>2013-01-15T02:55:15.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>The problem</h4>
In the 3.x CI SDK, the table view rows act funny when className is used. They are not consistent and a message in the log reads:
<code><pre>
[ERROR] TableViewRow structures for className meh does not match
</pre></code>

Some of the symptoms are the fact the the label disappears sometimes, or the height of the row changes randomly. 

<h4>To reproduce</h4>
<code><pre>
var win = Ti.UI.createWindow();
var table = Ti.UI.createTableView();

function Row(name) {
    var row = Ti.UI.createTableViewRow({className: 'meh', reusable: true, height: Ti.UI.SIZE });
    row.add(Ti.UI.createLabel({text: name}));
    return row;
}

function reloadOne() {
    var data = [
        Row('Row 1'),
        Row('Row 2'),
        Row('Row 3'),
        Row('Row 4')
    ];
    
    table.setData(data);
}

function reloadTwo() {
    var data = [
        Row('Row 5'),
        Row('Row 6'),
        Row('Row 7'),
        Row('Row 8')
    ];
    
    table.setData(data);
}
win.add(table);

var btnOne = Ti.UI.createButton({
    title : 'click',
});
var btnTwo = Ti.UI.createButton({
    title : 'click',
});

btnOne.addEventListener('click', reloadOne);
btnTwo.addEventListener('click', reloadTwo);

win.rightNavButton = btnOne;
win.leftNavButton = btnTwo;

win.open({modal:true});
</pre></code>

Copy and paste this into app.js and run it. Click on the buttons on the navigation bar to change the table data.anges randomly. 

<h4>To reproduce</h4>
<code><pre>
var win = Ti.UI.createWindow();
var table = Ti.UI.createTableView();

function Row(name) {
    var row = Ti.UI.createTableViewRow({className: 'meh', height: Ti.UI.SIZE });
    row.add(Ti.UI.createLabel({text: name}));
    return row;
}

function reloadOne() {
    var data = [
        Row('Row 1'),
        Row('Row 2'),
        Row('Row 3'),
        Row('Row 4')
    ];
    
    table.setData(data);
}

function reloadTwo() {
    var data = [
        Row('Row 5'),
        Row('Row 6'),
        Row('Row 7'),
        Row('Row 8')
    ];
    
    table.setData(data);
}
win.add(table);

var btnOne = Ti.UI.createButton({
    title : 'click',
});
var btnTwo = Ti.UI.createButton({
    title : 'click',
});

btnOne.addEventListener('click', reloadOne);
btnTwo.addEventListener('click', reloadTwo);

win.rightNavButton = btnOne;
win.leftNavButton = btnTwo;

win.open({modal:true});
</pre></code>

Copy and paste this into app.js and run it. Click on the buttons on the navigation bar to change the table data.

<h3>Comments</h3>

<ol>
<li>Max Stepanov 2012-11-20

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/3451" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3451</a></li>
<li>Max Stepanov 2012-11-21

   3_0_X PR <a href="https://github.com/appcelerator/titanium_mobile/pull/3464" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3464</a></li>
<li>Anshu Mittal 2013-01-15

   Tested with:
   SDK: 3.0.0 GA, 3.1.0.v20130108153753
   Studio: 3.0.1.201212181159
   Device: iPad2(v 5.1)
   
   No error in the console stating that TableViewrow structures for classname meh do not match</li>
</ol>


<p><a href="/TIMOB/TIMOB-11745.json">JSON Source</a></p>