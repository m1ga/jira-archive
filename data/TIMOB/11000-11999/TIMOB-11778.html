---
title: "[TIMOB-11778] iOS: Ti.API: console.log and console.timestamp output prefixed with [ERROR] depending on previous message"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-11-07T01:35:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 23, 2013 Sprint 23 Core, Release 3.2.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-sdk3.0.2, regression</td></tr>
<tr><th>Reporter</th><td>Dustin Hyde</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-11-15T15:47:01.000+0000</td></tr>
<tr><th>Updated</th><td>2013-11-14T06:31:39.000+0000</td></tr>
</table>

<h3>Description</h3>

The new CLI is prefixing log output with <code>[DEBUG]</code>.

The cases are:
<code><pre>
Ti.API.log('unknown_level', ...)
</pre></code>
and 
<code><pre>
Ti.API.timestamp(...)
</pre></code>


Steps to Reproduce:

1. Run code:

<code><pre>
Ti.API.log('LOG', 'Ti.API.log LOG');
Ti.API.log('LOG', ['Ti.API.log LOG', 'ARG1', 'ARG2']);
  
if(Ti.Platform.osname == 'iphone' || Ti.Platform.osname == 'ipad')
{
    Ti.API.timestamp('Ti.API TIMESTAMP');
    Ti.API.timestamp(['Ti.API TIMESTAMP', 'ARG1', 'ARG2']);
}
</pre></code>

Actual Result:

<code><pre>
[DEBUG] [LOG] Ti.API.log LOG
[DEBUG] [LOG] (
[DEBUG]     "Ti.API.log LOG",
[DEBUG]     ARG1,
[DEBUG]     ARG2
[DEBUG] ) 
[DEBUG] [TIMESTAMP] 374602955.638459 Ti.API TIMESTAMP
[DEBUG] [TIMESTAMP] 374602955.638546 (
[DEBUG]     "Ti.API TIMESTAMP",
[DEBUG]     ARG1,
[DEBUG]     ARG2
[DEBUG] ) 
</pre></code>

Expected Result:

<code><pre>
[LOG] Ti.API.log LOG
[LOG] (
    "Ti.API.log LOG",
    ARG1,
    ARG2
)
[TIMESTAMP] 374624326.619975 Ti.API TIMESTAMP
[TIMESTAMP] 374624326.620025 (
    "Ti.API TIMESTAMP",
    ARG1,
    ARG2
)
</pre></code>

I would expect timestamp to print as INFO, or a custom TIMESTAMP (if possible).


<h3>Comments</h3>

<ol>
<li>Dustin Hyde 2013-02-13

   Now the timestamp (and freeform 'LOG') is printed as ERROR.
   
   <code><pre>
   [ERROR] :  [LOG] Ti.API.log(LOG)
   [ERROR] :  [LOG] (
   [ERROR] :      arg0,
   [ERROR] :      arg1,
   [ERROR] :      arg2
   [ERROR] :  )
   [ERROR] :  [TIMESTAMP] 382417823.074028 Ti.API.timestamp()
   [ERROR] :  [TIMESTAMP] 382417823.074065 (
   [ERROR] :      arg0,
   [ERROR] :      arg1,
   [ERROR] :      arg2
   [ERROR] :  )
   </pre></code>
   
   Titanium Studio: 3.0.2.201302081641
   Titanium SDK: 3.0.2.v20130207164659
   Titanium CLI: 3.0.23
   OS: 10.8.2
   Xcode: 4.6
   iPhone Simulator: 6.1</li>
<li>Dustin Hyde 2013-02-13

   It seems the log level is dependent on if there is an array argument.
   
   Console calls without an array argument log to ERROR (incorrect).
   Console calls with an array argument, if called directly after, log to ERROR (incorrect).
   Console calls with an array argument, if called separately, log to INFO (correct).
   
   See Sample Code:
   
   <code><pre>
   Ti.API.log('custom', ['arg0', 'arg1']);
   Ti.API.log('custom');
   Ti.API.log('custom', ['arg0, arg1']);
   </pre></code>
   
   Output:
   
   <code><pre>
   [INFO] :  custom
   [DEBUG] :  [CUSTOM] (
   [INFO] :  [CUSTOM] (
   [DEBUG] :      arg0,
   [INFO] :      "arg0, arg1"
   [DEBUG] :      arg1
   [INFO] :  )
   [DEBUG] :  )
   </pre></code>
   
   Regression. Works in 2.1.4.</li>
<li>Chris Barber 2013-11-06

   Pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/4919" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4919</a></li>
<li>Priya Agarwal 2013-11-14

   Verified with test environment:
   
   Appcelerator Studio: 3.2.0.201311122338
   SDK:3.2.0.v20131113183932
   alloy: 1.3.0
   acs: 1.0.7
   npm: 1.3.2
   titanium: 3.2.0
   titanium-code-processor: 1.1.0
   Xcode:5.0.2
   Device: Iphone 5s(v7.0.2)
   OS: Mac OSX 10.9
   
   <code><pre>
   Ti.API.log('LOG', 'Ti.API.log LOG');
   Ti.API.log('LOG', ['Ti.API.log LOG', 'ARG1', 'ARG2']);
      
   if(Ti.Platform.osname == 'iphone' || Ti.Platform.osname == 'ipad')
   {
       Ti.API.timestamp('Ti.API TIMESTAMP');
       Ti.API.timestamp(['Ti.API TIMESTAMP', 'ARG1', 'ARG2']);
   }
   </pre></code>
   
   Result as expected:
   
   [LOG] Ti.API.log LOG
   [LOG] (
       "Ti.API.log LOG",
       ARG1,
       ARG2
   )
   [TIMESTAMP] 406103132.967310 Ti.API TIMESTAMP
   [TIMESTAMP] 406103132.968250 (
       "Ti.API TIMESTAMP",
       ARG1,
       ARG2
   )
   
   Closing as verified and getting expected result.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11778.json">JSON Source</a></p>