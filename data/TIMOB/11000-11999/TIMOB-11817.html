---
title: "[TIMOB-11817] Rework FileSystem API"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>rock_solid, ti.next</td></tr>
<tr><th>Reporter</th><td>Ingo Muschenetz</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-11-19T04:05:07.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-16T15:28:26.000+0000</td></tr>
</table>

<h3>Description</h3>

We need to rework the FileSystem API, perhaps as a module

The biggest problem with the FileSystem API is parity. You can't even tell if something is a file or a directory on iOS. As far as Mobile Web is concerned, the FileSystem architecture supports multiple backends. The one and only backend today is local storage. I'd like to add a IndexedDB backed storage system, but IndexedDB is completely async, so it's not compatible with the Titanium FileSystem API.

We should make it like node.js. This means Ti.FileSystem goes bye bye. You would require('fs') to get the FileSystem API. We should expose methods that are async friendly. Doing it this way allows us to:

<h4>ship both the existing FileSystem API and the new one</h4>
<h4>pave the way for ripping modules out of the Titanium namespace</h4>
<h4>introduce async versions of filesystem functions</h4>
<h4>mimic node.js's FileSystem API</h4>

On Mobile Web, it will be tricky/impossible to have a hybrid filesystem layer where local storage is used for synchronous api calls and IndexedDB is used for async calls. If the backend is IndexedDB, we could just have all sync functions fail in combination with the code processor detecting sync filesystem calls being made when IndexedDB is the backend.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-11817.json">JSON Source</a></p>