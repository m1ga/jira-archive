---
title: "[TIMOB-11820] Android: ScrollableView in ScrollView is not working"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-10-14T23:35:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.2</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 03 Core, 2013 Sprint 03, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, module_scrollableview, qe-testadded</td></tr>
<tr><th>Reporter</th><td>wong ka ming</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2012-09-01T02:36:28.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-11T09:45:45.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description of the problem</h4>

When a ScrollableView is added inside a ScrollView, all of the scroll events will be captured by the ScrollView. This makes the ScrollableView difficult to scroll.

<h4>Steps to reproduce</h4>

Use the following code to reproduce the problem: trying to scroll through the ScrollableView screens does not work as it should.

<code><pre>
var win = Ti.UI.createWindow();
win.open();

var scroll = Ti.UI.createScrollView({
    height: Ti.UI.FILL,
    width: Ti.UI.FILL,
    backgroundColor: 'orange',
    contentHeight: '2000',
    contentWidth: 'auto',
    layout: 'vertical'
});


var v1 = Ti.UI.createView({
    height: Ti.UI.FILL,
    width: Ti.UI.FILL,
    backgroundColor: 'blue'
});

var v2 = Ti.UI.createView({
    height: Ti.UI.FILL,
    width: Ti.UI.FILL,
    backgroundColor: 'green'
});

var v3 = Ti.UI.createView({
    height: Ti.UI.FILL,
    width: Ti.UI.FILL,
    backgroundColor: 'red'
});


var v4 = Ti.UI.createView({
    height: Ti.UI.FILL,
    width: Ti.UI.FILL,
    backgroundColor: 'purple'
});

var scrollable = Ti.UI.createScrollableView({
    height: 300,
    width: 400,
    backgroundColor: 'pink',
    views: [v1,v2,v3,v4]
});

scroll.add(scrollable);

win.add(scroll);
</pre></code> 


<h3>Comments</h3>

<ol>
<li>Max Stepanov 2012-11-19

   {quote}
   canCancelEvents : Boolean
   Determines whether this scroll view can cancel subview touches in order to scroll instead.
   
   Set to false to ensure that subview touches always take effect.
   
   Default: true
   {quote}</li>
<li>Davide Cassenti 2012-11-20

   @Max: this doesn't really work in this case. Although setting canCancelEvents to false makes the ScrollableView working perfectly, the ScrollView behind it stops to react to any touch event - as they are prevented by the property. In particular, if I touch an "empty" space of the ScrollView, everything goes well, but if I touch any other view (a button, a label, a transparent container etc.), the scroll isn't captured.
   
   Below an updated sample code that shows what I mean:
   
   <code><pre>
   var win = Ti.UI.createWindow();
   win.open();
   
   var scroll = Ti.UI.createScrollView({
       height: Ti.UI.FILL,
       width: Ti.UI.FILL,
       backgroundColor: 'orange',
       contentHeight: '2000',
       contentWidth: 'auto',
       layout: 'vertical',
       canCancelEvents: false
   });
   
   
   var v1 = Ti.UI.createView({
       height: Ti.UI.FILL,
       width: Ti.UI.FILL,
       backgroundColor: 'blue'
   });
   
   var v2 = Ti.UI.createView({
       height: Ti.UI.FILL,
       width: Ti.UI.FILL,
       backgroundColor: 'green'
   });
   
   var v3 = Ti.UI.createView({
       height: Ti.UI.FILL,
       width: Ti.UI.FILL,
       backgroundColor: 'red'
   });
   
   
   var v4 = Ti.UI.createView({
       height: Ti.UI.FILL,
       width: Ti.UI.FILL,
       backgroundColor: 'purple'
   });
   
   var scrollable = Ti.UI.createScrollableView({
       height: 300,
       width: 400,
       backgroundColor: 'pink',
       views: [v1,v2,v3,v4]
   });
   
   var bottomView = Ti.UI.createView({
       backgroundColor: 'white',
       top: 50,
       left: 0,
       right: 0,
       height: 600
   });
   
   scroll.add(scrollable);
   scroll.add(bottomView);
   
   win.add(scroll);
   </pre></code>
   
   I do have the ScrollableView on top (blue background), which just works seamlessly, but I cannot scroll down unless I touch the very little orange line between the ScrollableView and another View below it (left 50px on purpose in this example).</li>
<li>M Mader 2012-11-20

   The same applies for MapView inside ScrollView and can be fixed by extending the native Android class for this view and adding this code:
   
   <code><pre>
   @Override
   public boolean onTouchEvent(MotionEvent ev) {
       int action = ev.getAction();
       switch (action) {
       case MotionEvent.ACTION_DOWN:
           // Disallow ScrollView to intercept touch events.
           this.getParent().requestDisallowInterceptTouchEvent(true);
           break;
   
       case MotionEvent.ACTION_UP:
           // Allow ScrollView to intercept touch events.
           this.getParent().requestDisallowInterceptTouchEvent(false);
           break;
       }
   
       // Handle MapView's touch events.
       super.onTouchEvent(ev);
       return true;
   }
   </pre></code>
   
   Maybe this could be implemented and be enabled/disabled via a property?</li>
<li>Bill Dawson 2012-11-20

   We seem to have an even bigger problem in Titanium 3.0, in the sense that even with canCancelEvents: false, it's almost impossible to scroll the scrollableview now.  I've traced that problem to this commit: <a href="https://github.com/appcelerator/titanium_mobile/commit/533f6d187c" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/533f6d187c</a> 
   
   We'll no doubt have some parity issues to work out as well.  My impression of using iOS on an iPhone _simulator_ is that it "just works" even without setting "canCancelEvents" at all (which means leaving it at its "true" default, I take it.)</li>
<li>Allen Yeung 2012-12-07

   I have a PR for this that will essentially block touch events to the scroll view from a scrollable view.  You do no need to use 'canCancelEvents' to achieve this, so please test with the original test case.
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/3558" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3558</a>
   
   This PR also contains changes for the 'canCancelEvents' property, which should be tested against TIMOB-9955.  The behavior for 'canCancelEvents' may be different in iOS since it's a native property there and I have updated the docs to say this as well.</li>
<li>Tommy Leung 2013-01-16

   This ticket has been pushed back about 3 sprints now. Is there an ETA when it will actually be merged in?</li>
<li>Shyam Bhadauria 2013-02-25

   ScrollableView is now easy to scroll.
   Environment used for verification -
   Titanium SDK: 3.1.0.v20130223030327
   Titanium Â Studio:3.0.2.201302141201
   Device : Nexus 7 Android 4.1</li>
<li>Priti Srivastava 2013-07-19

   Using SDK 3.1.1 with Alloy project, when I tried test code that has ScrollableView inside ScrollView, I get 2 different behaviors mentioned below:
   
   1. Creating controls in controller -> I tested the code snippet provided in the JIRA ticket you mentioned, on Alloy controller, the scrollable view works fine. But, another big problem is that ScrollView does not respond if you swipe up/down direction initiating touch from scrollable view.
   
   2. Creating controls in XML -> Scrollable view does not swipes smoothly and works only if swipe direction is horizontal. In an angular motion on scrollableview, scrollView starts scrolling. In this approach ScrollView has expected behavior while swiping up/down directions.
   
   Attached herewith both the code snippets.
   
   </li>
<li>Priti Srivastava 2013-07-19

   Here is the sample code:
   
   1. Creating controls in controller -> Used the original code in the issue and placed it in index.js
   
   2. Creating controls in XML ->
   
   <Alloy>
   	<Window id="win" class="container">
   	<ScrollView id="wrapper">
   		<View id="content">
   			<View>
   				<View id="view1">
   					<ScrollableView id="myscrollableview">
   						<View id="TEMP" backgroundColor="#7A0000" />
   						<View id="TEMP" backgroundColor="#007A00" />
   						<View id="TEMP" backgroundColor="#00007A" />
   					</ScrollableView>
   				</View>
   			</View>
   		</View>
   	</ScrollView>
   	</Window>
   </Alloy></li>
<li>Rick Blalock 2013-07-19

    Per Priti's comment above - this is still an issue.</li>
<li>Allen Yeung 2013-10-14

    [~psrivastava],
    
    1. This is expected behavior.  As I mentioned before, for the android implementation, we block off all events to the scroll view from a scrollable view.  This is why a vertical scroll inside a scrollable view won't affect the scroll view.
    
    2. In terms of scrolling not being smooth, this is native behavior.  If you check out the demo at <a href="http://developer.android.com/training/animation/screen-slide.html" rel="nofollow" target="_blank">http://developer.android.com/training/animation/screen-slide.html</a>, you get similar scrolling behavior.  We just use the native ViewPager under the hood.</li>
<li>Federico Casali 2013-10-23

    Verified fixed.
    
    TiSDK 3.2.0.v20131022050844
    CLI 3.2.0
    Titanium Studio 3.2.0.201310181940
    
    Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11820.json">JSON Source</a></p>