---
title: "[TIMOB-11882] Android r21: emulator deploy with r21 clean install fails with 'WVGA854' is not a valid skin name or size (NNNxMMM)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-01-09T11:28:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 01 Core, 2013 Sprint 01</td></tr>
<tr><th>Components</th><td>Android, Tooling</td></tr>
<tr><th>Labels</th><td>core, qe-and100112</td></tr>
<tr><th>Reporter</th><td>Dustin Hyde</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-11-28T20:16:40.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-20T18:20:18.000+0000</td></tr>
</table>

<h3>Description</h3>

When Titanium Project is run on Android Emulator, emulator fails to create with errors:

<code><pre>
[INFO] Creating new Android Virtual Device (2 WVGA854)
Error: 'WVGA854' is not a valid skin name or size (NNNxMMM)
[ERROR] Exception occured while building Android project:
[ERROR] Traceback (most recent call last):
[ERROR]   File "/Users/dhyde/Desktop/titanium/mobilesdk/osx/3.0.0.v20121127170203/android/builder.py", line 2369, in &lt;module&gt;
[ERROR]     builder.run_emulator(avd_id, avd_skin, avd_name, avd_abi, add_args)
[ERROR]   File "/Users/dhyde/Desktop/titanium/mobilesdk/osx/3.0.0.v20121127170203/android/builder.py", line 577, in run_emulator
[ERROR]     avd_name = self.create_avd(avd_id, avd_skin, avd_abi)
[ERROR]   File "/Users/dhyde/Desktop/titanium/mobilesdk/osx/3.0.0.v20121127170203/android/builder.py", line 539, in create_avd
[ERROR]     inifilec = open(inifile,'r').read()
[ERROR] IOError: [Errno 2] No such file or directory: '/Users/dhyde/.android/avd/titanium_2_WVGA854.avd/config.ini'

[INFO] logfile = /Users/dhyde/Desktop/tistud/rc/workspace/MyProject/build.log
[INFO] Launching Android emulator...one moment
[INFO] Creating new Android Virtual Device (2 WQVGA400)
Error: 'WQVGA400' is not a valid skin name or size (NNNxMMM)
[ERROR] Exception occured while building Android project:
[ERROR] Traceback (most recent call last):
[ERROR]   File "/Users/dhyde/Desktop/titanium/mobilesdk/osx/3.0.0.v20121127170203/android/builder.py", line 2369, in &lt;module&gt;
[ERROR]     builder.run_emulator(avd_id, avd_skin, avd_name, avd_abi, add_args)
[ERROR]   File "/Users/dhyde/Desktop/titanium/mobilesdk/osx/3.0.0.v20121127170203/android/builder.py", line 577, in run_emulator
[ERROR]     avd_name = self.create_avd(avd_id, avd_skin, avd_abi)
[ERROR]   File "/Users/dhyde/Desktop/titanium/mobilesdk/osx/3.0.0.v20121127170203/android/builder.py", line 539, in create_avd
[ERROR]     inifilec = open(inifile,'r').read()
[ERROR] IOError: [Errno 2] No such file or directory: '/Users/dhyde/.android/avd/titanium_2_WQVGA400.avd/config.ini'

[INFO] logfile = /Users/dhyde/Desktop/tistud/rc/workspace/MyProject/build.log
[INFO] Building MyProject for Android ... one moment
[INFO] Titanium SDK version: 3.0.0 (11/27/12 17:02 66250ad)
[ERROR] Application Installer abnormal process termination. Process exit value was 1
[ERROR] Timed out waiting for emulator to be ready, you may need to close the emulator and try again

Logfile initialized
[INFO] logfile = /Users/dhyde/Desktop/tistud/rc/workspace/MyProject/build.log
[DEBUG] /Users/dhyde/Desktop/titanium/mobilesdk/osx/3.0.0.v20121127170203/android/builder.py simulator MyProject /Users/dhyde/Downloads/fake-android-install /Users/dhyde/Desktop/tistud/rc/workspace/MyProject com.appcelerator.myproject 2 WVGA854 
[INFO] Building MyProject for Android ... one moment
[INFO] Titanium SDK version: 3.0.0 (11/27/12 17:02 66250ad)
[DEBUG] Waiting for device to be ready ...
[TRACE] adb devices returned 0 devices/emulators
[TRACE] adb devices returned 0 devices/emulators
[TRACE] adb devices returned 0 devices/emulators
[TRACE] adb devices returned 0 devices/emulators
[TRACE] adb devices returned 0 devices/emulators
[TRACE] adb devices returned 0 devices/emulators
[ERROR] Timed out waiting for emulator to be ready, you may need to close the emulator and try again
</pre></code>

When I switched the Android SDK to r20 w/update to r21, the issue went away. I deleted the .android/avds and could no longer reproduce the issue with the clean install of r21.

Steps to Reproduce:

1. Download Android SDK r21 from scratch.
2. Open Studio, Create Project, Run Project in Emulator.

Actual Result:

skin errors

Expected Result:

Emulator creates and app runs without error.

<h3>Comments</h3>

<ol>
<li>Max Stepanov 2012-11-28

   This skin may require additional argument, e.g "-s 454x800"</li>
<li>Bill Dawson 2012-11-28

   Just thinking out loud (and I'll anyway continue to investigate):
   
   If the installation of SDK and tools r21 was completely new, _but_ Titanium Studio already was present on the system and its preferences (Preferences -> Titanium Studio -> Titanium -> Android -> Default Screen) had already been set to WVGA854 (which is now an invalid name), then you should've just needed to change your preferences in Studio.
   
   So was Studio already on the system with this setting?</li>
<li>Dustin Hyde 2012-11-28

   I'm not shocked if this is what happened, I will see if I can reproduce.</li>
<li>Dustin Hyde 2012-11-28

   If I try to re-run an existing run config (r20 => r21) using a clean r21, studio opens an empty run config instead of running and the sdk and screen types are not listed at all. Cannot reproduce using this method.</li>
<li>Bill Dawson 2012-11-28

   So it turns out WVGA854 is valid.  I was thinking maybe it's not valid anymore and thus the error.  That was wrong.
   
   I can't reproduce this behavior at all.  I moved my android sdk folder somewhere else, downloaded the latest (with tools r21), installed the SDKs for Android 4.2 and 2.2, wiped out all AVDs (so it would be forced to create one like it did in your case -- if i didn't do this, it found the existing WVGA854 emulator and used it automatically), opened Studio, created an app and launched to emulator.  It successfully created a new WVGA854 emulator.
   
   You got yourself in some state that I'm not able to reproduce.  And you can't reproduce it at will now because it didn't happen anymore after you wiped out your AVDs, is that right?</li>
<li>Dustin Hyde 2012-11-28

   That is correct.</li>
<li>Bill Dawson 2012-11-28

   Do you happen to remember which platform versions (2.2, etc) you downloaded using the SDK Manager after the fresh/clean install of the SDK with r21 (and before you launched the app to emulator (obviously))?</li>
<li>Dustin Hyde 2012-11-28

   It was all Android Google APIs 2.2.</li>
<li>Bill Dawson 2012-11-29

   I've been trying all sorts of weird configs to repro this but have been unsuccessful.  What do you think we should do with it?</li>
<li>Dustin Hyde 2012-11-29

    I might try creating an emulator/run config in studio using r20, then use a clean install of r21 to deploy an app to that same run config.</li>
<li>Dustin Hyde 2012-11-29

    I created an emulator using r20 and r20 upgraded to r21, then tried to run it again using a clean r21 and could not reproduce. I have not seen this issue since it was logged.</li>
<li>Lee Morris 2017-03-20

    Closing ticket as the issue cannot be reproduced.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11882.json">JSON Source</a></p>