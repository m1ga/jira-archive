---
title: "[TIMOB-11898] CLI: Refactor i18n functions to return an object containing original English string"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>cb-tooling</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-11-29T22:10:47.000+0000</td></tr>
<tr><th>Updated</th><td>2016-08-26T04:28:21.000+0000</td></tr>
</table>

<h3>Description</h3>

Make it so __() and __n() return an object instead of a string with a toString() method that outputs the translated string. The object would also expose the original English string.

Why is this needed? So that a logger can output one language to the terminal and the original string to the log file.

For example, say someone has their locale set to <code>es_ES</code> and they run a build, then the build log would be in Spanish. Then they run into a problem and they need to create a ticket and attach the build log. The developer fixing the ticket will need to know Spanish in order to track down where exactly in the build the issue is occurring.

By outputting the translated string to the screen and the original to the log file, we can understand the logs better.

I experimented with ways of doing this. Returning an object is going to be tricky. The problem is we do a bunch of <code>logger.info(__('howdy') + '\n')</code> and that forces <code>toString()</code> all the time. Maybe there's a way to use multiple streams and/or integrate the i18n functions into the logger mechanism so that they are aware of each other?

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-11898.json">JSON Source</a></p>