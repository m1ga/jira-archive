---
title: "[TIMOB-11936] iOS: Warning Accessing APS keys from toplevel of notification is deprecated when receiving push notification"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-01-23T22:02:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.3, Release 2.1.4</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Betty Tran</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2012-12-03T14:12:22.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T21:17:27.000+0000</td></tr>
</table>

<h3>Description</h3>

When receiving a push notification from ACS and the app is running in the foreground, the following warning is displayed in the console:  

<code><pre>
[326] &lt;Warning&gt;: [WARN] Accessing APS keys from toplevel of notification is deprecated
</pre></code>

The push notification is still received.

Attached is a sample app.js that reproduces the warning. To test it:

1. Open the app
2. Click register local push
3. Click register user
4. Click login
5. Click register server push
6. Send a push notification via ACS



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-11936_33878/app.js">app.js</td></td><td>2012-12-03T14:12:23.000+0000</td><td>3322</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2013-01-23

   This is intentional. We used to flatten the contents of the aps object inside the push notification, e.g., notification.badge as well as notification.aps.badge. Since we don't intercept which properties are used by the app after sending the notification, we have to warn on all notifications, regardless of if notification.badge or its siblings are used or not.</li>
<li>Lee Morris 2017-03-22

   Closing ticket as invalid with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-11936.json">JSON Source</a></p>