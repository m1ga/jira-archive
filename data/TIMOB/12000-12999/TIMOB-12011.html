---
title: "[TIMOB-12011] CLI: iOS: UIPrerenderedIcon ignored and icons are always glossy"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-12-10T22:53:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2012 Sprint 25, 2012 Sprint 25 JS</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>triage</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-12-10T07:12:54.000+0000</td></tr>
<tr><th>Updated</th><td>2013-03-13T18:59:29.000+0000</td></tr>
</table>

<h3>Description</h3>

According to Marco Ferreira, "I noticed when deploying the app to the device (adhoc and installing with iTunes) the app icon always gets the gloss, which means its not respecting the UIPrerenderedIcon property in tiapp.xml."

This will require some investigation.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12011_34066/gloss in app list.png">gloss in app list.png</td></td><td>2012-12-11T19:54:07.000+0000</td><td>26919</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12011_34067/gloss in library.png">gloss in library.png</td></td><td>2012-12-11T19:54:46.000+0000</td><td>41902</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12011_34068/gloss in sim.png">gloss in sim.png</td></td><td>2012-12-11T19:54:46.000+0000</td><td>85279</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12011_34069/gloss on device.png">gloss on device.png</td></td><td>2012-12-11T19:54:46.000+0000</td><td>1018667</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12011_34070/itunes asking to update version.png">itunes asking to update version.png</td></td><td>2012-12-11T19:54:46.000+0000</td><td>30889</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12011_34071/updated app after update clicked.png">updated app after update clicked.png</td></td><td>2012-12-11T19:54:46.000+0000</td><td>27206</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12011_34072/updated app previously synced.png">updated app previously synced.png</td></td><td>2012-12-11T19:54:46.000+0000</td><td>26855</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Eric Merriman  2012-12-10

   Verified occurs with:
   SDK: 3.0.0.v20121207120202
   Titanium Studio, build: 3.0.0.201212061921
   Mac OS X 10.8.2
   Xcode 4.5.2
   CLI: 3.0.20</li>
<li>Eric Merriman  2012-12-10

   Disregard my previous comment. Had the XML out of sorts. This works for me with Ad-hoc distribution installing through iTunes. Icon in iTunes has no gloss and icon on device has no gloss.
   
   <code><pre>
   &lt;ios&gt;
           &lt;plist&gt;
               &lt;dict&gt;
               	&lt;key&gt;UIPrerenderedIcon&lt;/key&gt;
              		 &lt;true/&gt;
                   &lt;key&gt;UISupportedInterfaceOrientations&lt;/key&gt;
                   &lt;array&gt;
                       &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;
                       &lt;string&gt;UIInterfaceOrientationPortraitUpsideDown&lt;/string&gt;
                       &lt;string&gt;UIInterfaceOrientationLandscapeLeft&lt;/string&gt;
                       &lt;string&gt;UIInterfaceOrientationLandscapeRight&lt;/string&gt;
                   &lt;/array&gt;
               &lt;/dict&gt;
           &lt;/plist&gt;
       &lt;/ios&gt;
   </pre></code>
   </li>
<li>Chris Barber 2012-12-10

   This is a non-issue. Everything works as expected.</li>
<li>Marco Ferreira 2012-12-11

   I'm having this issue for a long time and it's still happening with the latest CLI.
   
   Note this is only happening using the CLI. Starting Studio bypassing CLI will build my app as expected and icon prerender setting is respected.
   
   This is my <ios> chunk from tiapp.xml:
   <code><pre>
       &lt;ios&gt;
           &lt;ios-version&gt;6.0&lt;/ios-version&gt;
           &lt;min-ios-ver&gt;5.1&lt;/min-ios-ver&gt;
           &lt;plist&gt;
               &lt;dict&gt;
                   &lt;key&gt;UIPrerenderedIcon&lt;/key&gt;
                   &lt;true/&gt;
                   &lt;key&gt;UIStatusBarStyle&lt;/key&gt;
                   &lt;string&gt;UIStatusBarStyleBlackOpaque&lt;/string&gt;
                   &lt;key&gt;UIRequiresPersistentWiFi&lt;/key&gt;
                   &lt;false/&gt;
                   &lt;key&gt;UIStatusBarHidden&lt;/key&gt;
                   &lt;false/&gt;
                   &lt;key&gt;UISupportedInterfaceOrientations~iphone&lt;/key&gt;
                   &lt;array&gt;
                       &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;
                   &lt;/array&gt;
                   &lt;key&gt;UISupportedInterfaceOrientations~ipad&lt;/key&gt;
                   &lt;array&gt;
                       &lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;
                       &lt;string&gt;UIInterfaceOrientationPortraitUpsideDown&lt;/string&gt;
                       &lt;string&gt;UIInterfaceOrientationLandscapeLeft&lt;/string&gt;
                       &lt;string&gt;UIInterfaceOrientationLandscapeRight&lt;/string&gt;
                   &lt;/array&gt;
               &lt;/dict&gt;
           &lt;/plist&gt;
       &lt;/ios&gt;
   </pre></code>
   
   I don't see any difference from what Chris posted above, but correct me if I'm wrong.</li>
<li>Chris Barber 2012-12-11

   @Marco, your tiapp.xml looks fine. Next I need to find out a bunch of things. First, from the command line, run "titanium" and report back in this ticket the CLI version and SDK version from the first line of output. Second, change directory into your project, then run "titanium build --platform ios --target dist-adhoc". You'll need to specify the distribution name, output directory, and provisioning profile uuid. When the build finishes, drag the ipa file from the output directory into iTunes so that you can sync and test.</li>
<li>Marco Ferreira 2012-12-11

   $ titanium
   Titanium Command-Line Interface, CLI version 3.0.20, Titanium SDK version 3.1.0.v20121128155800
   
   I'm not using 3.1.0 as the output may tell, I'm with 3.0.0.v20121207120202 right now.
   
   Project builds successfully, but for some reason iTunes doesn't recognize this build as an update for the app so it doesn't update the app on my device. (most likely a seperate issue)
   
   After deleting the app from my device and installing the new build, the app icon has the gloss.</li>
<li>Chris Barber 2012-12-11

   @Marco, OK, sounds like your "active" Titanium SDK is set to 3.1.0.v20121128155800 and your tiapp.xml's sdk-version is set to 3.0.0.v20121207120202. That should be fine.
   
   I have a couple of questions:
   
   1) What version of iTunes do you have?
   
   2) Does it error when installing the app in iTunes or when you sync your device?
   
   One thing you can try is going into iTunes, then go to the apps screen. Find your app and delete it. You can delete the app from your device too. Then drop the ipa file back into iTunes and sync your device.</li>
<li>Eric Merriman  2012-12-11

   Hello,
   
   Using the TiApp.xml from Marco's project, I used only the CLI (now 3.0.21) to build for simulator, then on device. I am running:
   SDK 3.0.0.v20121210171701
   Active sdk set in CLI with "ti sdk select 3.0.0.v20121210171701"
   Target iOS SDK: 6.0
   Xcode 4.5.2
   iTunes: 11
   
   Simulator showed gloss/no gloss correctly (app icon), iTunes showed gloss correctly (iTunesArtwork), device showed gloss correctly (app icon). See attached screenshots.
   
   Regarding iTunes updating for newer versions:
   Creating a "for device" build when the app has previously been built caused iTunes to prompt me to replace. When already synced to device, iTunes marked the new app as "update" and the button must be clicked for the sync to actually update. This additional step was not required in iTunes 10. See screens.
   
   </li>
<li>Marco Ferreira 2012-12-11

   @Chris
   1. iTunes 11
   2. No error
   
   I did exactly that when testing the CLI as you suggested.
   
   
   @Eric
   After the build is completed by the CLI, I get the same request from iTunes you mentioned - "Replace?" - and I just answer to replace it, but unfortunetly it seems iTunes (or the CLI) sees it as the same version I already have installed on the device.</li>
<li>Eric Merriman  2012-12-12

    @Marco, are you using a custom info.plist that includes a version? If so, the version for your app will remain static at that version and so iTunes will not regard it as changed. We are writing another bug to document this and I will relate the two. </li>
<li>Eric Merriman  2012-12-12

    One other thing to note, I will be verifying that custom info.plist is not stomping on the values set in Tiapp.xml.</li>
<li>Marco Ferreira 2012-12-12

    Yes I have a custom info.plist. This was exactly what i remembered that could be causing it.
    I was using the custom plist to add a custom font, but since tiapp.xml already supports adding plist keys, I've deleted the custom plist.
    
    Removing the custom plist solves the problem.</li>
<li>Eric Merriman  2013-03-04

    Closing based on comments above. If we need another bug for some issue with the custom plist we will open one.</li>
</ol>


<p><a href="/TIMOB/TIMOB-12011.json">JSON Source</a></p>