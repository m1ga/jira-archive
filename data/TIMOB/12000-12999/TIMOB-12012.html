---
title: "[TIMOB-12012] SQLite fieldCount() Crashes on iOS"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-12-11T20:55:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.0, Release 3.1.0, 2012 Sprint 25, 2012 Sprint 25 API</td></tr>
<tr><th>Components</th><td>Core, iOS</td></tr>
<tr><th>Labels</th><td>database, qe-testadded, triage</td></tr>
<tr><th>Reporter</th><td>Rick Blalock</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2012-12-10T12:54:37.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:42:50.000+0000</td></tr>
</table>

<h3>Description</h3>

In 3.0 RC2 iOS crashes when trying to use fieldCount().  If changed to just fieldCount (the property) it works.  Previously fieldCount as a property wasn't supported in iOS but I see it's available now (<a href="http://docs.appcelerator.com/titanium/3.0/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/3.0/#</a>!/api/Titanium.Database.ResultSet-property-fieldCount).  Probably was a parity issue that was fixed but in the process causes this crash.

The code that makes it crash (from the Joli ORM lib on github):

            if (Titanium.Platform.name !== 'android') {
                fieldCount = rows.fieldCount;
            } else {
                fieldCount = rows.fieldCount();
            }

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2012-12-11

   PR's 
   <a href="https://github.com/appcelerator/titanium_mobile/pull/3575" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3575</a>
   <a href="https://github.com/appcelerator/titanium_mobile/pull/3576" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3576</a>
   
   Reverted fixes for ticket TIMOB-2328
   </li>
<li>Sabil Rahim 2013-01-14

   <h4>TESTING CODE</h4>
   
   <code><pre>
   var win = Ti.UI.createWindow();
   win.open();
     
   var db = Titanium.Database.open('testdb');
     
   db.execute('CREATE TABLE IF NOT EXISTS DATABASETEST (ID INTEGER, NAME TEXT)');
     
   db.execute('INSERT INTO DATABASETEST (ID, NAME ) VALUES(?,?)',1,'Name 1');
   db.execute('INSERT INTO DATABASETEST (ID, NAME ) VALUES(?,?)',2,'Name 2');
   db.execute('INSERT INTO DATABASETEST (ID, NAME ) VALUES(?,?)',3,'Name 3');
   db.execute('INSERT INTO DATABASETEST (ID, NAME ) VALUES(?,?)',4,'Name 4');
     
   var rows = db.execute('SELECT * FROM DATABASETEST');
     
   Ti.API.info("If this didnot crash then you r fine !! fieldCount: " + rows.fieldCount);
   Titanium.API.info('ROW COUNT = ' + rows.getRowCount());
   </pre></code></li>
<li>Olga Romero 2013-01-15

   Closing as fixed.
   Tested and verified with:
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK, build: 3.1.0.v20130114171802
   Titanium SDK, build: 3.0.1.v20130114133207
   iPhone Simulator 6.0
   iPhone 5 iOS 6.0
   iPhone 4 iOS 4.3.5</li>
</ol>


<p><a href="/TIMOB/TIMOB-12012.json">JSON Source</a></p>