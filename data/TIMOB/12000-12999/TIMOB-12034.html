---
title: "[TIMOB-12034] CLI: Building for android with '-b' -build only flag starts the daemon & waits for the device after building the app"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-10-19T01:21:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 21, 2013 Sprint 21 Core, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android, Tooling</td></tr>
<tr><th>Labels</th><td>androidbuild, ay-verified, cb-verified, qe-and100112, qe-cli</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-12-12T01:07:12.000+0000</td></tr>
<tr><th>Updated</th><td>2013-10-29T19:31:41.000+0000</td></tr>
</table>

<h3>Description</h3>



<h3>Comments</h3>

<ol>
<li>Lokesh Choudhary 2012-12-12

   This issue is also seen on Ubuntu 12.04 LTS.</li>
<li>Yoshiya KANENISHI 2013-03-13

   I can't trace completely, but then, I avoid this problem by running <code>builder.py</code> directly.
   
   Run <code>~/.titanium/mobilesdk/linux/3.0.0.GA/android/builder.py build PROJECT_NAME ~/android-sdk-linux ~/work/ti/myapp com.mydomain.myappid</code> instead of <code>ti build -p android -b</code>.
   
   Where is the origin of this problem in? I have no idea.</li>
<li>Toshiro Yagi 2013-04-18

   Workaround: add two lines to ~/Library/Application\ Support/Titanium/mobilesdk/osx/3.1.0.GA/android/cli/commands/_build.js.
   <code><pre>
   &lt; 					if (cli.argv.target == 'emulator') {
   ---
   &gt; 					if (cli.argv['build-only']) {
   &gt; 							return
   &gt; 					} else if (cli.argv.target == 'emulator') {
   </pre></code></li>
<li>Chris Barber 2013-06-11

   Android build current does not honor the --build-only flag. It should produce the same identical results as without the flag. This will be fixed for 3.2.0.</li>
<li>Eric Wing 2013-06-13

   I was trying to work around this, but found two different bugs.
   
   I tried using dist-playstore with --skip-js-minify, but that parameter is ignored which looks like another bug.
   
   ti build --platform android --target dist-playstore --android-sdk=$ANDROID_SDK --alias=foo --keystore=foo.keystore --output-dir=dist --password=foo --skip-js-minify
   
   
   But I discovered that the --build-only flag seems to 'break' the Javascript compilation/minification step when combined with the dist-playstore.
   
   ti build --platform android --target dist-playstore --build-only --android-sdk=$ANDROID_SDK --alias=foo --keystore=foo.keystore --output-dir=dist --password=foo
   
   This works as a workaround for me I think, but technically is another bug.
   
   </li>
<li>Allen Yeung 2013-10-19

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4781" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4781</a></li>
<li>Samuel Dowse 2013-10-29

   Verified and working using:
   Mac OSX 10.9 Mavericks
   Ubuntu 12.04
   Windows 7
   CLI: 3.2.0
   
   Using -b will result in build only and CLI will not wait for a device after building.</li>
</ol>


<p><a href="/TIMOB/TIMOB-12034.json">JSON Source</a></p>