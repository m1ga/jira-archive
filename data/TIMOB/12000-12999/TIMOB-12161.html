---
title: "[TIMOB-12161] Android: Localization of string names with '.'"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-08-26T23:28:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 18, 2013 Sprint 18 API, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, localization</td></tr>
<tr><th>Reporter</th><td>David Bankier</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-12-27T05:58:46.000+0000</td></tr>
<tr><th>Updated</th><td>2014-10-10T08:56:08.000+0000</td></tr>
</table>

<h3>Description</h3>

*Issue*

It is known that the strings.xml file is less flexible in Android as it is used to generate the R.java file. (E.g. a build will fail if a string name starts with an integer or includes a '+', etc.)

The above stated, if a string name includes a '.' character, a build will succeed but replace the '.' characters with '_'. 

<code><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;resources&gt;
  &lt;string name="my.value"&gt;Hello World&lt;/string&gt;
&lt;/resources&gt;

</pre></code>

Since the replacement is silent, the dev is unaware of the change so the following will not work.

<code><pre>
alert(L("my.value"});
</pre></code>

*Temporary Work Around*

For large code bases that cannot change the naming convention, the L function can be redefined, e.g.:

<code><pre>
(function(object) {
  if (exports.osname ==="android") {
    object.L = function(lookup, defaults) {
     return  Ti.Locale.getString(lookup.replace(/\./g,"_"), defaults);
    };
  }
})(this);
</pre></code>



<h3>Comments</h3>

<ol>
<li>Hieu Pham 2013-08-21

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4589" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4589</a></li>
<li>Samuel Dowse 2013-11-14

   Verified Fixed on:
   Mac OSX 10.9 Mavericks
   Titanium Studio, build: 3.2.0.201311140700
   Titanium SDK, build: 3.2.0.v20131113183932
   CLI: 3.2.0
   Alloy: 1.3.0
   Android Simulator: 2.3.3, 4.4
   
   Localization string my.value was picked up and displayed on screen using the above code.
   Closing.</li>
<li>Michael KÃ¥ring 2014-10-10

   where and how do you redefine the L function as shown in the example?</li>
</ol>


<p><a href="/TIMOB/TIMOB-12161.json">JSON Source</a></p>