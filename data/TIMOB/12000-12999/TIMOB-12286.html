---
title: "[TIMOB-12286] Android: Memory leak when backing out and coming back to an app"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-01-29T00:03:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.2, Release 3.1.0, 2013 Sprint 02 Core, 2013 Sprint 02</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_memory, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Allen Yeung</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2013-01-15T10:33:25.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:43:45.000+0000</td></tr>
</table>

<h3>Description</h3>

Steps to reproduce:

1. Run the following code:
<code><pre>
var win = Ti.UI.createWindow({
  layout: 'vertical'
});
win.buffer = Ti.createBuffer({length: 250 * 1024});
win.open();
</pre></code>
2. Back out of the app
3. Relaunch the app

Actual Results:
If you use DDMS, you will notice that the allocated memory will increase over time if you repeat steps 2-3.

Expected Results:
The memory does not increase

<h3>Comments</h3>

<ol>
<li>Allen Yeung 2013-01-15

   When we fix this back and forth bug by creating a new context after each launch, it seems to trigger some slow behavior when loading modules at startup. This happens if you relaunch the app MANY times... like 20 or more.  If we make the module use the existing context as mentioned in TIMOB-11752, this lag on startup issue should be fixed.</li>
<li>Allen Yeung 2013-01-23

   <a href="https://github.com/appcelerator/titanium_mobile/pull/3757" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3757</a></li>
<li>Anshu Mittal 2013-01-29

   Tested with: 
   SDK:3.1.0.v20130128172329,3.0.2.v20130128174806
   Studio:3.0.2.201301251115
   Device: Android emulator(v 2.3.3)</li>
<li>Luca Marzi 2013-09-04

   On my Samsung Galaxy Note II android 4.1.2 the is still present.
   Every application built with Titanium (I use 3.1.2 GA) increases his space in RAM every time it is closed (with backbutton) and, then, launched again.
   Demo applications like "Master/Detail Application" or "Todo List" show the same problem.</li>
</ol>


<p><a href="/TIMOB/TIMOB-12286.json">JSON Source</a></p>