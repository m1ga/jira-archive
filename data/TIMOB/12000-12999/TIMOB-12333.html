---
title: "[TIMOB-12333] iOS: customized Ti.Map.Annotation not working"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2017-03-29T16:28:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Davide Cassenti</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-01-18T06:15:56.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-29T16:28:04.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
With iOS, custom annotation on Ti.Map are not working. Same code is fine in Android.

<h4>Steps to reproduce</h4>
Use the following code to see the issue:

<code><pre>
var win1 = Titanium.UI.createWindow({
    backgroundColor:'#fff'
});

var myAnnotations = [];

var mapview = Titanium.Map.createView({
    mapType: Titanium.Map.STANDARD_TYPE,
    region: {latitude:45,longitude:11,latitudeDelta:0.010, longitudeDelta:0.018}
});
win1.add(mapview);

var customView = Ti.UI.createView({
	layout:'vertical',
	height:Ti.UI.SIZE,
	width:Ti.UI.SIZE
});

var storeText = Ti.UI.createLabel({
	width:Ti.UI.SIZE,
	left:5,
	top:2,
	text:"Current location",
	color: '#FFF',
	height:Ti.UI.SIZE,
	font:{fontSize:16,fontWeight: 'bold',fontFamily:'Helvetica Neue'}
});
customView.add(storeText);

var address = Ti.UI.createLabel({
	width:Ti.UI.SIZE,
	left:5,
	top:2,
	text:"Chennai",
	color: '#FFF',
	height:Ti.UI.SIZE
});
customView.add(address);

var phoneNumber = Ti.UI.createLabel({
	width:Ti.UI.SIZE,
	left:5,
	top:0,
	text:'+91999999999',
	color: '#FFF',
	height:Ti.UI.SIZE
});
customView.add(phoneNumber);

var cLocation = Titanium.Map.createAnnotation({
    latitude:45,
    longitude:11,
    leftView: customView,
    //title: ' '
});
myAnnotations.push(cLocation);

mapview.annotations = myAnnotations;

win1.open();
</pre></code>

Running on Android, everything looks nice (see screenshot); on iOS, the annotation is not shown. If I uncomment the line with 'title', the annotation appears, but the default iOS background appears, and the custom view is not visible (screenshot as well).

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12333_34836/Screen Shot 2013-01-18 at 2.15.36 PM.png">Screen Shot 2013-01-18 at 2.15.36 PM.png</td></td><td>2013-01-18T06:15:56.000+0000</td><td>59751</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12333_34837/Screen Shot 2013-01-18 at 2.15.51 PM.png">Screen Shot 2013-01-18 at 2.15.51 PM.png</td></td><td>2013-01-18T06:15:56.000+0000</td><td>168531</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2013-01-21

   iOS limitation.
   Need the title property if the callout needs to appear.
   Leftview and rightview callout properties must have a height of 32 or less</li>
<li>Lee Morris 2017-03-29

   Closing ticket with reference to the above comment.</li>
</ol>


<p><a href="/TIMOB/TIMOB-12333.json">JSON Source</a></p>