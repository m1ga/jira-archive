---
title: "[TIMOB-12421] iOS: Horizontal Wrap: Ti.UI.FILL doesn't seem to be used correctly"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-07-23T03:48:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 15 API, 2013 Sprint 15</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>exalture</td></tr>
<tr><th>Reporter</th><td>Martin Guillon</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-01-01T16:29:13.000+0000</td></tr>
<tr><th>Updated</th><td>2017-10-09T15:11:32.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
Using the 'horizontal' layout with the horizontalWrap to false.

<h4>Expected behavior</h4>
Allow to create auto resizing views. Important part of it is using Ti.UI.FILL layout.

_An use case_, for example if you have  tableviewrow with an image on the left a label in the middle and an optional button on the right, you can easily layout the whole of it.

_Yet there's one catch_, when a view layouts its children, if a child has a Ti.UI.FILL width, it doesnt take in account the "next" siblings. It just takes the remaning width. Consequently and "next" child will be out of the view.

Views with Ti.UI.FILL should be seen as "spacer" and take as much width as possible but computed last! This is the behavior of spacers in toolbars.

<h4>Working sample</h4>
<code><pre>
var win = Ti.UI.createWindow();
win.backgroundColor = 'white';

var view = Ti.UI.createView({
	height : Ti.UI.SIZE,
	width : Ti.UI.FILL,
	layout : 'horizontal',
	horizontalWrap : false
});
win.add(view);

view.add(Ti.UI.createView({
	backgroundColor : 'black',
	left : 2,
	width : 30,
	height : 20
}));

view.add(Ti.UI.createView({
	backgroundColor : 'red',
	left : 2,
	width : Ti.UI.FILL,
	height : 20
}));

view.add(Ti.UI.createView({
	backgroundColor : 'blue',
	left : 2,
	width : 20,
	height : 20
}));

view.add(Ti.UI.createView({
	backgroundColor : 'green',
	left : 2,
	width : Ti.UI.FILL,
	height : 40
}));

view.add(Ti.UI.createView({
	backgroundColor : 'black',
	left : 2,
	width : 30,
	height : 40
}));

var b1 = Titanium.UI.createButton({
	title : 'I am a Button',
	height : 40,
	width : 200,
	top : 10
});

b1.addEventListener('click', function() {
	view.layout = (view.layout === 'horizontal') ? 'vertical' : 'horizontal';
	if (view.layout === 'horizontal')
		view.horizontalWrap = !(view.horizontalWrap);
});
win.add(b1)
win.open(); 
</pre></code>

<h3>Comments</h3>

<ol>
<li>Martin Guillon 2013-01-01

   </li>
<li>Eduardo Gomez 2013-01-25

   Updated labels and moved to main project to dig into it.
   
   Check out CLA here: <a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/guide/Pull_Request_Guide</li>
<li>Vishal Duggal 2013-07-23

   Can not accept this PR.
   
   1. The overall desired outcome completely breaks the Composite Layout Spec as defined here - <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/UI_Composite_Layout_Behavior_Spec-section-4196675_UICompositeLayoutBehaviorSpec-FILLbehavior
   2. It does not completely implement the spacer functionality (What if I had a bunch of Views with height specified as 'SPACER' in a vertical layout)
   3. Does not define behavior of a 'SPACER' inside a View following SIZE.
   
   Marking this ticket invalid.</li>
<li>Martin Guillon 2014-02-24

   @Vishal: I totally understand. First that PR is far too old and i can't support anymore.
    1. It does not really break it, it defines a case which is not really specified for FILL ('vertical', 'horizontal', 'horizontal' + "wrap").
    2. I don't really remember how it was at that point. I rewrote the whole layout pass and that with it. Right now it does work in any layout and follows the specified rules from 1
    3. The idea is that it works exactly like specified in 1. You can see spacer as a view with weight 1 in a linearlayout on Android.
   
   Anyway thanks for taking the time to answer</li>
<li>Lee Morris 2017-04-05

   Closing ticket as invalid.</li>
<li>Alberto Marcone 2017-10-09

   this is still happening and there's no solution on the market yet. Two views inside an horizontal view are not wrapped correctly if one view has a FILL width.</li>
</ol>


<p><a href="/TIMOB/TIMOB-12421.json">JSON Source</a></p>