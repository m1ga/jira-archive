---
title: "[TIMOB-12493] Android: Event bubbling runtime error when deleting rows from a table"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-06T22:56:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 05 API, 2013 Sprint 05</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, qe-port, regression</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Sunila</td></tr>
<tr><th>Created</th><td>2013-01-30T18:09:53.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:43:16.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>problem</h4>

When attempting to delete a row in a table by clicking on a UI element in that row, Titanium generates a runtime error on Android (attached).

What appears to be happening is that the event (click) triggered on the UI element within the row is attempting to bubble to the row itself, which no longer exists if the action is to delete the row. This makes a lot more sense in the test case. This may be preventable by messing with the event bubbling properties, but still presents a regression from previous versions.

This error does not occur on iOS with this test case.

<h4>test case </h4>

This problem surfaced in an Alloy app when I updated to TiSDK 3.0.0.GA, but I have created a pure Titanium test case to make things easier. Click the "delete" button and you should get the runtime error.

<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor: '#fff',
	fullscreen: false,
	exitOnClose: true
});

var table = Ti.UI.createTableView();
var row = Ti.UI.createTableViewRow({
	height: '50dp',
});
var button = Ti.UI.createButton({
	title: 'delete'
});
button.addEventListener('click', function(e) {
	table.setData([]);
});
row.add(button);

table.setData([row]);

win.add(table);
win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12493_35194/Screen Shot 2013-01-30 at 1.05.48 PM.png">Screen Shot 2013-01-30 at 1.05.48 PM.png</td></td><td>2013-01-30T18:09:53.000+0000</td><td>42203</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-02-11

   A workaround would be to do this in the event handler
   
   <code><pre>
   e.cancelBubble = true;
   </pre></code></li>
<li>Ping Wang 2013-02-15

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/3868" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3868</a></li>
<li>Shyam Bhadauria 2013-03-12

   Environment used for verification -
   Titanium SDK: 3.1.0.v20130311192922
   Titanium Â Studio:3.0.2.201302151605
   Device: Samung GALAXY Tab 620 Android 3.2</li>
</ol>


<p><a href="/TIMOB/TIMOB-12493.json">JSON Source</a></p>