---
title: "[TIMOB-12593] iOS: Caps not working for View/ImageView"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-02-27T19:18:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 05 API, 2013 Sprint 05</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>iOS, module_imageview, module_views, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Varun Joshi</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-02-05T18:45:54.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:43:16.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>

Using backgroundLeftCaps and backgroundTopCaps on views/imageviews does not have the same effect as the button. The image in imageview/view interpolates/blends the stretched region unlike a button image.

<h4>Steps to Reproduce</h4>

1. Run the sample code here:

<a href="http://pastie.org/private/h9rbm8ky381wvtob04ghww" rel="nofollow" target="_blank">http://pastie.org/private/h9rbm8ky381wvtob04ghww</a> 

Copy the attached image "testimage.png" to Resources folder.

2. Notice the output in the screenshot attached. 

The button version at the top is correct, it only shows the pixels we want and it does not do any interpolation. However the view and imageview with the same "caps" data, blends/interpolates the stretched region. 

<h4>Expected Output</h4>

The imageview/view should look the same as a button.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12593_35304/Screen Shot 2013-02-05 at 10.41.25 AM.png">Screen Shot 2013-02-05 at 10.41.25 AM.png</td></td><td>2013-02-05T18:45:54.000+0000</td><td>98681</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12593_35305/testimage.png">testimage.png</td></td><td>2013-02-05T18:45:54.000+0000</td><td>1357</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2013-02-22

   Test Case
   <code><pre>
   var win = Ti.UI.createWindow({
     backgroundColor: 'white'
   })
   
   var scroll = Ti.UI.createScrollView({
     layout: 'vertical'
   })
   win.add(scroll)
   
   scroll.add(createTest(20, 20, 'button'))
   scroll.add(createTest(20, 20, 'view'))
   scroll.add(createTest(20, 20, 'imageview'))
   
   win.open()
   
   
   function createTest(left, top, type) {
     var img = 'testimage.png'
     
     var view = Ti.UI.createView({
       layout: 'horizontal',
       width: 300,
       height: 100,
       top: 10
     })  
     
     switch (type) {
     case 'button':
       var sub = Ti.UI.createButton({
         backgroundImage: img,
         width: 100,
         height: 100,
         backgroundLeftCap: left,
         backgroundTopCap: top
       })    
       view.add(sub)
       break
     case 'view':
       var sub = Ti.UI.createView({
         backgroundImage: img,
         width: 100,
         height: 100,
         backgroundLeftCap: left,
         backgroundTopCap: top
       })
       view.add(sub)
       break
     case 'imageview':
       var sub = Ti.UI.createImageView({
         backgroundImage: img,
         width: 100,
         height: 100,
         backgroundLeftCap: left,
         backgroundTopCap: top
       })
       view.add(sub)
       break
     }
     
     var label = Ti.UI.createLabel({
       left: 5,
       text: 'left:' + left + ' top:' + top + ' ' + type  
     })
     view.add(label)
     
     return view
   }
   </pre></code></li>
<li>Vishal Duggal 2013-02-22

   Pull pending against master
   <a href="https://github.com/appcelerator/titanium_mobile/pull/3898" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3898</a></li>
<li>Olga Romero 2013-03-08

   Verified fix with:
   Titanium Studio, build: 3.0.2.201302191606
   Titanium Studio, build: 3.1.0.v20130306185542
   Devices:
   iPad mini iOS 6.0
   iPhone5 iOS 6.1.2</li>
<li>Trevor Borgmeier 2013-04-25

   </li>
</ol>


<p><a href="/TIMOB/TIMOB-12593.json">JSON Source</a></p>