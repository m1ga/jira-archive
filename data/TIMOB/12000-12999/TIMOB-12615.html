---
title: "[TIMOB-12615] iOS: Ti.Geolocation.forwardGeocoder is not getting Non US address to lat and long values"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2013-02-21T00:23:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 04 API, 2013 Sprint 04</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-02-07T05:45:46.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-20T20:21:42.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
When you pass a non us address to Ti.GeoLocation.forwardGeocoder(), it will fail returning null values. 

<h4>Test Case</h4>
Same location queried through out Maps GoogleAPIs returns coords according the place.

<code><pre>
var nonUS = "Hyderabad";
var Tokio = "Tokio";
var US = "Salt Lake city";
  
Titanium.Geolocation.forwardGeocoder( nonUS, function(evt)
{
    Ti.API.info( "lat: "+evt.latitude+", long: "+ evt.longitude );
    Ti.API.info( JSON.stringify(evt) );
});
 
xhr = Titanium.Network.createHTTPClient();
var query = nonUS;
xhr.open('GET', '<a href="http://maps.googleapis.com/maps/geo?output=json&q=" rel="nofollow" target="_blank">http://maps.googleapis.com/maps/geo?output=json&q=</a>' + query);
xhr.onload = function() {
    var json = JSON.parse(this.responseText);
    Ti.API.info(json);
     //17.385044,78.486671
};
xhr.send();

</pre></code> 

<h4>Extra info</h4>
The customer just want to show a proper annotation in the map to a particular location. i.e., need latitude and longitude values for "Ameerpet, Hyderabad" 

<code><pre>
var address =  "Ameerpet,Hyderabad";
 
Titanium.Geolocation.forwardGeocoder( address, function(evt)
{
    Ti.API.info( "lat: "+evt.latitude+", long: "+ evt.longitude );
    Ti.API.info( JSON.stringify(evt) );
});
</pre></code>

Right now a workaround will be changing from "Ameerpet, Hyderabad" to "Ameerpet-Hyderabad", that will return the right coordinates, except in cases where you send a full address, like: "Shantipath, Chanakyapuri New Delhi, India", which is a valid address and will return empty. 



<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2013-02-21

   Docs are being updated with platform limitations here
   <a href="https://github.com/appcelerator/titanium_mobile/pull/3893" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3893</a>
   
   Marking this ticket as won't fix.</li>
<li>Vishal Duggal 2013-02-21

   Doc Update
   
       The module provides two methods, [forwardGeocoder](Titanium.Geolocation.forwardGeocoder) and [reverseGeocoder](Titanium.Geolocation.reverseGeocoder)
       to convert between geographic coordinates and addresses. These methods map to MapQuest Open Nominatim Search Service.
   
       While this API has the advantage that it has no daily usage limits, please note that the data backing this API is crowd sourced and might not return 
       proper values for valid addresses and geographic coordinates.
   
       If geocoding services are essential component of the application, developers are encouraged to use commercial geocoding providers.</li>
<li>Lee Morris 2017-03-20

   Closing ticket as the issue will not fix.</li>
</ol>


<p><a href="/TIMOB/TIMOB-12615.json">JSON Source</a></p>