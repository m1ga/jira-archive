---
title: "[TIMOB-12639] iOS: Titanium.Map.View Click event fired multiple times"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-02-12T00:23:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.4, Release 3.0.0, Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.2.0, Release 3.2.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam, parity</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-02-08T18:18:15.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-12T00:23:14.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>
MapView click event is being fired multiple times in iOS only.

<h4>Runnable sample</h4>
Grab & run code below. Console output log event multiple times. If you monitor through out DDMS the event will be fired only once.
<code><pre>
var thisView = Ti.UI.createView({
width:45,
height:45
});

var win = Ti.UI.createWindow();
 
var pin1 = Titanium.Map.createAnnotation({
    latitude:37.390749,
    longitude:-122.081651,
    title:"Appcelerator Headquarters",
    subtitle:'Mountain View, CA',
    pincolor:Titanium.Map.ANNOTATION_RED,
    animate:true,
    image: 'map-pin.png',
    pinImage:'map-pin.png',
    selectPinImage:'map-pin-selected.png'
});     
 
var pin2 = Titanium.Map.createAnnotation({
    latitude: 31.390749,
    longitude:-121.081651,
    title:"Other one",
    subtitle:'Mountain View, CA',
    pincolor: Titanium.Map.ANNOTATION_RED,
    animate:true,
    image: 'map-pin.png',
    pinImage:'map-pin.png',
    selectPinImage:'map-pin-selected.png'
});     
 
var pin3 = Titanium.Map.createAnnotation({
    latitude: 30.390749,
    longitude:-122.081651,
    title:"Other one",
    subtitle:'Mountain View, CA',
    pincolor: Titanium.Map.ANNOTATION_RED,
    animate:true,
    image: 'map-pin.png',
    pinImage:'map-pin.png',
    selectPinImage:'map-pin-selected.png'
});     
 
var mapView = Titanium.Map.createView({
    mapType: Titanium.Map.STANDARD_TYPE,
    animate:true,
    regionFit:true,
    userLocation: false,
    annotations: [pin1, pin2, pin3]
}); 
 
win.add(mapView);
win.open();

var selectedPin = null;

mapView.addEventListener('click', function(e) {
	
	if(e.clicksource === 'pin'){ 
		Ti.API.info(" e.clicksource: "+ e.clicksource);
		e.annotation.setImage(e.annotation.selectPinImage);
		if(selectedPin){
			selectedPin.setImage(selectedPin.pinImage);
			selectedPin = e.annotation;
		} else {
			selectedPin = e.annotation;
		}
	}
});
</pre></code>

<h4>Additional details</h4>
The developer need to test different approaches yet where this issue makes difficult click event functionality.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12639_35489/map-pin.png">map-pin.png</td></td><td>2013-02-08T18:18:15.000+0000</td><td>2457</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12639_35490/map-pin-selected.png">map-pin-selected.png</td></td><td>2013-02-08T18:18:15.000+0000</td><td>2241</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>jithinpv 2013-04-05

   Issue reproduces 
   
   Tested with
   
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK version: 3.1.0 
   Titanium SDK version: 3.0.2 
   iOS iPhone Simulator: iOS SDK version: 6.0</li>
<li>Shak Hossain 2014-02-11

   This issue can't be reproduced with TISDK 3.2 or higher. Therefore, marking it as resolved.</li>
<li>Wilson Luu 2014-02-12

   Closing issue as cannot reproduce. Tested on:
   
   Appcelerator Studio, build: 3.2.1.201402061120
   SDK build: 3.2.1.GA
   CLI: 3.2.1
   Alloy: 1.3.1
   Xcode: 5.0.2
   Devices: ipad air (7.0.3), iphone 4s (6.0.1)</li>
</ol>


<p><a href="/TIMOB/TIMOB-12639.json">JSON Source</a></p>