---
title: "[TIMOB-12646] iOS: TableViewRow selection causes child view's backgroundColor to disappear"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2014-09-17T18:32:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios</td></tr>
<tr><th>Reporter</th><td>Bart Seaman</td></tr>
<tr><th>Assignee</th><td>Pedro Enrique</td></tr>
<tr><th>Created</th><td>2012-11-08T20:21:48.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T21:35:39.000+0000</td></tr>
</table>

<h3>Description</h3>

Platform: iOS
Device: iOS Simulator 6.0 & iPod Touch (4th gen, software version 6.0.1)
Repro:
1. Create a TableView
2. Create a TableViewRow
3. Create a View with a backgroundColor
4. Add the view to the row
5. Add the row to the table
6. Tap and hold on the row
Result: The row's selectedBackgroundColor becomes visible and the view's backgroundColor becomes transparent
Expected: The row's selectedBackgroundColor becomes visible and the view's backgroundColor remains visible

Additional Notes:
1. If the view inside of the row has children, they are still displayed. Only the view's backgroundColor is affected.
2. Setting the row's selectionStyle to NONE prevents the backgroundColor of the view from disappearing.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12646_35444/FirstView.js">FirstView.js</td></td><td>2013-02-07T01:11:52.000+0000</td><td>561</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12646_50480/monkey.zip">monkey.zip</td></td><td>2014-08-14T18:59:34.000+0000</td><td>40827</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-02-06

   Is this only with Alloy? Does this happen in traditional Titanium development as well?</li>
<li>Bart Seaman 2013-02-07

   This behavior occurs in traditional development, too.</li>
<li>Bart Seaman 2013-02-07

   In studio, create a new Titanium Classic Project using the Single Window Application template. Replace the generated FirstView.js with the attached.</li>
<li>Tony Lukasavage 2013-02-07

   Assigning to Ingo so that the platform team can assess it, since this is not an Alloy-specific issue.</li>
<li>Matej 2013-08-14

   Is time to fix the issue otherwise is impossible to use view with background color without dissapearing. I am adding next example, borderColor does work ,but backgroundColor doesn't...
   
   <code><pre> 
   var win = Titanium.UI.createWindow();
    
   var row = Ti.UI.createTableViewRow({
   	width: Ti.UI.FILL, height: Ti.UI.FILL,
   	backgroundColor: "white"
   });
   
   var view = Ti.UI.createView({
   	width: 33, height: 33,
   	borderWidth: 3,
   	borderColor: "blue",
   	backgroundColor: "red"
   });
   
   row.add(view);
   
    
   var tableView = Titanium.UI.createTableView({
   	data: [row]
   });
   
   win.add(tableView);
   win.open();
   </pre></code> </li>
<li>Thomas Weber 2013-10-06

   Same problem with Version 3.1.3 GA (iOS7)</li>
<li>Nico Barelmann 2014-01-30

   Still not solved - in 3.2</li>
<li>Pedro Enrique 2014-08-14

   This is Apple's behavior. When a table view row is selected, it will iterate through it's subviews, or children, and set their background color's alpha to transparent. When deselected, it will iterate through it's subviews again reseting their background color's alpha to whatever it was. In other words, the children's background color becomes transparent on row selection, and this is done by the system. 
   </li>
<li>Wilson Luu 2014-08-14

   I was able to reproduce the issue natively in Xcode 5.1.1 with iphone 5 (7.0.2); see monkey.zip attachment</li>
<li>Muhammad Dadu 2014-09-17

    This is native behavior, and there will be no fix. In general, we try not to work around native behavior as the fix can be fragile.
    
    For those interested in addressing the issue, there is a work around that you can apply to your own SDK. We have created a PR that shows what changes need to be made against the 3.4.0 version of the SDK: <a href="https://github.com/appcelerator/titanium_mobile/pull/6121." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6121.</a> You will need to pull in this PR and build a version of the SDK as explained in the documentation.
    
    This can then be used by appending the following property to Titanium.UI.createTableViewRow.
    
    <code><pre>
    selectedBackgroundNative: false
    </pre></code></li>
<li>Bert Grantges 2015-10-08

    There is a pretty simple work around where you use backgroundImage instead.</li>
<li>Lee Morris 2017-03-22

    Closing ticket as "Won't Fix".</li>
</ol>


<p><a href="/TIMOB/TIMOB-12646.json">JSON Source</a></p>