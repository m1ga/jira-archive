---
title: "[TIMOB-12733] MapView always asks permission for users location even if userLocation is set to false"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-03-12T22:21:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.1</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 05, 2014 Sprint 05 API, Release 3.2.3, Release 3.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-testadded, supportTeam, ti.map</td></tr>
<tr><th>Reporter</th><td>James Semple</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-02-08T17:07:29.000+0000</td></tr>
<tr><th>Updated</th><td>2014-03-29T00:07:49.000+0000</td></tr>
</table>

<h3>Description</h3>

Create a default Alloy project, add a MapView and set userLocation to false (in the view, style or controller) and the app will still request permission for the users current location. 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12733_35488/mvptest.zip">mvptest.zip</td></td><td>2013-02-08T17:12:22.000+0000</td><td>5784244</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>James Semple 2013-02-08

   Alloy sample project attached</li>
<li>Tony Lukasavage 2013-02-09

   Is this an Alloy-specific problem? Does this occur with traditional Titanium development? It seems unlikely that Alloy would be causing this, though it's not impossible. If you could narrow it down to Alloy specifically that would be helpful.</li>
<li>James Semple 2013-02-11

   Good point, Tony. I have reproduced this with traditional Titanium development. Literally brand new project and added a MapView with minimal settings: -
   
   var map1 = Ti.Map.createView({
   	userLocation: false
   });
   
   win1.add(map1);</li>
<li>Tony Lukasavage 2013-02-11

   Assigning to Ingo so platform can take a look. 
   
   Also, can you add what version of iOS you are using, just so it can be easier to identify where the problem might be.</li>
<li>James Semple 2013-02-14

   It's version 6.1 of iOS.</li>
<li>Ivan Skugor 2013-02-14

   If I remember correctly, it's platform default behaviour and it cannot be changed.</li>
<li>James Semple 2013-02-26

   Ivan are you saying platform default for Titanium or native iOS because it seems that on native iOS it is possible to add a map that doesn't ask for permission for the user's location. </li>
<li>Ivan Skugor 2013-02-26

   I meant that was native iOS behaviour (I think I heard someone saying that and that there was similar bug somewhere). I'm really not sure if it's possible on iOS.</li>
<li>Vishal Duggal 2014-03-03

   Pull pending against master
   ti.map - <a href="https://github.com/appcelerator-modules/ti.map/pull/34" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/pull/34</a>
   titanium_mobile - <a href="https://github.com/appcelerator/titanium_mobile/pull/5410" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5410</a></li>
<li>Ingo Muschenetz 2014-03-03

    [~egomez] This will appear in SDK 3.2.3.</li>
<li>Vishal Duggal 2014-03-12

    backport to 3_2_X
    <a href="https://github.com/appcelerator/titanium_mobile/pull/5464" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5464</a></li>
<li>Olga Romero 2014-03-13

    I used the default classic project and verified the vix.
    No more permission asked for user location when event is set to false.
    Appcelerator Studio, build: 3.2.2.201403061827
    Titanium SDK, build: 3.2.3.v20140312170355
    CLI 3.2.1 GA
    Devices:
    iPhone5S iOS 7.1
    iPad Air iOS 7.1</li>
<li>Olga Romero 2014-03-29

    tested
    <code><pre>
    var map = require("ti.map");
    var win = Titanium.UI.createWindow({
        backgroundColor: '#fff'
    });
      
    win.add(map.createView({
        mapType: map.STANDARD_TYPE,
        region: {
            latitude: 37.390749,
            longitude: -122.081651,
            latitudeDelta: 0.01,
            longitudeDelta: 0.01
        },
        userLocation: false
    }));
      
    win.open();
    </pre></code>
    Mac osx 10.9.2 Mavericks 
    Appcelerator Studio, build: 3.2.3.201403271839 
    Titanium SDK, build:3.2.3.v20140327115429 
    Node.JS Version: v0.10.13 
    NPM Version: 1.3.2 
    /usr/local/lib 
    ├── acs@1.0.14 
    ├── alloy@1.3.1 
    ├── node-appc@0.2.0 
    ├── npm@1.3.2 
    ├── titanium@3.2.3-alpha2 
    └── titanium-code-processor@1.1.1-alpha 
    Devices: 
    iPad air iOS 7.1 
    iPhone 5S iOS 7.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-12733.json">JSON Source</a></p>