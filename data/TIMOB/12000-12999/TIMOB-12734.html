---
title: "[TIMOB-12734] Android: View.setLayout() does not change the view's layout property"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-08-17T00:23:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>alloy, android, api, setlayout</td></tr>
<tr><th>Reporter</th><td>Varun Joshi</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2013-02-01T20:20:14.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-17T01:01:13.000+0000</td></tr>
</table>

<h3>Description</h3>

I've added an event to a button to change the layout property of a view. Each tap will turn the layout of this view to horizontal -> vertical -> composite then come back at horizontal, etc...

In the iOS simulator everything works like expected, the children views are relocated as the layout of the parent changes. But it does not work in the Android simulator or Android device (HTC Sensation, Android 4.1) They stay at the same place.

(The purpose of this app, was a simple test to understand the layout property.)

Could this be a bug?

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12734_35300/app.zip">app.zip</td></td><td>2013-02-05T09:51:04.000+0000</td><td>5768560</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12734_63093/LayoutChange-Composite.png">LayoutChange-Composite.png</td></td><td>2017-08-16T18:39:42.000+0000</td><td>34515</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12734_63091/LayoutChange-Horizontal.png">LayoutChange-Horizontal.png</td></td><td>2017-08-16T18:39:42.000+0000</td><td>34650</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12734_63090/LayoutChangeTest.js">LayoutChangeTest.js</td></td><td>2017-08-16T18:39:42.000+0000</td><td>1467</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12734_63092/LayoutChange-Vertical.png">LayoutChange-Vertical.png</td></td><td>2017-08-16T18:39:42.000+0000</td><td>34673</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Varun Joshi 2013-02-04

   Kevin,
   
   Please provide the sample test case that can reproduce the issue you are having.
   
   Thanks,</li>
<li>Kevin Purnelle 2013-02-05

   Example app that can reproduce the problem
   
   You can have more details about how to test the issue in the readme  file
   
   Edit: it's built with alloy</li>
<li>Tony Lukasavage 2013-02-08

   Can you create the test case without Alloy? This doesn't sound Alloy-specific and is likely better suited  for the Android platform team.</li>
<li>Kevin Purnelle 2013-02-14

   Sorry , I don't know why but I don't get updates notifications anymore. Do I still need to provide a test app without Alloy. If it's API related it does not matter how the app was structured, or not?</li>
<li>Tony Lukasavage 2013-02-14

   Kevin, it was essentially to determine whether I need to address this as an Alloy-specific issue, or if the platform team needs to address it at an API level. It sounds to me like you are pretty confident it's an API level issue. I'll move the ticket to TIMOB.</li>
<li>ankur garha 2013-10-20

   Im also facing the same problem.
   
   Is there any temporary workaround for this issue as of now.</li>
<li>Unknown 2014-04-21

   This issue was previously scheduled to be worked on in more than one sprint:
   * 'Release 3.1.2' (on board '3.1.X Triage')
   * 'Release 3.0.1/TS 3.0.2' (on board '3.1.0 Triage')
   
   Starting from JIRA Agile 6.3, an issue can only belong to a single future sprint. Read more about this change: <a href="http://docs.atlassian.com/agile/docs-0630/Sprint+Marker+Migration" rel="nofollow" target="_blank">http://docs.atlassian.com/agile/docs-0630/Sprint+Marker+Migration</a>
   
   This issue is now scheduled for future sprint 'Release 3.1.2' (on board '3.1.X Triage').
   
   If this is incorrect, please update the issue accordingly.
   
   This comment was automatically generated by JIRA. If it is no longer relevant, please feel free to delete it.</li>
<li>Osian Evans 2015-01-14

   Also getting this issue without using Alloy.
   3.4.0GA on device.
   
   Has this been re-scheduled?
   </li>
<li>Carlos Henrique Zinato 2016-09-29

   Any news on that guys? This ticket is quite old =/</li>
<li>Joshua Quick 2017-08-16

    PR (master):  <a href="https://github.com/appcelerator/titanium_mobile/pull/9323" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9323</a>
    PR (6.2.x):  <a href="https://github.com/appcelerator/titanium_mobile/pull/9324" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9324</a>
    </li>
<li>Joshua Quick 2017-08-16

    The attached [^LayoutChangeTest.js] file can be used to help test dynamic layout changes.
    
    Also see the attached "LayoutChange" screenshots for examples of the expected results when tapping each layout type button "Vertical", "Horizontal", and "Composite".</li>
<li>Lokesh Choudhary 2017-08-17

    FR Passed for both master & 6.2.0 PR.
    Both PR's merged.</li>
<li>Lokesh Choudhary 2017-08-17

    Verified the fix in SDK 6.2.0.v20170816173122.
    
    Closing.
    
    Studio Ver:     4.9.1.201707200100
    SDK Ver:        6.2.0.v20170816173122
    OS Ver:         10.12.3
    Xcode Ver:      Xcode 8.3.3
    Appc NPM:       4.2.9
    Appc CLI:       6.2.3
    Ti CLI Ver:     5.0.14
    Alloy Ver:      1.9.13
    Node Ver:       6.10.1
    Java Ver:       1.8.0_101
    Devices:        ⇨ google Pixel --- Android 7.1.1
                    ⇨ google Nexus 5 --- Android 6.0.1
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-12734.json">JSON Source</a></p>