---
title: "[TIMOB-12761] CLI : Building with '--skip-js-minify' for android fails on windows"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-02-16T02:54:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 04 JS, 2013 Sprint 04</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>merge-3.0.2, qe-sdk3.0.2</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-02-15T21:49:07.000+0000</td></tr>
<tr><th>Updated</th><td>2013-02-19T10:08:21.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:
1.In cli run command "ti build -T 'target' -p android -d 'project-dir' -o 'output-dir' --skip-js-minify " (all target types don't work)
2.Observe the output

Actual result:
1.we get error as below:
<code><pre>
Traceback (most recent call last):
  File "C:\ProgramData\Application Data\Titanium\mobilesdk\win32\3.0.2.v20130207164659\android\builder.py", line 15, in <module>
    from compiler import Compiler
  File "C:\ProgramData\Application Data\Titanium\mobilesdk\win32\3.0.2.v20130207164659\android\compiler.py", line 14, in <module>
    from deltafy import Deltafy
  File "C:\ProgramData\Application Data\Titanium\mobilesdk\win32\3.0.2.v20130207164659\android\deltafy.py", line 53, in <module>
    home = os.environ['USERPROFILE']
  File "C:\Python27\lib\os.py", line 423, in __getitem__
    return self.data[key.upper()]
KeyError: 'USERPROFILE'
[ERROR] Project failed to build after 195ms
</pre></code>
2.Cleaning & building the project does not work either
3.Not putting the '--skip-js-minify' works fine

Expected Result:
1.We should be able to build with '--skip-js-minify'



<h3>Comments</h3>

<ol>
<li>Chris Barber 2013-02-16

   Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/3882" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3882</a></li>
<li>Paras Mishra 2013-02-19

   Running titanium build -p android --skip-js-minify on the command line,
   project successfully builds.
   project is getting cleaned with clean option given in the command line.
   
   Tested on:
   Win 7
   CLI: 3.0.24-CR
   SDK : 3.0.2.v20130215190201</li>
</ol>


<p><a href="/TIMOB/TIMOB-12761.json">JSON Source</a></p>