---
title: "[TIMOB-12840] [KrollObject invokeCallbackForKey] ignores exception"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-21T23:30:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Matt Langston</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2013-02-24T16:15:19.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-16T21:00:52.000+0000</td></tr>
</table>

<h3>Description</h3>

Blain discovered during his Kroll lecture on 2013.02.22 that [KrollObject invokeCallbackForKey] ignores the exception returned by TiObjectCallAsFunction (the final line of invokeCallbackForKey).

The fix should be to pass this information to crittercism.

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2013-03-19

   <a href="https://github.com/appcelerator/titanium_mobile/pull/3984" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3984</a></li>
<li>Matt Langston 2013-03-21

   Functional Test passed. The functional test consisted of:
   
   <h4>Create a Titanium Classic Default Project.</h4>
   <h4>Add the following code (copied from [Titanium.Network.HTTPClient](<a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/api/Titanium.Network.HTTPClient)) to the top of app.js, except that I added a "throw ..." statement to generate an event handler error.</h4>
   {noformat}
   var url = "<a href="http://www.appcelerator.com" rel="nofollow" target="_blank">http://www.appcelerator.com</a>";
   var client = Ti.Network.createHTTPClient({
   	// function called when the response data is available
   	onload : function(e) {
   		Ti.API.info("Received text: " + this.responseText);
   		throw new String("generate error to test timob-12840");
   		alert('success');
   	},
   	// function called when an error occurs, including a timeout
   	onerror : function(e) {
   		Ti.API.debug(e.error);
   		alert('error');
   	},
   	timeout : 5000 // in milliseconds
   });
   {noformat}
   <h4>Run the app in iOS simulator and observe the expected "Application Error" red screen.</h4></li>
<li>Matt Langston 2013-03-21

   Functional Test passed - see previous comment for details.</li>
<li>Lee Morris 2017-03-16

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-12840.json">JSON Source</a></p>