---
title: "[TIMOB-12842] 2D image transforms are inconsistent between iOS and Android"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2018-11-15T00:49:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android, iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Matt Langston</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-02-25T03:48:10.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-15T00:49:42.000+0000</td></tr>
</table>

<h3>Description</h3>

2D image transforms are inconsistent between iOS and Android. I have attached a project named "touches" which reproduces the problem.

The iOS app behaves the way I expect, while the Android app behaves different to what I expect (which I would described as confusing and erratic behavior).

The "touches" app draws some colored squares and allows the user to drag them around the screen. The colored squares are image views (i.e. created with Ti.UI.createImageView) and have two event listeners attached to them, "touchstart" and "touchmove".

The "touchstart" event listener simply records the initial (x, y) coordinates of the user's initial touch in a lexically scoped variable named "initialLocationInView".

The "touchmove" event listener calculates the (deltaX, deltaY) of the user's finger movement relative to "initialLocationInView" and sets the image view's "transform" property to a 2D translation matrix (i.e. created with Ti.UI.create2DMatrix) using "imageView.transform = transform.translate(deltaX, deltaY)".

On iOS the colored squares track my finger movement so that they are always beneath my finger. This is expected behavior.

On Android the colored squares *accelerate* in the direction of my *constant-velocity* drag, and they quickly fly off the screen given just a few millimeters of finger drag. This is unexpected behavior.

Additionally, the hit-test area of "touchmove" is confined to the original location of the image view when the app started and not its current location. In other words, lifting my finger and touching the colored square again does not generate "touchmove" events. However, touching in the original location of the image view (i.e. where it was when the app started) does generate "touchmove" events. This is also unexpected behavior.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12842_35726/touches.tar.gz">touches.tar.gz</td></td><td>2013-02-25T03:48:10.000+0000</td><td>3700687</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2018-11-15

   The issue is that touch event coordinate "units" are inconsistent between Android and iOS.
   On Android, the touch coordinates are hard-coded to pixels.
   On iOS, the touch coordinates are hard-coded to dips.
   
   This issue will be solved by ticket [TIMOB-25839] in Titanium 8.0.0.</li>
</ol>


<p><a href="/TIMOB/TIMOB-12842.json">JSON Source</a></p>