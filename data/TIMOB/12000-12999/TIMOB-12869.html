---
title: "[TIMOB-12869] Ensure all AST modifications are pipelined resulting in a single source map file"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>cb-tooling</td></tr>
<tr><th>Reporter</th><td>Ingo Muschenetz</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-02-26T19:51:36.000+0000</td></tr>
<tr><th>Updated</th><td>2020-02-13T17:59:09.000+0000</td></tr>
</table>

<h3>Description</h3>

As part of the deployment process, we consider a simple, common case: an Alloy application that has been minified.

We need to make sure that the resulting source map packaged with the app includes the results of both sets of transformations--first those made by Alloy, and then those made by build process itself.

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-03-08

   For reference, all source maps created with the [source-map format maintained by Mozilla](<a href="https://github.com/mozilla/source-map)" rel="nofollow" target="_blank">https://github.com/mozilla/source-map)</a>, which is in use by Uglify-js, can be "chained" together. By this I mean that a source map created by Alloy could then be used as an input parameter when attempting to create another source map on top of it. This would let you map the chain of files and transformations all the way back to the original files, regardless of the number of times additional source maps were created.
   
   The above link shows the mozilla library for handling source-map formatted source maps, and it is extremely simple to use. That library is only for JS, working in the browser and Node.js. There is a Java port as well, found here: <a href="https://code.google.com/p/closure-compiler/source/browse/#git%2Fsrc%2Fcom%2Fgoogle%2Fdebugging%2Fsourcemap" rel="nofollow" target="_blank">https://code.google.com/p/closure-compiler/source/browse/#git%2Fsrc%2Fcom%2Fgoogle%2Fdebugging%2Fsourcemap</a></li>
<li>Ingo Muschenetz 2014-04-14

   Downgrading priority as there is no current urgency for this.</li>
</ol>


<p><a href="/TIMOB/TIMOB-12869.json">JSON Source</a></p>