---
title: "[TIMOB-12897] CLI: iOS, Mobile Web should allow App IDs with dashes"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-11T08:25:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 05 JS, 2013 Sprint 05</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>cli-review, module_cli, qe-manualtest, qe-port</td></tr>
<tr><th>Reporter</th><td>Jamie Buckley</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-02-28T19:15:22.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-07T16:49:11.000+0000</td></tr>
</table>

<h3>Description</h3>

When the user attempts to create an app with app id that contains a dash studio will not accept it.

"I found that the regex that validates the app ids doesn't work for ids that contains a dash (com.trip-speed.owners).

The id is valid and published to appstore, but when I wanted to do an update I got this error.

The fix is in the_sdk_path/node_modules/titanium-sdk/lib/titanium.js line 156, change the regex to
<code><pre>
    if (!/^([a-zA-Z_]{1}[a-zA-Z0-9_]*(\.[a-zA-Z0-9_-]*)*)$/.test(tiapp.id)) {
</pre></code>
before was
<code><pre>
    if (!/^([a-zA-Z_]{1}[a-zA-Z0-9_]*(\.[a-zA-Z0-9_]*)*)$/.test(tiapp.id)) {
</pre></code>

Tests cases:

Project creation:

<code><pre>
<h4>should fail</h4>
ti create --name test --id com.appc.test_app --platforms ios --workspace-dir .
</pre></code>

<code><pre>
<h4>should fail</h4>
ti create --name test --id com.appc.test-app --platforms android --workspace-dir .
</pre></code>

<code><pre>
<h4>will work, but shows warning that app id not compatible with android</h4>
ti create --name test --id com.appc.test-app --platforms ios --workspace-dir .
</pre></code>

<code><pre>
<h4>will work, but shows warning that app id not compatible with ios</h4>
ti create --name test --id com.appc.test_app --platforms android --workspace-dir .
</pre></code>

<code><pre>
<h4>should fail</h4>
ti create --name test --id com.appc.1testapp --platforms android --workspace-dir .
</pre></code>

<code><pre>
<h4>should fail</h4>
ti create --name test --id com.appc.final --platforms android --workspace-dir .
</pre></code>

<code><pre>
<h4>will work, but shows warning that app id not compatible with android</h4>
ti create --name test --id com.appc.1testapp --platforms ios,mobileweb --workspace-dir .
</pre></code>

<code><pre>
<h4>will work, but shows warning that app id not compatible with android</h4>
ti create --name test --id com.appc.final --platforms ios,mobileweb --workspace-dir .
</pre></code>

<code><pre>
<h4>should fail</h4>
ti create --name test --platforms ios --workspace-dir .
app id prompt&gt; com.appc.test_app
</pre></code>

<code><pre>
<h4>should fail</h4>
ti create --name test --platforms android --workspace-dir .
app id prompt&gt; com.appc.test-app
</pre></code>

<code><pre>
<h4>will work, but shows warning that app id not compatible with android</h4>
ti create --name test --platforms ios --workspace-dir .
app id prompt&gt; com.appc.test-app
</pre></code>

<code><pre>
<h4>will work, but shows warning that app id not compatible with ios</h4>
ti create --name test --platforms android --workspace-dir .
app id prompt&gt; com.appc.test_app
</pre></code>

<code><pre>
<h4>will work, but shows warning that app id not compatible with android</h4>
ti create --name test --platforms ios,mobileweb --workspace-dir .
app id prompt&gt; com.appc.1testapp
</pre></code>

<code><pre>
<h4>will work, but shows warning that app id not compatible with android</h4>
ti create --name test --platforms ios,mobileweb --workspace-dir .
app id prompt&gt; com.appc.final
</pre></code>

Building an app:

<code><pre>
<h4>should fail</h4>
<h4>set &lt;id&gt; in tiapp.xml to com.appc.test_app</h4>
ti build -p ios
</pre></code>

<code><pre>
<h4>should fail</h4>
<h4>set &lt;id&gt; in tiapp.xml to com.appc.test-app</h4>
ti build -p android
</pre></code>

<code><pre>
<h4>should fail</h4>
<h4>set &lt;id&gt; in tiapp.xml to com.appc.1testapp</h4>
ti build -p android
</pre></code>

<code><pre>
<h4>should fail</h4>
<h4>set &lt;id&gt; in tiapp.xml to com.appc.final</h4>
ti build -p android
</pre></code>


<h3>Comments</h3>

<ol>
<li>Michael Xia 2013-02-28

   Studio does allow dash in the Titanium project creation wizard unless Android platform is selected. The description here looks to refer to the CLI code where the dash isn't allowed.
   </li>
<li>Chris Barber 2013-02-28

   Android does not allow you to put dashes in the package name (<a href="http://developer.android.com/guide/topics/manifest/manifest-element.html)." rel="nofollow" target="_blank">http://developer.android.com/guide/topics/manifest/manifest-element.html).</a> Titanium does not let you compile an app for Android if it contains a dash. This is works correctly.
   
   iOS allows dashes in the CFBundleIdentifier (<a href="http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/TP40009249-SW1)." rel="nofollow" target="_blank">http://developer.apple.com/library/ios/#documentation/general/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/TP40009249-SW1).</a> Titanium does NOT allow dashes in app ids. This is incorrect and we'll fix this.
   
   Mobile Web doesn't care and allows whatever your heart desires for the app id.</li>
<li>Chris Barber 2013-03-03

   Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/3928" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3928</a></li>
<li>Olga Romero 2013-03-14

   Closing as fixed.
   Created an app with dash in app id for ios and mobileweb.
   Tested with:
   Titanium Studio, build: 3.0.3.201302201202
   Titanium SDK, build: 3.1.0.v20130313215655
   CLI 3.0.25</li>
</ol>


<p><a href="/TIMOB/TIMOB-12897.json">JSON Source</a></p>