---
title: "[TIMOB-12960] TiAPI: Cannot add a whitespace at the end of string in i18n strings.xml"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-11-15T00:16:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 18 Core, 2013 Sprint 18, 2013 Sprint 23, 2013 Sprint 23 Core, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android, iOS</td></tr>
<tr><th>Labels</th><td>androidbuild, cb-verified, exalture, ios, mobilesdk, module_label, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Meenakshi Pathak</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-03-05T11:58:54.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-04T00:08:53.000+0000</td></tr>
</table>

<h3>Description</h3>

Use the following xml in the i18n en strings.xml file:
<code><pre>
&lt;string name="share"&gt;There should be space &lt;/string&gt;
&lt;string name="share2"&gt; of that thing.&lt;/string&gt;
</pre></code>

And use the following in app js:

<code><pre>
var win = Ti.UI.createWindow({
    layout: "vertical"
});
// build a string from the strings file that has built-in space.
var s = L("share") + "!on each side!" + L("share2");
alert(s);
</pre></code>

The result is different in 3.0 vs 2.1.3. In 3.0, it seems all whitespaces from strings from the language file are trimmed.
The same behavior is seen in Android also.



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-12960_43289/androidNoSpaces.png">androidNoSpaces.png</td></td><td>2013-10-18T09:45:54.000+0000</td><td>31121</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sunila 2013-04-30

   For Android, one could use unicode \u0020 to add space</li>
<li>Sunila 2013-05-07

   Need a workaround or fix in IOS</li>
<li>Soumya Kanti Kar 2013-05-08

   Also facing the same issue. We are using 3.1.0GA. This issue is happening for both Android and iOS. In Android for space we need to add \u0020 but for iOS we need to add \U0020. This workaround is also of no use, cause \u0020 is not understood in iOS.</li>
<li>Chris Barber 2013-08-27

   Pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/4612" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4612</a></li>
<li>Priya Agarwal 2013-10-18

   Reopening the issue as issue not fixed for android.
   Verified the fix with:
   
   Appc-Studio: 3.2.0.201310170829
   Sdk:3.2.0.v20131017152001
   alloy:1.2.2
   npm:1.3.2
   titanium:3.2.0
   titanium-code-processor:1.0.3
   Device:Google Nexus 7(v4.3),iPhone Simulator(v7.0)
   Xcode: 5
   
   WhiteSpace successfully being added from i18n strings.xml file for iOS.
   But for android no space are being added/reflected.
   
   Code used:
   app.js
   <code><pre>
   var win = Ti.UI.createWindow({
   backgroundColor:"white"
   });
   // build a string from the strings file that has built-in space.
   var s = L("share") + "!on each side!" + L("share2");
   var lbl=Ti.UI.createLabel({text:s,backgroundColor:'white',top:'30dp',color:'black',font:{fontSize: 32}});
   win.add(lbl);
   win.open();
   </pre></code>
   
   strings.xml file
   
   <?xml version="1.0" encoding="UTF-8"?>
   <resources>
       <string name="share">There should be space </string>
       <string name="share2"> of that thing.</string>
   </resources>
   
   Screenshot attached for android.</li>
<li>Chris Barber 2013-10-18

   [~pagarwal] This is fixed in the new Android build, but it hasn't been merged into master yet.</li>
<li>Allen Yeung 2013-10-19

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4781" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4781</a></li>
<li>Priya Agarwal 2013-11-14

   Reopening the issue as issue is still reproducible for android.
   Still not getting whitespace for string when declared in strings.xml file.
   
   Tested Environment:
   
   Appcelerator Studio: 3.2.0.201311122338
   SDK:3.2.0.v20131113183932
   alloy: 1.3.0
   acs: 1.0.7
   npm: 1.3.2
   titanium: 3.2.0
   titanium-code-processor: 1.1.0
   Xcode:5.0.2
   Device: Google Nexus 7(v4.3)
   OS: Mac OSX 10.9
   </li>
<li>Chris Barber 2013-11-14

   This is NOT a CLI issue. The strings are being written to the res/values/strings.xml file correctly. The problem is in the Ti.Locale.getString() function and also affects L().</li>
<li>Hieu Pham 2013-11-14

    It looks like native Android is trimming spaces. One workaround is to denote a space as '\u0020' in strings.xml (<a href="http://stackoverflow.com/questions/1587056/android-string-concatenate-how-to-keep-the-spaces-at-the-end-and-or-beginnin)" rel="nofollow" target="_blank">http://stackoverflow.com/questions/1587056/android-string-concatenate-how-to-keep-the-spaces-at-the-end-and-or-beginnin)</a></li>
<li>Chris Barber 2013-11-14

    Pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/4970" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4970</a></li>
<li>Priya Agarwal 2013-11-15

    Able to get whitespace at the end of strings from i18 strings xml file.
    Closing as fixed and verified.
    
    Tested Environment:
    
    Appcelerator Studio: 3.2.0.201311140721
    SDK:3.2.0.v20131114184328
    alloy: 1.3.0
    acs: 1.0.7
    npm: 1.3.2
    titanium: 3.2.0
    titanium-code-processor: 1.1.0
    Xcode:5.0.2
    Device: Iphone 5s(v7.0.2), Google Nexus7(v4.3)
    OS: Mac OSX 10.9</li>
</ol>


<p><a href="/TIMOB/TIMOB-12960.json">JSON Source</a></p>