---
title: "[TIMOB-12962] Android: XHR request not working on OS 2.x with SDK 3.0.2 GA"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-06T01:54:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 05 API, 2013 Sprint 05</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>regression</td></tr>
<tr><th>Reporter</th><td>Daniel Sefton</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-03-05T19:12:04.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:44:09.000+0000</td></tr>
</table>

<h3>Description</h3>

*Problem description*
Run the following test case on Android OS 2.x and SDK 3.0.2 GA to find that the XHR request returns "Web page not available". It works fine on later OS versions and SDK 3.0 GA.

*Test case*
<code><pre>
var win1 = Titanium.UI.createWindow({
	title : 'Tab 1',
	backgroundColor : '#fff',
	exitOnClose : false
});

var xhr = Titanium.Network.createHTTPClient({
	validatesSecureCertificate : false,
	enableKeepAlive : true,
	timeout : 10000
});
xhr.onerror = function(e) {

};
xhr.onload = function() {
	var webview = Titanium.UI.createWebView({
		html : this.responseText
	});
	win1.add(webview);
};
xhr.open('GET', "<a href="http://google.com/" rel="nofollow" target="_blank">http://google.com/</a>");
xhr.send();

win1.open();
</pre></code>

*Solution (baseURL)*
<code><pre>var win1 = Titanium.UI.createWindow({
	title : 'Tab 1',
	backgroundColor : '#fff',
	exitOnClose : false
});

var xhr = Titanium.Network.createHTTPClient({
	validatesSecureCertificate : false,
	enableKeepAlive : true,
	timeout : 10000
});
xhr.onerror = function(e) {

};
var baseURL = "<a href="http://google.com/" rel="nofollow" target="_blank">http://google.com/</a>";
xhr.onload = function() {
	var webview = Titanium.UI.createWebView();
	webview.setHtml(this.responseText, {
		baseURL : baseURL
	});
	win1.add(webview);
};
xhr.open('GET', baseURL);
xhr.send();

win1.open();</pre></code>

<h3>Comments</h3>

<ol>
<li>Daniel Sefton 2013-03-06

   Tested by QE. Confirmed solution to use baseURL property of setHTML(). See solution provided in description.</li>
</ol>


<p><a href="/TIMOB/TIMOB-12962.json">JSON Source</a></p>