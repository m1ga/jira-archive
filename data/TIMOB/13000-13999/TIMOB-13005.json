{
	"id": "110858",
	"key": "TIMOB-13005",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "15274",
				"description": "2013 Sprint 06 API",
				"name": "2013 Sprint 06 API",
				"archived": true,
				"released": true,
				"releaseDate": "2013-03-25"
			},
			{
				"id": "14816",
				"description": "2013 Sprint 06",
				"name": "2013 Sprint 06",
				"archived": true,
				"released": true,
				"releaseDate": "2013-03-25"
			},
			{
				"id": "15412",
				"name": "Co-3.1.0",
				"archived": true,
				"released": true,
				"releaseDate": "2013-04-16"
			}
		],
		"resolution": {
			"id": "3",
			"description": "The problem is a duplicate of an existing issue.",
			"name": "Duplicate"
		},
		"resolutiondate": "2013-03-15T00:26:46.000+0000",
		"created": "2013-03-08T16:55:01.000+0000",
		"priority": {
			"name": "High",
			"id": "2"
		},
		"labels": [
			"SupportTeam"
		],
		"versions": [],
		"issuelinks": [
			{
				"id": "26725",
				"type": {
					"id": "10002",
					"name": "Duplicate",
					"inward": "is duplicated by",
					"outward": "duplicates"
				},
				"outwardIssue": {
					"id": "109989",
					"key": "TIMOB-12810",
					"fields": {
						"summary": "Android: Maps V2 Module - Missing properties and methods from Ti.Map module",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Medium",
							"id": "3"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "ingo",
			"key": "ingo",
			"displayName": "Ingo Muschenetz",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"updated": "2017-03-20T22:09:24.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10202",
				"name": "Android",
				"description": "Android Platform"
			}
		],
		"description": "h6.Issue\r\nsetLocation does not allow anymore to set the maps location.\r\n\r\nh6.Stack trace\r\n{code}\r\n03-05 15:27:27.730: I/ActivityManager(123): Starting activity: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=com.map/.MaptestActivity bnds=[240,410][357,528] } from pid 730\r\n03-05 15:27:27.790: I/[POST_RESELECT](730): [spanChange] (o, oldStart, newStart, oldEnd, newEnd)=(android.text.Selection$START@4013dbc8,-1,0,-1,0)\r\n03-05 15:27:27.800: I/[POST_RESELECT](730): [spanChange] (o, oldStart, newStart, oldEnd, newEnd)=(android.text.Selection$END@401371c8,-1,0,-1,0)\r\n03-05 15:27:27.830: I/ActivityManager(123): Start proc com.map for activity com.map/.MaptestActivity: pid=10612 uid=10079 gids={1015, 3003}\r\n03-05 15:27:27.950: D/SensorService(123): enable: connection.get() = 0x486268, (2.3.4)\r\n03-05 15:27:27.950: D/SensorService(123): enable: get sensor name = BMA150 3-axis Accelerometer\r\n03-05 15:27:27.950: D/SensorService(123): SensorDevice::activate: handle = 0x0, enabled = 0x1\r\n03-05 15:27:27.950: D/Sensors(123): Enable akm: en = 1\r\n03-05 15:27:27.950: D/AK8973(87): Compass Start\r\n03-05 15:27:27.950: D/SensorService(123): noteStartSensor: uid = 0x3e8, handle = 0x0\r\n03-05 15:27:27.950: D/SensorService(123): pid=123, uid=1000\r\n03-05 15:27:27.950: D/SensorService(123): Active sensors:\r\n03-05 15:27:27.950: D/SensorService(123): BMA150 3-axis Accelerometer (handle=0x00000000, connections=1)\r\n03-05 15:27:27.950: D/SensorService(123): CM3602 Light sensor (handle=0x00000004, connections=1)\r\n03-05 15:27:28.031: I/TiApplication(10612): (main) [0,0] checkpoint, app created.\r\n03-05 15:27:28.131: I/TiApplication(10612): (main) [99,99] Titanium 2.1.3.MapsModule (2013/03/04 08:32 15997d0)\r\n03-05 15:27:28.151: W/dalvikvm(730): disableGcForExternalAlloc: false\r\n03-05 15:27:28.201: D/Database(10612): dbopen(): path = /data/data/com.map/databases/Titanium, flag = 6, file size = 4096\r\n03-05 15:27:28.221: D/Database(10612): dbopen(): path = /data/data/com.map/databases/Titanium, mode: delete, disk free size: 127 M, handle: 0x33ece0\r\n03-05 15:27:28.271: D/Database(10612): dbclose(): path = /data/data/com.map/databases/Titanium, handle = 0x33ece0\r\n03-05 15:27:28.271: D/Database(10612): dbopen(): path = /data/data/com.map/databases/Titanium, flag = 6, file size = 4096\r\n03-05 15:27:28.281: D/Database(10612): dbopen(): path = /data/data/com.map/databases/Titanium, mode: delete, disk free size: 127 M, handle: 0x34cfd8\r\n03-05 15:27:28.301: D/Database(10612): dbclose(): path = /data/data/com.map/databases/Titanium, handle = 0x34cfd8\r\n03-05 15:27:28.321: D/dalvikvm(10612): GC_CONCURRENT freed 295K, 47% free 3020K/5639K, external 0K/0K, paused 6ms+4ms\r\n03-05 15:27:28.331: I/TiApplication(10612): (main) [198,297] Titanium Javascript runtime: v8\r\n03-05 15:27:28.331: D/dalvikvm(10612): Trying to load lib /data/data/com.map/lib/libstlport_shared.so 0x4051c688\r\n03-05 15:27:28.341: D/dalvikvm(10612): Added shared lib /data/data/com.map/lib/libstlport_shared.so 0x4051c688\r\n03-05 15:27:28.341: D/dalvikvm(10612): No JNI_OnLoad found in /data/data/com.map/lib/libstlport_shared.so 0x4051c688, skipping init\r\n03-05 15:27:28.341: D/dalvikvm(10612): Trying to load lib /data/data/com.map/lib/libkroll-v8.so 0x4051c688\r\n03-05 15:27:28.361: D/dalvikvm(10612): Added shared lib /data/data/com.map/lib/libkroll-v8.so 0x4051c688\r\n03-05 15:27:28.381: I/TiRootActivity(10612): (main) [0,0] checkpoint, on root activity create, savedInstanceState: null\r\n03-05 15:27:28.381: D/Database(10612): dbopen(): path = /data/data/com.map/databases/tianalytics.db, flag = 6, file size = 6144\r\n03-05 15:27:28.381: D/Database(10612): dbopen(): path = /data/data/com.map/databases/tianalytics.db, mode: delete, disk free size: 127 M, handle: 0x3680a0\r\n03-05 15:27:28.401: D/Database(10612): dbclose(): path = /data/data/com.map/databases/tianalytics.db, handle = 0x3680a0\r\n03-05 15:27:28.421: D/Database(10612): dbopen(): path = /data/data/com.map/databases/tianalytics.db, flag = 6, file size = 6144\r\n03-05 15:27:28.431: D/Database(10612): dbopen(): path = /data/data/com.map/databases/tianalytics.db, mode: delete, disk free size: 127 M, handle: 0x380498\r\n03-05 15:27:28.451: D/Database(10612): dbclose(): path = /data/data/com.map/databases/tianalytics.db, handle = 0x380498\r\n03-05 15:27:28.741: E/TiApplication(10612): (KrollRuntimeThread) [366,366] APP PROXY: ti.modules.titanium.app.AppModule@4051daa8\r\n03-05 15:27:28.811: D/dalvikvm(10612): Trying to load lib /data/data/com.map/lib/libti.map.so 0x4051c688\r\n03-05 15:27:28.811: D/dalvikvm(10612): Added shared lib /data/data/com.map/lib/libti.map.so 0x4051c688\r\n03-05 15:27:28.811: D/dalvikvm(10612): No JNI_OnLoad found in /data/data/com.map/lib/libti.map.so 0x4051c688, skipping init\r\n03-05 15:27:28.871: D/Module(10612): Loading module: ui/handheld/android/ApplicationWindow -> Resources/ui/handheld/android/ApplicationWindow.js\r\n03-05 15:27:28.891: D/Module(10612): Loading module: ui/common/FirstView -> Resources/ui/common/FirstView.js\r\n03-05 15:27:29.082: E/TiJSError(10612): (main) [341,707] ----- Titanium Javascript Runtime Error -----\r\n03-05 15:27:29.082: E/TiJSError(10612): (main) [0,707] - In ui/common/FirstView.js:65,6\r\n03-05 15:27:29.082: E/TiJSError(10612): (main) [2,709] - Message: Uncaught TypeError: Object [object View] has no method 'setLocation'\r\n03-05 15:27:29.082: E/TiJSError(10612): (main) [0,709] - Source: map1.setLocation({\r\n03-05 15:27:29.162: D/ATRecorder(10612): com.htc.autotest.dlib.RecordEngine in loader dalvik.system.DexClassLoader@405954e8\r\n03-05 15:27:29.162: E/V8Exception(10612): Exception occurred at ui/common/FirstView.js:65: Uncaught TypeError: Object [object View] has no method 'setLocation'\r\n03-05 15:27:29.232: D/StatusBarService(408): updateIcon slot=battery index=21 viewIndex=15 old=StatusBarIcon(pkg=com.android.systemui id=0x1080296 level=100 visible=true num=0 ) icon=StatusBarIcon(pkg=com.android.systemui id=0x1080296 level=100 visible=true num=0 )\r\n03-05 15:27:29.242: D/HtcCdmaPhoneApp(423): level 100 scale 100\r\n03-05 15:27:29.242: D/WifiService(123): [smart wifi] mSmartWiFiStatus: 0 mBatteryLevel: 100 mWifiConnected: false\r\n03-05 15:27:29.242: D/WifiService(123): [smart wifi] ACTION_BATTERY_CHANGED pluggedType: 2\r\n03-05 15:27:29.252: D/BatteryService(123): usb_cable_connect = 1\r\n03-05 15:27:29.252: D/BatteryService(123): usb_cable_connect = 1\r\n03-05 15:27:29.252: D/BatteryService(123): isUsbConnected() = true\r\n03-05 15:27:29.252: D/BatteryService(123): mPlugType = 2\r\n03-05 15:27:29.272: D/BatteryService(123): usb_cable_connect = 1\r\n03-05 15:27:29.272: D/BatteryService(123): usb_cable_connect = 1\r\n03-05 15:27:29.272: D/BatteryService(123): isUsbConnected() = true\r\n03-05 15:27:29.272: D/BatteryService(123): mPlugType = 2\r\n03-05 15:27:29.292: D/UsbConnectedReceiver(549): action = psclient.intent.action.usb_status\r\n03-05 15:27:29.332: D/dalvikvm(10612): Trying to load lib /data/data/com.map/lib/libtiverify.so 0x4051c688\r\n03-05 15:27:29.332: D/dalvikvm(10612): Added shared lib /data/data/com.map/lib/libtiverify.so 0x4051c688\r\n03-05 15:27:29.332: I/TiRootActivity(10612): (main) [0,0] checkpoint, on root activity resume. activity = com.map.MaptestActivity@4053fba8\r\n03-05 15:27:29.352: D/UsbConnectedReceiver(549): ACTION_BATTERY_CHANGED\r\n03-05 15:27:29.352: D/UsbConnectedReceiver(549): usbCurrentType = 2\r\n03-05 15:27:29.382: D/UsbConnectedReceiver(549): Current type is same as previous, return!\r\n03-05 15:27:29.382: D/UsbConnectedReceiver(549): action = psclient.intent.action.usb_status\r\n03-05 15:27:29.422: D/UsbConnectedReceiver(549): ACTION_BATTERY_CHANGED\r\n03-05 15:27:29.462: D/UsbConnectedReceiver(549): usbCurrentType = 2\r\n03-05 15:27:29.462: D/UsbConnectedReceiver(549): Current type is same as previous, return\r\n{code}\r\n\r\nh6.Steps to reproduce\r\nReplace the following \"Resources/ui/common/FirstView.js\" (sample project can be found Timob-13004).\r\n\r\n{code}\r\n//FirstView Component Constructor\r\nfunction FirstView() {\r\n\r\nvar self = Ti.UI.createView();\r\n\r\nvar MapModule = require('ti.map');\r\n \r\nvar map1 = MapModule.createView({\r\n    userLocation: true,\r\n    mapType: MapModule.NORMAL_TYPE,\r\n    animate: true,\r\n    region: {latitude: -33.87365, longitude: 151.20689, latitudeDelta: 0.1, longitudeDelta: 0.1 }, //Sydney\r\n    height: '80%',\r\n    top: 0,\r\n    left: 0,\r\n    width: '100%'\r\n});\r\n\r\n// var anno1 = MapModule.createAnnotation({\r\n//                 latitude: -33.86665,\r\n//                 longitude: 151.20689,\r\n//                 title: \"Anno2\",\r\n//                 subtitle: \"Ann2 subtitle\",\r\n//                 animate: true,\r\n//                 id: 33\r\n//             });\r\n//     anno1.image = '/mbanking/images/Locations-Pin-Android-red-hdpi.png';\r\n//     anno1.rightButton = '/images/locations-android-popover-arrow.png';\r\n//     anno1.rightButton.height = 44;\r\n//     anno1.rightButton.width = 46;\r\n\r\n// var anno2 = MapModule.createAnnotation({\r\n//                 latitude: -33.87365,\r\n//                 longitude: 151.20689,\r\n//                 title: \"Anno2\",\r\n//                 subtitle: \"Ann2 subtitle\",\r\n//                 animate: true,\r\n//                 id: 43\r\n//             });\r\n//     anno2.image = '/mbanking/images/Locations-Pin-Android-red-hdpi.png';\r\n//     anno2.rightButton = '/images/locations-android-popover-arrow.png';\r\n//     anno2.rightButton.height = 44;\r\n//     anno2.rightButton.width = 46;\r\n\r\n// var anno3 = MapModule.createAnnotation({\r\n//                 latitude: -33.87964,\r\n//                 longitude: 151.21130,\r\n//                 title: \"Anno3\",\r\n//                 subtitle: \"Ann3 subtitle\",\r\n//                 animate: true,\r\n//                 id: 45\r\n//             });\r\n//     anno3.image = '/mbanking/images/Locations-Pin-Android-red-hdpi.png';\r\n//     anno3.rightButton = '/images/locations-android-popover-arrow.png';\r\n//     anno3.rightButton.height = 44;\r\n//     anno3.rightButton.width = 46;\r\n\r\n\r\n// var anns = [];\r\n// anns.push(anno1);\r\n// anns.push(anno2);\r\n// anns.push(anno3);\r\n// map1.addAnnotations(anns);\r\n\r\nmap1.setLocation({\r\n    latitude: 33.1,\r\n    longitude: 66.7,\r\n    latitudeDelta: 1,\r\n    longitudeDelta: 1,\r\n    animate: true\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nself.add(map1);\r\n\r\n    return self;\r\n\r\n}\r\n\r\n\r\nmodule.exports = FirstView;\r\n{code}\r\n\r\nh6.Steps to reproduce\r\nJust replace few lines of code above \"Resources/ui/common/FirstView.js\" on sample project attached in Timob-13004 and install to device to get it to work.\r\n\r\nh6.Additional details\r\nPublic link 2.1.3.MapsModule patched 2.1.3.GA SDK for use:\r\nhttp://dl.dropbox.com/u/34061091/mobilesdk-2.1.3.MapsModule-osx.zip",
		"attachment": [],
		"flagged": false,
		"summary": "Android: Maps V2 module - setLocation runtime error",
		"creator": {
			"name": "egomez",
			"key": "egomez",
			"displayName": "Eduardo Gomez",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"subtasks": [],
		"reporter": {
			"name": "egomez",
			"key": "egomez",
			"displayName": "Eduardo Gomez",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"environment": "TiSDK 2.1.3.MapsModule patched 2.1.3.GA SDK \r\nDroid Razr 2.3\r\nHTC Incredible running 2.3.4\r\nGalaxy Note 4.0.4\r\nti.map 2.0.0",
		"comment": {
			"comments": [
				{
					"id": "242356",
					"author": {
						"name": "pwang",
						"key": "pwang",
						"displayName": "Ping Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "The current Map module does not have setLocation() method. This has been reported in TIMOB-12810. Mark this ticket as duplicate.",
					"updateAuthor": {
						"name": "pwang",
						"key": "pwang",
						"displayName": "Ping Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2013-03-15T00:26:00.000+0000",
					"updated": "2013-03-15T00:56:02.000+0000"
				},
				{
					"id": "414052",
					"author": {
						"name": "lmorris",
						"key": "lmorris",
						"displayName": "Lee Morris",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Closing ticket as duplicate.",
					"updateAuthor": {
						"name": "lmorris",
						"key": "lmorris",
						"displayName": "Lee Morris",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-03-20T22:09:24.000+0000",
					"updated": "2017-03-20T22:09:24.000+0000"
				}
			],
			"maxResults": 2,
			"total": 2,
			"startAt": 0
		}
	}
}