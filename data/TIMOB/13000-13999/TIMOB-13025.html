---
title: "[TIMOB-13025] CLI: Several commands fail on Node.js v0.10.0"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-12T21:15:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 06 JS, 2013 Sprint 06</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-03-11T19:07:57.000+0000</td></tr>
<tr><th>Updated</th><td>2013-06-05T17:42:04.000+0000</td></tr>
</table>

<h3>Description</h3>

Node.js v0.10 doesn't play well with the Titanium CLI. There are a number of errors:

1. Error building app with modules for iOS Simulator

<code><pre>
[ERROR] Unable to run command "build"

/Users/chris/appc/titanium/node_modules/longjohn/index.js:111
      throw e;
            ^
RangeError: Maximum call stack size exceeded
</pre></code>


2. Error building mobile web app (development) with precache images in tiapp.xml

<code><pre>

[ERROR] Unable to run command "build"

TypeError: Arguments to path.join must be strings 0 [ 'TypeError: Arguments to path.join must be strings',
  '    at path.js:360:15',
  '    at Array.filter (native)',
  '    at Object.exports.join [as join] (path.js:358:36)',
  '    at /Users/chris/Library/Application Support/Titanium/mobilesdk/osx/3.1.0/mobileweb/cli/commands/_build.js:573:19',
  '    at Array.forEach (native)',
  '    at Object.build.assembleTitaniumJS [as assembleTitaniumJS] (/Users/chris/Library/Application Support/Titanium/mobilesdk/osx/3.1.0/mobileweb/cli/commands/_build.js:570:23)',
  '    at /Users/chris/Library/Application Support/Titanium/mobilesdk/osx/3.1.0/node_modules/node-appc/lib/util.js:55:25',
  '    at /Users/chris/Library/Application Support/Titanium/mobilesdk/osx/3.1.0/node_modules/node-appc/node_modules/async/lib/async.js:454:21',
  '    at /Users/chris/Library/Application Support/Titanium/mobilesdk/osx/3.1.0/node_modules/node-appc/node_modules/async/lib/async.js:185:13',
  '    at /Users/chris/Library/Application Support/Titanium/mobilesdk/osx/3.1.0/node_modules/node-appc/node_modules/async/lib/async.js:86:13' ]
</pre></code>

There are probably more issues.

A list of changes between 0.8 and 0.10 is encapsulated here: <a href="https://github.com/joyent/node/wiki/Api-changes-between-v0.8-and-v0.10" rel="nofollow" target="_blank">https://github.com/joyent/node/wiki/Api-changes-between-v0.8-and-v0.10</a>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2013-03-12

   Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/3955" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3955</a></li>
<li>Shyam Bhadauria 2013-05-09

   Build command is working now on Node.js v0.10.3.
   So closing the issue.
   Used environment for verification
   SDK - 3.1.0.GA
   Appcelerator Studio, build: 3.1.1.201305072102
   Node.js version - v0.10.3</li>
</ol>


<p><a href="/TIMOB/TIMOB-13025.json">JSON Source</a></p>