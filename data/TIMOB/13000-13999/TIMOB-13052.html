---
title: "[TIMOB-13052] Android: TableViewRow index confused in row click"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-04-01T17:16:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 07 API, 2013 Sprint 07, Release 2.1.5</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>qe-closed-3.3.0, qe-testadded, tableview, tableviewrow</td></tr>
<tr><th>Reporter</th><td>Pedro Enrique</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-03-13T19:07:38.000+0000</td></tr>
<tr><th>Updated</th><td>2014-07-01T10:52:48.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>The Problem</h4>
Using Ti SDK 2.1.x... When clicking on a row, the event fires on a different one. This works fine in 3.0.x 
<h4>The code</h4>
Use this code in app.js
<code><pre>

function CheckBox() {
    var btn = Ti.UI.createButton({
        width : 28,
        height : 28,
        backgroundImage: 'check_grey.png',
        right: 10
    });

    var checked = false;
    
    btn.addEventListener('btn_click', function(){
       if(checked) {
           btn.backgroundImage = 'check_grey.png';
       } else {
           btn.backgroundImage = 'check_blue.png';
       }
       checked = !checked;
    });

    return btn;
}

function TableViewRow(n) {
    var row = Ti.UI.createTableViewRow({
        backgroundColor: '#ccc',
        className: 'my_row',
        height: 35
    });
    
    var checkBox = CheckBox();
    row.addEventListener('click', function(){
        checkBox.fireEvent('btn_click');
    });
    row.add(checkBox);
    
    var label = Ti.UI.createLabel({
        left: 10,
        width: 100,
        height: 30,
        text: 'Row #' + (n+1),
        color: 'black'
    });
    row.add(label);
    return row;
}

var win = Ti.UI.createWindow();
var tableData = [];
for(var i = 0; i &lt; 100; i++) {
    tableData.push(TableViewRow(i));
}

var table = Ti.UI.createTableView({
    data: tableData
});
win.add(table);

win.open();
</pre></code>
<h4>To Reproduce</h4>
1. Copy that code into app.js
2. Run on device (Galaxy S3 in my case)
3. Click on a row and you'll see the image on the button being changed
4. Scroll down and up
5. Click again and different row from the one clicked will fire the event.

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2013-03-29

   Pull pending against 2_1_X branch
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/4055" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4055</a></li>
<li>Priya Agarwal 2014-07-01

   Verified with:
   
   Appcelerator-Studio:3.3.0.201406271159
   Sdk:3.3.0.v20140627202512
   acs:1.0.14
   alloy:1.4.0-rc3
   npm:1.3.2
   titanium:3.3.0-rc4
   titanium-code-processor:1.1.1
   xcode:5.1.1
   OS:Maverick(10.9.3)
   Device:iPhone5c(v7.1.1),LG-P970(v4.0.4)
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-13052.json">JSON Source</a></p>