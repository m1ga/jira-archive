---
title: "[TIMOB-13059] Android: WebView: remove requirement to set baseURL"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-14T03:48:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, qe-port, regression, webview</td></tr>
<tr><th>Reporter</th><td>Banzai Mobile</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-02-13T17:50:03.000+0000</td></tr>
<tr><th>Updated</th><td>2013-03-14T09:21:15.000+0000</td></tr>
</table>

<h3>Description</h3>

The following works on SDK 2.x and 3.0.0 on all platforms and on 3.0.2RC on iOS, but not on 3.0.2RC on Android:

<code><pre>
Ti.UI.setBackgroundColor('#000');
var win = Ti.UI.createWindow();

var wv = Ti.UI.createWebView({
	html: '&lt;p&gt;This is an accented e character: è&lt;/p&gt;&lt;img width="30" height="30" src="images/img.png" /&gt;'
});

win.add(wv);
win.open();
</pre></code>

The defects are:
1) the accented character displays as garbage
2) the local image does not show at all (changing its path to "/images/img.png" does not work either) 


<h3>Comments</h3>

<ol>
<li>Banzai Mobile 2013-02-20

   I think this bug has not been given enough attention.
   Encoding issue can be solved by adding mimeType to a setHtml call, but I cannot find any way to show local images.
   
   IMHO, it is a showstopper and should have blocked release of 3.0.2GA
   
   Could somebody please at least find and publish a workaround for displaying local images in a webview on Android?
   </li>
<li>Ingo Muschenetz 2013-02-20

   @Banzai--can you see if adding a baseURL solves the issues with images? See the related ticket TIMOB-9593.</li>
<li>Banzai Mobile 2013-02-20

   @Ingo:
   
   Yes, setting the baseURL solves both problems (image and text encoding).
   That's good, because now calling setHtml with BOTH baseURL AND mimeType makes the html appear as code instead of rendered.</li>
<li>Ingo Muschenetz 2013-02-20

   @Banzai. Great. So this was a change...where do you think the best place to advertise this is? Where would you have expected to find a note about this (and didn't)?</li>
<li>Banzai Mobile 2013-02-20

   @Ingo: I'd mention it in the API docs for WebView, specifically under the html property and setHtml method.
   And of course in its own paragraph in the 3.0.2 release notes.</li>
<li>Nathan Nadeau 2013-02-21

   Yes this would be nice to be mentioned in the API docs, the 3.0.2 release notes, and also the WebView user guide page: <a href="http://docs.appcelerator.com/titanium/3.0/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/3.0/#</a>!/guide/The_WebView_Component-section-29004918_TheWebViewComponent-UsingLocalWebContentwithWebView.
   
   Note I have added an informational post to the Q&A forums: <a href="http://developer.appcelerator.com/question/148638/notice-titanium-302-android-webview-not-loading-local-resource-files-properly-via-html-property" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/148638/notice-titanium-302-android-webview-not-loading-local-resource-files-properly-via-html-property</a></li>
<li>Olga Romero 2013-03-13

   I reproduced this issue with 3.0.2.GA
   
   Defects ARE GONE with:
   Titanium Studio, build: 3.0.3.201302201202
   Titanium SDK, build: 3.1.0.v20130312161655
   Device:
   Nexus7 Android version: 4.2</li>
<li>Ingo Muschenetz 2013-03-14

   This was fixed as a result of re-fixing TIMOB-9593.</li>
<li>Shyam Bhadauria 2013-03-14

   The local image is being shown now.
   Environment used for verification -
   Titanium SDK: 3.1.0.v20130311192922
   Titanium  Studio:3.0.2.201302151605
   Device: Nexus 7 Android 4.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-13059.json">JSON Source</a></p>