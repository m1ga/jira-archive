---
title: "[TIMOB-13075] Android:Module having images in assets folder installed in android application does not copy over assets during second build"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2016-08-29T19:16:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0, Release 3.0.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>exalture, supportTeam</td></tr>
<tr><th>Reporter</th><td>Rupesh Sharma</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2013-03-15T13:14:40.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-24T21:53:00.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>
In a custom android module having images in assets directory in which getting any image in Kroll.method using "context.getAssets().open("sample.jpg");" when installed to any blank android project it runs perfectly for the first time after cleaning it but again if try to install without cleaning it will not be able to find the file this time.

<h4>Steps to Reproduce</h4>
1. Create a Titanium Module Project and put any image in assets directory.
2. In "example" @Kroll.method put this code :
<code><pre>
try {
    InputStream is = context.getAssets().open("sample.jpg");
    Log.d(LCAT, "inputstream=="+is);
} catch (IOException e) {
    e.printStackTrace();
}
</pre></code>
3. Install this module in Titanium android project.
4. Clean the project and then install and run it.(It will run successfully this time)
5. Now install the project again without cleaning it first, and run it again.(This time it will not be able to find the file)

<h4>Error Logs</h4>
<code><pre>
java.io.FileNotFoundException: sample.jpg
W/System.err(  957):    at android.content.res.AssetManager.openAsset(Native Method)
W/System.err(  957):    at android.content.res.AssetManager.open(AssetManager.java:315)
W/System.err(  957):    at android.content.res.AssetManager.open(AssetManager.java:289)
W/System.err(  957):    at ti.gl.imagemod.SampleimagemodModule.example(SampleimagemodModule.java:55)
W/System.err(  957):    at org.appcelerator.kroll.runtime.v8.V8Runtime.nativeRunModule(Native Method)
W/System.err(  957):    at org.appcelerator.kroll.runtime.v8.V8Runtime.doRunModule(V8Runtime.java:140)
W/System.err(  957):    at org.appcelerator.kroll.KrollRuntime.handleMessage(KrollRuntime.java:289)
W/System.err(  957):    at org.appcelerator.kroll.runtime.v8.V8Runtime.handleMessage(V8Runtime.java:166)
W/System.err(  957):    at android.os.Handler.dispatchMessage(Handler.java:95)
W/System.err(  957):    at android.os.Looper.loop(Looper.java:137)
W/System.err(  957):    at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:112)
</pre></code>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2013-08-02

   Is this a emulator or device build?
   
   Is there a test project that demonstrates the problem?</li>
<li>Rupesh Sharma 2013-08-02

   Hi Chris,
   Tested on device.</li>
<li>Chris Barber 2016-08-29

   Unable to reproduce with Titanium SDK 5.5.0.
   
   Note that the steps to reproduce have changed. Now you must add the following imports:
   
   <code><pre>
   import java.io.InputStream;
   import java.io.IOException;
   import android.content.Context;
   </pre></code>
   
   and then change the test code inside your KrollModule implementation:
   
   <code><pre>
   @Kroll.method
   public String example()
   {
   	Log.d(LCAT, "example called");
   
   	try {
   		Context context = TiApplication.getInstance();
   		InputStream is = context.getAssets().open("test-asset.png");
   		Log.d(LCAT, "inputstream=="+is);
   	} catch (IOException e) {
   		e.printStackTrace();
   	}
   
   	return "hello world";
   }
   </pre></code>
   
   When testing, I see:
   
   <code><pre>
   [DEBUG] MymoduleModule: (main) [1,1431] inputstream==android.content.res.AssetManager$AssetInputStream@8edbfc7
   </pre></code></li>
<li>Lee Morris 2017-03-24

   Closing ticket as the issue cannot be reproduced.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13075.json">JSON Source</a></p>