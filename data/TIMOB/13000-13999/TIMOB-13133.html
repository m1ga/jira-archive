---
title: "[TIMOB-13133] Ti API: Implement support for file, line, etc \"macros\""
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>cb-tooling</td></tr>
<tr><th>Reporter</th><td>Bryan Hughes</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-03-20T17:10:15.000+0000</td></tr>
<tr><th>Updated</th><td>2020-02-05T07:22:45.000+0000</td></tr>
</table>

<h3>Description</h3>

Node.js has two useful "macros" of sorts: __dirname and __filename (see <a href="http://nodejs.org/api/globals.html)." rel="nofollow" target="_blank">http://nodejs.org/api/globals.html).</a> We should consider adding similar macros of our own:

* __file
* __line
* __function

It's worth noting that Node.js only supports __dirname and __filename because they can be inserted as module-scoped variables, but __line and __column require compile-time support. It's a lot easier for us to do compile-time support (a true macro) than it is for Node.js, but it's still worth discussing this point.

Note: for production builds, we should not insert this information. Strings should be undefined/empty string and numbers should be NaN

This should be implemented as a CLI hook that uses uglify to walk the AST tree and modify it

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-13133.json">JSON Source</a></p>