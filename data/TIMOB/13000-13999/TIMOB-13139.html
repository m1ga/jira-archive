---
title: "[TIMOB-13139] BlackBerry: Map annotation pins are not showing colors"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-06-12T11:51:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.3.0, Release 3.4.0</td></tr>
<tr><th>Components</th><td>BlackBerry</td></tr>
<tr><th>Labels</th><td>module_blackberry, qe-3.3.0, qe-testadded, regression, sdk-bb</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Pedro Enrique</td></tr>
<tr><th>Created</th><td>2013-03-20T19:22:46.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-13T17:50:10.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:
Description:
1.Use the code snippet below & run it on BB simulator/device
<code><pre>
var win = Titanium.UI.createWindow({orientationModes:[Ti.UI.PORTRAIT]});
 
var mountainView = Titanium.Map.createAnnotation({
    latitude:37.389493,
    longitude:-122.050166,
    title:'Appcelerator Headquarters',
    subtitle:'Mountain View, CA',
    pincolor:Ti.Map.ANNOTATION_GREEN,
    //rightView: 'images/appcelerator_small.png',
    leftView: 'images/appcelerator_small.png'
});
 
var waitersOnWheels = Titanium.Map.createAnnotation({
    latitude:37.390749,
    longitude:-122.051651,
    title:'Waiters On Wheels',
    subtitle:'Mountain View, CA',
    pincolor:Ti.Map.ANNOTATION_RED,
    //rightView: 'images/appcelerator_small.png',
    leftView: 'images/appcelerator_small.png'
});
 
var tlBeerGarden = Titanium.Map.createAnnotation({
    latitude:37.39504,
    longitude:-122.02937,
    title:'TL Beer Garden',
    subtitle:'Sunnyvale, CA',
    pincolor:Ti.Map.ANNOTATION_PURPLE,
    //rightView: 'images/appcelerator_small.png',
    leftView: 'images/photo.jpg'
});
 
var mapview = Titanium.Map.createView({
    region: {latitude:37.390749, longitude:-122.051651},
    annotations:[mountainView, waitersOnWheels]
});
 
win.add(mapview);
 
// Handle click events on any annotations on this map.
waitersOnWheels.addEventListener('click', function(evt) {
     
    mapview.addAnnotation(tlBeerGarden);
     
    if (evt.clicksource == 'leftView') {
        Ti.API.info('Annotation ' + evt.clicksource + ', left view clicked.');
    }
     
    if (evt.clicksource == 'rightView') {
        Ti.API.info('Annotation ' + evt.clicksource + ', right view clicked.');
    }
     
});
 
win.open();
</pre></code>
2. After launch check the annotation pins

Actual Result:
1. You will see that pins are not showing colors even though in code

Expected Results:
1. The pins should show colors

<h3>Comments</h3>

<ol>
<li>Lokesh Choudhary 2013-03-20

   Verified the issue & the annotation pins are showing colors.Thus closing.
   
   Environment:
   Ti Studio : 3.1.0.v20130320125153
   Ti BB SDK : 3.1.0.v20130319225749
   Mac OSX : 10.8.2
   win 7 
   Win 8 
   BB simulator : 10.0.10.261
   Dev alpha B 10 device</li>
<li>Olga Romero 2014-05-27

   Tested with: 
    Appcelerator Studio, build: 3.3.0.201405211748
   Titanium SDK, build: 3.3.0.v20140524224144 
   Node.JS Version: v0.10.13 
   NPM Version: 1.3.2 
   acs@1.0.14 
   alloy@1.4.0-alpha4 
   npm@1.3.2 
   titanium@3.3.0-alpha5 
   titanium-code-processor@1.1.1
   Device: BB Z10 (10.2.1)
   
   <h4>Actual result</h4>
   <code><pre>
   [ERROR] :  Error: Command failed: [Fatal Error] bar-descriptor.xml:94:106: The reference to entity "annotations" must end with the ';' delimiter.
   [INFO] :   Running: blackberry-deploy -installApp -launchApp -device 172.16.3.10 -***** "*****" build/maps_anno_1.bar
   [INFO] :   Please wait...
   Error: The reference to entity "annotations" must end with the ';' delimiter.
   [DEBUG] :  [Fatal Error] bar-descriptor.xml:94:106: The reference to entity "annotations" must end with the ';' delimiter.
   Error: The reference to entity "annotations" must end with the ';' delimiter.
   [ERROR] :  Error: Command failed: Error: File does not exist or not a file or cannot read: build/maps_anno_1.bar 
   [INFO] :   Total build time: 14.55 seconds
   [DEBUG] :  Error: File does not exist or not a file or cannot read: build/maps_anno_1.bar 
   
   </pre></code></li>
<li>Olga Romero 2014-06-10

   Tested with:
   Mac osx 10.9.3 Mavericks
   Appcelerator Studio, build: 3.3.0.201406061445
   Titanium SDK, build: 3.3.0.v20140609184912 
   Node.JS Version: v0.10.13 
   NPM Version: 1.3.2 
   acs@1.0.14 
   alloy@1.4.0-beta 
   npm@1.3.2 
   titanium@3.3.0-beta2 
   titanium-code-processor@1.1.1
   Device: BB Z10 (10.2.1)
   
   <h4>Actual result</h4>
   Tested using the above code.
   I can see map with no pin.</li>
<li>Pedro Enrique 2014-06-12

   PR: <a href="https://github.com/appcelerator/titanium_mobile_blackberry/pull/267" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_blackberry/pull/267</a></li>
<li>Samuel Dowse 2014-06-13

   Verified fixed on:
   Mac OSX 10.9.3
   Appcelerator studio, build: 3.3.0.201406111952
   Titanium SDK, build: 3.3.0.v20140612101712
   Titanium CLI, build: 3.3.0-rc
   Alloy: 1.4.0-rc
   BlackBerry Device: Z10 10.2.1.2947
   BlackBerry Device: Q10 10.2.1.2234
   
   Maps successfully load and pins are visible with correct colors shown correctly.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13139.json">JSON Source</a></p>