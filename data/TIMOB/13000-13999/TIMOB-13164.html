---
title: "[TIMOB-13164] mobileweb rendered @font-face declaration is not valid"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2018-03-12T14:22:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>MobileWeb</td></tr>
<tr><th>Labels</th><td>@font-face, css, css3, fontfamily, mobileweb</td></tr>
<tr><th>Reporter</th><td>Carter Lathrop</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-03-14T11:07:07.000+0000</td></tr>
<tr><th>Updated</th><td>2018-04-04T23:20:29.000+0000</td></tr>
</table>

<h3>Description</h3>

*When using a custom font, rendered CSS code is not valid.*

<h4>Steps to reproduce</h4>

<h4>create a new Titanium project (Single Window Application template)</h4>
<h4>_alloy new_ it</h4>
<h4>create assets/fonts directory and put any -- supported non-system -- font in there</h4>
<h4>change Label element style so it calls the mentioned font</h4>
<code><pre>
"Label": {
    color: "#000",
    font: {
        fontFamily: "Comic Zine OT"
    }
}
</pre></code>
<h4>see the font not being applied to the element</h4>

<h4>Analysis</h4>

When opening the built mobileweb/titanium.css, our font declaration at the very end of the file is
<code><pre>
@font-face {
  font-family: fonts/comic_zine_ot.otf;
  src: url(fonts/comic_zine_ot.otf);
}
</pre></code>

To be usable by browser, it should be
<code><pre>
@font-face {
  font-family: "Some Font Name";
  src: url(fonts/comic_zine_ot.otf);
}
</pre></code>

To be working, "Some Font Name" should be a valid string and the same as in the defined _tss_ file.

<h4>Workaround</h4>

I cannot see any workaround since the rendered _font-family_ is expecting a *user defined* font identifier.
May be adding a _font-face_ declaration could do the trick.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13164_36560/comic_zine_ot.otf">comic_zine_ot.otf</td></td><td>2013-03-22T09:47:20.000+0000</td><td>117384</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13164_36518/titanium.css">titanium.css</td></td><td>2013-03-21T09:55:38.000+0000</td><td>37917</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Carter Lathrop 2013-03-20

   Hello Damien,
   When reporting an issue it is general good practice to provide a sample test case as well as the problem code to show the issue by just copy and pasting into an app.js and in this case running on mobile web. Would you mind providing such a test case so that this issue may get reviewed in a more timely manner? 
   For future reference: <a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report</a>
   Thank you,
   Carter</li>
<li>Damien Caselli 2013-03-21

   Attached the rendered build/mobileweb/titanium.css file.</li>
<li>Damien Caselli 2013-03-21

   Hi Carter,
   
   I've added some more informations about the related problem in the description.
   Sorry about the previous incomplete description.
   
   Damien
   </li>
<li>Carter Lathrop 2013-03-21

   Thanks Damien, I reopened and am looking into this issue, if possible would you mind attaching the font .otf as well?
   Thanks,
   Carter</li>
<li>Carter Lathrop 2013-03-21

   Also, to clarify, is this issue only being seen in alloy?</li>
<li>Damien Caselli 2013-03-22

   I have added the font file used (it's the same file used in Kitchen Sink).
   
   I also tested rendering in a non-alloyed app, and the font-face declaration is not rendered properly either.
   
   <code><pre>
   @font-face{font-family:fonts/comic_zine_ot.otf;src:url(fonts/comic_zine_ot.otf);
   </pre></code>
   </li>
<li>Rene Pot 2018-03-12

   Mobileweb was dropped. So no fix is required anymore</li>
<li>Eric Merriman  2018-04-04

   Closing as will not fix.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13164.json">JSON Source</a></p>