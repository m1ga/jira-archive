---
title: "[TIMOB-13251] Alloy Debugger: wrong behavior setting breakpoints on functions under Android"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-03-28T21:48:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0, Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 07 Core, 2013 Sprint 07</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>qe-3.1.0</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Max Stepanov</td></tr>
<tr><th>Created</th><td>2013-03-27T21:02:17.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-09T18:54:03.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
Debugger is not correctly handling a breakpoint set for a function in the controller .js file

<h4>Steps to reproduce</h4>
Android OS tested: 2.3.6 Nexus One, Android emulator

See the sample attached.

<h4>index.xml</h4>
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container"&gt;
		&lt;Label id="label" onClick="doClick"&gt;Hello, World&lt;/Label&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

<h4>index.js</h4>
<code><pre>
function doClick(e) {  
	
    alert($.label.text);

}

$.index.open();
</pre></code>

1. Set a BreakPpoint at line 3 for the'alert($.label.text);'
2. Debug the App on Android 

Result: App starts but the breakpoint is immediately triggered before displaying the Window (so just the splashscreen is displayed) and without having to click on the label.

From the Debug tab, it looks the behavior is wrong and that actually the wrong line is highlighted, focusing on the 'doClick() function' instead of the 'alert' function inside.

See the two screenshots, one for Android (wrong behavior), one for iOS (correct one, being triggered only when clicking on the sample 'label' for displaying the alert, not when starting the App).

3. Click to go past the breakpoint. Manually click on the app label to trigger the alert again.
Result: breakpoint is now ignored. Alert is being displayed.


Attaching Debugger log, where there is this line (not present in the iOS debugger log):
<code><pre>
[57:33.986] Recv: &gt;1364417853985*!unknown option &lt;monitorXHR&gt;&lt;
</pre></code>

Attaching Android build.log too

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-13251_36696/androidAlloyDebugger.png">androidAlloyDebugger.png</td></td><td>2013-03-27T21:02:17.000+0000</td><td>43347</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-13251_36698/androiddebugger.log">androiddebugger.log</td></td><td>2013-03-27T21:02:17.000+0000</td><td>3133</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-13251_36699/build.log">build.log</td></td><td>2013-03-27T21:20:36.000+0000</td><td>18399</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-13251_36697/iOSalloyDebugger.png">iOSalloyDebugger.png</td></td><td>2013-03-27T21:02:17.000+0000</td><td>37276</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Dustin Hyde 2013-03-27

   The breakpoint inside the function is acting as if the breakpoint is next to the function.</li>
<li>Shalom Gibly 2013-03-28

   Moved to TIMOB - Seems to be a bug in the platform.</li>
<li>Max Stepanov 2013-03-28

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/4050" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4050</a></li>
<li>Max Stepanov 2013-03-28

   Line numbers in required modules are off by 1.</li>
<li>Lee Morris 2017-03-09

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13251.json">JSON Source</a></p>