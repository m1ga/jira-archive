---
title: "[TIMOB-13295] Unable to build Android module with 3.0.2"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2016-08-29T19:36:27.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jamie Buckley</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-04-01T18:14:32.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T18:24:47.000+0000</td></tr>
</table>

<h3>Description</h3>

When user attempts to package an android module they receive an error.
<code><pre>
/Users/xxxx/Library/Application Support/Titanium/mobilesdk/osx/3.0.2.GA/module/android/build.xml:371: The following error occurred while executing this line:
/Users/xxxx/Library/Application Support/Titanium/mobilesdk/osx/3.0.2.GA/module/android/build.xml:326: exec returned: 2You may need to install the Command Line Tools package through XCode, in case you haven't done so yet.
</pre></code>
with Ant and terminal,in the module folder, User enters "ant". Then they receive another error during the "ndk.build" task :
<code><pre>
[exec] In file included from /usr/include/sys/_types.h:33:0,
     [exec]                  from /usr/include/_types.h:27,
     [exec]                  from /usr/include/../include/stddef.h:69,
     [exec]                  from /Users/xxxx/android-ndk-r8e/sources/cxx-stl/stlport/stlport/stddef.h:34,
     [exec]                  from /Users/xxxx/Library/Application Support/Titanium/mobilesdk/osx/3.0.2.GA/android/native/include/v8stdint.h:33,
     [exec]                  from /Users/xxxx/Library/Application Support/Titanium/mobilesdk/osx/3.0.2.GA/android/native/include/v8.h:41,
     [exec]                  from /Users/xxxx/Library/Application Support/Titanium/mobilesdk/osx/3.0.2.GA/android/native/include/Proxy.h:11,
     [exec]                  from jni/com.mainline.android.push.ExampleProxy.h:12,
     [exec]                  from jni/com.mainline.android.push.ExampleProxy.cpp:10:
     [exec] /usr/include/machine/_types.h:34:24: fatal error: arm/_types.h: No such file or directory
     [exec] compilation terminated.
</pre></code>
The user has the Android NDK installed and it is visible in their PATH.

<h3>Comments</h3>

<ol>
<li>Eric Hu 2013-04-03

   I'm seeing this as well on Mountain Lion, 10.8.3.
   
   This bug is present if I set "titanium.platform" to 3.0.0.GA or 3.0.2.GA.</li>
<li>David Adams 2013-04-05

   I was able to resolve this by changing the Android.mk to use the android ndk platform include instead.
   
   In Android.mk I changed -I$(SYSROOT)/usr/include to -I$(NDK_PATH)/platforms/$(TARGET_PLATFORM)/arch-arm/usr/include
   In the main build.xml I had to export the ndk path by adding <arg value="NDK_PATH=${ndk.path}/"/> to build.ndk macro definition.
   </li>
<li>Marty Brann 2013-04-19

   David, can you be more specific as to what you did to fix this locally?  I tried to follow what you did but couldn't find the files/entries that you spoke of.  Is this going to be addressed in the next release?</li>
<li>Chris Barber 2016-08-29

   The Ant build for modules is deprecated in favor of the new module build system introduced in Titanium SDK 4.0.0. Furthermore, Android modules compile just fine with Titanium SDK 5.5.0 and are not dependent on Xcode.</li>
<li>Lee Morris 2017-03-22

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13295.json">JSON Source</a></p>