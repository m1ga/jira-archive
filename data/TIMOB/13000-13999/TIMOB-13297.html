---
title: "[TIMOB-13297] Android: Light weight window close is VERY slow"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-04-10T22:06:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.2</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 08 API, 2013 Sprint 08, Release 3.1.1, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Pedro Enrique</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2013-04-01T19:09:32.000+0000</td></tr>
<tr><th>Updated</th><td>2013-05-03T06:26:04.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
Closing a lightweight window in android is very slow, you can see how the children are being removed one by one creating a bad user experience. 

<h4>Code</h4>
<code><pre>
var win = Ti.UI.createWindow({
    backgroundColor: '#eee'
});

var btn = Ti.UI.createButton({
    title: 'here'
});

btn.addEventListener('click', function() {
    LightWindow().open();
})

win.add(btn);

win.open();

function LightWindow() {
    var win = Ti.UI.createWindow({
        layout:'vertical',
        backgroundColor: '#ccc'
    });
    
    var btn = Ti.UI.createButton({
        title: 'Close'
    });
    
    win.add(btn);
    
    btn.addEventListener('click', function(){
       win.close(); 
    });
    
    for(var i = 0; i &lt; 100; i++) {
        win.add(Ti.UI.createButton({
            title: 'Button: ' + (i + 1)
        }))
    }
    
    return win;
}
</pre></code>
<h4>To reproduce:</h4>
1. Copy and paste the code into app.js
2. Click on the button that will open the light weight window
3. On lightweight window, click on the first button "Close"
4. You will see how all the other buttons (which do nothing) will dissapear one by one before the window is closed

<h4>Workaround:</h4>
Hide the window before closing it.

<h3>Comments</h3>

<ol>
<li>Ping Wang 2013-04-10

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4140" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4140</a></li>
<li>Ping Wang 2013-04-22

   3_1_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4194" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4194</a></li>
<li>Paras Mishra 2013-05-03

   Working as expected, hence closing the issue.
   
   Verified on:
   Tested on:
   Device: Samsung Galaxy Note, Android version: 2.3.6
   SDK: 3.1.1.v20130502180055
   CLI version : 3.1.0
   OS : MAC OSX 10.7.5
   Appcelerator Studio, build: 3.1.0.201305020752
   XCode : 4.5.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-13297.json">JSON Source</a></p>