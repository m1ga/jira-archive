---
title: "[TIMOB-13306] Android: App kills Android Debugger session on Windows"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-04-04T20:26:56.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 07 Core, 2013 Sprint 07, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_android, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2013-04-01T23:32:59.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-24T22:46:21.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
Debugger it's not working as expected on Windows OS, exiting just after installing the app on device.

<h4>Steps to reproduce</h4>
1) Create a new default project (either classic one or alloy)
2) Add a breakpoint and debug the App on device
Result: 'Debug on Android Device' window appears as expected. The App is built, but just after installing and launching the App, the Debugger exit and disconnect. The App is installed on device, but it's then stuck at the splashscreen if trying to manually launch it.

Attaching Studio error log.

Not reproducible using Studio GA 3.0.2.201302191606 (regression)

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13306_36916/debugger_log.txt">debugger_log.txt</td></td><td>2013-04-01T23:36:00.000+0000</td><td>9506</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2013-04-02

   Max, can you please take a look?</li>
<li>Max Stepanov 2013-04-02

   After investigation, a simple fix to CLI resolved the issue.
   Basically it adds a small timeout to launching app on device.
   I still do believe there is a bug related to race condition in Titanium Studio.</li>
<li>Max Stepanov 2013-04-02

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/4066" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4066</a></li>
<li>Federico Casali 2013-04-02

   V8 protocol log/exception:
   <code><pre>
   {"seq":16,"type":"request","command":"continue"}
   
   Content-Length: 95
   
   
   !ENTRY com.appcelerator.titanium.mobile.ui 1 0 2013-04-02 16:56:34.608
   !MESSAGE (Build 3.1.0.201304011855) [INFO] com.appcelerator.titanium.mobile/debu
   g Android application installation terminated
   
   !ENTRY com.appcelerator.titanium.mobile.ui 1 0 2013-04-02 16:56:34.611
   !MESSAGE (Build 3.1.0.201304011855) [INFO] com.appcelerator.titanium.mobile/debu
   g Android application installation exit value was 0
   Apr 2, 2013 4:56:34 PM org.chromium.sdk.internal.transport.SocketConnection$3 sh
   utdown
   INFO: Shutdown requested
   org.chromium.sdk.InvalidContextException: org.chromium.sdk.internal.v8native.Int
   ernalContext$ContextDismissedCheckedException
           at org.chromium.sdk.internal.v8native.DebugSession.maybeRethrowContextEx
   ception(DebugSession.java:292)
   Connection closed       at org.chromium.sdk.internal.v8native.JsEvaluateContextI
   mpl.maybeRethrowContextException(JsEvaluateContextImpl.java:86)
   
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   c(JsEvaluateContextImpl.java:78)
           at org.chromium.sdk.internal.JsEvaluateContextBase.evaluateSync(JsEvalua
   teContextBase.java:26)
           at com.aptana.js.debug.core.v8.V8DebugHost.evaluateInGlobalContext(V8Deb
   ugHost.java:329)
           at com.appcelerator.titanium.mobile.android.launching.AndroidV8DebugHost
   .handleTerminate(AndroidV8DebugHost.java:56)
           at com.aptana.js.debug.core.v8.V8DebugHost.processEvents(V8DebugHost.jav
   a:291)
           at com.aptana.js.debug.core.v8.V8DebugHost.access$15(V8DebugHost.java:27
   8)
           at com.aptana.js.debug.core.v8.V8DebugHost$8.run(V8DebugHost.java:1295)
   Caused by: org.chromium.sdk.internal.v8native.InternalContext$ContextDismissedCh
   eckedException
           at org.chromium.sdk.internal.v8native.ContextBuilder$PreContext.sendV8Co
   mmandAsync(ContextBuilder.java:224)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   cImpl(JsEvaluateContextImpl.java:68)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   c(JsEvaluateContextImpl.java:76)
           ... 6 more
   
   !ENTRY com.aptana.js.debug.core.v8 4 0 2013-04-02 16:56:34.630
   !MESSAGE (Build 3.1.0.201304011855) [ERROR]  org.chromium.sdk.internal.v8native.
   InternalContext$ContextDismissedCheckedException
   !STACK 0
   org.chromium.sdk.InvalidContextException: org.chromium.sdk.internal.v8native.Int
   ernalContext$ContextDismissedCheckedException
           at org.chromium.sdk.internal.v8native.DebugSession.maybeRethrowContextEx
   ception(DebugSession.java:292)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.maybeRethrow
   ContextException(JsEvaluateContextImpl.java:86)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   c(JsEvaluateContextImpl.java:78)
           at org.chromium.sdk.internal.JsEvaluateContextBase.evaluateSync(JsEvalua
   teContextBase.java:26)
           at com.aptana.js.debug.core.v8.V8DebugHost.evaluateInGlobalContext(V8Deb
   ugHost.java:329)
           at com.appcelerator.titanium.mobile.android.launching.AndroidV8DebugHost
   .handleTerminate(AndroidV8DebugHost.java:56)
           at com.aptana.js.debug.core.v8.V8DebugHost.processEvents(V8DebugHost.jav
   a:291)
           at com.aptana.js.debug.core.v8.V8DebugHost.access$15(V8DebugHost.java:27
   8)
           at com.aptana.js.debug.core.v8.V8DebugHost$8.run(V8DebugHost.java:1295)
   Caused by: org.chromium.sdk.internal.v8native.InternalContext$ContextDismissedCh
   eckedException
           at org.chromium.sdk.internal.v8native.ContextBuilder$PreContext.sendV8Co
   mmandAsync(ContextBuilder.java:224)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   cImpl(JsEvaluateContextImpl.java:68)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   c(JsEvaluateContextImpl.java:76)
           ... 6 more
   (Build 3.1.0.201304011855) [ERROR]  org.chromium.sdk.internal.v8native.InternalC
   ontext$ContextDismissedCheckedException
   org.chromium.sdk.InvalidContextException: org.chromium.sdk.internal.v8native.Int
   ernalContext$ContextDismissedCheckedException
           at org.chromium.sdk.internal.v8native.DebugSession.maybeRethrowContextEx
   ception(DebugSession.java:292)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.maybeRethrow
   ContextException(JsEvaluateContextImpl.java:86)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   c(JsEvaluateContextImpl.java:78)
           at org.chromium.sdk.internal.JsEvaluateContextBase.evaluateSync(JsEvalua
   teContextBase.java:26)
           at com.aptana.js.debug.core.v8.V8DebugHost.evaluateInGlobalContext(V8Deb
   ugHost.java:329)
           at com.appcelerator.titanium.mobile.android.launching.AndroidV8DebugHost
   .handleTerminate(AndroidV8DebugHost.java:56)
           at com.aptana.js.debug.core.v8.V8DebugHost.processEvents(V8DebugHost.jav
   a:291)
           at com.aptana.js.debug.core.v8.V8DebugHost.access$15(V8DebugHost.java:27
   8)
           at com.aptana.js.debug.core.v8.V8DebugHost$8.run(V8DebugHost.java:1295)
   Caused by: org.chromium.sdk.internal.v8native.InternalContext$ContextDismissedCh
   eckedException
           at org.chromium.sdk.internal.v8native.ContextBuilder$PreContext.sendV8Co
   mmandAsync(ContextBuilder.java:224)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   cImpl(JsEvaluateContextImpl.java:68)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   c(JsEvaluateContextImpl.java:76)
           ... 6 more
   org.chromium.sdk.InvalidContextException: org.chromium.sdk.internal.v8native.Int
   ernalContext$ContextDismissedCheckedException
           at org.chromium.sdk.internal.v8native.DebugSession.maybeRethrowContextEx
   ception(DebugSession.java:292)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.maybeRethrow
   ContextException(JsEvaluateContextImpl.java:86)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   c(JsEvaluateContextImpl.java:78)
           at org.chromium.sdk.internal.JsEvaluateContextBase.evaluateSync(JsEvalua
   teContextBase.java:26)
           at com.aptana.js.debug.core.v8.V8DebugHost.evaluateInGlobalContext(V8Deb
   ugHost.java:329)
           at com.appcelerator.titanium.mobile.android.launching.AndroidV8DebugHost
   .handleTerminate(AndroidV8DebugHost.java:56)
           at com.aptana.js.debug.core.v8.V8DebugHost.processEvents(V8DebugHost.jav
   a:291)
           at com.aptana.js.debug.core.v8.V8DebugHost.access$15(V8DebugHost.java:27
   8)
           at com.aptana.js.debug.core.v8.V8DebugHost$8.run(V8DebugHost.java:1295)
   Caused by: org.chromium.sdk.internal.v8native.InternalContext$ContextDismissedCh
   eckedException
           at org.chromium.sdk.internal.v8native.ContextBuilder$PreContext.sendV8Co
   mmandAsync(ContextBuilder.java:224)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   cImpl(JsEvaluateContextImpl.java:68)
           at org.chromium.sdk.internal.v8native.JsEvaluateContextImpl.evaluateAsyn
   c(JsEvaluateContextImpl.java:76)
           ... 6 more
   </pre></code></li>
<li>Shalom Gibly 2013-04-03

   This should be reverted to do the launch.
   We fixed the problem from the Studio side.</li>
<li>Allen Yeung 2013-04-04

   Reverting this fix: <a href="https://github.com/appcelerator/titanium_mobile/pull/4082" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4082</a>
   
   3_1_X backport: <a href="https://github.com/appcelerator/titanium_mobile/pull/4083" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4083</a></li>
<li>Federico Casali 2013-04-05

   Verified as fixed with:
   Titanium Studio: 3.1.0.201304031528
   TiSDK: 3.1.0.v20130404173046
   Android Google Nexus One
   Alloy version 1.1.0-beta
   CLI version 3.1.0-beta
   
   Current behavior is reverted to the original one, with the App auto launching once installed.
   Studio still display a misleading message on the 'Debug on Android Device' popup window, telling the user to manually launch the app.
   Opening a separate Jira for this.</li>
<li>Samuel Dowse 2013-10-24

   Verified as fixed and closing.
   
   +Environment:+
   Windows 8.1
   Titanium Studio, build: 3.2.0.201310240435
   Titanium SDK, build: 3.1.3.GA
   CLI: 3.1.2
   Alloy: 1.2.2
   Samsung Galaxy S4: 4.2.2
   
   App launches automatically and studio changes to debug perspective.
   Stops at breakpoint successfully and never kills session.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13306.json">JSON Source</a></p>