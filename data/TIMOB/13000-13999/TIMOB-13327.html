---
title: "[TIMOB-13327] TiAPI: AAC stream shoutcast not working"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.0.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Core</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Alexis Gaitan</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-09-22T15:00:30.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:03:21.000+0000</td></tr>
</table>

<h3>Description</h3>

*Problem description*
Creating a radio stream with the AAC+ format does not work.

*iOS behavior*
On launch nothing plays and alert dialog appears with "File Error - Unable to configure network read stream."

*Android behavior*
Nothing happens on launch, sometimes crashes.

*Note*
MP3 streams work fine on both Android and iOS, the following URL works: <a href="http://icecast.omroep.nl/radio1-sb-mp3" rel="nofollow" target="_blank">http://icecast.omroep.nl/radio1-sb-mp3</a>

*Test case*
<code><pre>
// AAC stream URL
var s = "<a href="http://184.164.135.245:8026/" rel="nofollow" target="_blank">http://184.164.135.245:8026/</a>";

var sound = Ti.Media.createAudioPlayer({
	url : s,
	preload : true,
	allowBackground : true
});

sound.format = Titanium.Media.AUDIO_FORMAT_AAC;
sound.addEventListener('error', function(e) {
	if (e.message == "Unknown media error") {
		alert("No");
	}
});

sound.addEventListener('complete', function() {
	// your code here
});

sound.addEventListener('interrupted', function() {
	// your code here
});

sound.addEventListener('resume', function() {
	// your code here
});

sound.addEventListener('progress', function(e) {
	// your code here
});

sound.start();
</pre></code>

*Logs*
<code><pre>
[INFO][TiAPI ( 320)] State: starting (4)
[INFO][TiAPI ( 320)] State: stopped (5)
[INFO][StagefrightPlayer( 34)] setDataSource('<a href="http://184.164.135.242:9990/" rel="nofollow" target="_blank">http://184.164.135.242:9990/</a>')
[ERROR][MediaPlayer( 320)] error (1, -2147483648)
[WARN][TiSound ( 320)] (KrollRuntimeThread) [23253,370368] Issue while initializing :
[WARN][TiSound ( 320)] java.io.IOException: Prepare failed.: status=0x1
[WARN][TiSound ( 320)] at android.media.MediaPlayer.prepare(Native Method)
[WARN][TiSound ( 320)] at ti.modules.titanium.media.TiSound.initialize(TiSound.java:119)
[WARN][TiSound ( 320)] at ti.modules.titanium.media.TiSound.play(TiSound.java:178)
[WARN][TiSound ( 320)] at ti.modules.titanium.media.AudioPlayerProxy.play(AudioPlayerProxy.java:127)
[WARN][TiSound ( 320)] at ti.modules.titanium.media.AudioPlayerProxy.start(AudioPlayerProxy.java:120)
[WARN][TiSound ( 320)] at org.appcelerator.kroll.runtime.v8.V8Object.nativeFireEvent(Native Method)
[WARN][TiSound ( 320)] at org.appcelerator.kroll.runtime.v8.V8Object.fireEvent(V8Object.java:60)
[WARN][TiSound ( 320)] at org.appcelerator.kroll.KrollProxy.doFireEvent(KrollProxy.java:636)
[WARN][TiSound ( 320)] at org.appcelerator.kroll.KrollProxy.handleMessage(KrollProxy.java:831)
[WARN][TiSound ( 320)] at org.appcelerator.titanium.proxy.TiViewProxy.handleMessage(TiViewProxy.java:307)
[WARN][TiSound ( 320)] at android.os.Handler.dispatchMessage(Handler.java:95)
[WARN][TiSound ( 320)] at android.os.Looper.loop(Looper.java:123)
[WARN][TiSound ( 320)] at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:109)
[INFO][TiAPI ( 320)] State: starting (4)
[INFO][TiAPI ( 320)] State: stopped (5)
[INFO][StagefrightPlayer( 34)] setDataSource('<a href="http://184.164.135.242:9990/" rel="nofollow" target="_blank">http://184.164.135.242:9990/</a>')
[ERROR][MediaPlayer( 320)] error (1, -2147483648)
</pre></code>

<h3>Comments</h3>

<ol>
<li>Alexis Gaitan 2012-09-24

   i read in q&a that titanium proxies media modules are outdated and thats why we cant reproduce aac+ shoutcast live stream? is true? if you need more information i can provide it to you thanks very much</li>
<li>Alexis Gaitan 2012-09-24

   if i setup and stream url shoutcast mp3 it works but not with aacp stream stype</li>
<li>Alexis Gaitan 2012-09-24

   im keep getting this in logs:
   
   {quote}
   [INFO][TiAPI   (  320)] State: starting (4)
   [INFO][TiAPI   (  320)] State: stopped (5)
   [INFO][StagefrightPlayer(   34)] setDataSource('<a href="http://184.164.135.242:9990/" rel="nofollow" target="_blank">http://184.164.135.242:9990/</a>')
   [ERROR][MediaPlayer(  320)] error (1, -2147483648)
   [WARN][TiSound (  320)] (KrollRuntimeThread) [23253,370368] Issue while initializing : 
   [WARN][TiSound (  320)] java.io.IOException: Prepare failed.: status=0x1
   [WARN][TiSound (  320)] 	at android.media.MediaPlayer.prepare(Native Method)
   [WARN][TiSound (  320)] 	at ti.modules.titanium.media.TiSound.initialize(TiSound.java:119)
   [WARN][TiSound (  320)] 	at ti.modules.titanium.media.TiSound.play(TiSound.java:178)
   [WARN][TiSound (  320)] 	at ti.modules.titanium.media.AudioPlayerProxy.play(AudioPlayerProxy.java:127)
   [WARN][TiSound (  320)] 	at ti.modules.titanium.media.AudioPlayerProxy.start(AudioPlayerProxy.java:120)
   [WARN][TiSound (  320)] 	at org.appcelerator.kroll.runtime.v8.V8Object.nativeFireEvent(Native Method)
   [WARN][TiSound (  320)] 	at org.appcelerator.kroll.runtime.v8.V8Object.fireEvent(V8Object.java:60)
   [WARN][TiSound (  320)] 	at org.appcelerator.kroll.KrollProxy.doFireEvent(KrollProxy.java:636)
   [WARN][TiSound (  320)] 	at org.appcelerator.kroll.KrollProxy.handleMessage(KrollProxy.java:831)
   [WARN][TiSound (  320)] 	at org.appcelerator.titanium.proxy.TiViewProxy.handleMessage(TiViewProxy.java:307)
   [WARN][TiSound (  320)] 	at android.os.Handler.dispatchMessage(Handler.java:95)
   [WARN][TiSound (  320)] 	at android.os.Looper.loop(Looper.java:123)
   [WARN][TiSound (  320)] 	at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:109)
   [INFO][TiAPI   (  320)] State: starting (4)
   [INFO][TiAPI   (  320)] State: stopped (5)
   [INFO][StagefrightPlayer(   34)] setDataSource('<a href="http://184.164.135.242:9990/" rel="nofollow" target="_blank">http://184.164.135.242:9990/</a>')
   [ERROR][MediaPlayer(  320)] error (1, -2147483648)
   {quote}</li>
<li>Daniel Sefton 2013-04-02

   Hi Alexis,
   
   Our apologies for taking a while.
   
   I noticed that the URL in this sample is down - do you have a new URL that we could try?
   
   Could you also confirm whether this works on iOS? Then we can know if it's a parity issue.
   
   I removed sound.isMediaTypeSupported() from your test case because it was causing an undefined error.
   
   Thanks.</li>
<li>Alexis Gaitan 2013-04-02

   Sure, <a href="http://184.164.135.245:8026/" rel="nofollow" target="_blank">http://184.164.135.245:8026/</a> new url, i dont know i just test it using android :)</li>
<li>Daniel Sefton 2013-04-02

   Tested and confirmed on Android and iOS with SDK 3.0.2 GA on iOS 6 simulator and Samsung Galaxy S2 2.3.6. Updated description.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13327.json">JSON Source</a></p>