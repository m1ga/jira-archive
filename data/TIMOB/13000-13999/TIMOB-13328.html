---
title: "[TIMOB-13328] Android: HTTP Client does not properly handle server redirects"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2020-01-09T22:13:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.4</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>hard_to_verify</td></tr>
<tr><th>Reporter</th><td>Miles Lyon</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-09-25T19:55:09.000+0000</td></tr>
<tr><th>Updated</th><td>2020-01-09T22:13:20.000+0000</td></tr>
</table>

<h3>Description</h3>

Note: You will need to set up your own web server redirect to verify this issue.


Our webserver includes a 302 redirect response to adjust the webservice location our application points to.  This would allow us to make an updated version of the webservices and point production mobile apps to the new web service URLs as needed.


This works fine with our application under iOS, but unfortunately the Android version of the HTTP Client appears to be interpretting a 302 response as a 404 not found error and does not contain the proper response headers at any point.  Specifically we need to pull out the location response header.


We tried checking at any readyStateChange event as well, but the response is never updated with the correct information.


Monitoring the actual http request with Wireshark we can see that the request and response are what they should be.  The server responds with the following:


HTTP/1.1 302 Moved Temporarily
Server: Apache-Coyote/1.1
Location: [***OUR ACTUAL DESIRED SERVER URL***]
Content-Length: 0
Date: Tue, 25 Sep 2012 18:26:12 GMT
Connection: close


However, the HTTP client instead throws a 404 (not found) error.


The attached http client code is small (there doesn't need to be much to see what is happening), but shows what we are trying to do.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13328_31809/exampleRequest.js">exampleRequest.js</td></td><td>2012-09-25T19:55:09.000+0000</td><td>1346</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-13328.json">JSON Source</a></p>