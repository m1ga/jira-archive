---
title: "[TIMOB-13373] Android: ImageView canScale property does not maintain boundary"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-06-07T23:21:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 12 API, 2013 Sprint 12, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_imageview, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Soumya Kanti Kar</td></tr>
<tr><th>Assignee</th><td>Sunila</td></tr>
<tr><th>Created</th><td>2013-04-02T09:04:10.000+0000</td></tr>
<tr><th>Updated</th><td>2013-10-18T06:46:25.000+0000</td></tr>
</table>

<h3>Description</h3>

If the following code is run, once the image is displayed, pan the image without zooming. It can be observed that the image is going outside the viewable region and the view becomes green and the image is not longer displayed.

It should be within the viewable region.
<code><pre>
var win = Titanium.UI.createWindow({
	exitOnClose : true,
	navBarHidden : true
});


var parentView = Titanium.UI.createView({
	left : 0,
	top : 0,
	width : '100%',
	height : '50%',
	backgroundColor : 'red'
});


var imageView = Titanium.UI.createImageView({
	left : 0,
	top : 0,
	width : Titanium.UI.SIZE,
	height : Titanium.UI.SIZE,
	canScale : true,
	enableZoomControls : true,
	backgroundColor : 'green'
});

parentView.add(imageView);
win.add(parentView);
win.open();


var xhr = Titanium.Network.createHTTPClient({
	onload : function(e) {
		Ti.API.error("&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;" + this.responseData);
		imageView.image = this.responseData;
	},
	
	onerror : function(e) {
		alert('&lt;&lt;&lt;Error&gt;&gt;&gt;');
		Ti.API.error("The error is: " + e.error);
	},
	
	timeout : 10000,
	autoEncodeUrl : false
});

xhr.open('GET', '<a href="http://images4.wikia.nocookie.net/__cb20111006233206/disney/images/e/e2/MMCH_Y3.jpg" rel="nofollow" target="_blank">http://images4.wikia.nocookie.net/__cb20111006233206/disney/images/e/e2/MMCH_Y3.jpg</a>');
xhr.setRequestHeader('content-type', 'application/json');
xhr.setRequestHeader('accept', 'application/json');
xhr.send();
</pre></code>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13373_36966/Device_02.png">Device_02.png</td></td><td>2013-04-03T06:16:24.000+0000</td><td>71561</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13373_36967/Device_03.png">Device_03.png</td></td><td>2013-04-03T06:16:25.000+0000</td><td>21675</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13373_36968/Device_04.png">Device_04.png</td></td><td>2013-04-03T06:16:25.000+0000</td><td>14745</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13373_36965/Device_1.jpg">Device_1.jpg</td></td><td>2013-04-03T06:15:03.000+0000</td><td>32122</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jamie Buckley 2013-04-02

   Tested on a 4.1 device and 4.2 simulator could not reproduce.</li>
<li>Soumya Kanti Kar 2013-04-03

   Jamie, I have attached the screenshot showing the issue that we are facing. I have also modified the code a bit, so that it will download an image from remote server. The code has been executed on Sumsung Galaxy S2 running Android 4.2.2.
   
   Device_1 ==> This is the first image that is being displayed once the code has been executed.
   Device_2 ==> Pan (move) the image to bottom-right without zooming.
   Device_3 ==> Pan the image more so that the background color (green) of the imageview gets more prominent.
   Device_4 ==> The actual image has been moved away and is no longer visible.
   
   This should not happen and it should be within the boundary such that the image is always visible, with or without zooming.
   
   This is reproducible in both Android device as well as Android simulator, from Android 2.2 to current version.</li>
<li>Jamie Buckley 2013-04-04

   Reproduced on Android Simulator 2.2</li>
<li>Soumya Kanti Kar 2013-04-16

   Is there an update for this issue?</li>
<li>Soumya Kanti Kar 2013-04-25

   This issue is still reproducible in 3.1.0GA</li>
<li>Sunila 2013-06-06

   Behavior implemented
    If the image is in the original size, scrolling is not allowed
    If the image is zoomed in, then it can be scrolled until the boundaries, images cannot be scrolled beyond the boundaries.</li>
<li>Allen Yeung 2013-06-07

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4361" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4361</a></li>
<li>Viktor Korol 2013-08-10

   Please add this fix to 3.1.2.</li>
<li>Priya Agarwal 2013-10-18

   Verified with Fix with:
   
   Appc-Studio: 3.2.0.201310170829
   Sdk:3.2.0.v20131017152001
   alloy:1.2.2
   npm:1.3.2
   titanium:3.2.0
   titanium-code-processor:1.0.3
   Device:Google Nexus 7(v4.3)
   Xcode: 5
   
   imageView canScale property working fine.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13373.json">JSON Source</a></p>