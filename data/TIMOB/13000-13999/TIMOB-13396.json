{
	"id": "106467",
	"key": "TIMOB-13396",
	"fields": {
		"issuetype": {
			"id": "6",
			"description": "gh.issue.epic.desc",
			"name": "Epic",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [],
		"resolution": null,
		"resolutiondate": null,
		"created": "2012-12-13T14:08:08.000+0000",
		"priority": {
			"name": "Low",
			"id": "4"
		},
		"labels": [
			"cb-tooling",
			"engSchedule"
		],
		"versions": [],
		"issuelinks": [
			{
				"id": "52605",
				"type": {
					"id": "10002",
					"name": "Duplicate",
					"inward": "is duplicated by",
					"outward": "duplicates"
				},
				"inwardIssue": {
					"id": "114971",
					"key": "TIMOB-14094",
					"fields": {
						"summary": "iOS: Allow configurable build-type definition for adhoc builds",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "2",
							"description": "A new feature of the product, which has yet to be developed.",
							"name": "New Feature",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "52555",
				"type": {
					"id": "10002",
					"name": "Duplicate",
					"inward": "is duplicated by",
					"outward": "duplicates"
				},
				"inwardIssue": {
					"id": "111084",
					"key": "TIMOB-13038",
					"fields": {
						"summary": "CLI: Allow overriding deploy type for AdHoc/Enterprise/AppStore builds",
						"status": {
							"description": "This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.",
							"name": "Reopened",
							"id": "4",
							"statusCategory": {
								"id": 2,
								"key": "new",
								"colorName": "blue-gray",
								"name": "To Do"
							}
						},
						"priority": {
							"name": "High",
							"id": "2"
						},
						"issuetype": {
							"id": "4",
							"description": "An improvement or enhancement to an existing feature or task.",
							"name": "Improvement",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "27319",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "104885",
					"key": "TIMOB-13309",
					"fields": {
						"summary": "iOS: CLI: adhoc : copy and compress dsym in output dir (maybe as an option)",
						"status": {
							"description": "The issue is open and ready for the assignee to start work on it.",
							"name": "Open",
							"id": "1",
							"statusCategory": {
								"id": 2,
								"key": "new",
								"colorName": "blue-gray",
								"name": "To Do"
							}
						},
						"priority": {
							"name": "Low",
							"id": "4"
						},
						"issuetype": {
							"id": "2",
							"description": "A new feature of the product, which has yet to be developed.",
							"name": "New Feature",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "27318",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "104888",
					"key": "TIMOB-13311",
					"fields": {
						"summary": "Android: CLI: possibility to build apk for beta release (like ios adhoc)",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Medium",
							"id": "3"
						},
						"issuetype": {
							"id": "2",
							"description": "A new feature of the product, which has yet to be developed.",
							"name": "New Feature",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "27317",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "104884",
					"key": "TIMOB-13310",
					"fields": {
						"summary": "iOS: CLI: allow adhoc debug with development profile",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Low",
							"id": "4"
						},
						"issuetype": {
							"id": "2",
							"description": "A new feature of the product, which has yet to be developed.",
							"name": "New Feature",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "36361",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "122658",
					"key": "TIMOB-15745",
					"fields": {
						"summary": "CLI: Android: Add support for adhoc test builds",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Low",
							"id": "4"
						},
						"issuetype": {
							"id": "2",
							"description": "A new feature of the product, which has yet to be developed.",
							"name": "New Feature",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "52556",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"inwardIssue": {
					"id": "108510",
					"key": "TIMOB-13509",
					"fields": {
						"summary": "Report build type at runtime",
						"status": {
							"description": "The issue is open and ready for the assignee to start work on it.",
							"name": "Open",
							"id": "1",
							"statusCategory": {
								"id": 2,
								"key": "new",
								"colorName": "blue-gray",
								"name": "To Do"
							}
						},
						"priority": {
							"name": "Low",
							"id": "4"
						},
						"issuetype": {
							"id": "7",
							"description": "gh.issue.story.desc",
							"name": "Story",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "cbarber",
			"key": "cbarber",
			"displayName": "Chris Barber",
			"active": true,
			"timeZone": "America/Chicago"
		},
		"updated": "2020-07-01T14:41:53.000+0000",
		"status": {
			"description": "The issue is open and ready for the assignee to start work on it.",
			"name": "Open",
			"id": "1",
			"statusCategory": {
				"id": 2,
				"key": "new",
				"colorName": "blue-gray",
				"name": "To Do"
			}
		},
		"components": [
			{
				"id": "13103",
				"name": "CLI",
				"description": "Node-based command line interface"
			}
		],
		"description": "Trying to improve my publishing system i realised a few quirks in CLI for ad-hoc release:\r\n- ad-hoc uses deploytype production. it should use \"test\". Why because it s the only way to difference a real production build (store) from adhoc build.For example in my tiapp.xml i mention that hockeystick(hockeyapp)and testflight modules are only present in test release. This is great cause it means i have those modules for adhoc builds, and i am still sure they wont be in my production builds!\r\n- for deploytype \"test\", js are compiled on ios and not on android.\r\n\r\nWith those too fixes i have a great publishing system:\r\n-development: no compiled js, logs, no testflight/hockeystick\r\n-test: compiled js (so same behavior as production!), logs, testflight/hockeystick\r\n-production: compiled js, no logs, no testflight/hockeystick\r\n\r\nI fixed that in my branch. if you agree with me i ll will create a pull request",
		"attachment": [],
		"flagged": false,
		"summary": "CLI: Improve adhoc system",
		"creator": {
			"name": "farfromrefuge",
			"key": "farfromrefuge",
			"displayName": "Martin Guillon",
			"active": false,
			"timeZone": "Europe/Berlin"
		},
		"subtasks": [],
		"reporter": {
			"name": "farfromrefuge",
			"key": "farfromrefuge",
			"displayName": "Martin Guillon",
			"active": false,
			"timeZone": "Europe/Berlin"
		},
		"environment": "Titanium 3.1.0 master\r\n",
		"comment": {
			"comments": [
				{
					"id": "256370",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "@Martin, so, ignoring Android, what exactly are you proposing for iOS? We currently do not allow you to change the deploy type for adhoc builds because we don't know if you're doing adhoc for testing or for enterprise distribution.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2013-06-06T03:10:49.000+0000",
					"updated": "2013-06-06T03:10:49.000+0000"
				},
				{
					"id": "394690",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "I don't see a big deal with allowing {{\\-\\-deploy\\-type}} to be overridden for {{dist-adhoc}} (iOS) and {{dist-appstore}} (Android) builds. {{\\-\\-deploy\\-type}} would still default to {{production}} for both {{dist-adhoc}} and {{dist-appstore}}.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2016-08-29T20:31:04.000+0000",
					"updated": "2016-08-29T20:31:04.000+0000"
				},
				{
					"id": "455320",
					"author": {
						"name": "ygbr",
						"key": "ygbr",
						"displayName": "Ygor Lemos",
						"active": true,
						"timeZone": "America/Sao_Paulo"
					},
					"body": "we are also suffering with this for years... our tooling is required to change variables in code before building so we know the type of build on runtime and defer if the app should connect to development environments for internal testing or production.\r\n\r\nallowing to change the deployType for adhoc builds would improve QA/QE flows greatly for teams with automated testing.",
					"updateAuthor": {
						"name": "ygbr",
						"key": "ygbr",
						"displayName": "Ygor Lemos",
						"active": true,
						"timeZone": "America/Sao_Paulo"
					},
					"created": "2020-04-30T18:53:44.000+0000",
					"updated": "2020-04-30T18:53:44.000+0000"
				},
				{
					"id": "455326",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~ygbr] Yeah, this is largely a legacy thing. Ad-hoc builds have always had a deploy type of \"production\". When I rewrote the Python scripts in Node.js, I kept the logic. According to Apple, ad-hoc builds are for distributing an app without the app store. Appc considered this a production release. A lot of things are coupled to the deploy type such as analytics and we wanted to ensure all distributed apps had analytics (unless opted out in tiapp.xml).\r\n\r\nTimes have changed and now we have things like TestFlight and enterprise app management. It's good to revisit this topic.\r\n\r\nI will bring this issue up at the next internal architecture meeting. I think we need to determine if we can/should allow \"test\" in addition to \"production\" and if we should default to \"test\" or \"production\".",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2020-05-01T15:09:42.000+0000",
					"updated": "2020-05-01T15:09:42.000+0000"
				},
				{
					"id": "455768",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "Here's the plan:\r\n\r\nWe will be updating the code to allow a \"test\" deploy type for \"dist-adhoc\" builds, but still default to \"production\".\r\n\r\nSecond, we will only allow \"dist-adhoc\" to select \"ad hoc\" provisioning profiles. You will no longer be able to select enterprise/in-house profiles. We are adding a new \"dist-inhouse\" target for doing In-house distributions (TIMOB-27908).",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2020-06-11T21:53:25.000+0000",
					"updated": "2020-06-11T21:53:25.000+0000"
				}
			],
			"maxResults": 5,
			"total": 5,
			"startAt": 0
		}
	}
}