---
title: "[TIMOB-13522] Android:Video camera does not fire the callback on startActivityForResult on save"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-05-09T12:39:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0, Release 3.0.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>supportTeam</td></tr>
<tr><th>Reporter</th><td>Rupesh Sharma</td></tr>
<tr><th>Assignee</th><td>Sunila</td></tr>
<tr><th>Created</th><td>2013-04-11T13:29:19.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-23T20:47:57.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>
Video camera after recording is done does not fire the callback for startActivityForResult on clicking the save button.

<h4>Test code</h4>
<code><pre>
var intent = Titanium.Android.createIntent({ action: 'android.media.action.VIDEO_CAPTURE' });
    Titanium.Android.currentActivity.startActivityForResult(intent, function(e) {
        alert('daz3');
        if (e.error) {
            alert('daz2');
            Ti.UI.createNotification({
                duration: Ti.UI.NOTIFICATION_DURATION_LONG,
                message: 'Error: ' + e.error
            }).show();
        } else {
            alert('daz2');
            if (e.resultCode === Titanium.Android.RESULT_OK) {
                videoUri = e.intent.data;
                Ti.UI.createNotification({
                    duration: Ti.UI.NOTIFICATION_DURATION_LONG,
                    message: 'Video captured; now share or save it!'
                }).show();
                // note that this isn't a physical file! it's a URI in to the MediaStore.
                shareButton.visible = true;
                saveButton.visible = true;
            } else {
                Ti.UI.createNotification({
                    duration: Ti.UI.NOTIFICATION_DURATION_LONG,
                    message: 'Canceled/Error? Result code: ' + e.resultCode
                }).show();
            }
        }
    });

});
</pre></code>

<h3>Comments</h3>

<ol>
<li>Sunila 2013-05-09

   The sample code has issues. If I fix the code and run it, the callback is executed. If this code is associated with a window created with setting the property 'navBarHidden' in createWindow, then instead of using Android.currentActivity, it should refer to getActivity() of the created window. 
   Setting the property 'navBarHidden' in createWindow will create a new Activity and js context. The code Ti.Android.currentActivity here, refers to the app main activity and the callback won't get called until that activity is active</li>
<li>Lee Morris 2017-03-23

   Closing ticket as invalid with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13522.json">JSON Source</a></p>