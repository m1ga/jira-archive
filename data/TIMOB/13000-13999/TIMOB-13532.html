---
title: "[TIMOB-13532] Keep Track of Ti.CloudPush 2.2 Update"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-05-22T23:34:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 11 Core, 2013 Sprint 11, Release 3.1.1, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Paul Lv</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2013-04-11T22:46:51.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T22:45:40.000+0000</td></tr>
</table>

<h3>Description</h3>

For a new feature raised from ACS side to use a general Haproxy to assign different apps to different environment (production or enterprise), we need to add appKey along with all Coordinator's HTTP request. For getting device token, it already had that. For now getting host adds appKey as well.

This ticket is for a track on TIMOB part, and concerete implementation has been done by CLOUDSRV-2281.

<h3>Comments</h3>

<ol>
<li>Jeff English 2013-04-16

   Code reviewed - approved</li>
<li>Matt Langston 2013-05-22

   I found this PR for master: <a href="https://github.com/appcelerator/titanium_mobile/pull/4211" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4211</a>
   
   And this PR for the 3_1_X back port: <a href="https://github.com/appcelerator/titanium_mobile/pull/4212" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4212</a>
   
   However, this ticket is missing a test case for the Functional Review.</li>
<li>Mukesh Gadiya 2013-05-22

   1. Build the titanium SDK from this commit: <a href="https://github.com/appcelerator/titanium_mobile/pull/4211/commits" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4211/commits</a>
   2. Unzip the SDK zip file and verify that modules/android/ti.cloudpush/2.2.0 exists
   3. Create a new titanium mob project from Appcelerator studio 3.1.1.x ( Make sure the version is 3.1.1 ) using the SDK from above steps. 
   3.5 add ti.cloudpush module ( make sure the version is 2.2.0)
   4. Log in,  with same credentails as from appcel studio, in dashboard.appcelerator.com and verify that you can see this project on dashboard under your org
   4.5 Go to Cloud tab and click on Settings and Configuration. In the text box labelled, Android Push Configuration , paste your ti mob app name.
   5. Copy the contents of <SDKPath>/modules/commonjs/ti.cloud/2.3.4/example to Resources directory in the titanium mob project
   6. Build the project and install it on android device
   7. on separate terminal, execute adb logcat and observe adb logs
   8. When the app is launched on device, go to push notifications/settings/ and click on first button, marked 'disabled' to turn the push notification on for this app. This should bring up device token retrieved pop-up. Also, adb logcat should show the api.cloud.appcelerator.com/v1/notifications/subscribe.json api request and valid response containing valid MQTT host connected to this device.
   8. a. Go to users row in the app and click on Create user and fill in the fields
   8. b. Go push notification tabs and click on subscribe, fill in channel name and click subscribe and it should show up a pop-up saying subscribed
   9. Go to dashabord.appcelerator.com and select your app from left top corner. 
   10. Go to cloud -> pushnotifications and verify that one android device is shown as a subscribed device.
   11. click on send push notification
   12. Fill in the details and click send
   13. The phone should receive the push notification payload sent from website. </li>
<li>Matt Langston 2013-05-22

   FR passed for <a href="https://github.com/appcelerator/titanium_mobile/pull/4211." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4211.</a> PR merged to master.</li>
<li>Matt Langston 2013-05-22

   FR passed for <a href="https://github.com/appcelerator/titanium_mobile/pull/4212." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4212.</a> PR merged to 3_1_X.</li>
<li>Lee Morris 2017-03-22

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13532.json">JSON Source</a></p>