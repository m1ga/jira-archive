---
title: "[TIMOB-13550] CLI: LiveView process messages result in a Studio freeze or error of some kind"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-04-24T18:43:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 08, 2013 Sprint 09 JS, 2013 Sprint 09, Release 3.2.0</td></tr>
<tr><th>Components</th><td>CLI, LiveView</td></tr>
<tr><th>Labels</th><td>qe-3.1.0</td></tr>
<tr><th>Reporter</th><td>Dustin Hyde</td></tr>
<tr><th>Assignee</th><td>Christian Sullivan</td></tr>
<tr><th>Created</th><td>2013-04-13T19:42:57.000+0000</td></tr>
<tr><th>Updated</th><td>2013-07-29T01:24:47.000+0000</td></tr>
</table>

<h3>Description</h3>

iOS Device Run Config: unable to create config with unknown char error: closing running liveview process id.

Probably related to a previous liveview run, using either android device or iphone simulator.

Steps to Reproduce:

1. Create an iOS Device run configuration.

Actual Result:

Failure. Every time.

Expected Result:

Config created successfully, even if liveview was run at some previous time.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13550_37469/android sdk preferences.png">android sdk preferences.png</td></td><td>2013-04-14T17:29:25.000+0000</td><td>245758</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13550_37448/error.png">error.png</td></td><td>2013-04-13T19:42:57.000+0000</td><td>469106</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13550_37814/Screen Shot 2013-04-24 at 3.12.28 PM.png">Screen Shot 2013-04-24 at 3.12.28 PM.png</td></td><td>2013-04-24T23:45:45.000+0000</td><td>306299</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13550_37449/studio-log.txt">studio-log.txt</td></td><td>2013-04-13T19:42:58.000+0000</td><td>691493</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Dustin Hyde 2013-04-13

   I can't get out of this state.
   
   Restarting Studio does not work.
   
   Terminating any running processes using the Studio UI does not work.</li>
<li>Dustin Hyde 2013-04-13

   It goes without saying any run on ios device operation will fail.
   
   Can't profile, etc.</li>
<li>Dustin Hyde 2013-04-13

   If I run the cli from the command line, I get output like this:
   
   <code><pre>
   DHydeMBP:~ dhyde$ ti -v
   [INFO]  Closing running liveview process id:6869
   3.1.0-cr
   DHydeMBP:~ dhyde$ ti -v
   3.1.0-cr
   DHydeMBP:~ dhyde$ ti -v
   [INFO]  Closing running liveview process id:6884
   3.1.0-cr
   DHydeMBP:~ dhyde$ ti -v
   3.1.0-cr
   DHydeMBP:~ dhyde$ ti -v
   [INFO]  Closing running liveview process id:6899
   3.1.0-cr
   DHydeMBP:~ dhyde$ ti -v
   3.1.0-cr
   DHydeMBP:~ dhyde$ ti -v
   [INFO]  Closing running liveview process id:6914
   3.1.0-cr
   DHydeMBP:~ dhyde$ ti -v
   3.1.0-cr
   </pre></code></li>
<li>Dustin Hyde 2013-04-13

   The iOS Preferences menu will freeze in Studio.
   Any iOS Device run configs will have a UI Error.</li>
<li>Dustin Hyde 2013-04-13

   1. iOS Device Run Config
   2. iOS Studio Preferences
   3. command line ti -v calls
   4. ???</li>
<li>Christian Sullivan 2013-04-13

   Fixed added support for --no-colors to LiveView <a href="https://github.com/appcelerator/liveview/tree/0.1.4-cr" rel="nofollow" target="_blank">https://github.com/appcelerator/liveview/tree/0.1.4-cr</a>
   </li>
<li>Ingo Muschenetz 2013-04-14

   Fixed based on Christian's comments.</li>
<li>Dustin Hyde 2013-04-14

   I opened the Android SDK preferences menu in Titanium Studio, and I get a liveview error (screenshot attached).
   
   Titanium Studio, build: 3.1.0.201304132117</li>
<li>Ingo Muschenetz 2013-04-14

   This is the same error I see this morning going into the iOS preferences:
   
   <code><pre>
   !ENTRY org.eclipse.jface 4 2 2013-04-14 09:35:19.409
   !MESSAGE Problems occurred when invoking code from plug-in: "org.eclipse.jface".
   !STACK 0
   java.lang.IllegalStateException: unknown char 'I'(73) in [|||INFO]  Closing running liveview process id:17860
   {
   "xcode": {
   "4.6:4H127": {
   "path": "/Applications/Xcode.app/Contents/Developer",
   "xcodeapp": "/Applications/Xcode.app",
   "xcodebuild": "/Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild",
   "selected": true,
   "version": "4.6",
   "build": "4H127",
   "sdks": [
   "6.1"
   </pre></code></li>
<li>Ingo Muschenetz 2013-04-14

    For me, editing:
    
    /Applications/Appcelerator Studio/plugins/com.appcelerator.titanium.liveview.core_1.0.0.1365901334
    
    and commenting out the following lines allows me to get around the issue
    
    node_modules/liveview/lib/fserver.js:    console.log('[INFO]'.green, ' Closing running liveview process id:' + _pid);
    node_modules/liveview/lib/fserver.js:  console.log('\n[INFO]'.green, ' Closing running liveview process id:' + pid);
    
    The weird thing is that I don't see that line being printed when I run the CLI directly from the command line, even if I use the exact same call Studio is using.</li>
<li>Christian Sullivan 2013-04-14

    @ingo if that fixes it I can just remove that part from the module
    </li>
<li>Ingo Muschenetz 2013-04-14

    [~csullivan] It at least allows the preference pages to open. LiveView itself still doesn't work.</li>
<li>Federico Casali 2013-04-14

    After updating to the latest Appcelerator Studio version, I found myself into this error state.
    The biggest problem was that I was not able anymore to run any Android project. Studio was not finding anymore a valid Android version to be used. Opening 'Preferences/Platform/Android' eventually was leading to get Appcelerator Studio stuck and had to kill it from Activity Monitor.
    
    Workaround from Ingo worked fine, as well as using a brand new version starting from a clean state, so I cannot reproduce the error anymore. Will reopen if I can reproduce it again.</li>
<li>Ingo Muschenetz 2013-04-14

    Going to reopen as the issue with the "closing process" message is still causing problems. Christian said he will remove.</li>
<li>Bert Grantges 2013-04-15

    uninstalling latest titanium CLI and Liveview and reinstalling Titanium CLI (existing GA branch), and android SDK is recognized again. Could this be a problem with the clihook?
    
    </li>
<li>Bert Grantges 2013-04-15

    also just reinstalled new CLI (3.1.0-cr) and did not install liveview - this issue pops back up. See it across Titanium Studio (3.2.0.201303262408) and Appc Studio ( 3.2.0.201304132149)
    
    </li>
<li>Dustin Hyde 2013-04-15

    LiveView is included in the Appcelerator Studio application folder, under plugins.</li>
<li>Federico Casali 2013-04-15

    This issue is also impacting Titanium Studio if LiveView is installed separately as explained in <a href="https://wiki.appcelerator.org/display/tools/LiveView#LiveView-Testing" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/tools/LiveView#LiveView-Testing</a>
    
    My paths.hooks: ["/usr/local/lib/node_modules/liveview/bin/../hook"]
    
    Also with Titanium Studio (currently on the latest version 3.1.0.201304142146), bug is reproducible, so Android SDK is no longer recognized.
    
    Applying Ingo's workaround to the '/usr/local/lib/node_modules/liveview/lib/fserver.js' file fix the problem.</li>
<li>Christian Sullivan 2013-04-19

    This issue is either from a hooks path in the config.json that no longer exists or multiple versions of the liveview hook from different directories I think. I can try parsing the hooks path for liveview and not the full path to avoid conflicts from 2 versions in different locations but that would mean if the user installs via npm+git after studio is installed then the npm+git version would be used instead Of the version installed with studio. We should add functionality to the cli hooks system to check the hooks package.json to ensure duplicate hooks are not installed and that studio can force the studio installed hook to be run by default if needed. </li>
<li>Christian Sullivan 2013-04-19

    The other issue is the liveview post install hook uses the normalized version of the path and the post remove hook looks for the non-normalized hook path to remove</li>
<li>Olga Romero 2013-04-24

    Updating Appcelerator Studio from  3.1.0.201304151708 to 3.1.1.201304231946 version, I ran in to similar issue with Android SDK (Please see attachment). After *restarting* my machine, I could not reproduce this issue. I was able to install the project on to Android device.
    
    
    OS: OS X Mountain Lion 10.8.3
    Appcelerator Studio: 3.1.1.201304231946
    Titanium CLI: 3.1.0
    Titanium SDK: 3.1.1.v20130423100100
    Alloy: 1.1.1
    LiveView: 0.1.4-cr
    LiveView plugin: com.appcelerator.titanium.liveview.core_1.0.0.1366390662, com.appcelerator.titanium.liveview.core_1.0.0.1365901334
    
    
    
    </li>
<li>Michael Xia 2013-07-29

    Verified fixed on the following configuration:
    
    Appcelerator Studio, build: 3.1.2.201307261628
    LiveView feature 1.0.0.201307261639
    LiveView package 0.1.29
    CLI 3.1.1
    SDK 3.1.2.v20130723160131
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-13550.json">JSON Source</a></p>