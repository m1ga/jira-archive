---
title: "[TIMOB-13557] iOS: Ti.Map.View.removeAnnotations doesn't work + solution. "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Sergey Nosenko</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-04-15T10:05:01.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:03:36.000+0000</td></tr>
</table>

<h3>Description</h3>

Q&A link to issue and solution.

<a href="http://developer.appcelerator.com/question/146932/how-to-delete-an-array-of-annotations#answer-260727" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/146932/how-to-delete-an-array-of-annotations#answer-260727</a>


In following code ENSURE_TYPE makes array with one element which is array of annotations.
<code><pre>

-(void)removeAnnotations:(id)arg
{
	ENSURE_TYPE(arg,NSArray)
    for (id ann in arg) {
        if ([ann isKindOfClass:[TiMapAnnotationProxy class]]) {
            [self forgetProxy:ann];
        }
    }
    
	if ([self viewAttached]) {
        TiThreadPerformOnMainThread(^{
            [(TiMapView*)[self view] removeAnnotations:arg];
        }, NO);
	}
	else {
		for (id annotation in arg) {
			[self removeAnnotation:annotation];
		}
	}
}
</pre></code>

to resolve it we must replace 

<code><pre>
ENSURE_TYPE(arg,NSArray)
</pre></code>

with more correct

<code><pre>
ENSURE_SINGLE_ARG(arg,NSArray)
</pre></code>


<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-13557.json">JSON Source</a></p>