---
title: "[TIMOB-13558] Android: Button with a touchstart event can look disabled if you call setEnabled(true)"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>exalture, supportTeam</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-04-15T17:20:20.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:03:20.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
if you have a Button with a touchstart event it can look disabled if you call setEnabled(true) after the button is clicked. If they use a touchend, or click event then this issue is not present or if I use the 2.1.3.GA sdk then this issue does not occur with the touchstart event.

<h4>To reproduce</h4>
1. Install this app to a android device. 
2. Launch ADB so you can see when the buttons are pressed. 
3. Click Button 1, watch the logs to verify the button was clicked. 
4. Click Enable Button 1
5. Notice that Button 1 is now in a depressed state. 
6. Click on Button 1, notice it clicked and is now in a enabled state
7. Click Enable BUtton
8. Notice its back to the depressed state.

<h4>== app.js ==</h4>
<code><pre>
var view = require('FirstView')();
var win = Ti.UI.createWindow({
	backgroundColor: "white"
});
win.add(view);
win.open();
</pre></code>

<h4>== FirstView.js ==</h4>
<code><pre>
//FirstView Component Constructor
function FirstView() {

	var self = Ti.UI.createView();

	var defaults = {
		enabled: true,//me
		title : "Button 1",
		top : 20,
		width : 400,
		height : 200,
		backgroundTopCap : 50,
		backgroundLeftCap : 50,
		color : "#2C4471",
		selectedColor : "#2C4471",
		font : {
			"fontSize" : "16dp",
			"fontFamily" : "HelveticaNeue-Bold",
			"fontWeight" : "bold"
		},
		backgroundImage : '/global-btn-up.png',
		backgroundSelectedImage : '/global-btn-down.png',
		shadow : {
			shadowRadius : 4,
			shadowOpacity : 0.2,
			shadowOffset : {
				x : 0,
				y : 0
			}
		}
	}

	var button = Titanium.UI.createButton(defaults);

	self.add(button);

	button.addEventListener('touchstart', function() {
		button.setEnabled(false);
		Ti.API.info("[INFO] [Button 1 clicked!!]");
	});

	var button2 = Titanium.UI.createButton(defaults);
	button2.top = 260;
	button2.title = "Enable Button 1";
	self.add(button2);

	button2.addEventListener('touchstart', function() {
		button.setEnabled(true);
		Ti.API.info("[INFO] [Button 2 clicked!!]");
	});

	return self;

}

module.exports = FirstView; 
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13558_37487/global-btn-down.9.png">global-btn-down.9.png</td></td><td>2013-04-15T17:20:20.000+0000</td><td>1788</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13558_37486/global-btn-up.9.png">global-btn-up.9.png</td></td><td>2013-04-15T17:20:20.000+0000</td><td>1674</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sunila 2013-06-06

   I have logged my findings</li>
<li>Daniel Fortner 2014-03-17

   </li>
<li>Sunila 2014-03-23

   This looks like an Android issue where the state is messed up if the button is disabled during touch event. One workaround could be to use 'touchend' instead of 'touchstart'
   </li>
<li>Neeraj Gupta 2014-03-24

   It appears that it worked with a previous Titanium SDK version. Can you reproduce this issue with a native application? If yes, can we have a workaround for Titanium SDK?</li>
</ol>


<p><a href="/TIMOB/TIMOB-13558.json">JSON Source</a></p>