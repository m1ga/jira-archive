---
title: "[TIMOB-13640] iOS: Cannot build adhoc using Titanium CLI"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-05-03T01:12:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>CLI, iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Davide Cassenti</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-04-22T12:03:10.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-31T20:30:45.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>

Cannot build ad-hoc using Titanium CLI. The following error is reported:

<code><pre>
ERROR] ** BUILD FAILED **
[ERROR] The following build commands failed:
[ERROR]         CodeSign build/Release-iphoneos/TestApp.app
[ERROR] (1 failure)
</pre></code>

<h4>Steps to reproduce</h4>

Create a project and build ad-hoc using CLI:

<code><pre>
titanium build --build-only --force --log-level=debug --platform=ios --project-dir=. --device-family=iphone --distribution-name="[DISTRIBUTION-NAME]" --ios-version=6.1 --keychain=/Users/[USER]/Library/Keychains/ --target=dist-adhoc --pp-uuid=[PROVISIONING-PROFILE-UUID]
</pre></code>

<h3>Comments</h3>

<ol>
<li>Eric Merriman  2013-04-23

   Please provide the CLI version shown with "ti -v"
   
   The output above points to a code-signing error. Please verify the provision is in place, and that the identity and provision are correct. Use Xcode to verify both, or use "ti info -p ios" and check both are correct. Look specifically for the distribution identity under "Distribution" and the provision under "Adhoc iOS Provisioning Profiles". For example:
   <code><pre>
     Distribution                                      = Appcelerator, Inc.
                                                         Eric Merriman
   ...
   Adhoc iOS Provisioning Profiles
   Any App Adhoc Distribution
     UUID                                              = 207QC916-0327-46F8-83E2-FC13B29F9F5S
     App Prefix                                        = WZ34J6SL52
     App Id                                            = *
   </pre></code>
   
   There are a few things to clarify here:
   You don't need the "=" characters.
   You don't need the "--project-dir" if you are going to specify "."
   "--force" is a ti create flag, not a build flag.
   With adhoc target, you must specify output directory for the ipa. Use "-O" (or "--output-dir")
   The "--build-only" flag is designed to prevent a simulator or device build from running the simulator/device install and run. You don't need that in this case.
   
   Using the command as presented (but removing the non-functional parts, and adding the required flag "-O") I was unable to reproduce. I do not have multiple keychains on my system currently and am unsure if the reporter needs to use another keychain other than the default. Please note however, the -b should not prevent an ipa from being created. I will create a bug for that and link it to this one.
   
   Example build commands for adhoc:
   ti build -p ios -T dist-adhoc -F iphone -V "Eric Merriman" -P 207TC916-0727-45F8-83E2-FC13B26F9F3S -I 6.1 -K <KEYSTORE PATH HERE> -O /Users/emerriman/Desktop --log-level debug
   or:
   titanium build --platform ios --target dist-adhoc --device-family iphone --developer-name "Eric Merriman" --pp-uuid 207TC916-0727-45F8-83E2-FC13B26F9F3S --ios-version 6.1 -K <KEYSTORE PATH HERE> --output-dir /Users/emerriman/Desktop --log-level debug
   </li>
<li>Ashton Williams 2013-09-18

   CLI version 3.1.2, Titanium SDK version 3.1.2.GA
   
   Ran into this problem today, titanium was defaulting to xcode 5 SDK (even after xcode-select), seems to be if you use <code>-ios-version=6.1</code> and <code>-build-only</code> you don't get an ipa.</li>
<li>Lee Morris 2017-03-31

   Unable to reproduce this issue, tested with the following environment; 
   iPhone 7 and Simulator (10.2) 
   MacOS 10.11.6 (15G31) 
   Studio 4.8.1.201612050850 
   Ti SDK 6.0.2 GA 
   Appc NPM 4.2.8 
   Appc CLI 6.1.0 
   Ti CLI 5.0.11 
   Alloy 1.9.5 
   Arrow 1.10.1 
   Xcode 8.2 (8C38) 
   Node v4.6.0 
   Java 1.7.0_80</li>
</ol>


<p><a href="/TIMOB/TIMOB-13640.json">JSON Source</a></p>