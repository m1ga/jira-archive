---
title: "[TIMOB-13662] iOS: Setting html property in web view prevents setUrl from loading page"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-06-01T23:15:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.2, Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Neville Dastur</td></tr>
<tr><th>Assignee</th><td>Pedro Enrique</td></tr>
<tr><th>Created</th><td>2013-04-23T12:17:43.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-16T21:51:44.000+0000</td></tr>
</table>

<h3>Description</h3>

*Problem description*
I have a webview that on start up is empty on an iOS as it acts to show detail. So I used the html property to effectively set a default blank page. It seems that setting this property stops setUrl from loading a local resource.

*Steps to reproduce*
1. Run test case, with testpage.html as an additional resource
2. See that "I'm the property" displays rather than "I'm the local page"
3. Comment out the html property to see that now "I'm the local page" displays

*app.js*
<code><pre>
var win = Titanium.UI.createWindow({
	title : 'Window',
	backgroundColor : 'white',
	layout : 'vertical'
});

webView = Titanium.UI.createWebView({
	width : Ti.UI.FILL,
	height : Ti.UI.FILL,
	html : '<html><body>I\'m the property</body></html>'
	// ^^ Comment out html property to "fix" problem
});
win.add(webView);

webView.setUrl("/testpage.html");

win.open();
</pre></code>

*testpage.html*
<code><pre>
<html>
	<body>
		I'm the local page
	</body>
</html>
</pre></code>

<h3>Comments</h3>

<ol>
<li>Daniel Sefton 2013-04-23

   Tested and confirmed on iOS 6 simulator, Ti SDK 3.1 GA.</li>
<li>Neville Dastur 2014-08-13

   Any news on a fix for this please?</li>
<li>Pedro Enrique 2014-08-14

   Seems like the properties of the web view are processed after the window has opened. So the html override the URL. The workaround is to set the url after the window opens:
   <code><pre>
   var win = Titanium.UI.createWindow({
       title : 'Window',
       backgroundColor : 'white',
       layout : 'vertical'
   });
    
   webView = Titanium.UI.createWebView({
       width : Ti.UI.FILL,
       height : Ti.UI.FILL,
       html : '<html><body>I\'m the property</body></html>'
   });
   win.add(webView);
   win.open();
   
   webView.setUrl("/pedro.html");
   </pre></code></li>
<li>Pedro Enrique 2014-08-14

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/5971/files" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5971/files</a></li>
<li>Lee Morris 2017-03-16

   Closing ticket as the issue has been fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13662.json">JSON Source</a></p>