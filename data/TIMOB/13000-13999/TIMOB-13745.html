---
title: "[TIMOB-13745] CLI never fires 'build.ios.copyResource' hook on iOS device builds"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-05-04T00:32:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1, Release 3.1.2, Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Christian Sullivan</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-05-02T09:02:41.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-14T18:03:26.000+0000</td></tr>
</table>

<h3>Description</h3>

TEST CASE

Install latest liveview (0.1.9 as of 5/1/13)

<code><pre>
$ DEBUG=liveview:* ti build -p ios -D development -T device --liveview
</pre></code>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2013-05-02

   Could this be related to this return statement: <a href="https://github.com/appcelerator/liveview/blob/master/hook/lvhook.js#L22." rel="nofollow" target="_blank">https://github.com/appcelerator/liveview/blob/master/hook/lvhook.js#L22.</a> Regardless of whether this is the cause, this return should not be here.
   
   If you specify --liveview, then the hook should fire.</li>
<li>Christian Sullivan 2013-05-02

   Nope I tested removing the flag and still a no go. I added the catch so liveview would not be evaluated for ever cli call. This should fix the conflict in cli color libraries and also prevent unneeded code evaluation. 
   
   if you run the below command you will get an output of all the hooks being fired.
   
   <code><pre>
   $ DEBUG=liveview:* ti build -p ios -D development -T device --liveview
   </pre></code></li>
<li>Chris Barber 2013-05-02

   If I run your command above, then process.argv.indexOf('--liveview') will equal === -1 and the init() function returns before the hooks is even added. You must either remove the return call or add --liveview to the command. What am I missing here?</li>
<li>Christian Sullivan 2013-05-02

   Sorry typo in my test case forgot to add --liveview. Try the updated test case </li>
<li>Chris Barber 2013-05-02

   OK, I think I know what's going on. There was some unfinished code in 3.1.0.GA with copying files for development deploy-type device builds. It was fixed in TIMOB-13553. You MUST use a master branch build from AFTER April 19th, 2013.</li>
<li>Christian Sullivan 2013-05-02

   Still no luck with newer sdk version
   
   Tested on 3.2.0.v20130501123241
   
   Build Command
   <code><pre>
   $ DEBUG=liveview:* ti build -p ios -T device -D development --liveview
   </pre></code>
   
   Log output
   <code><pre>
     liveview:clihook Runningbuild.[PLATFORM].config hook +0ms
     liveview:clihook Runningbuild.[PLATFORM].config hook +1
    [INFO]   Build type:  development
    [INFO]   Building for target:  device
    [INFO]   Building using iOS SDK:  6.1
    [INFO]   Building for device family:  universal
    [INFO]   iOS Development Certificate:  Christian Sullivan (BGY4LPG9P3)
    [INFO]   Building for iOS  6.1 ; using  4.3  as minimum iOS version
    [INFO]   Minimum iOS version:  4.3
    [INFO]   Using default keychain
    [INFO]   Debugging disabled
    [INFO]   Profiler disabled
    [INFO]   Initiating prepare phase
    [INFO]   Forcing rebuild:  /Users/euforic/test_cases/lvtest/build/iphone/build-manifest.json  does not exist
     liveview:clihook Running post:build.pre.compile hook +13s
    [INFO]   No Titanium Modules required, continuing
    [INFO]   Performing full rebuild
    [INFO]   Copying Xcode iOS files
    [INFO]   Creating Xcode project directory:  /Users/euforic/test_cases/lvtest/build/iphone/lvtest.xcodeproj
    [INFO]   Writing Xcode project data file:  Titanium.xcodeproj/project.pbxproj
    [INFO]   Writing Xcode project configuration:  project.xcconfig
    [INFO]   Writing Xcode module configuration:  module.xcconfig
    [INFO]   Forcing rebuild: debugger.plist does not exist
    [INFO]   Forcing rebuild: profiler.plist does not exist
    [INFO]   Forcing rebuild: ApplicationDefaults.m has changed since last build
    [INFO]   Writing properties to  ApplicationDefaults.m
    [INFO]   No module resources to copy
    [INFO]   No CommonJS modules to copy
    [INFO]   Copying iTunes artwork
     liveview:clihook Running pre:build.ios.writeBuildManifest hook +492ms
    [INFO]   Invoking xcodebuild
    [INFO]   Finished building the application in 14s 275ms
     liveview:clihook Running post:build.pre.compile hook +12s
    [LiveView]  Stopping active server
     liveview:server /var/folders/nw/3zwzvtg91_l0725l060h02nr0000gn/T/1292-liveview +0ms /Users/euforic/test_cases/lvtest/Resources
    [LiveView]  File Server Started on Port  8324
    [LiveView]  Event Server Started on Port  8323
    [INFO]   Installing application into iTunes
    [INFO]   Initiating iTunes sync
    [INFO]   Project built successfully in 15s 590ms
   </pre></code></li>
<li>Lee Morris 2017-03-14

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13745.json">JSON Source</a></p>