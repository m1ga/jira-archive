---
title: "[TIMOB-13759] MobileWeb: Set useTouch to false when window.ontouchscreen is set to null"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2013-05-07T04:36:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>MobileWeb</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Michael Xia</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-05-06T05:23:08.000+0000</td></tr>
<tr><th>Updated</th><td>2014-01-28T23:23:13.000+0000</td></tr>
</table>

<h3>Description</h3>

We are seeing an issue with Denso IVI platform where for Titanium apps, the click event is not being handled on IVI browser. After investigation from the Denso team, it looks to be caused by the QtWebKit implementation of window.ontouchstart property handling.

In QtWebKit, it set "window.ontouchscreen = null" even though it doesn't support touch event. However, in our mobile web code, we only check for the existence of ontouchscreen property and assume the browser supports touch event as long as it is set, even if it's set to null. Since QtWebKit only reports mouse event, as a result, no one responds to click events.

The Denso team is able to work around the issue by modifying the code in files mobileweb/titanium/Ti/_/UI/Element.js and mobileweb/titanium/Ti/UI.js to add the following line after "useTouch = 'ontouchstart' in global":

<code><pre>
if (useTouch && global.ontouchstart == null) {
    useTouch = false;
}
</pre></code>

This ticket is to merge the suggested change into the mobile web code.


<h3>Comments</h3>

<ol>
<li>Chris Barber 2013-05-07

   We cannot do this because on iOS devices, "ontouchstart" in window == true and window.ontouchstart == null, so this logic would always set useTouch to false on iOS devices.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13759.json">JSON Source</a></p>