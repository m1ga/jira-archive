---
title: "[TIMOB-13868] Android: ScrollableView pages within ListView not displayed correctly"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Sub-task</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-11-07T22:29:56.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.0, Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 23, 2013 Sprint 23 API, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Philippe Wueger</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2013-05-14T08:13:40.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T00:16:26.000+0000</td></tr>
</table>

<h3>Description</h3>

*Problem*
The pages of a ScrollableView are not drawn correctly when placed within a ListView.

*Steps to reproduce*
1. Launch the app with the code below.
2. Scroll to the third page on the ScrollableView.
3. Problem: The third page is not displayed (no green background is shown). (The first two pages are displayed correctly).
4. Scroll back to the first page. Problem: This page is now also not displayed anymore.
5. Scroll down the list, so that the ScrollableView leaves the screen.
6. Scroll up again. The first page of the ScrollableView is now displayed correctly again.

Note: Scrolling the ScrollableView within the ListView works much better when the fix of issue TIMOB-13610 is used.

*Test Case*
<code><pre>
var win = Ti.UI.createWindow();

var scrollableViewTemplate = {
	childTemplates: [
     {
    	 type: 'Ti.UI.ScrollableView',
    	 bindId: 'scrollableView',
    	 properties: {
    		 height: '200dp',
    		 views: [
    			 Ti.UI.createView({ backgroundColor: 'red'}),
    			 Ti.UI.createView({ backgroundColor: 'blue'}),
    			 Ti.UI.createView({ backgroundColor: 'green'})
    		 ]
    	 }
     }
	]
};

var items = [
	{ template: 'scrollableView'}
];

for ( var i = 0; i &lt; 20; i++) {
	items.push({ properties: { title: 'Item', height: '50dp'}});
}

var section = Ti.UI.createListSection({
	items: items
});

var listView = Ti.UI.createListView({
	templates: {
		'scrollableView': scrollableViewTemplate
	},
	sections: [ section ]
});

win.add(listView);
win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Daniel Sefton 2013-05-14

   Hi Philippe,
   
   Please take a look at TIMOB-13610, I believe it's the same issue. Would be even better if you could try out the pull request if you know how to build Titanium.
   
   Thanks.</li>
<li>Philippe Wueger 2013-05-15

   Hi Daniel
   
   Thanks for looking into this.
   
   This issue is not the same as the one described in TIMOB-13610. TIMOB-13610 is regarding the scrolling behavior of a ScrollableView within a ListView/TableView/ScrollView (how the scrolling is affected by the user touching the screen). This issue here is about the problem that, after scrolling to a new page, the view within the scrolled in page does not appear at all.
   
   Also, the issue here only occurs in a ListView, but does not occur in a TableView.
   
   With regards to the pull request from TIMOB-13610: I have tested it with TableViews and ListViews and it works very good.
   
   Regards,
   Philippe
   </li>
<li>Philippe Wueger 2013-05-21

   The problem seems to be caused by the ListViewWrapper onLayout Method in TiListView.java.
   
   If I change this:
   <code><pre>
   if (changed) {
   	focusedView.setOnFocusChangeListener(focusListener);
   	focusListener.onFocusChange(focusedView, false);
   } else {
   	//Ok right now focus is with listView. So set it back to the focusedView
   	focusedView.requestFocus();
   	focusedView.setOnFocusChangeListener(focusListener);
   }
   </pre></code>
   
   to this:
   <code><pre>
   focusedView.setOnFocusChangeListener(focusListener);
   focusListener.onFocusChange(focusedView, false);
   </pre></code>
   
   the issue goes away.
   
   However, at the moment I do not know what the side effects are from this change. So this still needs to be checked.</li>
<li>Hieu Pham 2013-11-07

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4928" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4928</a></li>
<li>Lee Morris 2017-03-22

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13868.json">JSON Source</a></p>