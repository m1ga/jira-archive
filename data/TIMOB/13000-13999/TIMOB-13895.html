---
title: "[TIMOB-13895] Android: Text wrapping in a label is not showing ellipsis (regression)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-06-23T01:31:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, look1, regression</td></tr>
<tr><th>Reporter</th><td>Juan Perales</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2013-05-17T07:56:54.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-23T22:10:31.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
When you create a label with a big text and the ellipsize set to true, the ellipsis won't be shown. 

<h4>Test Case</h4>
1. Create a classic project 
2. Paste this code as app.js:
<code><pre> 
var win = Ti.UI.createWindow({
	backgroundColor : 'white',
	exitOnClose : true,
	fullscreen : false,
	layout : 'vertical',
	title : 'Label Demo'
});
var label2 = Ti.UI.createLabel({
	color : 'blue',
	text : 'A long label with a few line breaks and unicode (UTF8) symbols such as a white chess piece \u2655 and the euro symbol \u20ac looks like this! ',
	textAlign : Ti.UI.TEXT_ALIGNMENT_LEFT,
	//top : 30,
	width : 200,
	height : 100,
	backgroundColor:'red',
	lines: 1,
	//layout:'horizontal',
	//horizontalWrap: true,
	//wordWrap: true,
	ellipsize: true
	
});
win.add(label2);
win.open(); 
</pre></code> 
3. Run it in a device.

Expected: Truncated text in the label without ellipsis
Actual: You will see the truncated text in the label without ellipsis. 



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13895_38649/Captura de pantalla 2013-05-17 a la(s) 09.27.01.png">Captura de pantalla 2013-05-17 a la(s) 09.27.01.png</td></td><td>2013-05-17T07:56:54.000+0000</td><td>17176</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-13895_38650/Captura de pantalla 2013-05-17 a la(s) 09.28.55.png">Captura de pantalla 2013-05-17 a la(s) 09.28.55.png</td></td><td>2013-05-17T07:56:54.000+0000</td><td>17320</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ashraf Abu 2016-06-08

   [~jnaher] Please use this as a workaround for now:-
   <code><pre>
   var label2 = Ti.UI.createLabel({
   	color : 'blue',
   	text : 'A long label with a few line breaks and unicode (UTF8) symbols such as a white chess piece \u2655 and the euro symbol \u20ac looks like this! ',
   	textAlign : Ti.UI.TEXT_ALIGNMENT_LEFT,
   	//top : 30,
   	width : 200,
   	height : 100,
   	backgroundColor:'red',
   	lines: 1,
   	//layout:'horizontal',
   	//horizontalWrap: true,
   	wordWrap: false,
   	ellipsize: true
   	
   });
   </pre></code>
   When the property <code>wordWrap</code> is set to <code>false</code> and <code>ellipsize</code> is set to true, it will behave as expected.</li>
<li>Ashraf Abu 2016-06-23

   There seems to be a related Android ticket for this: <a href="https://code.google.com/p/android/issues/detail?id=882" rel="nofollow" target="_blank">https://code.google.com/p/android/issues/detail?id=882</a>
   Thus, as mentioned in the solution earlier, setting <code>wordWrap: false</code> would solve the issue. Source code for that is here: <a href="https://github.com/appcelerator/titanium_mobile/blob/23c9e3fb93694950d33a8b4b79fbb2129ff9001b/android/modules/ui/src/java/ti/modules/titanium/ui/widget/TiUILabel.java#L246-L247" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/23c9e3fb93694950d33a8b4b79fbb2129ff9001b/android/modules/ui/src/java/ti/modules/titanium/ui/widget/TiUILabel.java#L246-L247</a>
   
   Resolving issue as there is already a workaround available and it's seems to be an Android issue.</li>
<li>Marian Kucharcik 2016-10-11

   Hi guys,
   any news on this? I'm facing a problem with truncating, suggested idea partially works - it truncates the end, but also centers label in the middle(I have height and width set for label), so I see first sentence of a article. Have you any idea how to fix it?
   Thank you</li>
<li>Joshua Quick 2017-06-19

   PR (6.1.x):  <a href="https://github.com/appcelerator/titanium_mobile/pull/9161" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9161</a></li>
<li>Lokesh Choudhary 2017-06-23

   FR Passed for 6.1.1</li>
<li>Joshua Quick 2017-06-23

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/9175" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9175</a></li>
<li>Lokesh Choudhary 2017-06-23

   FR passed for master.</li>
<li>Lokesh Choudhary 2017-06-23

   Verified the fix.
   Test info in the PR.
   
   Closing.
   
   Studio Ver:     4.9.0.201705302345
   SDK Ver:        6.2.0.v20170623140932, 6.1.1.v20170623141152
   OS Ver:         10.12.3
   Xcode Ver:      Xcode 8.3.3
   Appc NPM:       4.2.9
   Appc CLI:       6.2.2
   Ti CLI Ver:     5.0.14
   Alloy Ver:      1.9.11
   Node Ver:       6.10.1
   Java Ver:       1.8.0_101
   Devices:        ⇨ google Pixel --- Android 7.1.1
                   ⇨ google Nexus 5 --- Android 6.0.1
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-13895.json">JSON Source</a></p>