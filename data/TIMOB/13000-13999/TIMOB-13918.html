---
title: "[TIMOB-13918] Code Processor: paths.commands and paths.hooks not set during 1.0.1-alpha install"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-05-29T23:01:56.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 11 JS, 2013 Sprint 11, Release 3.1.1, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Code Processor</td></tr>
<tr><th>Labels</th><td>code-analyzer, qe-3.1.1, qe-closed-3.1.1, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Eric Merriman </td></tr>
<tr><th>Assignee</th><td>Bryan Hughes</td></tr>
<tr><th>Created</th><td>2013-05-20T18:29:23.000+0000</td></tr>
<tr><th>Updated</th><td>2013-09-24T09:36:10.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description:</h4>
While setting up for testing, I noticed that the code processor mention it has edited my ti config. Here is the output:

<code><pre>
/usr/local/bin/titanium-code-processor -&gt; /usr/local/lib/node_modules/titanium-code-processor/bin/codeprocessor

&gt; titanium-code-processor@1.0.1-alpha install /usr/local/lib/node_modules/titanium-code-processor
&gt; bin/install

Notice: Modifying your Titanium Mobile configuration to include commands and hooks for the Titanium Code Processor. Run "titanium config" for more information
titanium-code-processor@1.0.1-alpha /usr/local/lib/node_modules/titanium-code-processor
</pre></code>

Although it seemed to work, my "ti config" had no paths.command entry, and no paths.hooks entry for code processor.

We tried this on Olga's system (without an updated CLI) and she got:

<code><pre>
/usr/local/bin/titanium-code-processor -&gt; /usr/local/lib/node_modules/titanium-code-processor/bin/codeprocessor

&gt; titanium-code-processor@1.0.1-alpha install /usr/local/lib/node_modules/titanium-code-processor
&gt; bin/install

Warning: Could not query the Titanium paths: 
fs.js:338
  return binding.open(pathModule._makeLong(path), stringToFlags(flags), mode);
                 ^
Error: EACCES, permission denied '/Users/oromero/.titanium/analytics.json'
    at Object.fs.openSync (fs.js:338:18)
    at Object.fs.writeFileSync (fs.js:756:15)
    at save (/usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/analytics.js:163:7)
    at /usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/analytics.js:206:4
    at async.parallel (/usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:476:17)
    at async.forEach (/usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:94:25)
    at async.parallel (/usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:473:21)
    at process.on.async.parallel.osinfo (/usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/analytics.js:56:5)
    at module.exports.getOSInfo (/usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/environ.js:215:4)
    at ChildProcess.exithandler (child_process.js:538:7)

The Titanium Code Processor will not be available in the CLI or during builds
titanium-code-processor@1.0.1-alpha /usr/local/lib/node_modules/titanium-code-processor
├── colors@0.6.0-1
├── wrench@1.5.1
├── async@0.1.22
├── mu2@0.5.17
├── nomnom@1.6.1 (colors@0.5.1, underscore@1.4.4)
├── winston@0.6.2 (cycle@1.0.2, eyes@0.1.8, stack-trace@0.0.6, pkginfo@0.2.3, request@2.9.203)
├── xml2js@0.2.7 (sax@0.5.2)
├── source-map@0.1.22 (amdefine@0.0.5)
├── node-appc@0.1.30-alpha (sprintf@0.1.1, wrench@1.3.9, node-uuid@1.3.3, semver@1.1.4, request@2.9.203, uglify-js@1.3.4, xmldom@0.1.11)
└── uglify-js@2.3.5 (async@0.2.8, optimist@0.3.7)
</pre></code>

<h4>Steps to reproduce:</h4>
1) Check your config with "ti config" and evaluate the paths.hooks and paths.commands.
2) Attempt to install titanium-code-processor with the following:
"sudo npm install -g titanium-code-processor@1.0.1-alpha"
3) Recheck with "ti config"

<h4>Result:</h4>
No changes made to the ti config, so code-processor may not function.

<h4>Expected Result:</h4>
Either error with failure to update paths.x or success in editing ti config.

<h3>Comments</h3>

<ol>
<li>Bryan Hughes 2013-05-21

   PR: <a href="https://github.com/appcelerator/titanium-code-processor/pull/196" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-code-processor/pull/196</a>
   1_0_X PR: <a href="https://github.com/appcelerator/titanium-code-processor/pull/197" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-code-processor/pull/197</a>
   
   Note: these PR's simply disconnect the existing install hook because Studio is going to take care of it now in TISTUD-4727.</li>
<li>Federico Casali 2013-05-29

   After installing titanium-code-processor@1.0.1-alpha3 the paths.hooks and paths.commands are not set - those are correctly set once the Code Processor is being executed from Studio (this is the current intended behavior).
   
   Appcelerator Studio 3.1.1.201305282349
   Titanium SDK 3.1.1.v20130524180421
   Alloy 1.1.3-alpha
   Titanium-Code-Processor 1.1.3-alpha3
   
   Closing.</li>
<li>Federico Casali 2013-05-29

   Reopening to apply label</li>
</ol>


<p><a href="/TIMOB/TIMOB-13918.json">JSON Source</a></p>