---
title: "[TIMOB-13970] Code Processor: Hack around the alloy hook never getting updated issue"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-05-24T20:20:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 11 JS, 2013 Sprint 11, Release 3.1.1, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Code Processor</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Bryan Hughes</td></tr>
<tr><th>Assignee</th><td>Bryan Hughes</td></tr>
<tr><th>Created</th><td>2013-05-23T21:22:54.000+0000</td></tr>
<tr><th>Updated</th><td>2013-05-29T01:35:37.000+0000</td></tr>
</table>

<h3>Description</h3>

The alloy hook never gets automatically updated, even when Alloy itself is updated. This means existing Alloy apps will not get the updated hook that the code processor requires, preventing the code processor from running in certain circumstances. Due to time constraints, this should be hacked around in the code processor.

<h3>Comments</h3>

<ol>
<li>Bryan Hughes 2013-05-24

   PR: <a href="https://github.com/appcelerator/titanium-code-processor/pull/200" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-code-processor/pull/200</a>
   1_0_X PR: <a href="https://github.com/appcelerator/titanium-code-processor/pull/201" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-code-processor/pull/201</a></li>
<li>Bryan Hughes 2013-05-24

   To test:
   <h4>Take an Alloy project created with a version older than 1.1.3-alpha</h4>
   <h4>Clean the project</h4>
   <h4>"ti clean" from the command line</h4>
   <h4>Run the code processor</h4>
   <h4>"ti analyze -p iphone -A"</h4>
   <h4>Without the fix, the alloy hook is not called and an error is displayed saying the project can't be analyzed (I forget the exact wording)</h4>
   <h4>With the fix, the alloy hook is called (you can see its output) and the project is analyzed successfully</h4></li>
<li>Tony Lukasavage 2013-05-24

   Code review and functional tests pass for both PR 200 and 201. Merged.</li>
<li>Federico Casali 2013-05-29

   Verified as fixed using Code Processor 1.0.1-alpha3 and Alloy version 1.1.3-alpha (verified the wrong behavior is present if using Code Processor 1.0.1-alpha3 and Alloy version 1.1.2).
   
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13970.json">JSON Source</a></p>