---
title: "[TIMOB-13978] iOS: Geolocation - Error messages are displayed in alert instead of currentHeading and currentPosition"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-05-29T23:03:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 11 API, 2013 Sprint 11</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-3.1.1</td></tr>
<tr><th>Reporter</th><td>Anshu Mittal</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-05-24T10:08:11.000+0000</td></tr>
<tr><th>Updated</th><td>2013-06-11T08:31:15.000+0000</td></tr>
</table>

<h3>Description</h3>

Error messages are displayed in alert instead of currentHeading and currentPosition.

This is not regression since the issue occurs in 3.1.0 GA as well.

Steps to reproduce:
1. Create an app using the code below.
2. launch the app.

Actual:
Two alerts are dispalyed stating: Error: Invalid type passed to the function.

Expected:
Should display current heading and current position null alerts.

<code><pre>
Titanium.UI.setBackgroundColor('#000');

var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff'
});

function test(fn)
		{
			try { fn(); }
			catch(e) { alert(e.toString()); }
		}
		
		test(function(){
			Ti.Geolocation.getCurrentHeading();
		});
		
		test(function(){
			Ti.Geolocation.getCurrentPosition();
		});
		
		win1.open();

</pre></code>

<h3>Comments</h3>

<ol>
<li>Anshu Mittal 2013-06-11

   Tested with: 
   SDK:3.1.1.v20130610164554
   Appcelerator Studio: 3.1.1.201306101955
   OS: OSX 10.7.5
   Device:iPhone5(v 6.0)
   Xcode: 4.6
   
   Tested the given app, works fine.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13978.json">JSON Source</a></p>