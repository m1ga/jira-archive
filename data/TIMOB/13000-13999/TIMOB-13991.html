---
title: "[TIMOB-13991] Android: Google maps v2 module Android 2.3.x map blur issue"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2013-10-17T18:30:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 21, 2013 Sprint 21 API</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>google, map, module, triage, v2</td></tr>
<tr><th>Reporter</th><td>jason hu</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-03-04T04:12:29.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-30T20:53:58.000+0000</td></tr>
</table>

<h3>Description</h3>

I tested the new map in galaxy note 2 with 4.1.2, the map shows correctly, when I tried it in nexus S with 2.3.6, the map is blurred, even though it still reacts to click and zoom. I also tried it with Motorola Atrix 4G, it has the same blur issue

<h4>Additional details</h4>
Map Module 2.1.0 on TiSDK 3.1.0.GA

<h4>Screenshot</h4>
<a href="https://github.com/douma/android/blob/master/device-2013-05-07-113122.png" rel="nofollow" target="_blank">https://github.com/douma/android/blob/master/device-2013-05-07-113122.png</a>

<h4>device logs</h4>
<a href="https://github.com/douma/android/blob/master/android_2.3.3_maps_log.txt" rel="nofollow" target="_blank">https://github.com/douma/android/blob/master/android_2.3.3_maps_log.txt</a>

<h4>tiapp.xml</h4>
<a href="https://github.com/douma/android/blob/master/tiapp.xml" rel="nofollow" target="_blank">https://github.com/douma/android/blob/master/tiapp.xml</a>

<h4>To reproduce</h4>
To reproduce just require Map module and attempt to display a map object.
<code><pre>
var mapObject = require("ti.map");
var map = mapObject.createView({
            width:Ti.UI.FILL,
            height:Ti.UI.FILL,
            annotations:annotations,
            userLocation:true,
            regionFit:true,
            mapType:mapObject.NORMAL_TYPE
        });
</pre></code>

<h4>Reproducible on</h4>
Samsung galaxy S2 and most of Android 2.3.3 devices

<h4>Not reproducible on </h4>
Droid Razr 2.3.5 It works fine on Android > 4.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-13991_39836/modal_on_4.0.4.png">modal_on_4.0.4.png</td></td><td>2013-06-13T23:48:25.000+0000</td><td>30551</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-13991_39835/modal_on2.3.4.png">modal_on2.3.4.png</td></td><td>2013-06-13T23:48:25.000+0000</td><td>497182</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-13991_39837/modal_on4.2.2.png">modal_on4.2.2.png</td></td><td>2013-06-13T23:48:25.000+0000</td><td>1964550</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Carter Lathrop 2013-03-04

   Hello Jason, 
   
   would you mind providing a test case that shows this bug so that we may further review the problem? We need test cases in order to ensure we are reproducing the same problem that you are experiencing. This will lead to a much quicker resolution time. Any questions on how to report a JIRA can be answered here: <a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report</a>
   
   Thank you
   
   Carter</li>
<li>jason hu 2013-03-04

   even a dummy empty map will show as blurred on the 2.3.6 device.
   All I did was trying your own sample code in your just released module's doc.
   I don't see a real need for me to paste that sample here. The original doc is at
   <a href="http://docs.appcelerator.com/titanium/3.0/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/3.0/#</a>!/guide/Google_Maps_v2_for_Android</li>
<li>Carter Lathrop 2013-03-04

   Thanks jason, will review.</li>
<li>Michael Williams 2013-05-05

   I can confirm this issue. Works fine on android 4, but shows blurry map on android 2. Please see this topic on the forum, with an image: <a href="http://developer.appcelerator.com/question/151960/android-google-maps-v2-shows-blurry-image-on-android-233" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/151960/android-google-maps-v2-shows-blurry-image-on-android-233</a>
   
   
   This issue is very urgent, since 40% of the users use Android < 4 and Google does not support google maps v1 anymore for new apps. </li>
<li>Michael Williams 2013-05-13

   Is there any news on this?</li>
<li>Eduardo Gomez 2013-05-22

   [Moved to Description]</li>
<li>Tyler Reid 2013-05-22

   Confirmed on Samsung Galaxy S 1.</li>
<li>Djamel ZAHAL 2013-05-24

   Any news for this bug ?
   
   I have this bug on my Samsung Galaxy S2 and i should publish the app :s
   
   I used sdk 3.1 and maps V2, android version 2.3.4
   
   thanks</li>
<li>J么natas dos Santos Correia 2013-05-31

   This is really critical as Michael Willian said.
   I had the same problem here.</li>
<li>Ping Wang 2013-06-03

    Cannot reproduce the issue on Galaxy SII (2.3.6) and HTC Incredible (2.3.4) using 3.1.0 GA and map 2.1.0. Here is the test case I used:
    <code><pre>
    var win = Ti.UI.createWindow({});
    
    var mapObject = require("ti.map");
    var map = mapObject.createView({
                width:Ti.UI.FILL,
                height:Ti.UI.FILL,
                userLocation:true,
                regionFit:true,
                mapType:mapObject.NORMAL_TYPE
            });
    
    win.add(map);
    
    win.open();
    </pre></code>
    I ran the test case with and without WIFI enabled. Sometimes the map was blurry when I moved the map around, but after a while it became clear. It may be due to the network speed.</li>
<li>J么natas dos Santos Correia 2013-06-03

    I tested on a Motorola Defy Plus MB526 with Android 2.3.5 and the map was always blurry. After this, I updated to Android 4.1.2 in the same device and the map worked fine. Please, try to test on other devices.</li>
<li>Daniel Sefton 2013-06-04

    I tested it with my own maps setup with the following devices:
    
    - Galaxy SII (2.3.6)
    - HTC Incredible (2.3.4)
    - Nexus One (2.2.2)
    
    I couldn't reproduce it either. On Wi-Fi, the maps are crystal clear.
    
    Some notes about my setup:
    
    - Built latest ti.map module with Ti SDK 3.1 and Android API 10 from <a href="https://github.com/appcelerator/titanium_modules" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_modules</a>
    - Enabled "Google Maps Android API v2" and "Google Maps API v2" services and created "Key for Android apps (with certificates)" at <a href="https://code.google.com/apis/console/" rel="nofollow" target="_blank">https://code.google.com/apis/console/</a>
    - Published app with Android SDK 2.3.3
    - Tested with Ti SDK 3.1 GA and latest 3.1.1 CI
    
    There are a few other reporters watching this issue - please verify the devices you used to reproduce the issue. We unfortunately don't have a Motorola Defy Plus at hand.</li>
<li>Eric Merriman  2013-06-04

    Tried all 2.x devices I could get my hands on, couldn't get the blur. I will try to investigate if it's network or something else, as the map does blur on slower devices as it loads. Could network bandwidth be a factor in this? It seems not in J么natas' case. 
    
    Checked with:
    HTC Incredible 2 (2.3.4)
    Droid (2.2.3)
    Galaxy s II (2.3.6)
    </li>
<li>jason hu 2013-06-04

    I just noticed one thing different in Daniel's post. For V1, I had to publish it with "Google Android sdk 2.3.3", but Daniel mentioned "Published app with Android SDK 2.3.3".  I will give it a shot later on my google nexus 2.3.6</li>
<li>martin 2013-06-04

    Confirmed blurred ti.map on Samsung GT-I5800 (2.2) and HUAWEI-U8850 (2.3.5) using Ti SDK 3.1 GA.
    One interesting thing is if locking the phone with the app in front and the unlocking it again, the map is crystal clear for a split second - then it is blurred again.
    </li>
<li>J么natas dos Santos Correia 2013-06-05

    I also tested on a LG Optimus Net Dual P698F with Android 2.3.4, using Ti SDK 3.1 GA and the map was blur too.
    As Martin said, it happens this thing when we lock and unlock the phone.</li>
<li>Eric Merriman  2013-06-07

    With my production developer key I am getting empty grey map views when trying to package. I refreshed my key and tried the new one, but this still failed. We will continue to investigate.
    
    Are others building for device or packaging then installing?</li>
<li>jason hu 2013-06-09

    Is it possible to use the google map v1 in 3.1.0GA sdk? 
    Not sure how to get the v1 module and its compatibility with 3.1.0GA sdk.
    If that's possible, I can just use v1 with the old android devices.</li>
<li>Michael Williams 2013-06-10

    Jason, this is not possible since you cannot create a map v1 key for new apps any more. If you already have a v1 key, then you are still able to use it, to my knowledge also in 3.1.0GA. 3.1.0GA does not support v2 maps by default through Ti.MAP.createView, although it says so in the release info. </li>
<li>Djamel ZAHAL 2013-06-13

    Any new for this bug ?</li>
<li>Djamel ZAHAL 2013-06-13

    i solved this bug in my phone. the window that contains my map was modal. now, it is not and the map is clear :)</li>
<li>Eric Merriman  2013-06-13

    Bravo Zahal. This is the key. We are able to reproduce. More detail to follow.</li>
<li>Olga Romero 2013-06-13

    Thanks Zahal, I used Droid3 Android version:2.3.4 and was able to reproduse the issue by adding modal window. </li>
<li>Djamel ZAHAL 2013-06-13

    cool :) im curious to see if the bug was due to that on all phones...</li>
<li>Olga Romero 2013-06-13

    I included screenshots for different devices with modal window added. </li>
<li>Hieu Pham 2013-10-17

    Closing issue as won't fix. "modal" property won't be supported with map v2.</li>
<li>Ping Wang 2013-10-17

    Map v2 uses SurfaceView to render the map. Based on the [doc](<a href="http://developer.android.com/reference/android/view/SurfaceView.html)" rel="nofollow" target="_blank">http://developer.android.com/reference/android/view/SurfaceView.html)</a>,
    {quote}
    The surface is Z ordered so that it is behind the window holding its SurfaceView; the SurfaceView punches a hole in its window to allow its surface to be displayed.
    {quote}
    the map is rendered behind the window.
    The "modal" property of the window uses the flag [FLAG_BLUR_BEHIND](<a href="http://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#FLAG_BLUR_BEHIND)." rel="nofollow" target="_blank">http://developer.android.com/reference/android/view/WindowManager.LayoutParams.html#FLAG_BLUR_BEHIND).</a> The effect of this flag is similar to adding a blurring filter so everything behind the window will be blurred.
    Therefore, when adding a map to a modal window, the map which is behind the window will also become blurred.</li>
<li>Michael Williams 2013-10-18

    @Ping, what an amazing feature... who ever came up with it... </li>
<li>jason hu 2013-11-07

    this kind of explained why taking away "modal" property made the blurry go away</li>
<li>Lee Morris 2017-03-30

    Closing ticket as "Won't Fix". There has been no update for a while. If there is any problem, please open a new ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-13991.json">JSON Source</a></p>