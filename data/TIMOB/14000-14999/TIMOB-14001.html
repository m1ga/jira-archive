---
title: "[TIMOB-14001] Android: Allow sending extra data to the intent when opening a notification"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Davide Cassenti</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-05-28T16:26:35.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:04:06.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description of the problem</h4>
When clicking on a notification, if we want to restore the app which is in background, is currently not possible to understand if the click comes from the notification or not, as we cannot send extra data

<h4>Use case</h4>
When clicking on a notification, you want to switch to a particular tab/page of the app. Opening a NEW intent would work (e.g. we can create the intent with extra data), but if we use the currently open one (Ti.Android.currentActivity.intent) there is not way to provide such information.

<h3>Comments</h3>

<ol>
<li>Allen Yeung 2013-06-06

   [~dcassenti] Could you provide some clarification on what the issue is here? (A sample case would be helpful)
   
   Is there a reason why putExtra() would not work when you are creating a notification?</li>
<li>Davide Cassenti 2013-06-06

   [~ayeung] The problem with putExtra is that, if you do not want to open a new intent, but re-opening the same one, you cannot use it. The idea would be to have something like:
   
   <code><pre>
   var activity = Ti.Android.currentActivity;
       var intent = activity.getIntent();
       intent.putExtra(Ti.Android.EXTRA_TEXT, "notification");
   
   var pending = Titanium.Android.createPendingIntent({
       intent: intent,
       flags: Titanium.Android.FLAG_UPDATE_CURRENT
   });
   
   var notification = Titanium.Android.createNotification({
       contentTitle: 'Something Happened',
       contentText : 'Click to return to the application.',
       contentIntent: pending
   });
   
   Ti.Android.NotificationManager.notify(1, notification);
   </pre></code>
   
   Using this code, you are putting the EXTRA information in the current intent, and resuming it from outside the notification will have no difference.</li>
<li>Allen Yeung 2013-06-06

   I'm not sure I understand the issue.  If you call putExtra() on the current intent, back out of the app, and then reopen it with the notification, then intent should have the extra that you placed there.
   
   <code><pre>
   var activity = Ti.Android.currentActivity;
   var intent = activity.getIntent();
   
   if (intent.hasExtra(Ti.Android.EXTRA_TEXT)) {
   	Ti.API.info('----------has intent----------');
   
   } else {
   	Ti.API.info('--------------------');
   }
   
   intent.putExtra(Ti.Android.EXTRA_TEXT, "notification");
   
   var pending = Titanium.Android.createPendingIntent({
   	intent : intent,
   	flags : Titanium.Android.FLAG_UPDATE_CURRENT
   });
   
   var notification = Titanium.Android.createNotification({
   	contentTitle : 'Something Happened',
   	contentText : 'Click to return to the application.',
   	contentIntent : pending
   });
   
   Ti.Android.NotificationManager.notify(1, notification);
   </pre></code></li>
<li>Davide Cassenti 2013-06-07

   [~ayeung] Correct, but the intent also has the EXTRA if you resume it NOT from the notification in that case. The code works fine if the intent is new, as the EXTRA is not added to the running one, and resuming without a notification will not 'open' the one with the EXTRA data.
   
   Hope it helps</li>
</ol>


<p><a href="/TIMOB/TIMOB-14001.json">JSON Source</a></p>