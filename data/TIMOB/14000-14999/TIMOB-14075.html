---
title: "[TIMOB-14075] Android: Feature Request to expose isGooglePlayServicesAvailable()"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-06-11T20:38:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 12 API, 2013 Sprint 12, Release 3.1.1, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_map, qe-testadded, supportTeam</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2013-05-31T21:03:40.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:43:09.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Feature request</h4>
Expose The client library provides a deep link into the Google Play Store when it detects that the device has a missing or incompatible Google Play services APK.

Google Play services is an optional part of your app, you can do these checks if the user navigates to that portion of your app:

<h4>Google Play set up</h4>
1. Query for the status of Google Play services on the device with the isGooglePlayServicesAvailable() method, which returns a result code.
2. If the result code is SUCCESS, then the Google Play services APK is up-to-date, and you can proceed as normal.
3. If the result code is SERVICE_MISSING, SERVICE_VERSION_UPDATE_REQUIRED, or SERVICE_DISABLED, then call getErrorDialog() to display an error message to the user, which allows the user to download the APK from the Google Play Store or enable it in the device's system settings.
Ref: <a href="http://developer.android.com/google/play-services/setup.html" rel="nofollow" target="_blank">http://developer.android.com/google/play-services/setup.html</a>

<h4>Use case</h4>
Currently Android Maps Module 2.1.0 Crashes due to Play Store and Native Maps Application is not updating. 

Using the Latest 2.1.0 Maps module and the 3.1.0.GA Ti SDK on a Galaxy Nexus running 4.1.1 the application crashes. Most likely due to the Native Maps and Google Play store being out of date.

They have the following versions:
<code><pre>
Google Maps - 6.9.0
Google Play - 3.7.13
</pre></code>

These are old versions and for some reason the Google Play store will not update on this device. 

It might be related to this google issue.  
- <a href="https://code.google.com/p/android/issues/detail?id=35615&q=3.7.13&colspec=ID%20Type%20Status%20Owner%20Summary%20Stars" rel="nofollow" target="_blank">https://code.google.com/p/android/issues/detail?id=35615&q=3.7.13&colspec=ID%20Type%20Status%20Owner%20Summary%20Stars</a>

The problem is that the app crashes if the Google Play store has not been updated because then the Maps have also not been updated. On another device running Maps 6.14.4 and Play 4.1.6 the app works fine and the map loads and works without any issues.

<h4>DDMS log</h4>
Please see SGNLogMaps. It looks like it needs the updated maps in order to work with the newest maps module.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-14075_39317/SGNLogMaps.txt">SGNLogMaps.txt</td></td><td>2013-05-31T21:03:40.000+0000</td><td>409081</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2013-06-11

   PR: <a href="https://github.com/appcelerator/titanium_modules/pull/120" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_modules/pull/120</a>
   
   Testing steps: 
   1. Run map/mobile/android/example/app.js on a device without Google Play services. Make sure the alert is shown and app doesn't crash
   2. Run the same test on a device with Google Play services. It should work as expected.
   
       </li>
<li>Ping Wang 2013-06-11

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4379" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4379</a>
   3_1_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4378" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4378</a></li>
<li>Dhirendra Jha 2013-06-12

   Verified this issue using the below environment - 
   Device : Google Nexus 7 (v4.1), Nexus 4 (v4.0.4), Galaxy Note (v2.3.6)
   SDK: 3.1.1.v20130611153550
   CLI version : 3.1.1-cr
   OS : MAC OSX 10.8.4
   Appcelerator Studio: 3.1.1.201306071750
   XCode : 4.5.1
   
   Results -
   1) Alert (Google Play Services is not installed/updates/available) is shown when Google Play Services are not present on device and app does not crash.
   2) App works fine when Google Play Services are available on device.</li>
<li>Djamel ZAHAL 2013-06-12

   how to call : isGooglePlayServicesAvailable in titanium ? and for reponses ?
   
   can you give a small documentation here.
   
   i will use the last build in my app.
   
   thanks</li>
<li>Djamel ZAHAL 2013-06-12

   how to call : isGooglePlayServicesAvailable in titanium ? and for reponses ?
   
   can you give a small documentation here.
   
   i will use the last build in my app.
   
   thanks</li>
<li>Djamel ZAHAL 2013-06-12

   how to call : isGooglePlayServicesAvailable in titanium ? and for reponses ?
   
   can you give a small documentation here.
   
   i will use the last build in my app.
   
   thanks</li>
<li>Djamel ZAHAL 2013-06-12

   how to call : isGooglePlayServicesAvailable in titanium ? and for reponses ?
   
   can you give a small documentation here.
   
   i will use the last build in my app.
   
   thanks</li>
<li>Ping Wang 2013-06-12

   Hi zahal, here is an [example app](<a href="https://github.com/appcelerator/titanium_modules/blob/master/map/mobile/android/example/app.js)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_modules/blob/master/map/mobile/android/example/app.js).</a></li>
<li>Djamel ZAHAL 2013-06-13

   i used sdk : 3.1.1.v20130612114553 the last one.
   
   and i have this message : Map has nos method 'isGooglePlayServicesAvailable'
   
   any suggestion ? should i update ti.map module ?
   
   thanks</li>
<li>Eric Merriman  2013-06-14

    @Djamel, currently the map module version 2.1.1 (with this feature) is available in build 3.1.1.v20130613185544. You can also get the module from the module marketplace.
     </li>
<li>Eric Merriman  2013-06-14

    Verified this feature is available and functioning in version 2.1.1 of the module. Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14075.json">JSON Source</a></p>