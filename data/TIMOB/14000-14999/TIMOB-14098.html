---
title: "[TIMOB-14098] Code Processor: Catch node stack exceeded exceptions and print a friendly message"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-06-07T17:13:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 12 JS, 2013 Sprint 12, Release 3.1.1, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Code Processor</td></tr>
<tr><th>Labels</th><td>code-analyzer, qe-closed-3.1.1, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Bryan Hughes</td></tr>
<tr><th>Assignee</th><td>Bryan Hughes</td></tr>
<tr><th>Created</th><td>2013-06-04T01:10:29.000+0000</td></tr>
<tr><th>Updated</th><td>2013-09-24T11:13:37.000+0000</td></tr>
</table>

<h3>Description</h3>

The code processor is prone to exceeding the node.js V8 stack size. In order to facilitate easier debugging, this should be conveyed via an easy to understand error.

<h3>Comments</h3>

<ol>
<li>Bryan Hughes 2013-06-04

   PR: <a href="https://github.com/appcelerator/titanium-code-processor/pull/210" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-code-processor/pull/210</a>
   1_0_X PR: <a href="https://github.com/appcelerator/titanium-code-processor/pull/211" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-code-processor/pull/211</a></li>
<li>Bryan Hughes 2013-06-05

   Doesn't quite work on node 0.8 ("foo instanceof RangeError" doesn't work?), and there are some other output issues.</li>
<li>Bryan Hughes 2013-06-05

   PR: <a href="https://github.com/appcelerator/titanium-code-processor/pull/212" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-code-processor/pull/212</a>
   1_0_X PR: <a href="https://github.com/appcelerator/titanium-code-processor/pull/213" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-code-processor/pull/213</a></li>
<li>Bryan Hughes 2013-06-05

   To test (easily), run on an Alloy app:
   
   node --stack-size=100 /path/to/titanium/bin/titanium analyze -p iphone -A --process-unvisited-code</li>
<li>Federico Casali 2013-06-05

   Verified as fixed. 
   
   Environment:
     Titanium SDK 3.1.1.v20130604110432 
     CLI 3.1.1-cr
     Alloy 1.1.3-cr
     Titanium-Code-Processor 1.1.3-cr
   
   The message displayed is "node.js maximum call stack size exceeded. Increasing the stack size may allow the project to be fully analyzed".
   
   The message is currently visible only when running the Code Analyzer from CLI.
   
   
   
   </li>
<li>Bryan Hughes 2013-06-05

   Forgot to add a non-zero return code to exceptions, which means that studio doesn't display the error.</li>
<li>Bryan Hughes 2013-06-05

   PR: <a href="https://github.com/appcelerator/titanium-code-processor/pull/216" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-code-processor/pull/216</a>
   1_0_X PR: <a href="https://github.com/appcelerator/titanium-code-processor/pull/217" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-code-processor/pull/217</a></li>
<li>Federico Casali 2013-06-07

   </li>
</ol>


<p><a href="/TIMOB/TIMOB-14098.json">JSON Source</a></p>