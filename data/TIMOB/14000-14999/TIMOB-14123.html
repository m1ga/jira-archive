---
title: "[TIMOB-14123] Android: Add support for creating video thumbnails"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-12-08T22:55:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, exalture, module_media, notable, qe-4.0.0, qe-manualtest, qe-testadded, thumbnail, video</td></tr>
<tr><th>Reporter</th><td>Carter Lathrop</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2013-05-30T15:25:48.000+0000</td></tr>
<tr><th>Updated</th><td>2015-05-12T21:05:23.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

Unable to create a thumbnail of a video on Android using Titanium SDK 3.1.0.GA. Titanium.Media.VideoPlayer.thumbnailImageAtTime(Number time, Number option) and Titanium.Media.VideoPlayer.requestThumbnailImagesAtTimes(Number[] times, Number option, Callback<ThumbnailResponse> callback) appear to be the only methods available to achieve this, but they are not supported for Android, only on iOS. Would like to see similar functionality to get a thumbnail from a video. It appears to be supported by the Android APIs per <a href="http://developer.android.com/reference/android/provider/MediaStore.Video.Thumbnails.html" rel="nofollow" target="_blank">http://developer.android.com/reference/android/provider/MediaStore.Video.Thumbnails.html</a> 

<h4>Test case</h4>

N/A - not currently supported

<h4>Logs</h4>

N/A - not currently supported

<h4>Discussions</h4>

Q/A: <a href="http://developer.appcelerator.com/question/152946/video-thumbnails-on-android" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/152946/video-thumbnails-on-android</a>


<h3>Comments</h3>

<ol>
<li>Carter Lathrop 2013-05-30

   Heather,
   
   In order to review a bug report we need a bit more information in order to reproduce the bug and confirm it is indeed a problem. Specifically a test case is needed which is a short demo code that can easily be pasted into an app.js to show the problem at hand. Also needed are the Android versions you have tested this problem with and the studio build of titanium. Please see here: <a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report</a> on how to create a successful bug report and I will be glad to review this ticket again when all pertinent information is provided.
   
   Thank you,
   Carter</li>
<li>Heather 2013-05-31

   I was doing as instructed in <a href="http://developer.appcelerator.com/question/152946/video-thumbnails-on-android" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/152946/video-thumbnails-on-android</a> by Mauro Parra who indicated they were part of the Appcelerator team. If there is indeed a way to create a thumbnail of a video in Android using the Titanium framework, please do share. Titanium.Media.VideoPlayer.thumbnailImageAtTime(Number time, Number option) and Titanium.Media.VideoPlayer.requestThumbnailImagesAtTimes(Number[] times, Number option, Callback<ThumbnailResponse> callback) appear to be the only methods available to achieve this, but they are not supported for Android, only on iOS.</li>
<li>Carter Lathrop 2013-05-31

   Heather,
   
   When creating a bug report it is necessary that you follow the guidelines from <a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report." rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report.</a> What is missing is pertinent information that you have hinted at in your last comment. Describing the issue at hand, what you have experienced, the actual behavior that you would like seen and any further suggestions are all important for the team at engineering to ensure they understand your problem and can then cater to your specific request. If you can fill in the pertinent information in the description of the ticket such that engineering can then work on creating a solution for you it would be very helpful and I will be sure to then pass along your request to the team. 
   
   Thanks for your patience,
   
   Carter</li>
<li>Carter Lathrop 2013-05-31

   In other words, if this is currently working on only iOS then this would be a new feature request ticket and you would have to describe the context of the new feature and what you would like out of it. I hope this clears things up a bit.
   
   Awaiting your reply,
   Carter</li>
<li>Heather 2013-06-05

   I updated the ticket.</li>
<li>Carter Lathrop 2013-06-05

   Thanks Heather, moving to Ti-Mobile. Engineering will take a look at your request.
   
   Regards,
   Carter</li>
<li>Ketan Majmudar 2013-12-20

   I agree that this level of parity is essential within the 3.x era of the SDK, also having multimedia with full parity should be a priority.
   
   Thanks,
   Ket</li>
<li>Ketan Majmudar 2014-01-29

   Any movement on this?</li>
<li>Ashraf Abu 2014-11-25

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6393" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6393</a></li>
<li>Ashraf Abu 2014-11-25

    Sample code for app.js:
    
    <code><pre>
    
    // this sets the background color of the master UIView (when there are no windows/tab groups on it)
    Titanium.UI.setBackgroundColor('#000');
     
    // create base UI tab and root window
    //
    function newWindow(){
    var vidWin = Titanium.UI.createWindow({
        title : 'Tab 1',
        backgroundColor : '#fff'
    });
    
    var activeMovie = Titanium.Media.createVideoPlayer({
        top : 0,
        backgroundColor: 'red',
        height : 300,
        width : 300,
        //url : 'ten_sec_test.mp4'
        // url  :'<a href="http://www.quirksmode.org/html5/videos/big_buck_bunny.mp4" rel="nofollow" target="_blank">http://www.quirksmode.org/html5/videos/big_buck_bunny.mp4</a>'
    });
     
    activeMovie.url = '<a href="http://www.quirksmode.org/html5/videos/big_buck_bunny.mp4" rel="nofollow" target="_blank">http://www.quirksmode.org/html5/videos/big_buck_bunny.mp4</a>';
    //activeMovie.url = 'ten_sec_test.mp4';
    
    var scrollView = Ti.UI.createScrollView({
        contentWidth : 'auto',
        contentHeight : 'auto',
        layout : 'horizontal',
        scrollType : 'horizontal'
    });
    
    
    activeMovie.requestThumbnailImagesAtTimes([0, 20, 59, 47, 22], Titanium.Media.VIDEO_TIME_OPTION_NEAREST_KEYFRAME, function(response) {
                Ti.API.info("Thumbnail callback called, success = " + response.success);
                 Ti.API.info("Thumbnail callback called, time = " + response.time);
                 Ti.API.info("Thumbnail callback called, code = " + response.code);
                if(response.success) {
                     var imgView = Titanium.UI.createImageView({
                        image : response.image
                    });
                    scrollView.add(imgView);
                    
                }
            });
    var cancelbtn = Ti.UI.createButton({bottom:0,width:200,height:50,title:'Cancel Request'});
    cancelbtn.addEventListener('click',function(){
    	Ti.API.info("Thumbnail Cancelled requested");
    	activeMovie.cancelAllThumbnailImageRequests();
    });
    
    
    var closebtn = Ti.UI.createButton({bottom:60,width:200,height:50,title:'DONE'});
    closebtn.addEventListener('click',function(){vidWin.close()});
    
    vidWin.add(scrollView);
    vidWin.add(closebtn);
    vidWin.add(cancelbtn);
    vidWin.open();
    }
     
    var win=Ti.UI.createWindow();
    var openButton = Ti.UI.createButton({width:200,height:50,title:'open'});
    openButton.addEventListener('click',newWindow);
    win.add(openButton);
    win.open();
    
    
    </pre></code></li>
<li>Eric Wieber 2015-03-05

    Verified fixed using:
    
    Titanium SDK 4.0.0.v20150303161012
    Studio 4.0.0.201502171827
    CLI 3.4.2-rc4
    
    Thumbnails are generated properly.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14123.json">JSON Source</a></p>