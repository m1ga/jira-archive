---
title: "[TIMOB-14138] CLI: iOS: Immediately call the pre-compile phase after the prepare phase"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-11-01T23:03:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 22, 2013 Sprint 22 Core, Release 3.2.0</td></tr>
<tr><th>Components</th><td>CLI, iOS, Tooling</td></tr>
<tr><th>Labels</th><td>module_cli, qe-closed-3.2.0</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-06-06T04:06:39.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-11T00:15:14.000+0000</td></tr>
</table>

<h3>Description</h3>

After the prepare phase is executed, xcodebuild is called. The first thing Xcode does is call the CLI again and initiates the pre-compile phase. While this works, it adds several seconds to the build time.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2013-11-01

   Pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/4898" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4898</a></li>
<li>Sabil Rahim 2013-11-01

   no pre-compile script run once inside xcodebuild phase</li>
<li>Eric Merriman  2013-12-05

   To test: Run an iOS build.
   
   The phases of iOS build
   
   Previously:
   Prepare- creates the Xcode project, initialized the build directories
   Xcode build - This kicks-off the pre-compile build - Calling the CLI again.
   Pre-compile - Ti files are copies and minified, internationalizations, js files are processed
   
   Now: For speed- 
   Prepare- creates the Xcode project, initialized the build directories
   Pre-compile - Ti files are copies and minified, internationalizations, js files are processed
   Xcode build -  
   
   To test: Check a trace log of iOS builds, and verify that you see:
   "Initiating Prepare Phase"
   "Initiating Xcode pre-compile phase"
   "Invoking xcodebuild"
   "Skipping pre-compile phase"</li>
<li>Eric Merriman  2013-12-05

   Additional info: 
   When a build is opened then run directly from Xcode, Xcode runs only items in the pre-compile phase. We must be vigilant to monitor changes to the prepare phase, as these will not be run when compiling directly from Xcode</li>
<li>Wilson Luu 2013-12-11

   Closing ticket as fixed. Verified "Initiating Prepare Phase", "Initiating Xcode pre-compile phase", "Invoking xcodebuild", and "Skipping pre-compile phase" from Studio console. 
   
   Tested on:
   
   Appcelerator Studio, build: 3.2.0.201312091648
   SDK build: 3.2.0.v20131210112451
   CLI: 3.2.0-cr
   Alloy: 1.3.0-cr
   Xcode: 5.0.2
   Device: iphone 5 (7.0.2), iphone 4s (6.0.1)</li>
</ol>


<p><a href="/TIMOB/TIMOB-14138.json">JSON Source</a></p>