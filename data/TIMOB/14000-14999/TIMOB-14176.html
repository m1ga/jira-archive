---
title: "[TIMOB-14176] Android ListView not properly handling templates property post-creation"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2015-04-21T23:19:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, listview</td></tr>
<tr><th>Reporter</th><td>Marcus Williams</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-06-11T10:08:39.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T22:03:19.000+0000</td></tr>
</table>

<h3>Description</h3>

As per the issue described here

<a href="http://developer.appcelerator.com/question/153339/listview-empty-on-android#264068" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/153339/listview-empty-on-android#264068</a>

Using the code below displays an empty listview on Android as per the attachment.

index.xml
<code><pre>
&lt;Alloy&gt;
    &lt;Window class="container"&gt;
        &lt;ListView id="eventsList"/&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

index.js
<code><pre>
var section;
var plainTemplate = {
    childTemplates : [{// Image justified left
        type : 'Ti.UI.ImageView', // Use an image view for the image
        bindId : 'pic', // Maps to a custom pic property of the item data
        properties : {// Sets the image view properties
            width : '35dp',
            height : '35dp',
            left : '10dp',
            top : '15dp'
        }
    }, {// Title
        type : 'Ti.UI.Label', // Use a label for the title
        bindId : 'title', // Maps to a custom title property of the item data
        properties : {// Sets the label properties
            color : '#373e47',
            left : '55dp',
            top : '10dp',
            right : '10dp',
            height : '21dp',
        },
    }, {// Subtitle
        type : 'Ti.UI.Label', // Use a label for the subtitle
        bindId : 'date', // Maps to a custom subtitle property of the item data
        properties : {// Sets the label properties
            color : '#999999',
            left : '55dp',
            top : '30dp',
        }
    }],
};
 
$.eventsList.templates = {
    'template' : plainTemplate
};
$.eventsList.defaultItemTemplate = 'template';
 
function loadEvents() {
    var eventData = [];
 
            for (var i = 0; i &lt; 10; i++) {
 
 
                eventData.push({
                    // Maps to the title component in the template
                    // Sets the text property of the Label component
                    title : {
                        text : "hello"
                    },
                    // Maps to the subtitle component in the template
                    // Sets the text property of the Label component
                    date : {
                        text : "hello"
                    },
                    // Maps to the pic component in the template
                    // Sets the image property of the ImageView component
                    pic : {
                        image : "/default.png"
                    },
                    // Sets the regular list data properties
                    properties : {
                        itemId : i,
                        accessoryType : Ti.UI.LIST_ACCESSORY_TYPE_DISCLOSURE,
                        height : "65dp"
                    }
                });
 
            section = Ti.UI.createListSection();
            section.setItems(eventData);
            $.eventsList.sections = [section];
        }
}
loadEvents();
 
$.index.open();
</pre></code>

This can be resolved by moving the template code into a tss file as such.

index.tss
<code><pre>
"#eventsList": {
    templates: {
        'template': {
            childTemplates : [{// Image justified left
                type : 'Ti.UI.ImageView', // Use an image view for the image
                bindId : 'pic', // Maps to a custom pic property of the item data
                properties : {// Sets the image view properties
                    width : '35dp',
                    height : '35dp',
                    left : '10dp',
                    top : '15dp'
                }
            }, {// Title
                type : 'Ti.UI.Label', // Use a label for the title
                bindId : 'title1', // Maps to a custom title property of the item data
                properties : {// Sets the label properties
                    color : '#373e47',
                    left : '55dp',
                    top : '10dp',
                    right : '10dp',
                    height : '21dp',
                },
            }, {// Subtitle
                type : 'Ti.UI.Label', // Use a label for the subtitle
                bindId : 'date', // Maps to a custom subtitle property of the item data
                properties : {// Sets the label properties
                    color : '#999999',
                    left : '55dp',
                    top : '30dp',
                }
            }]
        }
    },
    defaultItemTemplate: 'template'
}
</pre></code>

index.js
<code><pre>
function loadEvents() {
    var eventData = [];
 
    for (var i = 0; i &lt; 10; i++) {
        eventData.push({
            template: 'template',
 
            // Maps to the title component in the template
            // Sets the text property of the Label component
            title1 : {
                text : "hello"
            },
            // Maps to the subtitle component in the template
            // Sets the text property of the Label component
            date : {
                text : "hello"
            },
            // Maps to the pic component in the template
            // Sets the image property of the ImageView component
            pic : {
                image : "/shared.png"
            },
            // Sets the regular list data properties
            properties : {
                itemId : i,
                accessoryType : Ti.UI.LIST_ACCESSORY_TYPE_DISCLOSURE,
                height : "65dp"
            }
        });
    }
 
    var section = Ti.UI.createListSection();
    section.setItems(eventData);
    $.eventsList.sections = [section];
}
 
$.index.open();
 
loadEvents();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14176_39705/Screen Shot 2013-06-07 at 10.21.03.png">Screen Shot 2013-06-07 at 10.21.03.png</td></td><td>2013-06-11T10:08:39.000+0000</td><td>18733</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Lee Morris 2017-03-22

   Closing ticket as duplicate and links to the related ticket has been provided above.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14176.json">JSON Source</a></p>