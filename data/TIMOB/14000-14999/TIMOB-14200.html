---
title: "[TIMOB-14200] Android: Date Picker and Time Picker change event not firing when value changed by pressing \"done\" through keyboard"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2017-06-28T20:10:59.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Priti Srivastava</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2013-06-13T10:43:17.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-28T20:10:59.000+0000</td></tr>
</table>

<h3>Description</h3>

While using the keyboard to enter values in picker, and entering some value in last field then tapping done to dismiss the keyboard; the value though visible in the field (year column) but the picker's "value" property does not reflects the same, and therefore selected value (on UI) is not reflected in the field above.
If the user taps on any other field, so that year field loose focus, changed value get registered and is set by the picker in the above text field.
This seems to be a defect at the SDK level. The same problem exists for TimePicker as well for the minute field.

Following is code snippet containing date picker code, same happens with time picker also:

----------------------------------------
var moment = require('alloy/moment');


var win = Ti.UI.createWindow({
	exitOnClose : true,
	layout : 'vertical',
	width : Ti.UI.FILL,
	height : Ti.UI.FILL,
	backgroundColor:'white'
});

var text = Ti.UI.createTextField({
	hintText : 'ENTER YOUR DATE OF BIRTH',
	top : 10,
	width : Ti.UI.SIZE,
	height : 120,
	left : 0
});

var picker = Ti.UI.createPicker({
	type : Ti.UI.PICKER_TYPE_DATE,
	top : 50,
	visible : false
});

var button = Ti.UI.createButton({
	title : 'Select',
	top : 100,
	width:Ti.UI.SIZE,
	height:Ti.UI.SIZE
})

text.addEventListener('click', function(e) {
	picker.visible = true;
})

picker.addEventListener('change', function(e) {
	Ti.API.info("User selected date: " + e.value.toLocaleString());
});

button.addEventListener('click', function(e) {
	var labelText = moment(picker.value.toString(), 'ddd MMM DD YYYY HH:mm:ss Z').format('MMMM DD, YYYY');
	text.value = labelText;
});

win.add(text);
win.add(picker);
win.add(button);
win.open();
----------------------------------------

Screenshots attached display the wrong value selected within the textField

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14200_39801/datePickerIssue.png">datePickerIssue.png</td></td><td>2013-06-13T10:43:17.000+0000</td><td>51834</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14200_39802/timePickerIssue.png">timePickerIssue.png</td></td><td>2013-06-13T10:43:17.000+0000</td><td>50527</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Lee Morris 2017-06-28

   I am unable to reproduce this issue with the following environment;
   Pixel (7.1)
   Ti SDK 6.1.1.v20170626160851
   Appc NPM 4.2.9
   Appc CLI 6.2.2
   Ti CLI 5.0.14
   Alloy 1.9.11
   Xcode 8.2 (8C38)
   Node v4.8.2
   Java 1.8.0_131</li>
</ol>


<p><a href="/TIMOB/TIMOB-14200.json">JSON Source</a></p>