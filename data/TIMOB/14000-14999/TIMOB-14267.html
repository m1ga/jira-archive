---
title: "[TIMOB-14267] LiveView - Running multiple instances of the application on iOS and Android, iOS instances lose connection to LiveView Server"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-07-10T00:56:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 14, 2013 Sprint 14 Tooling, Release 3.1.2, Release 3.2.0</td></tr>
<tr><th>Components</th><td>LiveView</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Bert Grantges</td></tr>
<tr><th>Assignee</th><td>Christian Sullivan</td></tr>
<tr><th>Created</th><td>2013-06-17T18:48:58.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-03T20:09:21.000+0000</td></tr>
</table>

<h3>Description</h3>

When trying to run multiple instances of the application with Liveview enabled across multiple devices/platform notice that Android will continue to update, however iOS instances lose the connection and do not continue to update.

(have validated this against iOS on Device and iOS on Simulator).

See attached video for further clarification.

steps to reproduce:

1) enable an existing application (simple screen) for LiveView
2) run android and iOS builds (emulator/simulator)
3) make a change to the code

Expected Behavior:
Both instances of the application should update continuously

Actual Behavior:
Android will continue to update, however iOS will stop updating after it updates once. Simulator or Device will need to restart to show updates.




<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14267_40387/Leor_log_20130628.zip">Leor_log_20130628.zip</td></td><td>2013-06-28T20:52:19.000+0000</td><td>18436</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14267_40500/liveview-test-07032013-v.rtf">liveview-test-07032013-v.rtf</td></td><td>2013-07-03T12:43:20.000+0000</td><td>62864</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14267_40327/Screen Shot 2013-06-27 at Jun 27,1.19.43 PM.png">Screen Shot 2013-06-27 at Jun 27,1.19.43 PM.png</td></td><td>2013-06-27T20:21:46.000+0000</td><td>188276</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14267_40385/Screen Shot 2013-06-28 at 4.29.01 PM.png">Screen Shot 2013-06-28 at 4.29.01 PM.png</td></td><td>2013-06-28T20:50:55.000+0000</td><td>1059881</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14267_40386/Screen Shot 2013-06-28 at 4.33.52 PM.png">Screen Shot 2013-06-28 at 4.33.52 PM.png</td></td><td>2013-06-28T20:51:36.000+0000</td><td>1069656</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14267_40498/studiodiagnosticlog-07032013.rtf">studiodiagnosticlog-07032013.rtf</td></td><td>2013-07-03T12:43:20.000+0000</td><td>33000</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14267_40499/studiolog-07032013.txt">studiolog-07032013.txt</td></td><td>2013-07-03T12:43:20.000+0000</td><td>4653465</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Bert Grantges 2013-06-25

   Bump - any updates on this?</li>
<li>Christian Sullivan 2013-06-25

   Investigating now.</li>
<li>Christian Sullivan 2013-06-25

   What are versions of liveview and Ti SDK are you using?</li>
<li>Bert Grantges 2013-06-25

   liveview 0.1.24
   Studio 3.1.1.201306131423
   SDK 3.1.1.GA</li>
<li>Bert Grantges 2013-06-26

   FYI - also just tried this with the latest SDK from nightly builds - 3.1.2.v20130624104600
   
   Still shows the same behavior. Unable to run multiple instances of the application across devices simulator - after there is one app refresh all but the last connecting instance will cease to refresh</li>
<li>Ingo Muschenetz 2013-06-26

   [~bgrantges] I'm more interested in the version of LiveView you are using. Is it still 0.1.24?</li>
<li>Bert Grantges 2013-06-26

   see my previous comment - LiveView 0.1.24 - The latest plugin.
   
   Bert</li>
<li>Michael Xia 2013-06-26

   We updated the LiveView plugin on nightly and beta streams to 0.1.25, not the RC. I assume we don't yet want to push to RC until some QE confirmation.
   </li>
<li>Ingo Muschenetz 2013-06-26

   [~mxia] Can you confirm if 0.1.25 fixes the issue above or if we need an additional fix? Once we have confirmed it works for us, then I can ask [~bgrantges] to test.</li>
<li>Michael Xia 2013-06-26

    It isn't working yet from my testing. I'm running Appcelerator Studio, build: 3.1.1.201306131423 + LiveView Feature 1.0.0.201306251553, and the diagnostic log shows 0.1.25 LiveView is included. Here are my steps:
    
    1. Create a classic two-tab project and run it on iOS simulator with LiveView enabled;
    2. Updating the code, and the app reflects correctly right away;
    3. Run the app on Android emulator with LiveView enabled;
    4. Updating the code, and one time I saw a runtime error, and the other one I saw no update.
    
    Here is the log:
    
    <code><pre>
    [INFO] :   Finished building the application in 1s 37ms
    [LiveView] Closing file/event server process id: 10056
    [INFO] :   Running application in iOS Simulator
    [LiveView] version 0.1.25
    [LiveView] File Server Started on Port 8324
    [LiveView] Event Server Started on Port 8323
    [INFO] :   Launching application in iOS Simulator
    [INFO] :   Focusing the iOS Simulator
    [LiveView] Client connected
    [INFO] :   Application started
    [INFO] :   testLiveView/1.0 (3.1.1.GA.f7592c1)
    [LiveView] Reload Triggered
    	-REASON: File Changed
     -FILE: /Users/mxia/Documents/Appcelerator_Studio_Workspace/testLiveView/Resources/app.js
    [LiveView] Client disconnected
    [LiveView] Client connected
    [INFO] :   [LiveView] Reloading App
    [INFO] :   [LiveView] Closed Previous Event Server client
    [INFO] :   testLiveView/1.0 (3.1.1.GA.f7592c1)
    [ERROR] :  [LiveView] Disconnected from Event Server
    [INFO] :   [LiveView] Attempting reconnect to Event Server
    [INFO] :   [LiveView] Reconnected to Event Server
    [INFO] :   [LiveView] Reloading App
    [INFO] :   [LiveView] Closed Previous Event Server client
    [INFO] :   testLiveView/1.0 (3.1.1.GA.f7592c1)
    [ERROR] :  Script Error {
    [ERROR] :      backtrace = "#0 () at file://localhost/Users/mxia/Library/Application%20Support/iPhone%20Simulator/6.0/Applications/BC4A4025-F280-4196-963C-70043F81EDBA/testLiveView.app/app.js:575\n#1 () at file://localhost/Users/mxia/Library/Application%20Support/iPhone%20Simulator/6.0/Applications/BC4A4025-F280-4196-963C-70043F81EDBA/testLiveView.app/app.js:610\n#2 () at file://localhost/Users/mxia/Library/Application%20Support/iPhone%20Simulator/6.0/Applications/BC4A4025-F280-4196-963C-70043F81EDBA/testLiveView.app/app.js:496\n#3 () at file://localhost/Users/mxia/Library/Application%20Support/iPhone%20Simulator/6.0/Applications/BC4A4025-F280-4196-963C-70043F81EDBA/testLiveView.app/app.js:463\n#4 () at file://localhost/Users/mxia/Library/Application%20Support/iPhone%20Simulator/6.0/Applications/BC4A4025-F280-4196-963C-70043F81EDBA/testLiveView.app/app.js:395\n#5 () at file://localhost/Users/mxia/Library/Application%20Support/iPhone%20Simulator/6.0/Applications/BC4A4025-F280-4196-963C-70043F81EDBA/testLiveView.app/app.js:641";
    [ERROR] :      line = 556;
    [ERROR] :      message = "[LiveView]";
    [ERROR] :      sourceId = 318560128;
    [ERROR] :      sourceURL = "file://localhost/Users/mxia/Library/Application%20Support/iPhone%20Simulator/6.0/Applications/BC4A4025-F280-4196-963C-70043F81EDBA/testLiveView.app/app.js";
    [ERROR] :  }
    [ERROR] :  [LiveView] The operation couldnâ€™t be completed. Operation timed out
    </pre></code>
    
    It appears LiveView server got disconnected when the Android emulator is launched.</li>
<li>Christian Sullivan 2013-06-27

    This is happening because the liveview.js file is symlinked to the builds. So when android builds it replaces the server url in liveview.js with the android proxy url required to access external network ips (10.0.2.2). Since iOS is still symlinked to the same file it can no longer connect due to the new url being invalid.</li>
<li>Christian Sullivan 2013-06-27

    Fixed in 0.1.26 <a href="https://github.com/appcelerator/liveview/commit/5375660cf1231ccfea12b2819687a47dcebc0a31" rel="nofollow" target="_blank">https://github.com/appcelerator/liveview/commit/5375660cf1231ccfea12b2819687a47dcebc0a31</a></li>
<li>Michael Xia 2013-06-27

    [~csullivan] I updated to 0.1.26 and ran into a runtime error when launching Android emulator with liveview. Attached the screenshot. Not sure if it's related to this issue itself.
    </li>
<li>Michael Xia 2013-06-27

    I did a "killall node" from command line and re-launched; still saw the runtime error. Here is the relevant console output:
    
    <code><pre>
    ...
    [INFO][ActivityThread(  394)] Pub com.svox.pico.providers.SettingsProvider: com.svox.pico.providers.SettingsProvider
    [INFO][ActivityManager(   62)] Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.LAUNCHER] flg=0x10200000 cmp=test.liveview/.TestliveviewActivity } from pid 397
    [INFO][ActivityManager(   62)] Start proc test.liveview for activity test.liveview/.TestliveviewActivity: pid=410 uid=10038 gids={1015, 3003}
    [INFO][dalvikvm(  410)] Could not find method android.app.Application.onTrimMemory, referenced from method org.appcelerator.titanium.TiApplication.onTrimMemory
    [WARN][dalvikvm(  410)] VFY: unable to resolve virtual method 123: Landroid/app/Application;.onTrimMemory (I)V
    [INFO][TiApplication(  410)] (main) [0,0] checkpoint, app created.
    [INFO][TiApplication(  410)] (main) [322,322] Titanium 3.1.1 (2013/06/15 16:10 f7592c1)
    [INFO][TiApplication(  410)] (main) [162,484] Titanium Javascript runtime: v8
    [INFO][TiRootActivity(  410)] (main) [0,0] checkpoint, on root activity create, savedInstanceState: null
    [INFO][dalvikvm(  410)] Could not find method android.app.Activity.invalidateOptionsMenu, referenced from method org.appcelerator.titanium.proxy.ActivityProxy.handleInvalidateOptionsMenu
    [WARN][dalvikvm(  410)] VFY: unable to resolve virtual method 52: Landroid/app/Activity;.invalidateOptionsMenu ()V
    [ERROR][TiApplication(  410)] (KrollRuntimeThread) [1065,1065] APP PROXY: ti.modules.titanium.app.AppModule@405ab898
    [WARN][V8Object(  410)] Runtime disposed, cannot set property 'userAgent'
    [LiveView] Client connected
    [ERROR][TiExceptionHandler(  410)] (main) [3511,4576] ----- Titanium Javascript Runtime Error -----
    [ERROR][TiExceptionHandler(  410)] (main) [3,4579] - In app.js:560,13
    [ERROR][TiExceptionHandler(  410)] (main) [3,4582] - Message: Uncaught Error: [LiveView] File Server unavailable. Host Unreachable
    [ERROR][TiExceptionHandler(  410)] (main) [1,4583] - Source:       throw new Error('[LiveView] File Server unavailable. Host Unreachable');
    [ERROR][V8Exception(  410)] Exception occurred at app.js:560: Uncaught Error: [LiveView] File Server unavailable. Host Unreachable
    [INFO][TiRootActivity(  410)] (main) [0,0] checkpoint, on root activity resume. activity = test.liveview.TestliveviewActivity@4059c450
    ...
    </pre></code>
    </li>
<li>Christian Sullivan 2013-06-27

    [~mxia] what does <code><pre>console.log( Ti.Platform.name, Ti.Platform.name);</pre></code> return if you put it in your app.js and build without liveview</li>
<li>Michael Xia 2013-06-27

    Needed to clean the project and re-build. Now iOS simulator and Android emulator are getting updated together.
    
    Did observe a behavior where if you exit Android emulator, iOS simulator will no longer get updated. Will open a separate ticket on it.
    </li>
<li>Michael Xia 2013-06-27

    Opened TIMOB-14425.
    </li>
<li>Leor Brenman 2013-06-28

    I used an iPhone Sim and an Android AVD.
    
    I used the stock Alloy App with a button added to the screen.
    
    I edited the screen background (via tss) and the button position (via the xml file)
    
    I tested the 0.1.26 Beta of Liveview and it is definitely better than before but I still see several issues:
    
    (a) iPhone Simulator still loses connection while Android can be updated
    (b) I saw one runtime error on Android
    (c) There is a little trouble getting started where the iPhone wont launch the app and I need to run again; not sure of the 'correct' sequence (what to launch first)
    
    Logs and screen shots attached</li>
<li>Leor Brenman 2013-06-28

    Android Runtime Error happened only once (not repeatable)</li>
<li>Leor Brenman 2013-06-28

    iPhone Simulator stops updating after several modifications (with save each time)</li>
<li>Leor Brenman 2013-06-28

    Console, Studio Log and Studio Diagnostic Log</li>
<li>Bert Grantges 2013-07-03

    This is not resolved per my latest update and tests
    
    LiveView Version: 0.1.26
    Titanium SDK: 3.1.2.v20130624104600
    
    - Open up iOS Simulator and Android Emulator and install to both
    - Make a change to your XML file and save
    - iOS Simulator and Emulator update as expected (android update is VERY SLOW see APPTS-2291)
    - Make a change to the same file or another file and save
    - Android emulator updates eventually, iOS no longer responds
    
    Looking through the console output you can see that the iOS Simulator has disconnected
    
    see my attached logs/console output</li>
<li>Bert Grantges 2013-07-03

    Still witnessing this behavior with latest update of liveview. ReOpening</li>
<li>Christian Sullivan 2013-07-10

    resolved in <a href="https://github.com/appcelerator/liveview/releases/0.1.27" rel="nofollow" target="_blank">https://github.com/appcelerator/liveview/releases/0.1.27</a></li>
<li>Michael Xia 2013-08-14

    For Appcelerator Studio, build: 3.1.2.201308091728 (containing LiveView 0.1.32), we only support updating one platform at a time when running with LiveView. Closing this ticket.
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-14267.json">JSON Source</a></p>