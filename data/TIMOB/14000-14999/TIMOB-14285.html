---
title: "[TIMOB-14285] Android: applyProperties() does not apply custom properties to proxy"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-11-17T15:27:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2013-06-19T15:08:03.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-29T19:47:24.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>problem</h4>

When using <code>applyProperties()</code> to add a number of properties to a Titanium proxy object, custom properties are not added on Android. On iOS and Mobileweb all properties, including custom ones, are added with the <code>applyProperties()</code> call. Android leaves the custom properties as <code>undefined</code>.

<h4>expected</h4>

Android should behave like other supported platforms and attach custom properties to the Titanium proxy object when they are added via <code>applyProperties()</code>.

<h4>test case</h4>
<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor: '#fff',
	fullscreen: false,
	exitOnClose: true
});
win.open();

win.applyProperties({
	customString: 'Ti.UI.Window',
	customArray: ['class1','class2','class3'],
	customObject: {
		x: 1,
		y: 2,
		z: 3
	},
	navBarHidden: true,
	backgroundGradient: {
        type: 'linear',
        startPoint: { x: '0%', y: '50%' },
        endPoint: { x: '100%', y: '50%' },
        colors: [ 
        	{ color: 'red', offset: 0.0}, 
        	{ color: 'blue', offset: 0.25 }, 
        	{ color: 'red', offset: 1.0 } 
        ],
    }
});

Ti.API.info('customString:       ' + JSON.stringify(win.customString));
Ti.API.info('customArray:        ' + JSON.stringify(win.customArray));
Ti.API.info('customObject:       ' + JSON.stringify(win.customObject));
Ti.API.info('navBarHidden:       ' + JSON.stringify(win.navBarHidden));
Ti.API.info('backgroundGradient: ' + JSON.stringify(win.backgroundGradient));
</pre></code>

<h4>output</h4>

iOS does not show the <code>backgroundGradient</code> after the <code>applyProperties()</code> call, but this is a peripheral issue not associated with this ticket.

<h4>iOS 6.1 iPhone sim</h4>
<code><pre>
[INFO]  customString:       "Ti.UI.Window"
[INFO]  customArray:        ["class1","class2","class3"]
[INFO]  customObject:       {"x":1,"y":2,"z":3}
[INFO]  navBarHidden:       true
[INFO]  backgroundGradient: {}
</pre></code>

<h4>Android 2.3.3 HVGA emulator</h4>
<code><pre>
I/TiAPI   (  517):  customString:       undefined
I/TiAPI   (  517):  customArray:        undefined
I/TiAPI   (  517):  customObject:       undefined
I/TiAPI   (  517):  navBarHidden:       true
I/TiAPI   (  517):  backgroundGradient: {"endPoint":{"y":"50%","x":"100%"},"type":"linear","colors":[{"offset":0,"color":"red"},{"offset":0.25,"color":"blue"},{"offset":1,"color":"red"}],"startPoint":{"y":"50%","x":"0%"}}
</pre></code>

<h4>mobileweb + chrome</h4>
<code><pre>
[INFO] customString:       "Ti.UI.Window"
[INFO] customArray:        ["class1","class2","class3"]
[INFO] customObject:       {"x":1,"y":2,"z":3}
[INFO] navBarHidden:       true
[INFO] backgroundGradient: {"type":"linear","startPoint":{"x":"0%","y":"50%"},"endPoint":{"x":"100%","y":"50%"},"colors":[{"color":"red","offset":0},{"color":"blue","offset":0.25},{"color":"red","offset":1}]} 
</pre></code>

<h3>Comments</h3>

<ol>
<li>Lee Driscoll 2014-03-25

   +1 for this issue</li>
<li>Ahmed Roshdy 2014-09-24

   +1 to fix this</li>
<li>Brenton House 2014-11-14

   +1  -- wish this was higher priority... </li>
<li>Manojkumar Murugesan 2015-05-10

   +1</li>
<li>Manojkumar Murugesan 2015-11-05

   +1, We are into cross platform, iOS and Android should act similarly.</li>
<li>Pascal 2016-02-01

   +1, higher priority please!</li>
<li>Brenton House 2016-03-09

   any chance of this getting bumped up?</li>
<li>christian ribe 2016-04-18

   +1 same issue here.... This should act the same independently of the platform !
   Any workarounds ?</li>
<li>Ashraf Abu 2016-04-25

   applyProperties doesn't seem to be working for Android.
   Doing something like this works though if you need a workaround:-
   <code><pre>
   win.customThings = "customThings";
   </pre></code></li>
<li>christian ribe 2016-04-25

    Thanks Ashraf,
    
    Yes I noticed that setting it directly works. This should be relatively easy to patch...</li>
<li>Gary Mathews 2016-10-27

    master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8557" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8557</a></li>
<li>Samir Mohammed 2016-11-29

    Verified fixed, using the code in the description was able to view the custom properties in the console when running on an android device; this is shown below as you can see it no longer says "Undefined" for customString, customArray, customObject and navBarHidden. 
    <code><pre>
    [INFO] :   customString:       "Ti.UI.Window"
    [INFO] :   customArray:        ["class1","class2","class3"]
    [INFO] :   customObject:       {"z":3,"x":1,"y":2}
    [INFO] :   navBarHidden:       true
    [INFO] :   backgroundGradient: {"startPoint":{"x":"0%%","y":"50%%"},"endPoint":{"x":"100%%","y":"50%%"},"type":"linear","colors":[{"offset":0,"color":"red"},{"offset":0.25,"color":"blue"},{"offset":1,"color":"red"}]}
    </pre></code>
    
    *Environment* 
    <code><pre>
    Appcelerator Command-Line Interface, version 6.0.0
    Android 7.0 (Google Nexus 6P)
    Operating System Name: Mac OS X El Capitan
    Operating System Version: 10.11.6
    Node.js Version: 4.6.0
    npm: 4.2.8
    Titanium CLI Version: 5.0.10
    Titanium SDK Version: 6.1.0.v20161129071600
    Xcode: 8.0
    Appcelerator Studio: 4.8.0.201611121409
    </pre></code>
    
    
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-14285.json">JSON Source</a></p>