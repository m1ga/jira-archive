---
title: "[TIMOB-14291] Android: Support for PackageManager and queryIntentActivities"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, intent, packagemanager</td></tr>
<tr><th>Reporter</th><td>Mads Moller</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2013-06-19T07:13:51.000+0000</td></tr>
<tr><th>Updated</th><td>2019-05-08T21:07:33.000+0000</td></tr>
</table>

<h3>Description</h3>

At the moment, there is no way to figure out which apps and intents is available on the users device. 

So we need to guess, or do try catch logic, like this:

<code><pre> 
try {
	var intent = Ti.Android.createIntent({
		action : Ti.Android.ACTION_SEND,
		packageName : "com.twitter.android",
		className : "com.twitter.android.PostActivity",
		flags : Ti.Android.FLAG_ACTIVITY_NEW_TASK,
		type : "text/plain"
	});
	
	if (options.text) {
		intent.putExtra(Ti.Android.EXTRA_TEXT, options.text);
	}
	Ti.Android.currentActivity.startActivity(intent);

} catch(e){
	// Fallback - if app is not installed
	// do something
}
</pre></code> 

What we need is access to Android Package Manager. This way we can loop through the installed applications, and figure out what is available, instead of guessing. 

I could do something like this: <a href="http://stackoverflow.com/questions/6827407/how-to-customize-share-intent-in-android/9229654#9229654" rel="nofollow" target="_blank">http://stackoverflow.com/questions/6827407/how-to-customize-share-intent-in-android/9229654#9229654</a>

Proposal:
<code><pre>
// test
var bool = Ti.Android.isPackageNameSupported("com.twitter.android");

// get all apps installed
var mainIntent = Ti.Android.createIntent({
	action : Ti.Android.ACTION_SEND
});
mainIntent.addCategory(Ti.Android.CATEGORY_LAUNCHER);
var packageManager = Ti.Android.getPackageManager();
var applist = packageManager.queryIntentActivities( mainIntent, 0);
</pre></code> 


<h3>Comments</h3>

<ol>
<li>Mads Moller 2013-06-19

   Priority: None
   
   nice one :) </li>
<li>Ingo Muschenetz 2013-06-28

   You're welcome. :) I'll get the team to work on scoping this.</li>
<li>Shannon Hicks 2013-11-04

   I built a module that provides PackageManager access: <a href="https://github.com/iotashan/TiAppHelper" rel="nofollow" target="_blank">https://github.com/iotashan/TiAppHelper</a></li>
<li>Marian Kucharcik 2015-11-06

   @Shannon Hicks: Can you please advice me how to install your module? It's JAR only file... 
   Thanks</li>
<li>Shannon Hicks 2015-11-06

   You'll have to build that one from source.</li>
<li>Joseph Sachs 2015-12-31

   I will try this out. Seems like 3 years old. Hope it's still working</li>
</ol>


<p><a href="/TIMOB/TIMOB-14291.json">JSON Source</a></p>