---
title: "[TIMOB-14311] Android: View: opacity does not work when backgroundColor is changed"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-07-11T21:52:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1, Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 14, 2013 Sprint 14 API, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_views, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Ping Wang</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2013-06-20T17:49:12.000+0000</td></tr>
<tr><th>Updated</th><td>2013-10-11T12:18:53.000+0000</td></tr>
</table>

<h3>Description</h3>

<code><pre>
var win = Ti.UI.createWindow({
	fullscreen: false
});

var label = Ti.UI.createLabel({
	bottom: 20,
	color: 'white',
	text: "A label in the window"
});
win.add(label);

var v = Ti.UI.createView({
	bottom: 10,
	height: 100,
	width: 100,
	opacity: 0.5,
	backgroundColor: 'blue'
});

var b = Ti.UI.createButton({
	top: 10,
	title: "change view backgroundColor"
});

b.addEventListener("click", function(){
	v.backgroundColor = "yellow";
});

var b1 = Ti.UI.createButton({
	top: 110,
	title: "remove view"
});

b1.addEventListener("click", function(){
	win.remove(v);
});

var b2 = Ti.UI.createButton({
	top: 210,
	title: "add view"
});

b2.addEventListener("click", function(){
	win.add(v);
});

win.add(b);
win.add(b1);
win.add(b2);
win.add(v);
win.open();
</pre></code>
Steps to reproduce:
1. Run the above code. Should see a translucent blue view on the screen.
2. Click the button "change view backgroundColor".
Actual behavior: The view becomes opaque yellow. 
Expected behavior: The view becomes translucent yellow.

Note: if click the button "remove view" and then "add view", we can see the view becomes translucent yellow.


<h3>Comments</h3>

<ol>
<li>Ping Wang 2013-06-26

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4418" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4418</a></li>
<li>Ping Wang 2013-06-27

   This bug only happens on 2.3 devices.
   For FR, please run the test case on 2.3, 3.x and 4.x devices.</li>
<li>Paras Mishra 2013-10-11

   Opacity is working fine when backgorundColor is changed.
   
   Verified fix on:
   Device : Google Nexus 7,  Android Version: 4.3
   Device: Samsung Galaxy Note, Android version: 2.3.6
   SDK: 3.2.0.v20131010163242
   CLI version : 3.2.0
   OS : MAC OSX 10.8.4
   Alloy : 1.2.2
   Appcelerator Studio, build: 3.2.0.201310092427
   XCode : 5</li>
</ol>


<p><a href="/TIMOB/TIMOB-14311.json">JSON Source</a></p>