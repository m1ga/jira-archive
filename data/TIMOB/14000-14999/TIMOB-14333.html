---
title: "[TIMOB-14333] Android: Clicking Map Annotation with Map added to table view row crashes"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-02-28T13:33:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.3, Release 2.1.4</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.4, Release 3.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, mobilesdk</td></tr>
<tr><th>Reporter</th><td>Ashish Nigam</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-06-21T17:16:31.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-16T20:54:17.000+0000</td></tr>
</table>

<h3>Description</h3>

Note that this bug does not occur in 3.0GA onwards. We have a customer using 2.1.4GA who needs this to be fixed.

Adding Map view on table view row object and clicking on Map Annotation crashes the app.

Steps to reproduce.

1: Use the below mentioned sample.
2: create a sample app and put the code in app.js file.
3: Launch the app in android.
4: Click on the map annotation. App should crash.

<code><pre>
var win = Ti.UI.createWindow({
    backgroundColor : "gray"
});

var tbView = Ti.UI.createTableView();

var tbRow1 = Ti.UI.createTableViewRow({
    title:"row1",
    height:200,
    width:320
});

var tbRow2 = Ti.UI.createTableViewRow({
    title:"row2",
    height:200,
    width:320
});
var tbRow3 = Ti.UI.createTableViewRow({
    title:"row3",
    height:100,
    width:320
});



var locationMap = Ti.Map.createView({
    mapType : Titanium.Map.STANDARD_TYPE,
    region : {
        latitude : 0,
        longitude : 0,
        latitudeDelta : 0.01,
        longitudeDelta : 0.01
    },
    animate : true,
    regionFit : true,
    userLocation : false,
    height:150,
    width:320
});
var locationAnnotation = Ti.Map.createAnnotation({
    latitude : 28.65432,
    longitude : 74.23456,
    title : "employee.AddressName",
    subtitle : "employee.StreetFull",
    pincolor : Titanium.Map.ANNOTATION_RED,
    animate : true
});

locationMap.removeAllAnnotations();
locationMap.addAnnotation(locationAnnotation);

locationMap.setRegion({
    latitude : 28.65432,
    longitude : 75.23456,
    latitudeDelta : 0.01,
    longitudeDelta : 0.01
});



//=========

var locationMap1 = Ti.Map.createView({
    mapType : Titanium.Map.STANDARD_TYPE,
    region : {
        latitude : 0,
        longitude : 0,
        latitudeDelta : 0.01,
        longitudeDelta : 0.01
    },
    animate : true,
    regionFit : true,
    userLocation : false,
    height:130,
    width:320
});
var locationAnnotation1 = Ti.Map.createAnnotation({
    latitude : 29.65432,
    longitude : 74.23456,
    title : "employee.AddressName",
    subtitle : "employee.StreetFull",
    pincolor : Titanium.Map.ANNOTATION_RED,
    animate : true
});

locationMap1.removeAllAnnotations();
locationMap1.addAnnotation(locationAnnotation1);

locationMap1.setRegion({
    latitude : 29.65432,
    longitude : 75.23456,
    latitudeDelta : 0.01,
    longitudeDelta : 0.01
});

//=========

//tbRow1.add(locationMap);
tbRow2.add(locationMap1);
// tbRow3.add(locationMap);

var datavar = [tbRow1,tbRow2,tbRow3];

tbView.data = datavar;
win.add(tbView);

win.open();

</pre></code>



<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-02-28

   I am going to mark this as fixed in 2.1.4 and 3.0.0.</li>
<li>Lee Morris 2017-03-16

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14333.json">JSON Source</a></p>