---
title: "[TIMOB-14346] Android: MapView crash while doing swipe "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-11-12T00:37:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 23, 2013 Sprint 23 API</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Radamantis Torres-Lechuga</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2013-06-21T22:48:00.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T21:18:02.000+0000</td></tr>
</table>

<h3>Description</h3>

MapView using Alloy, is throwing the following message on the log and crash the app:
 D/skia(12431): ------- imageref_ashmem create failed <(null)> 143360
If the map is inside of a tab, it's faster to reproduce the crash, use the following sample code:
<code><pre>

<Alloy>
	<TabGroup>
		<Tab title="Tab 1" icon="KS_nav_ui.png">
			<Window title="Tab 1">
				<Label>I am Window 1</Label>
			</Window>
		</Tab>
		<Tab title="Tab 2" icon="KS_nav_views.png">
			<Window title="Tab 2">
				<View id="mapview" ns="Ti.Map"  animate="true" regionFit="true" userLocation="false" mapType="Ti.Map.STANDARD_TYPE" >
		            <Annotation id="mountainView"
		              latitude="37.390749" longitude="-122.081651"
		              title="Appcelerator Headquarters" subtitle="Mountain View, CA"
		              pincolor="Titanium.Map.ANNOTATION_RED"
		              leftButton="/images/appcelerator_small.png"
		              myid="1"/>
		        </View>
			</Window>
		</Tab>
	</TabGroup>
</Alloy> 
</pre></code>


To reproduce the issue just zoom in into the map and start doing swipe to any direction.
I'm also attaching a log output of the crash 




<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-14346_43723/device-2013-11-06-165326.png">device-2013-11-06-165326.png</td></td><td>2013-11-07T01:06:26.000+0000</td><td>31558</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-14346_43724/device-2013-11-06-165542.png">device-2013-11-06-165542.png</td></td><td>2013-11-07T01:06:26.000+0000</td><td>27811</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-14346_43725/mapCrash.txt">mapCrash.txt</td></td><td>2013-11-07T01:06:26.000+0000</td><td>425831</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-14346_40161/mapSampleLog.rtf">mapSampleLog.rtf</td></td><td>2013-06-21T22:48:00.000+0000</td><td>66654</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Olga Romero 2013-09-16

   The issue is *reproducible* with:
   Appcelerator Studio, build: 3.1.3.201309132456
   Titanium SDK, build:3.1.3.v20130916110056
   CLI 3.1.2
   Alloy 1.2.2-beta
   Devices:
   GalaxyS3 Android version 4.0.4
   
   Zoomed a map and kept swiping to the right, it turned into a distorted map, and app had stopped.</li>
<li>Hieu Pham 2013-09-19

   Olga, which map module are you using? I can't reproduce the leak... In fact, memory never exceeds 25% of total cap heap for me.</li>
<li>Hieu Pham 2013-10-30

   Closing this since I'm unable to reproduce this behavior.</li>
<li>Radamantis Torres-Lechuga 2013-11-07

   Hi [~hpham] I can reproduce the issue, attaching a couple of screenshots and a crash log.
   I tested with the latest master CI build (3.2.0.v20131106142445)</li>
<li>Hieu Pham 2013-11-07

   Which device and map build did you test this with? Latest master still have the old map zip, the latest zip can be found here: <a href="https://github.com/appcelerator-modules/ti.map/tree/master/android/dist" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/tree/master/android/dist</a></li>
<li>Radamantis Torres-Lechuga 2013-11-07

   [~hpham] I will try with the latest, I'm using a Samsung Galaxy Nexus</li>
<li>Radamantis Torres-Lechuga 2013-11-11

   [~hpham] Cannot reproduce anymore, go ahead and close the ticket</li>
<li>Hieu Pham 2013-11-12

   Re-closing issue.</li>
<li>Lee Morris 2017-03-21

   Closing ticket as the issue cannot be reproduced. </li>
</ol>


<p><a href="/TIMOB/TIMOB-14346.json">JSON Source</a></p>