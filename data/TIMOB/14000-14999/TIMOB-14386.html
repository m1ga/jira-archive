---
title: "[TIMOB-14386] iOS: Unable to create Ad Hoc Packaging in node 0.8.22"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-08-20T21:11:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 17, 2013 Sprint 17 Core, Release 3.2.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>ios, packaging, qe-closed-3.2.0, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Carter Lathrop</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-05-28T06:35:48.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-24T23:53:41.000+0000</td></tr>
</table>

<h3>Description</h3>

Unable to package for Ad Hoc distribution because of a Node error below.  I can build for everything else (simulator, iOS device or App Store).  Was getting the same error before upgrading to the release candidate.

[TRACE] :  ** BUILD SUCCEEDED **
[INFO] :   Finished building the application in 17s 374ms
[INFO] :   Packaging for Ad Hoc distribution
/usr/local/lib/node_modules/titanium/node_modules/longjohn/dist/longjohn.js:181
        throw e;
              ^
Error: EISDIR, illegal operation on a directory '/'
    at fs.mkdirSync (fs.js:642:18)
    at Object.mkdirSyncRecursive (/Users/danwilson/Library/Application Support/Titanium/mobilesdk/osx/3.1.1.v20130523143543/node_modules/wrench/lib/wrench.js:335:12)
    at exports.copyFileSync (/Users/danwilson/Library/Application Support/Titanium/mobilesdk/osx/3.1.1.v20130523143543/node_modules/node-appc/lib/fs.js:133:9)
    at /Users/danwilson/Library/Application Support/Titanium/mobilesdk/osx/3.1.1.v20130523143543/iphone/cli/hooks/package.js:124:12
    at exithandler (child_process.js:635:7)
    at EventEmitter.emit (events.js:98:17)
    at maybeClose (child_process.js:735:16)
    at Socket.<anonymous> (child_process.js:948:11)
---------------------------------------------
    at exports.execFile (child_process.js:691:9)
    at exports.exec (child_process.js:578:18)
    at cli.addHook.post (/Users/danwilson/Library/Application Support/Titanium/mobilesdk/osx/3.1.1.v20130523143543/iphone/cli/hooks/package.js:111:6)
    at /usr/local/lib/node_modules/titanium/lib/cli.js:110:12
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:486:21
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:185:13
    at iterate (/usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:108:13)
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:119:25

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-14386_40233/output-0.8.22.log">output-0.8.22.log</td></td><td>2013-06-26T01:50:55.000+0000</td><td>1230781</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-14386_39488/trace.log">trace.log</td></td><td>2013-06-05T19:28:00.000+0000</td><td>207268</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Carter Lathrop 2013-05-31

   <a href="http://developer.appcelerator.com/question/152848/node-error-when-packaging-for-ad-hoc" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/152848/node-error-when-packaging-for-ad-hoc</a></li>
<li>Carter Lathrop 2013-06-03

   Hello Dan,
   
   Were you able to correct this issue? Is only occurring on this one app or does it happen for all apps? Would you mind testing this for us on a test app to determine if this is a unique problem with your app or a problem with something else?
   
   Thanks,
   Carter</li>
<li>Dan Wilson 2013-06-04

   I have just confirmed that it is only this app that is having this problems. Is there anything from this error that you can point me in the right direction to solve this?  Will the entire trace level log help?
   
   Thanks,
   -=Dan</li>
<li>Carter Lathrop 2013-06-04

   Hi Dan,
   
   Hmm, that is quite peculiar. I am going to move this to Ti-Mobile to see if the engineers have any insight into this and they can then ask for any more pertinent information that they need. I believe Mauro meant to do this but never got around to it. Sorry for the wait and thanks for your patience. Would you also mind providing the full trace log as an attachment? 
   
   Thanks again,
   Carter</li>
<li>Dan Wilson 2013-06-04

   I'm unable to add an attachment.  I was removed from being the reporter, so I don't have permissions.</li>
<li>Carter Lathrop 2013-06-05

   Sorry about that, would you mind sending them to me at clathrop@appcelerator.com? I will attach them myself. 
   
   Thanks,
   Carter</li>
<li>Dan Wilson 2013-06-24

   Is there any new status on this bug?  I'm unable to deploy new versions of my app because of this bug.  Can someone point me in the right direction to help in troubleshooting or investigating?</li>
<li>Carter Lathrop 2013-06-24

   Hello Dan,
   
   I have updated the ticket to blocker status, and I will be sure to send an email to engineering to see when they can get to this. Thanks for your patience.
   
   Best,
   Carter</li>
<li>Michael Xia 2013-06-24

   Hi Dan,
   
   The issue looks similar to what's reported in TIMOB-13822. A couple of questions:
   
   1. Do you have symbol links defined in the specific project?
   2. Could you try updating to the latest 3.1.1.GA of SDK and 3.1.1 of CLI to see if it helps? If it's indeed a duplicate of TIMOB-13822, the problem should be addressed in the latest update.
   
   Thanks.
   </li>
<li>Dan Wilson 2013-06-25

    Michael,
    
    1. No.  I don't have any symlinks in this project.  I do however move files around through a script that also purges the build directory.  This project is used to build several very similar apps.  Each has different graphical assets as well as some slight differences in the configuration (tiapp.xml), including the name of the app, etc.  No sure if that is related or not.
    2. I've already tried the new 3.1.1.GA with the same exact result.
    
    Please let me know what other information might be helpful for you.
    
    Thanks</li>
<li>Dan Wilson 2013-06-25

    </li>
<li>Michael Xia 2013-06-25

    Hi Dan, could you try the following?
    
    1. In Studio, run Help > Studio > Clear Log File;
    2. Open Preferences > Studio > Troubleshooting page, change Debug Level to All, and make the entry "com.aptana.core/debug/shell" checked;
    2. Restart Studio and package for ad hoc to re-create the problem;
    3. Run Help > Studio > View Log File;
    4. Scroll to the end of the file and look for two lines, one "Working directory" and one right before saying "Process: "; from the command line, cd into the working directory and then copy-and-paste the full command after "Process: ".
    
    This should produce the same error but with more debug output. Attaching it here could help.
    
    Thanks.
    </li>
<li>Dan Wilson 2013-06-25

    (removed logs in comment and attached to ticket)</li>
<li>Dan Wilson 2013-06-25

    Michael,
    
    Just realized that the comment didn't accept the entire log. I don't have permissions to attach anything either.  How you would like me to get the entire log to you?</li>
<li>Carter Lathrop 2013-06-25

    Dan, 
    
    Go ahead and send me the log file at clathrop@appcelerator.com. I will attach myself. Thanks for providing the info :)
    
    Regards,
    Carter</li>
<li>Dustin Hyde 2013-06-26

    The CLI officially supports node v0.8.22.</li>
<li>Dan Wilson 2013-06-26

    Dustin, I believe I was at 0.8.22 when I first encountered this error and I upgraded to hopefully resolve it.  I'm running v0.10.8.  Should I downgrade?</li>
<li>Dan Wilson 2013-06-26

    I just downgraded to 0.8.22 and got the same exact error.  I'll email Carter the new log file.</li>
<li>Dustin Hyde 2013-06-26

    Thanks for the clarification.</li>
<li>Dan Wilson 2013-07-29

    Is there anything I can do to speed up work on this bug?  This is really hindering my Ad Hoc testing.  I just released a new version of my app with a significant bug because I wasn't able to send this out to my usual beta testers.  I'd like to help out in any way I can.</li>
<li>Chris Barber 2013-07-29

    @Dan Wilson, what are you specifying as the output directory? Does the path already exist? Are the permissions correct?</li>
<li>Dan Wilson 2013-07-30

    @Chris, my "Specify Location" indicates "/tmp" as the output directory.  And yes, permissions are correct.</li>
<li>Chris Barber 2013-08-20

    Pull request: <a href="https://github.com/appcelerator/node-appc/pull/51" rel="nofollow" target="_blank">https://github.com/appcelerator/node-appc/pull/51</a></li>
<li>Chris Barber 2013-08-20

    To test, from the node-appc directory, run:
    
    <code><pre>
    ./forge test fs
    </pre></code></li>
<li>Olga Romero 2013-11-26

    Tested with [~cbarber], CLI 3.2.0-alpha, and node 0.10.13
    closing.
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-14386.json">JSON Source</a></p>