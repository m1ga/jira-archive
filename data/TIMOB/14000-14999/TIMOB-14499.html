---
title: "[TIMOB-14499] iOS: Can not control orientation of UIActivity (modal window) when building a module"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-08-07T22:15:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0, Release 3.1.0, Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 16, 2013 Sprint 16 Core</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Betty Tran</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2013-07-09T14:42:15.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T20:54:27.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When building a custom iOS module and using UIActivity (modal window), the UIActivityController keeps rotating, even the app orientation is locked to a particular orientation, e.g Portrait.

Attached is a sample project containing the module which runs the module's example app.js

The module source can be found here: <a href="https://github.com/viezel/TiSocial.Framework" rel="nofollow" target="_blank">https://github.com/viezel/TiSocial.Framework</a>

<h4>Steps to reproduce</h4>

1. Run the example app
2. If you rotate the screen it should remain in portrait
3. click on the button "Activity View"
4. Try to rotate the screen. Despite the locked portrait orientation the modal window causes the screen to rotate.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-14499_40591/rotationtest.zip">rotationtest.zip</td></td><td>2013-07-09T14:42:15.000+0000</td><td>2406150</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2013-07-31

   While working on this, I noticed that - (UIViewController *)performWithActivityItems:(NSArray *)activityItems is missing a return statement. This should be fixed in the module.</li>
<li>Blain Hamon 2013-07-31

   Okay, so here's the sticky wicket:
   
   During device rotation, Titanium runtime consults the topmost view controller for the preferred orientation. This makes sense, as a modal can override the hidden view's orientation. As such, I'm tempted to mark this invalid, because the UI Activity's view controller is explicitly allowing the rotation by returning 26 for -[UIViewController supportedInterfaceOrientations].
   
   So one could claim that it's the module developer's responsibility, as it's their view controller. And were the 'SLTwitterComposeViewController' subclassable or public, that's what I would suggest, but it isn't, sadly. One possible workaround would be to make a view controller that wraps and provides the right interfaceOrientation value, but that also gets difficult. However, it is one option the module developer may want to look into.
   
   So what to do? Overriding native view controller preferences is a risky proposition, one we explicitly avoid because of past issues. This especially gets hairy with parity and the like, because this WOULD be a new feature. But a native experience would allow one to do such. I hate to say it, but maybe this is something that needs punting until 3.2.0, when orientation support is limited to iOS 6+ and much of the edge cases that this would run up against are reduced.</li>
<li>Blain Hamon 2013-07-31

   For now, advising module developer wrap their view controller in view controller which they can control orientation. Will advise to mark this ticket as invalid (since this is expected behavior) and propose a new feature for 3.2.0 as part of the orientation issues.</li>
<li>Blain Hamon 2013-08-07

   </li>
<li>Mads Moller 2013-08-16

   Blain,
   Thanks for the description. Make sense its invalid (even though its a bug). 
   Ill wait for 3.2.0 to update my module</li>
<li>Lee Morris 2017-03-22

   Closing ticket as invalid with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14499.json">JSON Source</a></p>