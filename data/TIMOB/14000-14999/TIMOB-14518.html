---
title: "[TIMOB-14518] DEMANDWARE TRIAL - Code Analyzer failed on Endless Aisle app - "node.js maximum call stack size exceeded. Increasing the stack size may allow the project to be fully analyzed""
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2013-07-11T01:05:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Code Processor</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Leor Brenman</td></tr>
<tr><th>Assignee</th><td>Bryan Hughes</td></tr>
<tr><th>Created</th><td>2013-07-10T22:09:15.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:44:05.000+0000</td></tr>
</table>

<h3>Description</h3>

DEMANDWARE - Code Analyzer failed on Endless Aisle app - "node.js maximum call stack size exceeded. Increasing the stack size may allow the project to be fully analyzed"

They just installed Appc Studio today (7/10/13) as part of a Trial of Platform and Code Analyzer is working fine for a hello world app but not for their imported production iPad app.

We searched Google but could not see how to increase the stack size.

I am waiting for diagnostics and log form the client and will attach when received.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-14518_40663/diag_and_log_20130711.rtf">diag_and_log_20130711.rtf</td></td><td>2013-07-11T13:23:48.000+0000</td><td>18330</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Bryan Hughes 2013-07-11

   Duplicate of TISTUD-4848</li>
<li>Bryan Hughes 2013-07-11

   FWIW there currently is no way to increase the stack size if you are calling it from Studio. I believe that there are plans to add the ability to increase the stack size from studio sometime in the future (hence why this is a duplicate of a Studio bug).</li>
<li>Leor Brenman 2013-07-11

   In TISTUD-4848 Nam suggests the following workaround:
   
   To work-around this issue:
   
   Find the Code Analyzer preferences under Studio > Code Analyzer
   Uncheck the option 'Process Unvisited Code'
   Save the changes
   
   Demandware tried this and it did not work :(</li>
<li>Leor Brenman 2013-07-11

   Studio Diag and Log after attempting the workaround</li>
<li>Bryan Hughes 2013-07-11

   You'll have to increase the stack size for node from the command line then, which requires running the code analyzer from the command line. Assuming they are running on OS X or Linux, the command should look something like:
   
   "node --stack-size=10000 /usr/local/bin/titanium analyze -p <platform, e.g. iphone> -A -R <path/to/results/directory>"
   
   This command says to increase the stack size to 10000 (it typically defaults to 1000). Finding the correct size is a bit of an art. Too low and you get this exception, but too high and node.js itself will segfault. Note that a correct value may not exist for this app, meaning that it is possible that this app cannot be analyzed using the code analyzer.
   
   The results that are normally displayed inside of studio are just HTML files and will be put in the directory specified. Open the index.html file inside that directory to see the results.
   </li>
<li>Michael Xia 2013-07-11

   Hi Leor,
   
   Could you have the customer try enabling one option at a time in the Code Analyzer preference page to see if code analyzer could complete?
   </li>
<li>Leor Brenman 2013-07-12

   Nam, Michael and Bryan - thanks so much for the detailed instructions. With your help, the customer is now able to run Code Analyzer from the command line and they have their results. From Studio, they had success if they turned off all options, but the results are less than useful. When they turned on just Invoke Methods, they got an error: "Code Analaysis process exited with error code: 1".
   
   I think we can say that for Demandware the issue is closed.
   
   Thanks again!</li>
</ol>


<p><a href="/TIMOB/TIMOB-14518.json">JSON Source</a></p>