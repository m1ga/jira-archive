---
title: "[TIMOB-14611] MobileWeb: Reading file contents is not compatible with IE"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-03-27T21:39:59.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 06, 2014 Sprint 06 Tooling, Release 3.3.0</td></tr>
<tr><th>Components</th><td>MobileWeb</td></tr>
<tr><th>Labels</th><td>mobileweb, module_network, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Brenton House</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-07-18T21:19:03.000+0000</td></tr>
<tr><th>Updated</th><td>2014-07-25T22:06:47.000+0000</td></tr>
</table>

<h3>Description</h3>

When doing a file.read(), Titanium SDK executes the following command in local.js:

<code><pre>xhr.overrideMimeType('text/plain; charset=x-user-defined');</pre></code>

overrideMimeType is not supported in Internet Explorer and will break the app.  to solve this, simply change the line to this:

<code><pre>if( xhr.overrideMimeType)
{
    xhr.overrideMimeType('text/plain; charset=x-user-defined');
}</pre></code>

I have modified the local copy of my SDK and verified that this does work.

Created Pull Request: <a href="https://github.com/appcelerator/titanium_mobile/pull/4460" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4460</a>

<h3>Comments</h3>

<ol>
<li>Brenton House 2014-02-12

   Are there any updates on this issue?  How can we get this bug fix pushed into a build?  Thanks!!</li>
<li>Chris Barber 2014-03-27

   Test case:
   
   <code><pre>
   var url = '<a href="http://httpbin.org/post" rel="nofollow" target="_blank">http://httpbin.org/post</a>';
   var client = Ti.Network.createHTTPClient({
       onload : function(e) {
           alert("SUCCESS");
       },
       onerror : function(e) {
           alert("FAIL");
       },
       timeout:5000
   });
   client.open('POST', url);
   client.send({files:Ti.Filesystem.getFile('textfile.txt').read()});
   </pre></code></li>
<li>Chris Barber 2014-03-27

   3_2_X_hybrid pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5544" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5544</a></li>
<li>Chris Barber 2014-03-27

   Style cleanup:
   Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5545" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5545</a>
   3_2_X_hybrid pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5546" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5546</a></li>
<li>Olga Romero 2014-05-29

   </li>
<li>Chris Barber 2014-06-06

   [~oromero] You should be able to test/close this now.</li>
<li>Olga Romero 2014-06-12

   Closing as fixed.
   Tested with:
   Appcelerator Studio, build: 3.3.0.20140611195
   Titanium SDK, build:3.3.0.v20140612101712
   Tested the above code in IE and got "SUCCESS" alert.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14611.json">JSON Source</a></p>