---
title: "[TIMOB-14630] Android: Modules: Can't package Android module in OSX 10.8"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-02-01T00:13:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, dev-invalidate, module, package, studio</td></tr>
<tr><th>Reporter</th><td>Martin Guillon</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-07-19T14:52:47.000+0000</td></tr>
<tr><th>Updated</th><td>2014-05-29T21:52:18.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
When trying to package an android module to an app project I get an error about xcode commandline tools.

Yet it works just fine when doing it using ant
!<a href="http://i.imgur.com/cZFldlD.png" rel="nofollow" target="_blank">http://i.imgur.com/cZFldlD.png</a>!

<h4>Steps to Reproduce:</h4>

1. Create an Android Module.
2. Package Android Module using ant, either from Studio or command line.

<h4>Actual Result:</h4>
Error.

<h4>Expected Result:</h4>
Android Module Packages.

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2013-10-01

   Hi Martin,
   
   <h4>What version of the Android NDK are you using?</h4>
   <h4>Have you tried installing the XCode SDK tools?</h4></li>
<li>Martin Guillon 2013-10-07

   @Ingo: i use ndk 7b.
   And as i mentioned in my ticket, it works from the command line, so obviously i have the xcode sdk tools.
   The first thing bugging me is that the eclipse logger doesnt give the actual error from the command line.
   I think the first fix would be to modify the eclipse tools to output the log from the command line.</li>
<li>Federico Casali 2013-10-15

   Not able to reproduce with:
   
   TiSDK: 3.2.0.v20131014204636
   CLI: 3.1.1 and 3.2.0
   Titanium Studio 3.1.4.201310102218
   Android NDK 7 and 8
   OSX 10.8.4
   Xcode 5
   
   Android module packaged both using Titanium Studio tool or running 'ant' from Titanium Studio console.
   Always getting a 'Build successful'
   
   </li>
<li>Martin Guillon 2013-10-16

   @Federico: actually yesterday, for the first time my module built successfully. I dont think it means that "bug" is fix. To me the first to understanding what's really happening is to have the actual build log in eclipse.</li>
<li>Ingo Muschenetz 2013-10-24

   [~farfromrefuge] Can you still reproduce the issue?</li>
<li>Martin Guillon 2013-10-25

   As i mention it built a few days ago. But without any log from the build into TIStudio i cant confirm the bug is fixed</li>
<li>Ingo Muschenetz 2013-10-25

   [~farfromrefuge] So, between when it was _not_ working, and when it was, what changed in your machine environment?</li>
<li>Martin Guillon 2013-10-25

   TiStudio changed. I am on the nightly build. That s a guess saying it is the fix though as i dont really know what went wrong during the build :s
   What i can tell you is that i didnt not change anything code related, not even the sdk version</li>
<li>Ingo Muschenetz 2013-11-05

   Our current guess is that the module build process requires gperf, which somehow was not found as part of the Studio path at the time. We are updating how we test for XCode CLI build tools in 3.2.0 which should help alert the user better to what is wrong.</li>
<li>Martin Guillon 2013-11-06

    Thanks Ingo for looking into it. That might be it. Great you got it fixed now!
    Should i create another ticket to get the full log inside TiStudio? Could really use that.
    
    Thanks</li>
<li>Ingo Muschenetz 2013-11-06

    Yes, that would be good. However, do you have a way to demonstrate that they are different in normal usage? The team believes they should be the same.</li>
<li>Martin Guillon 2013-11-06

    Oh it s easy simply build an android module from the command line and from tistudio, you ll see that you have the ant log in the command line. But you only get what i show in the screenshot when "packaging" in TiStudio.
    What you team might be talking about is when i use ant from inside titanium to build and test my module.
    Just so we are clear (i am not have been on that and i am sorry for that!) what i am talking about is the packaging option which allows you to build and package your module directly into another project or a dir.
    I assumed it was also using ant on android. Am i wrong?</li>
<li>Martin Guillon 2013-12-11

    still happening in the latest sdk!
    
    <code><pre>
    Executing build.xml...
    /Volumes/data/mguillon/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.AKYLAS/module/android/build.xml:373: The following error occurred while executing this line:
    /Volumes/data/mguillon/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.AKYLAS/module/android/build.xml:325: exec returned: 2 You may need to install the Command Line Tools package through XCode, in case you haven't done so yet.
    </pre></code></li>
<li>Ingo Muschenetz 2013-12-11

    What are the other versions of your components you have installed?</li>
<li>Martin Guillon 2013-12-11

    I am not sure what you mean by other components. 
    But i am using Titanium Studio nightly (3.3.0.201312100900)
    node-appc master (as of 11/26/2013)
    titanium CLI master (as of 11/26/2013)
    
    And the master branch of Titanium (my own but without any change on that side), as of 11/26/2013
    
    Also i should mention it works in the console.
    Once again if we had the full log it TiStudio i could give you the exact source of the problem
    
    THanks</li>
<li>Federico Casali 2013-12-11

    Cannot reproduce, Android module is packaged correctly both from Studio and from terminal.
    
    TiSDK 3.2.0.v20131210191510   
    CLI 3.2.0-beta
    Titanium Studio 3.2.0.201312101634
    
    @Martin, can you try a new 3.2 CI build?
    
    To install the latest CI build, run:
    <code><pre>
    sudo ti sdk install -b 3_2_X -d
    </pre></code>
    
    You can also install the latest CLI 3.2.0-beta with:
    <code><pre>
    sudo npm install -g titanium@3.2.0-beta
    </pre></code>
    
    Thanks</li>
<li>Martin Guillon 2014-01-10

    It s been mentioned in my comments that i use the latest CLI (even the master one).
    And yes i guess it s hard to reproduce, even for me. And that's why i say again like i have said many times that the subject of that ticket is to get the full log of the build inside eclipse!!!!
    Now what i have seen is that the log start to appear but is immediately overwritten by this (just did)
    
    <code><pre>
    Executing build.xml...
    /Volumes/data/mguillon/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.AKYLAS/module/android/build.xml:374: The following error occurred while executing this line:
    /Volumes/data/mguillon/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.AKYLAS/module/android/build.xml:326: exec returned: 2 You may need to install the Command Line Tools package through XCode, in case you haven't done so yet.
    </pre></code>
    
    And there is no way to get back to it. Without it i CANT find the reason of that error.
    
    This is with the nightly eclipse, master cli, master Ti SDK
    
    Please dont close that ticket because you cant reproduce it. Help me reproduce it by showing the log in eclipse... </li>
<li>Michael Xia 2014-01-21

    Hi Martin, you could see the full log by running the build.xml file in the project:
    
    1. Right-click on the build.xml file in your Android module project and selecting Run As > Ant Build...
    2. In the Edit Configuration dialog, switch to Properties tab and uncheck the option "Use global properties as..."
    3. Click on "Add Properties...", then specify "android.ndk" for Name and the Android NDK path for Value.
    4. Click OK and then Run.
    
    The Console view should show the build output with deeper insight on what went wrong.
    
    Hope this helps.
    </li>
<li>Martin Guillon 2014-01-22

    Michael: Thanks for the help. Actually i know that. But building with ant for testing is not the same as packaging. Obviously as i dont get the error while building for testing…
    
    Anyway that bug have been there for too long. I am dropping eclipse completely for Ti dev so i dont think i will keep answering that ticket. So you can close as unresolved if you want …
    
    Thanks</li>
<li>Ingo Muschenetz 2014-02-01

    We're going to close this particular issue based on the commentary so far, but if it reappears for anyone, please follow the steps [~mxia] outlined and we'd be happy to reopen.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14630.json">JSON Source</a></p>