---
title: "[TIMOB-14641] Blackberry: Not specifying a \"target\" throws unhelpful error in CLI"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-03-25T18:06:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Backlog</td></tr>
<tr><th>Components</th><td>BlackBerry</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Russell McMahon</td></tr>
<tr><th>Created</th><td>2013-07-24T16:17:12.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-09T07:43:04.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>problem</h4>

Executing a <code>titanium build</code> without the --target option throws an error that the 99% of developers will have no idea how to work with, seen here:

<code><pre>
/usr/local/lib/node_modules/titanium/node_modules/longjohn/dist/longjohn.js:181
        throw e;
              ^
TypeError: Cannot read property '0' of undefined
    at BlackberryNDK.self.build (/Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.1.1.GA/blackberry/cli/common/blackberryndk.js:233:62)
    at build.&lt;anonymous&gt; (/Users/tlukasavage/Library/Application Support/Titanium/mobilesdk/osx/3.1.1.GA/blackberry/cli/commands/_build.js:140:15)
    at /usr/local/lib/node_modules/titanium/lib/cli.js:116:18
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:190:13
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:116:25
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:187:17
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:491:34
    at /usr/local/lib/node_modules/titanium/lib/cli.js:112:8
    at ChildProcess.&lt;anonymous&gt; (/Users/tlukasavage/Development/alloy/test/projects/Harness/plugins/ti.alloy/hooks/alloy.js:149:6)
---------------------------------------------
    at /Users/tlukasavage/Development/alloy/test/projects/Harness/plugins/ti.alloy/hooks/alloy.js:142:11
    at /usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/async.js:14:6
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:190:13
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:94:25
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:187:17
    at /usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:459:34
    at /Users/tlukasavage/Development/alloy/test/projects/Harness/plugins/ti.alloy/hooks/alloy.js:90:9
    at exithandler (child_process.js:635:7)
</pre></code>

It appears it happens because the --target option is not explicitly set.

<h4>test case</h4>

In any Titanium app, execute the following:

<code><pre>
titanium build -p blackberry
</pre></code> 


and you will get the above error. Just as an additional note, you get the same error if you explicitly define the BB NDK path (-n) and the ip address of the simulator (-A), which should obviously indicate that the target would be "simulator".

<h4>expected</h4>

There's a few possible solutions, listed in my preferential order:

<h4>Make the default target "simulator" like with all other platforms</h4>
<h4>Do better bounds checking around the line mentioned in the exception. Specifically, the length of the <code>builder.type2variantCpu\[this.builder.target\]</code> array needs to be validated before attempting to access index zero. If the array is empty, an informative error should be thrown, not the current stack trace.</h4>

<h4>Workaround</h4>

Explicitly specify the --target in your command:

<code><pre>
titanium build -p blackberry -T simulator -A XXX.XXX.XXX.XXX
</pre></code>

<h3>Comments</h3>

<ol>
<li>Russell McMahon 2013-08-07

   <a href="https://github.com/appcelerator/titanium_mobile_blackberry/pull/151" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_blackberry/pull/151</a></li>
<li>Pedro Enrique 2013-09-20

   PR no longer valid</li>
<li>Pedro Enrique 2014-02-25

   PR: <a href="https://github.com/appcelerator/titanium_mobile_blackberry/pull/205" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_blackberry/pull/205</a></li>
<li>Lee Morris 2017-03-09

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14641.json">JSON Source</a></p>