---
title: "[TIMOB-14751] Android: Modal window is not getting closed"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-08-02T22:09:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.2</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 16, 2013 Sprint 16 API, Release 3.1.2, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_window, qe-3.1.2, qe-closed-3.1.2, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Dhirendra Jha</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-08-02T09:16:28.000+0000</td></tr>
<tr><th>Updated</th><td>2013-09-19T21:26:02.000+0000</td></tr>
</table>

<h3>Description</h3>

Note - This is a regression. Issue is not reproducible in 3.1.1.GA build.

Steps - 
1. Run the below app. 
2. Press the "Press me" button.  A new modal window is displayed.
3. Press the "close" button.

Actual Result - Does not happen anything. It seems that Close button is not tappable.

Expected Result - On Close button, model window should close.

Note - In the below code, there are two win.open() methods. Above code is working fine in 3.1.1.GA build and it fails in 3.1.2.v20130801190110 build. If we remove one win.open() method then the same code works fine in 3.1.1.GA and 3.1.2.v20130801190110 build. Please confirm the correct behavior according to new window architecture change for Android.

<code><pre>
var _window = Ti.UI.createWindow({
	backgroundColor: 'white',
});
		
var button = Ti.UI.createButton({
	title : 'Press me'
});
button.addEventListener('click', function() {
	var button2 = Ti.UI.createButton({
	title : 'close'
});
	var win = Ti.UI.createWindow({
	modal : true,
	backgroundColor : '#c96'
	});
	button2.addEventListener('click', function() {
		win.close();
	});
	win.add(button2);
	win.open();
	win.open();
});
_window.add(button);
_window.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2013-08-02

   Additional test case: 
   <code><pre>
   var win = Ti.UI.createWindow({backgroundColor: 'red'});
   var tab = Ti.UI.createTab({window: win, title: "Tab1"});
   var tabgroup = Ti.UI.createTabGroup();
   var actionbar;
   tabgroup.addTab(tab);
   
   var button = Ti.UI.createButton({title: 'list'});
   
   
   win.add(button);
   
   tabgroup.open();
   tabgroup.open();
   </pre></code>
   
   1. Run code.
   2. Should see a tabgroup, but instead it crashes.</li>
<li>Ping Wang 2013-08-02

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4531" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4531</a></li>
<li>Hieu Pham 2013-08-02

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4531" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4531</a></li>
<li>Ping Wang 2013-08-02

   3_1_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4535" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4535</a></li>
<li>Olga Romero 2013-08-06

   Tested above code and verified correct behavior with:
   Appcelerator Studio, build: 3.1.2.201308021524
   Titanium SDK, build: 3.1.2.v20130806104555
   Alloy 1.2.0-alpha6
   CLI: 3.1.2-alpha
   Devices:
   Nexus7(2) Android version 4.3
   GalaxyS3 Android version 4.0.4
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-14751.json">JSON Source</a></p>