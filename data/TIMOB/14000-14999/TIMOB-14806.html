---
title: "[TIMOB-14806] ProjectTemplate: values used as comparison to determine device form factor are wrong"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-02-13T21:25:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.2</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 23, 2013 Sprint 25, 2013 Sprint 25 Tooling, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android, Templates</td></tr>
<tr><th>Labels</th><td>qe-3.1.2, qe-closed-3.2.0, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Christian Sullivan</td></tr>
<tr><th>Created</th><td>2013-08-10T01:38:09.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-29T11:48:30.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>

In Appcelerator Studio template samples for classic projects, the values used as comparison to determine if the device is a tablet or a handheld are outdated and could lead to a wrong detection. 

<h4>Steps to reproduce</h4>
Create a new Single Window Project and open app.js. Check line:
<code><pre>
var isTablet = osname === 'ipad' || (osname === 'android' && (width &gt; 899 || height &gt; 899));
</pre></code>

A Google Galaxy Nexus device (for example) has those values:
<code><pre>
height: 1184 width:  720
</pre></code>

As a result, it is being detected as a 'tablet' while is a 'handheld' device.

<h3>Comments</h3>

<ol>
<li>Christian Sullivan 2013-10-11

   PRs to [MASTER]
   
   <a href="https://github.com/appcelerator-developer-relations/Template.Tabbed/pull/6" rel="nofollow" target="_blank">https://github.com/appcelerator-developer-relations/Template.Tabbed/pull/6</a>
   <a href="https://github.com/appcelerator-developer-relations/Template.SingleWindow/pull/3" rel="nofollow" target="_blank">https://github.com/appcelerator-developer-relations/Template.SingleWindow/pull/3</a>
   <a href="https://github.com/appcelerator-developer-relations/Template.MasterDetail/pull/3" rel="nofollow" target="_blank">https://github.com/appcelerator-developer-relations/Template.MasterDetail/pull/3</a>
   <a href="https://github.com/appcelerator-developer-relations/Sample.Todo/pull/7" rel="nofollow" target="_blank">https://github.com/appcelerator-developer-relations/Sample.Todo/pull/7</a>
   <a href="https://github.com/appcelerator-developer-relations/Sample.Mapping/pull/7" rel="nofollow" target="_blank">https://github.com/appcelerator-developer-relations/Sample.Mapping/pull/7</a></li>
<li>Dhirendra Jha 2013-10-23

   This issue is still reproducible. Still shows the below line in app.js file. Hence reopening this issue.
   
   <code><pre>
   var isTablet = osname === 'ipad' || (osname === 'android' && (width &gt; 899 || height &gt; 899));
   </pre></code>
   
   Test Environment - 
   Appc Studio - 3.2.0.201310230601
   SDK - 3.2.0.v20131022171645
   acs -1.0.7
   alloy - 1.2.2
   titanium - 3.2.0
   titanium-code-processor - 1.0.3
   Xcode - 5.0.1
   OS - Mac OS X Mavericks (10.9)</li>
<li>Michael Xia 2013-11-15

   The PR is merged, and the new template is updated in the Studio ruble.
   </li>
<li>Samuel Dowse 2013-11-18

   Verified fixed on:
   Mac OSX 10.9 Mavericks
   Titanium Studio, build: 3.2.0.201311160316
   Titanium SDK, build: 3.2.0.v20131118142443
   CLI: 3.2.0-alpha
   Alloy: 1.3.0
   
   app.js by default shows:
   var isTablet = osname === 'ipad' || (osname === 'android' && (width > 720) && (height > 600));
   
   Closing.</li>
<li>Lokesh Choudhary 2013-11-18

   I don't get it. A Samsung Galaxy S4 has height:1920 & width:1080 which according to the fix will be considered as a tablet whereas its a handheld device.
   Reopening.
   
   Environment:
   Appcel Studio : 3.2.0.201311161724
   Ti SDK : 3.2.0.v20131117001643
   Mac OSX : 10.8.5
   Alloy : 1.3.0
   CLI - 3.2.0-alpha
   Device: Samsung Galaxy S4 running android 4.2.2</li>
<li>Christian Sullivan 2013-11-20

   [~mxia] [~ingo] So what is the agreed parameters of a tablet? The lager devices may be handhelds, but they are considered Phablets which falls in between phone and tablet.  </li>
<li>Ingo Muschenetz 2013-12-03

   Use the code here:
   
   <a href="https://github.com/appcelerator/alloy/blob/7ca0be6f142046f328b6b911b28fa3117501e14d/Alloy/lib/alloy.js#L449" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/blob/7ca0be6f142046f328b6b911b28fa3117501e14d/Alloy/lib/alloy.js#L449</a>
   
   Which is basically the same as here:
   
   <a href="http://stackoverflow.com/questions/16784101/how-to-find-tablet-or-phone-in-android-programmatically" rel="nofollow" target="_blank">http://stackoverflow.com/questions/16784101/how-to-find-tablet-or-phone-in-android-programmatically</a></li>
<li>Christian Sullivan 2013-12-04

   PRs: 
   <a href="https://github.com/appcelerator-developer-relations/Template.MasterDetail/pull/4" rel="nofollow" target="_blank">https://github.com/appcelerator-developer-relations/Template.MasterDetail/pull/4</a>
   <a href="https://github.com/appcelerator-developer-relations/Template.Tabbed/pull/8" rel="nofollow" target="_blank">https://github.com/appcelerator-developer-relations/Template.Tabbed/pull/8</a>
   <a href="https://github.com/appcelerator-developer-relations/Template.SingleWindow/pull/4" rel="nofollow" target="_blank">https://github.com/appcelerator-developer-relations/Template.SingleWindow/pull/4</a></li>
<li>Samuel Dowse 2013-12-17

   Verified fixed on:
   Mac OSX 10.9 Mavericks
   Titanium Studio, build: 3.2.0.201312142258
   Titanium SDK, build: 3.2.0.v20131216064236
   CLI: 3.2.0-cr3
   Alloy: 1.3.0-cr
   Android Phone: Galaxy S4 (4.2.2)
   Screen Resolution: 1920x1080
   
   Used "Master Detail" classic application.
   Used the following code 
   <code><pre>
     function checkTablet() {
       var platform = Ti.Platform.osname;
   
       switch (platform) {
         case 'ipad':
           return true;
         case 'android':
           var psc = Ti.Platform.Android.physicalSizeCategory;
           var tiAndroid = Ti.Platform.Android;
           return psc === tiAndroid.PHYSICAL_SIZE_CATEGORY_LARGE || psc === tiAndroid.PHYSICAL_SIZE_CATEGORY_XLARGE;
         default:
           return Math.min(
             Ti.Platform.displayCaps.platformHeight,
             Ti.Platform.displayCaps.platformWidth
           ) &gt;= 400
       }
     }
   
     var isTablet = checkTablet();
     console.log(isTablet);
   </pre></code>
   Code verified that the device was infact a phone despite the large screen resolution.
   Closing</li>
</ol>


<p><a href="/TIMOB/TIMOB-14806.json">JSON Source</a></p>