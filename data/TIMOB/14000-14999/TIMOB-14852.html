---
title: "[TIMOB-14852] Android: Image View does not render all the images captured using device Camera"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2013-10-04T18:04:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.4, Release 3.1.0, Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 20, 2013 Sprint 20 API</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, camera, mobilesdk, titanium</td></tr>
<tr><th>Reporter</th><td>Ashish Nigam</td></tr>
<tr><th>Assignee</th><td>Sunila</td></tr>
<tr><th>Created</th><td>2013-08-13T13:56:01.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T22:54:15.000+0000</td></tr>
</table>

<h3>Description</h3>

Trying to render images on imageView captured using Camera API, But imageView done not render images after 2 or 3 if images are not resized using imageAsResized method.

Steps to reproduce:

1: Use the attached app.js or below sample code.
2: Run it using new sample project.
3: Test the application on device (Preferred is Samsung S3 or S2 with android 4.1.2).
4: If images are not resized then after 2 or 3 images, image view won't display them.

**sample code**
<code><pre>
var mainWin = Ti.UI.createWindow({
	backgroundColor:"#fff"
});
var button = Ti.UI.createButton({
	title : "Take",
	width : "60dp",
	height : "45dp",
	top : "2dp",
	left : "2dp"
});

var button1 = Ti.UI.createButton({
	title : "Add",
	width : "60dp",
	height : "45dp",
	top : "2dp",
	right : "2dp"
});

var scrollView = Ti.UI.createScrollView({
	layout:"horizontal",
	top:"50dp"
})

var successCallBack = function(e) {
		if (e.mediaType != Ti.Media.MEDIA_TYPE_PHOTO) {
			Ti.App.fireEvent('hide_indicator');
			return false;
		}
		
		var image = e.media;//.imageAsResized(120,120); //400 - 17 images added and if only e.media 2 images..
		var filename = (new Date().getTime()) + ".jpg";
		Ti.API.info("JAVA : "+ filename + " " + e.media.getLength());
		
		var newImageView = Ti.UI.createImageView({
			image : image,
			width : "60dp",
			height : "60dp",
			left : "5dp",
			top: "5dp"
		});
		scrollView.add(newImageView);
		var bgImage = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory, filename);
		bgImage.write(image);
		//utils.resizeKeepAspectRatioNewWidth(bgImage.getNativePath(), image.width, image.height, Config.imageMaxWidth);
	};


button.addEventListener("click", function(e) {
	Ti.Media.showCamera({
		success : successCallBack,
		mediaTypes : [Ti.Media.MEDIA_TYPE_PHOTO]
	});
});

button1.addEventListener("click", function(e) {
	Ti.Media.openPhotoGallery({
		success : successCallBack,
		mediaTypes : [Ti.Media.MEDIA_TYPE_PHOTO]
	});
});

mainWin.add(scrollView);
mainWin.add(button);
mainWin.add(button1);
mainWin.open();

</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-14852_41567/app.js">app.js</td></td><td>2013-08-13T13:56:02.000+0000</td><td>1565</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Naga harish M 2013-08-14

   Hi,
   Even if I use *e.media.imageAsResized* also facing issue. Getting run time issue (Java error). I tried with different modules but no use.
   Thank you. </li>
<li>Josh Magalich 2013-08-28

   I get the same error after I add 3 or 4 image thumbnails (from the photo gallery) to a view.  Is there any work around for this issue?  I see the due date got bumped further.  Thank you.</li>
<li>Naga harish M 2013-08-28

   Hi [~josh.magalich@crompco.com],
   I got few suggestion for this issue from Appc saying save the file first and then try to resize or thumbnail from file blob. Even in that case also I am getting java runtime error.
   
   Thank you.</li>
<li>Sunila 2013-08-29

   Is this happening for images above a specific size? Also what is the java error you are getting? Is hardware acceleration turned on in the device?
   There is some limitation in Android showing large image in ImageView with HW acceleration enabled.
   <a href="http://stackoverflow.com/questions/7428996/hw-accelerated-activity-how-to-get-opengl-texture-size-limit" rel="nofollow" target="_blank">http://stackoverflow.com/questions/7428996/hw-accelerated-activity-how-to-get-opengl-texture-size-limit</a>
   
   </li>
<li>Josh Magalich 2013-08-29

   The runtime error I get is "Uncaught Error: Java exception occurred"  Then it tells me my source which is "var blob = e.media.imageAsResized(640, 480);"
   
   As for the image size/resolution, if I add 4-5 images of 3264x2448 (2.4 mb each) or like 20 images of of 640x480 (138 Kb each), it throws the error.
   
   I do not have hardware acceleration on.  I am testing this on my Samsung Galaxy S3.  Thanks.
   </li>
<li>Naga harish M 2013-08-29

   Hi [~sunila],
   
   Yes [~josh.magalich@crompco.com],Same result for me also. I also tested in S3 and HTC low/mid end model.
   
   I thought it working with small images (Screenshot images). Because I did not tried with 10+ images... May be it seems that also failing after 20 images.
   
   Only we are facing this problem in Android.
   
   Thank you</li>
<li>Sunila 2013-09-02

   I am able to reproduce the problem, it looks like out of memory error. Since Android allocate fixed size of memory to each application, I don't think there is anything can be done in the code other than scaling the image to smaller size.</li>
<li>Naga harish M 2013-09-03

   Hi [~sunila],
   
   Yes It is memory error. But, when I run with Ti SDK 3.0.2 GA version I can upload few more(6-8) images. But, when I run in 3.1.1 it is showing Java error in 3rd images itself. Can you please check same code in 3.0.2.
   
   Thank you</li>
<li>Ashish Nigam 2013-09-04

   I can add multiple images if i resize the captured image and use it in imageView.
   Number of images i can add depends upon resized image size.
   AvailableMemory API does not seems to be reliable here, so better alternative should be built in SDK to capture such issue and confirm that, by checking availableMemory.</li>
<li>Naga harish M 2013-09-10

    Hi [~sunila],
    
    Have you tested same code in Ti SDK 3.0.2 GA version. It works fine with that version. when I run with 3.1.1 only it is showing Java error in two or third image.
    
    cc [~anigam]</li>
<li>Ping Wang 2013-10-04

    </li>
<li>Lee Morris 2017-03-22

    Closing ticket as "Won't Fix".</li>
</ol>


<p><a href="/TIMOB/TIMOB-14852.json">JSON Source</a></p>