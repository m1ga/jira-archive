---
title: "[TIMOB-14878] iOS: CFBundleShortVersionString  is same as CFBundle version"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-05-23T20:57:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.2</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 10, 2014 Sprint 10 Tooling, Release 3.3.0</td></tr>
<tr><th>Components</th><td>CLI, iOS</td></tr>
<tr><th>Labels</th><td>module_build, qe-3.1.2, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Anshu Mittal</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-08-14T06:50:43.000+0000</td></tr>
<tr><th>Updated</th><td>2014-05-23T20:57:20.000+0000</td></tr>
</table>

<h3>Description</h3>

CFBundleShortVersionString is same as CFBundle version. 
This is not regression since the sisue occurs in 3.1.1 GA as well.

Steps to reproduce:
1. Create an app using the code below and build it using studio.
2. On your computer, navigate to /build/iphone/Info.plist for your project.
3. Open the Info.plist file with a text editor

Expected result

After step 3: The following values should be in the Info.plist

<code><pre>
&lt;key&gt;CFBundleVersion&lt;/key&gt;
&lt;string&gt;2.1.3.4&lt;/string&gt;
&lt;key&gt;CFBundleShortVersionString&lt;/key&gt;
&lt;string&gt;2.1.3&lt;/string&gt; 
</pre></code>

Actual:
The values in info.plist are as follows:

<code><pre>
&lt;key&gt;CFBundleVersion&lt;/key&gt;
&lt;string&gt;2.1.3.1376461852083&lt;/string&gt;
&lt;key&gt;CFBundleShortVersionString&lt;/key&gt;
&lt;string&gt;2.1.3.1376461852083&lt;/string&gt;
</pre></code>

<h3>Comments</h3>

<ol>
<li>Eric Merriman  2013-08-14

   We have two things to consider here:
   <h4>Non-production builds: Development builds for iOS must have the appended timestamp in order for the new builds to trigger an update of the app with iTunes and with subsequent device sync.</h4>
   <h4>Production builds: We had a community ticket marked as invalid since it was using a 4-segment version and Apple spec is for 3 segment.</h4></li>
<li>Chris Barber 2013-08-14

   Eric is correct. In the example "2.1.3.1376461852083", the "1376461852083" part only exists for device builds. It is generated. If your tiapp.xml version is 1.2.3.4, the "4" is stripped and replaced with a random number for device builds and for all other builds the "4" should just be stripped to meet Apple's requirements.</li>
<li>Chris Barber 2013-08-14

   Do we know if iTunes relies on the CFBundleVersion or CFBundleShortVersionString when doing the install to device? If it relies on the CFBundleShortVersionString, then I say we resolve this as won't fix.</li>
<li>Ingo Muschenetz 2013-10-08

   Where is the information on the timestamp being required? Both properties appear to require 3 segments according to <a href="https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/20001431-102364" rel="nofollow" target="_blank">https://developer.apple.com/library/ios/documentation/General/Reference/InfoPlistKeyReference/Articles/CoreFoundationKeys.html#//apple_ref/doc/uid/20001431-102364</a></li>
<li>Chris Barber 2013-10-08

   [~ingo] As stated in the above comments, the timestamp is required for iTunes to detect a newer version and initiate the sync. Distribution builds force the versions to be in the format X.Y.Z.</li>
<li>Ingo Muschenetz 2013-10-08

   [~cbarber] that's fine--do we have a reference doc on it?</li>
<li>Chris Barber 2013-10-08

   [~ingo] No idea. [~bhatfield]?</li>
<li>Ingo Muschenetz 2014-03-12

   We don't have enough bandwidth in 3.2.3, so saving this for 3.3.0.</li>
<li>Ingo Muschenetz 2014-04-21

   Suggestion is to not change the version in the .plist file.</li>
<li>Chris Barber 2014-05-16

    Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5691" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5691</a></li>
<li>Tim Poulsen 2014-05-16

    Works as expected. With app version set to four-part number, CFBundleVersion retains all four parts, CFBundleShortVersionString has just the first three.</li>
<li>Samuel Dowse 2014-05-16

    Verified fixed on: 
    Mac OSX 10.9.3
    Appcelerator Studio, build: 3.3.0.201405121247
    Titanium SDK, build: 3.3.0.v20140516120912
    Titanium CLI, build: 3.3.0-dev 
    Alloy: 1.4.0-alpha
    
    Changed the version value in tiapp.xml to 1.0.7.8
    info.plist displays:
    <code><pre>
    &lt;key&gt;CFBundleVersion&lt;/key&gt;
        &lt;string&gt;1.0.7.8&lt;/string&gt;
    &lt;key&gt;CFBundleShortVersionString&lt;/key&gt;
        &lt;string&gt;1.0.7&lt;/string&gt;
    </pre></code>
    Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14878.json">JSON Source</a></p>