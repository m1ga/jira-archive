---
title: "[TIMOB-14902] Android: ListView itemclick event broken in 3.1.2.GA"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2013-08-17T01:34:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.2</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 17, 2013 Sprint 17 API, Release 3.1.3, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>3.1.2, android, listview, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Mark Mokryn</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2013-08-16T21:54:40.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:43:35.000+0000</td></tr>
</table>

<h3>Description</h3>

Just try to click the ListView in the label area. In 3.1.2.GA it rarely works, on 3.1.1.GA clicks reliably. This bug seems to be dependent upon the item template - I have listviews in my app that are totally unclickable. Sorry to vent about this - Android has several ListView issues, I can work around most of them, but this one is a showstopper. I can't use 3.1.2 until fixed.

index.xml:
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container"&gt;
		&lt;ListView id="lv" top="0dp" defaultItemTemplate="temp1" onItemclick="lvClicked"&gt;
			&lt;Templates&gt;
				&lt;ItemTemplate name="temp1"&gt;
						&lt;Label bindId="testMsg"/&gt;
				&lt;/ItemTemplate&gt;
			&lt;/Templates&gt;			
			&lt;ListSection id="ls"/&gt;
		&lt;/ListView&gt;		
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

index.js:
<code><pre>
function lvClicked() {
	alert('clicked');
}
var data = [];
for (var i=0; i &lt; 10; i++) {
	data.push({testMsg: {text: 'try to click on the label area - it will work with 3.1.1 but not on 3.1.2 :('}});
}

$.ls.setItems(data);
$.index.open();
</pre></code>


<h3>Comments</h3>

<ol>
<li>Mark Mokryn 2013-08-16

   </li>
<li>Eric Merriman  2013-08-16

   Linking to a TIMOB ticket. TIMOB-14901</li>
<li>Ping Wang 2013-08-16

   Test case for classic Titanium project:
   <code><pre>
   var temp1 = {
       childTemplates: [ // Add view subcomponents to the ListItem
           {
               // Display a Label
               type: 'Ti.UI.Label',
               bindId: 'testMsg'
           }
       ]
   };
   
   var listView = Titanium.UI.createListView({
   	templates: {'temp1': temp1},
   	defaultItemTemplate: 'temp1'
   });
   
   // Simplest list data items that can be displayed in a list view
   var data = [];
   for (var i=0; i&lt;10; i++) {
   	data.push({testMsg: {text: 'try to click on the label area - it will work with 3.1.1 but not on 3.1.2 :('}});
   }
   
   // Add the list data items to a section
   var ls = Titanium.UI.createListSection();
   ls.setItems(data);
    
   // Add the list section to a list view
   listView.sections = [ls];
   
   listView.addEventListener('itemclick', function(e){
       alert(
           "ItemId: " + e.itemId + "\n" +
           "BindId: " + e.bindId + "\n" +
           "Section Index: " + e.sectionIndex + ", Item Index: " + e.itemIndex
       );    
   });
   
   var win = Ti.UI.createWindow({
   	backgroundColor: "white"
   });
   win.add(listView);
   win.open();
   </pre></code></li>
<li>Ping Wang 2013-08-16

   This regression is caused by [PR#4241](<a href="https://github.com/appcelerator/titanium_mobile/pull/4241)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4241).</a></li>
<li>Mark Mokryn 2013-08-17

   Verified as fixed in my app by <a href="https://github.com/appcelerator/titanium_mobile/pull/4580" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4580</a>
   Thanks for the quick fix!</li>
<li>Eric Merriman  2013-08-22

   Closing as duplicate of linked ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14902.json">JSON Source</a></p>