{
	"id": "118720",
	"key": "TIMOB-14914",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "15646",
				"description": "2013 Sprint 18",
				"name": "2013 Sprint 18",
				"archived": true,
				"released": true,
				"releaseDate": "2013-09-06"
			},
			{
				"id": "15690",
				"description": "2013 Sprint 18 API",
				"name": "2013 Sprint 18 API",
				"archived": true,
				"released": true,
				"releaseDate": "2013-09-06"
			},
			{
				"id": "15593",
				"description": "Release 3.1.3",
				"name": "Release 3.1.3",
				"archived": true,
				"released": true,
				"releaseDate": "2013-09-18"
			},
			{
				"id": "14982",
				"description": "Release 3.2.0",
				"name": "Release 3.2.0",
				"archived": false,
				"released": true,
				"releaseDate": "2013-12-19"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2013-08-28T22:12:45.000+0000",
		"created": "2013-08-18T21:50:50.000+0000",
		"priority": {
			"name": "High",
			"id": "2"
		},
		"labels": [
			"3.1.2",
			"actionbar",
			"android",
			"qe-closed-3.1.3",
			"qe-testadded",
			"regression",
			"triage"
		],
		"versions": [],
		"issuelinks": [
			{
				"id": "31454",
				"type": {
					"id": "10002",
					"name": "Duplicate",
					"inward": "is duplicated by",
					"outward": "duplicates"
				},
				"inwardIssue": {
					"id": "118866",
					"key": "AC-2368",
					"fields": {
						"summary": "Android: ActionBar not ready at window open event on API 18 (Android 4.3)",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "31256",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"inwardIssue": {
					"id": "118866",
					"key": "AC-2368",
					"fields": {
						"summary": "Android: ActionBar not ready at window open event on API 18 (Android 4.3)",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "pwang",
			"key": "pwang",
			"displayName": "Ping Wang",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"updated": "2013-09-04T06:36:10.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10202",
				"name": "Android",
				"description": "Android Platform"
			}
		],
		"description": "*Problem*\r\nSee attached image - a blue line runs across the action bar, and if you look closely at the logo, you can see that above it is the original Alloy icon, which refuses to go away.\r\n\r\n*Note*\r\nThis behavior seems to be device dependent - on some devices it happens more than on others.\r\n\r\n*Steps to reproduce*\r\nProject is attached - click on the label in the first window to open the second window. On my device the bug happens about one in three tries - just keep closing the second window, and reopen until it occurs. May reproduce differently on different devices, based on what I saw over the last two days, but this never occurred with earlier SDKs.",
		"attachment": [
			{
				"id": "41704",
				"filename": "actionbarbug.zip",
				"author": {
					"name": "mokesmokes",
					"key": "mokesmokes",
					"displayName": "Mark Mokryn",
					"active": true,
					"timeZone": "Asia/Jerusalem"
				},
				"created": "2013-08-18T21:58:37.000+0000",
				"size": 6241869,
				"mimeType": "application/zip"
			},
			{
				"id": "41703",
				"filename": "Screenshot_2013-08-19-00-24-55.png",
				"author": {
					"name": "mokesmokes",
					"key": "mokesmokes",
					"displayName": "Mark Mokryn",
					"active": true,
					"timeZone": "Asia/Jerusalem"
				},
				"created": "2013-08-18T21:50:50.000+0000",
				"size": 21789,
				"mimeType": "image/png"
			}
		],
		"flagged": false,
		"summary": "Android: SDK 3.1.2.GA breaks ActionBar",
		"creator": {
			"name": "mokesmokes",
			"key": "mokesmokes",
			"displayName": "Mark Mokryn",
			"active": true,
			"timeZone": "Asia/Jerusalem"
		},
		"subtasks": [],
		"reporter": {
			"name": "mokesmokes",
			"key": "mokesmokes",
			"displayName": "Mark Mokryn",
			"active": true,
			"timeZone": "Asia/Jerusalem"
		},
		"environment": "SDK 3.1.2.GA, Nexus S, Android 4.1.2",
		"comment": {
			"comments": [
				{
					"id": "267176",
					"author": {
						"name": "ben.bahrenburg@gmail.com",
						"key": "ben.bahrenburg@gmail.com",
						"displayName": "Ben Bahrenburg",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Also happens on none Alloy projects.  I am experiencing the same behavior on the S3 and Nexus 4.",
					"updateAuthor": {
						"name": "ben.bahrenburg@gmail.com",
						"key": "ben.bahrenburg@gmail.com",
						"displayName": "Ben Bahrenburg",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2013-08-19T18:54:09.000+0000",
					"updated": "2013-08-19T18:54:09.000+0000"
				},
				{
					"id": "267563",
					"author": {
						"name": "pwang",
						"key": "pwang",
						"displayName": "Ping Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Test case:\r\n{code}\r\nfunction homeIconClicked() {\r\n\talert('clicked');\r\n}\r\n\r\nvar win = Ti.UI.createWindow({\r\n\tbackgroundColor: 'yellow',\r\n\tnavBarHidden: false\r\n});\r\n\r\nwin.addEventListener('focus', function(){\r\n\tTi.API.info(\"*************************** win focus\");\r\n});\r\n\r\nwin.addEventListener('blur', function(){\r\n\tTi.API.info(\"*************************** win blur\");\r\n});\r\n\r\nwin.addEventListener('open', function(){\r\n\tTi.API.info(\"*************************** win open\");\r\n        var activity = win.getActivity();\r\n\tif (!activity){\r\n\t\t\talert('no activity for this window');\r\n\t\t\treturn;\r\n\t}\r\n\tvar actionBar = activity.actionBar;\r\n\tif (actionBar){\r\n\t\t\tactionBar.backgroundImage = 'blackbar.png';\r\n\t\t\tactionBar.logo = 'kitten.jpg';\r\n\t\t\tactionBar.title = 'Window 1';\r\n\t\t\tactionBar.displayHomeAsUp = true;\r\n\t\t\tactionBar.onHomeIconItemSelected = homeIconClicked;\r\n\t} else {\r\n\t\t\talert('no action bar');\r\n\t}\r\n});\r\n\r\nwin.addEventListener('click', function(){\r\n\t\r\n\tvar win2 = Ti.UI.createWindow({\r\n\t\tbackgroundColor : 'blue',\r\n\t\tnavBarHidden : false\r\n\t});\r\n\r\n\twin2.addEventListener('focus', function(){\r\n\t\tTi.API.info(\"*************************** win2 focus\");\r\n\t});\r\n\r\n\twin2.addEventListener('blur', function(){\r\n\t\tTi.API.info(\"*************************** win2 blur\");\r\n\t});\r\n\r\n\twin2.addEventListener('open', function() {\r\n\t\tTi.API.info(\"*************************** win2 open\");\r\n                var activity = win2.getActivity();\r\n\t\tif (!activity) {\r\n\t\t\talert('no activity for this window');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar actionBar = activity.actionBar;\r\n\t\tif (actionBar) {\r\n\t\t\tactionBar.backgroundImage = 'blackbar.png';\r\n\t\t\tactionBar.logo = 'kitten.jpg';\r\n\t\t\tactionBar.title = 'Window 2';\r\n\t\t\tactionBar.displayHomeAsUp = true;\r\n\t\t\tactionBar.onHomeIconItemSelected = homeIconClicked;\r\n\t\t} else {\r\n\t\t\talert('no action bar');\r\n\t\t}\r\n\t}); \r\n\t\r\n\twin2.open();\r\n})\r\n\r\nwin.open();\r\n{code}",
					"updateAuthor": {
						"name": "pwang",
						"key": "pwang",
						"displayName": "Ping Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2013-08-22T00:06:45.000+0000",
					"updated": "2013-08-28T20:30:37.000+0000"
				},
				{
					"id": "267692",
					"author": {
						"name": "pwang",
						"key": "pwang",
						"displayName": "Ping Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "PR: https://github.com/appcelerator/titanium_mobile/pull/4598\r\nFor FR:\r\n1. Run the above test case on a few different devices. Check the log should see the \"open\" and \"focus\" events are fired in the correct order.\r\n2. Click the yellow window. Should see the blue window opens and the action bar shows correctly.\r\n3. Click the BACK button to close the blue window.\r\n4. Repeat step 2-3 several times to make sure the action bar always shows correctly.\r\n5. Run KS as a sanity check.\r\n6. Run Anvil. Should be 370 passed / 36 failed.\r\n7. Please also test TC-2796. It seems like a duplicate.",
					"updateAuthor": {
						"name": "pwang",
						"key": "pwang",
						"displayName": "Ping Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2013-08-22T20:55:57.000+0000",
					"updated": "2013-08-22T21:51:39.000+0000"
				},
				{
					"id": "267708",
					"author": {
						"name": "mokesmokes",
						"key": "mokesmokes",
						"displayName": "Mark Mokryn",
						"active": true,
						"timeZone": "Asia/Jerusalem"
					},
					"updateAuthor": {
						"name": "mokesmokes",
						"key": "mokesmokes",
						"displayName": "Mark Mokryn",
						"active": true,
						"timeZone": "Asia/Jerusalem"
					},
					"created": "2013-08-22T21:34:51.000+0000",
					"updated": "2013-08-22T21:34:51.000+0000"
				},
				{
					"id": "268037",
					"author": {
						"name": "mokesmokes",
						"key": "mokesmokes",
						"displayName": "Mark Mokryn",
						"active": true,
						"timeZone": "Asia/Jerusalem"
					},
					"updateAuthor": {
						"name": "mokesmokes",
						"key": "mokesmokes",
						"displayName": "Mark Mokryn",
						"active": true,
						"timeZone": "Asia/Jerusalem"
					},
					"created": "2013-08-25T10:35:20.000+0000",
					"updated": "2013-08-25T10:35:20.000+0000"
				},
				{
					"id": "268734",
					"author": {
						"name": "pwang",
						"key": "pwang",
						"displayName": "Ping Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "3_1_X PR: https://github.com/appcelerator/titanium_mobile/pull/4621",
					"updateAuthor": {
						"name": "pwang",
						"key": "pwang",
						"displayName": "Ping Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2013-08-28T21:42:56.000+0000",
					"updated": "2013-08-28T21:42:56.000+0000"
				},
				{
					"id": "268814",
					"author": {
						"name": "pmishra",
						"key": "pmishra",
						"displayName": "Paras Mishra",
						"active": true,
						"timeZone": "Asia/Kolkata"
					},
					"body": "I was able to reproduce the issue on android 4.1.2 Device and 4.0.4 Device with 3.1.2.GA sdk. \nActionBar is not getting broken with the 3.1.3 SDK build. How ever I could not test on 3.2.0 sdk build as I am not able to build the project with 3.2.0 sdk build. Bug is logged as TIMOB-14893 regarding build error.\n\nVerified fixed on:\nDevice : Google Nexus 7,  Android Version: 4.1,\nDevice : Google Nexus 3,  Android Version: 4.0.4,\nSDK: 3.1.3.v20130828171413\nCLI version : 3.1.2\nOS : MAC OSX 10.8.4\nAlloy : 1.2.1\nAppcelerator Studio, build: 3.1.3.201308252005\nXCode : 5.0",
					"updateAuthor": {
						"name": "pmishra",
						"key": "pmishra",
						"displayName": "Paras Mishra",
						"active": true,
						"timeZone": "Asia/Kolkata"
					},
					"created": "2013-08-29T10:54:30.000+0000",
					"updated": "2013-08-29T10:54:30.000+0000"
				},
				{
					"id": "268972",
					"author": {
						"name": "lokeshchdhry",
						"key": "lokeshchdhry",
						"displayName": "Lokesh Choudhary",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Verified the fix & the action bar no longer breaks.\r\nThus closing.\r\n\r\nEnvironment:\r\nAppcel Studio : 3.1.3.201308252005\r\nTi SDK : 3.1.3.v20130828171413\r\nMac OSX : 10.8.4\r\nAndroid Devices : 4.0.4 ,4.1.2, 4.3",
					"updateAuthor": {
						"name": "lokeshchdhry",
						"key": "lokeshchdhry",
						"displayName": "Lokesh Choudhary",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2013-08-29T22:55:08.000+0000",
					"updated": "2013-08-29T22:55:08.000+0000"
				}
			],
			"maxResults": 9,
			"total": 9,
			"startAt": 0
		}
	}
}