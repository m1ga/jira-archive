---
title: "[TIMOB-14935] Android: Application restarts on 'orientationChange' when applied holo theme on Modal windows"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-08-26T22:09:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 19, 2013 Sprint 19 API</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, holo_theme, orientationChange, triage</td></tr>
<tr><th>Reporter</th><td>Meenakshi Pathak</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2013-08-22T10:55:36.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-28T22:52:42.000+0000</td></tr>
</table>

<h3>Description</h3>

Application restarts/crashes when we change orientation(either <code>portrait</code> to <code>landscape</code> or <code>landscape</code> to <code>portrait</code>) when applied holo theme to the modal windows.
Here is the test case:

1. copy the code in <code>app.js</code>:
<code><pre>
var w = Ti.UI.createWindow({
     backgroundColor : '#cecece',
     title : 'added by click from label1',
     layout : 'vertical'
}),
msg = 'The appointment that you have selected differs from the service date and requires buyer approval. Would you still like to set this appointment?';

var button = Ti.UI.createButton({
  title:    'Click to Open modal'
});
button.addEventListener('click', function() {
    var wm = Ti.UI.createWindow({
        modal : true,
        /*transition : true,*/
        navBarHidden : true,
        tabBarHidden : true,
         backgroundColor : 'red',
         title : 'Modal window',
         layout : 'vertical'
    });
    wm.open();
    var b = Ti.UI.createButton({
        title:'Click to open alert'
    });
    wm.add(b);
    b.addEventListener('click',function(){
        var d = Titanium.UI.createAlertDialog({
            title : 'Pending Appointment',
            message : msg,
            buttonNames : ['Yes', 'No'],
            cancel : 1
        });
        d.show();
    });
});
w.add(button);

var button2 = Ti.UI.createButton({
  title:    'Click to Open regular window'
});
button2.addEventListener('click', function() {
    var wm = Ti.UI.createWindow({
        /*modal : true,*/
        transition : true,
        navBarHidden : true,
        tabBarHidden : true,
         backgroundColor : 'blue',
         title : 'NOT Modal window',
         layout : 'vertical'
    });
    wm.open();
    var b = Ti.UI.createButton({
        title:'Click to open alert'
    });
    wm.add(b);
    b.addEventListener('click',function(){
        var d = Titanium.UI.createAlertDialog({
            title : 'Pending Appointment',
            message : msg,
            buttonNames : ['Yes', 'No'],
            cancel : 1
        });
        d.show();
    });
});
w.add(button2);

w.open();
</pre></code>

2. Modify the tiapp.xml for <android></android>
<code><pre>

&lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
  &lt;tool-api-level&gt;14&lt;/tool-api-level&gt;
	&lt;manifest&gt;
	&lt;uses-sdk android:minSdkVersion="8" android:targetSdkVersion="14"/&gt;
        &lt;application&gt;
        	&lt;activity 
                android:name="org.appcelerator.titanium.TiModalActivity" 
                android:configChanges="keyboardHidden|orientation"
                android:theme="@android:style/Theme.Holo" /&gt;
        &lt;/application&gt;
	&lt;/manifest&gt;
&lt;/android&gt;
</pre></code>

3. Tested with placing <code>themes.xml</code> under <code>platform/android/res/values</code> and found the same issue.
themes.xml
<code><pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;style name="LightTheme" parent="@android:style/Theme.Holo"&gt;
    &lt;/style&gt;
&lt;/resources&gt;
</pre></code>

Note : In <code>app.js</code>, two different windows showing two different behaviors in 'orientationChange'. Normal window works fine with holo theme.


<h3>Comments</h3>

<ol>
<li>Guto Dasilva 2013-08-22

   if you add orientationModes to the creation of the windows, then normal windows also crash.</li>
<li>Ping Wang 2013-08-26

   Duplicate of TIMOB-10863.
   Please remove <code><pre>android:configChanges="keyboardHidden|orientation"</pre></code> from tiapp.xml and then the app will work fine. Because for API 13+, by default, Titanium will set <code><pre>android:configChanges="keyboardHidden|orientation|screenSize"</pre></code> in the tiapp.xml to avoid restarting the app when orientation changes. But in the above test case, this setting is overwritten and that's why the app restarts.
   Resolve the ticket as Invalid.</li>
<li>Lee Morris 2017-03-28

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-14935.json">JSON Source</a></p>