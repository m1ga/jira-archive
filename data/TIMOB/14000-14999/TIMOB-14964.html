---
title: "[TIMOB-14964] iOS: SplitWindow with NavigationGroup does not layout properly after Windows refactor"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-08-28T20:18:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 18, 2013 Sprint 18 API, Release 3.1.3, Release 3.2.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Sabil Rahim</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-08-27T18:01:50.000+0000</td></tr>
<tr><th>Updated</th><td>2013-08-28T22:06:37.000+0000</td></tr>
</table>

<h3>Description</h3>

This bug only occurs on iOS 6 SDK.(Can be reproduced on Simulator also.)

<h4>Steps to Reproduce</h4>

1. Copy the following code into app.js
<code><pre>
SplitViewNav = {};

// WINDOWS
SplitViewNav.masterWindow = Ti.UI.createWindow({title:'Master',backgroundColor:'red'});
SplitViewNav.detailWindow = Ti.UI.createWindow({title:'Detail',backgroundColor:'#336699'});

// MASTER NAV GROUP
SplitViewNav.masterNav = Ti.UI.iPhone.createNavigationGroup({
	window:SplitViewNav.masterWindow
});

// DETAIL NAV GROUP
SplitViewNav.detailNav = Ti.UI.iPhone.createNavigationGroup({
	window:SplitViewNav.detailWindow
});

// SPLIT VIEW
SplitViewNav.splitView = Titanium.UI.iPad.createSplitWindow({
	masterView:SplitViewNav.masterNav,
	detailView:SplitViewNav.detailNav,
});


// MASTER BUTTON
SplitViewNav.masterButton = Ti.UI.createButton({
	title:'Open Window',
	height:50,
	width:200
});
SplitViewNav.masterButton.addEventListener('click', function()
{
	var w = Ti.UI.createWindow({backgroundColor:'#ff9900'});
	var l = Ti.UI.createLabel({
		text:'New Window',
		color:'white',
		textAlign:'center'
	});
	w.add(l);
	w.addEventListener('blur', function() {
		Titanium.UI.createAlertDialog({
			title:'Master blur',
			message:'You blurred the master window!'
		}).show();
	});
	SplitViewNav.masterNav.open(w,{animated:true});
});
SplitViewNav.masterWindow.add(SplitViewNav.masterButton);

// DETAIL BUTTON
SplitViewNav.detailButton = Ti.UI.createButton({
	title:'Open Window',
	height:50,
	width:200,
	textAlign:'center'
});
SplitViewNav.detailButton.addEventListener('click', function()
{
	var w = Ti.UI.createWindow({backgroundColor:'#fff'});
	var b = Ti.UI.createButton({
		title:'Show modal',
		width:150,
		height:40
	});
	w.add(b);
	b.addEventListener('click', function() {
		var modal = Titanium.UI.createWindow({ 
			backgroundColor:'#336699',     
			title:'Modal Window',
			barColor:'black',
			modal:true
		});
		
		var bb = Ti.UI.createButton({
			title:'Dismiss modal',
			width:150,
			height:40
		});
		bb.addEventListener('click', function() {
			modal.close();
		});
		
		modal.add(bb);
		modal.open();
	});
	
	w.addEventListener('blur', function() {
		Titanium.UI.createAlertDialog({
			title:'Detail blur',
			message:'You blurred the detail window!'
		}).show();
	});
	SplitViewNav.detailNav.open(w,{animated:true});
});
SplitViewNav.detailWindow.add(SplitViewNav.detailButton);

var done = Titanium.UI.createButton({
	title:'Flash Popover'
});

SplitViewNav.detailWindow.setRightNavButton(done);
done.addEventListener('click',function()
{
	SplitViewNav.splitView.setMasterPopupVisible(true);
	setTimeout(function()
	{
		SplitViewNav.splitView.setMasterPopupVisible(false);
	},3000);
});


SplitViewNav.open = function()
{
	Ti.API.info('in open for split view nav');
	SplitViewNav.splitView.open();	
};

SplitViewNav.splitView.addEventListener('visible', function(e) {
	Ti.API.log('View: '+e.view);
	if (e.view == 'detail') {
		e.button.title = "Popover";
		SplitViewNav.detailWindow.leftNavButton = e.button;
		Ti.API.log('Set button');
	}
	else if (e.view == 'master') {
		SplitViewNav.detailWindow.leftNavButton = null;
		Ti.API.log('Removed button');
	}
});

// TEST CLOSE BUTTON
SplitViewNav.closeButton = Ti.UI.createButton({
	title:'Close Test',
	height:50,
	width:200,
	top:30
});
SplitViewNav.closeButton.addEventListener('click', function()
{
	Ti.API.info('Closing currrent Test');
	SplitViewNav.splitView.close();
});
SplitViewNav.detailWindow.add(SplitViewNav.closeButton);
SplitViewNav.open();

</pre></code>
2. Run the app.

<h4>Actual Behavior.</h4>

See attachment for actual behavior. 

<h4>Expected behavior </h4>

Both the master and detail windows should layout out properly extending to the statusbar. 

This bug only occurs with the iPHone.NavigationGroup and does not occur with the new NavWindow.

<h4>NavWindow code used for testing. </h4>
<code><pre>
	SplitViewNav = {};

	// WINDOWS
	SplitViewNav.masterWindow = Ti.UI.createWindow({title:'Master',backgroundColor:'red'});
	SplitViewNav.detailWindow = Ti.UI.createWindow({title:'Detail',backgroundColor:'#336699'});

	// MASTER NAV GROUP
	SplitViewNav.masterNav = Ti.UI.iOS.createNavWindow({
		window:SplitViewNav.masterWindow
	});

	// DETAIL NAV GROUP
	SplitViewNav.detailNav = Ti.UI.iOS.createNavWindow({
		window:SplitViewNav.detailWindow
	});

	// SPLIT VIEW
	SplitViewNav.splitView = Titanium.UI.iPad.createSplitWindow({
		masterView:SplitViewNav.masterNav,
		detailView:SplitViewNav.detailNav,
	});


	// MASTER BUTTON
	SplitViewNav.masterButton = Ti.UI.createButton({
		title:'Open Window',
		height:50,
		width:200
	});
	SplitViewNav.masterButton.addEventListener('click', function()
	{
		var w = Ti.UI.createWindow({backgroundColor:'#ff9900'});
		var l = Ti.UI.createLabel({
			text:'New Window',
			color:'white',
			textAlign:'center'
		});
		w.add(l);
		w.addEventListener('blur', function() {
			Titanium.UI.createAlertDialog({
				title:'Master blur',
				message:'You blurred the master window!'
			}).show();
		});
		SplitViewNav.masterNav.push(w,{animated:true});
	});
	SplitViewNav.masterWindow.add(SplitViewNav.masterButton);

	// DETAIL BUTTON
	SplitViewNav.detailButton = Ti.UI.createButton({
		title:'Open Window',
		height:50,
		width:200,
		textAlign:'center'
	});
	SplitViewNav.detailButton.addEventListener('click', function()
	{
		var w = Ti.UI.createWindow({backgroundColor:'#fff'});
		var b = Ti.UI.createButton({
			title:'Show modal',
			width:150,
			height:40
		});
		w.add(b);
		b.addEventListener('click', function() {
		    var modal = Titanium.UI.createWindow({ 
		        backgroundColor:'#336699',     
		        title:'Modal Window',
		        barColor:'black',
		        modal:true
		    });
		    
		    var bb = Ti.UI.createButton({
		    	title:'Dismiss modal',
		    	width:150,
		    	height:40
		    });
		    bb.addEventListener('click', function() {
		    	modal.close();
		    });
		    
		    modal.add(bb);
		    modal.open();
		});
		
		w.addEventListener('blur', function() {
			Titanium.UI.createAlertDialog({
				title:'Detail blur',
				message:'You blurred the detail window!'
			}).show();
		});
		SplitViewNav.detailNav.push(w,{animated:true});
	});
	SplitViewNav.detailWindow.add(SplitViewNav.detailButton);

	var done = Titanium.UI.createButton({
	 	title:'Flash Popover'
	});

	SplitViewNav.detailWindow.setRightNavButton(done);
	done.addEventListener('click',function()
	{
		SplitViewNav.splitView.setMasterPopupVisible(true);
		setTimeout(function()
		{
			SplitViewNav.splitView.setMasterPopupVisible(false);
		},3000);
	});


	SplitViewNav.open = function()
	{
		Ti.API.info('in open for split view nav');
		SplitViewNav.splitView.open();	
	};

	SplitViewNav.splitView.addEventListener('visible', function(e) {
		Ti.API.log('View: '+e.view);
		if (e.view == 'detail') {
			e.button.title = "Popover";
			SplitViewNav.detailWindow.leftNavButton = e.button;
			Ti.API.log('Set button');
		}
		else if (e.view == 'master') {
			SplitViewNav.detailWindow.leftNavButton = null;
			Ti.API.log('Removed button');
		}
	});
	
	// TEST CLOSE BUTTON
	SplitViewNav.closeButton = Ti.UI.createButton({
		title:'Close Test',
		height:50,
		width:200,
		top:30
	});
	SplitViewNav.closeButton.addEventListener('click', function()
	{
		Ti.API.info('Closing currrent Test');
		SplitViewNav.splitView.close();
	});
	SplitViewNav.detailWindow.add(SplitViewNav.closeButton);
	SplitViewNav.open();

</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14964_41893/SplitWIndow in Landscape.png">SplitWIndow in Landscape.png</td></td><td>2013-08-27T18:01:50.000+0000</td><td>72705</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14964_41894/SplitWindow in Portrait.png">SplitWindow in Portrait.png</td></td><td>2013-08-27T18:01:50.000+0000</td><td>67029</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2013-08-28

   <a href="https://github.com/appcelerator/titanium_mobile/pull/4615" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4615</a></li>
<li>Vishal Duggal 2013-08-28

   Backport to 3_1_X
   <a href="https://github.com/appcelerator/titanium_mobile/pull/4616" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4616</a></li>
<li>Lokesh Choudhary 2013-08-28

   Verified the fix & the master and detail windows layout out properly extending to the status bar as expected.
   Closing.
   
   Environment:
   Appcel Studio : 3.1.3.201308252005
   Ti SDK : 3.1.3.v20130828133119
   Mac OSX : 10.8.4
   Ipad4 - 6.0.1
   Xcode 5 beta 6</li>
</ol>


<p><a href="/TIMOB/TIMOB-14964.json">JSON Source</a></p>