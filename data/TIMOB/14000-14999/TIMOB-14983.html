---
title: "[TIMOB-14983] iOS7: barColor does not work properly"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-09-04T17:26:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 18, 2013 Sprint 18 API, Release 3.1.3, Release 3.2.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios7, module_navwindow, qe-testadded, triage</td></tr>
<tr><th>Reporter</th><td>Davide Cassenti</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-08-28T13:09:32.000+0000</td></tr>
<tr><th>Updated</th><td>2014-04-21T09:06:42.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
The barColor property is not working properly on iOS7. Tested with different SDK versions results are different, but they never seem correct. Everything works fine on iOS 6.1.

<h4>Code to reproduce the issue</h4>
<code><pre>
var first = Ti.UI.createWindow({
  backgroundColor:"white",
  barColor: "black",
  title:"My App"
});

var navGroup = Ti.UI.iPhone.createNavigationGroup({
  window: first
});

var main = Ti.UI.createWindow();

main.add(navGroup);
main.open();
</pre></code>

<h4>Result</h4>
Expected: the bar should be black, text should be shown properly
Actual result: see screenshots.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14983_42065/iOS6.png">iOS6.png</td></td><td>2013-09-02T17:49:29.000+0000</td><td>25301</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14983_42066/iOS7.png">iOS7.png</td></td><td>2013-09-02T17:49:29.000+0000</td><td>22632</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14983_42077/iOS7-SDK3.1.3.v20130902103448-XCode5-DP6.png">iOS7-SDK3.1.3.v20130902103448-XCode5-DP6.png</td></td><td>2013-09-03T16:52:38.000+0000</td><td>20586</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-14983_42079/iOS Simulator Screen shot Sep 3, 2013 10.36.09 AM.png">iOS Simulator Screen shot Sep 3, 2013 10.36.09 AM.png</td></td><td>2013-09-03T17:36:45.000+0000</td><td>16016</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2013-08-28

   [~dcassenti] Is this not a duplicate of one of these issues? TIMOB-14287 or TIMOB-14945?</li>
<li>Vishal Duggal 2013-08-30

   Try this to see behavior of navTintColor. 
   To get solid black set translucent to false on window. (Default true on IOS7)
   <code><pre>
   var label = Ti.UI.createLabel({
       text:'My App2',
       color:'white'
   })
   
   var first = Ti.UI.createWindow({
     backgroundColor:"white",
     barColor: "black",
     navTintColor:'white',
     titleControl:label
   });
    
   var navGroup = Ti.UI.iPhone.createNavigationGroup({
     window: first
   });
    
   var main = Ti.UI.createWindow();
    
   main.add(navGroup);
   main.open();
   
   var btn = Ti.UI.createButton({
       title:'PUSH'
   })
   
   var second = Ti.UI.createWindow({
     backgroundColor:"white",
     barColor: "black",
     navTintColor:'white',
     title:"Second"
   });
   
   btn.addEventListener('click',function(){
       navGroup.push(second);
   })
   
   first.add(btn);
   </pre></code>
   
   </li>
<li>Ingo Muschenetz 2013-09-03

   From my brief read of the Apple docs, it would seem that we would need to be altering the UIStatusBarStyle constant to specify whether the status bar content should be dark (UIStatusBarStyleDefault) or light (UIStatusBarStyleLightContent):
   
   * UIStatusBarStyleDefault displays dark content. Use when light content is behind the status bar. 
   * UIStatusBarStyleLightContent displays light content. Use when dark content is behind the status bar. 
   </li>
<li>Davide Cassenti 2013-09-03

   Downloaded the latest SDK and XCode, same result as before. In particular:
   
   XCode 5 DP6
   iOS 7 beta 6
   SDK 3.1.3.v20130902103448
   
   [~ingo] Is this the expected behavior? I don't see a good result on top (black text on dark gray background), and the navigation bar is dark gray.</li>
<li>Vishal Duggal 2013-09-03

   ok, IOS7 has removed all gradient effect. Not us APPLE has done so.
   
   About the dark gray Vs Black, as said before, set translucent to false.
   
   Attaching screenshot with translucent false.</li>
<li>Ingo Muschenetz 2013-09-03

   [~vduggal], agreed. But how about making the status bar text white?</li>
<li>Sid Ghosh 2013-09-04

   Team,
   
   Any update on this issue ?
   
   Sid</li>
<li>Ingo Muschenetz 2013-09-04

   TiUIPhoneStatusBar is the property you want to set to change the color.</li>
<li>Priya Agarwal 2013-09-09

   Verified the fixed with:
   
   Appc Studio:  3.1.3.201309072408
   Sdk:3.1.3.v20130908095038
   CLI version : 3.1.2
   Alloy : 1.2.2-beta
   MAC OSX: 10.8.4
   XCode : 5beta6
   Device: Iphone5(v7)
   
   code used to verify the fix was 
   <code><pre>
   var label = Ti.UI.createLabel({
       text:'My App2',
       color:'white'
   });
    
   var first = Ti.UI.createWindow({
     backgroundColor:"white",
     barColor: "black",
     translucent:false,
     navTintColor:'white',
     titleControl:label
   });
     
   var navGroup = Ti.UI.iPhone.createNavigationGroup({
     window: first
   });
     
   var main = Ti.UI.createWindow();
     
   main.add(navGroup);
   main.open();
    
   var btn = Ti.UI.createButton({
       title:'PUSH'
   });
    
   var second = Ti.UI.createWindow({
     backgroundColor:"white",
     barColor: "black",
     navTintColor:'white',
     title:"Second"
   });
    
   btn.addEventListener('click',function(){
       navGroup.push(second);
   });
    
   first.add(btn);
   main.open();
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-14983.json">JSON Source</a></p>