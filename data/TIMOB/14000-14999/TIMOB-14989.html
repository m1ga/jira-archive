---
title: "[TIMOB-14989] Code Processor: Investigate efficacy of multi-pass analysis"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-08-30T19:22:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 18, 2013 Sprint 18 Tooling</td></tr>
<tr><th>Components</th><td>Code Processor</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ingo Muschenetz</td></tr>
<tr><th>Assignee</th><td>Matt Langston</td></tr>
<tr><th>Created</th><td>2013-08-28T21:58:13.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-04T01:09:21.000+0000</td></tr>
</table>

<h3>Description</h3>

To aid in increasing the accuracy of the code processor, a multi-pass mechanism could be implemented that will attempt to determine all of the functions in the project and where they are called from. This information will be fed into the final pass, which is the current implementation of the code processor. This information should help greatly in solving the following:
<code><pre>
function a() {
	console.log('hi');
}

function b() {
	console.log('world');
}

if (platform =='iphone') {
	a();
} else {
	b();
}
</pre></code>
which currently reports less than 100% coverage because either a or b will be unvisited. The information from the previous passes can be fed into the code processor so we can determine that b was called from the skipped block, and thus we can mark it as skipped.

<h3>Comments</h3>

<ol>
<li>Bryan Hughes 2013-08-30

   Estimates of the impact this fix will have on Samples and Templates:
   
   Sample.Mapping
   Currently: 84.4%
   Estimated: 95% (there is a separate bug, TIMOB-15011 that should take care of the rest)
   
   Sample.RSS
   Currently: 56.7%
   Estimated: 99%
   
   Sample.TODO
   Currently: 96.4%
   Estimated: 96.4% (TIMOB-15012 is responsible for the remaining)
   
   Templated.HTML
   Currently: 91.9%
   Estimated: 91.9% (TIMOB-15013 is responsible for the remaining)
   
   Template.MasterDetail
   Currently: 55.0%
   Estimated: 100%
   
   Template.SingleWindow
   Currently: 70.8%
   Estimated: 100%
   
   Template.Tabbed
   Currently: 77.7%
   Estimated: 100%</li>
<li>Bryan Hughes 2013-08-30

   Resolution: created TIMOB-15017 to address the issue.</li>
<li>Michael Xia 2013-09-09

   Investigation ticket. Closing.
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-14989.json">JSON Source</a></p>