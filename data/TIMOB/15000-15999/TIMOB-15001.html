---
title: "[TIMOB-15001] iOS: keyboardframechanged does not fire"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-09-19T22:50:27.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.4, Release 3.1.1, Release 3.1.2, Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 19, 2013 Sprint 19 API, Release 3.2.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>iOS, iOS6, iPad-Mini, module_keyboard, qe-testadded, titanium</td></tr>
<tr><th>Reporter</th><td>Ashish Nigam</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-08-29T13:29:11.000+0000</td></tr>
<tr><th>Updated</th><td>2013-10-16T09:22:16.000+0000</td></tr>
</table>

<h3>Description</h3>

keyboardframechanged event does not fire in case of iPad-Mini running iOS version 6.0.1.

Sample code to test the issue:

<code><pre>
var win = Ti.UI.createWindow({
    backgroundColor:'#ffffff'
});

var txtArea = Ti.UI.createTextArea({
    borderWidth : 2,
    borderColor : '#bbb',
    borderRadius : 5,
    color : '#888',
    font : {
        fontSize : 12,
        fontWeight : 'bold'
    },
    textAlign : 'left',
    top : 10,
    left : 10,
    right : 10,
    suppressReturn : false
});

win.add(txtArea);

Ti.App.addEventListener("keyboardframechanged", function(e) {
    alert(" keyboardFrame.height"+ e.keyboardFrame.height);  //console.log does not always work well.
    txtArea.setBottom(e.keyboardFrame.height);
});

win.addEventListener('focus', function(e) {
    txtArea.focus();
});

win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15001_42311/iPadMini_TextAreaFocus.mov">iPadMini_TextAreaFocus.mov</td></td><td>2013-09-09T10:58:20.000+0000</td><td>4212964</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sabil Rahim 2013-08-29

   [~ingo][~dcassenti] Tested the above code on ipad mini running 6.1.3 , iPad 4 running iOS beta 6 and could reproduce the issue. This is definitely **not** a iOS 7 issue. Don't have a 6.0.1 device with me so leaving it open for now. </li>
<li>Blain Hamon 2013-08-29

   Suggesting that the customer see if they can recreate the issue with the following fixed code:
   
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor:'#ffffff'
   });
    
   var txtArea = Ti.UI.createTextArea({
       borderWidth : 2,
       borderColor : '#bbb',
       borderRadius : 5,
       color : '#888',
       font : {
           fontSize : 12,
           fontWeight : 'bold'
       },
       textAlign : 'left',
       top : 10,
       left : 10,
       right : 10,
       suppressReturn : false
   });
    
   win.add(txtArea);
    
   Ti.App.addEventListener("keyboardframechanged", function(e) {
       alert(" keyboardFrame.height"+ e.keyboardFrame.y);  //console.log does not always work well.
       txtArea.setBottom(win.rect.height - e.keyboardFrame.y + 30); //That's 20 for the nav bar, 10 for bottom margin.
   });
    
   win.addEventListener('focus', function(e) {
       txtArea.focus();
   });
    
   win.open();
   </pre></code>
   
   If this solves their issue, will be moving to mark invalid; the keyboard height itself doesn't change, it just slides offscreen. The original code in the ticket didn't take that into consideration.
   
   Marking ticket as needs more info for customer feedback.</li>
<li>Vishal Duggal 2013-09-17

   Pull pending
   master - <a href="https://github.com/appcelerator/titanium_mobile/pull/4707" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4707</a></li>
<li>Pragya Rastogi 2013-10-16

   Tested with: 
   OSX: 10.8.5
   Xcode:5.0
   Appcelerator Studio:  3.2.0.201310152434
   SDK:3.2.0.v20131014204636
   acs:1.0.7
   alloy:1.2.2
   npm:1.3.2
   titanium:3.2.0
   titanium-code-processo:1.0.3
   Device:  iPad Mini 6.0</li>
</ol>


<p><a href="/TIMOB/TIMOB-15001.json">JSON Source</a></p>