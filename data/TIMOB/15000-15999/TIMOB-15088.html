---
title: "[TIMOB-15088] Geolocation Accuracy sometimes resets from ACCURACY_BEST to ACCURACY_THREE_KILOMETERS"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.1.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Gordon Illan</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-09-07T22:05:25.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:03:18.000+0000</td></tr>
</table>

<h3>Description</h3>

Given that Ti.Geolocation.ACCURACY_BEST is defined as -1, the following code starting at line 275 in GeolocationModule.m, sometimes changes ACCURACY_BEST to ACCURACY_THREE_KILOMETERS.

<code><pre>
-(CLLocationManager*)locationManager
{
	[lock lock];
	if (locationManager==nil)
	{
		RELEASE_TO_NIL(tempManager);
		locationManager = [[CLLocationManager alloc] init];
		locationManager.delegate = self;
		if (!trackSignificantLocationChange) {
            if (accuracy!= ACCURACY_BEST) // -1
            {
                locationManager.desiredAccuracy = accuracy;
            }
            else
            {
                locationManager.desiredAccuracy = ACCURACY_THREE_KILOMETERS;  //kCLLocationAccuracyThreeKilometers
            }
            locationManager.distanceFilter = distance;
        }
...
</pre></code>

If you set the accuracy to ACCURACY_BEST before adding the event listener, then it's changed to ACCURACY_THREE_KILOMETERS.

This issue was brought up by Ondrej Urik in a comment @ <a href="https://developer.appcelerator.com/question/116986" rel="nofollow" target="_blank">https://developer.appcelerator.com/question/116986</a>

<h3>Comments</h3>

<ol>
<li>Shawn Lipscomb 2017-05-05

   Why is this a low priority?  It's been there for 3 major versions and looks like a simple fix.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15088.json">JSON Source</a></p>