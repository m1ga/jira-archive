---
title: "[TIMOB-15189] iOS7: Opening a Modal Window removes BarImage of the Parent-Window for a moment"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-10-09T15:08:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>barcolor, barimage, ios7, modal, triage, window</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-09-14T20:57:31.000+0000</td></tr>
<tr><th>Updated</th><td>2013-10-18T23:37:42.000+0000</td></tr>
</table>

<h3>Description</h3>

When opening a modal window from a child window having a the property "barImage", this property is ignored and the underlayed "barColor" is used, if set. The given app.js and barImage.png shows this problem.

Expected behaviour: The barImage stays where it is and the modal window opens.
Given behaviour: The barImage is beeing removed for a moment and comes back after closing the modal window

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15189_42496/app.js">app.js</td></td><td>2013-09-14T20:57:32.000+0000</td><td>764</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15189_42497/barImage.png">barImage.png</td></td><td>2013-09-14T20:57:32.000+0000</td><td>1035</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15189_42498/barImage@2x.png">barImage@2x.png</td></td><td>2013-09-14T20:57:32.000+0000</td><td>1218</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2013-09-16

   We cleanUp windowDecorations in viewWillDisappear. So this is happening.
   
   We could possible do it in viewDidDisappear but that might have weird side effects. Not a high priority issue for 3.1.3. Not even sure if we will fix this.</li>
<li>Hans Knöchel 2013-09-16

   Ok, but it seems to be a iOS7-bug only, so the disappearing of barImages should be relevant, too. Without, the modals are useless for productional projects.</li>
<li>Hans Knöchel 2013-09-16

   Additional info: The problem also occurs on iOS < 7 (tested with 5.0, 6.0 and 6.1) and worked fine in older released of the Ti-Sdk. See no reason why thinking about not fixing it. Thank you!</li>
<li>Ingo Muschenetz 2013-09-16

   [~hansknoechel] I think the only reason we wouldn't fix it immediately is that fixing it quickly might introduce more serious (but subtle) side effects that we wouldn't catch in time before the release. In that case, we could fix it and push it to the CI builds so people interested could take advantage of the fix.</li>
<li>Hans Knöchel 2013-09-16

   Ok :-) Guess i use the temporary fix by moving the cleanUp-method to viewDidDisappear. Thank you!</li>
<li>Ingo Muschenetz 2013-09-16

   [~hansknoechel] I think others would appreciate it if you posted your workaround. Is that possible?</li>
<li>Hans Knöchel 2013-09-16

   Just noticed, that moving the method doesn't help at all. The whole titleBar will be removed permanently when doing this. I guess we'll have to wait.</li>
<li>kosso 2013-09-16

   I've found this happens on any window which uses a barImage. The image (and specifically the titleControl) will flicker when returning to the window. 
   
   To get around it for now, I'm only setting a barImage for < iOS7 devices.  </li>
<li>Vishal Duggal 2013-10-09

   This should be fixed along with the backgroundImage refactor done for TIMOB-11876</li>
<li>Wilson Luu 2013-10-18

    Closing ticket as fixed. Verified BarImage does not disappear for a moment on the parent window when opening a modal window.
    
    Tested on:
    
    Titanium Studio, build: 3.2.0.201310180511
    SDK build: 3.2.0.v20131018142442
    OS: Mac OS X Mountain Lion (10.8.5)
    Devices: iphone 5 (6.1.3) iphone 5 (7.0.2)
    
    *However,* the attached app.js crashes on iphone 4 (5.1.1) with SDK 3.2.0.v20131018142442. Will file another ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15189.json">JSON Source</a></p>