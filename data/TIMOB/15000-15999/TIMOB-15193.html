---
title: "[TIMOB-15193] iOS7: ListItems in ListView are white and not transparent, strange separators"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-09-17T20:31:27.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 19, 2013 Sprint 19 API, Release 3.1.3, Release 3.2.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>3.1.3, ios7, listview, listviewitem, triage</td></tr>
<tr><th>Reporter</th><td>Mark Mokryn</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-09-15T15:20:44.000+0000</td></tr>
<tr><th>Updated</th><td>2013-09-18T13:11:23.000+0000</td></tr>
</table>

<h3>Description</h3>

See screen shots - looks good on iOS 6.1 but buggy on iOS 7. (Code updated to reflect last screenshot)

index.xml:
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container"&gt;
		&lt;ListView id="lv"&gt;
			&lt;ListSection&gt;
				&lt;ListItem title="row 1" color="white" backgroundColor="transparent"/&gt;
				&lt;ListItem title="Weird separators on iOS7" color="white" backgroundColor="blue"/&gt;
				&lt;ListItem title="Weird separators on iOS7" color="white" backgroundColor="blue"/&gt;
				&lt;ListItem title="Weird separators on iOS7" color="white" backgroundColor="blue"/&gt;
				&lt;ListItem title="row 2" color="white"/&gt;
				&lt;ListItem title="row 3" color="white" backgroundColor="transparent"/&gt;
			&lt;/ListSection&gt;
		&lt;/ListView&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

index.tss
<code><pre>
".container": {
	backgroundColor:"black"
}
"ListView":{
	backgroundColor: 'transparent'
}
</pre></code>

index.js:
<code><pre>
$.index.open();
</pre></code>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15193_42501/ios6.1-listview.png">ios6.1-listview.png</td></td><td>2013-09-15T15:20:44.000+0000</td><td>18944</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15193_42500/ios7-listview.png">ios7-listview.png</td></td><td>2013-09-15T15:20:44.000+0000</td><td>13446</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15193_42508/iOS7-ListView-Weird.png">iOS7-ListView-Weird.png</td></td><td>2013-09-16T07:55:14.000+0000</td><td>33742</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mark Mokryn 2013-09-15

   Additional observation: if I set one of the ListItems in the following manner:
   <code><pre>
   &lt;ListItem title="row 1" color="white" backgroundColor="red"/&gt;
   </pre></code>
   then indeed the background is red on iOS7, however setting backgroundColor="transparent" in the same manner has no effect - the item stays white.</li>
<li>Mark Mokryn 2013-09-16

   And an additional visible bug here: look at the iOS 7 ListView: the dividers are not extending to the left edge of the window. In my app, where I have thumbnails on the left side it causes "bleeding" of the image over this edge and looks unprofessional.</li>
<li>Ingo Muschenetz 2013-09-16

   [~mokesmokes] note that the "indented" behavior is standard in iOS 7 (as noted in TIMOB-14986), so there is little that can be done about that appearance.</li>
<li>Mark Mokryn 2013-09-16

   There is still something strange, take a look at the additional screen shot I posted: The indentation occurs for empty items, or items where the content is not viewable due to the backgroundColor bug. For visible items, the left edge of the separator appears to be highlighted, or a different weight, than most of the separator. (Additional note: I am now noticing that Apple's TableViews also have that indentation, however they remain indented when there is content, unlike 3.1.3RC which apparently emphasizes that part of the separator)</li>
<li>Vishal Duggal 2013-09-16

   Already caught and exposed by our internal tests in Kitchen Sink and we have punted this to 3.2.0 or later depending on resource availability.
   The TableView subview hierarchy has changed and the tableView cells are no longer direct subviews of the tableView but of a separate wrapper view which ofcourse is not exposed and we have no idea what the properties of this wrapper view are.
   Moreover iOS7 has some issues with refreshing cell separators when reloading rows
   
   So yes transparent background does not work but other colors should as long as explicitly set. Default seems to be white.
   
   Regarding separators not extending all the way across, that is an iOS 7 design change we have no control over.</li>
<li>Mark Mokryn 2013-09-16

   Probably related re the transparent background: <a href="http://stackoverflow.com/questions/17081067/uitableview-transparant-background-in-ios-7" rel="nofollow" target="_blank">http://stackoverflow.com/questions/17081067/uitableview-transparant-background-in-ios-7</a></li>
<li>Vishal Duggal 2013-09-16

   [~mokesmokes]
   cool. Totally works. Setting up PR.</li>
<li>Vishal Duggal 2013-09-16

   The problem is that we have no way to get the default background color of the ListItem unless it is attached to the ListView (Needed for undefined behavior). And by then it is too late because we've already stored null which is incorrect. The only way to fix it is to define a default background Color on the ListItem like in TableView (which is white). But that would be a change in behavior. Maybe we should punt this out of 3.1.3 and change behavior in 3.2.0 with the remaining V2 fixes.</li>
<li>Mark Mokryn 2013-09-16

   Personally, in my app, I can handle it. But I can imagine that for some apps it may be terrible - e.g. imagine that the window background is supposed to be viewed through the list view - this capability would be blown away until fixed. 3.2.0 is a long ways off...</li>
<li>Ingo Muschenetz 2013-09-16

    Will _attempt_ to get this into 3.1.3</li>
<li>Vishal Duggal 2013-09-17

    Pull pending
    master - <a href="https://github.com/appcelerator/titanium_mobile/pull/4701" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4701</a>
    3_1_X - <a href="https://github.com/appcelerator/titanium_mobile/pull/4702" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4702</a></li>
<li>Vishal Duggal 2013-09-17

    Test Code. Shows table view and list view. Play with style GROUPED and PLAIN. Also with background colors of the table View. Essentially what you want to see is that transparent backgroundColor is respected
    
    <code><pre>
    var win = Ti.UI.createWindow({backgroundColor: 'red'});
    
    var listView = Ti.UI.createListView();
    var sections = [];
    
    var section1 = Ti.UI.createListSection({ headerTitle: 'Section 1'});
    var section1DataSet = [
        {properties: { title: 'My Background Color is White', backgroundColor:'white'}},
        {properties: { title: 'My Background Color is Yellow', backgroundColor:'yellow'}},
        {properties: { title: 'My Background Color is Green', backgroundColor:'green'}},
        {properties: { title: 'My Background Color is Transparent', backgroundColor:'transparent'}},
        {properties: { title: 'My Background Color is Undefined'}},
        {properties: { title: 'My Background Color is White', backgroundColor:'white'}},
        {properties: { title: 'My Background Color is Yellow', backgroundColor:'yellow'}},
        {properties: { title: 'My Background Color is Green', backgroundColor:'green'}},
        {properties: { title: 'My Background Color is Transparent', backgroundColor:'transparent'}},
        {properties: { title: 'My Background Color is Undefined'}},
        {properties: { title: 'My Background Color is White', backgroundColor:'white'}},
        {properties: { title: 'My Background Color is Yellow', backgroundColor:'yellow'}},
        {properties: { title: 'My Background Color is Green', backgroundColor:'green'}},
        {properties: { title: 'My Background Color is Transparent', backgroundColor:'transparent'}},
        {properties: { title: 'My Background Color is Undefined'}},
        {properties: { title: 'My Background Color is White', backgroundColor:'white'}},
        {properties: { title: 'My Background Color is Yellow', backgroundColor:'yellow'}},
        {properties: { title: 'My Background Color is Green', backgroundColor:'green'}},
        {properties: { title: 'My Background Color is Transparent', backgroundColor:'transparent'}},
        {properties: { title: 'My Background Color is Undefined'}},
        {properties: { title: 'My Background Color is White', backgroundColor:'white'}},
        {properties: { title: 'My Background Color is Yellow', backgroundColor:'yellow'}},
        {properties: { title: 'My Background Color is Green', backgroundColor:'green'}},
        {properties: { title: 'My Background Color is Transparent', backgroundColor:'transparent'}},
        {properties: { title: 'My Background Color is Undefined'}},
    ];
    section1.setItems(section1DataSet);
    sections.push(section1);
    
    listView.sections = sections;
    listView.style=Ti.UI.iPhone.ListViewStyle.GROUPED;
    win.add(listView);
    
    var win2 = Ti.UI.createWindow({backgroundColor: 'red'});
    var data = [
        { title: 'My Background Color is White', backgroundColor:'white', header:'Section 1'},
        { title: 'My Background Color is Yellow', backgroundColor:'yellow'},
        { title: 'My Background Color is Green', backgroundColor:'green'},
        { title: 'My Background Color is Transparent', backgroundColor:'transparent'},
        { title: 'My Background Color is Undefined'},
        { title: 'My Background Color is White', backgroundColor:'white'},
        { title: 'My Background Color is Yellow', backgroundColor:'yellow'},
        { title: 'My Background Color is Green', backgroundColor:'green'},
        { title: 'My Background Color is Transparent', backgroundColor:'transparent'},
        { title: 'My Background Color is Undefined'},
        { title: 'My Background Color is White', backgroundColor:'white'},
        { title: 'My Background Color is Yellow', backgroundColor:'yellow'},
        { title: 'My Background Color is Green', backgroundColor:'green'},
        { title: 'My Background Color is Transparent', backgroundColor:'transparent'},
        { title: 'My Background Color is Undefined'},
        { title: 'My Background Color is White', backgroundColor:'white'},
        { title: 'My Background Color is Yellow', backgroundColor:'yellow'},
        { title: 'My Background Color is Green', backgroundColor:'green'},
        { title: 'My Background Color is Transparent', backgroundColor:'transparent'},
        { title: 'My Background Color is Undefined'},
        { title: 'My Background Color is White', backgroundColor:'white'},
        { title: 'My Background Color is Yellow', backgroundColor:'yellow'},
        { title: 'My Background Color is Green', backgroundColor:'green'},
        { title: 'My Background Color is Transparent', backgroundColor:'transparent'},
        { title: 'My Background Color is Undefined'},
    ]
    
    var tableView = Ti.UI.createTableView({
        data:data
    });
    
    tableView.style = Ti.UI.iPhone.TableViewStyle.GROUPED;
    win2.add(tableView);
    
    
    var tabGrp = Ti.UI.createTabGroup();
    var tab1 = Ti.UI.createTab({
        window:win,
        title:'LIST'
    })
    
    var tab2 = Ti.UI.createTab({
        window:win2,
        title:'TABLE'
    })
    
    tabGrp.tabs = [tab1,tab2];
    
    
    tabGrp.open();
    </pre></code></li>
<li>Federico Casali 2013-09-18

    Verified as fixed both using the Alloy code provided in the description and the code provided by Vishal.
    Transparent backgroundColor is respected.
    
    Titanium SDK 3.1.3.v20130917141554
    Alloy 1.2.2-cr
    Appcelerator Studio 3.1.3.201309132456
    CLI 3.1.2.GA
    Node 0.10.13
    
    Closing.</li>
<li>Mark Mokryn 2013-09-18

    Indeed "transparent" works, and the fix seems to solve the separator issue. Thanks! 
    However, iOS7 behaves differently from older iOS and Android in that the items by default now have a white background and not transparent. This should be documented, if not fixed. And BTW - I have not succeeded in setting the item backgroundColor in a custom template in Alloy, but that's another issue.... :-)</li>
<li>Mark Mokryn 2013-09-18

    Actually there is a bug with alloy, custom templates, and transparent backgroundColor for the list items. See the code below:
    <code><pre>
    &lt;Alloy&gt;
    	&lt;Window class="container"&gt;
    		&lt;ListView id="lv"&gt;
    			&lt;ListSection id="ls"&gt;
    					&lt;ListItem title="row 1" color="white" backgroundColor="transparent"/&gt;
    					&lt;ListItem title="row 2" color="white" backgroundColor="blue"/&gt;
    				&lt;/ListSection&gt;
    		&lt;/ListView&gt;
    		&lt;ListView id="lv2" defaultItemTemplate="template1"&gt;
    			&lt;Templates&gt;
    				&lt;ItemTemplate name="template1" height="100" backgroundColor="transparent"&gt;
    					&lt;Label bindId="label" id="label1"/&gt;
    				&lt;/ItemTemplate&gt;
    			&lt;/Templates&gt;
    			&lt;ListSection&gt;
    				&lt;ListItem label:text="this is some text"/&gt;
    			&lt;/ListSection&gt;			
    		&lt;/ListView&gt;		
    	&lt;/Window&gt;
    &lt;/Alloy&gt;
    
    And index.tss:
    ".container": {
    	backgroundColor:"black"
    }
    "ListView":{
    	backgroundColor: 'transparent'
    }
    "#lv": {
    	top: '10dp',
    	height: '100dp'
    }
    "#lv2": {
    	top: '110dp',
    	height: '300dp'
    }
    </pre></code>
    
    template1 will stay white. If you change "transparent" to "blue" it's ok, but transparent doesn't work. Tested with alloy 1.2.2-cr</li>
<li>Ingo Muschenetz 2013-09-18

    [~bhatfield], can you please document the behavior difference. [~mokesmokes] if you can't get the Alloy aspect to work for you, can you please file a ticket and let us know so we can follow up there?</li>
<li>Mark Mokryn 2013-09-18

    </li>
</ol>


<p><a href="/TIMOB/TIMOB-15193.json">JSON Source</a></p>