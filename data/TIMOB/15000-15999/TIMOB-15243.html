---
title: "[TIMOB-15243] iOS7: Saving file to applicationDataDirectory results in incorrect path"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-09-17T23:08:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>filesystem, ios7, mobile</td></tr>
<tr><th>Reporter</th><td>Marco Aiello</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2013-09-17T08:28:01.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-31T20:33:07.000+0000</td></tr>
</table>

<h3>Description</h3>

I use this code:

<code><pre>
var f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,"test.pdf");
var ret = f.write(this.responseData);
</pre></code>

After "f.nativePath" value is:
 
file:///Users/marco/Library/Application%20Support/iPhone%20Simulator/7.0/Applications/A7304977-7E4F-489D-A143-045F52975DED/MyApp.app/file:/Users/marco/Library/Application%2520Support/iPhone%2520Simulator/7.0/Applications/A7304977-7E4F-489D-A143-045F52975DED/Documents/test.pdf 

and i can't load this url from webview or documentviewer

Any suggestion please?

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2013-09-17

   <h4>Which version of the SDK are you using? are you using 3.1.3?</h4>
   <h4>Does the file save without error? It's just the display that is the problem?</h4>
   <h4>What if you try and manually find that URL on your computer?</h4>
   <h4>I assume this is the simulator, yes?</h4></li>
<li>Marco Aiello 2013-09-17

   1. ios sdk 7.0, Titanium Studio 3.1.2 GA
   2. no, file is not saved!
   3. folder/file not found - file not saved!
   4. yes, simulator
   </li>
<li>Ingo Muschenetz 2013-09-17

   Please try the latest 3.1.3 SDK (<a href="http://builds.appcelerator.com.s3.amazonaws.com/index.html#3_1_X)." rel="nofollow" target="_blank">http://builds.appcelerator.com.s3.amazonaws.com/index.html#3_1_X).</a> 3.1.2 may not work on iOS 7.</li>
<li>Marco Aiello 2013-09-17

   I've updated Titanium with the latest SDK (3.1.3) but nothing ... always the same problem ...</li>
<li>Ingo Muschenetz 2013-09-17

   Can you please post the updated URL you get when saving the file with 3.1.3, and the exact SDK version you are using?</li>
<li>Vishal Duggal 2013-09-17

   This is the code we used for testing
   <code><pre>
   var url = "<a href="http://www.appcelerator.com/assets/The_iPad_App_Wave.pdf" rel="nofollow" target="_blank">http://www.appcelerator.com/assets/The_iPad_App_Wave.pdf</a>";
    var client = Ti.Network.createHTTPClient({
        // function called when the response data is available
        onload : function(e) {
            Ti.API.info("SUCCESS");
            var f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,"test.pdf");
            f.write(this.responseData);
            Ti.API.info(f.nativePath);
   
            var docViewer = Ti.UI.iOS.createDocumentViewer({
               url:f.nativePath
            })
            docViewer.show();
        },
        // function called when an error occurs, including a timeout
        onerror : function(e) {
            Ti.API.info(e.error);
        },
        timeout : 5000  // in milliseconds
    });
    // Prepare the connection.
    client.open("GET", url);
    // Send the request.
    client.send();
   </pre></code></li>
<li>kosso 2013-09-18

   Check to see if Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory is returning a trailing slash or not.  
   
   I have found a couple of occasions over the past few versions of the Ti SDK where this is inconsistent, causing  double-slash paths to crop in to apps here and there. 
   
    
   </li>
<li>kosso 2013-09-18

   Is this related?  <a href="https://developer.appcelerator.com/question/153484/ios-7-compatibility-with-titanium-app#answer-264403" rel="nofollow" target="_blank">https://developer.appcelerator.com/question/153484/ios-7-compatibility-with-titanium-app#answer-264403</a></li>
<li>Lee Morris 2017-03-31

   Unable to reproduce this issue, tested with the following environment; 
   iPhone 7 and Simulator (10.2) 
   MacOS 10.11.6 (15G31) 
   Studio 4.8.1.201612050850 
   Ti SDK 6.0.2 GA 
   Appc NPM 4.2.8 
   Appc CLI 6.1.0 
   Ti CLI 5.0.11 
   Alloy 1.9.5 
   Arrow 1.10.1 
   Xcode 8.2 (8C38) 
   Node v4.6.0 
   Java 1.7.0_80</li>
</ol>


<p><a href="/TIMOB/TIMOB-15243.json">JSON Source</a></p>