---
title: "[TIMOB-15276] iOS: Unable to create a multithreaded Titanium Mobile module"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2016-12-27T13:48:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ingo Muschenetz</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2013-09-18T22:30:38.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-23T22:28:34.000+0000</td></tr>
</table>

<h3>Description</h3>

Multi­threading seems to be broken in Appcelerator iOS modules. Threads created within a proxy API method never ran, unless we added ENSURE_UI_THREAD_1_ARG(arg) to the start of the method.

This is not ideal having the initial method run on the UI thread, but under the circumstances acceptable, as the bulk of the work then happens inside a further (non UI) thread, relieving the UI thread very quickly.

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2013-09-18

   Suggestion is to use TiThreadPerformOnMainThread instead of ENSURE_UI_THREAD_1_ARG, as that allows for a block to run inside the main thread while the rest is still in the JS background thread.</li>
<li>Hans Knöchel 2016-12-27

   The suggestion is correct. Using <code>TiThreadPerformOnMainThread</code> the block will be ran on the main thread without leaking context to different threads. Resolving ticket.</li>
<li>Lee Morris 2017-03-23

   Closing ticket as Won't Fix with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15276.json">JSON Source</a></p>