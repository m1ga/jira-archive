---
title: "[TIMOB-15348] Android: 'require' a remotely-downloaded JavaScript module"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2013-10-07T16:04:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.1, Release 3.1.2, Release 3.1.3</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>supportTeam</td></tr>
<tr><th>Reporter</th><td>Rupesh Sharma</td></tr>
<tr><th>Assignee</th><td>Matt Langston</td></tr>
<tr><th>Created</th><td>2013-09-26T10:28:37.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T21:37:43.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>
I need to be able to 'require' a javascript module from outside the resource directory. For example at first need to download myModule.js and use the code in this newly downloaded file (to applicationDataDirectory) if it exist.

<h4>Example</h4>
<code><pre>
var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff'
});

var remoteInclude = function () {
    var url = "<a href="https://dl.dropboxusercontent.com/u/72777663/sayHello.js" rel="nofollow" target="_blank">https://dl.dropboxusercontent.com/u/72777663/sayHello.js</a>";
 
    var c = Titanium.Network.createHTTPClient();
    c.setTimeout(10000);
    c.onload = onSuccess;
    function onSuccess()
        {
            var f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,'sayHello.js');
            f.write(c.responseData);
            var myModule = require(Ti.Filesystem.applicationDataDirectory+'sayHello');
myModule.sayHello('Kevin');
        }
 
    c.ondatastream = function(e)
        {
        Ti.API.info('Progress : '+e.progress);
            
        };
    c.onerror = function(e)
        {
            Ti.API.info('XHR Error ' + e.error);
        };
    c.open('GET', url);
 
    c.send();
 
};

var but=Titanium.UI.createButton({
title:'Require JS'
});

but.addEventListener('click', function(){
remoteInclude();
});

win1.add(but);
</pre></code>

Url : <a href="https://dl.dropboxusercontent.com/u/72777663/sayHello.js" rel="nofollow" target="_blank">https://dl.dropboxusercontent.com/u/72777663/sayHello.js</a> contains below code :

<code><pre>
exports.sayHello = function(name) {
    Ti.API.info('Hello '+name+'!');
alert('Hello '+name);
};

exports.version = 1.4;
exports.author = 'Don Thorp';
</pre></code>

<h3>Comments</h3>

<ol>
<li>Ivan Skugor 2013-10-07

   I don't think this would be approvable by Apple.
   
   
   Similar approach is used by TiShadow and TiShadow app was not approved by Apple as far as I know.
   
   
   
   
   Cheers.</li>
<li>Ingo Muschenetz 2013-10-07

   Based on feedback, we believe this model creates security complications and would not be approved by the Apple app store. Even though this ticket is for Android, we don't wish to encourage behavior that may only work on one platform.
   
   If there is a reason why a user may wish to invoke core outside the resources directory (but that code is not remotely downloaded), we could revisit this ticket in the future.</li>
<li>Ivan Skugor 2013-10-07

   As a workaround, downloaded JS code can be evaluated by using "eval".</li>
<li>Ivan Skugor 2013-10-07

   (I think :) Not really sure would Apple approve that)</li>
<li>Lee Morris 2017-03-22

   Closing ticket as "Won't Fix".</li>
</ol>


<p><a href="/TIMOB/TIMOB-15348.json">JSON Source</a></p>