---
title: "[TIMOB-15349] Alloy: label height decreases"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2013-09-27T13:21:54.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.3</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>height, iOS7, label, triage</td></tr>
<tr><th>Reporter</th><td>Meenakshi Pathak</td></tr>
<tr><th>Assignee</th><td>Tony Lukasavage</td></tr>
<tr><th>Created</th><td>2013-09-26T12:33:31.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T22:25:21.000+0000</td></tr>
</table>

<h3>Description</h3>

Vertical label height decreases in iOS 7 specifically in alloy.

*Steps to Reproduce* :

1. Copy and paste the below code in newly created alloy project.

index.xml:
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container" layout="vertical"&gt;
		&lt;Label id="countdownMainValue" borderColor="red"&gt;00&lt;/Label&gt;
		&lt;Label id="countdownMainLabel"&gt;Days&lt;/Label&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

index.tss:
<code><pre>
"container" : {
    layout: "vertical",
    width: Ti.UI.FILL,
    height: Ti.UI.SIZE
},

"#countdownMainValue" : {
    height: Ti.UI.SIZE, 
    top: 0,
    font: {
        fontFamily: "ProximaNovaSoft-Regular",
        fontSize:"150dp"
    },
    color: "#119ca6",
 },
"#countdownMainLabel[platform=ios]" : {
    font: {
        fontFamily: "ProximaNovaSoft-Regular",
        fontSize:"24dp"
    },
    color: "#119ca6",
    top: "-50dp",
}
</pre></code>

2. Run on iOS 6 and iOS 7 device and see the difference.

*Note:* This behavior is not shown in Classic Titanium. Please find attachments of iOS 6 and iOS 7. 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15349_42780/iOS 6.PNG">iOS 6.PNG</td></td><td>2013-09-26T12:33:31.000+0000</td><td>26743</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15349_42781/iOS 7.png">iOS 7.png</td></td><td>2013-09-26T12:33:31.000+0000</td><td>25910</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tony Lukasavage 2013-09-26

   [~mpathak] can you include the traditional titanium code you used to compare? It seems pretty unlikely that this is an Alloy issue, but the code you used to assert this would make it much easier to identify. It also looks like, based on your screenshots, that you used 2 different ios sims to generate your screenshots. This would account for the difference in formatting. It's possible you used different sims for your traditional vs. alloy approach. Be sure to use the same sim for all tests.</li>
<li>Tony Lukasavage 2013-09-26

   [~mpathak] you have a typo in your alloy code. Your style key should be <code>.container</code>, not <code>container</code>, in the index.tss. You're missing the dot, which signifies class. This causes the window to not get the appropriate properties, which in turn accounts for the disparity between your alloy and traditional code. When you fix that, the Alloy and traditional version look exactly the same, as in your 2nd screenshot. The formatting difference is a result of the changes in size and formatting imposed by Apple with iOS 7, not Titanium. As with all other iOS developers (not just Titanium ones), you'll unfortunately need to account for these formatting changes in your app.
   
   For reference, here's the working Alloy and traditional versions
   
   <h4>traditional</h4>
   
   <h4>app.js</h4>
   
   <code><pre>
   var win = Ti.UI.createWindow({
   	layout: "vertical",
     width: Ti.UI.FILL,
     height: Ti.UI.SIZE
   });
   
   var mainValue = Ti.UI.createLabel({
   	text: '00',
   	borderColor: 'red',
   	height: Ti.UI.SIZE,
     top: 0,
     font: {
       fontFamily: "ProximaNovaSoft-Regular",
       fontSize:"150dp"
     },
     color: "#119ca6"
   });
   
   var mainLabel = Ti.UI.createLabel({
   	text: 'Days',
   	font: {
       fontFamily: "ProximaNovaSoft-Regular",
       fontSize:"24dp"
     },
     color: "#119ca6",
     top: "-50dp"
   });
   
   win.add(mainValue);
   win.add(mainLabel);
   
   win.open();
   </pre></code>
   
   <h4>alloy</h4>
   
   Unchanged from your version, other than fixing your typo.
   
   <h4>index.xml</h4>
   
   <code><pre>
   &lt;Alloy&gt;
       &lt;Window class="container" layout="vertical"&gt;
           &lt;Label id="countdownMainValue" borderColor="red"&gt;00&lt;/Label&gt;
           &lt;Label id="countdownMainLabel"&gt;Days&lt;/Label&gt;
       &lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   <h4>index.tss</h4>
   
   <code><pre>
   ".container" : {
       layout: "vertical",
       width: Ti.UI.FILL,
       height: Ti.UI.SIZE
   },
   
   "#countdownMainValue" : {
       height: Ti.UI.SIZE,
       top: 0,
       font: {
           fontFamily: "ProximaNovaSoft-Regular",
           fontSize:"150dp"
       },
       color: "#119ca6",
    },
   "#countdownMainLabel[platform=ios]" : {
       font: {
           fontFamily: "ProximaNovaSoft-Regular",
           fontSize:"24dp"
       },
       color: "#119ca6",
       top: "-50dp",
   }
   </pre></code>
   
   <h4>index.js</h4>
   
   <code><pre>
   $.index.open();
   </pre></code></li>
<li>James Semple 2013-09-27

   Tony, to clarify here the issue is that the same Titanium label code behaves differently from iOS6 to iOS7. The difference is in the placement of the word 'Days' and we believe it is related to using a negative top value. I also do not believe this is related to Alloy however we need to push for this change in behaviour to at least be confirmed by Appcelerator. </li>
<li>Ingo Muschenetz 2013-09-27

   Marking as duplicate of linked issue.</li>
<li>Lee Morris 2017-03-22

   Closing ticket as duplicate and links to the related ticket have been provided above.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15349.json">JSON Source</a></p>