---
title: "[TIMOB-15437] Android: Titanium.Platform.displayCaps.dpi incorrect for Samsung S4 / Sony Experia Z emulator"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2013-10-09T22:00:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android</td></tr>
<tr><th>Reporter</th><td>Fabiano Taioli (vista)</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-09-26T07:54:03.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-29T20:59:49.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm testing a simple titanium app on an android avd obtained from a Xperia Z device definition (similar to samsung s4).

The app works but I got a wrong value for Titanium.Platform.displayCaps.dpi

The app report a wrong value for Titanium.Platform.displayCaps.dpi = 320 (avd has a dpi of 480).

If can help finding a solution the Ti.Platform.displayCaps.platformWidth correctly report 1080.

Attached AVD config

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15437_42779/Schermata 2013-09-25 alle 10.22.40.png">Schermata 2013-09-25 alle 10.22.40.png</td></td><td>2013-09-26T07:54:03.000+0000</td><td>78581</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jamie Buckley 2013-10-03

   [~morahman] He isn't using the actual device, he is using an AVD simulator based on the device, you should be able to create a custom simulator based on this to test.</li>
<li>Tommy Leung 2013-10-08

   This is a problem on the emulators only. It seems to work fine on the actual device.
   Googling indicates this is a problem on native applications as well and is a problem with the emulator.</li>
<li>Fabiano Taioli (vista) 2013-10-09

   I have no the real device to test but may be really an emulator issue.
   
   I was able to force the right DPI values on emulator with this commands:
   
   > adb shell setprop qemu.sf.lcd_density 480
   > adb shell stop
   > adb shell start</li>
<li>Ingo Muschenetz 2013-10-09

   From the comments, it _sounds_ as if this is an emulator bug, not an issue with the Titanium platform. [~tlsg] do you have any links?
   
   Otherwise, can you please provide the following:
   
   <h4>Steps you used to create the emulator.</h4>
   <h4>Sample app you used to test the theory</h4>
   <h4>Actual vs. expected results (I'm assuming alert of Titanium.Platform.displayCaps.dpi displays 320,nut browsing the info of the AVD displays 480)</h4></li>
<li>Tommy Leung 2013-10-09

   This is SO for the commands Fabino found: <a href="http://stackoverflow.com/questions/12919341/any-suggestions-on-getting-xxhdpi-working-in-the-android-emulator" rel="nofollow" target="_blank">http://stackoverflow.com/questions/12919341/any-suggestions-on-getting-xxhdpi-working-in-the-android-emulator</a>
   
   This is one of the many places developers were complaining about the wrong dpi: <a href="http://www.basic4ppc.com/android/forum/threads/density-for-1080x1920-is-not-correct.29686/" rel="nofollow" target="_blank">http://www.basic4ppc.com/android/forum/threads/density-for-1080x1920-is-not-correct.29686/</a>
   
   And looking at the code for Ti, the reported dpi is indeed just calling the same underlying android function "context.getResources().getDisplayMetrics().density" so it would make sense that this is an emulator problem.</li>
<li>Ingo Muschenetz 2013-10-09

   Based on comments, this appears to not be our bug. Resolving as such.</li>
<li>Lee Morris 2017-03-29

   Closing ticket as it has been established that the issue is not our bug.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15437.json">JSON Source</a></p>