---
title: "[TIMOB-15439] Android: App crashes with just a few ImageViews"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-10-28T22:55:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 22, 2013 Sprint 22 Core</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>regression</td></tr>
<tr><th>Reporter</th><td>Davide Cassenti</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2013-10-09T13:02:50.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T22:34:00.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description of the problem</h4>
When there are few ImageViews in the app, if the image is big, the Emulator crashes with an 'out-of-memory' error. Images in the test is 280KB and is added 5 times to the app.

<h4>Steps to reproduce</h4>
Use the attached image, and the following code:

<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor: 'black'
});

function createImageView() {
	var iv = Ti.UI.createImageView({
		backgroundImage: '/background_main.png'
	});
	
	return iv;
}

for (var i=0; i&lt;5; i++) {
	win.add(createImageView());
}

win.open();
</pre></code>

<h4>Note</h4>
Running this on Nexus 4 with Android 4.3.3 works fine; same using SDK 3.1.2. Before the crash, the heap size increases up to ~48MB and then the app exits.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15439_43031/background_main.png">background_main.png</td></td><td>2013-10-09T13:04:11.000+0000</td><td>286070</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15439_43437/timob-15439-3.1.2.txt">timob-15439-3.1.2.txt</td></td><td>2013-10-24T17:09:51.000+0000</td><td>579</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15439_43438/timob-15439-3.1.3.txt">timob-15439-3.1.3.txt</td></td><td>2013-10-24T17:09:51.000+0000</td><td>19036</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2013-10-09

   [~dcassenti] to confirm:
   
   * 3.1.2 + all Android devices => no problem
   * 3.1.3 + Android 4.2.2 => crash
   * 3.1.3 + Android 4.3.3 => no problem
   
   Is this correct?
   </li>
<li>Ingo Muschenetz 2013-10-09

   I added the two ImageView tickets fixed in 3.1.3. Either of those look like culprits?</li>
<li>Davide Cassenti 2013-10-24

   Attaching logs coming from Android Emulator 4.2.2 with SDK 3.1.2 vs 3.1.3
   
   The heap grows drastically with 3.1.3, while is fine in 3.1.2</li>
<li>Allen Yeung 2013-10-28

   I could not reproduce this on the latest master branch.  I tried on a 4.2.2 emulator, and a 4.2.2 device.  From the logs, this looks like it is fast dev related.  If that is the case, it will not exist in the latest master build since we don't support fastdev with the new Android Build command.
   
   Please refer to TIMOB-15519 on the fastdev deprecation status.</li>
<li>Lee Morris 2017-03-21

   Closing ticket as the issue cannot be reproduced and due to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15439.json">JSON Source</a></p>