---
title: "[TIMOB-15448] iOS: No event generated on click of map annotation title or subtitle"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2015-08-13T03:09:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.0, Release 3.2.1, Release 3.2.3</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios7, qe-3.2.1</td></tr>
<tr><th>Reporter</th><td>Mostafizur Rahman</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2013-10-09T08:27:02.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-29T22:04:21.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem </h4>
When clicking on an annotation in a mapview, no event is generated for SDK 7.x/8.x but itâ€™s working well for SDK 6.1.

For more details visit <a href="http://developer.appcelerator.com/question/157471/mapview-click-event-listener-not-working-ios7" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/157471/mapview-click-event-listener-not-working-ios7</a>

<h4>Test Code</h4>

<code><pre>
var win2 = Ti.UI.createWindow({
	barColor : '#ff0000',
	extendEdges : [Ti.UI.EXTEND_EDGE_ALL],
});

var mountainView = Titanium.Map.createAnnotation({
	latitude : 37.390749,
	longitude : -122.081651,
	title : "Appcelerator Headquarters",
	subtitle : 'Mountain View, CA',
	pincolor : Titanium.Map.ANNOTATION_RED,
	animate : true,
	leftButton : '/images/arrow.png',
	myid : 1 // Custom property to uniquely identify this annotation.
});

var mapview = Titanium.Map.createView({
	mapType : Titanium.Map.STANDARD_TYPE,
	region : {
		latitude : 37.390749,
		longitude : -122.081651,
		latitudeDelta : 0.01,
		longitudeDelta : 0.01
	},
	animate : true,
	regionFit : true,
	userLocation : true,
	annotations : [mountainView]
});

win2.add(mapview);
// Handle click events on any annotations on this map.
mapview.addEventListener('click', function(evt){
    var clicksource = evt.clicksource;
    
    alert(clicksource);
    if (clicksource == 'title' || clicksource == 'rightButton'){  
        Ti.API.info('Item clicked');                           
    }
});

win2.open();

</pre></code>

<h4>Steps to reproduce</h4>

Please follow my steps to reproduce this bug:-

<h4>Create new project </h4>
<h4>Replace app.js code to my test code</h4>
<h4>Run with IOS SDK 6.1 </h4>
<h4>Click on annotation pin. Annotation appears with title and subtitle</h4>
<h4>Click on title or subtitle</h4>
<h4>Its shows alert message </h4>
<h4>Now change to iOS SDK 7.x/8.x and follow steps 4 to 6</h4>
<h4>For iOS 7/8, if you click on title or subtitle, alert message will not display</h4>


<h3>Comments</h3>

<ol>
<li>Aaron K. Saunders 2013-10-30

   So is this a bug that is going to be fixed anytime soon? hard to determine from the comments here... is there a workaround suggested.</li>
<li>Ingo Muschenetz 2013-10-30

   [~aaron@clearlyinnovative.com] We are investigating and will let you know an approximate ETA.</li>
<li>Adam Paxton 2013-10-30

   </li>
<li>Vishal Duggal 2013-11-05

   The basic problem is how mapView fires the click event.
   On iOS it is fired when the annotation is selected or deselected, not when you click somewhere on the map.
   
   On iOS7 clicking on an annotation that is selected does not deselect the annotation (as it does on older versions of iOS). Hence it does not fire the click event.
   
   To fix this we would actually have to break existing behavior and redefine the events supported by the mapView. 
   Right now as a workaround please use the leftbutton or rightbutton properties of the annotation and listen to the click event with the appropriate clicksource. 
   
   We will address this in the next release.</li>
<li>Varun Joshi 2013-11-26

   Is there any progress on this issue? We require this feature for a customer's app.</li>
<li>Ingo Muschenetz 2013-11-26

   [~vjoshi] Apologies, not yet. It will be addressed in version 3.3.0 of the SDK.</li>
<li>Wilson Luu 2014-02-04

   Issue is still reproducible on iOS 7. Tested on:
   
   Appcelerator Studio, build: 3.2.1.201401311225
   SDK build: 3.2.0.GA, 3.2.1.v20140203160859
   CLI: 3.2.1-beta3
   Alloy: 1.3.1-cr
   Xcode: 5.0.2
   Device: ipad 2 (7.0.4)</li>
<li>Ingo Muschenetz 2014-05-06

   After investigation, this has more side effects than we previously thought. We need to move this to the next release. In the meantime, use the workarounds as suggested by Vishal.</li>
<li>Fokke Zandbergen 2015-06-25

   Still an issue in 4.0.0.GA. No events fired when you tap on the title, subtitle, leftButton/View or rightButton/View.
   
   Simple example:
   <a href="https://gist.github.com/FokkeZB/1d2c98867f621798a5fa" rel="nofollow" target="_blank">https://gist.github.com/FokkeZB/1d2c98867f621798a5fa</a></li>
<li>Chee Kiat Ng 2015-08-13

    </li>
<li>Adam Paxton 2015-08-13

    TIMOB-19215 doesn't appear to be available publicly.  
    
    Is there a way for the 16 or so non appc-employees watching this ticket to be able to track the new one?</li>
<li>Aaron K. Saunders 2015-08-13

    this issue has been going on two years? and now we cannot track it any longer...</li>
<li>Fokke Zandbergen 2015-08-13

    [~aaron@clearlyinnovative.com] [~adampax] it has been resolved and I've asked for the ticket to be made public.</li>
<li>Nikita Radaev 2015-08-18

    There is still an issue with click event detection for "title" element. Tested on Iphone 6 with Ti.MAP version 2.3.3. and Titanium v 4.1.0 GA.
    
    Update: leftPane and leftView element clicks also dont throw events.</li>
<li>Adam Paxton 2015-08-18

    [~nradaev] The new ticket TIMOB-19215 says the issue has been resolved in SDK 4.1.1.  You will need to wait until 4.1.1 is released or test with a [continuous build](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Installing_Titanium_SDK_Continuous_Builds)</li>
<li>Nikita Radaev 2015-08-18

    Retested with 4.1.1 v20160816214204 and confirmed that issues described in my comment above +still present+.</li>
<li>Adam Paxton 2015-08-18

    You may want to post your findings on that ticket as well.</li>
<li>Lee Morris 2017-03-29

    Closing ticket as duplicate, with reference to the above link, which was fixed in August 2015.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15448.json">JSON Source</a></p>