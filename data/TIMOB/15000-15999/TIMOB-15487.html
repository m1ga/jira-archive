---
title: "[TIMOB-15487] Android: Being able to name the activity related to a heavyweight window"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2014-04-03T19:15:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.3</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 07, 2014 Sprint 07 SDK</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-10-15T02:04:38.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T22:53:44.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
Customer requieres to be able to set the activity name related to a heavyweight window, so he can refer to it from an external android native module. 



<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-03-31

   We think that TiJSActivity is the correct short-term solution. We will revisit this as part of Ti.Next, as it requires breaking changes to the API.</li>
<li>Vishal Duggal 2014-04-03

   The Current Titanium Windowing system is view centric. Although every heavyweight window creates a new Activity, the activity is one of two classes TiActivity and TiTranslucentActivity.
   
   There are two workarounds to this issue.
   
   1. Create a native Android Activity and launch it through proper intents. The drawback of this method of course would be that you would not get a built in JS bridge.
   2. Launch activities associated with java script files (Commonly referred to as JSActivity). The usage of the JSActivity is similar to the <code>url</code> parameter of the Ti.UI.Window class.
    
   Please note that the JSActivity thus created has no specific theme and will inherit the application theme. To determine the exact class name see the generated Android Manifest file in the build folder. To overwrite the default activity setting add corresponding entries to the tiapp.xml for the generated activity.
   
   The steps required to create and use a JS activity are as follows.
   
   1. Add an entry to the tiapp.xml to declare the activity. In the android section of tiapp.xml add something similar to the entry below
   <code><pre>
   <activities>
       <activity url="myActivity.js"/>
   </activities>
   </pre></code>
   2. Create an intent to launch the activity associated with the JS file. Example below
   <code><pre>
   var intent = Ti.Android.createIntent({
       action: Ti.Android.ACTION_VIEW,
       url: 'myActivity.js'
   });
   </pre></code>
   3. Launch the intent with the top most activity
   
   Full code example shown below
   <code><pre>
   *************************
   File : app.js
   *************************
   var win = Ti.UI.createWindow({ title: 'JS ACTIVITIES',exitOnClose:true,backgroundColor:'white'});
    
   var b1 = Ti.UI.createButton({title:'START myActivity1'});
   
   b1.addEventListener('click',function(e) {
   	Ti.API.info('GOT CLICK. CREATING INTENT');
   	var intent = Ti.Android.createIntent({
   	    action: Ti.Android.ACTION_VIEW,
   	    url: 'myActivity.js'
   	});
   	Ti.API.info('STARTING ACTIVITY');
   	win.activity.startActivity(intent);
   });
   
   
   win.add(b1);
   
   win.open();
   *************************
   File : myActivity.js
   *************************
   var activity = Ti.Android.currentActivity;
   var win1 = Ti.UI.currentWindow;
   var button = Ti.UI.createButton({title:'Open Me Again'});
   win1.add(button);
   
   
   button.addEventListener('click',function(e) {
   	Ti.API.info('GOT CLICK. CREATING INTENT');
   	var intent = Ti.Android.createIntent({
   	    action: Ti.Android.ACTION_VIEW,
   	    url: 'myActivity.js'
   	});
   	Ti.API.info('STARTING ANOTHER INSTANCE OF MYSELF');
   	activity.startActivity(intent);
   });
   
   
   
   activity.addEventListener("create", function(e) {
   	Ti.API.info('IN CREATE OF myActivity');	
   });
   
   activity.addEventListener("destroy", function(e) {
   	Ti.API.info('IN DESTROY OF myActivity');	
   });
   </pre></code></li>
<li>Lee Morris 2017-03-22

   Closing ticket as "Won't Fix".</li>
</ol>


<p><a href="/TIMOB/TIMOB-15487.json">JSON Source</a></p>