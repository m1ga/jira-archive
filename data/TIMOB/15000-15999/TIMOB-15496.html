---
title: "[TIMOB-15496] Android TabGroup's actionBar actionViews don't expand"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2018-10-05T14:54:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.3</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam</td></tr>
<tr><th>Reporter</th><td>Olmo Kramer</td></tr>
<tr><th>Assignee</th><td>Yordan Banev</td></tr>
<tr><th>Created</th><td>2013-10-15T15:27:05.000+0000</td></tr>
<tr><th>Updated</th><td>2018-10-05T14:54:45.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
When adding a menuItem to the actionBar with an actionView and <code><pre>showAsAction : Ti.Android.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW | Ti.Android.SHOW_AS_ACTION_ALWAYS</pre></code> to a TabGroup, the item never expands to show the actionView. This is with a TabGroup, and nothing happens when i click the 'search' icon.

<h4>Test Case</h4>

<code><pre>var win = Ti.UI.createTabGroup({
    backgroundColor: 'blue',
    fullscreen: false
});
var tab = Ti.UI.createTab({title: "test"});
var tabWin = Ti.UI.createWindow({title: "testWin"});
tab.window = tabWin;
win.add(tab);

var search;
var searchAsChild = false;

if (Ti.Platform.name == 'android' && Ti.Platform.Android.API_LEVEL &gt; 11) {
    // Use action bar search view
    search = Ti.UI.Android.createSearchView({
        hintText: "Table Search"
    });

	win.addEventListener("open", function(e) {
    win.getActivity().onCreateOptionsMenu = function(e) {
        var menu = e.menu;
        var menuItem = menu.add({
            title: 'Table Search',
            actionView : search,
            icon: (Ti.Android.R.drawable.ic_menu_search ? Ti.Android.R.drawable.ic_menu_search : "my_search.png"),
            showAsAction: Ti.Android.SHOW_AS_ACTION_IF_ROOM | Ti.Android.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW
        });
    };
	});
}
else {
    // Use search bar
    search = Ti.UI.createSearchBar({
        hintText: "Table Search"
    });
    searchAsChild = true;
}

var data = [];
data.push(Ti.UI.createTableViewRow({title:'Apple'}));
data.push(Ti.UI.createTableViewRow({title:'Banana'}));
data.push(Ti.UI.createTableViewRow({title:'Orange'}));
data.push(Ti.UI.createTableViewRow({title:'Raspberry'}));

var tableview = Titanium.UI.createTableView({
    data:data,
    search:search,
    searchAsChild:searchAsChild
});

win.add(tableview);
win.open();</pre></code>

<h4>Extra info </h4>
However, when i try it with a Window instead of a TabGroup, it does work: (note: this is identical to previous case except for changing the tabgroup to a window)
<code><pre>var win = Ti.UI.createWindow({
    backgroundColor: 'blue',
    fullscreen: false
});
//var tab = Ti.UI.createTab({title: "test"});
//var tabWin = Ti.UI.createWindow({title: "testWin"});
//tab.window = tabWin;
//win.add(tab);

var search;
var searchAsChild = false;

if (Ti.Platform.name == 'android' && Ti.Platform.Android.API_LEVEL &gt; 11) {
    // Use action bar search view
    search = Ti.UI.Android.createSearchView({
        hintText: "Table Search"
    });

	win.addEventListener("open", function(e) {
    win.getActivity().onCreateOptionsMenu = function(e) {
        var menu = e.menu;
        var menuItem = menu.add({
            title: 'Table Search',
            actionView : search,
            icon: (Ti.Android.R.drawable.ic_menu_search ? Ti.Android.R.drawable.ic_menu_search : "my_search.png"),
            showAsAction: Ti.Android.SHOW_AS_ACTION_IF_ROOM | Ti.Android.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW
        });
    };
	});
}
else {
    // Use search bar
    search = Ti.UI.createSearchBar({
        hintText: "Table Search"
    });
    searchAsChild = true;
}

var data = [];
data.push(Ti.UI.createTableViewRow({title:'Apple'}));
data.push(Ti.UI.createTableViewRow({title:'Banana'}));
data.push(Ti.UI.createTableViewRow({title:'Orange'}));
data.push(Ti.UI.createTableViewRow({title:'Raspberry'}));

var tableview = Titanium.UI.createTableView({
    data:data,
    search:search,
    searchAsChild:searchAsChild
});

win.add(tableview);
win.open();</pre></code>

<h3>Comments</h3>

<ol>
<li>Ren√© Wilby 2014-01-22

   I can confirm that in TiAlloy 1.3 and SDK 3.2.0.GA on Android 4.1.2 and Android 4.3.</li>
<li>Rainer Schleevoigt 2014-08-21

   +1  I have the same issue in my project</li>
<li>jithinpv 2014-09-12

   Issue reproduces
   
   Titanium SDK version 3.4.0 master, 3.1.3.GA
   Titanium Studio, build: 3.3.0.201407100905
   Titanium Command-Line Interface
   CLI version 3.3.0, 
   Android device : Motorola Moto G, Android version : 4.4.4
   
   Note : in SDK 3.4.0 master search button is displayed.</li>
<li>Yordan Banev 2018-10-05

   Tested with 7.0.0.GA the issue can't be reproduced. Closing as such.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15496.json">JSON Source</a></p>