---
title: "[TIMOB-15526] iOS: Tableview's search filter does not render results correctly in a Popover "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-03-06T18:17:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.1</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 05, 2014 Sprint 05 API, Release 3.2.3, Release 3.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>popover, qe-testadded, supportTeam</td></tr>
<tr><th>Reporter</th><td>Tom Raggett</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-10-17T08:40:09.000+0000</td></tr>
<tr><th>Updated</th><td>2014-03-12T23:16:43.000+0000</td></tr>
</table>

<h3>Description</h3>

If I create a Popover containing a TableView with a SearchBar, when I filter the TableView by typing in the SearchBar, I see the (correct) filtered TableViewRows overlaid on the full unfiltered table. You can see this in the attached screenshot where Row 4 is at the top and the bottom of the display having typed 4 in the SearchBar.

This is visually bad, although the click behaviour is correct (you can click on the filtered rows only).

Work around is to use a separate SearchBar and populate the table based on change events. I would prefer that it just worked.

Test code has instructions to see the correct behaviour outside a Popover.

<code><pre>
// Titanium SearchBar+TableView in Popover shows filtered items over all table items
var win = Titanium.UI.createWindow({backgroundColor:'white'});

var button1 = Titanium.UI.createButton({
	title:'Show popover',
	borderColor: 'black',
	top: 40
});

win.add(button1);

var data = [];
data[0] = Ti.UI.createTableViewRow({title:'Row 1'});
data[1] = Ti.UI.createTableViewRow({title:'Row 2'});
data[2] = Ti.UI.createTableViewRow({title:'Row 3'});
data[3] = Ti.UI.createTableViewRow({title:'Row 4'});
	
var search = Ti.UI.createSearchBar({});

var table = Ti.UI.createTableView({
	search: search,
	data: data
});

var popover = Ti.UI.iPad.createPopover({});
popover.add(table);

button1.addEventListener('click', function(){
	popover.show({view: button1});
	// comment previous line and uncomment next two lines to see an ugly but correctly functioning table+search
	//table.top = 40; //iOS7
	//win.add(table);
	});

win.open();
</pre></code>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-15526_45951/sample_project.zip">sample_project.zip</td></td><td>2014-02-14T22:02:01.000+0000</td><td>2553902</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-15526_45952/scr_shot1.png">scr_shot1.png</td></td><td>2014-02-14T22:02:01.000+0000</td><td>96779</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-15526_45953/scr_shot2.png">scr_shot2.png</td></td><td>2014-02-14T22:02:01.000+0000</td><td>104072</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-15526_45954/scr_shot3.png">scr_shot3.png</td></td><td>2014-02-14T22:02:01.000+0000</td><td>62982</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-15526_43261/Titanium Popover TableView SearchBar issue.png">Titanium Popover TableView SearchBar issue.png</td></td><td>2013-10-17T08:40:09.000+0000</td><td>43517</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2014-03-04

   Pull pending against master
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/5419" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5419</a></li>
<li>Vishal Duggal 2014-03-11

   Backport to 3_2_X
   <a href="https://github.com/appcelerator/titanium_mobile/pull/5455" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5455</a></li>
<li>Olga Romero 2014-03-12

   Tested and verified the fix with
   Appcelerator Studio, build: 3.2.1.201402061120
   Titanium SDK, build: 3.2.3.v20140312130857
   Device:
   iPad Air iOS version 7.1
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-15526.json">JSON Source</a></p>