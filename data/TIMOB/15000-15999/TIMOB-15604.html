---
title: "[TIMOB-15604] CLI: iOS fails to build to simulator"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-11-01T23:14:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 22, 2013 Sprint 22 Core, Release 3.2.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>qe-3.2.0, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Samuel Dowse</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-10-29T00:43:27.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-24T18:37:25.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>
Running the build command through CLI fails

<h4>Steps To Reproduce</h4>
1. Create an iOS project
2. Open the CLI
3. cd into the project directory
4. Run "ti build --platform=ios -I 7.0.3"
5. Run "ti build --platform=ios -I 7.0"

<h4>Expected Result</h4>
4. Project to run using iOS SDK 7.0.3
5. Project to run using iOS SDK 7.0

<h4>Actual Result</h4>
4. Asks to use iOS SDK 7.0
5. Asks to use iOS SDK 7.0.3

+Extra Information+
4.
<code><pre>
[ERROR] An error occurred running the iOS Simulator
[ERROR] Unknown or unsupported SDK version: 7.0.3
[ERROR] [DEBUG] Simulator SDK Roots:
[ERROR] [DEBUG] 'Simulator - iOS 5.0' (5.0)
[ERROR]         /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.0.sdk
[ERROR] [DEBUG] 'Simulator - iOS 5.1' (5.1)
[ERROR]         /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk
[ERROR] [DEBUG] 'Simulator - iOS 6.0' (6.0)
[ERROR]         /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.0.sdk
[ERROR] [DEBUG] 'Simulator - iOS 6.1' (6.1)
[ERROR]         /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator6.1.sdk
[ERROR] [DEBUG] 'Simulator - iOS 7.0' (7.0)
[ERROR]         /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator7.0.sdk
[ERROR]   
[ERROR] Project failed to build after 1s 143ms
</pre></code>
5.
<code><pre>
[ERROR] Invalid "--ios-version" value "7.0"

Accepted values:
   7.0.3
 
[ERROR] Invalid "--sim-version" value "7.0"

Accepted values:
   7.0.3
   6.1
   6.0
   5.1
   5.0
</pre></code>

<h3>Comments</h3>

<ol>
<li>Isaac Whitfield 2013-10-29

   Occurs for me as well on latest 3.2.0 CLI, latest 3.2.0 SDK and latest 3.2.0 Appcelerator Studio.</li>
<li>Chris Barber 2013-10-29

   This should be fixed now in master.</li>
<li>Wilson Luu 2013-10-29

   Reopening ticket.
   
   "ti build --platform=ios -I 7.0" command works with current SDK master build. But, "ti build --platform=ios -I 7.0.3" is returning this error:
   
   <code><pre>
   [TRACE]     /bin/sh -c /Users/wluu/Documents/Titanium_Studio_Workspace/monkeyFace/build/iphone/build/monkeyFace.build/Debug-iphonesimulator/monkeyFace-universal.build/Script-DABB369F12E8CB280026A6EA.sh
   [TRACE] [ERROR] Invalid "--ios-version" value "7.0"
   [TRACE]   
   [TRACE] Accepted values:
   [TRACE]    7.0.3
   [TRACE]   
   [TRACE] For help, run 'titanium help build'.
   [TRACE] Command /bin/sh failed with exit code 1
   [ERROR] ** BUILD FAILED **
   [ERROR] The following build commands failed:
   [ERROR]         PhaseScriptExecution Pre-Compile build/monkeyFace.build/Debug-iphonesimulator/monkeyFace-universal.build/Script-DABB369F12E8CB280026A6EA.sh
   [ERROR] (1 failure)
   </pre></code>
   
   Tested on:
   
   SDK build: 3.2.0.v20131029113339
   Ti CLI: 3.2.0 (master)
   Xcode: 5.0, 5.0.1
   OS: Maverick (10.9)</li>
<li>Nuno Costa 2013-10-29

   I can confirm this, happened to me all day:  (CLI version 3.2.0, Titanium SDK version 3.2.0.v20131029135645)
   
   Mac OSX 10.8.5 
   Titanium Studio, build: 3.2.0.201310290757
   Titanium SDK, build: 3.2.0.v20131029135645
   CLI: 3.2.0
   Alloy: 1.3
   Xcode: 5.0.1
   
   <code><pre>
   
   ti build --platform=ios -I 7.0
   
   [ERROR] Invalid "--ios-version" value "7.0"
   
   Please select a valid ios-version value
    1)  7.0.3
   Select a value by number or name: 7.0.3
   
   ti build --platform=ios -I 7.0.3
   
   [ERROR] An error occurred running the iOS Simulator
   [ERROR] [DEBUG] Session could not be started: Error Domain=DTiPhoneSimulatorErrorDomain Code=1 "iOS Simulator failed to install the application." UserInfo=0x7fa30c0a8660 {NSLocalizedDescription=iOS Simulator failed to install the application., DTiPhoneSimulatorUnderlyingErrorCodeKey=-1}
   [ERROR]
   </pre></code>
   
   
   P.S
   If I open the project in xcode  I have to go to the build phases and in PRE-compiler script I have to add <code><pre> --ios-version 7.0.3 </pre></code>before the NO-COLORS  then the simulator and the app runs fine.</li>
<li>Dhirendra Jha 2013-10-30

   Environment - 
   Mac OSX 10.9 (Mavericks)
   Appc Studio, build: 3.2.0.201310300145
   Titanium SDK, build: 3.2.0.v20131029150357
   CLI: 3.2.0
   Alloy: 1.3
   Xcode: 5.0.1
   
   Result - Its still reproducible. From Studio, build failed with below error message - 
   ---------------------------------
   [ERROR] :  ** BUILD FAILED **
   [ERROR] :  The following build commands failed:
   [ERROR] :  	PhaseScriptExecution Pre-Compile build/testapp1.build/Debug-iphonesimulator/testapp1.build/Script-241EAF36118E30260081A5BE.sh
   [ERROR] :  (1 failure)
   ------------------------------
   Tried again and got the below error message - 
   -----------------------
   [ERROR] :  An error occurred running the iOS Simulator
   [ERROR] :  [DEBUG] Session could not be started: Error Domain=DTiPhoneSimulatorErrorDomain Code=1 "iOS Simulator failed to install the application." UserInfo=0x7f8758508520 {NSLocalizedDescription=iOS Simulator failed to install the application., DTiPhoneSimulatorUnderlyingErrorCodeKey=-1}
   [ERROR] :  
   [ERROR] :  Project failed to build after 26s 289ms
   ----------------------
   
   From CLI, I executed command - "ti build --platform iphone -T simulator --ios-version 7.0.3". Observed that build happens successfully but got the below error message - 
   [INFO]  Focusing the iOS Simulator
   [ERROR] An error occurred running the iOS Simulator
   [ERROR] [DEBUG] Session could not be started: Error Domain=DTiPhoneSimulatorErrorDomain Code=1 "iOS Simulator failed to install the application." UserInfo=0x7ff763406380 {NSLocalizedDescription=iOS Simulator failed to install the application., DTiPhoneSimulatorUnderlyingErrorCodeKey=-1}
   [ERROR]   
   [ERROR] Project failed to build after 6s 980ms </li>
<li>Nuno Costa 2013-10-30

   @Dhirendra Jha, 
   Have you tried reproduce what I described in my comment? 
   
   Read please the *P.S* part, I just cant remember if I put <code><pre>--ios-version 7.0.3</pre></code>  or <code><pre>ios-version 7.0.3</pre></code>
   
   you confirm?
   
   - Nuno
   
   
   *EDIT:*
   Actually I really want test and help debug the 3.2.0xxxx  but i'm unable to do so :(
   Any tip I will appreciate!</li>
<li>Nuno Costa 2013-10-30

   Okay I had to downgrade xcode, from 5.0.1 to 5.0, so now the cli, or sdk 3.2.0.xxxxx, or the script responsible to deploy the app to simulator works as expected, because he find the iOS 7.0 simulator.
   
   At least now I can test both, sdk 3.2.x and Studio ;)
   
   - Nuno</li>
<li>Eric Merriman  2013-10-31

   [~nunocostapt] There have been many changes in the CLI and in Studio to ensure integration. In this case, it's the first time Apple is using a 3-digit simulator and iOS version and so there were changes to support this in the CLI and in Studio. To take advantage of these fixes prior to the GA release, you should be sure to get the latest 3.2.0 versions of all three components: SDK, Studio, and the CLI (from the master branch in the CLI github repo). Watch also ticket TISTUD-5614, and when both TIMOB-15604 and TISTUD-5614 are closed then Xcode 5.0.1 (Specifically iOS 7.0.3) should be functioning.
   </li>
<li>Nuno Costa 2013-10-31

   Eric Merriman, 
   yes, all my reposts are based all on bleeding Edge builds also studio :)
   After my downgrade all worked, so dunno.
   
   Regards
   Nuno</li>
<li>Chris Barber 2013-11-01

    Pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/4898" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4898</a></li>
<li>Samuel Dowse 2013-11-05

    Verified fixed on:
    Mac OSX 10.9 Mavericks
    Titanium Studio, build: 3.2.0.201311050151
    Titanium SDK, build: 3.2.0.v20131105094044
    Alloy: 1.3.0
    CLI: 3.2.0
    XCode: 5.0.1
    
    iOS project now builds and runs on simulator successfully through Studio and CLI.
    Closing.</li>
<li>Tel Tel 2013-12-11

    </li>
</ol>


<p><a href="/TIMOB/TIMOB-15604.json">JSON Source</a></p>