---
title: "[TIMOB-15613] iOS7: Ti.Map.View always asks for permission to use current location"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2014-03-03T20:52:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.3</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-10-24T10:24:33.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-20T22:14:49.000+0000</td></tr>
</table>

<h3>Description</h3>

The following code will show a alert asking the user for permission to use his current location, regardless if <code>userLocation</code> is set to <code>false</code> or unset:

<code><pre>
var win = Titanium.UI.createWindow({
    backgroundColor: '#fff'
});

win.add(Ti.Map.createView({
    mapType: Titanium.Map.STANDARD_TYPE,
    region: {
        latitude: 37.390749,
        longitude: -122.081651,
        latitudeDelta: 0.01,
        longitudeDelta: 0.01
    },
    userLocation: false
}));

win.open();
</pre></code>

<h4>Cause</h4>
When the map is initialized in [TiMapView.m](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/TiMapView.m#L63)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/TiMapView.m#L63)</a>, <code>showsUsersLocation</code> is always set to <code>YES</code>. Instead, this should depend on whether <code>userLocation</code> was set.

<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2013-10-24

   The PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4843" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4843</a></li>
<li>Dan Tamas 2013-10-24

   +1 on this :)</li>
<li>Olga Romero 2014-03-29

   tested 
   <code><pre>
   var map = require("ti.map");
   var win = Titanium.UI.createWindow({
       backgroundColor: '#fff'
   });
    
   win.add(map.createView({
       mapType: map.STANDARD_TYPE,
       region: {
           latitude: 37.390749,
           longitude: -122.081651,
           latitudeDelta: 0.01,
           longitudeDelta: 0.01
       },
       userLocation: false
   }));
    
   win.open();
   </pre></code>
   Mac osx 10.9.2 Mavericks 
   Appcelerator Studio, build: 3.2.3.201403271839 
   Titanium SDK, build:3.2.3.v20140327115429 
   Node.JS Version: v0.10.13 
   NPM Version: 1.3.2 
   /usr/local/lib 
   ├── acs@1.0.14 
   ├── alloy@1.3.1 
   ├── node-appc@0.2.0 
   ├── npm@1.3.2 
   ├── titanium@3.2.3-alpha2 
   └── titanium-code-processor@1.1.1-alpha 
   Devices: 
   iPad air iOS 7.1 
   iPhone 5S iOS 7.1</li>
<li>Lee Morris 2017-03-20

   Closing ticket as duplicate.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15613.json">JSON Source</a></p>