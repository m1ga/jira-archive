---
title: "[TIMOB-15667] iOS: TableViewRow (with custom layout) hasCheck don't works correctly"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-03-14T21:43:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 05, 2014 Sprint 05 API</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>custom, hascheck, ios7, layout, tableviewrow</td></tr>
<tr><th>Reporter</th><td>Eduardo Silva</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2013-11-04T19:22:45.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T22:05:34.000+0000</td></tr>
</table>

<h3>Description</h3>

A TableViewRow (with custom layout) hasCheck don't works correctly in iOS7.

The hasCheck property changed (I see in log), but the symbol remains in screen.

The check symbol appears and disappear, but I need tap in the row many times. The check symbol don't match with the hasCheck value.

custom_tableviewrow.xml

<code><pre>
<Alloy>
    <TableViewRow id="row" onClick="select">
        <ImageView id="image" class="brandDefault" />
        <Label id="titleLabel" class="h3"/>
    </TableViewRow>
</Alloy>
</pre></code> 

custom_tableviewrow.js

<code><pre> 
var args = arguments[0] || {};
$.row.hasCheck   = false;
$.titleLabel.text = args.get("name");
$.image.image  = args.get("imagePath");
function select(e) {
    if($.row.hasCheck == false) {
        $.row.setHasCheck(true);
    } else {
        $.row.setHasCheck(false);
    }
}
</pre></code> 

custom_tableviewrow.tss
<code><pre> 
"#row": {
    layout:"horizontal",    
    width:Ti.UI.FILL,
    height:"40dp",
    selectedBackgroundColor:"#ccc",
    selectedColor:"#000"
}
 
"#image": {
    width:"40dp", height:"40dp"
}
 
".brandDefault": {
    image: "/images/brand_default.png",
    defaultImage: "/images/brand_default.png"   
},
 
"#titleLabel": {
    textAlign:"left",
    width:Ti.UI.SIZE,
    height:Ti.UI.FILL,
    backgroundColor:"transparent",
    color:"#000"
}
</pre></code>

If I try use only the title property in row (removing the layout) it's works fine. :/


<h3>Comments</h3>

<ol>
<li>Sebastien JACQ 2013-11-06

   In addition to the post from Eduardo. 
   The value of the hasCheck property is correctly changed for the row.
   If you scroll the table enough to put the clicked row out of sight and scrollback, the mark appears.
   A solution to correct this is to re-render the table with *table.setData(table.data)*</li>
<li>Stephen Feather 2013-12-16

   Same here.  Only, in my case, the check mark seems to be white.
   
   Row with no backgroundColor declared:
   !<a href="http://content.screencast.com/users/Stephen_Feather/folders/Jing/media/be72c944-8149-4291-8516-1703eadbe541/00000254.png" rel="nofollow" target="_blank">http://content.screencast.com/users/Stephen_Feather/folders/Jing/media/be72c944-8149-4291-8516-1703eadbe541/00000254.png</a>!
   
   Row with a blue backgroundColor declared:
   !<a href="http://content.screencast.com/users/Stephen_Feather/folders/Jing/media/c8bbb364-a873-4de0-b96b-befb9593e3a0/00000253.png" rel="nofollow" target="_blank">http://content.screencast.com/users/Stephen_Feather/folders/Jing/media/c8bbb364-a873-4de0-b96b-befb9593e3a0/00000253.png</a>!
   
   tintColor and color have no effect.
   <code><pre>
   "#tableRow":{
   	height: 65,
   	tintColor: "#000000",
   	color: "#000000"
   }
   </pre></code>
   Titanium SDKs: 3.3.0.v20131127225644
   Xcode: 5.0.2 (build 5A3005)
   iOS SDKs: 7.0.3
   Titanium CLI
     CLI Version                 = 3.2.0
   
   </li>
<li>Vishal Duggal 2014-03-14

   @[~sfeather]
   There is no support for TintColor on TableViewRow and ListItem. I have created another ticket to track that issue
   
   TIMOB-16628
   </li>
<li>Vishal Duggal 2014-03-14

   This is the Common JS Code I used to test. Going to mark the issue as can not reproduce
   <code><pre>
   Ti.UI.setBackgroundColor('#000');
   var win = Ti.UI.createWindow({
     backgroundColor: 'black',
     fullscreen: true,
     title: 'TableView Demo'
   });
   
   var row = Ti.UI.createTableViewRow({
       layout:"horizontal",    
       width:Ti.UI.FILL,
       height:"40dp",
       selectedBackgroundColor:"#ccc",
       selectedColor:"#000"
   });
     
   var imageAvatar = Ti.UI.createImageView({
       width:"40dp", height:"40dp",
       image:'/images/flower.jpg'
   });
   row.add(imageAvatar);
     
   var labelUserName = Ti.UI.createLabel({
       textAlign:"left",
       width:Ti.UI.SIZE,
       height:Ti.UI.FILL,
       backgroundColor:"transparent",
       color:"#000",
       text:'FRED SMITH'
   });
   row.add(labelUserName);
     
   row.hasCheck = false;
   
   row.addEventListener('click',function(e){
       if(e.row.hasCheck == false) {
           Ti.API.info('TRUE');
           e.row.setHasCheck(true);
       } else {
           Ti.API.info('FALSE');
           e.row.setHasCheck(false);
       }
   })
   
   var tableView = Ti.UI.createTableView({
     backgroundColor:'white',
     data:[row],
   });
   
   win.add(tableView);
   win.open();
   </pre></code></li>
<li>Vishal Duggal 2014-03-14

   Please attach complete test case to reproduce issue if it exists</li>
<li>Lee Morris 2017-03-21

   Closing ticket as the issue cannot be reproduced and due to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15667.json">JSON Source</a></p>