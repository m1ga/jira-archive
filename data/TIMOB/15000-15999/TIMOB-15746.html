---
title: "[TIMOB-15746] Android : Blob which returned by toImage Method has undefined mimeType (parity issue)"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-12-10T20:33:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.3</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 25 API, Release 3.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, module_media, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Jong Eun Lee</td></tr>
<tr><th>Assignee</th><td>Sunila</td></tr>
<tr><th>Created</th><td>2013-11-14T02:03:34.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-14T20:35:34.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
 Blob which returned by toImage Method has undefined mimeType in Android. In iOS is working fine. 

<h4>Steps to reproduce</h4>
1. Create a new mobile project
2. Add support for android
3. Paste the code into app.js
<code><pre>
var view = Ti.UI.createView({
    width : 100 ,
    height :100,
    backgroundColor:'blue'
});
var blob = view.toImage();
alert('blob.width:' + blob.width +
         '\n blob.height:' + blob.height +
         '\n blob.mimeType:' + blob.mimeType);
</pre></code>

<h4>Expected Behavior:</h4>
{panel:title=Expected Alert Message}
blob.width : 100
blob.height : 100
blob.mimeType : image/png
{panel}

<h4>Actual Behavior:</h4>
iOS work properly, Buy Android alert below message
{panel:title=Actual Alert Message}
blob.width : 100
blob.height : 100
blob.mimeType : undefined
{panel}




<h3>Comments</h3>

<ol>
<li>Sunila 2013-11-20

   Added mimetype to the krollDict that is returned
   <a href="https://github.com/appcelerator/titanium_mobile/pull/4999" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4999</a></li>
<li>Priya Agarwal 2014-04-18

   Verified the issue.
   Working as expected.
   Getting correct mimeType using toImage Method for blob Object on both Android and iOS.
   
   Appc-Studio:3.2.3.201404162038
   sdk:3.3.0.v20140417173316
   acs:1.0.14
   alloy:1.3.1
   npm:1.3.2
   titanium:3.2.3-beta
   titanium-code-processor:1.1.1-beta1
   xCODE:5.1.1
   Device:Nexus7(v4.4.2),Iphone5(v7.1)
   
   Hence closing the issue.</li>
<li>Kwab Fordjour 2014-08-06

   Has the fix been released in 3.3.0? I am still seeing this issue on my Samsung S4. Can anyone confirm that this fix is working on Samsung devices? From my experience Samsung butchers Android (especially when it comes image media) but since they're such a major player we need this work. 
   
   I think this issue should be reopened or let me know how I can get the fix.
   
   Device:  Samsung Galaxy S4 SGH-I337M
   Android Version:  4.4.2
   
   Environment:
   Titanium Studio : 3.3.0.201407100905
   Titanium SDK : 3.3.0.GA  
   CLI : 3.3.0
   Alloy: 1.4.1
   
   Mac OSX 10.9.4
   </li>
<li>Kwab Fordjour 2014-08-14

   Never mind. I just had to change the Titanium SDK in my tiapp.xml file to 3.3.0.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15746.json">JSON Source</a></p>