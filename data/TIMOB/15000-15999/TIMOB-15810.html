---
title: "[TIMOB-15810] Android: Media: ImageView is not setting the captured image"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2013-11-25T22:58:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>qe-3.2.0</td></tr>
<tr><th>Reporter</th><td>Paras Mishra</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-11-25T11:19:29.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T23:09:35.000+0000</td></tr>
</table>

<h3>Description</h3>

Android: Media: ImageView is not setting the captured image. 
Image is successfully getting saved to gallery. 
This is regression, it works fine on SDK: 3.1.3.GA

Steps to reproduce:
1. Run the App below.
<code><pre>


    //
	//TIMOB-8518 ImageView does not handle width or height set to Ti.UI.FILL correctly
	//

var win = Titanium.UI.createWindow({backgroundColor:'white'});
win.open();

Titanium.Media.showCamera({
 
    success:function(event)
    {
        var cropRect = event.cropRect;
        var image = event.media;
 		Ti.API.info("Height : "+ image.height);
 		Ti.API.info("Width : "+ image.width);
        Ti.API.debug('Our type was: '+event.mediaType);
        
        if(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO)
        {
            var imageView = Ti.UI.createImageView({
                width:Ti.UI.FILL,
                height:Ti.UI.FILL,
                image:KS_nav_ui.png
            });
            Ti.API.info("ImageView Object : "+ imageView);
            win.add(imageView);
        }
        else
        {
            alert("got the wrong type back ="+event.mediaType);
        }
    },
    cancel:function()
    {
    },
    error:function(error)
    {
        // create alert
        var a = Titanium.UI.createAlertDialog({title:'Camera'});
 
        // set message
        if (error.code == Titanium.Media.NO_CAMERA)
        {
            a.setMessage('Please run this test on device');
        }
        else
        {
            a.setMessage('Unexpected error: ' + error.code);
        }
 
        // show alert
        a.show();
    },
    saveToPhotoGallery:true,
    allowEditing:true,
    mediaTypes:[Ti.Media.MEDIA_TYPE_VIDEO,Ti.Media.MEDIA_TYPE_PHOTO]
});

</pre></code>

2. Take the picture and save it.

Expected:
You should see the image in the next screen (a newly created image view)

Actual:
A blank ImageView is displayed.

<h3>Comments</h3>

<ol>
<li>Lokesh Choudhary 2013-11-25

   The code above has the image property of the imageView set to "image:KS_nav_ui.png" rather than "event.media" which is wrong.
   
   This is a duplicate of TIMOB-8518. I am able to repro the issue in TIMOB-8518 when the width & height of the imageView is set to "Ti.UI.FILL" and reopening it.
   
   There is a similar test in "KS/phone/camera/camerabasic" in which the width & height of the imageView is set to "win.height" & "win.width".It works without any issues & I can see the captured image in the imageView.
   
   Environment:
   Appcel Studio : 3.2.0.201311221207
   Ti SDK : 3.2.0.v20131122172908
   Mac OSX : 10.8.5
   Alloy : 1.3.0-alpha6
   CLI - 3.2.0-alpha
   Nexus 5 - android 4.4
   Device: Samsung Galaxy S4 running android 4.2.2
   
    </li>
<li>Lokesh Choudhary 2013-11-25

   </li>
<li>Lee Morris 2017-03-21

   Closing ticket as duplicate with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15810.json">JSON Source</a></p>