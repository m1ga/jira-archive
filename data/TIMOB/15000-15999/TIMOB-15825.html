---
title: "[TIMOB-15825] Android: Media: Camera is not accessible  in Google Nexus 7 with autohide property set to false"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>qe-3.2.0</td></tr>
<tr><th>Reporter</th><td>Paras Mishra</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-11-26T09:48:09.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:04:03.000+0000</td></tr>
</table>

<h3>Description</h3>

Android: Media: Camera is not accessible  in Google Nexus 7 with autohide property false
Issue is reproducible on SDK:3.1.3.GA also.

Steps to reproduce:
1. Run the below app.
<code><pre>


Ti.UI.backgroundColor = "#fff";
var win = Ti.UI.createWindow({  
        title:'Test',
        backgroundColor:'#fff',
        exitOnClose: true,
        orientationModes: [Ti.UI.PORTRAIT]
    }),
    log = function(s) {
        console.log(s);
    },
    btn = Ti.UI.createButton({
        title: "Show camera",
        top: "16dp",
        left: "16dp"
    }),
    hideSwitch = Ti.UI.createSwitch({
        titleOn: "autohide=true",
        titleOff: "autohide=false",
        value: true,
        width: Ti.UI.SIZE,
        height: Ti.UI.SIZE,
        right: "16dp",
        top: "16dp"
    }),
    overlayView = Ti.UI.createView({
        width: Ti.UI.FILL,
        height: Ti.UI.FILL
    }),
    overlayButtonClick = Ti.UI.createButton({
        width: Ti.UI.SIZE,
        height: "48dp",
        bottom: "8dp",
        left: "16dp",
        title: "Take Photo"
    }),
    overlayButtonClose = Ti.UI.createButton({
        width: Ti.UI.SIZE,
        height: "48dp",
        bottom: "8dp",
        right: "16dp",
        title: "Close"
    }),
    options = {
        cancel: function() {
            log("Cancelled");
        },
        error: function(e){
            log("Error - " + e.error);
        },
        success: function(e) {
            log("Media type: " + e.mediaType);
            log("Media size: " + e.media.length);
            makeImageView(e.media);
        },
        autohide: hideSwitch.value,
        saveToPhotoGallery: false,
        showControls: false
    },
    sv = Ti.UI.createScrollView({
        contentWidth: 'auto',
        contentHeight: 'auto',
        width: Ti.UI.FILL,
        height: Ti.UI.FILL,
        layout: 'vertical',
        top: "80dp",
        scrollType: 'vertical',
        backgroundColor: 'black'
    });

overlayView.add(overlayButtonClick);
overlayView.add(overlayButtonClose);

overlayButtonClick.addEventListener("click", function() {
	Ti.Media.takePicture();
});

overlayButtonClose.addEventListener("click", function() {
	Ti.Media.hideCamera();
});

btn.addEventListener("click", function() {
    options.autohide = hideSwitch.value;
    if (hideSwitch.value) {
        if (options.overlay) {
            delete options.overlay;
        }
    } else {
        options.overlay = overlayView;
    }
	Ti.Media.showCamera(options);
});

function makeImageView(blob) {
    sv.add(Ti.UI.createImageView({
        image: blob.imageAsThumbnail(Ti.Platform.displayCaps.platformWidth, 1, 20),
        height: (3 * 48) + "dp",
        width: (Ti.Platform.displayCaps.platformWidth - 48) + "px",
        top: "8dp"
    }));
}

win.add(btn);
win.add(hideSwitch);
win.add(sv);

win.open();
</pre></code>

2. Set autohide=false, click on camera and take multiple pictures. Click on close.

Expected:
Camera should open.

Actual:
Error is logged as "Camera is not accessible".

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-15825.json">JSON Source</a></p>