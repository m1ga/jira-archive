---
title: "[TIMOB-15837] Android: platform-specific Resources folder not working for commonjs modules"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-11-28T06:58:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 24, 2013 Sprint 24 Core, Release 3.2.0, Release 3.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_android, qe-3.2.0, qe-closed-3.2.0, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Shreya Chowbey</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-11-27T10:10:47.000+0000</td></tr>
<tr><th>Updated</th><td>2014-03-07T01:03:06.000+0000</td></tr>
</table>

<h3>Description</h3>

Steps Followed:
1. Create an alloy project.
2. launch the project on android emulator.

Actual Result:
It fails and gives an 'Alloy module not found' as an uncaught exception.

Please refer the attached console log file and screen shot for more clarification.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-15837_44227/alloy_module missing.png">alloy_module missing.png</td></td><td>2013-11-27T10:10:47.000+0000</td><td>225029</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-15837_44228/alloy module missing.txt">alloy module missing.txt</td></td><td>2013-11-27T10:10:47.000+0000</td><td>21762</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Federico Casali 2013-11-27

   Was able to reproduce.
   
   Windows 8
   TiSDK 3.2.0.v20131126144841
   Alloy 1.3.0-beta
   CLI 3.2.0-beta
   Titanium Studio 3.2.0.201311262027
   
   1. Create a new default project in Titanium Studio and run on the emulator from Titanium Studio (Android version tested 2.3.3)
   2. Once run, the described issue is shown.
   3. Checking into the Resources folder, I see the 'alloy.js' file in the Resources/android/ folder. 
   
   The same behavior is also reproducible if creating and building a new Alloy project from CLI. </li>
<li>Tony Lukasavage 2013-11-27

   Can someone please attempt the equivalent issue with a traditional Titanium app so we can determine if this is even an Alloy issue, or if it just happens to occur in an alloy app since alloy uses platform-specific folders. This is untested, but give something like this a shot.
   
   <h4>app.js</h4>
   <code><pre>
   require('alloy').sayHi();
   </pre></code>
   
   <h4>android/alloy.js</h4>
   <code><pre>
   exports.sayHi = function() { alert('hi'); };
   </pre></code></li>
<li>Federico Casali 2013-11-27

   I can reproduce the issue also with a classic project following Tony's latest comment. 
   So, it seems related to platform-specific folders usage. </li>
<li>Chris Barber 2013-11-28

   Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5044" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5044</a>
   3_2_X pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5045" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5045</a></li>
<li>Shreya Chowbey 2013-11-28

   Verified this issue as fixed on,
   Mac 10.9
   Appcelerator Studio, build: 3.2.0.201311261642
   mobilesdk-3.2.0.v20131127194046-osx
   alloy-1.0.3-beta
   
   But verification on Windows OS was blocked  by TISTUD-5815 Windows: Android configuration fails 
   </li>
<li>Samuel Dowse 2013-12-03

   Verified fixed on:
   Windows 8.1
   Titanium Studio, build: 3.2.0.201311262027
   Titanium SDK, build: 3.2.0.v20131127194046
   CLI: 3.2.0-beta
   Alloy: 1.3.0-beta
   
   Created an alloy project and a classic project built and installed to Android emulator and device.
   Used code from description and code from comments.
   Both successfully launched.
   Closing.
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-15837.json">JSON Source</a></p>