---
title: "[TIMOB-15857] CLI: Android build fails when doing a device build, then doing an emulator build on Windows"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-12-05T07:26:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 25, 2013 Sprint 25 Core, Release 3.2.0, Release 3.3.0</td></tr>
<tr><th>Components</th><td>Android, Tooling</td></tr>
<tr><th>Labels</th><td>module_build, qe-closed-3.2.0, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2013-12-02T20:05:51.000+0000</td></tr>
<tr><th>Updated</th><td>2014-07-26T04:40:07.000+0000</td></tr>
</table>

<h3>Description</h3>

If you do an Android device build, then do an emulator build without cleaning, the following error occurs:

<code><pre>
[DEBUG] Removing old file: C:\Users\Thomas Anderson\testapp2\build\android\assets\alloy\backbone.js

C:\Users\Thomas Anderson\AppData\Roaming\npm\node_modules\titanium\node_modules\longjohn\dist\longjohn.js:184
        throw e;
              ^
Error: ENOENT, no such file or directory 'C:\Users\Thomas Anderson\testapp2\build\android\assets\alloy\backbone.js'
    at fs.unlinkSync (fs.js:760:18)
    at AndroidBuilder.&lt;anonymous&gt; (C:\ProgramData\Titanium\mobilesdk\win32\3.2.0.v20131127114913\android\cli\commands\_build.js:2810:7)
    at Array.forEach (native)
    at AndroidBuilder.removeOldFiles (C:\ProgramData\Titanium\mobilesdk\win32\3.2.0.v20131127114913\android\cli\commands\_build.js:2807:35)
    at C:\ProgramData\Titanium\mobilesdk\win32\3.2.0.v20131127114913\node_modules\async\lib\async.js:548:21
    at C:\ProgramData\Titanium\mobilesdk\win32\3.2.0.v20131127114913\node_modules\async\lib\async.js:224:13
    at iterate (C:\ProgramData\Titanium\mobilesdk\win32\3.2.0.v20131127114913\node_modules\async\lib\async.js:131:13)
    at C:\ProgramData\Titanium\mobilesdk\win32\3.2.0.v20131127114913\node_modules\async\lib\async.js:142:25
    at C:\ProgramData\Titanium\mobilesdk\win32\3.2.0.v20131127114913\node_modules\async\lib\async.js:226:17
    at AndroidBuilder.&lt;anonymous&gt; (C:\ProgramData\Titanium\mobilesdk\win32\3.2.0.v20131127114913\node_modules\async\lib\async.js:553:34)
</pre></code>

This happens on Windows 8 while building an Alloy app, though I'm not sure if it's Windows or Alloy specific.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-15857_44294/log.txt">log.txt</td></td><td>2013-12-02T20:05:51.000+0000</td><td>25619</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2013-12-03

   Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5061" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5061</a>
   3.2.x pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5062" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5062</a></li>
<li>Samuel Dowse 2013-12-11

   Verified fixed on:
   Windows 7, Windows 8
   CLI: 3.2.0-cr
   Titanium SDK, build: 3.2.0.v20131210191510
   Android Device: Nexus 5 (4.4)
   Android Emulator: 2.3.3 (API 10)
   
   Application builds and runs on device.
   Application builds and runs on emulator without cleaning the project between builds.
   Closing.
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-15857.json">JSON Source</a></p>