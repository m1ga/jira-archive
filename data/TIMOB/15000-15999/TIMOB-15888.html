---
title: "[TIMOB-15888] Android: WebView cannot pinch zoom on map"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-04-08T21:21:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.3</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 07, 2014 Sprint 07 SDK, Release 3.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, dev-investigate, module_webview, qe-closed-3.3.0, qe-testadded, triage</td></tr>
<tr><th>Reporter</th><td>Stephan Jensen</td></tr>
<tr><th>Assignee</th><td>Sunila</td></tr>
<tr><th>Created</th><td>2013-11-21T12:20:08.000+0000</td></tr>
<tr><th>Updated</th><td>2014-04-28T08:09:18.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
The WebView is unable to zoom in on maps using pinch gestures.
The issue seems to go away if the user pinch zooms another part of the page or on a previous page, before pinch zooming the map.
Android API level is set to 11 in the tiapp.xml manifest.

<h4>Extra info</h4>
Example pages where pinch zooming doesn't work:
<a href="http://leafletjs.com/examples/mobile-example.html" rel="nofollow" target="_blank">http://leafletjs.com/examples/mobile-example.html</a>
<a href="https://maps.google.com/" rel="nofollow" target="_blank">https://maps.google.com/</a>

Viewport metatag is being used on the page to correctly scale the html on the device
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

Q&A about the issue:
<a href="http://developer.appcelerator.com/question/158749/titanium-webview-leafletgmaps-pinch-zoom-not-working-properly" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/158749/titanium-webview-leafletgmaps-pinch-zoom-not-working-properly</a>

<h4>Testcase</h4>
<code><pre>
var win = Ti.UI.createWindow({
	top: '20dp',
	width: Ti.UI.FILL,
	height: Ti.UI.FILL
});

win.add(Ti.UI.createWebView({
	width: Ti.UI.FILL,
	height: Ti.UI.FILL,
	url: '<a href="http://leafletjs.com/examples/mobile-example.html" rel="nofollow" target="_blank">http://leafletjs.com/examples/mobile-example.html</a>'
	//url: '<a href="https://maps.google.com" rel="nofollow" target="_blank">https://maps.google.com</a>'
}));

win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Stephan Jensen 2013-11-26

   I was looking through the TiMapView source, and the following method caught my attention
   <code><pre>
           @Override
           protected boolean allowRegisterForTouch()
           {
                   // Skip TiUIView registration. 
                   // Handled inside the LocalMapView as it is not working in the TiUIView
                   return false;
           }
   </pre></code>
   I then created a new module, added a native webview, and added the above method.
   Pinch zooming seems to be working perfectly after adding the above.</li>
<li>Biju pm 2013-12-16

   The issue cannot reproduce with the release master 3.2.0
   Tested with: 
   Titanium Studio, build: 2.1.2.201208301612
   Titanium SDK version: 3.2.0
   Tested on
   Device: Samsung galaxy s duos Android version: 4.0.4
   </li>
<li>Stephan Jensen 2013-12-23

   The issue still persists in version 3.2.0.GA
   
   Tested with:
   Titanium Studio, build: 3.2.0.201312191547
   Titanium SDK version: 3.2.0.GA
   
   Tested on
   Nexus 5 (4.4.2)
   Samsung galaxy S4 (4.3)
   Samsung galaxy S2 (4.2)</li>
<li>Stephan Jensen 2014-02-06

   Any updates on the issue, or have you forgot all about it?</li>
<li>Sunila 2014-02-11

   Use scaleDetector only if PINCH event needs to be handled as it interfere with the WebView pinch zoom.
   Issue is more visible with google map
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/5345" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5345</a></li>
<li>Martin N 2014-03-18

   Is there a workaround for this issue until 3.3.0 is released ?</li>
<li>Pragya Rastogi 2014-04-28

   Verified the fix using:
   OSX: 10.9.2
   Xcode: 5.1.1
   Studio - 3.3.0.201404251359
   SDK - 3.3.0.v20140425191906
   acs-1.0.14
   alloy-1.4.0-dev
   npm-1.3.2
   titanium-3.3.0-dev
   titanium-code-processor-1.1.1-beta1
   Device: LG-P970 (4.0.4)
   As expected Pinch zoom works fine on the map.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15888.json">JSON Source</a></p>