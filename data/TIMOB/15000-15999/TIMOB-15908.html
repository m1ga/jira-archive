---
title: "[TIMOB-15908] iOS:Picker: getValue method for picker returns incorrect time"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2013-12-06T18:32:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-3.2.0</td></tr>
<tr><th>Reporter</th><td>Priya Agarwal</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2013-12-06T06:10:17.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-11T10:36:15.000+0000</td></tr>
</table>

<h3>Description</h3>

getValue method for picker returns incorrect time for both PICKER_TYPE_DATE and 
PICKER_TYPE_DATE_AND_TIME Picker.

Works fine on Android.

Not regression as issue occurs on 3.1.3.GA also.

<code><pre>
var win = Ti.UI.createWindow();
 
var picker = Ti.UI.createPicker({
	    type : Ti.UI.PICKER_TYPE_DATE_AND_TIME,
	    selectionIndicator : true
	    
	});
	 
	var showDate = Ti.UI.createButton({
	    title : 'show date',
	    bottom : 20
	});
	showDate.addEventListener('click', function(e) {
	    alert(picker.getValue());
	});
	 
	var view = Ti.UI.createView({
	    width : Ti.UI.FILL,
	    height : Ti.UI.FILL
	});
	view.add(picker);
	view.add(showDate);
	 
	win.add(view);
 
win.open();
</pre></code>

Steps to reproduce:
1)Copy paste the code and run the app.
2)Click on Show Date button.

Actual Result:
2)Shows correct date and but incorrect time.

Expected Result:
2)Should show correct date and time.


Screen Shot shows the device correct time as 11:38am but the alert shows the incorrect time.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-15908_44434/wrongtime.png">wrongtime.png</td></td><td>2013-12-06T06:10:17.000+0000</td><td>66128</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sabil Rahim 2013-12-06

   Invalid ticket.
   
   Picker time always returns value in GMT . The values should be converted to locale values.
   
   Updated test code 
   
   <code><pre>
   var win = Ti.UI.createWindow({backgroundColor:'white'});
     
   var picker = Ti.UI.createPicker({
   	type : Ti.UI.PICKER_TYPE_DATE_AND_TIME,
   	selectionIndicator : true,
   });
   
   
   var showDate = Ti.UI.createButton({
   	title : 'show date',
   	bottom : 20
   });
   showDate.addEventListener('click', function(e) {
   	alert(picker.getValue().toLocaleString());
   });
     
   var view = Ti.UI.createView({
   	width : Ti.UI.FILL,
   	height : Ti.UI.FILL
   });
   view.add(picker);
   view.add(showDate);
     
   win.add(view);
     
   win.open();
   </pre></code>
   
   essentially do <code>alert(picker.getValue().toLocaleString());</code> 
   
   Marking ticket as invalid</li>
<li>Priya Agarwal 2013-12-11

   Tested Environment:
   
   Appcelerator Studio: 3.2.0.201312101708
   SDK:3.2.0.v20131210191510
   alloy: 1.3.0-cr
   acs: 1.0.10
   npm: 1.3.2
   titanium: 3.2.0-cr
   titanium-code-processor: 1.1.0-cr
   Xcode:5.0.2
   OS: Mac OSX 10.9
   Device: iPhone Simulator(v7.0.3)
   
   Working fine. 
   Used the above mentioned code to verify.
   
   Hence closing the issue</li>
</ol>


<p><a href="/TIMOB/TIMOB-15908.json">JSON Source</a></p>