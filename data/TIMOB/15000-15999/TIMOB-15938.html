---
title: "[TIMOB-15938] iOS: Rect not reported  when view has borders or have no borders "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2013-12-10T18:32:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-3.2.0</td></tr>
<tr><th>Reporter</th><td>Priya Agarwal</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2013-12-10T11:39:47.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:43:32.000+0000</td></tr>
</table>

<h3>Description</h3>

Rect not reported when view has borders or have no borders.

<code><pre>
var win = Ti.UI.createWindow({
    backgroundColor:'white'
});
 
var cropRectView = Ti.UI.createView({
    width:200,
    height:300,
    left:100,
    top:60,
    backgroundColor:'#5500ff00',
    borderWidth:2,
    borderColor:'white'
});
 
 
cropRectView.addEventListener('postlayout', function(e){
    Ti.API.info('cropRectView postlayout ' + JSON.stringify(cropRectView.rect));
});
 
win.add(cropRectView);
 
win.open();
</pre></code>

Steps to reproduce:
1)Copy paste the code in app.js and run the app. Observe the console

Expected Result:
cropRectView postlayout {"height":300,"y":60,"x":100,"width":200}

Actual Result:
cropRectView postlayout {}


Works fine on android.


<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2013-12-10

   On iOS we return a TiRect object which is of type Proxy. Proxies by default are not seralizable so we return null on the toJSON call.
   
   So stringify will return nothing.
   
   The values x,y,width and height are still accessible though.
   
   <code><pre>
   var rect = cropRectView.rect;
   Ti.API.info(rect.x+' '+rect.y+' '+rect.width+' '+rect.height)
   </pre></code></li>
<li>Priya Agarwal 2013-12-11

   Tested Environment:
   
   Appcelerator Studio: 3.2.0.201312101708
   SDK:3.2.0.v20131210191510
   alloy: 1.3.0-cr
   acs: 1.0.10
   npm: 1.3.2
   titanium: 3.2.0-cr
   titanium-code-processor: 1.1.0-cr
   Xcode:5.0.2
   OS: Mac OSX 10.9
   Device: iPhone Simulator(v7.0.3)
   
   
   Closing as per above comments.
   Verified without stringifying: 
   <code><pre>
    var rect = cropRectView.rect;
          Ti.API.info(rect.x+' '+rect.y+' '+rect.width+' '+rect.height)
   </pre></code>
   Getting the expected output.
   Hence closing as fixed and verified.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15938.json">JSON Source</a></p>