---
title: "[TIMOB-15940] iOS: keyboardToolbar disappears after multiple displays"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-12-27T23:06:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 26, 2013 Sprint 26 API, Release 3.2.1, Release 3.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, module_keyboard, module_textfield, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Stephen Feather</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2013-12-10T16:46:32.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-21T06:29:52.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Expectation</h4>
Expect keyboardToolbar to appear every time keyboard is shown.

<h4>Demonstration Video</h4>

<a href="http://screencast.com/t/6ReuzfPS" rel="nofollow" target="_blank">http://screencast.com/t/6ReuzfPS</a>

<h4>Reality</h4>
keyboardToolbar does not appear every time keyboard is shown. In the demo video, it occurred on the second iteration. This is not a constant, as it may not do it for 3 or 4 openings.


<h4>Testcase</h4>

<code><pre>
var mainWindow = Titanium.UI.createWindow({ 
    backgroundColor:'#fff'
});
  
var textfield = Ti.UI.createTextField({keyboardType: Ti.UI.KEYBOARD_NUMBER_PAD, returnKeyType: Ti.UI.RETURNKEY_DONE, backgroundColor: '#262626',  border: 1, width: 100});
var toolbarDone = Ti.UI.createButton({systemButton: Titanium.UI.iPhone.SystemButton.DONE});
var flexSpace = Titanium.UI.createButton({systemButton : Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE});
toolbarDone.addEventListener('click', function(){
            textfield.blur();
            
        });
textfield.keyboardToolbarColor = '#80c342';
textfield.keyboardToolbar = [flexSpace, toolbarDone];

mainWindow.add(textfield);

 
mainWindow.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Daniel Plunkett 2013-12-10

   Confirmed on this system:
   Titanium Command-Line Interface, CLI version 3.1.2, Titanium SDK version 3.1.3.GA
   Operating System
     Name                                                   = Mac OS X
     Version                                                = 10.9
     Memory                                                 = 8.0GB
    
   node.js
     node.js Version                                        = v0.10.15
     npm Version                                            = 1.3.5
    
   Xcode
   4.6.3 (build 4H1503)
     Install Location                                       = /Users/danielplunkett/Desktop/Xcode46.app/Contents/Developer
     iOS SDKs                                               = 6.1
     iOS Simulators                                         = 6.0, 6.1
   5.0.1 (build 5A2053)
     Install Location                                       = /Applications/Xcode.app/Contents/Developer
     iOS SDKs                                               = 7.0
     iOS Simulators                                         = 7.0
   </li>
<li>Shak Hossain 2013-12-10

   Hi Stephen,
   
   Thanks for reporting this issue with greater details. It is much helpful. I have moved this bug for further investigation by Engineering. All updates to this bug will be posted here. We hope to get it fixed soon. If you have any question, please let us know.
   
   Regards,
   Shak</li>
<li>Wilson Luu 2013-12-10

   This issue is reproducible. On the iphone 5s (7.0.2), you will need to press the text field twice to reproduce the issue. On the iphone 4s (6.0.1), you will need to press the text field at least 10 - 20 times.
   
   Tested on:
   
   Titanium Studio, build: 3.2.0.20131209161348
   SDK build:  3.2.0.v20131209192649 
   CLI: 3.2.0-cr
   Alloy: 1.3.0-cr
   Xcode: 5.0.2
   Device: iphone 5 (7.0.2), iphone 4s (6.0.1)</li>
<li>Stephen Feather 2013-12-24

   This prevents the shipping of an app.</li>
<li>Sabil Rahim 2013-12-27

   <a href="https://github.com/appcelerator/titanium_mobile/pull/5165" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5165</a></li>
<li>Sabil Rahim 2013-12-30

   32X PR : <a href="https://github.com/appcelerator/titanium_mobile/pull/5174" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5174</a></li>
<li>Wilson Luu 2014-01-06

   Closing ticket as fixed. Verified the keyboard's toolbar does not disappear after making the keyboard appear multiple times (10 - 20 times).
   
   Tested on:
   
   Titanium Studio, build: 3.2.1.201401052124
   SDK build: 3.2.1.v20140106134045, 3.3.0.v20140106141645
   CLI: 3.2.0
   Alloy: 1.3.1-beta
   Xcode: 5.0.2
   Devices: iphone 4s (6.0.1), iphone 5s (7.0.2), iphone simulator retina 4-inch (7.0.3)</li>
</ol>


<p><a href="/TIMOB/TIMOB-15940.json">JSON Source</a></p>