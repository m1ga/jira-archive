---
title: "[TIMOB-15990] BlackBerry: Scroll View - chaotically missing labels "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-12-17T00:28:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>BlackBerry</td></tr>
<tr><th>Labels</th><td>qe-3.2.0, qe-closed-3.2.0, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Olga Romero</td></tr>
<tr><th>Assignee</th><td>Pedro Enrique</td></tr>
<tr><th>Created</th><td>2013-12-13T19:21:33.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:42:40.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>To reproduce</h4>
1. Create an app for BB with the following code:
<code><pre>
var win = Titanium.UI.createWindow();
 
var scroll = Ti.UI.createScrollView({
    backgroundColor: 'green',
    width: Ti.UI.FILL,
    height: Ti.UI.FILL,
    layout: 'vertical',
    contentHeight:Ti.UI.SIZE,
    contentWidth:Ti.UI.SIZE 
});
 
function MyButton(text) {
    return Ti.UI.createLabel({
        text: text,
        top: 10,
        //width:50
    });
}
 
for(var i = 0; i &lt; 100; i++) {
    scroll.add(MyButton('Label #' + (i + 1))); 
}
 
win.add(scroll);
win.open();
</pre></code>

2. Build it for BB device/simulator
3. launch the app & observe the labels

<h4>Actual result</h4>
*Note* Simulator does not have this issue

Different labels are missing when building to device continuously 


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-15990_44602/TIMB97987.png">TIMB97987.png</td></td><td>2013-12-13T19:21:33.000+0000</td><td>74835</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-15990_44603/TIMB979872.png">TIMB979872.png</td></td><td>2013-12-13T19:21:33.000+0000</td><td>76335</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Pedro Enrique 2013-12-16

   PR for 3.2.x: <a href="https://github.com/appcelerator/titanium_mobile_blackberry/pull/197" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_blackberry/pull/197</a></li>
<li>Pedro Enrique 2013-12-16

   PR for master:
   <a href="https://github.com/appcelerator/titanium_mobile_blackberry/pull/198" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_blackberry/pull/198</a></li>
<li>Pedro Enrique 2013-12-16

   The problem is that a JS value comes in for the key of the object:
   <code><pre>
   {
           text: text,
           top: 10
   }
   </pre></code>
   In this case the "text" property.
   To convert it to a c++ const char* we were using the function V8StringToQString(Handle<String>) and then extracting the const char* from the QString. The problem is that this function will not always return the correct string, sometimes it returns garbage, like "%@fd1!" instead of "text", for no reason.
   
   To fix it, just bypass that function and use the V8 API to get a const char* directly: *String::Utf8Value(Handle<Value>)
   </li>
<li>Olga Romero 2013-12-17

   Tested and verified the fix with:
   Appcelerator Studio, build: 3.2.0.201312162210
   Titanium SDK, build: 3.2.0.v20131216191854
   CLI 3.2.0-cr3
   Alloy 1.3.0-cr2
   BBZ10 10.1.0
   No more missing labels.</li>
</ol>


<p><a href="/TIMOB/TIMOB-15990.json">JSON Source</a></p>