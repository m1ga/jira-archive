---
title: "[TIMOB-16069] iOS: setToolbar bad window layout if tabBarHidden is set to true"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Antonio Vila</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-09-23T09:36:29.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:04:24.000+0000</td></tr>
</table>

<h3>Description</h3>

setToolbar on a Window with "tabBarHidden: true" inside a tabGroup don't layout correctly.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16069_44786/Screen Shot 2013-12-22 at 4.27.52 PM.png">Screen Shot 2013-12-22 at 4.27.52 PM.png</td></td><td>2013-12-23T00:31:44.000+0000</td><td>48824</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16069_44787/Screen Shot 2013-12-22 at 4.28.43 PM.png">Screen Shot 2013-12-22 at 4.28.43 PM.png</td></td><td>2013-12-23T00:31:44.000+0000</td><td>70876</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16069_42692/TabGroup.png">TabGroup.png</td></td><td>2013-09-23T09:36:29.000+0000</td><td>28075</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mostafizur Rahman 2013-09-23

   Hi Antonio Vila,
   Please add runnable test code and test case that we can easily reproduce this issue.
   Thanks
   </li>
<li>Mostafizur Rahman 2013-12-07

   We can reproduce the problem with the test case below and 3.2.0 GA SDK.
   
   <h4>Test Code</h4>
   <code><pre>
   var self = Ti.UI.createTabGroup();
   
   var send = Titanium.UI.createButton({
   	title : 'Send',
   	style : Titanium.UI.iPhone.SystemButtonStyle.DONE,
   });
   
   var camera = Titanium.UI.createButton({
   	systemButton : Titanium.UI.iPhone.SystemButton.CAMERA,
   });
   
   var cancel = Titanium.UI.createButton({
   	systemButton : Titanium.UI.iPhone.SystemButton.CANCEL
   });
   
   flexSpace = Titanium.UI.createButton({
   	systemButton : Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE
   });
   
   var win1 = Titanium.UI.createWindow({
   	title : 'Home',
   	barImage : 'images/KS_nav_views.png',
   	backgroundColor : '#fff',
   	tabBarHidden : true ,
   	toolbar : [send, flexSpace, camera, flexSpace, cancel]
   });
   win1.add(Ti.UI.createLabel({
   	text : "  Windows can be loaded from another JavaScript file by specifying the property url, referencing a file relative to your application Resources folder. It's important to note that Titanium will refuse to load JavaScript files from a remote URL. Loading remote JavaScript from a URL and providing it with the full capabilities of the Titanium API would be very dangerous.When your Window is loaded from a separate JavaScript file, the code will be executed in a separate JavaScript context (called a sub-context) than your app.js global context. It will also execute in its own separate thread",
   	textAlign : 'center'
   }));
   
   var tab1 = Ti.UI.createTab({
   	title : L('home'),
   	icon : '/images/KS_nav_ui.png',
   	window : win1
   });
   win1.containingTab = tab1;
   
   self.addTab(tab1);
   var winPhoto = Titanium.UI.createWindow({
   	title : '',
   	barImage : 'images/KS_nav_views.png',
   	backgroundColor : '#fff',
   	tabBarHidden : false
   });
   var tab3 = Titanium.UI.createTab({
   	icon : 'images/KS_nav_views.png',
   	title : 'My Photos',
   	window : winPhoto
   });
   
   self.addTab(tab3);
   
   self.open();
   
   
   </pre></code>
   
    
   <h4>Step to reproduces</h4>
   1. Create a new project
   2. Paste test code in app.js
   3. Now run on iOS 7 with simulator 7.0 
   4. See simulator screen in bottom side, a black box will display 
   5. Now set tabBarHidden is false in win1 object (line 24)
   6. Run this on iOS 7 simulator 
   7. Compare both output  
   
   <h4>Expected result </h4>
   Back box will not display if tabBarHidden is true
   </li>
<li>Ritu Agrawal 2013-12-23

   Moving this ticket to engineering as we can reproduce it with 3.2.0 GA SDK. I have attached two screenshots (tabbarhidden set to true and false) for visual comparison.</li>
<li>John Farrelly 2014-03-22

   I get the same problem with 3.2.2 SDK</li>
<li>Motoi Kataoka 2015-04-01

   Please fix this issue.
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-16069.json">JSON Source</a></p>