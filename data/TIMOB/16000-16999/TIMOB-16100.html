---
title: "[TIMOB-16100] iOS9: TextField with passwordMask & fontFamily changes its fontSize"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-11-11T08:58:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios9, passwordmask, textfield</td></tr>
<tr><th>Reporter</th><td>Matej</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2013-12-27T19:02:54.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-30T19:53:06.000+0000</td></tr>
</table>

<h3>Description</h3>

TextField with passwordMask and some fontFamily changes its font size with every focus/blur. It is completely impossible to set own font family...

Attached video.

<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor: "black"
});

var normalTextField = Ti.UI.createTextField({
	width: 200, height: 50,
	backgroundColor: "red",
	hintText: "Normal TextField",
	top: 150
});

var passwordTextField = Ti.UI.createTextField({
	width: 200, height: 50,
	backgroundColor: "red",
	hintText: "Password",
	passwordMask: true,
	top: 203,
	font: {fontSize: 15, fontFamily: "Avenir-Medium"}
});

win.add(normalTextField);
win.add(passwordTextField);
win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16100_44848/tf_bug.mov">tf_bug.mov</td></td><td>2013-12-27T19:02:54.000+0000</td><td>3172718</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Alexey Chulochnikov 2014-04-23

   Please fix it at 3.2.3 version!
   Same as issue - TIMOB-7260</li>
<li>Shameer Jan 2014-08-21

   Issue reproduced on both SDK Version 3.2.0 GA and 3.4.0 GA
   
   CLI version 3.3.0, 
   Titanium SDK version 3.4.0 
   Titanium SDK version 3.2.0 
   iOS SDK: 7.1 
   Appcelerator Studio, build: 3.3.0.201407111535
   </li>
<li>Nuno Costa 2016-10-07

   I have this issue, is hard to fix? Let me know if you want me test something on my side!
   Thanks
   - Nuno
   
   
   <code><pre>
   //XML
   <View id="viewPassword">
     <TextField id="password">
       <Label id="labelHide" onClick="hidePassword" />
     </TextField>
   </View>
   
   
   JS
   //hide or show password
   function hidePassword(e) {
   	//e.cancelBubble = true;
   	if ($.password.passwordMask === true) {
   		$.labelHide.text = "hide";
   		//inject font here, but still not work
   		$.password.font = {
   			fontFamily:"Lato-Regular",
   			fontSize: 14
   		}
   		$.password.passwordMask = false;
   		
   	} else  {
   		$.labelHide.text = "show";
   		$.password.font = {
   			fontFamily:"Lato-Regular",
   			fontSize: 14
   		}
   		$.password.passwordMask = true;
   		
   	}
   }
   
   
   
   
   // TSS
   "#password":{
   	width : Ti.UI.FILL,
   	height : 40,
   	font : {fontSize: 14, fontFamily:"Lato-Regular"},
   	passwordMask : false,
   	hintText : "password",
   	autocorrect : false,
   	autocapitalization: Titanium.UI.TEXT_AUTOCAPITALIZATION_NONE,
     returnKeyType: Ti.UI.RETURNKEY_DONE
   }
   
   
   </pre></code>
   
   <a href="http://sharebucketapp.com/2FiNTE3ZGM1YjhiODc5M" rel="nofollow" target="_blank">http://sharebucketapp.com/2FiNTE3ZGM1YjhiODc5M</a></li>
<li>Nuno Costa 2016-10-07

   *This is important!*
   I also found this odd behavior that *{color:red}adds an extra space{color}* that when you do use for Logins (our case)  fails that user to login.
   
   <a href="http://sharebucketapp.com/RmYzI0NjExZWQ4MDdiMj" rel="nofollow" target="_blank">http://sharebucketapp.com/RmYzI0NjExZWQ4MDdiMj</a>
   
   *Better image:*
   <a href="http://sharebucketapp.com/1ZjkwYTE3NzNlNTQ1Mg" rel="nofollow" target="_blank">http://sharebucketapp.com/1ZjkwYTE3NzNlNTQ1Mg</a>
   
   *UPDATE:*
   
   Some more tests and seams the {color:red}extra space injected by the mask not change{color} the final (password.value)</li>
<li>Hans Kn√∂chel 2016-10-07

   I cannot reproduce the initial issue, [~nunocostapt] can you?</li>
<li>Nuno Costa 2016-10-07

   Hans, initial issue you mean by the original code by Matej?
   
   Video <a href="http://sharebucketapp.com/4Mzk4OGFiNGFmNjk3Njg" rel="nofollow" target="_blank">http://sharebucketapp.com/4Mzk4OGFiNGFmNjk3Njg</a></li>
<li>Nuno Costa 2016-10-07

   *Test case and Video:*
   
   [<a href="https://gist.github.com/hansemannn/58aff0f5df455981298347815b68071a" rel="nofollow" target="_blank">https://gist.github.com/hansemannn/58aff0f5df455981298347815b68071a</a>]
   
   [<a href="http://sharebucketapp.com/dmOTI5MjBhMDRjZTY2ZD" rel="nofollow" target="_blank">http://sharebucketapp.com/dmOTI5MjBhMDRjZTY2ZD</a>]
   
   *Note:*
   -I not sure if this is related to the main issue by *Matej*-
   
   *UPDATE:*
   I did some research and this is what I come up  and found:
   <a href="https://gist.github.com/nuno/15b01d2f6ad6c11f594e190d7f90e5c1" rel="nofollow" target="_blank">https://gist.github.com/nuno/15b01d2f6ad6c11f594e190d7f90e5c1</a>
   
   *Video* with font reset applied technique,  <a href="http://sharebucketapp.com/MmEzNzUxNmE2YzcwMmUx" rel="nofollow" target="_blank">http://sharebucketapp.com/MmEzNzUxNmE2YzcwMmUx</a></li>
<li>Nuno Costa 2016-10-20

   *Update:*
   The issue seams that is fixed by apple on iOS 10!
   The issue above is on iOS9.</li>
<li>Vijay Singh 2016-10-24

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/8534" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8534</a>
   PR (unit-test): <a href="https://gist.github.com/hansemannn/58aff0f5df455981298347815b68071a" rel="nofollow" target="_blank">https://gist.github.com/hansemannn/58aff0f5df455981298347815b68071a</a>
   Position of cursor was not resetting while unmasking, as end of document calculation goes wrong in iOS below 10 . That made fix by resetting textfield value to blank character and then setting to its actual value.</li>
<li>Samir Mohammed 2016-11-30

    Verified fixed, using the test case <a href="https://gist.github.com/hansemannn/58aff0f5df455981298347815b68071a" rel="nofollow" target="_blank">https://gist.github.com/hansemannn/58aff0f5df455981298347815b68071a</a>  no extra spaces were added when pressing show password and the font size and font family seemed consistent.  
    *Environment*
    <code><pre>
    Appcelerator Command-Line Interface, version 6.0.0
    Iphone 5 IOS 9.1
    Iphone 6 Simulator IOS 9.0
    Operating System Name: Mac OS X El Capitan
    Operating System Version: 10.11.6
    Node.js Version: 4.6.0
    npm: 4.2.8
    Titanium CLI Version: 5.0.10
    Titanium SDK Version: 6.1.0.v20161129071600
    Xcode: 8.0
    Appcelerator Studio: 4.8.0.201611121409
    </pre></code>
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-16100.json">JSON Source</a></p>