---
title: "[TIMOB-16114] Android: GeolocationModule not found when referenced from local variable"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2019-04-03T22:11:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>supportTeam</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2013-12-30T22:02:12.000+0000</td></tr>
<tr><th>Updated</th><td>2019-04-03T22:11:28.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue description</h4>
Whenever the Ti.Geolocation module is referenced to Javascript variable the build process errors with:

<code><pre>
[ERROR] :  JNIUtil: Couldn't find Java class: ti/modules/titanium/geolocation/GeolocationModule
[WARN] :   W/System.err: java.lang.NoClassDefFoundError: ti/modules/titanium/geolocation/GeolocationModule
[WARN] :   W/System.err:   at org.appcelerator.kroll.runtime.v8.V8Runtime.nativeRunModule(Native Method)
[WARN] :   W/System.err:   at org.appcelerator.kroll.runtime.v8.V8Runtime.doRunModule(V8Runtime.java:159)
[WARN] :   W/System.err:   at org.appcelerator.kroll.KrollRuntime.handleMessage(KrollRuntime.java:289)
[WARN] :   W/System.err:   at org.appcelerator.kroll.runtime.v8.V8Runtime.handleMessage(V8Runtime.java:185)
[WARN] :   W/System.err:   at android.os.Handler.dispatchMessage(Handler.java:95)
[WARN] :   W/System.err:   at android.os.Looper.loop(Looper.java:137)
[WARN] :   W/System.err:   at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:112)
[WARN] :   W/System.err: Caused by: java.lang.ClassNotFoundException: ti.modules.titanium.geolocation.GeolocationModule
[WARN] :   W/System.err:   at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:61)
[WARN] :   W/System.err:   at java.lang.ClassLoader.loadClass(ClassLoader.java:501)
[WARN] :   W/System.err:   at java.lang.ClassLoader.loadClass(ClassLoader.java:461)
[WARN] :   W/System.err:   ... 7 more
</pre></code>

<h4>Steps to reproduce</h4>
Although we were unable to replicate the error, the developer was setting this:

var geo = Ti.Geolocation;

After commenting it out the Ti Project was able to build at device. The simple app is attached. 

<h4>Devices under test</h4>
Error was reproduced on Galaxy S3 w/ 4.1.2
Not reproducible w/ Android 4.0.4 nor Droid razr 2.3.5

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16114_44871/AndroidEmulator_4.1.2.txt">AndroidEmulator_4.1.2.txt</td></td><td>2013-12-30T22:02:12.000+0000</td><td>14825</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16114_44872/GeoTest.zip">GeoTest.zip</td></td><td>2013-12-30T22:02:12.000+0000</td><td>3136365</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Alan Hutton 2019-04-03

   Not reproducible w/ Android 4.0.4 nor Droid razr 2.3.5</li>
</ol>


<p><a href="/TIMOB/TIMOB-16114.json">JSON Source</a></p>