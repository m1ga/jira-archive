---
title: "[TIMOB-16123] iOS: Email dialog doesn't send messages when attachment is a PDF with many pages"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-01-03T06:15:41.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:03:17.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
When you add an attachment to the email Dialog, it won't send the mail

<h4>Test Case</h4>
<code><pre>
  var emailDialog = Titanium.UI.createEmailDialog();
    emailDialog.setSubject('Hello from Titanium!');
    emailDialog.setToRecipients(['mauropm@gmail.com']);
    emailDialog.setCcRecipients(['mauropm+test@gmail.com']);
    emailDialog.setBccRecipients(['mauropm+bcc@gmail.com']);

    if (Ti.Platform.name == 'iPhone OS') {
        emailDialog.setMessageBody('&lt;b&gt;Appcelerator Titanium Rocks!&lt;/b&gt;Ã¥');
        emailDialog.setHtml(true);
        emailDialog.setBarColor('#336699');
    } else {
        emailDialog.setMessageBody('Appcelerator Titanium Rocks!');
    }

  
    // attach a file
    var f = Ti.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory, 'test.pdf');
    emailDialog.addAttachment(f);

    emailDialog.addEventListener('complete',function(e)
    {
        if (e.result == emailDialog.SENT)
        {
            if (Ti.Platform.osname != 'android') {
                // android doesn't give us useful result codes.
                // it anyway shows a toast.
                alert("message was sent");
            }
        }
        else
        {
            alert("message was not sent. result = " + e.result);
        }
    });
    emailDialog.open();
</pre></code>

<h4>Steps to reproduce</h4>
1. Create a new Mobile Project Classic Titanium
2. Paste the test case to the app.js
3. Run it 
4. Results: the code will alert that the mail was sent, but it never goes out of the device. 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16123_44907/test.pdf">test.pdf</td></td><td>2014-01-03T06:18:01.000+0000</td><td>123683</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-16123.json">JSON Source</a></p>