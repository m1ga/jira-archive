---
title: "[TIMOB-16177] iOS LANDSCAPE Orientation Upside Down"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-01-22T21:14:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 02, 2014 Sprint 02 API, Release 3.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_orientation, qe-closed-3.3.0, qe-testadded, supportTeam</td></tr>
<tr><th>Reporter</th><td>SHOCKOE TEAM</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2014-01-09T19:45:46.000+0000</td></tr>
<tr><th>Updated</th><td>2014-07-28T18:16:24.000+0000</td></tr>
</table>

<h3>Description</h3>

*Problem Description*

Opening a modal window with a Scrollable view, with orientationModes set to LANDSCAPE_LEFT & LANDSCAPE_RIGHT display incorrectly.  Image displays upside down, however can be reset by turning the phone one way then back again. 

*Reproduction Steps*
1.  Run the code below in a new Alloy Project.
2.  Tilt the device to the left and notice the image is upside down instead of showing in.LANDSCAPE_RIGHT.
3.  Press Close
4.  Tilt device to the right and notice the image is showing LANDSCAPE_LEFT which is correct

*index.js*
<code><pre>
$.win.open();

function openGallery() {
	if(Alloy.Globals.photoViewerOpen) {
		return;
	}
	var photoViewer = Alloy.createController('LandscapePhotoViewer').getView();
	photoViewer.open();
}

Ti.Gesture.addEventListener('orientationchange', function(e) {
	if(e.orientation === Ti.UI.LANDSCAPE_LEFT || e.orientation === Ti.UI.LANDSCAPE_RIGHT) {
		openGallery();
	}
});
</pre></code>
*index.tss*
<code><pre>
".container": {
	backgroundColor:"white",
	width : Ti.UI.FILL,
	height : Ti.UI.FILL,
	orientationModes: [Ti.UI.PORTRAIT]
},
"#title": {
	width: Ti.UI.FILL,
	height: Ti.UI.SIZE,
	color: "orange",
	font : {
		fontSize : 30
	},
	textAlign : "center"
},
"#indexView":{
	width : Ti.UI.FILL,
	height : Ti.UI.FILL,
	layout : 'vertical',
	top : 30
},
"#galleryOpen":{
	width : Ti.UI.FILL,
	height : Ti.UI.SIZE,
	top : 30
}
</pre></code>
*index.xml*
<code><pre>
&lt;Alloy&gt;
	&lt;Window id="win" class="container"&gt;
		&lt;View id="indexView"&gt;
			&lt;Label id="title"&gt;Landscape Photo Test&lt;/Label&gt;
			&lt;Button id="galleryOpen" onClick="openGallery"&gt;Open Gallery&lt;/Button&gt;
		&lt;/View&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>


*LandscapePhotoViewer.js*
<code><pre>
var PHOTOS = [
	'images/1.jpg',
	'images/2.jpg',
	'images/3.jpg',
	'images/4.jpg'
];

var galleryArray = [];

function constructGallery() {
	for(var x = 0; x &lt; 4; x++) {
		var imgPhoto = Ti.UI.createImageView({
			image: PHOTOS[x],
			height: Ti.UI.SIZE,
			width: Ti.UI.FILL
		});

		galleryArray.push(imgPhoto);
	}

	$.scroll.setViews(galleryArray);
}

function backUp() {
	Alloy.Globals.photoViewerOpen = false;
	$.galleryWin.close();
}
Alloy.Globals.photoViewerOpen = true;
constructGallery();
</pre></code>
*LandscapePhotoViewer.tss*
<code><pre>
"#galleryWin":{
	height : Ti.UI.FILL,
	width : Ti.UI.FILL,
	backgroundColor : "orange",
	fullscreen : true,
	modal : true,
	orientationModes: [Ti.UI.LANDSCAPE_RIGHT, Ti.UI.LANDSCAPE_LEFT]
},
"#backButton":{
	width : 60,
	height : 30,
	backgroundColor : "red",
	color : "white",
	top : 10,
	right : 10,
	zIndex : 10,
	textAlign : "center"
},
"#scroll":{
	height : Ti.UI.FILL,
	width : Ti.UI.FILL,
	backgroundColor: 'transparent'
}
</pre></code>
*LandscapePhotoViewer.xml*
<code><pre>
&lt;Alloy&gt;
	&lt;Window id="galleryWin"&gt;
		&lt;Label id="backButton" onClick="backUp"&gt;Close&lt;/Label&gt;
		&lt;ScrollableView id="scroll" /&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16177_45013/LANDSCAPE_LEFT.jpg">LANDSCAPE_LEFT.jpg</td></td><td>2014-01-09T19:45:46.000+0000</td><td>1674403</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16177_45014/LANDSCAPE_RIGHT.jpg">LANDSCAPE_RIGHT.jpg</td></td><td>2014-01-09T19:45:46.000+0000</td><td>1708696</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16177_45067/left.png">left.png</td></td><td>2014-01-13T04:43:25.000+0000</td><td>136704</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16177_45068/right.png">right.png</td></td><td>2014-01-13T04:43:25.000+0000</td><td>138582</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sabil Rahim 2014-01-14

   simplified commonjs code 
   <code><pre>
   var win1 = Titanium.UI.createWindow({backgroundColor:'white'});
   var opened = false;
   function openModal() {
   	if(opened){
   		return;
   	}
       var winModal = Titanium.UI.createWindow({
       	backgroundColor:'red',
       	modal:true,
       	orientationModes:[Ti.UI.LANDSCAPE_RIGHT, Ti.UI.LANDSCAPE_LEFT]
       
       });
   
       var label = Ti.UI.createLabel({text:"Close Window"});
       label.addEventListener('click',function(){
       	opened = false;
       	winModal.close();
       });
       winModal.add(label);
       opened =true;
       winModal.open();
   }
   
   
   Ti.Gesture.addEventListener('orientationchange', function(e) {
       if(e.orientation === Ti.UI.LANDSCAPE_LEFT || e.orientation === Ti.UI.LANDSCAPE_RIGHT) {
           openModal();
       }
   });
   
   win1.open();
   </pre></code></li>
<li>Sabil Rahim 2014-01-15

   <a href="https://github.com/appcelerator/titanium_mobile/pull/5225" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5225</a></li>
<li>Vishal Duggal 2014-01-22

   PR merged</li>
<li>Neha Mittal 2014-04-23

   Verified fix with below environment:
   
   Appc Studio: 3.3.0.201404211130
   SDK build: 3.3.0.v20140422163054
   acs: 1.0.14
   npm: 1.3.2
   alloy: 1.4.0-dev
   CLI: titanium-3.3.0-dev
   titanium-code-processor:1.1.1-beta1
   Xcode: 5.1.1
   Osx: Mavericks(10.9.2)
   Device: iPhone 5C( iOS 7.1)
   
   Landscape orientation is working fine with code provided in comments. Hence Closing the issue.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16177.json">JSON Source</a></p>