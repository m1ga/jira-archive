---
title: "[TIMOB-16182] Android: Camera \"cancel\" function not called from Android \"back\" button when camera has overlay"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Andrew Greenstreet</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-01-13T20:09:09.000+0000</td></tr>
<tr><th>Updated</th><td>2020-02-17T00:11:13.000+0000</td></tr>
</table>

<h3>Description</h3>

On Android using 

<code><pre>
Ti.Media.showCamera(
{
showControls: false,
autohide: true,
overlay: Ti.UI.createView({width:100, height:100, backgroundColor:"blue"}),
success: function(blob) { console.log("camera:success") },
error : function(e) { console.log("camera:error") },
cancel : function(e) { console.log("camera:cancel") }
});
</pre></code>

Pressing the Android back button will not fire the "cancel" callback;

However, when no overlay is specified, the cancel callback fires as expected. 

<code><pre>
Ti.Media.showCamera(
{
success: function(blob) { console.log("camera:success") },
error : function(e) { console.log("camera:error") },
cancel : function(e) { console.log("camera:cancel") }
});
</pre></code>



<h3>Comments</h3>

<ol>
<li>Andrew Greenstreet 2014-01-14

   TiCameraActivity Needs
   
   <code><pre>
   @Override
   	public void onBackPressed()
   	{
   		// Prevent default Android behavior for "back" press
   		//If there is a cancelcallback associated with this Camera, call it
   		if (cancelCallback != null) {
   			KrollDict dict = new KrollDict();
   			cancelCallback.callAsync(callbackContext, dict);
   		} 
   		super.onBackPressed();
   	}
   </pre></code></li>
<li>Ritu Agrawal 2014-01-14

   Moving this ticket to engineering as I can reproduce this issue with SDK 3.2.0 release and Samsung Galaxy Nexus device.</li>
<li>Dominic Maricic 2020-02-17

   Has this really not been solved in 6 years? Is there a workaround? </li>
</ol>


<p><a href="/TIMOB/TIMOB-16182.json">JSON Source</a></p>