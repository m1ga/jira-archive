---
title: "[TIMOB-16214] "Unsupported zip format" thrown by CLI"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-01-31T23:51:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 02, 2014 Sprint 02 Core, Release 3.2.1, Release 3.3.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>cli, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Daniel Fortner</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-01-17T01:13:13.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-13T09:08:26.000+0000</td></tr>
</table>

<h3>Description</h3>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16214_45217/consoleLog6.rtf">consoleLog6.rtf</td></td><td>2014-01-17T01:13:13.000+0000</td><td>2073</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16214_45566/consoleLog7.rtf">consoleLog7.rtf</td></td><td>2014-02-03T21:43:03.000+0000</td><td>2130</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16214_45218/diagnosticLog6.rtf">diagnosticLog6.rtf</td></td><td>2014-01-17T01:13:13.000+0000</td><td>31326</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16214_45567/diagnosticLog7.rtf">diagnosticLog7.rtf</td></td><td>2014-02-03T21:43:03.000+0000</td><td>31714</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jörgen Buder 2014-01-28

   Hi
   
   I believe I have this issue right now, no builds work for Android and gives this error, thing is that it is the same for both free and appcel studio, it all came in with the 3.2 update, worked fine before. Can I help? I need this resolved rather quickly? I have checked all kinds of things, including clean, alloy versions, sdks used etc etc, restarted everything but nothing helps.
   
   Any status?
   
   Is it possible to get a new 3.2 SDK folder somewhere? I rememeber I had a similar problem a few months back and it turned out the SDK folder content was corrupt, I would like to exchange the SDK folder to a new fresh download...
   
   /Jörgen</li>
<li>Jörgen Buder 2014-01-28

   I see that the SDK 3.2.0 is installed elsewhere and right now I cannot find it:
   
   There is no library under my username, and if I go to library (if it is sym link) I cannot find 3.2.0!
   
   Confused . .
   
   DK Install Locations:
      /Library/Application Support/Titanium
      /Users/jorgenbuder/Library/Application Support/Titanium [default]
    
   Installed SDKs:
      3.2.0.GA [selected]  /Users/jorgenbuder/Library/Application Support/Titanium/mobilesdk/osx/3.2.0.GA
      3.1.3.GAold          /Library/Application Support/Titanium/mobilesdk/osx/3.1.3.GAold
      3.1.3.GA             /Library/Application Support/Titanium/mobilesdk/osx/3.1.3.GA
      3.1.2.GA             /Library/Application Support/Titanium/mobilesdk/osx/3.1.2.GA
      3.1.1.GA             /Library/Application Support/Titanium/mobilesdk/osx/3.1.1.GA
      3.1.0.GA             /Library/Application Support/Titanium/mobilesdk/osx/3.1.0.GA
      3.0.2.GA             /Library/Application Support/Titanium/mobilesdk/osx/3.0.2.GA</li>
<li>Chris Barber 2014-01-28

   [~buder] The problem is the Soasta CLI plugin has corrupted a bunch of jar files. The Android build chokes on these corrupted jar files. This ticket is to detect corrupt jar files and gracefully error out. You will need to reinstall Titanium SDK 3.2.0 and reinstall all Android modules that contain jar files including Soasta and Crittercism. Reinstalling the SDK is easy:
   
   <code><pre>
   ti sdk install --force
   </pre></code>
   
   I have no idea how to reinstall the modules. You may get lucky and simply exit Studio, delete the modules, and then launch Studio again and see if it pulls down the modules again.</li>
<li>Jörgen Buder 2014-01-28

   Hi Chris,
   
   Thanks for that feedback, unfortunately I am not able to find the 3.2.0 SDK, if I go to the location above it does not exist? Did the location of SDKs change in 3.2.0? And we are they not where they say they are?
   
   Basically in jorgenbuder folder there is no library folder, am I doing something wrong?</li>
<li>Chris Barber 2014-01-28

   [~buder] If the <code>ti sdk</code> says Titanium SDK 3.2.0.GA is located at <code>/Users/jorgenbuder/Library/Application Support/Titanium/mobilesdk/osx/3.2.0.GA</code>, then that's where it is. The "Library" folder is there and is hidden in Finder since Mac OS X Lion (I think). You can enter command+shift+g to "goto" the "~/Library" folder.</li>
<li>Jörgen Buder 2014-01-28

   Ok, I just want to understand, if those modules are not in the SDK where do I find them? Sorry I am not usually in the "backend" of studio, 
   
   thanks for your prompt support!</li>
<li>Chris Barber 2014-01-28

   [~buder] The modules can be in a number of places. You can run <code>ti module</code> to list all modules and where they are located. By default, modules should be installed in <code>~/Titanium/modules</code>.</li>
<li>Jörgen Buder 2014-01-28

   Hmm is this a bit odd with the soasta module name? Should there be two 1.0.8 ? and with that extension? So lets just get this stringt I need to replace all these modules with new ones or only the latest? I guess I could try to move them and see what happens but it feels a bit too risky.. ;)
   
   com.appcelerator.apm
       1.0.2   /Users/jorgenbuder/Library/Application Support/Titanium/modules/android/com.appcelerator.apm/1.0.2
       1.0.4   /Users/jorgenbuder/Library/Application Support/Titanium/modules/android/com.appcelerator.apm/1.0.4
       1.0.7   /Users/jorgenbuder/Library/Application Support/Titanium/modules/android/com.appcelerator.apm/1.0.7
       1.0.8   /Users/jorgenbuder/Library/Application Support/Titanium/modules/android/com.appcelerator.apm/1.0.8
       1.0.8.touchtest /Users/jorgenbuder/Library/Application Support/Titanium/modules/android/com.appcelerator.apm/1.0.8.touchtest</li>
<li>Chris Barber 2014-01-28

   [~buder] I don't know. Can you please create a new ticket that better describes your issues. This ticket is about catching an exception and displaying an error message.</li>
<li>Chris Barber 2014-01-30

    Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5288" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5288</a>
    3.2.x pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5289" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5289</a>
    
    To test:
    
    1. create an Android app
    2. enable the "ti.cloudpush" module in the tiapp.xml
    3. locate the "ti.cloudpush" module directory
    4. rename the the "cloudpush.jar" file to "cloudpush.bin"
    5. copy the LICENSE and rename to "cloudpush.jar"
    6. build the app
    7. watch for a glorious error message
    
    Be sure to delete the dummy "cloudpush.jar" and rename "cloudpush.bin" back to "cloudpush.jar"</li>
<li>Satyam Sekhri 2014-02-03

    A handled error message is now shown as "The module "ti.cloudpush" has an invalid jar file". Checked on:
    OSX: 10.9.1
    Appcelerator Studio: 3.2.1.201401311225
    CLI: 3.2.1-beta3
    Titanium SDK: 3.3.0.v20140202230850</li>
<li>Daniel Fortner 2014-02-03

    This item seems to persist for me in the beta of 3.2.1 (Studio & SDK).  Added diagnosticLog7 & consoleLog7 from my test today.</li>
<li>Chris Barber 2014-02-03

    [~dfortner] This fix will not be merged until 3.2.2.</li>
<li>Samuel Dowse 2014-02-04

    Verified fixed on:
    Mac OSX 10.9.1
    Appcelerator Studio, build: 3.2.1.201401311225
    Titanium SDK, build: 3.2.1.v20140203174850
    CLI: 3.2.1-beta3
    Alloy: 1.3.1-cr
    Xcode: 5.0.2
    
    Error output shows
    <code><pre>
    [INFO] :   Found Titanium module id=ti.cloudpush version=latest platform=android deploy-type=development path=/Users/sdowse/Library/Application Support/Titanium/modules/android/ti.cloudpush/3.2.1
    [ERROR] :  The module "ti.cloudpush" has an invalid jar file: /Users/sdowse/Library/Application Support/Titanium/modules/android/ti.cloudpush/3.2.1/cloudpush.jar
    </pre></code>
    
    Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16214.json">JSON Source</a></p>