{
	"id": "124968",
	"key": "TIMOB-16231",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "15821",
				"description": "2014 Sprint 02",
				"name": "2014 Sprint 02",
				"archived": true,
				"released": true,
				"releaseDate": "2014-01-31"
			},
			{
				"id": "15822",
				"description": "2014 Sprint 02 Tooling",
				"name": "2014 Sprint 02 Tooling",
				"archived": true,
				"released": true,
				"releaseDate": "2014-01-31"
			},
			{
				"id": "15856",
				"description": "Release 3.2.1",
				"name": "Release 3.2.1",
				"archived": false,
				"released": true,
				"releaseDate": "2014-02-10"
			},
			{
				"id": "15422",
				"description": "Release 3.3.0",
				"name": "Release 3.3.0",
				"archived": false,
				"released": true,
				"releaseDate": "2014-07-16"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2014-02-12T18:22:44.000+0000",
		"created": "2014-01-17T22:57:37.000+0000",
		"priority": {
			"name": "Critical",
			"id": "1"
		},
		"labels": [
			"module_liveview",
			"qe-testadded"
		],
		"versions": [
			{
				"id": "15856",
				"description": "Release 3.2.1",
				"name": "Release 3.2.1",
				"archived": false,
				"released": true,
				"releaseDate": "2014-02-10"
			}
		],
		"issuelinks": [
			{
				"id": "34384",
				"type": {
					"id": "10000",
					"name": "Blocks",
					"inward": "is blocked by",
					"outward": "blocks"
				},
				"outwardIssue": {
					"id": "124637",
					"key": "TIMOB-16161",
					"fields": {
						"summary": "LiveView: App fails to relauch on code changed with enabled liveView",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "34383",
				"type": {
					"id": "10000",
					"name": "Blocks",
					"inward": "is blocked by",
					"outward": "blocks"
				},
				"outwardIssue": {
					"id": "124839",
					"key": "TIMOB-16197",
					"fields": {
						"summary": "LiveView: Android device does not update after code change",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "34367",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "124581",
					"key": "TIMOB-16153",
					"fields": {
						"summary": "CLI: Hook system has wrong callback signatures and poor error handling",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "High",
							"id": "2"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "34532",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"inwardIssue": {
					"id": "125185",
					"key": "TISTUD-6076",
					"fields": {
						"summary": "Old version liveview path in paths.hooks can cause failure in running mobile apps",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "csullivan",
			"key": "csullivan",
			"displayName": "Christian Sullivan",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"updated": "2014-02-24T23:50:28.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "13600",
				"name": "LiveView",
				"description": "Live preview of Titanium apps"
			}
		],
		"description": "In Titanium CLI 3.2.1, the hooks API changed as apart of TIMOB-16153. The LiveView CLI plugin needs to be updated to be compatible.",
		"attachment": [],
		"flagged": false,
		"summary": "LiveView needs to be updated to use the new Titanium CLI 3.2.1 hook API",
		"creator": {
			"name": "cbarber",
			"key": "cbarber",
			"displayName": "Chris Barber",
			"active": true,
			"timeZone": "America/Chicago"
		},
		"subtasks": [],
		"reporter": {
			"name": "cbarber",
			"key": "cbarber",
			"displayName": "Chris Barber",
			"active": true,
			"timeZone": "America/Chicago"
		},
		"environment": null,
		"comment": {
			"comments": [
				{
					"id": "288699",
					"author": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~cbarber] I updated liveview as you defined and every thing appears to work.\n\nWhen it hits the users app.js in the copy resources hook it changes the path of app.js and says it copies the liveview.js in place, but when I open the app.js copied to the build it is the user's original app.js still.\n\n{code}\n[INFO]  Processing JavaScript files\n[ '/Users/euforic/test_cases/superagent/Resources/app.js',\n  '/Users/euforic/test_cases/superagent/build/iphone/build/Debug-iphonesimulator/superagent.app/app.js' ]\n[DEBUG] Copying /var/folders/c9/m840_dk93szdhklfnp76znyc0000gn/T/liveview.js => /Users/euforic/test_cases/superagent/build/iphone/build/Debug-iphonesimulator/superagent.app/app.js\n{code}",
					"updateAuthor": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-01-17T23:27:47.000+0000",
					"updated": "2014-01-17T23:27:47.000+0000"
				},
				{
					"id": "288702",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~csullivan] I appreciate you looking into this, but I too have been working on updating the LiveView hook. Generally if someone has marked a ticket as \"In Progress\", that means they are actively working on the ticket. I'm unfortunately not able to get mine working and I'm currently working with QE to diagnose. I didn't see any pull requests, so what did you change?",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2014-01-17T23:34:56.000+0000",
					"updated": "2014-01-17T23:34:56.000+0000"
				},
				{
					"id": "288703",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "Here's my changes:\n\n{code}\ndiff --git a/hook/lvhook.js b/hook/lvhook.js\nindex faafb28..a1a02ea 100644\n--- a/hook/lvhook.js\n+++ b/hook/lvhook.js\n@@ -8,7 +8,7 @@ var debug = require('debug')('liveview:clihook'),\n \n // export min cli version\n \n-exports.cliVersion = '>=3.0.25';\n+exports.cliVersion = '>=3.2.1';\n \n \n /**\n@@ -58,7 +58,7 @@ exports.init = function(logger, config, cli) {\n                                data.args[0] = join(tempdir(), 'liveview.js');\n                        }\n                }\n-               finished(data);\n+               finished(null, data);\n        }\n \n        function writeBuildManifest(data, finished) {\n@@ -66,7 +66,7 @@ exports.init = function(logger, config, cli) {\n                if (cli.argv.liveview) {\n                        data.args[0].liveview = true;\n                }\n-               finished(data);\n+               finished(null, data);\n        }\n \n        cli.addHook('build.ios.copyResource', { pre: copyResource });\n{code}",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2014-01-17T23:47:59.000+0000",
					"updated": "2014-01-17T23:47:59.000+0000"
				},
				{
					"id": "288716",
					"author": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~cbarber] I started working on it since you assigned it to me. I made the same changes as you did above, but did not put in a pr yet since liveview was not working with the changes implemented.\n\nI will merge the changes in liveview version 1.1.0 since it introduces breaking changes for older sdk versions.",
					"updateAuthor": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-01-18T01:27:14.000+0000",
					"updated": "2014-01-18T01:27:14.000+0000"
				},
				{
					"id": "288730",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~csullivan] Hmm, maybe we do something like this:\n\n{code}\nif (appc.version.gt(cli.version, '3.2.0')) {\n    finished(null, data);\n} else {\n    finished(data);\n}\n{code}",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2014-01-18T05:59:23.000+0000",
					"updated": "2014-01-18T05:59:23.000+0000"
				},
				{
					"id": "288866",
					"author": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~cbarber] could you please link that ticket to this one. Also I took your advice, ignored my OCD and made things backwards compatible. Thanks for the help!",
					"updateAuthor": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-01-20T20:06:54.000+0000",
					"updated": "2014-01-20T20:06:54.000+0000"
				},
				{
					"id": "288867",
					"author": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "PR [MASTER] https://github.com/appcelerator/liveview/pull/71\r\n\r\n[~mxia] The PR above resolves this issue, but there is still a bug with the cli that prevents liveview from working.\r\n",
					"updateAuthor": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-01-20T20:07:08.000+0000",
					"updated": "2014-01-20T20:07:08.000+0000"
				},
				{
					"id": "288884",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~csullivan] What link are you referring to? What is the bug in the CLI that prevents LiveView from working?",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2014-01-20T21:42:46.000+0000",
					"updated": "2014-01-20T21:42:46.000+0000"
				},
				{
					"id": "288901",
					"author": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~cbarber] The bug where it says it copied the liveview.js to the app as app.js but the app.js is the user's original app.js and not the liveview.js.",
					"updateAuthor": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-01-20T22:25:20.000+0000",
					"updated": "2014-01-20T22:25:20.000+0000"
				},
				{
					"id": "288908",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~csullivan] Doesn't ring a bell. I'll keep an eye out for it.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2014-01-20T22:41:16.000+0000",
					"updated": "2014-01-20T22:41:16.000+0000"
				},
				{
					"id": "288910",
					"author": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~cbarber] see the first comment of this ticket.",
					"updateAuthor": {
						"name": "csullivan",
						"key": "csullivan",
						"displayName": "Christian Sullivan",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-01-20T22:42:01.000+0000",
					"updated": "2014-01-20T22:42:01.000+0000"
				},
				{
					"id": "288925",
					"author": {
						"name": "mxia",
						"key": "mxia",
						"displayName": "Michael Xia",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~csullivan] [~cbarber] So I tested the latest LiveView (1.0.2) with 3.2.0 CLI, and it works fine, but with 3.2.1 CLI, the app no longer updates. Looking at the build console output, LiveView doesn't appear to run at all, even though the flag is correctly passed in. Here is the command Studio runs:\n\n{code}\nProcess: \"/usr/local/bin/titanium\" \"--no-colors\" \"--no-progress-bars\" \"--no-prompt\" \"build\" \"--platform\" \"ipad\" \"--sdk\" \"3.2.0.GA\" \"--log-level\" \"trace\" \"--target\" \"simulator\" \"--ios-version\" \"7.0.3\" \"--device-family\" \"ipad\" \"--sim-version\" \"7.0.3\" \"--sim-type\" \"ipad\" \"--device-id\" \"iPad\" \"--skip-js-minify\" \"--liveview\" \"--deploy-type\" \"development\"\n{code}\n\nThis matches the behavior Christian is describing. Should I reopen this ticket, or is there an existing ticket that we could link to? If there isn't one, we probably should create one to investigate.\n",
					"updateAuthor": {
						"name": "mxia",
						"key": "mxia",
						"displayName": "Michael Xia",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-01-20T23:37:26.000+0000",
					"updated": "2014-01-20T23:37:26.000+0000"
				},
				{
					"id": "288928",
					"author": {
						"name": "mxia",
						"key": "mxia",
						"displayName": "Michael Xia",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Worked with Chris and found the issue. Will push a PR.\n",
					"updateAuthor": {
						"name": "mxia",
						"key": "mxia",
						"displayName": "Michael Xia",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-01-21T00:01:21.000+0000",
					"updated": "2014-01-21T00:01:21.000+0000"
				},
				{
					"id": "288938",
					"author": {
						"name": "mxia",
						"key": "mxia",
						"displayName": "Michael Xia",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Pushed the fix and merged to be included in the next Studio 3.2.1 build.\n",
					"updateAuthor": {
						"name": "mxia",
						"key": "mxia",
						"displayName": "Michael Xia",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-01-21T00:41:11.000+0000",
					"updated": "2014-01-21T00:41:11.000+0000"
				},
				{
					"id": "289918",
					"author": {
						"name": "sdowse",
						"key": "sdowse",
						"displayName": "Samuel Dowse",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Verified fixed on:\nMac OSX 10.9.1\nAppcelerator Studio, build: 3.2.1.201401241158\nTitanium SDK, build: 3.2.1.v20140124163734\nCLI: 3.2.1-beta3\nAlloy: 1.3.1-beta4\nXcode: 5.0.2\nAndroid Device: Nexus 4 (4.2)\niOS Device: iPhone 5c (7.0.4)\n\nHook version is the expected version, and both classic and alloy apps build successfully to device and simulator.\nAlso project rebuilds on code change as expected.\nClosing.",
					"updateAuthor": {
						"name": "sdowse",
						"key": "sdowse",
						"displayName": "Samuel Dowse",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-01-28T02:19:22.000+0000",
					"updated": "2014-01-28T02:19:22.000+0000"
				},
				{
					"id": "292730",
					"author": {
						"name": "ingo",
						"key": "ingo",
						"displayName": "Ingo Muschenetz",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Updated title.",
					"updateAuthor": {
						"name": "ingo",
						"key": "ingo",
						"displayName": "Ingo Muschenetz",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-02-12T18:22:44.000+0000",
					"updated": "2014-02-12T18:22:44.000+0000"
				}
			],
			"maxResults": 16,
			"total": 16,
			"startAt": 0
		}
	}
}