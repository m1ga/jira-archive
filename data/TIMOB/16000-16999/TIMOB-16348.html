---
title: "[TIMOB-16348] Windows Hybrid: Cannot build due to CLI not detecting windows device"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-03-23T01:41:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Windows Hybrid</td></tr>
<tr><th>Labels</th><td>qe-3.2.1</td></tr>
<tr><th>Reporter</th><td>Samuel Dowse</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-01-30T22:09:58.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-17T18:22:12.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>
Builds will fail with the following error message:
<code><pre>[ERROR] There are Windows Phone configuration issues preventing the app from being built</pre></code>

<h4>Steps To Reproduce</h4>
1. Create a MobileWeb project
2. Run the application on device
3. Run "ti info"

<h4>Expected Result</h4>
"ti info" should detect the users device
Project should run on device

<h4>Actual Result</h4>
Project fails to run on device
"ti info" displays:
<code><pre>
C:\Users\tester32\AppData\Roaming\npm\node_modules\titanium\node_modules\longjohn\dist\longjohn.js:184
        throw e;
              ^
TypeError: Object.keys called on non-object
    at Function.keys (native)
    at exports.render (C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\mobileweb\cli\lib\info.js:58:13)
    at C:\Users\tester32\AppData\Roaming\npm\node_modules\titanium\lib\commands\info.js:613:14
    at Array.forEach (native)
    at C:\Users\tester32\AppData\Roaming\npm\node_modules\titanium\lib\commands\info.js:607:13
    at C:\Users\tester32\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:232:13
    at C:\Users\tester32\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:119:25
    at C:\Users\tester32\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:24:16
    at C:\Users\tester32\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:229:17
    at C:\Users\tester32\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:516:34
---------------------------------------------
    at Readable.on (_stream_readable.js:679:33)
    at Connection.exec (C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\node_modules\titanium-sdk\lib\adb.js:114:9)
    at ADB.devices (C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\node_modules\titanium-sdk\lib\adb.js:362:23)
    at Object.detectDevices (C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\android\cli\lib\detect.js:60:18)
    at Section.<anonymous> (C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\android\cli\lib\info.js:25:7)
    at finalize (C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\node_modules\titanium-sdk\lib\android.js:313:4)
    at C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\node_modules\titanium-sdk\lib\android.js:681:5
    at ChildProcess.<anonymous> (C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\node_modules\node-appc\lib\subprocess.js:60:3)
---------------------------------------------
    at run (C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\node_modules\node-appc\lib\subprocess.js:59:8)
    at C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\node_modules\titanium-sdk\lib\android.js:453:4
    at C:\Users\tester32\AppData\Roaming\Titanium\mobilesdk\win32\3.2.0.v20131220112443\node_modules\node-appc\lib\subprocess.js:129:3
    at exithandler (child_process.js:635:7)
    at EventEmitter.emit (events.js:98:17)
    at maybeClose (child_process.js:735:16)
    at ChildProcess._handle.onexit (child_process.js:802:5)
</pre></code>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-01-31

   Not for 3.2.1</li>
<li>Chris Barber 2014-02-05

   The problem was that the computer did not have the Windows Phone SDK installed. The detection could have been a bit better, regardless it does work if the Windows Phone SDK is installed.</li>
<li>Chris Barber 2014-02-05

   To make things more complicated, the Windows Hybrid build scripts explicitly look for Visual Studio 2012 files. The build scripts also use the platform architecture to determine which Program Files directory to scan instead of scanning both, but that's a different issue.</li>
<li>Samuel Dowse 2014-02-24

   This only occurs with Node version 0.10.13.
   There is a problem where Node will default your processor architecture to be 32 bit even if you are running a 64 bit OS.
   Due to it thinking that it is a 32 bit OS it will look in the wrong directory for certain files causing builds to fail.
   
   Updating to the latest version of Node fixes this issue and building to device works as expected.</li>
<li>Lee Morris 2017-03-17

   Closing ticket as the issue cannot be reproduced.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16348.json">JSON Source</a></p>