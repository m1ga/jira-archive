---
title: "[TIMOB-16365] CLI: Command and Hook minimum CLI version does not work when CLI version contains a label like 3.2.1-beta"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-02-07T21:32:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 03, 2014 Sprint 03 Core, Release 3.2.1, Release 3.3.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-02-03T23:48:21.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:43:08.000+0000</td></tr>
</table>

<h3>Description</h3>

If you have a hook that requires a min CLI version like this:

<code><pre>
exports.cliVersion = "&gt;=3.2.1";
</pre></code>

Then it only works when the Titanium CLI version is in the format "X.Y.Z.label" and not "X.Y.Z-label".

<h3>Comments</h3>

<ol>
<li>Chris Barber 2014-02-04

   Titanium CLI master pull request: <a href="https://github.com/appcelerator/titanium/pull/110" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/110</a>
   Titanium CLI 3.2.x pull request: <a href="https://github.com/appcelerator/titanium/pull/112" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/112</a>
   
   node-appc master pull request: <a href="https://github.com/appcelerator/node-appc/pull/83" rel="nofollow" target="_blank">https://github.com/appcelerator/node-appc/pull/83</a>
   node-appc 3.2.x pull request: <a href="https://github.com/appcelerator/node-appc/pull/84" rel="nofollow" target="_blank">https://github.com/appcelerator/node-appc/pull/84</a></li>
<li>Chris Barber 2014-02-04

   To test the CLI changes:
   
   1. create a directory called "foo"
   2. in that directory, create a file called "bar.js" with the following:
   
   <code><pre>
   exports.cliVersion = '&gt;=5.0.0'; // something big
   </pre></code>
   
   3. add the directory to the paths.hooks:
   
   <code><pre>
   ti config paths.hooks -a /path/to/hook
   </pre></code>
   
   4. update your cli version to have a "-beta" tag by either installing a beta release or editing /usr/local/lib/node_modules/titanium/package.json and setting the version to "X.Y.Z-beta"
   
   5. build any app and notice the warning at the top of the output saying the plugin was incompatible</li>
<li>Chris Barber 2014-02-07

   To test the node-appc PR:
   
   1. clone the node-appc git repo
   2. cd node-appc
   3. npm install
   4. ./forge test version
   5. Some tests should fail
   6. git checkout -b timob-16365 origin/timob-16365
   7. ./forge test version
   8. All "version" tests should pass.</li>
<li>Samuel Dowse 2014-02-10

   Verified fixed on:
   Mac OSX 10.9.1
   Windows 8.1
   Appcelerator Studio, build: 3.2.1.201402061120
   Titanium SDK, build: 3.2.1.v20140206170116
   CLI: 3.2.1-beta5
   Alloy: 1.3.1-cr2
   Xcode: 5.0.2
   
   Create, Build, Clean and Project work as expected across Android, BlackBerry, iOS, MobileWeb and Tizen.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16365.json">JSON Source</a></p>