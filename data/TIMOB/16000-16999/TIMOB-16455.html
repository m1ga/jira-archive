---
title: "[TIMOB-16455] Android: Event object on ListItem child's change doesn't match iOS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2020-02-19T13:48:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>parity</td></tr>
<tr><th>Reporter</th><td>Tim Poulsen</td></tr>
<tr><th>Assignee</th><td>Rene Pot</td></tr>
<tr><th>Created</th><td>2014-02-12T14:35:34.000+0000</td></tr>
<tr><th>Updated</th><td>2020-02-19T13:48:53.000+0000</td></tr>
</table>

<h3>Description</h3>

Source: <a href="http://developer.appcelerator.com/question/162482/alloy-listview-with-switch-in-template" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/162482/alloy-listview-with-switch-in-template</a> 

The event object, in particular e.source does not include the same properties as on iOS making it impossible to create a cross-platform solution to the developer's question.

In addition to the code I provided in that Q&A thread, I tried other solutions including this:

<code><pre>
&lt;Alloy&gt;
	&lt;Window title="List item templates"&gt;
		&lt;ListView id="myList" defaultItemTemplate="myTemplate" top="20"&gt;
		    &lt;Templates&gt;
		        &lt;ItemTemplate name="myTemplate" onChange="doSwitchMe"&gt;
		            &lt;Switch bindId="checked" value="false" /&gt;
		            &lt;Label bindId="title" left="40dp"/&gt;
		        &lt;/ItemTemplate&gt;
		    &lt;/Templates&gt;
		    &lt;ListSection id="mySection" headerTitle="A Section"&gt;
		    &lt;/ListSection&gt;
		&lt;/ListView&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt; 
</pre></code>

<code><pre>
var items=[];
for(var i=0; i&lt;4; i++){
    items.push({
        title: {text: 'Title one'}, 
        checked: {value: false, myID: 'switch'+i}
    });
};
$.mySection.setItems(items);

function doSwitchMe(e) {
    // result of next line is 'Switch undefined was clicked and is now on'
    alert('Switch ' + e.source.myID + ' was clicked and is now ' + ((e.source.value===true)? 'on' : 'off'));
}

$.index.open();
</pre></code>

In all cases, e.source doesn't include the custom myID property.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16455_45846/Screen Shot 2014-02-12 at 9.07.13 AM.png">Screen Shot 2014-02-12 at 9.07.13 AM.png</td></td><td>2014-02-12T14:35:34.000+0000</td><td>97465</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16455_45847/Screen Shot 2014-02-12 at 9.07.44 AM.png">Screen Shot 2014-02-12 at 9.07.44 AM.png</td></td><td>2014-02-12T14:35:34.000+0000</td><td>94639</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2014-02-13

   Yes, this is an architecture parity between Android and iOS. We solved this by introducing 'itemId' property that you can use instead:
   <code><pre>
   for(var i=0; i&lt;4; i++){
       items.push({
           properties: {itemId: 'switch ' +i},
           title: {text: 'Title one'}, 
           checked: {value: false}
       });
   };
   ...
   function doSwitchMe(e) {
       // result of next line is 'Switch undefined was clicked and is now on'
       alert('Switch ' + e.itemId + ' was clicked and is now ' + ((e.source.value===true)? 'on' : 'off'));
   }
   </pre></code></li>
<li>Tim Poulsen 2014-02-13

   Defining a custom property on each list item is an acceptable workaround. But since the e.source.value property is valid on both platforms, it really seems as though the other properties of that child item should be accessible on the e.source object. 
   
   I've updated the Q&A thread with the workaround. Thanks Hieu.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16455.json">JSON Source</a></p>