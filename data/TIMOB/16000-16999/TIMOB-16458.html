---
title: "[TIMOB-16458] CLI: Cannot build a project when the directory switch is specified"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-03-28T18:10:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.1</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 06, 2014 Sprint 06 Tooling, Release 3.2.3, Release 3.3.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Davide</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-02-12T22:18:03.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:44:10.000+0000</td></tr>
</table>

<h3>Description</h3>

It seems that I cannot build a project when giving the project directory -d switch

 ti build -d /home/davide/Titanium_Studio_Workspace/projectname/ --platform android --log-level error

/usr/local/lib/node_modules/titanium/node_modules/longjohn/dist/longjohn.js:184
        throw e;
              ^
Error
    at Object.<anonymous> (/usr/local/lib/node_modules/titanium/lib/cli.js:159:30)
    at Module._compile (module.js:456:26)
    at Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Module._load (module.js:312:12)
    at Module.require (module.js:364:17)
    at require (module.js:380:17)
    at run (/usr/local/lib/node_modules/titanium/lib/titanium.js:180:17)
    at /usr/local/lib/node_modules/titanium/lib/titanium.js:101:3
    at /usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/subprocess.js:100:8
---------------------------------------------
    at Object.run (/usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/subprocess.js:59:8)
    at find (/usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/subprocess.js:96:14)
    at q.process (/usr/local/lib/node_modules/titanium/node_modules/async/lib/async.js:731:21)
    at processImmediate (timers.js:309:15)



When instead I cd in the directory and launch the build command:

ti build --no-prompt --platform android --log-level error

All is working fine. 

The build process was fine with 3.2.1 beta.

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-02-13

   I can reproduce this problem only if tiapp.xml points to 3.2.0 SDK as per the following entry.
   <sdk-version>3.2.0.GA</sdk-version>
   
   I cannot reproduce this issue if I change this entry to 3.2.1.GA. Can you please confirm if this is the case with you as well?</li>
<li>Davide 2014-02-13

   Just tested as well with different version of SDK in tiapp.xml
   
   problem exists with:
       <sdk-version>3.2.0.GA</sdk-version>
       <sdk-version>3.2.1.GA</sdk-version>
   
   Problem vanish when using this other version
       <sdk-version>3.2.1.v20140130101648</sdk-version>
   
   Although for sure I was able to compile with -d with the SDK 3.2.0.GA with when using an earlier version of ti build [the one that came with the 3.2.1 beta]  
   </li>
<li>Ritu Agrawal 2014-02-13

   Moving this ticket to engineering as I can reproduce this issue with 3.2.1 CLI + 3.2.0 SDK on OSX. Reporter is running into this problem with SDK 3.2.1 GA as well but I cannot reproduce that particular combination. Nonetheless, it is a bug with 3.2.1 CLI.</li>
<li>Chris Barber 2014-03-28

   Great find!</li>
<li>Chris Barber 2014-03-28

   This is a regression that was introduced in Titanium SDK 3.2.0 around the time the Android build was rewritten.</li>
<li>Chris Barber 2014-03-28

   Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5552" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5552</a>
   3.2.x pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5553" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5553</a></li>
<li>Samuel Dowse 2014-04-08

   Verified fixed on:
   Linux Mint 16 (x64)
   Titanium CLI, build: 3.2.1, 3.2.3-alpha2
   Titanium SDK, build: 3.2.1.GA, 3.2.2.GA, 3.2.3.v20140403105720
   Alloy: 1.3.1
   
   Followed the test steps in the description, and managed to replicate the error using 3.2.1.GA and 3.2.2.GA versions of the SDK on both 3.2.1 and 3.2.3-alpha2 CLI.
   Using 3.2.3.v20140403105720 on 3.2.1 and 3.2.3-alpha2 CLI fixed the error and the project built and installed successfully.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16458.json">JSON Source</a></p>