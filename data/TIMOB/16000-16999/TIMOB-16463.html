---
title: "[TIMOB-16463] iOS: Search bar disappears in some cases"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-08-20T04:31:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>listview, module_listview, orientation, qe-closed-3.4.0, qe-manualtest, qe-testadded, searchbar</td></tr>
<tr><th>Reporter</th><td>Martijn Kooij</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2014-02-13T20:17:42.000+0000</td></tr>
<tr><th>Updated</th><td>2014-12-16T08:40:13.000+0000</td></tr>
</table>

<h3>Description</h3>

Certain actions make the searchbar disappear. The easiest to reproduce is changing the device orientation when the searchbar is off screen (so when you have scrolled down a bit).
Another way, for which I cannot easily create a piece of reproducing code, is if you update the data of a listview by simply assigning the sections again.

The attached video shows the searchbar disappearing after rotating the device.

<code><pre>
// this sets the background color of the master UIView (when there are no windows/tab groups on it)
Titanium.UI.setBackgroundColor('#000');

// create tab group
var tabGroup = Titanium.UI.createTabGroup();


//
// create base UI tab and root window
//
var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff'
});
var tab1 = Titanium.UI.createTab({  
    icon:'KS_nav_views.png',
    title:'Tab 1',
    window:win1
});

	var search = Ti.UI.createSearchBar({
		barColor: '#FFFFFF',
		borderColor: 'white'
	});
	search.addEventListener('cancel', function() {
		search.blur();
	});

	var listView = Ti.UI.createListView({
		searchView: search,
		top: 10
	});

	var sections = [];
	
	var fruitSection = Ti.UI.createListSection({ headerTitle: 'Group 1'});
	var fruitDataSet = [
	    {properties: { title: 'Item 1'}},
	    {properties: { title: 'Item 2'}},
	    {properties: { title: 'Item 3'}},
	    {properties: { title: 'Item 4'}},
	    {properties: { title: 'Item 5'}},
	    {properties: { title: 'Item 6'}},
	    {properties: { title: 'Item 7'}},
	    {properties: { title: 'Item 8'}},
	];
	fruitSection.setItems(fruitDataSet);
	sections.push(fruitSection);
	
	var vegSection = Ti.UI.createListSection({ headerTitle: 'Group 2'});
	var vegDataSet = [
	    {properties: { title: 'Test 1'}},
	    {properties: { title: 'Test 2'}},
	    {properties: { title: 'Test 3'}},
	    {properties: { title: 'Test 4'}},
	    {properties: { title: 'Test 5'}},
	    {properties: { title: 'Test 6'}},
	    {properties: { title: 'Test 7'}},
	    {properties: { title: 'Test 8'}},
	];
	vegSection.setItems(vegDataSet);
	sections.push(vegSection);
	
	listView.sections = sections;

	win1.add(listView);

//
// create controls tab and root window
//
var win2 = Titanium.UI.createWindow({  
    title:'Tab 2',
    backgroundColor:'#fff'
});
var tab2 = Titanium.UI.createTab({  
    icon:'KS_nav_ui.png',
    title:'Tab 2',
    window:win2
});

var label2 = Titanium.UI.createLabel({
	color:'#999',
	text:'I am Window 2',
	font:{fontSize:20,fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});

win2.add(label2);



//
//  add tabs
//
tabGroup.addTab(tab1);  
tabGroup.addTab(tab2);  


// open tab group
tabGroup.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16463_45902/searchbar_disappears.mov">searchbar_disappears.mov</td></td><td>2014-02-13T20:17:42.000+0000</td><td>4538371</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-02-14

   Moving this ticket to engineering as I can reproduce this issue with 3.2.1 release. Please see the attached video for reference.</li>
<li>Martijn Kooij 2014-03-08

   Would it be possible to explain the rules you guys use for user interface breaking bugs such as this one? How is this issue classified? Or, in other words... When will it be fixed because I am holding back my big moving from tableviews to listviews update because of this one (and others as well, but this is the most important one as it easily breaks a basic feature).
   
   Thanks.</li>
<li>Martijn Kooij 2014-03-24

   Please? Pretty please? Please pretty please with sugar on top?</li>
<li>Shameer Jan 2014-08-13

   Issue cannot reproduces on SDK version 3.4.0
   Titanium Command-Line Interface, 
   CLI version 3.3.0, 
   Titanium SDK version 3.4.0.GA 
   iOS SDK: 7.1 
   iOS iPhone Simulator: 7.1</li>
<li>Ingo Muschenetz 2014-08-13

   [~shameerj] and [~sunila]. We should test this in 3.2.1 and 3.4.0 (latest master).
   
   * If it cannot be reproduced in 3.2.1, then mark as Can't Reproduce, with no fix version
   * If it can be reproduced in 3.2.1 but not in 3.4.0, mark as Fixed in 3.4.0
   
   Reopening.</li>
<li>Ingo Muschenetz 2014-08-14

   I see no justification this should have ben re-resolved. See my comments above, follow those instructions, and then report your updated findings.</li>
<li>Martijn Kooij 2014-08-18

   I can confirm, I can no longer reproduce the original issue using the latest 3.4.0 build (august 15.).</li>
<li>Shameer Jan 2014-08-20

   Issue reproduces on SDK version 3.2.1 
   Cannot reproduces on SDK version 3.4.0
   
   Titanium Command-Line Interface, 
   CLI version 3.3.0, 
   Titanium SDK version 3.4.0.GA 
   Titanium SDK version 3.2.1.GA 
   
   iOS SDK: 7.1 
   iOS iPhone Simulator: 7.1</li>
<li>Priya Agarwal 2014-08-20

   Verified with:
   
   Appcelerator Studio:3.4.0.201408180158
   Sdk:3.4.0.v20140819094113
   alloy:1.5.0-dev
   titanium:3.4.0-dev
   titanium-code-processor:1.1.1
   acs:1.0.16
   npm:1.3.2
   OS:Maverick(10.9.4)
   xcode: Xcode6Beta5
   Device:iPhone5s(v8.0)
   
   Search bar does not disappears on changing orientation.
   Working as expected.
   Hence closing the issue</li>
<li>Fokke Zandbergen 2014-12-16

    Still seeing this in 3.4.1.GA</li>
</ol>


<p><a href="/TIMOB/TIMOB-16463.json">JSON Source</a></p>