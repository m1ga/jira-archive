---
title: "[TIMOB-16503] iOS: Allow toolbar to extend underneath statusbar on iOS 7"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-02-28T19:43:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 04, 2014 Sprint 04 API, Release 3.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>extendedges, module_toolbar, navigationbar, navigationgroup, navigationwindow, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2014-02-23T19:18:27.000+0000</td></tr>
<tr><th>Updated</th><td>2014-04-23T09:55:00.000+0000</td></tr>
</table>

<h3>Description</h3>

Since the new Window architecture in 3.2.0 it is not possible anymore for a window to have a simple navigation bar. You either have to use a <code>NavigationWindow</code> or a <code>Window</code> + <code>Toolbar</code>. The first feels over-done for just a navigation bar, but the second one has a major short-coming that is pretty much a blocker as well.

Take the following <code>app.js</code>:

<code><pre>
var win = Ti.UI.createWindow({
  backgroundColor: 'red',
  extendEdges: [Ti.UI.EXTEND_EDGE_ALL]
});
win.add(Ti.UI.iOS.createToolbar({
  items: [Ti.UI.createButton({
    systemButton: Titanium.UI.iPhone.SystemButton.CAMERA,
  })],
  top: 0, // 20 leaves a gap
  height: 64, // doesn't work
  borderTop: false,
  borderBottom: true
}));
win.open();
</pre></code>

What we want is for the <code>Toolbar</code> to extend itself to the area under the status bar like the <code>NavigationWindow</code> does and the old window navigation bar had, so they can have a uniform color and more importantly, share the blurred effect enabled by <code>extendEdges</code>.

However, when I set <code>top: 0</code>, the first 20 of the 44 points of the toolbar are positioned under the statusbar, even if I try to set the height to 64. And when I set <code>top: 20</code> the red window is visible in all its glory behind the status bar like demonstrated in the attached screenshot. I could position another view in that area, but there's no way to give it the same blur-effect the toolbar has.

It would be nice to have an option to have the <code>Toolbar</code> extend to the area under the statusbar, which would provide a really good and light alternative for the good-old navigation bar.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16503_46195/chip.jpg">chip.jpg</td></td><td>2014-02-25T22:00:08.000+0000</td><td>38857</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16503_46196/darkstripes_bg.jpg">darkstripes_bg.jpg</td></td><td>2014-02-25T22:00:08.000+0000</td><td>80497</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16503_46139/iOS-simulatorschermafbeelding 23 feb. 2014 20.23.30.png">iOS-simulatorschermafbeelding 23 feb. 2014 20.23.30.png</td></td><td>2014-02-23T19:23:43.000+0000</td><td>18905</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16503_46197/iOS Simulator Screen shot Feb 25, 2014, 2.01.30 PM.png">iOS Simulator Screen shot Feb 25, 2014, 2.01.30 PM.png</td></td><td>2014-02-25T22:02:48.000+0000</td><td>77960</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16503_46198/iOS Simulator Screen shot Feb 25, 2014, 2.01.51 PM.png">iOS Simulator Screen shot Feb 25, 2014, 2.01.51 PM.png</td></td><td>2014-02-25T22:02:48.000+0000</td><td>67788</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2014-02-25

   Test case 
   <code><pre>
   var send = Titanium.UI.createButton({
       title: 'Send',
       style: Titanium.UI.iPhone.SystemButtonStyle.DONE,
   });
   
   var camera = Titanium.UI.createButton({
       systemButton: Titanium.UI.iPhone.SystemButton.CAMERA,
   });
   
   var cancel = Titanium.UI.createButton({
       systemButton: Titanium.UI.iPhone.SystemButton.CANCEL
   });
   
   var bookmark = Titanium.UI.createButton({
       systemButton: Titanium.UI.iPhone.SystemButton.BOOKMARKS
   });
   
   flexSpace = Titanium.UI.createButton({
       systemButton:Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE
   });
   
   var tb1 = Titanium.UI.iOS.createToolbar({
       items:[send, flexSpace, camera],
       top:20,
       backgroundImage:'images/chip.jpg',
       extendBackground:true
   }); 
   
   var tb2 = Titanium.UI.iOS.createToolbar({
       items:[bookmark, flexSpace, cancel],
       bottom:0,
       backgroundImage:'images/darkstripes_bg.jpg',
   }); 
   
   var label = Ti.UI.createLabel({text:'SEE TOOLBARS !'});
   
   var win = Ti.UI.createWindow({backgroundColor:'white',orientationModes:[1,2,3,4]});
   win.add(tb1);
   win.add(tb2);
   win.add(label);
   win.open();
   </pre></code></li>
<li>Vishal Duggal 2014-02-25

   Pull pending against master
   <a href="https://github.com/appcelerator/titanium_mobile/pull/5384" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5384</a></li>
<li>Vishal Duggal 2014-02-25

   Attaching Resources for testcase</li>
<li>Vishal Duggal 2014-02-25

   Attaching screenshots</li>
<li>Fokke Zandbergen 2014-02-26

   Nicely done [~vduggal]! The default - non-image translucent/blurred background - works as well?</li>
<li>Vishal Duggal 2014-02-26

   @[~fokke]
   Should work. I put the sample with background image since the background image rendering was changed for Toolbars on iOS7 as part of this PR.</li>
<li>Pragya Rastogi 2014-04-23

   Verified the fix with:
   OSX: 10.9.2
   Xcode: 5.1.1
   Studio - 3.3.0.201404211130
   SDK - 3.3.0.v20140422163054
   acs-1.0.14
   alloy-1.4.0-dev
   npm-1.3.2
   titanium-3.3.0-dev
   titanium-code-processor-1.1.1-beta1
   Device: iPhone 4s (7.1)</li>
</ol>


<p><a href="/TIMOB/TIMOB-16503.json">JSON Source</a></p>