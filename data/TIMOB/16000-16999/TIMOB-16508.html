---
title: "[TIMOB-16508] Android: Image doesn't show after taking photo with camera"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2014-04-12T02:45:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 07, 2014 Sprint 07 SDK</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hieu Pham</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2014-02-26T00:13:41.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-24T00:03:10.000+0000</td></tr>
</table>

<h3>Description</h3>

After taking photo using camera, the image doesn't show up when bitmap is added to imageView. Log shows this error: "bitmap too large to be uploaded into a texture".
<code><pre>
var win1 = Titanium.UI.createWindow({
    backgroundColor : '#fff',
});
 
var contenner = Ti.UI.createView({
    width : Ti.UI.SIZE,
    height : Ti.UI.SIZE,
    top : 0,
    backgroundColor : '#eee',
    borderColor : '#eee',
    layout : 'vertical',
});
win1.add(contenner);
 
var anImageView = Ti.UI.createImageView({
    autorotate: true,
});
contenner.add(anImageView);
 
var controlview = Ti.UI.createView({
    width : Ti.UI.FILL,
    height : Ti.UI.SIZE,
    top : 20,
});
 
contenner.add(controlview);
 
var frmcamera = Ti.UI.createButton({
    backgroundImage : 'none',
    backgroundColor : '#ff0000',
    title : 'Open Camera',
    color : '#fff',
    width : 80,
    height : 50,
    left : 10,
});
 
frmcamera.addEventListener('click', function() {
    fireUpTheCamera();
});
 
controlview.add(frmcamera);
 
var overlay = Ti.UI.createView({
    width : Ti.UI.FILL,
    height : Ti.UI.FILL,
    autorotate: true,
}); 
// Create an ImageView.
var overlayImg = Ti.UI.createImageView({
    image : '/KS_nav_ui.png',
    width : Ti.UI.SIZE,
    height : Ti.UI.SIZE,
});
 
 
overlayImg.addEventListener('click', function() {
    Ti.Media.takePicture();
});
overlay.add(overlayImg);
 
function fireUpTheCamera() {
    Titanium.Media.showCamera({
 
        success : function(event) {
            var cropRect = event.cropRect;
            var image = event.media;
 
            Ti.API.debug('Our type was: ' + event.mediaType);
            if (event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO) {
                anImageView.image = image;
                //new_upload_profile_picture_update(anImageView.image);
            } else {
                alert("got the wrong type back =" + event.mediaType);
            }
        },
        cancel : function() {
        },
        error : function(error) {
            // create alert
            var a = Titanium.UI.createAlertDialog({
                title : 'Camera'
            });
 
            // set message
            if (error.code == Titanium.Media.NO_CAMERA) {
                a.setMessage('Please run this test on device');
            } else {
                a.setMessage('Unexpected error: ' + error.code);
            }
 
            // show alert
            a.show();
        },
        saveToPhotoGallery : true,
        allowEditing : false,
        overlay : overlay,
        mediaTypes : [Ti.Media.MEDIA_TYPE_PHOTO]
    });
}
 
win1.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2014-02-26

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/5385" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5385</a></li>
<li>Vishal Duggal 2014-04-12

   Going to mark this as Wont Fix</li>
<li>Vishal Duggal 2014-04-12

   The results from a camera callback have a blob which can give you image dimensions.
   Take a 1024x1024 image for example. If you load this large a bitmap into memory it is going to take at best 2MB(RGB565) or at worst 4MB(ARGB888) of memory. You really shouldn't be loading that much data. Newer devices of course produce images with much higher resolution.
   Ti.Blob has methods to resize and load smaller images into memory. 
   Developers should use that instead.
   
   </li>
<li>Lee Morris 2017-03-22

   Closing ticket as "Won't Fix".</li>
</ol>


<p><a href="/TIMOB/TIMOB-16508.json">JSON Source</a></p>