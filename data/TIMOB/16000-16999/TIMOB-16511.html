---
title: "[TIMOB-16511] iOS: Text in label gets truncated (...) when changing fontWeight from normal to bold"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-08-24T17:19:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, merge-7.0.2</td></tr>
<tr><th>Reporter</th><td>Michael Woode</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2014-02-25T10:04:54.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-24T17:19:38.000+0000</td></tr>
</table>

<h3>Description</h3>

If setting either the width or left and right values of a label the text will be truncated when you change the fontWeight of the label. If width or left and right are omitted it resizes the label correctly after changing the fontWeight. 

The label container is "showing" the right size, but text gets truncated anyway.

<code><pre>
var testLbl = Ti.UI.createLabel({
	text: 'Some semi-long text',
	font: {
		fontWeight: 'normal',
		fontSize: 13
	},
	backgroundColor:'#f00',
	color: '#000',
	textAlign: 'center',
	top: 60,
	// left: 10,
	// right: 10,
	width:'90%'
});
setTimeout(function(e){
	testLbl.font = {
		fontWeight: 'bold',
		fontSize: 13
	};
	//text gets truncated
}, 1000);
</pre></code>

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-02-26

   I believe it has more to do with changing the fontWeight dynamically from "normal" to "bold". If you set the fontWeight to Bold initially and then change it to Bold dynamically then also it works fine. So it appears that the size is being not calculated when the fontWeight changes.
   
   </li>
<li>Ritu Agrawal 2014-02-26

   Moving this ticket to engineering as I can reproduce this issue with the following test case.
   
   <code><pre>
   var win = Ti.UI.createWindow({fullscreen:true});  
   
   var testLbl = Ti.UI.createLabel({
       text: 'Some semi-long text for testing',
       font: {
           fontWeight: 'normal',
           fontSize: 13
       },
       backgroundColor:'#f00',
       color: '#000',
       textAlign: 'center',
       top: 60,
       left: 10,
       right: 10,
       width:'90%'
   });
   
   win.add(testLbl);
   
   
   win.addEventListener('open',function(){
   	setTimeout(function(e){
   	    testLbl.font = {
   	        fontWeight: 'bold',
   	        fontSize: 13
   	    };
   	    //text gets truncated
   	}, 2000);
   });
   
   win.open();
   </pre></code></li>
<li>Shameer Jan 2014-08-26

   Issue reproduces on SDK Version 3.2.1 and 3.4.0
   
   Titanium Command-Line Interface, 
   CLI version 3.3.0, 
   Titanium SDK version 3.2.1.GA 
   Titanium SDK version 3.4.0.GA 
   Appcelerator Studio, build: 3.3.0.201407111535 
   iOS SDK: 7
   iOS iPhone Simulator: 7</li>
<li>Guile 2017-11-29

   This bug is triggered event if I set de fontFamily by its current value : $.label.font.fontFamily = $.label.font.fontFamily</li>
<li>Vijay Singh 2018-03-09

   PR - <a href="https://github.com/appcelerator/titanium_mobile/pull/9923" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9923</a></li>
<li>Samir Mohammed 2018-07-18

   *Closing ticket*, Verified fix in SDK Version: <code>7.4.0.v20180717131401</code>
   
   *FR Passed (Test Steps):*
   <h4>Created a titanium application </h4>
   <h4>Added the following code above in the <code>app.js</code></h4>
   <h4>Ran the application</h4>
   <h4>Application text no longer truncated when changing the 'fontWeight' to bold from normal </h4>
   
   *Test Environment*
   <code><pre>
   APPC Studio: 5.0.0.201712081732
   APPC CLI: 7.0.4
   iPhone 6 simulator (11.2)
   Operating System Name: Mac OS High Sierra
   Operating System Version: 10.13
   Node.js Version: 8.9.1
   Xcode 9.2
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-16511.json">JSON Source</a></p>