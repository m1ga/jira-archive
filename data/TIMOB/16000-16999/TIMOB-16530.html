---
title: "[TIMOB-16530] Android: setActive tab is not working"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-03-23T23:43:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.1.3, Release 3.2.0, Release 3.2.1</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 06, 2014 Sprint 06 SDK, Release 3.2.3, Release 3.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_tabgroup, qe-testadded, supportTeam</td></tr>
<tr><th>Reporter</th><td>Mostafizur Rahman</td></tr>
<tr><th>Assignee</th><td>Biju pm</td></tr>
<tr><th>Created</th><td>2014-03-02T06:30:35.000+0000</td></tr>
<tr><th>Updated</th><td>2014-03-26T06:13:24.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description </h4>

setActive method is not working in tabgroup. It displays an error “Invalid tab index”.

<h4>Test Environment</h4>

Mac OX X 10.9.2
Ti SDK 3.1.3.GA, 3.2.0.GA, 3.2.1.GA
Ti CLI 3.2.1
Android 2.3.3

<h4>Test Code </h4>

<code><pre>
var win1 = Ti.UI.createWindow({
	title : 'Win 1'
});

var button = Ti.UI.createButton({
	color : '#000',
	style : Ti.UI.iPhone.SystemButtonStyle.BORDERED,
	title : 'Set Active Tab 1'
});

button.addEventListener('click', function(e) {
	tabGroup.setActiveTab(1);
	//Ti.API.info('****************** activeTab: ' + tabGroup.activeTab);
});

win1.add(button);

var tab1 = Ti.UI.createTab({
	icon : 'KS_nav_ui.png',
	title : 'Tab 1',
	window : win1
});

var win2 = Ti.UI.createWindow({
	title : 'Win 2'
});

var tab2 = Ti.UI.createTab({
	icon : 'KS_nav_views.png',
	title : 'Tab 2',
	window : win2
});

var tabGroup = Ti.UI.createTabGroup({

});

tabGroup.addTab(tab1);
tabGroup.addTab(tab2);

/*
 tabGroup.addEventListener('open', function(e) {
 tabGroup.setActiveTab(1);
 Ti.API.info('****************** activeTab: ' + tabGroup.activeTab);
 });
 */

tabGroup.setActiveTab(1);

tabGroup.open();

//Ti.API.info('********************* activeTab: ' + tabGroup.activeTab);

</pre></code>

<h4>Step to reproduce </h4>

<h4>Create ti sample project in titanium classic</h4>
<h4>Update app.js file with sample code </h4>
<h4>Run on android device/emulator </h4>
<h4>Check console log for error </h4>

<h4>Expected Result</h4>

Tab 2 will select when app is run.

<h4>Actual result </h4>

Tab 1 selected.

<h4>Logs</h4>

<code><pre>

[ERROR] :  TabGroupProxy: (KrollRuntimeThread) [390,390] Invalid tab index.


</pre></code>


<h4>Workaround Code </h4>

<code><pre>
var win1 = Ti.UI.createWindow({
	title : 'Win 1'
});

var button = Ti.UI.createButton({
	color : '#000',
	style : Ti.UI.iPhone.SystemButtonStyle.BORDERED,
	title : 'Set Active Tab 1'
});

button.addEventListener('click', function(e) {
	tabGroup.setActiveTab(1);
	//Ti.API.info('****************** activeTab: ' + tabGroup.activeTab);
});

win1.add(button);

var tab1 = Ti.UI.createTab({
	icon : 'KS_nav_ui.png',
	title : 'Tab 1',
	window : win1
});

var win2 = Ti.UI.createWindow({
	title : 'Win 2'
});

var tab2 = Ti.UI.createTab({
	icon : 'KS_nav_views.png',
	title : 'Tab 2',
	window : win2
});

var tabGroup = Ti.UI.createTabGroup({

});

tabGroup.addTab(tab1);
tabGroup.addTab(tab2);


 tabGroup.addEventListener('open', function(e) {
 tabGroup.setActiveTab(1);
 Ti.API.info('****************** activeTab: ' + tabGroup.activeTab);
 });
 

//tabGroup.setActiveTab(1);

tabGroup.open();

//Ti.API.info('********************* activeTab: ' + tabGroup.activeTab);

</pre></code>


Thanks


<h3>Comments</h3>

<ol>
<li>Biju pm 2014-03-19

   PR:-
   <a href="https://github.com/appcelerator/titanium_mobile/pull/5219" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5219</a></li>
<li>Pedro Enrique 2014-03-24

   Back port PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/5511" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5511</a></li>
<li>Paras Mishra 2014-03-25

   Verified the fix using the environment as
   
   Device : Google Nexus 5,  Android Version: 4.4.2
   SDK: 3.2.3.v20140324164913
   CLI version : 3.2.1
   OS : MAC OSX 10.9.2
   Alloy:  1.3.1
   ACS: 1.0.14
   npm:1.3.2
   Appcelerator Studio, build: 3.2.3.201403190645
   titanium-code-processor: 1.1.0
   XCode : 5.1 
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-16530.json">JSON Source</a></p>