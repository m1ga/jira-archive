---
title: "[TIMOB-16596] Android: Animation anchorPoints not working"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-05-07T21:20:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, animation, reprod</td></tr>
<tr><th>Reporter</th><td>Ronnie Swietek</td></tr>
<tr><th>Assignee</th><td>Yordan Banev</td></tr>
<tr><th>Created</th><td>2014-03-04T22:32:20.000+0000</td></tr>
<tr><th>Updated</th><td>2018-06-14T19:26:53.000+0000</td></tr>
</table>

<h3>Description</h3>

The animation anchor points are no longer working for android as of SDK 3.2.0. The demo in the docs doesn't even work. Here is the code you can use to test (copied from docs)

<code><pre> 
var animationType = [
  { name: 'Top Left', anchorPoint: {x:0, y:0} },
  { name: 'Top Right', anchorPoint: {x:1, y:0} },
  { name: 'Bottom Left', anchorPoint: {x:0, y:1} },
  { name: 'Bottom Right', anchorPoint: {x:1, y:1} },
  { name: 'Center', anchorPoint: {x:0.5, y:0.5} }
];
var animationTypeLength = animationType.length;
var animationCount = 0;
var animationTypePointer = 0;

var t = Ti.UI.create2DMatrix();
t = t.rotate(90);

// animation properties
var a = {
  transform: t,
  duration: 2000,
  autoreverse: true
};

Ti.UI.backgroundColor = 'white';
var win = Ti.UI.createWindow();

var view = Ti.UI.createView({
  backgroundColor:'#336699',
  width:100, height:100
});
win.add(view);

var button = Ti.UI.createButton({
  title:'Animate ' + animationType[animationTypePointer].name,
  height: (Ti.UI.Android) ? 80 : 40,
  width: (Ti.UI.Android) ? 300 : 200,
  top:30
});
win.add(button);

function updateButton(name){
  button.title = 'Animate ' + name;
}

button.addEventListener('click', function(){
  // set new anchorPoint on animation for Android
  a.anchorPoint = animationType[animationTypePointer].anchorPoint;
  
  // set new anchorPoint on view for iOS
  view.anchorPoint = animationType[animationTypePointer].anchorPoint;
  
  animationCount++;
  
  // determine position of next object in animationType array or return to first item
  // using modulus operator
  animationTypePointer = animationCount % animationTypeLength;
  
  // animate view, followed by callback to set next button title
  view.animate(a, function(){
    updateButton(animationType[animationTypePointer].name);
  });
});

win.open();
</pre></code>

When I test, it only animated from its center point. I noticed that it works in SDK 3.1.3 but is broken as of 3.2.0

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-03-10

   Moving this ticket to engineering as I can reproduce this issue on Android device easily. Same code works fine on iOS platform.</li>
<li>Be Rushton 2014-11-18

   Hoping for a fix on this issue soon.</li>
<li>Lee Morris 2017-07-05

   I am able to reproduce this issue with the following environment;
   Pixel (7.1)
   Studio 4.9.0.201705302345
   Ti SDK 6.1.1 GA
   Appc NPM 4.2.9
   Appc CLI 6.2.2
   Ti CLI 5.0.14
   Alloy 1.9.11
   Xcode 8.2 (8C38)
   Node v4.8.2
   Java 1.8.0_131</li>
<li>Yordan Banev 2018-04-19

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/10007" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10007</a></li>
<li>Lokesh Choudhary 2018-05-07

   FR Passed.
   Waiting for merge to be enabled.</li>
<li>Lokesh Choudhary 2018-05-07

   PR Merged.</li>
<li>Samir Mohammed 2018-06-14

   Closing ticket. Fix can be seen in SDK Version: 7.3.0.v20180613110103
   
   Test and other information can be found at: 
   <a href="https://github.com/appcelerator/titanium_mobile/pull/10007" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10007</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-16596.json">JSON Source</a></p>