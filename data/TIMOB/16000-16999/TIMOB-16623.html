---
title: "[TIMOB-16623] iOS: Some annotations won't show when removing and re-adding if the annotations has a customView"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2016-03-13T14:48:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, ti.map</td></tr>
<tr><th>Reporter</th><td>Jimmie Jönsson</td></tr>
<tr><th>Assignee</th><td>Chee Kiat Ng</td></tr>
<tr><th>Created</th><td>2014-03-12T15:56:22.000+0000</td></tr>
<tr><th>Updated</th><td>2016-03-13T14:48:52.000+0000</td></tr>
</table>

<h3>Description</h3>

I store all my annotations in an array. 

When removing the array (mapview.removeAnnotations(annotationsArr)) they all disappear, but when re-adding them (mapview.addAnnotations(annotationsArr)), only a few re-appear.

They still seem to be there, since they are still "clickable", but they won't show. 

This only happens when using the customView property in annotations. When not using the customView, and only using the standard pins, there seems to be no problem.

app.js and a simple "H" image attached.

Add the "busStop.png" image to Resources\images

Testcase:
Using customView:
1. Run the app.
2. Press the Hide/Show annotations button. (The annotations disappear)
3. Press the Hide/Show annotations button again. (Only some annotations reappear)

Using standard pins:
1. Run the app.
2. Press the Hide/Show annotations button. (The annotations disappear)
3. Press the Hide/Show annotations button. (The annotations reappear)

The problem only seem to exist on iOS, using the same code works on android (Titanium SDK 3.1.3.GA).

Thanks.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16623_46576/app.js">app.js</td></td><td>2014-03-12T15:56:22.000+0000</td><td>1562</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16623_46575/busStop.png">busStop.png</td></td><td>2014-03-12T15:56:22.000+0000</td><td>2165</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-03-13

   Moving this ticket to engineering as I can reproduce this issue with the provided test case on iOS simulator. Standard pin works fine but custom view does not.</li>
<li>Hans Knöchel 2016-03-13

   </li>
</ol>


<p><a href="/TIMOB/TIMOB-16623.json">JSON Source</a></p>