---
title: "[TIMOB-16646] iOS: Cannot upload a photo blob to ACS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-04-01T20:44:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.3</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.2.3</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_acs, qe-3.2.3, qe-automatedtest, regression</td></tr>
<tr><th>Reporter</th><td>Wilson Luu</td></tr>
<tr><th>Assignee</th><td>Jon Alter</td></tr>
<tr><th>Created</th><td>2014-03-20T00:35:14.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-08T21:33:21.000+0000</td></tr>
</table>

<h3>Description</h3>

*Details:* On iOS, cannot upload a photo blob from the camera or photo gallery to ACS.

*Note:*
1. *This is a regression. SDK 3.2.2.GA + ti.cloud 3.2.1 works fine, but SDK 3.2.3 + ti.cloud 3.2.1 does not*
2. Cannot reproduce the issue on an Android device

*Steps to reproduce:*
1. Create a default Titanium classic app
2. Next, download and unzip the Archive.zip attachment
3. Drag both the Resources and tiapp.xml into the project created in step 1; replacing both the Resources directory and tiapp.xml
4. Install and launch app to an iOS device
5. Go to Users > Login User and login with username *a* and password *1234*
6. Press Back button twice and go to Photos > Create Photo
7. Press *Select Photo from Gallery* or *Take Photo with Camera* to take a photo
8. Press Create button

*Actual:* Failed to upload photo error appears (see error.png attachment) even though the photo is 935 KB.

*Expected:* Should be able to upload a photo from either the photo gallery or after taking a photo.

*Another note:* If you go to Resources/windows/photos/create.js and uncomment line 36 and 52 (getting the photo with Ti.Filesystem.getFile in Ti.Media.openPhotoGallery and Ti.Media.showCamera respectively), you can upload the photo to ACS without any issues.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16646_46753/Archive.zip">Archive.zip</td></td><td>2014-03-20T00:35:14.000+0000</td><td>4161072</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16646_46754/error.png">error.png</td></td><td>2014-03-20T00:35:14.000+0000</td><td>76854</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-03-28

   Can you please take a look?</li>
<li>Jon Alter 2014-03-28

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/5554" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5554</a></li>
<li>Wilson Luu 2014-04-01

   Closing ticket as fixed. Verified I was able to upload a photo blob to ACS.
   
   Tested on:
   
   Appcelerator Studio, build: 3.2.3.201403271839
   SDK build: 3.2.3.v20140401134117
   CLI: 3.2.3-alpha2
   Alloy: 1.3.1
   Xcode: 5.1
   Devices: iphone 5s (7.1)
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-16646.json">JSON Source</a></p>