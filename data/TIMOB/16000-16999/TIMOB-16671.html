---
title: "[TIMOB-16671] CLI: Add tmp dir check to 'setup check'"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-03-24T01:41:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 06, 2014 Sprint 06 Tooling, Release 3.2.3, Release 3.3.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>qe-testadded</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-03-22T23:41:13.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:42:44.000+0000</td></tr>
</table>

<h3>Description</h3>

In the 'ti setup check' command, check if the tmp dir exists and is writeable. By default, it looks for the TMPDIR, TMP, and TEMP environment vars, but if those don't exist, it will use ~/tmp. When the CLI is run as sudo and ~/tmp does not exist, then the directory is created as root and will break any command that needs to write a temp file.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2014-03-23

   Titanium CLI Master pull request: <a href="https://github.com/appcelerator/titanium/pull/118" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/118</a>
   Titanium CLI 3.2.x pull request: <a href="https://github.com/appcelerator/titanium/pull/119" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/119</a></li>
<li>Chris Barber 2014-03-24

   To test, we need to assume you do NOT have a ~/tmp directory and if you do, that it is not owned by you and/or writable.
   
   1) Run "ti setup check"
   2) Notice under the directory permissions section that the temp directory is valid
   3) then run "TMPDIR= ti setup check"
   4) Notice under the directory permissions section that the temp directory is not valid</li>
<li>Samuel Dowse 2014-03-25

   Verified fixed on:
   Mac OSX 10.9.2
   Appcelerator Studio, build: 3.2.3.201403250634
   Titanium SDK, build: 3.2.3.v20140325135714
   CLI: 3.2.3-dev
   Alloy: 1.3.1
   
   Following Chris' test instructions, both scenarios worked as expected.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16671.json">JSON Source</a></p>