---
title: "[TIMOB-16673] IOS: emoji keyboard and utf8mb4 encoding is not work with ACS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.2.1, Release 3.2.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>supportTeam</td></tr>
<tr><th>Reporter</th><td>Mostafizur Rahman</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-03-23T05:14:57.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:04:24.000+0000</td></tr>
</table>

<h3>Description</h3>

 

<h4>Problem Description </h4>
 
Emoji keyboard and utf8mb4 encoding is not working in ACS. When user tries to post smiles from IOS and store into ACS server and get back to display in Apps its not showing. 


<h4>Testing Environment:</h4>

Titanium SDK: 3.2.1.GA, 3.2.2.GA

Titanium CLI: 3.2.1
IOS Simulator 7.0.3
Dashboard
Appcelerator Studio, build: 3.2.1.201402061120
Cloud module 3.2.1 

<h4>Test Code</h4>

<code><pre>
   var Cloud = require('ti.cloud');
Cloud.debug = true;

var win = Ti.UI.createWindow({
	backgroundColor : 'white',
	layout : 'vertical',
});

var aTableView = Ti.UI.createTableView();
login();
function login() {
	Cloud.Users.login({
		login : 'username',
		password : 'password'
	}, function(e) {
		if (e.success) {
			currentUser = e.users[0];
			loggedIn = true;
			loaddata();
		} else {
			Ti.API.info('Error:\\n' + ((e.error && e.message) || JSON.stringify(e)));
			loggedIn = false;
			currentUser = null;
		}
	});
}

var input = Ti.UI.createTextField({
	height : 35,
	top : 10,
	left : 40,
	width : 240,
	hintText : 'This is hint text',
	keyboardType : Ti.UI.KEYBOARD_DEFAULT,
	returnKeyType : Ti.UI.RETURNKEY_DEFAULT,
	borderStyle : Ti.UI.INPUT_BORDERSTYLE_ROUNDED
});

win.add(input);

var post_data = Ti.UI.createButton({
	title : 'Create post',
	top : 20,
});

win.add(post_data);
post_data.addEventListener('click', function() {

	Cloud.Posts.create({
		title : input.value,
		content : input.value,
	}, function(e) {
		if (e.success) {
			loaddata();
		} else {
			alert('Error:\n' + ((e.error && e.message) || JSON.stringify(e)));
		}
	});
});

var load_post = Ti.UI.createButton({
	title : 'Load post',
	top : 20,
});

load_post.addEventListener('click', function() {
	loaddata();
});

win.add(load_post);

win.add(aTableView);

win.open();

function loaddata() {
	var data = [];
	Cloud.Posts.query({
		page : 1,

	}, function(e) {
		if (e.success) {
			Ti.API.info('Success:\n' + 'Count: ' + e.posts.length);

			for (var i = 0; i < e.posts.length; i++) {
				var post = e.posts[i];
				Ti.API.info('post' + JSON.stringify(post));

				data.push({
					title : post.title,
				});
			}

			aTableView.setData([]);
			aTableView.setData(data);
		} else {
			alert('Error:\n' + ((e.error && e.message) || JSON.stringify(e)));
		}
	});
}
    
</pre></code>


<h4>Step to Reproduce </h4>

<h4>Create a sample Ti Classic project from AppC Studio </h4>
<h4>Add cloud   module in tiapp.xml file </h4>
<h4>Activated Appcelerator service in tiapp.xml</h4>
<h4>Add one user in dashboard.appcelerator.com (username: username and password: password)</h4>
<h4>Update app.js file with test code </h4>
<h4>Run on IOS device/simulator   </h4>
<h4>Add data text field and click create post button </h4>
<h4>Check TableView list (smiles is not working )</h4>


<h4>Expected Result </h4>
Smiles should be display in TableView properly 

<h4>Actual Result </h4>

Smiles will not display 

Ref: <a href="http://support.appcelerator.com/tickets/APP-755425/homepage" rel="nofollow" target="_blank">http://support.appcelerator.com/tickets/APP-755425/homepage</a>

Thanks 




<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16673_46801/iOS Simulator Screen shot Mar 23, 2014, 11.10.58 AM.png">iOS Simulator Screen shot Mar 23, 2014, 11.10.58 AM.png</td></td><td>2014-03-23T05:14:57.000+0000</td><td>72828</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-16673.json">JSON Source</a></p>