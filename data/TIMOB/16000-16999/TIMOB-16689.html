---
title: "[TIMOB-16689] iOS: HTTPClient - On SDK 3.3.0, statusText is returning undefined if you are making an invalid request"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-05-21T22:36:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 10, 2014 Sprint 10 SDK, Release 3.3.0, Release 3.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_network, qe-3.3.0, qe-manualtest, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Wilson Luu</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2014-03-25T00:47:37.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-15T22:58:57.000+0000</td></tr>
</table>

<h3>Description</h3>

*Details:*  On SDK 3.3.0 with iOS, statusText is returning undefined if you are making an invalid request.

*This is a regression from SDK 3.2.3 and bug does not occur on Android.*

*Steps to reproduce:*
1. Create a default Titanium Classic app
2. Add this piece of code:
<code><pre>
label1.addEventListener('click', function(e){
	// accepts only POST requests
	var url = '<a href="http://httpbin.org/post" rel="nofollow" target="_blank">http://httpbin.org/post</a>';
	
	var client = Ti.Network.createHTTPClient({
		
		onload : function(e) {
			var msg = 'onload: ' + this.responseText;
			Ti.API.info(msg);
			alert(msg);
		},
		
		onerror : function(e) {
			// var msg = 'onerror: ' + 'error code -&gt; ' + e.code + ', error -&gt; ' + e.error;
			var msg = 'onerror: ' + this.statusText;
			Ti.API.error(msg);
			alert(msg);
		},
		
		cache: false
	});
	
	client.open('DELETE', url);
	client.send('DELETE THE MONKEY');
});
</pre></code>
3. Install and launch app to device
4. Press on "I am Window 1" label

*Actual:* "undefined" is returned in the onerror callback (see 3.3.0_actual.png).
*Expected:* "METHOD NOT ALLOWED" message should appear like in SDK 3.2.3 (see 3.2.3_expected.png)

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16689_46831/3.2.3_expected.png">3.2.3_expected.png</td></td><td>2014-03-25T00:47:37.000+0000</td><td>63256</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16689_46832/3.3.0_actual.png">3.3.0_actual.png</td></td><td>2014-03-25T00:47:37.000+0000</td><td>56978</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2014-05-21

   Pull pending
   master - <a href="https://github.com/appcelerator/titanium_mobile/pull/5722" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5722</a>
   3_3_X - <a href="https://github.com/appcelerator/titanium_mobile/pull/5723" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5723</a></li>
<li>Satyam Sekhri 2014-06-09

   StatusText in onerror callback returns the expected value.
   Verified on:
   || Component || Version ||
   | Appcelerator Studio | 3.3.0.201405271647 |
   | Titanium SDK | 3.3.0.v20140606154912 |
   | Node |  0.10.28 |
   | acs | 1.0.14 |
   | alloy | 1.4.0-beta2 |
   | npm | 1.4.9 | 
   | CLI | 3.3.0-beta2 |
   | Titanium-code-processor | 1.1.1 |
   | OS | OSX 10.9.2 |
   | Device | iPhone 5S (iOS 7.1) |</li>
</ol>


<p><a href="/TIMOB/TIMOB-16689.json">JSON Source</a></p>