---
title: "[TIMOB-16742] Android: Inconsistency in the handling of leading '/'  of ImageView"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2018-08-31T22:00:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Kevin Frugier</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-03-26T15:17:58.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-31T22:00:31.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to Reproduce</h4>
Starting from the default alloy project, simply copy the <code>appicon.png</code> under <code>app/assets/images/alloy.png</code> and notice an inconsistency in the handling of leading '/'  of ImageView

<h4>Test case</h4>

*index.xml*
<code><pre> 
&lt;Alloy&gt;
	&lt;Window id="win" backgroundColor="white"&gt;
		&lt;TableView id="table"&gt;
			&lt;TableViewSection headerTitle="Image"&gt;
				&lt;TableViewRow&gt;
					&lt;Label text="Leading /" /&gt;
					&lt;ImageView image="/images/alloy.png" /&gt;
				&lt;/TableViewRow&gt;
				&lt;TableViewRow&gt;
					&lt;Label text="No leading /" /&gt;
					&lt;ImageView image="images/alloy.png" /&gt;
				&lt;/TableViewRow&gt;
			&lt;/TableViewSection&gt;
			&lt;TableViewSection headerTitle="BackgroundImage"&gt;
				&lt;TableViewRow&gt;
					&lt;Label text="Leading /" /&gt;
					&lt;ImageView backgroundImage="/images/alloy.png" /&gt;
				&lt;/TableViewRow&gt;
				&lt;TableViewRow&gt;
					&lt;Label text="No leading /" /&gt;
					&lt;ImageView backgroundImage="images/alloy.png" /&gt;
				&lt;/TableViewRow&gt;
			&lt;/TableViewSection&gt;
			&lt;TableViewSection headerTitle="Image from code"&gt;
				&lt;TableViewRow&gt;
					&lt;Label text="Leading /" /&gt;
					&lt;ImageView id="image1" /&gt;
				&lt;/TableViewRow&gt;
				&lt;TableViewRow&gt;
					&lt;Label text="No leading /" /&gt;
					&lt;ImageView id="image2" /&gt;
				&lt;/TableViewRow&gt;
			&lt;/TableViewSection&gt;
			&lt;TableViewSection headerTitle="BackgroundImage from code"&gt;
				&lt;TableViewRow&gt;
					&lt;Label text="Leading /" /&gt;
					&lt;ImageView id="image3" /&gt;
				&lt;/TableViewRow&gt;
				&lt;TableViewRow&gt;
					&lt;Label text="No leading /" /&gt;
					&lt;ImageView id="image4" /&gt;
				&lt;/TableViewRow&gt;
			&lt;/TableViewSection&gt;
		&lt;/TableView&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code> 

*index.tss*
<code><pre> 
"TableViewRow":
{
	layout: "horizontal",
	height: Ti.UI.SIZE
},
"ImageView":
{
	height : "128px",
	width: "128px"
}
</pre></code> 

*index.js*
<code><pre> 
$.image1.setImage('/images/alloy.png');
$.image2.setImage('images/alloy.png');
$.image3.setBackgroundImage('/images/alloy.png');
$.image4.setBackgroundImage('images/alloy.png');

$.win.open();
</pre></code> 

<h4>Actual Result</h4>
*iOS Simulator:*
Imageviews work both with and without leading '/'  wether it’s for the image property to the Imageview Property

*Android:*
ImageViews don’t work without leading '/'.

*Mobileweb deployed in root folder of server (e.g.www.site.com/index.html):*
Imageviews work both with and without leading '/'  wether it’s for the image property to the Imageview Property

*Mobileweb deployed elsewhere than the root (e.g. www.site.com/test/index.html):*
Imageviews don’t work with leading '/'  for the image property.
Imageviews work both with and without leading '/'  for the backgroundImage property

<h4>Expected Result</h4>
The bare minimum would be for Imageviews to work as expected with the leading '/'  for the *image* property wherever the mobile web app is deployed (absolute paths should be considered relative to root of the app). It's already done properly for the *backgroundImage* property, clearly showing it's a bug for the *image* property.

Additionally, all platforms should work the same, inconsistencies create the unnecessary need for customized code/files per platform.

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-03-27

   Moving this ticket to engineering as I can reproduce this issue on Android with the provided test case. Same test works on iOS as expected.</li>
<li>Joshua Quick 2018-08-31

   There are 2 separate issues here:
   <h4>Android and iOS handle relative file paths differently. On Android, paths are relative to the JS file. On iOS, paths are always relative to the app's "Resources" directory (ie: the working directory). We've written up this parity different in [TIMOB-23809].</h4>
   <h4>Android does have a bug where it always fails to load images if the path does not have a leading slash. This is a bug with how it constructs paths. See [TIMOB-13642]. The <code>Ti.Filesystem.getFile()</code> API does not have this problem.</h4>
   
   For now, I recommend that you stick to absolute paths with leading slashes. This is the most portable solution.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16742.json">JSON Source</a></p>