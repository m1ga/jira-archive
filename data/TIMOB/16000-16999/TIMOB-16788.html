---
title: "[TIMOB-16788] Android: WebView cannot find assets in ApplicationData directory"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.2.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, parity, webview</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-03-27T10:53:31.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:03:57.000+0000</td></tr>
</table>

<h3>Description</h3>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16788_46898/device-2014-03-27-115312.png">device-2014-03-27-115312.png</td></td><td>2014-03-27T10:53:32.000+0000</td><td>48156</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16788_46897/iOS-simulatorschermafbeelding 27 mrt. 2014 11.52.46.png">iOS-simulatorschermafbeelding 27 mrt. 2014 11.52.46.png</td></td><td>2014-03-27T10:53:32.000+0000</td><td>68433</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16788_46896/wvr.zip">wvr.zip</td></td><td>2014-03-27T10:53:32.000+0000</td><td>260368</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2014-03-27

   A terrible, but functioning workaround is to copy the web-app to the resource directory *after* Alloy and the Titanium CLI are done with compiling, but before packaging:
   
   <code><pre>
   exports.cliVersion = '>=3.2';
   
   var path = require("path"),
     wrench = require('wrench');
   
   exports.init = function(logger, config, cli, appc) {
   
     if (cli.argv.platform !== 'android') {
   
       cli.addHook('build.post.compile', function(build, finished) {
   
         logger.log("======= COPYING 'WWWW' =======");
   
         var source = path.join(build.projectDir, "www");
         var destination = path.join(build.xcodeAppDir, "www");
   
         wrench.copyDirSyncRecursive(source, destination, {
           forceDelete: true,
           preserveFiles: false
         });
   
         finished();
       });
   
     } else {
   
       cli.addHook('build.android.writeAndroidManifest', function(opts, finished) {
   
         logger.log("======= COPYING 'WWWW' =======");
   
         var source = path.join(opts.ctx.projectDir, "www");
         var destination = path.join(opts.ctx.buildDir, "bin", "assets", "Resources", "www");
   
         wrench.copyDirSyncRecursive(source, destination, {
           forceDelete: true,
           preserveFiles: false
         });
   
         finished();
       });
   
     }
   };
   </pre></code></li>
<li>Ritu Agrawal 2014-03-31

   Moving this ticket to engineering as I can reproduce the issue with the provided test case.</li>
<li>Emilio Rodriguez 2014-04-29

   A better workaround we just came across is using *Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory).getNativePath()* when building the webView url instead of using only *Ti.Filesystem.applicationDataDirectory*
   
   It works but still, a proper fix would be nice.</li>
<li>Michiel van Eerd 2016-06-23

   I used the approach of Fokke and it works for development and app store builds for iOS, but fails when doing an ad-hoc build as you get the error:
   
   <code>Failed to verify code signature of /some/path/myapp.app : 0xe8008017 (A signed resource has been added, modified, or deleted.)</code>
   
   I guess it is because you add something to the build after some signing has been done. If someone knows a workaround for this, I'll be glad to hear!</li>
</ol>


<p><a href="/TIMOB/TIMOB-16788.json">JSON Source</a></p>