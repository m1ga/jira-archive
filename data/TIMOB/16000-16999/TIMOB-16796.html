---
title: "[TIMOB-16796] iOS: Build fails to place JavaScript files into the iOS sim app"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-04-11T22:05:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>APP-792585, supportTeam, triage</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-04-02T15:58:27.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T20:53:20.000+0000</td></tr>
</table>

<h3>Description</h3>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-16796_47025/Screen Shot 2014-03-25 at 9.57.08 AM (1).png">Screen Shot 2014-03-25 at 9.57.08 AM (1).png</td></td><td>2014-04-02T15:58:28.000+0000</td><td>112225</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-04-02

   Chris, FYI</li>
<li>Eduardo Gomez 2014-04-10

   Chris, what's you opinion about this change. He deleted everything node and npm, npm cache cleaned upon re-install. Same result, still fails. Then he reset CLI hook.js per note above and it builds fine.</li>
<li>Chris Barber 2014-04-10

   [~egomez] The problem here is the hook api needed to change between 3.2.0 and 3.2.1. 3.2.1 is now correct. You need to fix it in the offending hook. What hooks are being invoked? Look for a hook that has a 'pre' event callback and add version checks like this:
   
   <code><pre>
   exports.init = function (logger, config, cli, appc) {
       cli.addHook('build.android.dexer', {
           pre: function (data, callback) {
               // do something with 'data'
   
               if (appc.version.gt(cli.version, '3.2.0')) {
                   callback(null, data);
               } else {
                   callback(data);
               }
           }
       });
   };
   </pre></code></li>
<li>Eduardo Gomez 2014-04-10

   Can I check hooks from ti config? Otherwise, can you elaborate a bit more please.</li>
<li>Chris Barber 2014-04-11

   [~egomez] You need to look in several places. ti config's "paths.hooks" will list all directories containing hooks that are loaded. You also need to look at what plugins are enabled in the tiapp.xml. Then look at each hook file and find the offending code and fix it using the code above. If you are using LiveView, you MUST update to the latest version. Studio may not be updating that properly. Make sure you do not have more than one version of a single hook that is being loaded.</li>
<li>Eduardo Gomez 2014-04-11

   Thanks. It seems the problem is solved. Removing the paths.hooks did the trick. Once they removed the Appcelerator Studio paths, the test project (and all others) build fine using un-altered CLI 3.2.1.
   
   Please resolved ticket as applicable. </li>
<li>Chris Barber 2014-04-11

   Resolving as invalid since the problem is in a CLI hook, not Titanium CLI or SDK.</li>
<li>Lee Morris 2017-03-22

   Closing ticket as invalid with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16796.json">JSON Source</a></p>