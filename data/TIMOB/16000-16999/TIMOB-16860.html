---
title: "[TIMOB-16860]  Android: Animate with Matrix with concatenating same operation multiple times doesn't use property animation"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>2DMatrix, SupportTeam, alloy, android, animate, transform</td></tr>
<tr><th>Reporter</th><td>Sunila</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-04-17T17:49:19.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:04:26.000+0000</td></tr>
</table>

<h3>Description</h3>

Run the below code and you will see that the label position is changed properly when 'btTestAnimate' is clicked. 

<code><pre>
var win = Ti.UI.createWindow({
backgroundColor:'white',
});

var coords = Ti.UI.createLabel({ text:'coords' });

win.add(coords);

var btTranslate = Ti.UI.createButton({top:100,title:"btTranslate"});
win.add(btTranslate);

var btTestAnimate = Ti.UI.createButton({top:200,title:"btTestAnimate"});
win.add(btTestAnimate);

var t1 = Titanium.UI.create2DMatrix();
btTranslate.addEventListener("click",function(e){ t1 = t1.translate(50,0); coords.transform = t1; });

btTestAnimate.addEventListener("click",function(e){
t1 = t1.translate(50,0);
coords.animate({transform : t1,duration:1000});
});

win.open();
</pre></code>


But if the matrix is concatenated, it doesn't use the propery animation is not used and the result is not persisted which causes the label to flicker.

Run the below code to see the behaviour

<code><pre>
var win = Ti.UI.createWindow({
    backgroundColor:'white',
});

var coords = Ti.UI.createLabel({
    text:'coords'
    });

win.add(coords);

var btTranslate = Ti.UI.createButton({top:100,title:"btTranslate"});
win.add(btTranslate);

var btTestAnimate = Ti.UI.createButton({top:200,title:"btTestAnimate"});
win.add(btTestAnimate);

var t1;
var i = 1;
btTranslate.addEventListener("click",function(e){ t1 = Titanium.UI.create2DMatrix();t1 = t1.translate(i*50,0); coords.transform = t1; i++});

btTestAnimate.addEventListener("click",function(e){
    t1 = Titanium.UI.create2DMatrix();t1 = t1.translate(i*50,0);i++;
coords.animate({transform : t1,duration:1000});
});

win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>jithinpv 2014-08-29

   Issue reproduces
   
   Titanium SDK version 3.4.0 master, 3.3.0.GA
   Titanium Studio, build: 3.3.0.201407100905
   Titanium Command-Line Interface
   CLI version 3.3.0, 
   Android device : Motorola Moto G, Android version : 4.4.4</li>
<li>hamza ezzi 2014-09-24

   will it be fixed in the 3.4 sdk ?</li>
<li>Ingo Muschenetz 2014-09-24

   [~hamzaezzi] Apologies, it is unlikely. Perhaps in a future version. If you can get more people to "watch " the ticket, that might influence how fast it is fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16860.json">JSON Source</a></p>