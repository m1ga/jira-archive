---
title: "[TIMOB-16906] Android : An empty scrollableview causes the app to crash"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-05-12T21:16:08.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.3</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 10, 2014 Sprint 10 SDK, Release 3.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>merge-3.2.4, module_scrollableview, qe-3.2.3, qe-3.3.0, qe-closed-3.3.0, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2014-05-02T17:41:46.000+0000</td></tr>
<tr><th>Updated</th><td>2014-05-13T18:17:57.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>This is a regression. It works as expected with 3.2.2.GA</h4>

<h4>Description:</h4>
1. Create an classic app & use the code below in the app.js.
<code><pre>
var win = Ti.UI.createWindow({
backgroundColor: 'white',
title: "ScrollableView Test"
});

var sav = Ti.UI.createScrollableView();

win.add(sav);

win.open();
</pre></code>

3. Build that app for device/emulator.

<h4>Actual Result:</h4>
1. The app crashes & we get the following logs in console:
<code><pre>
[ERROR] :  TiApplication: (main) [335,335] Sending event: exception on thread: main msg:java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0; Titanium 3.2.3,2014/04/22 10:17,b958a70
[ERROR] :  TiApplication: java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0
[ERROR] :  TiApplication: 	at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:251)
[ERROR] :  TiApplication: 	at java.util.ArrayList.get(ArrayList.java:304)
[ERROR] :  TiApplication: 	at ti.modules.titanium.ui.widget.TiUIScrollableView$2.onPageScrolled(TiUIScrollableView.java:192)
[ERROR] :  TiApplication: 	at android.support.v4.view.ViewPager.onPageScrolled(ViewPager.java:1712)
[ERROR] :  TiApplication: 	at android.support.v4.view.ViewPager.pageScrolled(ViewPager.java:1633)
[ERROR] :  TiApplication: 	at android.support.v4.view.ViewPager.scrollToItem(ViewPager.java:581)
[ERROR] :  TiApplication: 	at android.support.v4.view.ViewPager.onLayout(ViewPager.java:1600)
[ERROR] :  TiApplication: 	at android.view.View.layout(View.java:14482)
[ERROR] :  TiApplication: 	at android.view.ViewGroup.layout(ViewGroup.java:4469)
[ERROR] :  TiApplication: 	at org.appcelerator.titanium.view.TiCompositeLayout.onLayout(TiCompositeLayout.java:578)
[ERROR] :  TiApplication: 	at android.view.View.layout(View.java:14482)
[ERROR] :  TiApplication: 	at android.view.ViewGroup.layout(ViewGroup.java:4469)
[ERROR] :  TiApplication: 	at org.appcelerator.titanium.view.TiCompositeLayout.onLayout(TiCompositeLayout.java:578)
[ERROR] :  TiApplication: 	at android.view.View.layout(View.java:14482)
[ERROR] :  TiApplication: 	at android.view.ViewGroup.layout(ViewGroup.java:4469)
[ERROR] :  TiApplication: 	at org.appcelerator.titanium.view.TiCompositeLayout.onLayout(TiCompositeLayout.java:578)
[ERROR] :  TiApplication: 	at android.view.View.layout(View.java:14482)
[ERROR] :  TiApplication: 	at android.view.ViewGroup.layout(ViewGroup.java:4469)
[ERROR] :  TiApplication: 	at android.widget.FrameLayout.onLayout(FrameLayout.java:448)
[ERROR] :  TiApplication: 	at android.view.View.layout(View.java:14482)
[ERROR] :  TiApplication: 	at android.view.ViewGroup.layout(ViewGroup.java:4469)
[ERROR] :  TiApplication: 	at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1669)
[ERROR] :  TiApplication: 	at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1527)
[ERROR] :  TiApplication: 	at android.widget.LinearLayout.onLayout(LinearLayout.java:1440)
[ERROR] :  TiApplication: 	at android.view.View.layout(View.java:14482)
[ERROR] :  TiApplication: 	at android.view.ViewGroup.layout(ViewGroup.java:4469)
[ERROR] :  TiApplication: 	at android.widget.FrameLayout.onLayout(FrameLayout.java:448)
[ERROR] :  TiApplication: 	at android.view.View.layout(View.java:14482)
[ERROR] :  TiApplication: 	at android.view.ViewGroup.layout(ViewGroup.java:4469)
[ERROR] :  TiApplication: 	at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2147)
[ERROR] :  TiApplication: 	at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1966)
[ERROR] :  TiApplication: 	at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1179)
[ERROR] :  TiApplication: 	at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4859)
[ERROR] :  TiApplication: 	at android.view.Choreographer$CallbackRecord.run(Choreographer.java:749)
[ERROR] :  TiApplication: 	at android.view.Choreographer.doCallbacks(Choreographer.java:562)
[ERROR] :  TiApplication: 	at android.view.Choreographer.doFrame(Choreographer.java:532)
[ERROR] :  TiApplication: 	at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:735)
[ERROR] :  TiApplication: 	at android.os.Handler.handleCallback(Handler.java:725)
[ERROR] :  TiApplication: 	at android.os.Handler.dispatchMessage(Handler.java:92)
[ERROR] :  TiApplication: 	at android.os.Looper.loop(Looper.java:137)
[ERROR] :  TiApplication: 	at android.app.ActivityThread.main(ActivityThread.java:5328)
[ERROR] :  TiApplication: 	at java.lang.reflect.Method.invokeNative(Native Method)
[ERROR] :  TiApplication: 	at java.lang.reflect.Method.invoke(Method.java:511)
[ERROR] :  TiApplication: 	at
[ERROR] :  TiApplication: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:869)
[ERROR] :  TiApplication: 	at dalvik.system.NativeStart.main(Native Method)
</pre></code>

<h4>Expected Results:</h4>
1. The app should not crash when an empty scrollable view is added.

<h3>Comments</h3>

<ol>
<li>Malcolm Hollingsworth 2014-05-02

   Originally experienced by; Stephen Hickey in the Q&A
   
   <a href="http://developer.appcelerator.com/question/173788" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/173788</a></li>
<li>Hieu Pham 2014-05-02

   This is working for 3.2.2.GA, and start failing in 3.2.3.GA. This seems to be a side effect of upgrading our v4 library in 3.2.3.GA. The scrollableView code in v4 is triggering onPageScrolled during the layout pass. I will add a safety check in SDK</li>
<li>Ingo Muschenetz 2014-05-02

   Thanks. let's merge this back to 3.2.X CI for affected users</li>
<li>Hieu Pham 2014-05-05

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/5659" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5659</a>
   3.2.X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/5660" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5660</a></li>
<li>Vishal Duggal 2014-05-08

   PRs merged</li>
<li>Neha Mittal 2014-05-09

   I am able to reproduce the mentioned issue with studio: 3.3.0.201405080918 and SDK: 3.3.0.v20140508135704 with below environment:
   
   Appc Studio: 3.3.0.201405080918
   SDK build: 3.3.0.v20140508135704
   acs: 1.0.14
   npm: 1.3.2
   alloy: 1.4.0-dev
   CLI: titanium-3.3.0-dev
   titanium-code-processor:1.1.1
   Xcode: 5.1.1
   Osx: Mavericks(10.9.2)
   Device: Galaxy Nexus (4.1.1)
   
   However, if I am verifying the same using studio: 3.2.3.201404290818 and SDK: 3.3.0.v20140508135704, then it is working fine and app does not get crash. Hence reopening the issue.</li>
<li>Lokesh Choudhary 2014-05-09

   Tried to reproduce after [~nmittal] reopened the issue. I have the following observations:
   
   <h4>With studio 3.3.0.201405080918 & sdk 3.3.0.v20140508223312:</h4>
   Could not reproduce app did not crash
   
   <h4>With studio 3.2.3.201404181520(current 3.2.3 GA studio) & sdk 3.3.0.v20140508223312:</h4>
   Could not reproduce app did not crash
   
   <h4>With studio 3.3.0.201405080918 & sdk 3.2.4.v20140508113321:</h4>
   Could not reproduce app did not crash
   
   Environment:
   Appc Studio : 3.3.0.201405080918 , 3.2.3.201404181520
   Ti SDK : 3.3.0.v20140508223312 , 3.2.4.v20140508113321
   Mac OSX : 10.8.5 , mavericks (10.9.2)
   Alloy : 1.4.0-dev
   CLI - 3.3.0-dev
   Samsung Galaxy S4 running android 4.2.2
   Nexus 5 - android 4.4.2</li>
<li>Neha Mittal 2014-05-13

   Verified fix using below environment:
   
   Appc Studio: 3.3.0.201405121247
   SDK build: 3.3.0.v20140512162513
   acs: 1.0.14
   npm: 1.3.2
   alloy: 1.4.0-dev
   CLI: titanium-3.3.0-dev
   titanium-code-processor:1.1.1
   Xcode: 5.1.1
   Osx: Mavericks(10.9.2)
   Device: Nexus 5 (4.4.2)
   
   An empty scrollableview does not get crash. Hence closing the issue.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16906.json">JSON Source</a></p>