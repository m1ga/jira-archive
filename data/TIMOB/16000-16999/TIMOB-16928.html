---
title: "[TIMOB-16928] Windows Hybrid: isScriptEnabled does not load on first Browser Instance"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-05-13T00:38:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 10, 2014 Sprint 10 Tooling, Release 3.3.0</td></tr>
<tr><th>Components</th><td>Windows Hybrid</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jamil Spain</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-05-07T17:41:34.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-03T21:32:54.000+0000</td></tr>
</table>

<h3>Description</h3>

The first time you initialize a Microsoft.Browser object and set the isScriptEnabled: true, it does not load for the first page.  Always renders on the 2nd instance or on the next reloading. 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16928_47960/csstester.zip">csstester.zip</td></td><td>2014-05-09T21:24:10.000+0000</td><td>7510328</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-05-07

   Can you please provide a test case?</li>
<li>Chris Barber 2014-05-07

   How is this possible?</li>
<li>Jamil Spain 2014-05-09

   added to the ticket ( the test case from client )</li>
<li>Chris Barber 2014-05-10

   The attached test case does not exhibit any sort of issue that the title describes. Perhaps the attachment was meant TIMOB-16933.</li>
<li>Chris Barber 2014-05-12

   I cannot reproduce the problem here.</li>
<li>Chris Barber 2014-05-13

   I was able to reproduce the problem. The problem stems from how they are using the WebBrowser object, specifically with injecting HTML into the WebBrowser object. To be clear, JavaScript is enabled, CSS is working, and I believe the actual behavior is the expected behavior.
   
   When injecting HTML into a WebBrowser instance, it appears that embedded script tags have limitations. For example, <code>window.addEventListener()</code> is not available. You must use <code>window.attachEvent()</code>. I believe this to be a bug with Windows Phone 8/Internet Explorer 9.
   
   The limitation that is causing issues when an included script references <code>document.domain</code> to determine the domain of the parent window. The problem is when you inject HTML, there is no domain. Whenever you reference <code>document.domain</code>, all subsequent JavaScript in that script block or JS file fails execute. There are no errors thrown. You cannot override document.domain either. It's read only.
   
   You can examine <code>location.hostname</code>, however in the parent document this is an empty string and in an included script it is "about.blank".
   
   In short, you cannot reference <code>document.domain</code> period. You can try to reference <code>location.hostname</code>, but the value it returns depends on the context.
   
   There are probably more limitations, but those are outside the scope of this ticket.
   
   Resolving this ticket as invalid.</li>
<li>Eric Merriman  2017-03-03

   Closing as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16928.json">JSON Source</a></p>