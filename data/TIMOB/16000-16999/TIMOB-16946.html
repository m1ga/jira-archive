---
title: "[TIMOB-16946] iOS: SDK should have 0 static analyzer errors (it currently has 77)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-02-09T17:08:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.5.1, Release 4.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-verified</td></tr>
<tr><th>Reporter</th><td>Matt Langston</td></tr>
<tr><th>Assignee</th><td>Chee Kiat Ng</td></tr>
<tr><th>Created</th><td>2014-05-12T21:13:41.000+0000</td></tr>
<tr><th>Updated</th><td>2015-02-19T19:40:53.000+0000</td></tr>
</table>

<h3>Description</h3>

The Titanium iOS SDK should have 0 static analyzer errors (it currently has 77). The static analyzer is very accurate and every issue identified by it should be corrected. The majority of these errors are logic errors (e.g. division by zero, dereferencing null pointers, etc.) and memory leaks.

Verification method:
1. in Xcode, Product -> Analyze
2. Results will appear, indicating all the analyzer errors

After resolving all issues, this should result in 0 analyzer errors.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16946_52963/AlloyServicesDisabled.png">AlloyServicesDisabled.png</td></td><td>2014-12-02T21:15:52.000+0000</td><td>78423</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16946_52964/AlloyServicesEnabled.png">AlloyServicesEnabled.png</td></td><td>2014-12-02T21:15:53.000+0000</td><td>93313</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16946_52965/TitaniumServicesDisabled.png">TitaniumServicesDisabled.png</td></td><td>2014-12-02T21:15:53.000+0000</td><td>69599</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16946_52966/TitaniumServicesEnabled.png">TitaniumServicesEnabled.png</td></td><td>2014-12-02T21:15:53.000+0000</td><td>83752</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-05-12

   I agree this is important, but I can't (currently) block on this. If we manage to fix it during the beginning of the QE pass, we could consider merging it in.</li>
<li>Chee Kiat Ng 2014-11-13

   Running static analyzer on the latest SDK results in 129 errors as of date.
   To create sub tasks and fixes based on types of errors, to make sure we don't break anything without knowing where we broke it.</li>
<li>Vishal Duggal 2014-11-19

   All subtasks resolved</li>
<li>Vishal Duggal 2014-11-21

   Backport to 3_5_X
   <a href="https://github.com/appcelerator/titanium_mobile/pull/6370" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6370</a></li>
<li>Ewan Harris 2014-12-02

   Reopening ticket as I still see warnings in the Xcode projects when using:
   
   Mac OSX 10.10.1
   Appcelerator Studio, build: 3.4.1.201410281743
   Titanium SDK build:  3.5.0.v20141202100219
   Titanium CLI, build: 3.4.1
   Alloy: 1.5.1
   Xcode 6.2 beta
   
   I created a default Titanium project and a default Alloy project. When running the analyzer in Xcode I see both memory and dead store errors. I will attach screenshots of the errors for the apps which are the following configurations
   
   * Default Titanium *without* services enabled
   * Default Titanium *with* services enabled
   * Default Alloy *without* services enabled
   * Default Alloy *with* services enabled</li>
<li>Vishal Duggal 2014-12-02

   The Memory Leak in AppModule is intentional and in place for LiveView. Ignore that.
   The Memory Leak in TiBuffer is not really a leak but rather Xcode getting confused over the function name copy.
   The MemoryLeak in TiNetworkTCPSocketFactory is again not a leak but rather Xcode getting confused over a function name. 
   
   The two dead store warnings are target dependent. Both of these can be ignored.
   LeadingSlashRemoved is used on simulators so will show that warning when target is device.
   AirKey is used on device so will show that warning when target is simulator.</li>
<li>Ingo Muschenetz 2015-01-07

   Which of these can we "hide" using the techniques in here <a href="http://clang-analyzer.llvm.org/faq.html?" rel="nofollow" target="_blank">http://clang-analyzer.llvm.org/faq.html?</a> I'd like us to either fix the issues that cause an analyzer warning, or if they are intentional, indicate though another mechanism that we intend the warning to exist.
   
   [~vduggal], [~pec1985], [~cng], can one of you please take a look?</li>
<li>Chee Kiat Ng 2015-01-08

   Used 
   <code><pre>
   #ifndef __clang_analyzer__
   #endif
   </pre></code> to inform analyzer to skip the lines of codes that created the intentional warnings mentioned above.
   
   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6548" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6548</a>
   3_5_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6549" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6549</a>
   </li>
<li>Ingo Muschenetz 2015-02-06

   We updated the PRs to ignore the internal errors.</li>
<li>Jon Alter 2015-02-06

    [~ingo] [~cng], I merged those PRs. It looks like there are still 5 warnings.</li>
<li>Chee Kiat Ng 2015-02-09

    [~jalter], I think it's because you were doing the analyzer on the KitchenSink projects within the SDK. If we follow Ewan's testing method on newly created titanium projects, you will get zero warnings. So I didn't resolve those you highlighted just because I wanted to minimize unnecessary changes.</li>
<li>Jon Alter 2015-02-09

    That works, thanks [~cng]</li>
<li>Ewan Harris 2015-02-19

    Verified fix on:
    
    Mac OSX 10.10.2
    Appcelerator Studio, build: 3.4.2.201502181619
    Titanium SDK build: 3.5.1.v20150219103744
    Titanium CLI, build: 3.4.2-alpha
    Alloy: 1.5.1
    Xcode 6.1.1
    
    Created a new project and built it, used Xcodes static analyzer and there are no longer any memory or dead store errors.
    
    Closing ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16946.json">JSON Source</a></p>