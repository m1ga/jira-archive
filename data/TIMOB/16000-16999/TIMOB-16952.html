---
title: "[TIMOB-16952] Android: WebView crashes with 3.2.3.GA on HTC 4.0.3 device"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-05-23T19:01:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.3</td></tr>
<tr><th>Fix Version/s</th><td>2014 Sprint 10, 2014 Sprint 10 SDK, Release 3.3.0, Release 3.4.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, module_webview, qe-testadded, regression, webView</td></tr>
<tr><th>Reporter</th><td>Dan Tamas</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2014-05-12T10:51:41.000+0000</td></tr>
<tr><th>Updated</th><td>2015-03-13T02:36:11.000+0000</td></tr>
</table>

<h3>Description</h3>

On my HTC One V the next app will crash if built with 3.2.3.GA  but will pass with 3.2.2.GA

However I cannot reproduce it in a Genymotion emulator with Android 4.3.
Thank you.

<code><pre>
<Alloy>
	<Window id="tosWindow" platform="android">
		<WebView id="browser" url="<a href="http://artistboxapp.com" rel="nofollow" target="_blank">http://artistboxapp.com</a>"/>
	</Window>
</Alloy>
</pre></code>


This is the crash log:
<code><pre>
05-12 12:47:50.729: D/Window(30932): Checkpoint: postWindowCreated()
05-12 12:47:50.759: D/SqliteDatabaseCpp(31090): DB info: open db, path = /data/data/com.android.providers.media/databases , key = eptevjYl, flag = 6, file size = 8570880
05-12 12:47:50.759: D/MediaProvider(31090): [MediaProvider][onCreate]-
05-12 12:47:50.929: W/ContentService(489): binderDied() at ObserverNode
05-12 12:47:50.929: I/ActivityManager(489): Process com.android.vending (pid 30996) has died.
05-12 12:47:51.179: D/WifiStateMachine(489): fetchRssiAndLinkSpeedNative RSSI = -49
05-12 12:47:51.249: D/SqliteDatabaseCpp(31090): DB info: path = /data/data/com.android.providers.media/databases , key = eptevjYl, handle: 0xa51518, type: w, r/w: (0,1), mode: truncate, disk free size: 389 M
05-12 12:47:51.259: W/CpuWake(489): >>releaseCpuPerfWakeLock
05-12 12:47:51.259: W/CpuWake(489): <<releaseCpuPerfWakeLock
05-12 12:47:51.520: I/Icing(30808): Internal init done: storage state 0
05-12 12:47:51.560: V/chromium(30932): external/chromium/net/host_resolver_helper/host_resolver_helper.cc:66: [0512/124751:INFO:host_resolver_helper.cc(66)] DNSPreResolver::Init got hostprovider:0x51ae0220
05-12 12:47:51.560: V/chromium(30932): external/chromium/net/base/host_resolver_impl.cc:1515: [0512/124751:INFO:host_resolver_impl.cc(1515)] HostResolverImpl::SetPreresolver preresolver:0x00b332c0
05-12 12:47:51.600: E/libEGL(30932): call to OpenGL ES API with no current context (logged once per thread)
05-12 12:47:51.610: V/WebRequest(30932): WebRequest::WebRequest, setPriority = 0
05-12 12:47:51.610: I/InputManagerService(489): [unbindCurrentClientLocked] Disable input method client.
05-12 12:47:51.610: I/InputManagerService(489): [startInputLocked] Enable input method client.
05-12 12:47:51.660: W/SubtypeSwitcher(670): Current subtype: en_US, keyboard
05-12 12:47:51.660: W/SubtypeSwitcher(670): Last subtype was disabled. Update to the current one.
05-12 12:47:51.660: W/AbstractCompatWrapper(670): Invalid input to AbstructCompatWrapper
05-12 12:47:51.660: W/CompatUtils(670): Exception in invoke: NullPointerException
05-12 12:47:51.660: W/SubtypeSwitcher(670): Update subtype to:en_US,keyboard, from: en_US, keyboard
05-12 12:47:51.660: D/SubtypeSwitcher(670): Update shortcut IME from : com.google.android.voicesearch/.ime.VoiceInputMethodService, , voice
05-12 12:47:51.680: I/Icing(30808): Post-init done
05-12 12:47:51.680: D/SubtypeSwitcher(670): Update shortcut IME to : com.google.android.voicesearch/.ime.VoiceInputMethodService, , voice
05-12 12:47:51.690: I/HTCIMEService(670): fetch result: 9.0
05-12 12:47:51.690: I/HTCIMEService(670): fetch result: 9.0
05-12 12:47:51.700: V/chromium(30932): external/chromium/net/disk_cache/hostres_plugin_bridge.cc:52: [0512/124751:INFO:hostres_plugin_bridge.cc(52)] StatHubCreateHostResPlugin initializing...
05-12 12:47:51.700: V/chromium(30932): external/chromium/net/disk_cache/hostres_plugin_bridge.cc:57: [0512/124751:INFO:hostres_plugin_bridge.cc(57)] StatHubCreateHostResPlugin lib loaded
05-12 12:47:51.700: V/chromium(30932): external/chromium/net/disk_cache/hostres_plugin_bridge.cc:63: [0512/124751:INFO:hostres_plugin_bridge.cc(63)] StatHubCreateHostResPlugin plugin connected
05-12 12:47:51.700: V/chromium(30932): external/chromium/net/http/http_cache.cc:1166: [0512/124751:INFO:http_cache.cc(1166)] HttpCache::OnBackendCreated HostStat created
05-12 12:47:51.700: E/chromium(30932): external/chromium/net/disk_cache/stat_hub.cc:190: [0512/124751:ERROR:stat_hub.cc(190)] StatHub::Init - App info.rborn.tst isn't supported.
05-12 12:47:51.700: E/chromium(30932): external/chromium/net/disk_cache/stat_hub.cc:190: [0512/124751:ERROR:stat_hub.cc(190)] StatHub::Init - App info.rborn.tst isn't supported.
05-12 12:47:51.740: I/XT9IME(670): [handleLdbChange] handle LDBs change.
05-12 12:47:51.760: I/XT9_C(670): [registerXT9LDB] Memory allocation of LDB#0 done.
05-12 12:47:51.780: I/XT9_JNI(670): [loadFile] size=304198 (loaded)
05-12 12:47:51.780: I/XT9_C(670): [registerXT9LDB] LDB(0409) loading [done]
05-12 12:47:51.780: I/ActivityManager(489): Displayed info.rborn.tst/org.appcelerator.titanium.TiActivity: +1s958ms (total +7s417ms)
05-12 12:47:51.800: D/XT9_C(670): [registerXT9LDB] current LdbNum=109, First LdbNum=109, Second LdbNum=0
05-12 12:47:51.800: I/Adreno200-EGLSUB(1444): <CreateImage:893>: Android Image
05-12 12:47:51.800: I/Adreno200-EGLSUB(1444): <GetImageAttributes:1102>: RGBA_8888
05-12 12:47:51.820: D/memalloc(489): /dev/pmem: Unmapping buffer base:0x5c77f000 size:7352320 offset:5816320
05-12 12:47:51.830: I/XT9_C(670): [loadDefaultDB] xt9_raw/kbd_0d09.kbd size=20811 (loaded)
05-12 12:47:51.840: D/AndroidRuntime(30932): Shutting down VM
05-12 12:47:51.840: W/dalvikvm(30932): threadid=1: thread exiting with uncaught exception (group=0x40aa1228)
05-12 12:47:51.850: I/HTCIMMView(670): [FixedWCL] adjustWCLHeight height:65
05-12 12:47:51.860: I/CVW(670): Dismiss CandidateViewWindow WCLID:0
05-12 12:47:51.860: I/CVW(670): Dismiss CandidateViewWindow WCLID:1
05-12 12:47:51.860: I/CVW(670): Dismiss CandidateViewWindow WCLID:2
05-12 12:47:51.860: I/CVW(670): Dismiss CandidateViewWindow WCLID:3
05-12 12:47:51.860: E/TiApplication(30932): (main) [2000,2000] Sending event: exception on thread: main msg:java.lang.NullPointerException; Titanium 3.2.3,2014/04/22 10:17,b958a70
05-12 12:47:51.860: E/TiApplication(30932): java.lang.NullPointerException
05-12 12:47:51.860: E/TiApplication(30932): 	at android.webkit.WebView$PrivateHandler.handleMessage(WebView.java:9972)
05-12 12:47:51.860: E/TiApplication(30932): 	at android.os.Handler.dispatchMessage(Handler.java:99)
05-12 12:47:51.860: E/TiApplication(30932): 	at android.os.Looper.loop(Looper.java:156)
05-12 12:47:51.860: E/TiApplication(30932): 	at android.app.ActivityThread.main(ActivityThread.java:4977)
05-12 12:47:51.860: E/TiApplication(30932): 	at java.lang.reflect.Method.invokeNative(Native Method)
05-12 12:47:51.860: E/TiApplication(30932): 	at java.lang.reflect.Method.invoke(Method.java:511)
05-12 12:47:51.860: E/TiApplication(30932): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
05-12 12:47:51.860: E/TiApplication(30932): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
05-12 12:47:51.860: E/TiApplication(30932): 	at dalvik.system.NativeStart.main(Native Method)
05-12 12:47:51.880: E/AndroidRuntime(30932): FATAL EXCEPTION: main
05-12 12:47:51.880: E/AndroidRuntime(30932): java.lang.NullPointerException
05-12 12:47:51.880: E/AndroidRuntime(30932): 	at android.webkit.WebView$PrivateHandler.handleMessage(WebView.java:9972)
05-12 12:47:51.880: E/AndroidRuntime(30932): 	at android.os.Handler.dispatchMessage(Handler.java:99)
05-12 12:47:51.880: E/AndroidRuntime(30932): 	at android.os.Looper.loop(Looper.java:156)
05-12 12:47:51.880: E/AndroidRuntime(30932): 	at android.app.ActivityThread.main(ActivityThread.java:4977)
05-12 12:47:51.880: E/AndroidRuntime(30932): 	at java.lang.reflect.Method.invokeNative(Native Method)
05-12 12:47:51.880: E/AndroidRuntime(30932): 	at java.lang.reflect.Method.invoke(Method.java:511)
05-12 12:47:51.880: E/AndroidRuntime(30932): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:784)
05-12 12:47:51.880: E/AndroidRuntime(30932): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:551)
05-12 12:47:51.880: E/AndroidRuntime(30932): 	at dalvik.system.NativeStart.main(Native Method)
05-12 12:47:51.910: E/EmbeddedLogger(489): App crashed! Process: info.rborn.tst
05-12 12:47:51.910: E/EmbeddedLogger(489): App crashed! Package: info.rborn.tst v1 (1.0)
05-12 12:47:51.910: E/EmbeddedLogger(489): App crashed! Application Label: tst
05-12 12:47:51.910: W/ActivityManager(489):   Force finishing activity info.rborn.tst/org.appcelerator.titanium.TiActivity
05-12 12:47:51.970: W/ActivityManager(489):   Force finishing activity info.rborn.tst/.TstActivity
05-12 12:47:52.030: D/ViewRootImpl(489): @@@- disable SystemServer HW acceleration

</pre></code>

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-05-13

   Titanium Classic test case from TC-4116
   ----------------------------------------------------
   
   <code><pre>
   var win = Ti.UI.createWindow();
   var webview = Ti.UI.createWebView({url:"<a href="http://google.com" rel="nofollow" target="_blank">http://google.com</a>"});
   win.open();
   setTimeout(function(){ win.add(webview)}, 2000);
   </pre></code></li>
<li>Ritu Agrawal 2014-05-13

   Moving this to engineering as I can reproduce the issue with HTC One 4.0.3 device.</li>
<li>Vishal Duggal 2014-05-22

   Pull pending 
   
   master - <a href="https://github.com/appcelerator/titanium_mobile/pull/5725" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5725</a>
   3_3_X - <a href="https://github.com/appcelerator/titanium_mobile/pull/5726" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5726</a></li>
<li>Lokesh Choudhary 2014-05-23

   Verified the fix.
   
   The webview does not crash anymore on an HTC Evo 4.0.3 device.
   
   Closing.
   
   Environment:
   Appc Studio : 3.3.0.201405211748
   Ti SDK : 3.3.0.v20140523120121
   Mac OSX : 10.8.5
   Alloy : 1.4.0-alpha4
   CLI - 3.3.0-alpha5
   Code Processor: 1.1.1
   HTC Evo - android 4.0.3</li>
</ol>


<p><a href="/TIMOB/TIMOB-16952.json">JSON Source</a></p>