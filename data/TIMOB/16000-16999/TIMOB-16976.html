---
title: "[TIMOB-16976] Android: Assigning View.right value isn't getting drawn on OrientationChange event"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-06-03T20:47:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.3</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_animation, qe-testadded, supportTeam</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2014-05-16T23:02:42.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-17T18:22:38.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue description</h4>
When you position an element with the property "right" and any value assigned, then you change the orientation to, either portrait or landscape the property "right" value is not correctly updated.

None of these issues existed before the upgrade to Titanium SDK 3.2.3.GA, and all of them are fixed if the SDK version is reverted to 3.2.2.GA with no other code changes.

<h4>Steps to replicate</h4>
The sideBar View is experiencing the following issues:

<h4>Starting in portrait, press 'Expand' to expand the side bar, then change orientation to landscape. Side bar is now stuck in the middle of the window (please see screen shoots attached demonstrating misplaced sideBar at 3.2.3.GA).</h4>
<h4>Starting in portrait, press 'Expand' and then 'Collapse' to collapse the side bar, then change orientation to landscape. The side bar is now visible again.</h4>
<h4>Starting in landscape, press 'Expand' and then reorient to portrait. The side bar is now off-screen (20% is shifted to the left).</h4>

<h4>Runnable Sample</h4>
<code><pre>
var win = Ti.UI.createWindow({
	navBarHidden : true,
	backgroundColor : '#00f',
	width : Ti.UI.FILL,
	height : Ti.UI.FILL
});

var toggle = Ti.UI.createButton({
	top : 100,
	left : 10,
	title : 'Expand'
});
toggle.addEventListener('click', toggleSideBar);
win.add(toggle);

var sideBar = Ti.UI.createView({
	top : 0,
	right : -300,
	width : 300,
	height : Ti.UI.FILL,
	backgroundColor : 'pink',
	expanded : false
});

function toggleSideBar(e) {
	if (sideBar.expanded) {
		sideBar.animate({
			right : -300,
			duration : 400
		}, function() {
			sideBar.right = -300;
			sideBar.expanded = false;
			toggle.title = 'Expand';
		});
	} else {
		sideBar.animate({
			right : 0,
			duration : 400
		}, function() {
			sideBar.right = 0;
			sideBar.expanded = true;
			toggle.title = 'Collapse';
		});
	}
}

Ti.Gesture.addEventListener('orientationchange', function(e) {
	Ti.API.info(' #### OrientationChange sideBar.right: ' + sideBar.right);
	if (e.source.isLandscape() && sideBar.expanded) {
		sideBar.right = 0;
	} else if (e.source.isPortrait() && !sideBar.expanded) {
		sideBar.right = -300;
	}
});
win.add(sideBar);
win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16976_48170/Device-3.2.2.GA.png">Device-3.2.2.GA.png</td></td><td>2014-05-16T23:02:42.000+0000</td><td>26159</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-16976_48171/Device-3.2.3.GA.png">Device-3.2.3.GA.png</td></td><td>2014-05-16T23:02:42.000+0000</td><td>44337</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2014-06-03

   Tested and this is working fine on lastest master. Resolving issue as unable to reproduce.</li>
<li>Lee Morris 2017-03-17

   Closing ticket as the issue cannot be reproduced.</li>
</ol>


<p><a href="/TIMOB/TIMOB-16976.json">JSON Source</a></p>