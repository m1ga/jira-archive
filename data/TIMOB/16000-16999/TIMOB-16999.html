---
title: "[TIMOB-16999] Restructure module projects to support parity and shared files"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-08-05T22:26:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>module_build, planning-3.3.0, q1-2014-candidate, qe-manualtest</td></tr>
<tr><th>Reporter</th><td>Jeff English</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-07-11T12:43:26.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-05T22:26:20.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently a developer has to create 3 different projects (iOS, Android, and MobileWeb), maintain 3 copies of the source, manifest, etc., perform 3 different builds, and then package those 3 builds into a single distributable zip file.

A developer should be able to:

1. Create a new module project specifying the platforms to be supported
2. A single folder structure should be created with the assets, documentation, example, build.py, LICENSE, Anvil folder, etc.
3. Separate platform specific folders containing build scripts that reference the common files in the module project root
4. The platform specific build scripts should be able to be run individually

This update should also take into consideration hyperloop modules and updating the templates used for creating a new module project.

Future enhancements:

5. A packaging script that is called at the end of the build that will combine all of the platform zips into a single zip (TIMOB-17002)
6. The build.py (or other CLI command) should reside in the module root and call each of the platform specific build scripts. (TIMOB-17002)


<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-05-20

   It sounds like most of this will be done in 3.3.0, with perhaps the exception of #4.</li>
<li>Chris Barber 2014-05-20

   Here's the changes between the old module creation and the new module creation:
   
   Android Module
   <code><pre>
   old build script: cd /path/to/myANDROIDmodule && ant
   new build script: cd /path/to/mymodule/android && ant
   
   old output file: /path/to/myANDROIDmodule/dist/myANDROIDmodule-android-1.0.0.zip
   new output file: /path/to/mymodule/android/dist/mymodule-android-1.0.0.zip
   </pre></code>
   
   BlackBerry Module
   <code><pre>
   old build script: cd /path/to/myBLACKBERRYmodule && node build.js
   new build script: cd /path/to/mymodule/blackberry && node build.js
   
   old output file: /path/to/myBLACKBERRYmodule/myBLACKBERRYmodule-blackberry-1.0.0.zip
   new output file: /path/to/mymodule/blackberry/mymodule-blackberry-1.0.0.zip
   </pre></code>
   
   iOS Module
   <code><pre>
   old build script: cd /path/to/myIOSmodule && python build.py
   new build script: cd /path/to/mymodule/iphone && python build.py
   
   old output file: /path/to/myIOSmodule/myIOSmodule-iphone-1.0.0.zip
   new output file: /path/to/mymodule/iphone/mymodule-iphone-1.0.0.zip
   </pre></code>
   
   Mobile Web Module
   <code><pre>
   old build script: cd /path/to/myMOBILEWEBmodule && python build.py
   new bulid script: cd /path/to/mymodule/mobileweb && python build.py
   
   old output file: /path/to/myMOBILEWEBmodule/myMOBILEWEBmodule-mobileweb-1.0.0.zip
   new output file: /path/to/mymodule/mobileweb/mymodule-mobileweb-1.0.0.zip
   </pre></code>
   
   The only major difference is each platform's build script and output file is in a platform specific subdirectory.</li>
<li>Olga Romero 2014-05-30

   How do we test this?</li>
<li>Chris Barber 2014-05-30

   To test, create a module. Observe the assets, docs, and example directories in the root of the module project that are shared between each platform. Build a module for a platform and observer that the shared resources are bundled with the module.</li>
<li>Olga Romero 2014-05-30

   Tested and verified the fix, following [~cbarber] comment, using
   Mac osx 10.9.3 Mavericks
   Appcelerator Studio, build: 3.3.0.201405271647
   Titanium SDK, build: 3.3.0.v20140530112513 
   Node.JS Version: v0.10.13 
   NPM Version: 1.3.2 
   acs@1.0.14 
   alloy@1.4.0-beta 
   npm@1.3.2 
   titanium@3.3.0-beta 
   titanium-code-processor@1.1.1
   
   Built for ios 
   <code><pre>
   [TRACE] ** BUILD SUCCEEDED **
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-16999.json">JSON Source</a></p>