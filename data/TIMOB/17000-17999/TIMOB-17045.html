---
title: "[TIMOB-17045] Android: Label 'html' and 'text' properties don't work together in ListView"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-06-05T20:05:54.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_listview, qe-closed-3.4.0, qe-manualtest, qe-testadded, supportTeam</td></tr>
<tr><th>Reporter</th><td>Hieu Pham</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2014-05-29T22:24:12.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-19T09:25:24.000+0000</td></tr>
</table>

<h3>Description</h3>

Due to listView architecture of view recycling, 'html' and 'text' don't work together in side a list view.

<code><pre>
var self = Ti.UI.createWindow({
    backgroundColor: 'white'
});
var myTemplate = {
    childTemplates: [                   // 
        {                            // Title 
            type: 'Ti.UI.Label',     // Use a label for the title 
            bindId: 'info',          // Maps to a custom info property of the item data
            properties: {            // Sets the label properties
                color: 'black',
                font: { fontFamily:'Arial', fontSize: '20dp', fontWeight:'bold' },
                left: '60dp', top: 0,
                autoLink: Ti.UI.AUTOLINK_ALL
            }
        },
        {                            // Subtitle
            type: 'Ti.UI.Label',     // Use a label for the subtitle
            bindId: 'es_info',       // Maps to a custom es_info property of the item data
            properties: {            // Sets the label properties
                color: 'gray',
                font: { fontFamily:'Arial', fontSize: '14dp' },
                left: '60dp', top: '50dp',
                autoLink: Ti.UI.AUTOLINK_NONE
            }
        }
    ]
};
   
var listView = Ti.UI.createListView({
    // Maps myTemplate dictionary to 'template' string
    templates: { 'template': myTemplate },
    // Use 'template', that is, the myTemplate dict created earlier
    // for all items as long as the template property is not defined for an item.
    defaultItemTemplate: 'template'
});
var sections = [];
   
var fruitSection = Ti.UI.createListSection({ headerTitle: 'Fruits / Frutas'});
var fruitDataSet = [
    { info: {html: "&lt;a href='<a href="http://google.com" rel="nofollow" target="_blank">http://google.com</a>'&gt;<a href="http://google.com&lt" rel="nofollow" target="_blank">http://google.com&lt</a>;/a&gt;"}, es_info: {text: 'Manzana'}},
    { info: {text: "Banana\t <a href="http://en.wikipedia.org/wiki/Banana" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Banana</a>"}, es_info: {text: 'Banana'}},
    { info: {text: "Pineapple\t <a href="http://en.wikipedia.org/wiki/Pineapple" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Pineapple</a>"}, es_info: {text: 'Pina'}},
    { info: {text: "Peach \t<a href="http://en.wikipedia.org/wiki/Peach" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Peach</a>"}, es_info: {text: 'Durazno'}},
    { info: {text: "Apple\t <a href="http://en.wikipedia.org/wiki/Apple" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Apple</a>"}, es_info: {text: 'Manzana'}},
    { info: {text: "Banana\t <a href="http://en.wikipedia.org/wiki/Banana" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Banana</a>"}, es_info: {text: 'Banana'}},
    { info: {text: "Pineapple\t <a href="http://en.wikipedia.org/wiki/Pineapple" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Pineapple</a>"}, es_info: {text: 'Pina'}},
    { info: {text: "Peach \t<a href="http://en.wikipedia.org/wiki/Peach" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Peach</a>"}, es_info: {text: 'Durazno'}}
];
fruitSection.setItems(fruitDataSet);
sections.push(fruitSection);
   
var vegSection = Ti.UI.createListSection({ headerTitle: 'Vegetables / Verduras'});
var vegDataSet = [
    { info: {text: 'Carrot\t<a href="http://en.wikipedia.org/wiki/Carrot" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Carrot</a>'}, es_info: {text: 'Zanahoria'}},
    { info: {text: 'Potato\t<a href="http://en.wikipedia.org/wiki/Potato" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Potato</a>'}, es_info: {text: 'Patata'}},
    { info: {text: 'Carrot\t<a href="http://en.wikipedia.org/wiki/Carrot" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Carrot</a>'}, es_info: {text: 'Zanahoria'}},
    { info: {text: 'Potato\t<a href="http://en.wikipedia.org/wiki/Potato" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Potato</a>'}, es_info: {text: 'Patata'}},
];
vegSection.setItems(vegDataSet);
sections.push(vegSection);
   
var grainSection = Ti.UI.createListSection({ headerTitle: 'Grains / Granos'});
var grainDataSet = [
    { info: {text: "Corn\t <a href="http://en.wikipedia.org/wiki/Maiz" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Maiz</a>"}, es_info: {text: 'Maiz'}},
    { info: {text: "Rice\t <a href="http://en.wikipedia.org/wiki/Rice" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Rice</a>"}, es_info: {text: 'Arroz'}},
    { info: {text: "Wheat\t <a href="http://en.wikipedia.org/wiki/Wheat" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Wheat</a>"}, es_info: {text: 'Trigo'}},
    { info: {text: "Corn\t <a href="http://en.wikipedia.org/wiki/Maiz" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Maiz</a>"}, es_info: {text: 'Maiz'}},
    { info: {text: "Rice\t <a href="http://en.wikipedia.org/wiki/Rice" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Rice</a>"}, es_info: {text: 'Arroz'}},
    { info: {text: "Wheat\t <a href="http://en.wikipedia.org/wiki/Wheat" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Wheat</a>"}, es_info: {text: 'Trigo'}}
];
grainSection.setItems(grainDataSet);
sections.push(grainSection);
   
listView.setSections(sections);
       
self.add(listView);
self.open();
</pre></code>

Steps to reproduce:
1. Run code above
2. Notice missing rows (you may need to scroll back and forth, depending on device)



<h3>Comments</h3>

<ol>
<li>Hieu Pham 2014-05-29

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/5743" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5743</a></li>
<li>Vishal Duggal 2014-06-05

   PR merged</li>
<li>Dhirendra Jha 2014-08-19

   Verified fix with the below environment:
   
   Appcelerator Studio: 3.4.0.201408180158
   SDK build: 3.4.0.v20140815142514
   acs: 1.0.16
   npm: 1.3.2
   alloy: 1.5.0-dev
   CLI: titanium-3.4.0-dev
   titanium-code-processor:1.1.1
   Xcode: Xcode 6 beta 5
   Osx: Mavericks(10.9.3)
   Device: Galaxy Nexus (4.1.1) and Nexus 7(4.4.2)
   
   Label "html" and "text" property is working fine in ListView. Hence Closing the issue.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17045.json">JSON Source</a></p>