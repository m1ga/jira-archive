---
title: "[TIMOB-17061] CLI needs to add the -dead_strip linker flag for i386"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-06-03T00:42:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.3</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.3.0, Release 3.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Matt Langston</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-06-02T20:40:47.000+0000</td></tr>
<tr><th>Updated</th><td>2014-09-15T15:24:47.000+0000</td></tr>
</table>

<h3>Description</h3>

The CLI's "ti build" command needs to add the -dead_strip linker flag for the i386 architecture (i.e. simulator builds) in order to allow ti.current to host multiple hyperloop modules. Without this flag the link will fail due to duplicate symbols.

The issues does not occur for device builds where the -dead_strip linker flag is already present.

This was the cause for the hyperloop bug #124: <a href="https://github.com/appcelerator/hyperloop/issues/124" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop/issues/124</a>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2014-06-03

   Master pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5753" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5753</a>
   3_3_X pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/5754" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5754</a></li>
<li>Matt Langston 2014-06-03

   Tested that there are no more duplicate symbol errors from the linker when including two hyperloop modules into a ti.current app.</li>
<li>Eric Merriman  2014-06-13

   This appears resolved. We are continuing testing with a focus on trying to find any potential side-effects.</li>
<li>Samuel Dowse 2014-07-01

   Mac OSX 10.9.3
   Appcelerator Studio, build: 3.3.0.201406271159
   Titanium SDK, build: 3.3.0.v20140701104113
   Titanium CLI, build: 3.3.0-rc4
   Alloy: 1.4.0-rc3
   HyperLoop: 1.0.1
   urlSession: 1.0.1
   
   Tested a ti.current application with CoreMotion and urlSession hyperloop modules.
   Ran on device as well as packaged and installed the app.
   Ran into no errors during testing.</li>
<li>Eric Merriman  2014-09-15

   Closing</li>
</ol>


<p><a href="/TIMOB/TIMOB-17061.json">JSON Source</a></p>