---
title: "[TIMOB-17072] iOS: Send ti.background event while the application is in the background"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-06-04T16:59:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Neeraj Gupta</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2014-06-04T16:57:50.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-13T21:47:31.000+0000</td></tr>
</table>

<h3>Description</h3>

Native SDK currently sends a ti.background event when the application comes to the foreground again or restarted. This affects the number of active sessions on the dashboard as the server times out these sessions after an hour. We can reduce the timeout but that reduces the time window instead of eliminating it completely. 

iOS7 provides a nice background feature that allows an application to make network calls when an application is in the background. We should use this feature to send the ti.background event when the session timeout period expires (currently 30 seconds). Set a 30 second timer (or whatever duration user has specified) and send the events once this timer fires. Remove this timer if the application is foregrounded before the expiry of this timeout.

Please note that Android already implements this feature so this ticket brings iOS7 at par with Android.

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-06-04

   TIMOB PR <a href="https://github.com/appcelerator/titanium_mobile/pull/5761" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5761</a> <a href="https://github.com/appcelerator/titanium_mobile/pull/5760" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5760</a></li>
<li>Samuel Dowse 2014-06-13

   Verified on:
   Mac OSX 10.9.3
   Appcelerator Studio, build: 3.3.0.201406111952
   Titanium SDK, build: 3.3.0.v20140613124912
   Titanium CLI, build: 3.3.0-rc
   Alloy: 1.4.0-rc
   iOS Device: iPhone 5S (7.1.1)
   
   Background event is sent while the application is still backgrounded.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17072.json">JSON Source</a></p>