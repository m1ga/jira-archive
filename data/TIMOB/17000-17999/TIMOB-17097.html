---
title: "[TIMOB-17097] iOS: Rendering issue when deleting and re-adding row"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-08-27T09:55:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_tableview, qe-manualtest</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2014-06-10T00:56:57.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-27T09:55:02.000+0000</td></tr>
</table>

<h3>Description</h3>

There's one issue when row is being deleted and then re added.

<code><pre>
Ti.UI.setBackgroundColor("#fff");
 
var win = Ti.UI.createWindow({
    top: 20,
    backgroundColor: "#ccc"
});
 
var table = Ti.UI.createTableView({
    top: 0,
    bottom: 0
});

var tableData = [];
 
for (var i = 0; i < 10; i++) {
    tableData.push(Ti.UI.createTableViewRow({
        title: "Row " + (i + 1)
    }));
}

table.setData(tableData);

win.add(table);
 
//var newSection;
table.addEventListener("click", function(e) {
 
    var row = table.data[0].rows[e.index];
 
    Ti.API.info('index');
    Ti.API.info(e.index);
    Ti.API.info(row.title);
    
    table.deleteRow(row);
    //Ti.API.info('delete an row');
    table.insertRowBefore(0, row);  
    //Ti.API.info('add an row');
    /*setTimeout(function() {
        table.insertRowBefore(0, row);
    }, 2); */
 
});
 
win.open();
</pre></code>

Base on the above code, the behave of delete and insert row will not work well. I think it is because when we do the delete action, the device page will still not refresh well, then the second action will not work properly.  

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17097_48914/Acutal.png">Acutal.png</td></td><td>2014-06-13T00:19:38.000+0000</td><td>51158</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17097_48915/Expect.png">Expect.png</td></td><td>2014-06-13T00:19:38.000+0000</td><td>58288</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Shuo Liang 2014-06-10

   Properly need a new tableview.refresh API. 
   Because every time make change to table view, has to be refreshed before make the next move.</li>
<li>Shuo Liang 2014-06-10

   </li>
<li>Shuo Liang 2014-06-13

   Oh, Ok. When you run the above code. and click the row 5.
   
   Actual result:
   Attachment 1
   
   Expect result:
   Attachment 2</li>
<li>Shameer Jan 2014-08-26

   Issue reproduces on SDK Version 3.3.0
   But can't reproduce on SDK 3.4.0
   
   Titanium Command-Line Interface, 
   CLI version 3.3.0, 
   Titanium SDK version 3.3.0 GA 
   Titanium SDK version 3.4.0.GA 
   Appcelerator Studio, build: 3.3.0.201407111535 
   iOS SDK: 7.1 
   iOS iPhone Simulator: 7.1</li>
<li>Satyam Sekhri 2014-08-27

   Tableview rows are in expected order after deleting and inserting a row.
   
   Verified on:
   AppC Studio: 3.4.0.201408251831
   SDK: 3.4.0.v20140826143313
   CLI: 3.4.0-dev
   Alloy: 1.5.0-dev
   Xcode: Xcode6-beta6
   iOS Device: iPhone 4(v7.1), iPad4(v8.0 beta)
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-17097.json">JSON Source</a></p>