---
title: "[TIMOB-17131] iOS: APSHTTPOperation crashes app randomly"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-06-29T15:15:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_acs, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Jon Alter</td></tr>
<tr><th>Assignee</th><td>Jon Alter</td></tr>
<tr><th>Created</th><td>2014-06-10T17:19:05.000+0000</td></tr>
<tr><th>Updated</th><td>2014-07-08T00:05:30.000+0000</td></tr>
</table>

<h3>Description</h3>

APSHTTPOperation crashes app randomly
*Note:* This issue is very intermittent and can be difficult to reproduce.
 
<h4>Repro Steps</h4>
1: Open APSCloudExample app
2. Add key to AppDelegate.m
3. Run the app
4. Create a Review
5. Query Reviews
6. Open a Review and update it
7. Back out on screen
8. Open the Review again (at this point the app should crash, if it does not, back out and open the review several times until the app does crash).

See attached screen shot for typical crash stack trace


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17131_49303/bug17131.crash">bug17131.crash</td></td><td>2014-06-26T18:56:48.000+0000</td><td>35001</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17131_49304/bug17131.png">bug17131.png</td></td><td>2014-06-26T18:56:48.000+0000</td><td>238956</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17131_48803/Screen Shot 2014-06-10 at 10.13.31 AM.png">Screen Shot 2014-06-10 at 10.13.31 AM.png</td></td><td>2014-06-10T17:19:05.000+0000</td><td>568897</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-06-11

   [~vduggal] to attempt to fix the issue in APSHttpClient.
   [~penrique] to write unit tests (ideally we can reuse the ti.cloud unit tests, or write new ones ones using <a href="https://github.com/appcelerator/tio2)" rel="nofollow" target="_blank">https://github.com/appcelerator/tio2)</a> to prove that this issue does not (or does) affect Titanium Mobile.</li>
<li>Jon Alter 2014-06-13

   [~mlangston] what PR resolved this?</li>
<li>Ingo Muschenetz 2014-06-13

   [~jalter] I believe it's NATIVESDK-169, but [~mlangston] needs to confirm. Matt, we always need to reference the ticket or PR that resolves this issue.</li>
<li>Wilson Luu 2014-06-26

   Reopening ticket. I am able to reproduce a similar crash i.e. the app crashes, but not with the exact crash logs as shown in the above screen shot attachment; see my attachments bug17131.png and bug17131.crash.
   
   Also, I can consistently reproduce the crash on step 6; when I open a review.
   
   Tested on:
   APS SDK: 0.8.6
   Xcode: 5.1.1
   Device: iphone 5s (7.1.1)</li>
<li>Wilson Luu 2014-06-30

   </li>
<li>Samuel Dowse 2014-07-08

   Verified fixed on:
   Mac OSX 10.9.4
   Appcelerator Studio, build: 3.3.0.201407031747
   Titanium SDK, build: 3.3.0.v20140707105712
   Titanium CLI, build: 3.3.0-rc4
   Alloy: 1.4.0-rc4
   iOS Device: iPhone 5 (7.0.6)
   Ti.Cloud: 3.2.3
   
   App does not crash after following test steps from the description.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17131.json">JSON Source</a></p>