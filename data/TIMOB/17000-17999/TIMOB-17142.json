{
	"id": "131449",
	"key": "TIMOB-17142",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "16586",
				"description": "Release 3.4.2",
				"name": "Release 3.4.2",
				"archived": false,
				"released": true,
				"releaseDate": "2017-03-11"
			},
			{
				"id": "16704",
				"description": "Release 3.5.0",
				"name": "Release 3.5.0",
				"archived": false,
				"released": true,
				"releaseDate": "2015-01-13"
			}
		],
		"resolution": {
			"id": "3",
			"description": "The problem is a duplicate of an existing issue.",
			"name": "Duplicate"
		},
		"resolutiondate": "2014-09-12T17:24:33.000+0000",
		"created": "2014-06-09T19:31:11.000+0000",
		"priority": {
			"name": "High",
			"id": "2"
		},
		"labels": [
			"android",
			"parity"
		],
		"versions": [],
		"issuelinks": [
			{
				"id": "41050",
				"type": {
					"id": "10002",
					"name": "Duplicate",
					"inward": "is duplicated by",
					"outward": "duplicates"
				},
				"outwardIssue": {
					"id": "116505",
					"key": "TIMOB-14393",
					"fields": {
						"summary": "Android: JS proxies are prematurely cleaned up when dalvik gc is triggered ",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "High",
							"id": "2"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "pwang",
			"key": "pwang",
			"displayName": "Ping Wang",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"updated": "2017-03-22T23:09:36.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10202",
				"name": "Android",
				"description": "Android Platform"
			}
		],
		"description": "h6.Issue description\r\nI'm building an amortisation calculator as part of a financial calculator app.  \r\n\r\nSince amortization tables are fairly lengthy, I'm using a ListView with two different versions of the ListView data to simulate a list expansion effect.  On itemclick, .replaceSectionAt() is called to replace a section of the summarized list with data from another object.  Any open section is replaced again with the summarized version.  \r\n\r\nThis is working flawlessly on iOS, but crashes after several clicks on Android 4.4.2.  Testing on older Android versions causes an immediate crash.  The console returns the error:\r\n\r\n{code}\r\n[INFO] :   libc: Fatal signal 11 (SIGSEGV) at 0x00000014 (code=1), thread 1334 (KrollRuntimeThr)\r\n{code}\r\n\r\nThe error can be replicated by clicking on \"Show more\" in the app several times on an Android device.\r\n\r\nAlloy Sample: https://www.dropbox.com/s/hdsudc0mkiw1fzr/list-view-crash-app.zip",
		"attachment": [
			{
				"id": "48902",
				"filename": "Case2067.zip",
				"author": {
					"name": "egomez",
					"key": "egomez",
					"displayName": "Eduardo Gomez",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2014-06-12T19:45:33.000+0000",
				"size": 4070392,
				"mimeType": "application/zip"
			},
			{
				"id": "48895",
				"filename": "timob17142.zip",
				"author": {
					"name": "skypanther",
					"key": "skypanther",
					"displayName": "Tim Poulsen",
					"active": true,
					"timeZone": "America/New_York"
				},
				"created": "2014-06-12T18:55:04.000+0000",
				"size": 3293556,
				"mimeType": "application/zip"
			}
		],
		"flagged": false,
		"summary": "Android: ListView crashes after using .replaceSectionAt() several times",
		"creator": {
			"name": "william.price@homes.com",
			"key": "william.price@homes.com",
			"displayName": "W. Blaine Price",
			"active": true,
			"timeZone": "America/Havana"
		},
		"subtasks": [],
		"reporter": {
			"name": "william.price@homes.com",
			"key": "william.price@homes.com",
			"displayName": "W. Blaine Price",
			"active": true,
			"timeZone": "America/Havana"
		},
		"environment": "Android 4.4.2, Moto X",
		"closedSprints": [
			{
				"id": 133,
				"state": "closed",
				"name": "2014 Sprint 13 SDK",
				"startDate": "2014-06-23T21:55:20.791Z",
				"endDate": "2014-07-04T00:00:00.000Z",
				"completeDate": "2014-07-07T17:32:18.561Z",
				"originBoardId": 100
			},
			{
				"id": 121,
				"state": "closed",
				"name": "2014 Sprint 12 SDK",
				"startDate": "2014-06-09T21:51:17.043Z",
				"endDate": "2014-06-21T00:00:00.000Z",
				"completeDate": "2014-06-23T16:52:29.621Z",
				"originBoardId": 114
			}
		],
		"comment": {
			"comments": [
				{
					"id": "308650",
					"author": {
						"name": "ingo",
						"key": "ingo",
						"displayName": "Ingo Muschenetz",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~skypanther] Note last comment. Probably worth taking a quick look.",
					"updateAuthor": {
						"name": "ingo",
						"key": "ingo",
						"displayName": "Ingo Muschenetz",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-06-12T11:14:20.000+0000",
					"updated": "2014-06-12T11:14:20.000+0000"
				},
				{
					"id": "308733",
					"author": {
						"name": "skypanther",
						"key": "skypanther",
						"displayName": "Tim Poulsen",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "Updated Classic project attached",
					"updateAuthor": {
						"name": "skypanther",
						"key": "skypanther",
						"displayName": "Tim Poulsen",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2014-06-12T18:55:04.000+0000",
					"updated": "2014-06-12T18:55:04.000+0000"
				},
				{
					"id": "308735",
					"author": {
						"name": "skypanther",
						"key": "skypanther",
						"displayName": "Tim Poulsen",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "This is not an Alloy issue. First, the customer's project uses Alloy for only the outermost app structure. The ListView is created and manipulated using Classic-style code.\r\n\r\nSecond, I could not get the Case2067.zip app to run on either iOS or Android. So, I re-created a Classic version from the customer's Alloy version. See the timob17142.zip file attached. It runs as expected on iOS. On Android, it crashes with the error as described in this ticket. \r\n\r\nErrors like \"Fatal signal 11 (SIGSEGV) at 0x00000014\" usually indicate something is attempting to access an object that doesn't exist or the app is out of memory.",
					"updateAuthor": {
						"name": "skypanther",
						"key": "skypanther",
						"displayName": "Tim Poulsen",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2014-06-12T19:03:35.000+0000",
					"updated": "2014-06-12T19:03:35.000+0000"
				},
				{
					"id": "308746",
					"author": {
						"name": "egomez",
						"key": "egomez",
						"displayName": "Eduardo Gomez",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Thanks for sharing your findings, Tim. \r\n\r\nUpdated 'Case2067.zip'. The only difference is \"underscore\" module usage. Although when its removed the application runs a bit longer, then Fatal signal 11 is thrown.\r\n\r\nOn my testing, while profiling allocations I did notice the memory consumption is too high (nearly 85% is used) on both Classic and Alloy. ",
					"updateAuthor": {
						"name": "egomez",
						"key": "egomez",
						"displayName": "Eduardo Gomez",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-06-12T19:45:33.000+0000",
					"updated": "2014-06-12T19:45:33.000+0000"
				},
				{
					"id": "309251",
					"author": {
						"name": "hpham",
						"key": "hpham",
						"displayName": "Hieu Pham",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "master PR: https://github.com/appcelerator/titanium_mobile/pull/5807",
					"updateAuthor": {
						"name": "hpham",
						"key": "hpham",
						"displayName": "Hieu Pham",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-06-17T00:24:53.000+0000",
					"updated": "2014-06-17T00:24:53.000+0000"
				},
				{
					"id": "320655",
					"author": {
						"name": "lchoudhary",
						"key": "lchoudhary",
						"displayName": "Lokesh Choudhary",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Tested the attached app timob17142.zip with the SDK having the fix & I still see the error:\r\n{code}\r\n[INFO] :   libc: Fatal signal 11 (SIGSEGV) at 0x0000000c (code=1), thread 8248 (KrollRuntimeThr)\r\n{code}\r\n\r\nEnvironment:\r\nAppc Studio : 3.4.0.201408270900\r\nTi SDK :   3.4.0.v20140826143313\r\nMac OSX : 10.9.4\r\nAlloy : 1.5.0-dev\r\nCLI - 3.4.0-dev\r\nCode Processor: 1.1.1\r\nAndroid 4.4.4",
					"updateAuthor": {
						"name": "emerriman",
						"key": "emerriman",
						"displayName": "Eric Merriman ",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-08-27T20:42:22.000+0000",
					"updated": "2014-08-28T21:18:14.000+0000"
				},
				{
					"id": "320880",
					"author": {
						"name": "emerriman",
						"key": "emerriman",
						"displayName": "Eric Merriman ",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Reopening based on Lokesh's comment.",
					"updateAuthor": {
						"name": "emerriman",
						"key": "emerriman",
						"displayName": "Eric Merriman ",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-08-28T21:18:01.000+0000",
					"updated": "2014-08-28T21:18:01.000+0000"
				},
				{
					"id": "323331",
					"author": {
						"name": "pwang",
						"key": "pwang",
						"displayName": "Ping Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "The root reason for this issue is the same as TIMOB-14393. \r\n\r\nIn the project \"timob17142.zip\", \"sectionsAftBk\" which is an array of ListSection is not attached to the window. When there is a memory pressure, those ListSection might be get cleaned up by GC. That's why the app crashes. \r\n\r\nThere is a workaround. If you want those ListSection to be kept while the window is open, you can set it as the window property\r\n{code}\r\nindex.data = sectionsAftBk;\r\n{code}",
					"updateAuthor": {
						"name": "pwang",
						"key": "pwang",
						"displayName": "Ping Wang",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2014-09-12T17:03:12.000+0000",
					"updated": "2014-09-12T17:19:10.000+0000"
				},
				{
					"id": "328637",
					"author": {
						"name": "william.price@homes.com",
						"key": "william.price@homes.com",
						"displayName": "W. Blaine Price",
						"active": true,
						"timeZone": "America/Havana"
					},
					"body": "Hi Ping,\r\n\r\nI was able to use your workaround to solve my problem.  Thanks for your help!\r\n\r\nBlaine",
					"updateAuthor": {
						"name": "william.price@homes.com",
						"key": "william.price@homes.com",
						"displayName": "W. Blaine Price",
						"active": true,
						"timeZone": "America/Havana"
					},
					"created": "2014-10-20T19:01:51.000+0000",
					"updated": "2014-10-20T19:02:01.000+0000"
				},
				{
					"id": "415218",
					"author": {
						"name": "lmorris",
						"key": "lmorris",
						"displayName": "Lee Morris",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Closing ticket as duplicate as the relevant ticket is linked above.",
					"updateAuthor": {
						"name": "lmorris",
						"key": "lmorris",
						"displayName": "Lee Morris",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-03-22T23:09:36.000+0000",
					"updated": "2017-03-22T23:09:36.000+0000"
				}
			],
			"maxResults": 13,
			"total": 13,
			"startAt": 0
		}
	}
}