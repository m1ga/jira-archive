---
title: "[TIMOB-17161] Android: HttpResponseException "No Response" from Analytics when app name contains á, é, í, ó, or ú"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-07-09T23:25:54.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.3.0, Release 3.4.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_analytics, pm2, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2014-06-03T07:35:08.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-20T18:22:11.000+0000</td></tr>
</table>

<h3>Description</h3>

Customer keeps get the following error.

Currently, analytics module is failing to post events to the appcelerator backend when running on android devices. Here is relevant part of the log: 

<code><pre>
[INFO] : TiAnalyticsSvc: (Thread-17) [79011,146418] Analytics Service Started 
[ERROR] : TiAnalyticsSvc: (Thread-17) [4548,150966] Error posting 
events: No Response 
[ERROR] : TiAnalyticsSvc: 
org.apache.http.client.HttpResponseException: No Response 
[ERROR] : TiAnalyticsSvc: at 
org.apache.http.impl.client.BasicResponseHandler.handleResponse(BasicResponseHandler.java:71) 
[ERROR] : TiAnalyticsSvc: at 
org.apache.http.impl.client.BasicResponseHandler.handleResponse(BasicResponseHandler.java:59) 
[ERROR] : TiAnalyticsSvc: at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:657) 
[ERROR] : TiAnalyticsSvc: at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:627) 
[ERROR] : TiAnalyticsSvc: at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:616) 
[ERROR] : TiAnalyticsSvc: at 
org.appcelerator.titanium.analytics.TiAnalyticsService$1.run(TiAnalyticsService.java:143) 
[ERROR] : TiAnalyticsSvc: at java.lang.Thread.run(Thread.java:1019) 
[INFO] : TiAnalyticsSvc: (Thread-17) [0,150966] Stopping Analytics Service
</pre></code>

This error occurs always on said applications and no event is registered in Analytics when the app runs on Android, but it works ok on iOS. 

If customer change the ID of it(anything but real one), the analytics module works good. However, They can't change the Id because is the id of the app in the markets.

TiApp.xml in attachment.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17161_48556/tiapp.xml">tiapp.xml</td></td><td>2014-06-03T07:35:08.000+0000</td><td>6125</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Seth Toda 2014-06-04

   This issue appears to independent of their applications code. Using analytics with their production GUID (2ad0bf34-6dd8-45cd-b15f-97aa15666404) is failing. If they manually change the GUID, the analytics appears to work. Can someone look at their backend data to see if there is anything anomalous there?</li>
<li>Seth Toda 2014-06-04

   This issue also only appears to affect their android device. </li>
<li>Vasil Daskalopoulos 2014-06-04

   [~stoda] i'll take a look now...</li>
<li>Seth Toda 2014-06-04

   Okay thanks [~vasil]!</li>
<li>Seth Toda 2014-06-10

   [~vasil], I'm able to replicate the customer's error output in studio by using their GUID with my sample application. Using a different GUID fixes the issue, but isn't a valid solution for the customer. The output in the description seems to indicate that the Android device is getting "No Response." Are there logs associated with the analytics that might help?</li>
<li>Vasil Daskalopoulos 2014-06-12

   [~stoda] has anyone tried the suggestion "4b" from Ingo's comment above? that would narrow down the issue and validate the claim that the actual GUID value seems to be causing the error.
   in any case, we can tail the apache error.log on the mobile-track servers while they try with the 2ad0bf34-6dd8-45cd-b15f-97aa15666404 GUID. [~tdipentino] can you think of a way to grep out the logs for that one app? there's going to be hundreds of events per second hitting that endpoint.
   </li>
<li>Vasil Daskalopoulos 2014-06-12

   another alternative is to have them configure the app to hit the staging server so we can reproduce it there and get logs in a much less noisy environment</li>
<li>Tony DiPentino 2014-06-12

   [~vasil] is the logs the old mobile-track logs?</li>
<li>Vasil Daskalopoulos 2014-06-12

   i guess we'd have to look in access.log, error.log and yeah the /event_store and/or /local_storage files for mobile-track to see if anything either shows up ok or logs an error in the first two</li>
<li>Seth Toda 2014-06-12

    I can recreate this output with the following steps.
    1. Add self to org
    2. Create new app within org via Appc Studio
    3. Swap out ACS keys, GUID, name, id with theirs.
    4. Run on android</li>
<li>Seth Toda 2014-06-12

    Attached their tiapp.xml
    </li>
<li>Mark Griffin 2014-06-13

    [~stoda] I think this is not a STREAM project issue, as it's happening client side. Sounds like a malformed event or URL.</li>
<li>Seth Toda 2014-06-13

    [~mgriffin] can you recommend which project I should consult with? This issue seems to occur regardless of the client or project code. I can reproduce this issue with a blank project on my machine using their GUID. </li>
<li>Isaac Whitfield 2014-06-13

    [~stoda] I would say probably TIMOB. It likely isn't an issue in PEM due to the fact that one platform works and another doesn't - PEM doesn't treat their events any differently.</li>
<li>Ingo Muschenetz 2014-06-13

    Seth, can you make the same analytics call from the command line (using cURL)? It may be a client side issue, but it makes no sense that it works with one ID and not the other.</li>
<li>Seth Toda 2014-06-13

    Hey [~ingo] can you add this to triage? </li>
<li>Seth Toda 2014-06-13

    Attached a test case. 
    
    tiapp.xml is their guid/id/name
    tiapp 2.xml is my guid/id/name
    
    Run tiapp 2.xml to establish control case. 
    Run tiapp.xml to see error occur after "Analytics Service Started"</li>
<li>Seth Toda 2014-06-13

    UPDATE:
    <id>cl.bci.bancamovil.personas</id> fails
    <id>com.seth.pushy</id> succeeds
    Too many periods.
    
    Not sure if we are failing client side or server side . 
    [Link](<a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/guide/tiapp.xml_and_timodule.xml_Reference-section-29004921_tiapp.xmlandtimodule.xmlReference-id) to our docs.
    </li>
<li>Isaac Whitfield 2014-06-13

    [~stoda] If that's what determines if it works or not, it is likely to be a client bug. App ID is not used anywhere inside PEM and is just stored as-is. 
    
    Just to be sure, I ran an event with 3 "."'s in via curl and it worked just fine.</li>
<li>Seth Toda 2014-06-13

    I did a bunch of tests with different combinations of id/guid/name and found that the error occurs when the <name> has this character in it: ó
    </li>
<li>Shuo Liang 2014-06-16

    Tested with different languages (Chinese, Japanese, English, Latin, Arabic), all work well. However,  no matter which language, as long as include letters "á、é、í、ó、ú" in app name, the problem occurs.</li>
<li>Isaac Whitfield 2014-06-16

    This is likely to be a client issue, those characters are fine via curl.
    
    <code><pre>
    IWhitfieldMBP:nodeable iwhitfield$ curl -s -i -X POST -d '[
    &gt;     {
    &gt;         "type": "ti.enroll",
    &gt;         "event": "ti.enroll",
    &gt;         "aguid": "1b04ca74-4fcd-4cd1-bf6b-2b81a44a7355",
    &gt;         "seq": 0,
    &gt;         "deploytype": "development",
    &gt;         "sid": "9499b066-4eab-4b66-b6d2-8d2b44104be5",
    &gt;         "ts": "2014-06-16T04:43:00.725+0000",
    &gt;         "id": "46b2d36e-92c6-46f9-af6d-925c742a374b:62dd3fd8-b3ce-4110-bfac-9bd29e7ddfd3",
    &gt;         "mid": "62dd3fd8-b3ce-4110-bfac-9bd29e7ddfd3",
    &gt;         "ver": "2",
    &gt;         "rdu": null,
    &gt;         "latitude": "37.389288",
    &gt;         "longitude": "-122.050236",
    &gt;         "country_code": "US",
    &gt;         "country_name": "United States",
    &gt;         "data": {
    &gt;             "app_name": "Testápp",
    &gt;             "app_id": "com.appcelerator.testapp",
    &gt;             "oscpu": 1,
    &gt;             "osarch": "arm",
    &gt;             "platform": "android",
    &gt;             "ostype": "32bit",
    &gt;             "model": "Samsung Galaxy S3",
    &gt;             "mac_addr": "a9d58ecd546ecebf80f4a50bdf18797be6733a04"
    &gt;         }
    &gt;     }
    &gt; ]' "<a href="http://api.appcelerator.net:80/p/v3/mobile-track/1b04ca74-4fcd-4cd1-bf6b-2b81a44a7355" rel="nofollow" target="_blank">http://api.appcelerator.net:80/p/v3/mobile-track/1b04ca74-4fcd-4cd1-bf6b-2b81a44a7355</a>"
    HTTP/1.1 204 No Content
    Date: Mon, 16 Jun 2014 04:41:20 GMT
    Server: Apache/2.2.22 (Ubuntu)
    X-Powered-By: PHP/5.3.10-1ubuntu3.11
    Access-Control-Allow-Origin: *
    Vary: Accept-Encoding
    Access-Control-Allow-Methods: POST, GET, OPTIONS
    Content-Length: 0
    Connection: close
    Content-Type: text/html
    </pre></code></li>
<li>Ingo Muschenetz 2014-06-16

    Moving to TIMOB until we can prove it's not client-side.</li>
<li>Shuo Liang 2014-06-25

    Any update about this case? 
    Suggested customer to take the character out of the <name> & <description> tags, but only work when delete and reinstall the app,  but not work when update the app. So customer still want to know the time line of final fix.</li>
<li>Allen Yeung 2014-07-02

    To test:
    
    1. Create a titanium project
    2. Inside tiapp.xml change the app name to: "<name>Bci Móviél</name>"
    3. Build and run the app and look at logcat
    
    Expected result:
    You should see following inside logcat
    <code><pre>
    I/APSAnalyticsService( 3584): Analytics Service Started
    I/APSAnalyticsService( 3584): Stopping Analytics Service
    </pre></code>
    
    Actual Result:
    You will see an error in the logs.</li>
<li>Allen Yeung 2014-07-02

    Master: <a href="https://github.com/appcelerator/titanium_mobile/pull/5882" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5882</a>
    3_3_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/5883" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5883</a>
    
    Change in native sdk:
    timob-3_3_X: <a href="https://github.com/appcelerator/aps_sdk/pull/192" rel="nofollow" target="_blank">https://github.com/appcelerator/aps_sdk/pull/192</a>
    master: <a href="https://github.com/appcelerator/aps_sdk/pull/198" rel="nofollow" target="_blank">https://github.com/appcelerator/aps_sdk/pull/198</a></li>
<li>Samuel Dowse 2014-07-07

    Tested on:
    Mac OSX 10.9.4
    Appcelerator Studio, build: 3.3.0.201407031747
    Titanium SDK, build: 3.3.0.v20140707105712
    Titanium CLI, build: 3.3.0-rc4
    Alloy: 1.4.0-rc4
    
    Creating an app through Studio using the project creation wizard using a special character (á, é, í, ó, ú) in the app name will fail on build.
    Creating a project with a standard character name and editing the tiapp.xml <name> tag with special characters will allow the project to build.
    </li>
<li>Neeraj Gupta 2014-07-07

    [~sdowse] Please make sure that we have a Studio ticket (there may be few already) to capture the project creation wizard issue with special characters.</li>
<li>Eric Merriman  2014-07-07

    [~ngupta] The ticket was opened on Thursday: TIMOB-17270. Not Studio-related, it's actually the CLI.</li>
<li>Neeraj Gupta 2014-07-08

    Thanks.</li>
<li>Eric Merriman  2014-07-09

    We will check the fix using a workaround for TIMOB-17270, and comment.</li>
<li>Ingo Muschenetz 2014-07-10

    A reminder that (for now), you CAN NOT have UTF-8 characters in your file path (either in the folder names or in the file names). This is a restriction based on some of the Android tooling we rely on.
    
    If you need to have UTF-8 characters in your application name, create the project without it, and then change the name after the fact.
    
    We do plan on fixing this in 3.3.1, but the fix will be to strip out/replace the UTF-8 characters with Android-friendly ones.</li>
<li>Lokesh Choudhary 2014-07-11

    Followed the workaround mentioned by [~ingo].
    
    Created an app and after creation changed the name in the tiapp.xml to have accented characters.
    
    The analytics events are sent successfully.
    
    Closing.
    
    Environment:
    Appc Studio : 3.3.0.201407101409
    Ti SDK :  3.3.0.v20140711123603
    Mac OSX : 10.8.5
    Alloy : 1.4.0-rc5
    CLI - 3.3.0-rc4
    Code Processor: 1.1.1
    Nexus 5 - android 4.4</li>
</ol>


<p><a href="/TIMOB/TIMOB-17161.json">JSON Source</a></p>