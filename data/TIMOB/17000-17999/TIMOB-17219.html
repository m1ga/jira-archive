---
title: "[TIMOB-17219] Android: Google Maps stop loading in Android 4.4 with Google Play Services (4.4.52)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2014-11-05T19:42:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.1, Release 3.4.2, Release 3.5.0, Release 4.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, map, ti.map</td></tr>
<tr><th>Reporter</th><td>Netto Ramalho</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2014-06-26T14:30:52.000+0000</td></tr>
<tr><th>Updated</th><td>2015-03-03T22:44:24.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problema Description</h4>
Before navigating for awhile the map stop loading, that only happens when using Android 4.4.x and Google Play Services 4.4.52

<h4>Community Extra info</h4>
[<a href="http://developer.appcelerator.com/question/174507/google-map-v2---map-data-stop-loading-and-updating-" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/174507/google-map-v2---map-data-stop-loading-and-updating-</a>]

<h4>Tests</h4>
{quote}
Nexus 4, Android 4.4.2, Google Play services 4.4.52 - stopped working

Nexus 4, Android 4.4.2, Google Play services 4.0.33 - OK

Xperia Neo V, Android 4.0.4, Google Play services 4.4.52 - OK

Galaxy Nexus Android 4.3, Google Play services 4.4.52 - OK

Razr D3, Android 4.1.2, Google Play services 4.4.52 - OK
{quote}

<h4>Testcase</h4>
<code><pre>
var MapModule = require('ti.map');

var code = MapModule.isGooglePlayServicesAvailable();

if (code != MapModule.SUCCESS) {
	alert ("Google Play Services is not installed/updated/available");
} else {
	var win = Ti.UI.createWindow();
	var map = MapModule.createView({
		userLocation: true,
		mapType: MapModule.NORMAL_TYPE,
		animate: true,
		region: {latitude: -33.87365, longitude: 151.20689, latitudeDelta: 0.02, longitudeDelta: 0.02 }
	});
	win.add(map);
	win.open();
}
</pre></code>

<h4>Logs</h4>
<code><pre>
[INFO] :   Installing app on device: Nexus 4
[INFO] :   App successfully installed
[INFO] :   Starting app: com.fllor.appdev/.GooglemapsActivity
[INFO] :   Application pid: 4857
[INFO] :   Project built successfully in 49s 991ms
-- Start application log -----------------------------------------------------
[INFO] :   TiApplication: (main) [0,0] checkpoint, app created.
[INFO] :   TiApplication: (main) [83,83] Titanium 3.2.3 (2014/04/22 10:17 b958a70)
[INFO] :   TiDbHelper: (main) [78,161] No value in database for platform key: 'unique_machine_id' returning supplied default ''
[INFO] :   TiDbHelper: (main) [8,169] No value in database for platform key: 'hardware_machine_id' returning supplied default ''
[WARN] :   linker: libstlport_shared.so has text relocations. This is wasting memory and is a security risk. Please fix.
[WARN] :   linker: libkroll-v8.so has text relocations. This is wasting memory and is a security risk. Please fix.
[WARN] :   linker: libtiverify.so has text relocations. This is wasting memory and is a security risk. Please fix.
[INFO] :   TiApplication: (main) [90,259] Titanium Javascript runtime: v8
[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity create, savedInstanceState: null
[INFO] :   TiAnalyticsDb: (main) [37,37] Upgrading Database from 1 to 4
[WARN] :   V8Object: Runtime disposed, cannot set property 'userAgent'
[WARN] :   linker: libti.map.so has text relocations. This is wasting memory and is a security risk. Please fix.
[WARN] :   dalvikvm: VFY: unable to resolve static field 1618 (common_google_play_services_unknown_issue) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1618 (common_google_play_services_unknown_issue) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1613 (common_google_play_services_install_title) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1609 (common_google_play_services_enable_title) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1624 (common_google_play_services_update_title) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1621 (common_google_play_services_unsupported_title) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1617 (common_google_play_services_network_error_title) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1618 (common_google_play_services_unknown_issue) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1618 (common_google_play_services_unknown_issue) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1615 (common_google_play_services_invalid_account_title) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1618 (common_google_play_services_unknown_issue) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1621 (common_google_play_services_unsupported_title) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1610 (common_google_play_services_install_button) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1607 (common_google_play_services_enable_button) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1622 (common_google_play_services_update_button) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1618 (common_google_play_services_unknown_issue) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1612 (common_google_play_services_install_text_tablet) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1611 (common_google_play_services_install_text_phone) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1608 (common_google_play_services_enable_text) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1623 (common_google_play_services_update_text) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1620 (common_google_play_services_unsupported_text) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1616 (common_google_play_services_network_error_text) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1614 (common_google_play_services_invalid_account_text) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1619 (common_google_play_services_unsupported_date_text) in Lcom/google/android/gms/R$string;
[WARN] :   dalvikvm: VFY: unable to resolve static field 1618 (common_google_play_services_unknown_issue) in Lcom/google/android/gms/R$string;
[ERROR] :  GooglePlayServicesUtil: The Google Play services resources were not found. Check your project configuration to ensure that the resources are included.
[INFO] :   I/dalvikvm-heap: Grow heap (frag case) to 11.904MB for 2731536-byte allocation
[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity resume. activity = com.fllor.appdev.GooglemapsActivity@41f55fe8
[WARN] :   dalvikvm: VFY: unable to resolve static field 1628 (MapAttrs) in Lcom/google/android/gms/R$styleable;
[ERROR] :  GooglePlayServicesUtil: The Google Play services resources were not found. Check your project configuration to ensure that the resources are included.
[INFO] :   I/Google Maps Android API: Google Play services client version: 4132500
[INFO] :   I/Google Maps Android API: Google Play services package version: 4452036
[INFO] :   fpp: Making Creator dynamically
[INFO] :   I/Google Maps Android API: Google Play services client version: 4452000
[INFO] :   I/Adreno-EGL: <qeglDrvAPI_eglInitialize:320>: EGL 1.4 QUALCOMM Build: I0404c4692afb8623f95c43aeb6d5e13ed4b30ddbDate: 11/06/13
[WARN] :   dalvikvm: VFY: unable to resolve static field 1628 (MapAttrs) in Lcom/google/android/gms/R$styleable;
[WARN] :   TiVerify: (Timer-0) [5016,5016] Verifying module licenses...
[INFO] :   TiVerify: (Timer-0) [830,5846] Succesfully verified module licenses
[INFO] :   I/dalvikvm-heap: Grow heap (frag case) to 16.576MB for 292268-byte allocation
[INFO] :   dalvikvm: Jit: resizing JitTable from 4096 to 8192
[INFO] :   I/dalvikvm-heap: Grow heap (frag case) to 16.704MB for 329936-byte allocation
[INFO] :   TiAnalyticsSvc: (Thread-189) [24214,30060] Analytics Service Started
[INFO] :   TiAnalyticsSvc: (Thread-189) [2203,32263] Stopping Analytics Service
[INFO] :   I/dalvikvm-heap: Grow heap (frag case) to 15.234MB for 292268-byte allocation
[INFO] :   I/dalvikvm-heap: Grow heap (frag case) to 16.435MB for 360412-byte allocation
[INFO] :   dalvikvm: Jit: resizing JitTable from 8192 to 16384
[INFO] :   I/dalvikvm-heap: Grow heap (frag case) to 17.201MB for 156852-byte allocation
[INFO] :   I/dalvikvm-heap: Grow heap (frag case) to 17.070MB for 277324-byte allocation
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17219_49293/Screenshot_2014-06-26-10-50-40.png">Screenshot_2014-06-26-10-50-40.png</td></td><td>2014-06-26T14:30:52.000+0000</td><td>141477</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17219_49294/Screenshot_2014-06-26-10-51-38.png">Screenshot_2014-06-26-10-51-38.png</td></td><td>2014-06-26T14:30:52.000+0000</td><td>302351</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2014-06-26

   The Platform team will set the priority on this. Thanks for reporting!</li>
<li>Rainer Schleevoigt 2014-06-30

   I have the same issue on my devices. </li>
<li>Lokesh Choudhary 2014-07-01

   Tried to reproduce the issue. 
   Unfortunately don't have any device with the exact version of google play services mentioned in the ticket.
   
   1. Nexus 5 - android 4.4.4 - google play services 4.8.20 --- map is seen properly.
   2. Samsung Note 2 - android 4.3 -  google play services 4.5.10 --- map is seen properly.
   3. Google Nexus - android 4.2.2 - google play services 4.8.20 --- map is seen properly.
   
   Unable to reproduce with the above mentioned devices & google services versions.
   
   Environment:
   Appc Studio : 3.3.0.201406271159
   Ti SDK : 3.3.0.v20140627202512
   Mac OSX : 10.8.5
   Alloy : 1.4.0-rc2
   CLI - 3.3.0-rc4
   Code Processor: 1.1.1
   Map Module: 2.1.4
   </li>
<li>Rainer Schleevoigt 2014-07-01

   I have Android 4.4.4 and the fitting play service.
   On this device 3 apps runs wihout any problems and ca. 5 apps have this issue. I guess it is timing problem. The running apps retreives datad from cloud and *then* they render map.</li>
<li>Rainer Schleevoigt 2014-07-01

   I have changed my appId to a longer name and now it works. It is solved for me.</li>
<li>Rainer Schleevoigt 2014-07-02

   This "solution" with shorted name was a pseudo solution. 
   My observation: if the app is fresh then I can zoom an pane.  After a time this issue (no loading of tiles) comes. Deleting cache in system configuration/apps: no effect. But if I use the button 'Force stopping of app' then the app is fresh an I can zoom and pan.
   
   I think it is a problem with memory organization of map view in version 4.4.*</li>
<li>Lokesh Choudhary 2014-07-02

   According to the comment by [~titanium@webmasterei-hamburg.de] he sees it after some time of map use.
   I will try to use google maps for some time & try to reproduce the issue.</li>
<li>Rainer Schleevoigt 2014-07-02

   It is this app: <a href="https://play.google.com/store/apps/details?id=de.appwerft.criticalmass" rel="nofollow" target="_blank">https://play.google.com/store/apps/details?id=de.appwerft.criticalmass</a>  If you change the city more then 5or 6 times, then come the issue. Reinstalling of app or forced quit cleans the problem.</li>
<li>Lokesh Choudhary 2014-07-09

   Tried to reproduce & I could only reproduce the issue with the app mentioned by [~titanium@webmasterei-hamburg.de] in the comment above. If I change the city in the app like 4-6 times then the map stops loading. 
   
   I could not reproduce it with the test code provided in this ticket.
   
   Environment:
   Appc Studio : 3.3.0.201407081443
   Ti SDK :  3.3.0.v20140708132513
   Mac OSX : 10.8.5
   Alloy : 1.4.0-rc4
   CLI - 3.3.0-rc4
   Code Processor: 1.1.1
   Nexus 5 - android 4.4
   Google Play Service Version : 4.8.20
   
   </li>
<li>Hieu Pham 2014-07-14

    I can't reproduce this consistently. Seems like a networking problem. </li>
<li>Ingo Muschenetz 2014-07-15

    [~titanium@webmasterei-hamburg.de] Is it possible to provide us the code for your application in some form? We can only seem to be able to reproduce it with your application.</li>
<li>Rainer Schleevoigt 2014-07-17

    You can find the project here: <a href="https://github.com/AppWerft/CriticalMassHH" rel="nofollow" target="_blank">https://github.com/AppWerft/CriticalMassHH</a> In <a href="https://github.com/AppWerft/CriticalMassHH/blob/master/Resources/ui/map.window.js" rel="nofollow" target="_blank">https://github.com/AppWerft/CriticalMassHH/blob/master/Resources/ui/map.window.js</a> I build the map view. The smart map module managed the annotations. But this is not the problem. 
    If I restart app or remove datas then the issue keeps. Only reinstallation or forceQuit (in system configuration) cleans the issue. The tiles will loading again until the issue begins again. This issue only appears on 4.4.2, but on all my devices ... and on other devices of the bicyclers. 
    
    </li>
<li>Ingo Muschenetz 2014-11-05

    [~hpham] is this related to the other Google Map issues?</li>
<li>Ingo Muschenetz 2014-11-05

    Marking as duplicate of linked issue.</li>
<li>Netto Ramalho 2014-11-05

    Tested and approved!
    Problem solved, thank you</li>
</ol>


<p><a href="/TIMOB/TIMOB-17219.json">JSON Source</a></p>