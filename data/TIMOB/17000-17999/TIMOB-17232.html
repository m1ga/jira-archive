---
title: "[TIMOB-17232] iOS: Analytics - Killing an app before the session timeout is generating a new session"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-06-28T01:43:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.3.0, Release 3.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_analytics, qe-3.3.0, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Wilson Luu</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2014-06-27T17:38:19.000+0000</td></tr>
<tr><th>Updated</th><td>2014-07-09T17:38:30.000+0000</td></tr>
</table>

<h3>Description</h3>

*Details:* Killing an app before the session timeout is generating a new session i.e. ti.background and a new ti.foreground (new sid) is sent.

*Note:* This does *not* occur on native Android i.e. killing the app (backing out) and relaunching before a session timeout does not generate a new session.

*Steps to reproduce:*
1. Create a default app in Xcode with APS analytics enabled OR import check.zip into Xcode
2. Install app onto device and wait for app to launch; point device to staging
3. Next, background the app, wait a couple of seconds, then kill the app (double-press home button and swipe up on app)
4. Bring the app back to the foreground before 30 seconds

*Actual:* ti.background and a new ti.foreground is sent (see payloads.txt attachment).

*Expected:* ti.background and ti.foreground should not be generated.

<h3>Comments</h3>

<ol>
<li>Sabil Rahim 2014-06-27

   <a href="https://github.com/appcelerator/titanium_mobile/pull/5873" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5873</a>
   <a href="https://github.com/appcelerator/titanium_mobile/pull/5872" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5872</a></li>
<li>Samuel Dowse 2014-07-09

   Verified fixed on:
   Mac OSX 10.9.4
   Appcelerator Studio, build: 3.3.0.201407081443
   Titanium SDK, build: 3.3.0.v20140708132513
   Titanium CLI, build: 3.3.0-rc4
   Alloy: 1.4.0-rc4
   iOS Device: iPad Air (7.1.2)
   
   Followed steps in the description.
   If application is backgrounded and foregrounded again before the session timeout, and since we are still in the same session, no analytic payloads are sent for the background and foreground.
   Any new payloads sent after this background and foreground will have the same session ID.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17232.json">JSON Source</a></p>