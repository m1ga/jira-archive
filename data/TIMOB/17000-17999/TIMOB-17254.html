---
title: "[TIMOB-17254] iOS: Cloud.Photos.update function is not working for photos from camera or gallery"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-07-07T17:59:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.3.0, Release 3.4.0</td></tr>
<tr><th>Components</th><td>Cloud, iOS</td></tr>
<tr><th>Labels</th><td>module_acs, qe-3.3.0, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Kajenthiran Velummaylum</td></tr>
<tr><th>Assignee</th><td>Pedro Enrique</td></tr>
<tr><th>Created</th><td>2014-07-01T10:07:54.000+0000</td></tr>
<tr><th>Updated</th><td>2014-07-07T18:57:09.000+0000</td></tr>
</table>

<h3>Description</h3>

*Cloud.Photos.update* function is not working for the photos from Gallery or Camera. 
It's throwing  *Invalid photo file type* error. Please refer attached screenshot. 
If the new photo is assigned through an image file instead of a blob from camera or gallery then it works fine.

<h4>Steps To Reproduce</h4>
1. Create a default titanium classic app
2. Copy the app.js and windows folder from "~/Library/Application Support/Titanium/modules/commonjs/ti.cloud/3.2.3/example" into the Resources directory of the project.
3. Install and launch app on iOS device
4. Create a user from Users > Create User
5. Create a photo from Dashboard as the current user of your app is owner of that photo.
6. Press back button twice and go to Photos > Query Photo
7. Select the photo that you created from dashboard.
8. Press "Update Photo" button
9. Press "Select Photo from Gallery" or "Take Photo with Camera" to select/take a photo and use it
10. Add some text for tag field.
11. Press Update button. 

<h4>Actual Result</h4>
Invalid photo file type error is thrown. (See attachment)

<h4>Expected Result</h4>
Photo should be updated correctly.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17254_49402/photo_update.png">photo_update.png</td></td><td>2014-07-01T10:07:54.000+0000</td><td>67776</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Pedro Enrique 2014-07-03

   PR for master: <a href="https://github.com/appcelerator/titanium_mobile/pull/5885" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5885</a>
   PR for 3.3.x: <a href="https://github.com/appcelerator/titanium_mobile/pull/5886" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5886</a></li>
<li>Samuel Dowse 2014-07-07

   Verified fixed on:
   Mac OSX 10.9.4
   Appcelerator Studio, build: 3.3.0.201407031747
   Titanium SDK, build: 3.3.0.v20140707105712
   Titanium CLI, build: 3.3.0-rc4
   Alloy: 1.4.0-rc4
   iOS Device: iPhone 5 (7.0.6)
   
   Followed test steps provided in the description.
   Photo is successfully updated with the correct tags.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17254.json">JSON Source</a></p>