---
title: "[TIMOB-17268] TiAPI: Make call stack available through Error.prototype.stack property"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Core</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-07-03T00:27:42.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:03:12.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>problem</h4>

I want to have access to the call stack via the non-standard [Error.prototype.stack](<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error/Stack)" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error/Stack)</a> property. While non-standard, it is available in most browsers and in node.js as well. 

The primary reason for this ticket is that the absence of this property implemented for all platforms causes vague error output with ti-mocha, or any unit testing library that relies on <code>Error.prototype.stack</code> for its stack trace, which is most of them. Aside from this, though, it would just make debugging, testing, and customized error output so much easier.

<h4>test case </h4>

<code><pre>
function foo() {
	function bar() {
		console.log(new Error().stack);
	}
	bar();
}
foo();
</pre></code>

<h4>expected</h4>

In the above test case, I would expect that the complete stack trace would be printed to the console. For example, in node.js, the exact same code would result in the following:

<code><pre>
â‰« node test.js 
Error
    at bar (/Users/tlukasavage/development/ti-stack/test.js:3:15)
    at foo (/Users/tlukasavage/development/ti-stack/test.js:5:2)
    at Object.<anonymous> (/Users/tlukasavage/development/ti-stack/test.js:7:1)
    at Module._compile (module.js:456:26)
    at Object.Module._extensions..js (module.js:474:10)
    at Module.load (module.js:356:32)
    at Function.Module._load (module.js:312:12)
    at Function.Module.runMain (module.js:497:10)
    at startup (node.js:119:16)
    at node.js:906:3
</pre></code>

<h4>actual</h4>

The output is <code>null</code> on iOS and Android. I have no tested our other supported platforms.

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-07-06

   Does this relate to the two linked issues? Can we just hook those up here?</li>
<li>Tony Lukasavage 2014-12-15

   I'm not certain, those linked issues don't seem to be the exact same thing. Mine is basically asking for this to be implemented: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error/Stack" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error/Stack</a>
   
   While it is cited as non-standard, it is implemented in node.js and is exceedingly helpful.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17268.json">JSON Source</a></p>