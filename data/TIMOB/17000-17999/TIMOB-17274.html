---
title: "[TIMOB-17274] Android: Animation suddenly stops"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.2.3, Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Fix Please</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-05-29T10:51:10.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:04:23.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
The animation in the code will suddenly stop if running with 3.2.3.GA/3.3.0.RC. If you are using 3.2.2.GA, will continue without any issue. See the video attached.

Note, that I has not managed to recreate the issue on the GT-S7562 device. At the same time the issue can be easily recreated on the AVD. 


<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container"&gt;
	  &lt;View borderWidth="1" borderColor="black" width="30" height="Titanium.UI.FILL"&gt;&lt;/View&gt;
    &lt;View borderWidth="1" borderColor="black" width="Titanium.UI.FILL" height="30"&gt;&lt;/View&gt;
    &lt;View borderWidth="1" borderColor="black" width="60" height="Titanium.UI.FILL"&gt;&lt;/View&gt;
    &lt;View borderWidth="1" borderColor="black" width="Titanium.UI.FILL" height="60"&gt;&lt;/View&gt;
    &lt;View borderWidth="1" borderColor="black" width="90" height="Titanium.UI.FILL"&gt;&lt;/View&gt;
    &lt;View borderWidth="1" borderColor="black" width="Titanium.UI.FILL" height="90"&gt;&lt;/View&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>
<code><pre>
var view = Ti.UI.createView({
  backgroundColor: 'green',
  opacity: 1,
  width: 30,
  height: 30,
});
  
var baseX, baseY;
var onPostLayout = function() {
  baseX = view.rect.x;
  baseY = view.rect.y;

  Ti.API.info('postlayout: ' + baseX + ", " + baseY);

  startAnimation();
  
  view.removeEventListener('postlayout', onPostLayout);
};

view.addEventListener('postlayout', onPostLayout);

var animation = Ti.UI.createAnimation();
  
animation.addEventListener('complete', function() {
  Ti.API.info('Animation complete');
  startAnimation();
});
  
var shiftX = 15;
var shiftY = 15;
  
function startAnimation() {
  shiftX = -shiftX;
  shiftY = -shiftY;
       
  animation.left = baseX + shiftX;
  animation.top = baseY + shiftY;
  animation.duration = 2000;
  
  Ti.API.info('Start Animation: ' + JSON.stringify(animation));
  view.animate(animation);
};

$.index.add(view);
$.index.open();

</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17274_48451/animation1.avi">animation1.avi</td></td><td>2014-05-29T10:52:11.000+0000</td><td>3185126</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-06-09

   I tried to reproduce the issue with Titanium SDK 3.2.3 GA on Samsung Galaxy device and was not able to reproduce it. I don't see any difference in the animation with Titanium SDK 3.2.2 GA and 3.2.3 GA. 
   
   Can you please try it on some other devices as this will help us narrow down the issue?</li>
<li>Mauro Parra-Miranda 2014-06-09

   Hello!
   
   I tested this on Mobile SDK 3.2.3.GA on a Motorola X with Android 4.4.2 and it's working just fine. 
   
   Can you please provide more info? When the animation stops working in your testing? 
   
   Best,
   
   Mauro </li>
<li>Fix Please 2014-06-11

   Hi Mauro,
   
   have you seen the video attached?
   Seems, the easiest way to recreate the issue is to use x86 AVD and the code provided. I've just recreated it on Nexus_10_by_Google, Android 4.4.2/19, Intel Atom (x86) AVD</li>
<li>jithinpv 2014-08-22

   Cannot reproduce
   
   Titanium SDK version 3.4.0 master, 3.3.0.GA, 3.2.3.GA, 3.2.2.GA
   Titanium Studio, build: 3.3.0.201407100905
   Titanium Command-Line Interface
   CLI version 3.3.0, 
   Android emulator , Android version : 2.3.3</li>
<li>Ingo Muschenetz 2014-08-22

   [~jithinv@exalture.com] can you please try the EXACT AVD as specified in the line above:
   
   Nexus_10_by_Google, Android 4.4.2/19, Intel Atom (x86) AVD</li>
<li>jithinpv 2014-08-29

   Sorry, we are unable to test with the specified AVD.</li>
<li>Fix Please 2014-10-03

   I've just made some more tests...
   Seems the issue only occurs with "Use host GPU" turned 'on'. This time I used the 2.3.3 Android version and was able to recreate the issue.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17274.json">JSON Source</a></p>