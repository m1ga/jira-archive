---
title: "[TIMOB-17404] iOS: Focusing TextField in HeaderView of empty TableView causes application to crash on iOS7.1"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-01-12T16:11:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>TCSupport, supportTeam</td></tr>
<tr><th>Reporter</th><td>Tomasz Krzywda</td></tr>
<tr><th>Assignee</th><td>Jon Alter</td></tr>
<tr><th>Created</th><td>2014-07-10T09:07:49.000+0000</td></tr>
<tr><th>Updated</th><td>2015-03-31T17:34:58.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
Focusing TextField in HeaderView of empty TableView causes application to crash on iOS7.1

<h4>TEST ENVIRONMENT:</h4>

Ti SDK 3.3.0.GA
Ti CLI 3.3.0
iOS SDK: 7.1
iOS iPhone Simulator: 7.1
 
<h4>STEP TO REPRODUCE:</h4>

1. Create a default alloy project.
2. Replace index.xml with the following code:
 
<code><pre>

<Alloy>
    <Window id="win" backgroundColor="white">
        <TableView id="table">
        	<HeaderView>
            <TextField
            platform="ios"
            borderStyle="Ti.UI.INPUT_BORDERSTYLE_BEZEL"
            keyboardToolbarColor="#999" keyboardToolbarHeight="40"
            top="10" height="35" width="300"
            value="Focus to see keyboard with toolbar">

            <!-- Sets the keyboardToolbar property -->
            <KeyboardToolbar>
                <Toolbar>
                    <Items>
                        <Button systemButton="Ti.UI.iPhone.SystemButton.CANCEL" />
                        <FlexSpace/>
                        <Button systemButton="Ti.UI.iPhone.SystemButton.CAMERA" />
                        <FlexSpace/>
                        <Button style="Ti.UI.iPhone.SystemButtonStyle.DONE">Send</Button>
                    </Items>
                </Toolbar>
            </KeyboardToolbar>
        	</TextField>
        	</HeaderView>
        </TableView>
    </Window>
</Alloy>

</pre></code>


3. Launch the app. Click on the TextFielfd to write.
4. The keyboard pops up and the application crushes

<h4>EXPECTED RESULT</h4>

Keyboard should open to enable writing in the TextField.

<h4>OBSERVED RESULT</h4>

After the Keyboard opens the application crashes.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17404_49607/.log">.log</td></td><td>2014-07-10T09:07:53.000+0000</td><td>1460086</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17404_49609/console.log">console.log</td></td><td>2014-07-10T09:08:02.000+0000</td><td>8077</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17404_49608/diagnostic119268309622987192.log">diagnostic119268309622987192.log</td></td><td>2014-07-10T09:08:00.000+0000</td><td>15646</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-17404_49610/index.xml">index.xml</td></td><td>2014-07-10T09:08:03.000+0000</td><td>479</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2014-07-28

   Thanks for your report! The Platform team will set the priority on this bug. </li>
<li>Jon Alter 2015-01-05

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6535" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6535</a>
   
   Test case (Same as above, but more simple)
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: 'white'
   });
   win.open();
   
   var textField = Ti.UI.createTextField({
       borderStyle: Ti.UI.INPUT_BORDERSTYLE_BEZEL,
       keyboardToolbarColor: "#999",
       keyboardToolbarHeight: "40",
       top: "10", height: "35", width: "300",
       value:"Focus to see keyboard with toolbar",
   });
   var table = Ti.UI.createTableView({
       headerView: textField
   });
   
   win.add(table);
   </pre></code></li>
<li>Vishal Duggal 2015-01-06

   Additional Test Case
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: 'white',
       orientationModes:[1,2,3,4]
   });
   win.open();
    
   var textField = Ti.UI.createTextField({
       borderStyle: Ti.UI.INPUT_BORDERSTYLE_BEZEL,
       keyboardToolbarColor: "#999",
       keyboardToolbarHeight: "40",
       top: "10", height: "35", width: "300",
       value:"Focus to see keyboard with toolbar",
   });
   
   var theHeader = Ti.UI.createLabel({
   	height:200,
   	width:Ti.UI.FILL,
   	text:'HEADER',
   	backgroundColor:'red'
   })
   
   var table = Ti.UI.createTableView({
   		headerView: theHeader,
       footerView: textField,
       height:200,
       borderWidth:1,
       borderColor:'black'
   });
    
   win.add(table);
   </pre></code></li>
<li>Vishal Duggal 2015-01-12

   PR merged</li>
<li>Ewan Harris 2015-01-19

   Verified fix on:
   
   Mac OSX 10.10.1
   Appcelerator Studio, build: 3.4.1.201410281743
   Titanium SDK build:  3.6.0.v20150119054128
   Titanium CLI, build: 3.4.1
   Alloy: 1.5.1
   Xcode 6.1.1
   iPhone 6 Plus (8.1.1), iPad Mini 2 (7.0.3)
   
   Using both the Alloy and classic code built to both devices, code no longer crashes when focusing on the textfield.
   
   Closing ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17404.json">JSON Source</a></p>