---
title: "[TIMOB-17426] iOS: ListView - a lot of items, changes others like clones"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-09-08T21:45:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.3, Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>TCSupport, android, cloned, ios, iphone, items, listview</td></tr>
<tr><th>Reporter</th><td>Tobias Høegh</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2014-07-17T11:05:46.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-24T17:13:18.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description </h4>
If you change an item, the change will be reflected on other items as well by error. 

<h4>Steps to reproduce</h4>
1. Create a new mobile app (classic titanium) 
2. Paste the testcode into the app.js 
<code><pre>
var win = Ti.UI.createWindow();

var myTemplate = {
	properties: {
		height: 50,
		accessoryType: Ti.UI.LIST_ACCESSORY_TYPE_NONE,
		selectionStyle: Ti.UI.iPhone.ListViewCellSelectionStyle.NONE,
	},
	childTemplates: [
		{
			type:'Ti.UI.View',
			bindId:'bindField',
			properties: {
				width:Ti.UI.FILL,
				backgroundColor: 'green',
			},
		},
	],
					
	events: {
		'click': function(e){
			// Ti.API.log(e);
			e.source.backgroundColor = e.source.backgroundColor=='green'?'red':'green';
		},
	},
	
};

var itemCount = 100;// Change this to 10 and the bug won't happen
var section = Ti.UI.createListSection();
var data = [], views;
for (var i=0;i&lt;itemCount;++i){
	data.push({
		template: 'myCell',
		properties: {
			itemId: 'id'+i,
		},
		bindField:{
		},
	});
}
section.setItems(data);

var listView = Ti.UI.createListView({
	top: 20,
	templates:{'myCell':myTemplate},
	sections:[section],
	// separatorStyle: Ti.UI.iPhone.ListViewSeparatorStyle.NONE,
	separatorInsets: {left:0, right:0},
});

win.add(listView);
win.open();
</pre></code>
3. Run the app and click on the second item. 
4. Scroll down and you will see that the second row of the next "page/screen" changed as well (like if they were clones)

Extra info:
If I set down itemCount = 10; then this behavior will not happen.

- Other examples here: <a href="http://developer.appcelerator.com/question/176217/did-someone-have-seen-this" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/176217/did-someone-have-seen-this</a>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17426_49861/Skjermbilde 2014-07-17 kl. 13.03.11.png">Skjermbilde 2014-07-17 kl. 13.03.11.png</td></td><td>2014-07-17T11:05:46.000+0000</td><td>31975</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17426_49862/Skjermbilde 2014-07-17 kl. 13.05.19.png">Skjermbilde 2014-07-17 kl. 13.05.19.png</td></td><td>2014-07-17T11:05:46.000+0000</td><td>28918</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2014-07-30

   Thanks for your report! Your testcase helped a lot to reproduce the issue! The Platform team will set the priority on this bug. </li>
<li>Shameer Jan 2014-08-14

   Issue reproduces 
   Titanium Command-Line Interface, 
   CLI version 3.3.0, 
   Titanium SDK version 3.3.0.GA 
   iOS SDK: 7.1 
   iOS iPhone Simulator: 7.1</li>
<li>Vishal Duggal 2014-09-08

   This line is the problem
   <code><pre>
   e.source.backgroundColor = e.source.backgroundColor=='green'?'red':'green';
   </pre></code>
   
   ListView is a data based API system, not a View based API system. So when you modify a view directly and not the data, we have no way to know. So when a cell gets reused we do not reset the property. You should be modifying the item instead. </li>
<li>Tobias Høegh 2014-09-09

   Thanks [~vduggal]. Sounds logical.
   For all who came over the same issue, this code is the way to go:
   <code><pre>
       events: {
           'click': function(e){
               var item = e.section.getItemAt(e.itemIndex);
               item.bindField.backgroundColor = item.bindField.backgroundColor == 'green'?'red':'green';
               e.section.updateItemAt(e.itemIndex, item), item = null;
           },
       },
   </pre></code></li>
<li>Lee Morris 2017-03-24

   Closing ticket as invalid with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17426.json">JSON Source</a></p>