---
title: "[TIMOB-17432] iOS: HTTPClient not fire onload onerror when set option async false"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2014-09-05T18:06:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SDK3.3.0</td></tr>
<tr><th>Reporter</th><td>Tadatoshi Hanazaki</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2014-07-18T15:55:55.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-20T22:25:07.000+0000</td></tr>
</table>

<h3>Description</h3>

It's seems to HTTPClient.open doesn't work when set async = false.

<code><pre>
var win = Ti.UI.createWindow({backgroundColor:'white'});

var button1 = Ti.UI.createButton({
    title:'GET async=false',
    top:'15%',
});
 
var button2 = Ti.UI.createButton({
    title:'GET async=true',
    top:'30%',
});
 
 
button1.addEventListener('click', function () {

    this.title = 'sending...';

	var onload = function(e) {
		Ti.API.debug('onload responseText='+this.responseText);
		button1.title = 'onload';  
	};

	var onerror = function(e) {
		button1.title = 'onerror';  
	};

	var _xhr = Ti.Network.createHTTPClient({
		onload: onload,
		onerror: onerror,
		cache: false
	});

	var url = '<a href="http://ip.jsontest.com/" rel="nofollow" target="_blank">http://ip.jsontest.com/</a>';
	_xhr.open('GET', url, false);
	_xhr.timeout = 5000;
	_xhr.send();

});

button2.addEventListener('click', function () {

    this.title = 'sending...';

	var onload = function(e) {
		Ti.API.info(String.format('onload e = %s', e||{}));
		Ti.API.debug('onload responseText='+this.responseText);
		button2.title = 'onload';  
	};

	var onerror = function(e) {
		Ti.API.error(String.format('error e = %s', e||{}));
		button2.title = 'onerror';  
	};

	var _xhr = Ti.Network.createHTTPClient({
		onload: onload,
		onerror: onerror,
		cache: false
	});

	var url = '<a href="http://ip.jsontest.com/" rel="nofollow" target="_blank">http://ip.jsontest.com/</a>';

	Ti.API.debug('url = '+url);
	_xhr.open('GET', url, true);
	_xhr.timeout = 5000;
	_xhr.send();

});

win.add( button1 );
win.add( button2 );

win.open();  
</pre></code>

Expected Result : when tap both button1 and button2 text should change to "onload" or "onerror".

Actual Result: only button2 works. button1 text stays "sending..."


<h3>Comments</h3>

<ol>
<li>Shuo Liang 2014-07-31

   Hi,
   
   Tested with your code. Can reproduce your problem on SDK 3.3.0.GA. But It works well in SDK 3.2.3GA. I will forward this ticket to our engineer team to get this fixed. Thanks
   
   Regards,
   Shuo</li>
<li>Pedro Enrique 2014-09-05

   </li>
<li>Lee Morris 2017-03-20

   Closing ticket as duplicate.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17432.json">JSON Source</a></p>