---
title: "[TIMOB-17439] Ti.UI.Animation with backgroundColor is not wokring"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>andorid, animation, backgroundColor, button, ios</td></tr>
<tr><th>Reporter</th><td>Manojkumar Murugesan</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-07-11T19:02:33.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:04:13.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
Ti.UI.animation with backgroundColor doesn't work with 3.3.0.  We tested this issue with our sample code. Its working well as we expected in Titanium SDK version 3.2.3 GA
but its not working in Titanium SDK version 3.3.0 RC.Itâ€™s a bug.
 
<h4>Testing Environment</h4>
Titanium SDK: 3.2.3.GA and 3.3.0.RC
Titanium CLI: 3.2.3
OS X Version: 10.9.3
IOS Simulator: 7.1
Android API Level: 17 and 19
 
<h4>TEST CODE</h4>
 
XML Markup
 <code><pre>
&lt;Alloy&gt;
&lt;Window class="container" id="win"&gt;
&lt;Button id="signinBtn" class="frmBtn" onClick="didClick"/&gt;
&lt;/Window&gt;
&lt;/Alloy&gt;
 </pre></code>
TSS
 <code><pre>
".container": {
backgroundColor: "white",
navBarHidden: "true"
},
".frmBtn":{
top: 30,
width: Ti.UI.FILL,
height: 50,
backgroundColor: "#3a97d4",
borderRadius: 15,
color: "#fff",
font: {
fontFamily: "SourceSansPro-Bold",
fontSize: 22
},
textAlign: "center"
},
".frmBtn[formFactor=tablet]":{
width: "40%"
},
".frmBtn[platform=ios]":{
style: Titanium.UI.iPhone.SystemButtonStyle.PLAIN
},
"#signinBtn":{
titleid: "login"
}
 </pre></code>
index.js(Controller)
<code><pre> 
$.win.open();
function didClick(e) {
var view = e.source;
//view.setBackgroundColor("red");
var animation = Titanium.UI.createAnimation();
animation.backgroundColor = 'black';
animation.duration = 1000;
var animationHandler = function() {
animation.removeEventListener('complete', animationHandler);
animation.backgroundColor = 'orange';
view.animate(animation);
};
animation.addEventListener('complete', animationHandler);
view.animate(animation);
console.log("signin");
}

</pre></code>
<h4>STEPS TO REPRODUCE:</h4>
a) Create a simple project.
b) Update this code in app.js
c) Run this with testing environment
 
<h4>TESTING RESULT(Titanium SDK: 3.3.0.RC):</h4>
In iOS : Nothing happens.Only show the Button.
 
In Android : The backgroundColor of the curved area (in TSS I have given a border Radius)
only changing and rest remains same. 


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17439_49666/Screenshot_2014-07-12-00-31-28.png">Screenshot_2014-07-12-00-31-28.png</td></td><td>2014-07-11T19:02:33.000+0000</td><td>21081</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2014-07-15

   Original reporter [~mano_mykingdom]. </li>
<li>Tim Poulsen 2014-07-31

   This is not an Alloy issue. The following Classic project demonstrates the same behavior. Both samples fail to animate the bg color if you use hex values rather than named strings.
   
   <code><pre>
   var win = Titanium.UI.createWindow({
       title:'Tab 1',
       backgroundColor:'#fff'
   });
   
   var btn = Ti.UI.createButton({
   	top: 30,
   	width: Ti.UI.FILL,
   	height: 50,
   	backgroundColor: "#3a97d4",
   	borderRadius: 15,
   	color: "#fff",
   	font: {
   		fontFamily: "SourceSansPro-Bold",
   		fontSize: 22
   	},
   	textAlign: "center",
   	title: 'login'
   });
   btn.addEventListener('click', didClick);
   win.add(btn);
   
   function didClick(e) {
   	var view = e.source;
   	//view.setBackgroundColor("red");
   	var animation = Titanium.UI.createAnimation();
   	animation.backgroundColor = 'black'; /*#000 also fails to work*/
   	animation.duration = 1000;
   	var animationHandler = function() {
   		animation.removeEventListener('complete', animationHandler);
   		animation.backgroundColor = 'orange';
   		view.animate(animation);
   	};
   	animation.addEventListener('complete', animationHandler);
   	view.animate(animation);
   	console.log("signin");
   }
   
   win.open();
   </pre></code>
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-17439.json">JSON Source</a></p>