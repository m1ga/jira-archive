---
title: "[TIMOB-17458] iOS: ApplicationSupportDirectory is not created when analytics are disabled"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-03-16T16:37:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ingo Muschenetz</td></tr>
<tr><th>Assignee</th><td>Pedro Enrique</td></tr>
<tr><th>Created</th><td>2014-08-06T00:10:30.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-23T22:26:28.000+0000</td></tr>
</table>

<h3>Description</h3>

Steps to reproduce:

<h4>Create a new Titanium application</h4>
<h4>Disable analytics is tiapp.xml</h4>
<h4>Attempt to write to the Ti.Filesystem.getApplicationSupportDirectory(). It will fail (as the directory does not exist).</h4>

Another way to confirm:

<code><pre>
var self = Ti.Filesystem.getApplicationSupportDirectory();
console.log(self);
[INFO]  file:///Users/stephenfeather/Library/Application%20Support/iPhone%20Simulator/7.1/Applications/1E1EB9EC-2997-4FD2-8618-41E5EA522A54/Library/Application%20Support/
</pre></code>

Immediate workaround is to create that folder manually, but it should be created automatically.


<h3>Comments</h3>

<ol>
<li>Ben Bahrenburg 2015-03-15

   PR provided to create directory after boot in TiApp 
   
   PR:  <a href="https://github.com/appcelerator/titanium_mobile/pull/6729" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6729</a>
   Test : <a href="https://gist.github.com/benbahrenburg/9adb20ded6e2fe218a11" rel="nofollow" target="_blank">https://gist.github.com/benbahrenburg/9adb20ded6e2fe218a11</a></li>
<li>Pedro Enrique 2015-03-16

   Test code:
   <code><pre>
   var dir = Ti.Filesystem.getApplicationSupportDirectory(); 
   console.log(dir); 
   var f = Titanium.Filesystem.getFile(Ti.Filesystem.applicationSupportDirectory);
   console.log('Directory Exists: '+ (f.exists() ? 'Yes' : 'No'));
   console.log('Needs to be yes to pass'));
    
   var testfile = Ti.Filesystem.getFile(Ti.Filesystem.applicationSupportDirectory, 'text.txt');
   if(testfile.exists()){
   	testfile.deleteFile();
   }
    
   testfile.write("text written via write()\n");
   console.log("Check file at:" + testfile.nativePath);
   console.log('content needs to be there to pass'));
   </pre></code>
   
   Steps to verify
    
   1. Create a new ti project
   2. Before compiling turn off analytics
   4. Create a new app and paste the code</li>
<li>Lee Morris 2017-03-23

   Closing as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17458.json">JSON Source</a></p>