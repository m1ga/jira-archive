---
title: "[TIMOB-17553] Android: showDatePickerDialog cancel property always false and callback called twice"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>Android, DatePicker, Picker, TCSupport</td></tr>
<tr><th>Reporter</th><td>Bar Bruy</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-07-31T11:31:09.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:04:22.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
On android the datepicker always returns "cancel:false" (if you cancel or accept)

If you press cancel (back button or press outside the modal popup)
the function callback gets called 1time

if you accept the date
the function callback gets called 2 times

<h4>Steps to reproduce</h4>
- Create a simple project.
- Paste the testcase into  app.js
- Run on android tab

<h4>Testcase</h4>
<code><pre>
var win = Ti.UI.createWindow({title:'test'});
win.open();
var picker = Ti.UI.createPicker({value : new Date(),type: Ti.UI.PICKER_TYPE_DATE});
var pickDateButton = Ti.UI.createButton({title:'pick a date'});
win.add(pickDateButton);
pickDateButton.addEventListener('click',function(){
    picker.showDatePickerDialog({
        value:new Date(),
        callback:function(e){
            Ti.API.info('picked date: '+JSON.stringify(e));
        }
    });
});
</pre></code>

<h4>Workaround</h4>
To avoid this bug I ignore the cancel property in the callback, and I check how many times the callback function gets executed. 


<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2014-08-26

   Thanks for your report! The Platform team will set the priority on this issue. </li>
</ol>


<p><a href="/TIMOB/TIMOB-17553.json">JSON Source</a></p>