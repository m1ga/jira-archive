---
title: "[TIMOB-17630] Animation based on opacity does not work properly for TabGroup"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2014-11-17T23:41:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.3.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>TCSupport, defect, ios, parity</td></tr>
<tr><th>Reporter</th><td>David He</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2014-08-22T01:31:00.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T19:11:49.000+0000</td></tr>
</table>

<h3>Description</h3>

Opacity is an undocumented feature in tabgroup. However, setting it to either 1 or 0 when creating tabgroup does make difference - make tabgroup either visible or invisible. When trying to animate the closing and opening of tabgroup, only fade-out effect which sets opacity value from 1 to 0 within the specified duration time. Fade-in effect which works the other way around does not work at all. I think it is a parity issue?

See the code snippet below
<code><pre>
var global = {};

var baseWin = Ti.UI.createWindow({
	title : "Main Window",
	backgroundColor : "green"
});

var button = Ti.UI.createButton({
	title : "Open TabGroup"
});

button.addEventListener("click", function() {
	global.tbg = buildTabGroup();

	fadeOut(baseWin, 2000, function() {
		showTbgWithoutAnimation(); // this works 
                // showTbgWithAnimation(); this does not work.
	});

});
baseWin.add(button);

function showTbgWithoutAnimation() {
	global.tbg.open();
}

function showTbgWithAnimation() {
	fadeIn(global.tbg, 2000, function() {
		global.tbg.open();
	});
}

function buildTabGroup() {
	var self = Ti.UI.createTabGroup({
		backgroundColor : "green",
		opacity : 1
	});
	var win1 = Ti.UI.createWindow(), win2 = Ti.UI.createWindow();
	var btn1 = Ti.UI.createButton({
		title : "close tbg"
	});

	btn1.addEventListener("click", function(e) {
		fadeOut(global.tbg, 2000, function() {
			global.tbg.close();
			fadeIn(baseWin, 2000, function() {
			});
		});
	});

	var tab1 = Ti.UI.createTab({
		title : L('home'),
		icon : '/images/KS_nav_ui.png',
		window : win1
	});
	win1.containingTab = tab1;
	var tab2 = Ti.UI.createTab({
		title : L('settings'),
		icon : '/images/KS_nav_views.png',
		window : win2
	});

	win1.add(btn1);
	win2.containingTab = tab2;
	self.addTab(tab1);
	self.addTab(tab2);

	return self;
}

function fadeIn(to, duration, finishCallback) {
	to.animate({
		opacity : 1,
		duration : duration
	}, finishCallback);
}

function fadeOut(to, duration, finishCallback) {
	to.animate({
		opacity : 0,
		duration : duration
	}, finishCallback);
}

baseWin.open();
</pre></code>

<h4>Note : To see the bug, comment in showTbgWithAnimation(); and set opacity of tabgroup to 0</h4>






<h3>Comments</h3>

<ol>
<li>David He 2014-10-17

   The problem is animation will not work on window and tabgroup before they are opened.
   Not sure if this is a bug or not.
   </li>
<li>David He 2014-11-17

   I reckon that behavior is correct. Please close this ticket
   
   Thanks</li>
<li>Ingo Muschenetz 2014-11-17

   Closing as invalid based on commenter's feedback.</li>
<li>Lee Morris 2017-03-21

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17630.json">JSON Source</a></p>