---
title: "[TIMOB-17657] iOS8: Map in a webview does not load"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-09-15T20:42:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.4.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios8, qe-3.4.0</td></tr>
<tr><th>Reporter</th><td>Satyam Sekhri</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2014-09-09T10:01:56.000+0000</td></tr>
<tr><th>Updated</th><td>2016-09-06T16:02:28.000+0000</td></tr>
</table>

<h3>Description</h3>

A Map inside a webview does not load on iOS 8 device.

The issue does not occur on iOS 7.

Steps to Reproduce:
1. Run the app with the code below

Actual Result:
The Map contents do not load. It shows the zoom in and zoom out button but the map remains blank. Also it does not prompt for permissions to use location services, as it does on iOS 7.

Expected Result:
The map on the webview should load successfully

<code><pre>
var _window = Ti.UI.createWindow({
	top : '20dp',
	width : Ti.UI.FILL,
	height : Ti.UI.FILL
});

_window.add(Ti.UI.createWebView({
	width : Ti.UI.FILL,
	height : Ti.UI.FILL,
	url : '<a href="http://leafletjs.com/examples/mobile-example.html" rel="nofollow" target="_blank">http://leafletjs.com/examples/mobile-example.html</a>'
	//url: '<a href="https://maps.google.com" rel="nofollow" target="_blank">https://maps.google.com</a>'
}));
_window.open();
</pre></code> 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17657_51263/Screen Shot 2014-09-15 at 1.30.42 PM.png">Screen Shot 2014-09-15 at 1.30.42 PM.png</td></td><td>2014-09-15T20:34:55.000+0000</td><td>622313</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Eric Merriman  2014-09-10

   [~ssekhri] I tried changing the url to the commented google maps. That works, and I got prompted for the permission with iOS 7 simulator. I tried hitting the leaflet.js map on my iPhone (iOS 7) with safari and it worked there. Perhaps there is something unique about their map implementation that is not working with our web view. I'll try the iOS 8 simulator to reproduce.
   </li>
<li>Olga Romero 2014-09-15

   Tested the above code with ti.map 2.0.3
   Mac osx 10.9.4 Maverics
   Appcelerator Studio, build: 3.4.0.201409131030
   Titanium SDK, build: 3.4.0.v20140915103316
   acs@1.0.16
   alloy 1.5.0-rc2
   install@0.1.7
   npm@1.4.23
   sudo@1.0.3
   titanium 3.4.0-rc3
   titanium-code-processor@1.1.1
   Xcode6
   Device: iPhone 5S iOS8
   
   Packaged the app for mobile web. Map loaded in device browser successfully after asking for permission. (screenshot)</li>
<li>Ingo Muschenetz 2014-09-15

   Marking as cannot reproduce based on latest tests.</li>
<li>Christoph Eck 2016-09-06

   *Hint*
   Does only work if you request for permission before you open the webview. I.e.
   
   <code><pre>
   var _window = Ti.UI.createWindow({
       width : Ti.UI.FILL,
       height : Ti.UI.FILL,
       top : '20dp',
   });
   _window.add(Ti.UI.createWebView({
       width : Ti.UI.FILL,
       height : Ti.UI.FILL,
       url : '<a href="https://maps.google.com" rel="nofollow" target="_blank">https://maps.google.com</a>'
   }));
   // in tiapp.xml set the correction permissions for iOS and Android too
   Ti.Geolocation.requestLocationPermissions(Ti.Geolocation.AUTHORIZATION_ALWAYS, function(e) {
       if (e.success) {
           _window.open();
           return;
       } else {
           Ti.API.info('denied');
           return;
       }
   });
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-17657.json">JSON Source</a></p>