---
title: "[TIMOB-17670] iOS8: DocumentViewer not displaying PDF files"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-09-26T20:35:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.2, Release 3.2.3, Release 3.3.0, Release 3.4.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.0, Release 3.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-automatedtest, supportTeam</td></tr>
<tr><th>Reporter</th><td>Marco Cota</td></tr>
<tr><th>Assignee</th><td>Chee Kiat Ng</td></tr>
<tr><th>Created</th><td>2014-09-10T14:15:48.000+0000</td></tr>
<tr><th>Updated</th><td>2015-01-09T17:24:08.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>

Using DocumentViewer on iOS 8 is not rendering PDF files.

<h4>Steps to repro</h4>

1. Run test case  (test.zip)
2. Click on Launch Doc button
3. On the navigation bar press the done button
4. Click on Launch PDF button

<h4>Expected result:</h4>

After clicking on Launch Doc button the .docx file is rendered in the DocumentViewer and after clicking on Launch PDF button the .pdf file is also  shown in the DocumentViewer.

<h4>Actual result:</h4>

After clicking on Launch Doc button the .docx file is rendered in the DocumentViewer and after clicking on Launch PDF button the .pdf file is not being shown by the DocumentViewer.

<h4>Sample code</h4>

<code><pre>
var win = Ti.UI.createWindow(); 
// Use a NavigationWindow to create a navigation bar for the window 
var navWin = Ti.UI.iOS.createNavigationWindow({window: win}); 

var navButton = Titanium.UI.createButton({title:'Launch'}); 
win.RightNavButton = navButton; 

var docButton = Titanium.UI.createButton({ 
title:'Launch Doc', 
height:40, 
width:200, 
top:230 
}); 
win.add(docButton); 

var pdfButton = Titanium.UI.createButton({ 
title:'Launch PDF', 
height:40, 
width:200, 
top:280 
}); 
win.add(pdfButton); 

// Create a document viewer to preview a PDF file 
docViewer = Ti.UI.iOS.createDocumentViewer(); 
// Opens the options menu and when the user clicks on 'Quick Look' 
// the document viewer launches with an animated transition 
navButton.addEventListener('click', function(){ 
	docViewer.show({view:navButton, animated: true}); 
}); 
// The document viewer immediately launches without an animation 
docButton.addEventListener('click', function(){
	docViewer.url = 'test1.docx';
	docViewer.show();
	}); 
pdfButton.addEventListener('click', function(){
	docViewer.url = 'test.pdf';
	docViewer.show();
	}); 

navWin.open();
</pre></code>

<h4>Additional info</h4>

There are reports of this happening on native also apparently related to changes in how to call the UIDocumentInteractionController

<a href="http://stackoverflow.com/questions/25430069/uidocumentinteractioncontroller-displaying-blank-pdf" rel="nofollow" target="_blank">http://stackoverflow.com/questions/25430069/uidocumentinteractioncontroller-displaying-blank-pdf</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17670_51117/test.zip">test.zip</td></td><td>2014-09-10T14:15:48.000+0000</td><td>3933607</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-09-12

   I believe this is this line: <a href="https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/TiUIiOSDocumentViewerProxy.m#L28" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/TiUIiOSDocumentViewerProxy.m#L28</a>, but that looks similar to the corrected version in the SO post.</li>
<li>Chee Kiat Ng 2014-09-12

   reproduced problem on iOS7 as well.</li>
<li>Chee Kiat Ng 2014-09-12

   When trying to change url in a document viewer instance, it sometimes doesn't load the respective document in url.
   Reason is because we are using UIDocumentInteractionController, which according to Apple API documents, is supposed to be a preview controller, and recommended to initialize an instance for every different file previewed.
   Bug solved by creating new instance every time url is changed for document view.</li>
<li>Chee Kiat Ng 2014-09-12

   PR here <a href="https://github.com/appcelerator/titanium_mobile/pull/6062" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6062</a></li>
<li>Chee Kiat Ng 2014-09-12

   backport PR here <a href="https://github.com/appcelerator/titanium_mobile/pull/6064" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6064</a></li>
<li>Olga Romero 2014-09-12

   Tested and verified Document Viewer is displaying PDF files.
   Environment
   Mac osx 10.9.4 Maverics
   Appcelerator Studio, build: 3.4.0.201409112242
   Titanium SDK, build: 3.4.0.v20140912160914
   acs@1.0.16
   alloy 1.5.0-rc
   install@0.1.7
   npm@1.4.23
   sudo@1.0.3
   titanium 3.4.0-rc2
   titanium-code-processor@1.1.1
   Xcode6
   Device: iPhone 5S iOS8
   </li>
<li>Olga Romero 2014-09-15

   reopened to change  details</li>
</ol>


<p><a href="/TIMOB/TIMOB-17670.json">JSON Source</a></p>