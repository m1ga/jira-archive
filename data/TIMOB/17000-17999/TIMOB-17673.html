---
title: "[TIMOB-17673] Animation duration is ignored if property is same as currently applied"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Matthew Congrove</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-09-10T18:49:35.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:03:24.000+0000</td></tr>
</table>

<h3>Description</h3>

If an animation is trying to change a property to what is already applied (e.g. view has width of 1px, animation is setting to 1px), then the completion event is immediately fired, ignoring the animation duration.

To see this in action, run the code below. You'll see that for the first animation you get the console output one time; 2 seconds later, a flurry of console items appear.

This is problematic, as if you assume the complete event will not fire until after the duration has elapsed, this could lead to circumstances which cripple a running application.

<code><pre>
<Alloy>
	<Window id="win">
		<View id="container"></View>
	</Window>
</Alloy>
</pre></code>

<code><pre>
"#win": {
	width: Ti.UI.FILL,
	height: Ti.UI.FILL,
	backgroundColor: "#000"
},
"#container": {
	width: Ti.UI.FILL,
	height: Ti.UI.FILL,
	backgroundColor: "#FFF"
}
</pre></code>

<code><pre>
function animateView() {
	Ti.API.error("Running animateView");
	
	var anim = Ti.UI.createAnimation({
		width: 1,
		duration: 2000
	});
	
	anim.addEventListener("complete", function() {
		gradient();
	});
	
	$.container.animate(anim);
}

$.win.addEventListener("open", animateView);

$.win.open();
</pre></code>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-17673.json">JSON Source</a></p>