---
title: "[TIMOB-17688] iOS8: Add ability to request Geo Location Permission"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-09-26T18:40:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.0, Release 3.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>IOS8, ios</td></tr>
<tr><th>Reporter</th><td>Ben Bahrenburg</td></tr>
<tr><th>Assignee</th><td>Pedro Enrique</td></tr>
<tr><th>Created</th><td>2014-09-14T01:24:07.000+0000</td></tr>
<tr><th>Updated</th><td>2014-11-21T20:25:24.000+0000</td></tr>
</table>

<h3>Description</h3>

With iOS8 now there is the need to request specific geo location permissions.

The PR for this method is here <a href="https://github.com/appcelerator/titanium_mobile/pull/6073" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6073</a>

How to test this can be found here <a href="https://gist.github.com/benbahrenburg/4bcda636397cb095025f" rel="nofollow" target="_blank">https://gist.github.com/benbahrenburg/4bcda636397cb095025f</a>

The API for this is pretty simple
<code><pre>
Ti.Geolocation.requestAuthorization(Ti.Geolocation.AUTHORIZATION_ALWAYS);
</pre></code>
or
<code><pre>
Ti.Geolocation.requestAuthorization(Ti.Geolocation.AUTHORIZATION_WHEN_IN_USE);
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17688_51415/Screen Shot 2014-09-18 at 11.15.37 AM.png">Screen Shot 2014-09-18 at 11.15.37 AM.png</td></td><td>2014-09-18T18:21:55.000+0000</td><td>58892</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-09-14

   [~penrique] FYI</li>
<li>Pedro Enrique 2014-09-15

   New PR, contains Ben's work plus some minor indentation fixes: <a href="https://github.com/appcelerator/titanium_mobile/pull/6082/" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6082/</a></li>
<li>Pedro Enrique 2014-09-15

   Backport to 3.4.x <a href="https://github.com/appcelerator/titanium_mobile/pull/6086" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6086</a></li>
<li>Chee Kiat Ng 2014-09-16

   FR pass, both PRs merged</li>
<li>Ingo Muschenetz 2014-09-16

   [~cng] Make sure to remove the merge-3.4.0 label and add the "Release 3.4.0" fix version (in the future).</li>
<li>Olga Romero 2014-09-18

   </li>
<li>Mark Mokryn 2014-10-15

   Seeing a problem with this when the app is backgrounded:
   1. App starts, dialog pops up asking "Allow myapp to access your location while you use the app?" (Don't Allow/Allow)
   2. Click screen lock or wait until it locks
   3. Unlock the screen
   4. The geolocation authorization dialog is gone, geolocation events don't fire
   
   Any ideas how to deal with this?
   
   Thanks</li>
<li>Mark Mokryn 2014-10-15

   The above comment applies to iOS 8 simulator and device. iOS 7 simulator works fine - the dialog is there after screen unlock.</li>
<li>Mark Mokryn 2014-10-15

   Update: this appears to be horrendous new behavior under iOS 8...... The Google Maps app also doesn't show the permission dialog after a screen lock.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17688.json">JSON Source</a></p>