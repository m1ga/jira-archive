---
title: "[TIMOB-17699] CLI: Running "ti build -p iOS -T simulator --no-prompt" command outside project directory throws error 'cannot read property deployment-targets of undefined'."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-09-26T23:37:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.4.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.0, Release 3.5.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>qe-3.4.0, regression</td></tr>
<tr><th>Reporter</th><td>Khushbu Agrawal</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-09-16T04:43:18.000+0000</td></tr>
<tr><th>Updated</th><td>2014-11-21T20:26:20.000+0000</td></tr>
</table>

<h3>Description</h3>



<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-09-16

   I'm not sure the the original error message is correct either. Instead, I would suggest something like "Current directory is not a valid titanium project"</li>
<li>Ewan Harris 2014-09-16

   Unable to reproduce issue on:
   
   Mac OSX 10.9.4
   Appcelerator Studio, build: 3.4.0.201409131030
   Titanium SDK build:    3.4.0.v20140916124916 
   Titanium CLI, build: 3.4.0-rc3
   Alloy: 1.5.0-rc2
   Xcode6 GM Seed
   
   Created a new project and when not in the project directory attempted to build to an iOS simulator using the command *ti build -p ios -T simulator --no-prompt*. The build failed and the error below was printed out in the terminal.
   
   <code><pre>
   [ERROR] Invalid "--project-dir" value "."
   
   [ERROR] Missing required option: --device-id &lt;udid&gt;
   </pre></code></li>
<li>Khushbu Agrawal 2014-09-17

   </li>
<li>Chris Barber 2014-09-17

   Note: A) this is an iOS related issue and B) you must have ios.autoSelectDevice set to true (which is the default).</li>
<li>Khushbu Agrawal 2014-09-17

   Noted, I have set ios.autoSelectDevice to true.</li>
<li>Chris Barber 2014-09-17

   Master: <a href="https://github.com/appcelerator/titanium_mobile/pull/6112" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6112</a>
   3_4_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/6113" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6113</a></li>
<li>Khushbu Agrawal 2014-09-19

   Tested on: 
   1. Mac OSX 10.9.4 
   2. Appcelerator Studio, build: 3.4.0.201409161950
   3. Titanium SDK, build: 3.4.0.v20140918202513
   4. Titanium CLI, build: 3.4.0-rc4
   5. Alloy: 1.5.0-rc2
   6. Xcode 6 GM seed
   7. iOS SDK 8.0
   
   Its workings as expected showing below error message.
   
   [ERROR] Invalid "--project-dir" value "."</li>
<li>Chris Barber 2014-09-26

   Reopening to set story points.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17699.json">JSON Source</a></p>