---
title: "[TIMOB-17754] Android: Throw an event after each AJAX call inside a webview"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-01-08T23:27:59.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.3.0, Release 3.4.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_webview, qe-manualtest</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2014-09-24T19:28:11.000+0000</td></tr>
<tr><th>Updated</th><td>2015-05-29T02:53:09.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
The user wants to sync a ecommerce's cart inside a webview with a view showing the number of items in the cart in the app. 

Therefore, he wants to have an event in the webview that throws an event when the cart is updated via AJAX. 

<h4>Extra information</h4>
We did some research, and we found some info that could be useful. 

<a href="http://developer.android.com/reference/android/webkit/WebViewClient.html" rel="nofollow" target="_blank">http://developer.android.com/reference/android/webkit/WebViewClient.html</a> 

And this method

public WebResourceResponse shouldInterceptRequest (WebView view, String url) 

StackOverFlow mentioned that method as a way to catch ajax calls:
<a href="http://stackoverflow.com/questions/3941969/android-intercept-ajax-call-from-webview" rel="nofollow" target="_blank">http://stackoverflow.com/questions/3941969/android-intercept-ajax-call-from-webview</a> 

 

<h3>Comments</h3>

<ol>
<li>Ashraf Abu 2014-12-30

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6528" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6528</a>
   
   Do test it out with the site with the AJAX call. 
   
   onLoadResource is available on all Android API level. 
   
   shouldInterceptRequest is only available on API level 11 aka Honeycomb devices. If used on Gingerbread (level 10), it won't be available. 
   
   <code><pre>
   var win = Ti.UI.createWindow();
   //Replace weblink here with ajax site
   var webview = Titanium.UI.createWebView({url:'<a href="http://ajaxtoolbox.com/request/examples.php" rel="nofollow" target="_blank">http://ajaxtoolbox.com/request/examples.php</a>'});
   
   webview.addEventListener('onLoadResource', function(e) {
   Ti.API.info("onLoadResource Event Listener "+ e.url);
   });
   
   win.add(webview);
   win.open();
   </pre></code></li>
<li>Kajenthiran Velummaylum 2015-02-16

   Tested onLoadResource event on WebView.
   
   Titanium SDK: 4.0.0.v20150205163226
   Appc-Studio:  4.0.0.201502111458
   Titanium CLI: 3.6.0-dev
   Alloy : 1.5.1 GA
   OS: OSX 10.10.1
   Device : Galaxy S5 (v4.4.2)</li>
</ol>


<p><a href="/TIMOB/TIMOB-17754.json">JSON Source</a></p>