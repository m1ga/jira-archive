---
title: "[TIMOB-17813] Android: App fails to install for any Android version other than 5.0 with 3.4.1.v20141001062512"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-11-12T18:15:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.4.1, Release 3.4.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.1, Release 3.4.2, Release 3.5.0, Release 4.0.0</td></tr>
<tr><th>Components</th><td>Android, CLI</td></tr>
<tr><th>Labels</th><td>module_android_tooling_smoke, qe-3.4.1, qe-manualtest, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-10-01T18:22:03.000+0000</td></tr>
<tr><th>Updated</th><td>2014-11-21T18:51:19.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Our CLI automation tests caught this issue. Pretty neat. </h4>

<h4>Its confusing if its a regression as we never had android L support in 3.4.0.GA so can't call this technically a regression.</h4>

<h4>Description:</h4>
1. Install SDK 3.4.1.v20141001062512.
2. Create a default app in studio.
3. Build for android emulator or device using studio/CLI.

<h4>Actual Result:</h4>
1. The app fails to install and gives error:
On device:
<code><pre>
[ERROR] :  Failed to install apk on "02a31fff08e473f1"
[ERROR] Application Installer abnormal process termination. Process exit value was 1
[ERROR] Application Installer abnormal process termination. Process exit value was 1
</pre></code>

On emulator:
<code><pre>
[ERROR] :  Error: INSTALL_FAILED_OLDER_SDK
[ERROR] Application Installer abnormal process termination. Process exit value was 1
</pre></code>

2. On looking at the android manifest in the build folder we see:
<code><pre>
&lt;uses-sdk android:minSdkVersion="10" android:targetSdkVersion="L"/&gt;
</pre></code>
which means when the target sdk version is L it fails.

3. I tried by adding 
<code><pre>
&lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
    &lt;manifest&gt;
        &lt;uses-sdk android:minSdkVersion="10" android:targetSdkVersion="19"/&gt;
    &lt;/manifest&gt;
&lt;/android&gt;
</pre></code>
to the tiapp.xml & the app installed without any issues.

4. Installing the app on android L preview device/emulator works fine out of the box.

<h4>Expected Result:</h4>
1. The app should install on the device/emulator successfully.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2014-10-08

   Master: <a href="https://github.com/appcelerator/titanium_mobile/pull/6206" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6206</a>
   
   To test:
   1) install Android L SDK
   2) create an Android emulator that is older than Android L such as 4.4.2
   3) create an app
   4) do NOT set a "tool-api-level" or <uses-sdk> in the tiapp.xml or custom AndroidManifest.xml
   5) build for Android and select your old emulator
   6) the generated build/android/AndroidManifest.xml should have a targetSDK of "20" and not "L"</li>
<li>Chris Barber 2014-10-15

   3_4_X backport: <a href="https://github.com/appcelerator/titanium_mobile/pull/6225" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6225</a></li>
<li>Chris Barber 2014-10-28

   3_4_1: <a href="https://github.com/appcelerator/titanium_mobile/pull/6278" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6278</a></li>
<li>Lokesh Choudhary 2014-10-28

   Verified the fix. We can install app on android version's other than android 5.0 too.
   
   Closing.
   
   Environment:
   Appc Studio : 3.4.1.201410191611
   Ti SDK :  3.4.1.v20141028135549, 3.4.2.v20141028134735, 3.5.0.v20141028132516
   Mac OSX : 10.9.4
   Alloy : 1.5.1
   CLI - 3.4.1-dev
   Code Processor: 1.1.1
   Sony Xperia : android 2.3.7
   Samsung Galaxy S4 : android 4.4.2</li>
<li>Lokesh Choudhary 2014-10-28

   Editing comment</li>
<li>Lokesh Choudhary 2014-11-12

   adding affects version label</li>
</ol>


<p><a href="/TIMOB/TIMOB-17813.json">JSON Source</a></p>