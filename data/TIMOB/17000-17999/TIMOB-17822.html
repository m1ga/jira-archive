---
title: "[TIMOB-17822] CLI: Update node-appc to latest version to address timodule caching"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-11-05T21:17:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.0.0</td></tr>
<tr><th>Components</th><td>CLI, Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-10-06T22:45:01.000+0000</td></tr>
<tr><th>Updated</th><td>2015-03-19T23:12:37.000+0000</td></tr>
</table>

<h3>Description</h3>

There were some fixes in node-appc's timodule library to address module detection caching.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2014-10-06

   Master: <a href="https://github.com/appcelerator/titanium_mobile/pull/6201" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6201</a>
   
   To test:
   1) create an app that uses modules
   2) verify that the correct modules were found
   
   You do not need to do a full build... just look at the output right at the top of a build.</li>
<li>Tim Poulsen 2014-10-09

   Doesn't work for me. App using ti.map won't build with the following output:
   <code><pre>
   [DEBUG] Detected iphone module: ti.map 2.0.0 @ /Library/Application Support/Titanium/modules/iphone/ti.map/2.0.0
   [DEBUG] Detected iphone module: ti.map 2.0.1 @ /Library/Application Support/Titanium/modules/iphone/ti.map/2.0.1
   [DEBUG] Detected iphone module: ti.map 2.0.2 @ /Library/Application Support/Titanium/modules/iphone/ti.map/2.0.2
   [DEBUG] Detected tizen module: tizen 3.0.0 @ /Library/Application Support/Titanium/modules/tizen/tizen/3.0.0
   [DEBUG] Looking for Titanium module id=ti.map version=latest platform=iphone deploy-type=development
   [WARN]  Could not find a valid Titanium module id=ti.map version=latest platform=iphone deploy-type=development
   [ERROR] Could not find all required Titanium Modules:
   [ERROR]    id: ti.map	 version: latest	 platform: iphone	 deploy-type: development
    
   </pre></code>
   
   In /Library/Application Support/Titanium/modules/iphone/ti.map/  I have versions 2.0.0, 2.0.1, and 2.0.2. 
   
   In ~/Library/Application Support/Titanium/modules/iphone/ti.map/ I have version 2.0.2 and 2.0.4 (which is the version created by this 3.5.0 build)
   </li>
<li>Chris Barber 2014-10-13

   [~skypanther] PR updated and ready for testing. Thank you!</li>
<li>Tim Poulsen 2014-10-14

   [~cbarber] The new PR builds & finds the c2.0.2 map module in /Library/Application Support/Titanium/modules/iphone/ti.map/
   
   But it doesn't find the newer version 2.0.4 in ~/Library/Application Support/Titanium/modules/iphone/ti.map/
   
   Per <a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/guide/Using_a_Module both locations should be valid, though the latter is preferred for newer OSX versions.</li>
<li>Chris Barber 2014-11-05

   Small node-appc fix: <a href="https://github.com/appcelerator/node-appc/pull/98" rel="nofollow" target="_blank">https://github.com/appcelerator/node-appc/pull/98</a></li>
<li>Tim Poulsen 2014-11-05

   That fixed it! PR merged</li>
<li>Lokesh Choudhary 2015-03-19

   Verified the implementation. CLI picks up the latest module & no caching issue is seen.
   Closing.
   
   Environment:
   Appc Studio : 3.5.1.201412091616
   Ti SDK : 4.0.0.v20150317234215
   CLI : 4.0.0-alpha
   Alloy : 1.6.0-alpha
   MAC Yosemite : 10.10.2
   Nexus 5 - Android 5.1
   Iphone 6 plus - IOS 8.3 Beta</li>
</ol>


<p><a href="/TIMOB/TIMOB-17822.json">JSON Source</a></p>