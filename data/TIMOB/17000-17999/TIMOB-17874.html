---
title: "[TIMOB-17874] Android 5.0: Improve CLI support"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-11-10T21:15:59.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.1, Release 3.4.2, Release 3.5.0, Release 4.0.0</td></tr>
<tr><th>Components</th><td>Android, Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-10-17T23:56:09.000+0000</td></tr>
<tr><th>Updated</th><td>2014-11-21T18:38:03.000+0000</td></tr>
</table>

<h3>Description</h3>

The Android build does not properly convert the Android SDK L from the codename "L" to the version "20" which is causing emulator builds to fail saying the sdk is too old.

Furthermore, the sorting of the Android SDKs is flawed and doesn't properly order SDKs based on the version. Instead it incorrectly uses the codename.

Lastly, the vendor dependency versions needs to be bumped to add support for Android SDK 21 and Android Build & Platform Tools v21.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2014-10-17

   Master: <a href="https://github.com/appcelerator/titanium_mobile/pull/6233" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6233</a>
   3_4_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/6234" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6234</a></li>
<li>Ingo Muschenetz 2014-10-20

   [~cb1kenobi] could you please provide a build for Lokesh?</li>
<li>Chris Barber 2014-10-28

   3_4_1: <a href="https://github.com/appcelerator/titanium_mobile/pull/6278" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6278</a></li>
<li>Tim Poulsen 2014-10-28

   Works for me using API 21 / Android 5.0. PR merged.</li>
<li>Ingo Muschenetz 2014-10-28

   Note--we have not yet merged 3.4.2.</li>
<li>Lokesh Choudhary 2014-10-28

   Verified the fix on 3.4.1 only, as the fix has not been merged in 3.4.2 & master yet.
   CLI sorting of the android sdk works fine & apps now build with default targetSDk version 21. 
   
   The 2 linked tickets are still open. 
   
   Environment:
   Appc Studio : 3.4.1.201410191611
   Ti SDK :  3.4.1.v20141028135549
   Mac OSX : 10.9.4
   Alloy : 1.5.1
   CLI - 3.4.1-dev
   Code Processor: 1.1.1
   Nexus 5 - android 5.0 preview
   Galaxy S4 - android 4.4.2
   
    </li>
<li>Lokesh Choudhary 2014-10-31

   Closing others open tickets are related tickets.</li>
<li>Lokesh Choudhary 2014-10-31

   reopening to add tester</li>
</ol>


<p><a href="/TIMOB/TIMOB-17874.json">JSON Source</a></p>