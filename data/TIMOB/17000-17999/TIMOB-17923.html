---
title: "[TIMOB-17923] iOS: Complex non-composite layouts show before lay-out since 3.3.0"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-11-24T23:57:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.5.0, Release 4.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>horizontal, layout, regression, vertical</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2014-10-27T14:00:13.000+0000</td></tr>
<tr><th>Updated</th><td>2014-12-01T22:05:32.000+0000</td></tr>
</table>

<h3>Description</h3>

A few weeks ago I started noticing that a lot of apps where I used complex <code>horizontal</code> and <code>vertical</code> layouts were showing their children before they were layed out. I made a simple test case that showed this has been the case since 3.3.0 and is not related to iOS 8 which I first assumed.

*NOTE:* In some occasions I've (as well as Jason) have seen the children not being layed out at all!

<h4>Test case</h4>
Run the following test case again Titanium 3.3.0.GA or later:

<code><pre>
var win = Ti.UI.createWindow({
  backgroundColor: 'white'
});

win.add(Ti.UI.createLabel({
  text: 'Click'
}));

win.addEventListener('click', function(e) {

  var win = Ti.UI.createWindow({
    backgroundColor: 'red',
    layout: 'vertical',
  });

  win.addEventListener('click', function(e) {
    win.close();
  });

  for (var i = 0; i &lt; 500; i++) {
    win.add(Ti.UI.createLabel({
      top: (i === 0) ? 20 : 0,
      color: 'white',
      text: 'Line #' + (i + 1)
    }));
  }

  win.open();

});

win.open();
</pre></code>

<h4>Attached videos</h4>
The movies I recorded show clearly that the children show center-top (except the first label which has <code>top:20</code> before being layed out at their proper place.

Before Titanium 3.3.x the children views didn't show up until they were layed out, which of course looks better.

- <code>323-710.mov</code> Titanium 3.2.3 & iOS 7.1 (vertical) (/)
- <code>330-710.mov</code> Titanium 3.3.0 & iOS 7.1 (vertical) (x)
- <code>330-710-horizontal.mov</code> Titanium 3.3.0 & iOS 7.1 (horizontal) (x)
- <code>340-810.mov</code> Titanium 3.4.0 & iOS 8.1 (vertical) (x)


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17923_52183/323-710.mov">323-710.mov</td></td><td>2014-10-27T14:00:13.000+0000</td><td>249271</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17923_52184/330-710.mov">330-710.mov</td></td><td>2014-10-27T14:00:13.000+0000</td><td>393144</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17923_52185/330-710-horizontal.mov">330-710-horizontal.mov</td></td><td>2014-10-27T14:00:13.000+0000</td><td>507790</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17923_52186/340-810.mov">340-810.mov</td></td><td>2014-10-27T14:00:13.000+0000</td><td>574757</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ivan Skugor 2014-10-28

   Workaround is to set window's content visible property to false prior to window opening and then in window "open" event listener set it back to true.
   
   
   It looks ok, but it's not perfect solution since there's delay in showing content, but at least content doesn't look awful while window is opening.</li>
<li>Vishal Duggal 2014-11-24

   Pull pending
   master - <a href="https://github.com/appcelerator/titanium_mobile/pull/6387" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6387</a>
   3_5_X - <a href="https://github.com/appcelerator/titanium_mobile/pull/6388" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6388</a></li>
<li>Ewan Harris 2014-12-01

   Verified fix on:
   
   Mac OSX 10.10.1
   Appcelerator Studio, build: 3.4.1.201410281743
   Titanium SDK build:  3.5.0.v20141125154115,  3.6.0.v20141201111717
   Titanium CLI, build: 3.4.1
   Alloy: 1.5.1
   Xcode 6.2 beta
   iPhone 6 Plus (8.1.1), iPad Retina 2 (8.1.1), iPhone Simulator (8.2)
   
   Using the attached code ran on the above devices, behavior now matches the expected and the children are not shown before they are laid out.
   
   Closing ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-17923.json">JSON Source</a></p>