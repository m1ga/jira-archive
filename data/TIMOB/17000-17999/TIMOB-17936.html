---
title: "[TIMOB-17936] Implement onLoadResource event for Android WebViews"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.4.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>TCSupportTriage, android, triageSupport, webview</td></tr>
<tr><th>Reporter</th><td>Marcel Pociot</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-07-14T11:20:27.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:03:46.000+0000</td></tr>
</table>

<h3>Description</h3>

The TiWebviewClient.java overrides the "onPageStarted" method to trigger the "beforeload" event.
As the Android API states: 
bq. This method is called once for each main frame load so a page with iframes or framesets will call onPageStarted one time for the main frame.

This means, that the method won't get triggered, when a URL inside an iFrame/Frame changes. 

Implementing an "onLoadResource" function and triggering a new "beforeresourceload" event would solve this issue.

The problem does not exist on iOS devices, as the event gets triggered with iFrames as well.

<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2014-07-24

   Hello Marcel, 
   can you please provide a testcase that shows the issue? 
   
   Best Regards,
   Mauro </li>
<li>Marcel Pociot 2014-08-28

   Hi Mauro,
   
   sorry for the late reply. Haven't seen your response.
   
   I created a gist demonstrating the issue:
   <a href="https://gist.github.com/mpociot/9d95def1037fd1d83b42" rel="nofollow" target="_blank">https://gist.github.com/mpociot/9d95def1037fd1d83b42</a>
   
   When clicking the link in the webview iOS fires the "beforeload" event.
   Android doesn't.
   
   I could also provide a PR if you want.
   
   Regards,
   Marcel</li>
<li>Marcel Pociot 2014-09-03

   Here's my PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6011" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6011</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-17936.json">JSON Source</a></p>