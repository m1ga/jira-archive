---
title: "[TIMOB-17946] Android Module: Fails to Build with 3.4.0.GA TiSDK"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-11-04T19:23:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.4.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.1, Release 3.4.2, Release 3.5.0, Release 4.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2014-10-31T23:31:17.000+0000</td></tr>
<tr><th>Updated</th><td>2014-11-21T18:35:40.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue description</h4>
Calling Native Extensions (which are effectively native Ti Modules) that are build and then added to a Titanium app as modules. It fails to build on 3.4.0.GA although works on 3.3.0.GA (logs per each SDK attached). The example is a Hello World Module. 

<h4>Steps to replicate</h4>
<h4>Unzip the attached module </h4>
<h4>set its build properties as I outlined above so that it uses the following: </h4>
<h4>3.3.0.GA, Android/Google 14 SDK, r8d NDK. </h4>
<h4>Run the command, "ant dist" </h4>
<h4>Notice that the build is Successful (Logs attached)</h4>
<h4>Change the TiSDK to 3.4.0.GA </h4>
<h4>Run the command, "ant dist" </h4>
<h4>Notice that the build fails (Logs attached)</h4>
<h4>Change the TiSDK back to 3.3.0.GA </h4>

Changing the NDK to r9 as recommended does not address the issue either. 
 <a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/guide/Installing_the_Android_NDK 

We cannot seem to build this module with the 3.4.0.GA TiSDK, I've tried all sorts of combos, any ideas why we cannot build the module with for example the r8d, or r9 NDK, the 3.4.0.GA TiSDK and the Android-18 and Google-18 APIs. Thats seems like the combo we want but its not working. 

<h4>Combos Tried: </h4>
<h4>3.5.0 CI</h4>
{quote}
|TISDK|NDK|Android SDK & Google APIs|SUCCESS| 
|3.5.0.v20141028174916| r8d| 14 | No 
|3.5.0.v20141028174916| r9| 14 | No 
|3.5.0.v20141028174916| r8d| 18 | No 
|3.5.0.v20141028174916| r9| 18 | No 
{quote}

<h4>3.4.2</h4>
{quote}
|TISDK|NDK|Android SDK & Google APIs|SUCCESS| 
|3.4.2.v20141028145714| r8d| 14 | No 
|3.4.2.v20141028145714| r9| 14 | No 
|3.4.2.v20141028145714| r8d| 18 | No 
|3.4.2.v20141028145714| r9| 18 | No 
{quote}

<h4>3.4.0.GA</h4>
{quote}
|TISDK|NDK|Android SDK & Google APIs|SUCCESS| 
|3.4.0.GA| r8d| 14 | No 
|3.4.0.GA| r9| 14 | No 
|3.4.0.GA| r8d| 18 | No 
|3.4.0.GA| r9| 18 | No 
{quote}

<h4>3.3.0.GA</h4>
{quote}
|TISDK|NDK|Android SDK & Google APIs|SUCCESS| 
|3.3.0.GA| r8d| 14 | YES 
|3.3.0.GA| r9| 14 | YES 
|3.3.0.GA| r8d| 18 | YES 
|3.3.0.GA| r9| 18 | YES 
{quote}

These are the following build.properties: 

<code><pre>
titanium.platform=/Users/egomez/Library/Application Support/Titanium/mobilesdk/osx/3.3.0.GA/android
android.platform=/Users/egomez/android-sdks/platforms/android-14
google.apis=/Users/egomez/android-sdks/add-ons/addon-google_apis-google-14
android.sdk=/Users/egomez/android-sdks
android.ndk=/Users/egomez/android-ndk-r8
</pre></code>

<h4>NDKs</h4>
r8d NDK: <a href="http://dl.google.com/android/ndk/android-ndk-r8d-darwin-x86.tar.bz2" rel="nofollow" target="_blank">http://dl.google.com/android/ndk/android-ndk-r8d-darwin-x86.tar.bz2</a> 
r9 NDK: <a href="http://dl.google.com/android/ndk/android-ndk-r9-darwin-x86.tar.bz2" rel="nofollow" target="_blank">http://dl.google.com/android/ndk/android-ndk-r9-darwin-x86.tar.bz2</a> 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17946_52281/HelloWorld_Android.zip">HelloWorld_Android.zip</td></td><td>2014-10-31T23:31:17.000+0000</td><td>2439661</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17946_52279/Logs_3.3.0.GA.txt">Logs_3.3.0.GA.txt</td></td><td>2014-10-31T23:31:17.000+0000</td><td>17794</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-17946_52280/Logs_3.4.0.GA.txt">Logs_3.4.0.GA.txt</td></td><td>2014-10-31T23:31:17.000+0000</td><td>17582</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-10-31

   Issue is here:
   
   <code><pre>
   [javac] /Users/egomez/modules/HelloWorld_Android/build/generated/java/com/mfoundry/mb/helloworld/AssetCryptImpl.java:13: com.mfoundry.mb.helloworld.AssetCryptImpl is not abstract and does not override abstract method setIsProduction(boolean) in org.appcelerator.kroll.util.KrollAssetHelper.AssetCrypt
   </pre></code>
   
   We should have a default implementation.</li>
<li>Eduardo Gomez 2014-10-31

   is there a way to possibly override this method? It seems to be overwritten every time we build.
   
   e.g. <a href="http://stackoverflow.com/questions/18813580/actionlistener-is-abstract-and-does-not-override-abstract-method-actionperformed" rel="nofollow" target="_blank">http://stackoverflow.com/questions/18813580/actionlistener-is-abstract-and-does-not-override-abstract-method-actionperformed</a></li>
<li>Hieu Pham 2014-11-03

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6299" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6299</a>
   3.4.1 PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6303" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6303</a></li>
<li>Lokesh Choudhary 2014-11-04

   Followed the steps above in the description to verify the fix.
   
   Android module builds successfully with latest 3.4.1 & 3.5.0 SDK.
   
   <h4>build.properties:</h4>
   <code><pre>
   titanium.platform=/Users/lokeshchoudhary/Library/Application\ Support/Titanium/mobilesdk/osx/3.4.1.v20141103164118/android
   android.platform=/Users/lokeshchoudhary/Desktop/android-sdk-macosx/platforms/android-19
   google.apis=/Users/lokeshchoudhary/Desktop/android-sdk-macosx/add-ons/addon-google_apis-google-19
   android.sdk=/Users/lokeshchoudhary/Desktop/android-sdk-macosx
   android.ndk=/Users/lokeshchoudhary/Desktop/androidNDK/android-ndk-r10c
   </pre></code>
   
   <h4>Success logs:</h4>
   <code><pre>
   dist:
         [jar] Building jar: /Users/lokeshchoudhary/Desktop/HelloWorld_Android/dist/helloworld_android.jar
   
   post.jar:
   
   python.set.exec:
   
   python.check:
        [echo] Testing for Python
        [exec] Python 2.7.6
   
   init:
   
   pre.docgen:
   
   docgen:
        [exec] Generating /Users/lokeshchoudhary/Desktop/HelloWorld_Android/build/docs/index.html
   
   post.docgen:
   
   check.respackage:
         [zip] Building zip: /Users/lokeshchoudhary/Desktop/HelloWorld_Android/dist/com.mfoundry.mb.helloworld-android-2.0.0.zip
   
   libs.check:
   
   zip.libs:
         [zip] Updating zip: /Users/lokeshchoudhary/Desktop/HelloWorld_Android/dist/com.mfoundry.mb.helloworld-android-2.0.0.zip
   
   zip.metadata:
         [zip] Updating zip: /Users/lokeshchoudhary/Desktop/HelloWorld_Android/dist/com.mfoundry.mb.helloworld-android-2.0.0.zip
   
   clean.respackage:
   
   post.dist:
   
   BUILD SUCCESSFUL
   Total time: 11 seconds
   </pre></code>
   
   Environment:
   Appc Studio : 3.4.1.201410281743
   Ti SDK : 3.4.1.v20141103164118 , 3.5.0.v20141104101714
   CLI : 3.4.1-dev
   Alloy : 1.5.1 GA
   Code Processor : 1.1.1
   Android NDK : android-ndk-r10c , android-ndk64bit-r10 , android-ndk32bit-r10
   MAC Yosemite : 10.10</li>
<li>Ingo Muschenetz 2014-11-04

   This should not be closed yet. There is an outstanding PR.</li>
<li>Hieu Pham 2014-11-04

   3.4.X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6307" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6307</a></li>
<li>Lokesh Choudhary 2014-11-11

   Verified the fix with 3.4.2.v20141110181757. The android module builds successfully.
   
   Closing.
   
   Environment:
   Appc Studio : 3.4.1.201410281743
   Ti SDK :  3.4.2.v20141110181757
   CLI : 3.4.1-alpha
   Alloy : 1.5.1 GA
   Code Processor : 1.1.1
   MAC Yosemite : 10.10
   Android NDK : android-ndk-r10c</li>
</ol>


<p><a href="/TIMOB/TIMOB-17946.json">JSON Source</a></p>