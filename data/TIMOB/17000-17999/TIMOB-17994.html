---
title: "[TIMOB-17994] Different button-properties set to NULL give: [WARN]  could not find image: <null>"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>alloy, applyProperties, backgroundImage</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-11-08T13:13:56.000+0000</td></tr>
<tr><th>Updated</th><td>2020-01-21T09:49:20.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>The problem</h4>

While working on an Alloy project that used <code>autoStyle</code> on some views, I sow these 4 lines scrolling by all the time:

<code><pre>
[WARN]  could not find image: &lt;null&gt;
[WARN]  could not find image: &lt;null&gt;
[WARN]  could not find image: &lt;null&gt;
[WARN]  could not find image: &lt;null&gt;
</pre></code>

<h4>The source</h4>

I tracked it down to a call to <code>$.removeClass($.proxy, \['class'\])</code>.

When Alloy removes a class it will use a [RESET object](<a href="https://github.com/appcelerator/alloy/blob/master/Alloy/lib/alloy.js#L38)" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/blob/master/Alloy/lib/alloy.js#L38)</a> as defaults for the remaining styles.

I then made a test case that reproduces:

<code><pre>
var w = Ti.UI.createWindow({
  backgroundColor: 'green'
});

var v = Ti.UI.createButton({        // replacing with Ti.UI.View reduces from 4 to 0 warning (!)
  width: 100,
  height: 100,
  backgroundColor: 'red'
});
w.add(v);

w.open();

v.applyProperties({
  "backgroundColor": 'red',         // removing reduces from 4 to 2 warnings
  "shadowColor": null,              // removing reduces from 4 to 2 warnings
  "shadowOffset": null,             // removing reduces from 4 to 2 warnings
  "backgroundImage": null,          // removing reduces from 4 to 1 warning (!)
  "backgroundRepeat": null,         // removing reduces from 4 to 2 warnings
  "backgroundSelectedColor": null,  // removing reduces from 4 to 2 warnings
  "backgroundSelectedImage": null,  // removing reduces from 4 to 1 warning (!)
  "visible": true,                  // removing reduces from 4 to 2 warnings
  "backgroundGradient": {},         // removing reduces from 4 to 2 warnings
  "borderRadius": 0,                // removing reduces from 4 to 2 warnings
  "backgroundLeftCap": 0,           // removing reduces from 4 to 2 warnings
  "backgroundTopCap": 0             // removing reduces from 4 to 2 warnings
});
</pre></code>

The actually error must originate from:
<a href="https://github.com/appcelerator/titanium_mobile/blob/58198c641d77e17d156431666e80bae732b5c130/iphone/Classes/TiUIView.m#L315" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/58198c641d77e17d156431666e80bae732b5c130/iphone/Classes/TiUIView.m#L315</a>

But what is weird is that on line 311 of the above source, it checks for the image to be <code>nil</code> which I assume the <code>null</code> values of the above test case should have been converted to.

It's also striking that these warnings don't show for a <code>View</code>, but only for a <code>Button</code>. So the issue must be somewhere between lines 233 and 255 of [TiUIButton.m](<a href="https://github.com/appcelerator/titanium_mobile/blob/58198c641d77e17d156431666e80bae732b5c130/iphone/Classes/TiUIButton.m#L233-L255)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/58198c641d77e17d156431666e80bae732b5c130/iphone/Classes/TiUIButton.m#L233-L255)</a>

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2015-02-03

   Having the same issue using $.resetClass(view, 'class1 class2');</li>
<li>Joe 2019-07-11

   Still having this issue on 7.5.1GA when using $.resetClass(view, 'class1 class2');</li>
</ol>


<p><a href="/TIMOB/TIMOB-17994.json">JSON Source</a></p>