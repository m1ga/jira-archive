---
title: "[TIMOB-18046] CLI: Fix bug with the analytics process blocking the parent process from exiting"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-11-18T19:29:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.0.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-11-18T05:51:11.000+0000</td></tr>
<tr><th>Updated</th><td>2015-03-26T01:41:14.000+0000</td></tr>
</table>

<h3>Description</h3>

When a CLI command finishes such as 'create' or 'build', then it processes analytics events and tries to send them to the server. Despite the analytics child process disconnecting from the parent, the parent will stick around and wait for the child to finish.

This issue needs to be fixed in node-appc, then the dependency version updated in Titanium.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2014-11-18

   node-appc pull request: <a href="https://github.com/appcelerator/node-appc/pull/100" rel="nofollow" target="_blank">https://github.com/appcelerator/node-appc/pull/100</a>
   titanium cli pull request: <a href="https://github.com/appcelerator/titanium/pull/168" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/168</a></li>
<li>Chris Barber 2014-11-18

   To test, perform a build and notice the time the command waits even after it says it completed. After this fix, the command should immediately return.</li>
<li>Tim Poulsen 2014-11-18

   Works as expected with:
   
   <code>ti build -p ios --build-only</code></li>
<li>Ewan Harris 2015-03-26

   Verified fix using:
   
   Mac OSX 10.10.2
   Titanium SDK build:   4.0.0.v20150323131014
   Titanium CLI, build: 4.0.0-alpha
   Alloy: 1.6.0-alpha
   
   Build a project using ti build -p ios --build-only. The command returns immediately.
   
   Closing ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18046.json">JSON Source</a></p>