---
title: "[TIMOB-18099] iOS: Parity: Clean up tab events"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-10-22T02:01:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>TCSupport</td></tr>
<tr><th>Reporter</th><td>Mark Mokryn</td></tr>
<tr><th>Assignee</th><td>Angel Petkov</td></tr>
<tr><th>Created</th><td>2014-11-06T16:06:13.000+0000</td></tr>
<tr><th>Updated</th><td>2016-02-15T13:50:48.000+0000</td></tr>
</table>

<h3>Description</h3>

1. In Android we have the click event on the tab, but in iOS we do not. This event should be removed for Android as well, since it's confusing and quite useless as tabs can be selected by swipes.
2. In Android since 3.5.0 we have the tab selected and unselected events. In iOS we have focus/blur which fire exactly when the tab is selected and unselected. So iOS tab focus/blur should be renamed selected/unselected to match Android.
3. Tab focus/blur should be removed since we have selected/unselected which are much clearer, and since it makes no sense for tabs to be focused/blurred. Focus/blur events should occur on the Window or perhaps on the entire tab group, but not for "tabs" which are only used for selection and are not really a containing UI element. Note that for Android tab focus/blur fire in numerous cases, not just tab selection, and in all "relevant" cases we have Window focus/blur in any case so for tabs they're redundant.

<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2015-09-03

   [~cng] In SDK 4.1.0 and 5.0.0 at least, the <code>focus</code> and <code>blur</code> events for iOS don't even include the <code>index</code>, <code>previousIndex</code>, <code>tab</code> and <code>previousTab</code> properties that the docs say it has, so they are useless. We should indeed bring the <code>selected</code> and <code>unselected</code> events to iOS.</li>
<li>Angel Petkov 2015-09-17

   *PR* <a href="https://github.com/appcelerator/titanium_mobile/pull/7239#issuecomment-143895561" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7239#issuecomment-143895561</a>
   
   DemoCode:
   <code><pre>
   var win1 = Ti.UI.createWindow({
       backgroundColor: 'blue',
       title: 'Blue'
   });
   win1.add(Ti.UI.createLabel({text: 'I am a blue window.'}));
   
   var win2 = Ti.UI.createWindow({
       backgroundColor: 'red',
       title: 'Red'
   });
   win2.add(Ti.UI.createLabel({text: 'I am a red window.'}));
   
   var tab1 = Ti.UI.createTab({
       window: win1,
       title: 'Blue'
   }),
   tab2 = Ti.UI.createTab({
       window: win2,
       title: 'Red'
   }),
   tabGroup = Ti.UI.createTabGroup({
       tabs: [tab1, tab2]
   });
   
       //Should display deprecated message.
   tabGroup.addEventListener("focus", function(e){
    Ti.API.info("Index "+ e.index);
    });
    tabGroup.addEventListener("blur", function(e){
     Ti.API.info("Index "+ e.index);
   });
      //New Events
     tabGroup.addEventListener("selected", function(e){
      Ti.API.info("Index "+ e.index);
    });
      tabGroup.addEventListener("unselected", function(e){
       Ti.API.info("Index "+ e.index);
    });
   tabGroup.open();
   </pre></code>
   </li>
<li>Chee Kiat Ng 2015-09-29

   Thanks [~apetkov], PR reviewed and merged!</li>
<li>Harry Bryant 2015-10-13

   Verified as fixed, using the demo code provided by [~apetkov] I am able to see the deprecated messages for focus / blur when selecting tabs. Confirmed as working for iOS9 simulator & device.
   
   OSX El Capitan 10.11
   Studio: 4.3.1.201509302304
   Ti SDK: 5.2.0.v20151009071418
   Appc NPM: 4.2.1-1
   Appc CLI: 5.1.0-38
   
   
   
   </li>
<li>Eric Wieber 2015-10-29

   Verified fixed, using:
   
   MacOS 10.11.2 (15C27e)
   Studio 4.4.0.201510280736
   Ti SDK 5.1.0.v20151028190028
   Appc NPM 4.2.1
   Appc CLI 5.1.0-38
   Ti CLI 5.0.5
   Alloy 1.7.16
   Arrow 1.3.13
   Xcode 7.2 (7C46l)
   Node v0.12.7
   Java 1.7.0_80
   production
   
   Deprecation messages appear for blur/focus events and parity will be achieved with the linked, related ticket</li>
<li>Fokke Zandbergen 2015-11-10

   This implementation we now have doesn't make much sense...
   
   When the TabGroup opens <code>unselected</code> and then <code>selected</code> are both fired. Only the last one could make sense, although I'd say the initial state should not fire events:
   
   <code><pre>
   [INFO]  Ti.UI.TabGroup:unselected {
   [INFO]    "index": 0,
   [INFO]    "tab": "[Ti.UI.Tab] #permissions",
   [INFO]    "previousIndex": 0,
   [INFO]    "bubbles": true,
   [INFO]    "type": "unselected",
   [INFO]    "source": "[Ti.UI.TabGroup] #index",
   [INFO]    "cancelBubble": false
   [INFO]  }
   [INFO]  Ti.UI.TabGroup:selected {
   [INFO]    "previousIndex": -1,
   [INFO]    "previousTab": null,
   [INFO]    "tab": "[Ti.UI.Tab] #permissions",
   [INFO]    "index": 0,
   [INFO]    "bubbles": true,
   [INFO]    "type": "selected",
   [INFO]    "source": "[Ti.UI.TabGroup] #index",
   [INFO]    "cancelBubble": false
   [INFO]  }
   </pre></code>
   
   I guess best is to resolve TIMOB-19759 and then deprecate>remove these.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18099.json">JSON Source</a></p>