---
title: "[TIMOB-18127] iOS: animating the textfield which is added to a tableview causes the keyboard to flicker"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-12-03T21:48:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.5.0, Release 4.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-3.5.0, qe-assigned, regression</td></tr>
<tr><th>Reporter</th><td>Visalakshi Chidambaram</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2014-12-03T08:04:16.000+0000</td></tr>
<tr><th>Updated</th><td>2014-12-09T22:51:11.000+0000</td></tr>
</table>

<h3>Description</h3>

When a textfield is added to a tableview and when the height of the textfield is animated upon focus, the keyboard appears and immediately disappears. This would happen if you click on the textfield about 2-3 times and clicking/focusing the textfield several times would cause the keyboard to flicker. 

This is a regression as the keyboard appears properly with SDK 3.4.1 and it does not flicker if the textfield is focused continuously. However the error message indicated in step 2 under actual results is still reproducible in 3.4.1

Steps to reproduce:
1. Run the attached app.js 
2. focus on the textfield
3. focus on the textfield several times continuously 

Actual Results:
2. Following error message is displayed:
<code><pre>

[ERROR] :  focus 30
[ERROR] :  {
[ERROR] :      bubbles = 0;
[ERROR] :      cancelBubble = 0;
[ERROR] :      source = "[object TiUITextField]";
[ERROR] :      type = focus;
[ERROR] :      value = "";
[ERROR] :  }


</pre></code>

and keyboard disappears immediately
3. Keyboard flickers.

Expected Results:
2. No error message and keyboard should stay unless 'return' key is pressed.
3. Keyboard should not flicker

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18127_52982/app.js">app.js</td></td><td>2014-12-03T08:04:16.000+0000</td><td>1367</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-12-03

   We need to find what may have caused this. Look for changes in TextWidgetProxy.</li>
<li>Vishal Duggal 2014-12-03

   Race condition due to this commit
   <a href="https://github.com/appcelerator/titanium_mobile/commit/970d6b540e6bc6e833844f78a324fe41db8f09fe" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/970d6b540e6bc6e833844f78a324fe41db8f09fe</a></li>
<li>Vishal Duggal 2014-12-03

   Pull pending
   master - <a href="https://github.com/appcelerator/titanium_mobile/pull/6419" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6419</a>
   3_5_X - <a href="https://github.com/appcelerator/titanium_mobile/pull/6420" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6420</a></li>
<li>Eric Wieber 2014-12-09

   Verified fixed using:
   
   Titanium SDK 3.5.0.v20141208122514
   Studio 3.4.1.201410281743 
   Xcode 6.1.1
   
   On: 
   iPad mini, iOS 8.1
   iPhone 6, iOS 8.2b 
   iPhone 4S Sim, iOS 8.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-18127.json">JSON Source</a></p>