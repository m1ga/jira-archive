---
title: "[TIMOB-18137] iOS: app crashes when comparing variables against null or undefined in the same 'if' statement"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-12-07T23:34:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.5.0, Release 4.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-3.5.0, qe-assigned, regression</td></tr>
<tr><th>Reporter</th><td>Visalakshi Chidambaram</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2014-12-04T08:32:59.000+0000</td></tr>
<tr><th>Updated</th><td>2014-12-09T22:21:10.000+0000</td></tr>
</table>

<h3>Description</h3>

When a variable is compared against null or undefined in the same 'if' clause as shown below the app crashes:

<code><pre>
if (result == null || result == undefined )
{....}
</pre></code>

however, if they are done separately, i.e, 
<code><pre>
if (result == null) 
if (result == undefined)
</pre></code>

there is no issue and both the if statements are executed as the actual value of the results in this example will be undefined. Likewise comparing undefined before null also works fine:

<code><pre>
if (result== undefined || result == null){...}
</pre></code>

This is a regression as it works fine with 3.4.1

Steps to reproduce:
1. run the attached app.js
2. click on the TEXTFIELD button 

Actual results:
2. log displays :
   <code><pre>
   [INFO] :   
   [INFO] :   
   [INFO] :   ****************
   [INFO] :   TEXTFIELD
   [INFO] :   result undefined
   </pre></code>
    
and the app  also crashes 

Expected Results:
2. log should display :
   <code><pre>
  [INFO] :   
  [INFO] :   
  [INFO] :   ****************
  [INFO] :   TEXTFIELD
  [INFO] :   result undefined
  [INFO] :   NO selection info available from property
  [INFO] :   ****************
   </pre></code>

    and the app should not crash 


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18137_53010/app.js">app.js</td></td><td>2014-12-04T08:32:59.000+0000</td><td>1424</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Shannon Hicks 2014-12-04

   Pretty sure this is an expected Javascript behavior. null is a special value in most languages, and when you try to type-covert and check an object to null, unexpected (to you) things may happen.
   
   See <a href="http://stackoverflow.com/questions/16672743/javascript-null-check" rel="nofollow" target="_blank">http://stackoverflow.com/questions/16672743/javascript-null-check</a></li>
<li>Ingo Muschenetz 2014-12-04

   It may be expected, but it appears to be a behavior change from 3.4.1.</li>
<li>Ivan Skugor 2014-12-05

   Does condition have sense or not have nothing to do with app crash (which should really not happen!)</li>
<li>Eric Wieber 2014-12-09

   Verified working as expected using:
   
   Titanium SDK 3.5.0.v20141208092926
   Studio 3.4.1.201410281743 
   Xcode 6.1.1
   
   On: 
   iPad mini, iOS 8.1
   iPhone 6, iOS 8.2b 
   iPhone 4S Sim, iOS 8.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-18137.json">JSON Source</a></p>