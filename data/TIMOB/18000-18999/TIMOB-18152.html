---
title: "[TIMOB-18152] iOS: Window with url:file throws \"Maximum call stack size exceeded\" error on open"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-12-10T22:21:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.5.0, Release 4.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>file, ios, qe-3.5.0, regression, stack, window</td></tr>
<tr><th>Reporter</th><td>Eric Wieber</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2014-12-08T21:21:02.000+0000</td></tr>
<tr><th>Updated</th><td>2014-12-11T22:24:02.000+0000</td></tr>
</table>

<h3>Description</h3>

When opening a window with a file as the url, I occasionally see a "Maximum call stack size exceeded." error.

*Steps to reproduce*:
1. Download, Build, and open included project (proj 1)
2. Click on Test 2
3. Click on open win2
4. Click on open win3
5. Click on Close Windows
6. Repeat steps 2-5 until error occurs (sometimes on first try, other times it takes a while)

*Expected Results*:
Windows are able to open without error.

*Notes*:
I am attaching two projects that encounter this error. If the windows do not use a file for the URL, I do not encounter this issue.
I also have not been able to encounter this with Titanium SDK 3.4.1.GA.

Download projects here:
Proj 1: <a href="https://www.dropbox.com/s/50wyyyc5cs30elc/animations%20test.zip?dl=0" rel="nofollow" target="_blank">https://www.dropbox.com/s/50wyyyc5cs30elc/animations%20test.zip?dl=0</a>
Proj 2: <a href="https://www.dropbox.com/s/sn2oax930mpx9lo/Null%20Test.zip?dl=0" rel="nofollow" target="_blank">https://www.dropbox.com/s/sn2oax930mpx9lo/Null%20Test.zip?dl=0</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18152_53091/IMG_0016.PNG">IMG_0016.PNG</td></td><td>2014-12-08T21:21:02.000+0000</td><td>132428</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-12-08

   [~ewieber] is this a regression?</li>
<li>Eric Wieber 2014-12-08

   [~ingo], looks like it, as I cannot encounter it with 3.4.1.GA. Updating ticket.</li>
<li>Vishal Duggal 2014-12-10

   Pull pending
   master - <a href="https://github.com/appcelerator/titanium_mobile/pull/6464" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6464</a>
   3_5_X - <a href="https://github.com/appcelerator/titanium_mobile/pull/6465" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6465</a></li>
<li>Eric Wieber 2014-12-11

   Verified fixed using:
   
   Titanium SDK 3.5.0.v20141211093314
   Studio 3.4.1.201410281743 
   Xcode 6.1.1
   
   On: 
   iPad mini, iOS 8.1
   iPhone 6, iOS 8.2b2 
   iPhone 4S Sim, iOS 8.1</li>
<li>Eric Wieber 2014-12-11

   Test code used:
   <code><pre>
   var win = Ti.UI.createWindow({});
   var win2;
   
   var btn1 = Ti.UI.createButton({
   	top : 40,
   	left : 0,
   	width : 200,
   	height : 50,
   	title : 'open win2'
   });
   btn1.addEventListener('click', function() {
   	win2 = Ti.UI.createWindow({
   		left : 0,
   		top : 200,
   		width : '100%',
   		height : '50%',
   		backgroundColor : 'purple',
   		url : 'win2.js'
   	});
   	win2.open();
   });
   
   var btn2 = Ti.UI.createButton({
   	top : 40,
   	left : 250,
   	width : 200,
   	height : 50,
   	title : 'close win2'
   });
   btn2.addEventListener('click', function() {
   	win2.close();
   });
   
   win.add(btn1);
   win.add(btn2);
   win.open();
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-18152.json">JSON Source</a></p>