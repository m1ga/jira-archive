---
title: "[TIMOB-18178] iOS - ListViewSection.deleteItemsAt with animation causes clipping on elements that move up"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2017-04-10T18:25:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.4.0, Release 3.4.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>TCSupport</td></tr>
<tr><th>Reporter</th><td>Bert Grantges</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-03-07T22:24:57.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:54:47.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
When you call the deleteItemsAt function on a ListViewSection with animation enabled, you get some clipping on the lower element that is moving upwards.


<h4>Steps to reproduce</h4>

- Create a new Classic Project.
- Change app.js into this code:
<code><pre>

var win = Ti.UI.createWindow({backgroundColor: 'white'});

var sections = [];

var template = {
    childTemplates: [
       {
    		type: 'Ti.UI.View',
    		class: 'itemContainer' ,
    		properties: {
      		backgroundColor: "#EEE"
      		
    		},
    		
    		childTemplates: [
                	{
    		         	type: 'Ti.UI.View',
    					id: 'iconWrapper' ,
    					properties: {
      					top:10,
						left:15,
						height: 60,
						width: 60,
						backgroundColor: "#fff",
						touchEnabled:false
      		
    					},
    		
    		 			childTemplates: [
    		 					{                            
            						type: 'Ti.UI.ImageView', 
            						bindId: 'pic',
            						id: 'icon' ,           
            						properties: {            
                					width: 30, 
    								height: 30
            						}
        						},
                
            				],
    		
    				},
    	
    				{
    					type: 'Ti.UI.View',
    					id: 'detailWrapper' ,
    					properties: {
      					top:10,
						left:85,
						height: Ti.UI.FILL,
						right: 15,
						backgroundColor: "#fff"
      		
    					},
    		
    		 			childTemplates: [
    		 					{
    		         				type: 'Ti.UI.View',
    								id: 'hiddenView' ,
    								properties: {
      								backgroundColor: "#0196D7",
									touchEnabled:false
      		
    							},
    		
    		 					childTemplates: [
    		 							{                            
            								type: 'Ti.UI.Label',      
            								bindId: 'hiddenLbl',
            								id: 'hiddenLbl',          
            								properties: {            
                							width:200,
											height: Ti.UI.FILL,
											color: "#fff",
											textAlign:"left",
											font: {fontFamily: "Arial", fontSize: 14},
            								}
        								},
                
            						],
    		
    							},
    							
    							{
    		         				type: 'Ti.UI.View',
    								id: 'detailView' ,
    								properties: {
      								backgroundColor: "#fff",
									left:0,
									width: 220
      		
    							},
    							events: {

    							},
    		
    		 					childTemplates: [
    		 							{                            
            								type: 'Ti.UI.Label',      
            								bindId: 'title',
            								id: 'title',          
            								properties: {            
                							color: 'black',
    										font: { fontFamily:'Arial', fontSize: 14, fontWeight:'bold' },
    										left: 10, 
    										top: 10,
    										width: 200
    										}
        								},
        								{                            
            								type: 'Ti.UI.Label',      
            								bindId: 'subtitle',
            								id: 'subtitle',          
            								properties: {            
                							color: 'black',
    										font: { fontFamily:'Arial', fontSize: 10 },
    										left: 10, 
    										top: 30,
   	 										width: 200
            								}
        								},
        								{                            
            								type: 'Ti.UI.Label',      
            								bindId: 'meta',
            								id: 'meta',          
            								properties: {            
                							color: 'gray',
    										font: { fontFamily:'Arial', fontSize: 10 },
    										left: 10, 
    										top: 45,
    										width: 200
            								}
        								},
        								{
    		         						type: 'Ti.UI.View',
    										id: 'buttonWrapper' ,
    										properties: {
      										width: 40,
											height: Ti.UI.FILL,
											right:0,
											backgroundColor:"#fbfbfb"
      		
    										},
    										events: {
        
        										click: function (_evt){
															if(_evt.source.parent){	
																
																var hiddenLbl = _evt.source.parent.parent.children[0].children[0]; 
																
																Ti.API.info('click hiddenLbl '+(hiddenLbl));
																
																hiddenLbl.applyProperties({
																	text: "You have added it!",
																	textAlign: "center"
																});
																	
																_evt.source.parent.animate({ 
																	left: 200,
																	duration: 250 
																}, function(){
																	_evt.source.parent.parent.parent.animate({
																		opacity: 0.0,
																		duration: 500
																	},function(){
																		var section = listView.sections[_evt.sectionIndex];
																		section.deleteItemsAt(_evt.itemIndex, 1, false);
																	});
																	
																});
															} 
														}
    										},
    		
    		 								childTemplates: [
    		 										{		                            
            											type: 'Ti.UI.Label',      
            											bindId: 'rightButton',
            											id: 'rightButton',          
            											properties: {            
                										color: "#999",
														borderColor:"#999",
														borderWidth: 3,
														borderRadius:15,
														width:30,
														height: 30,
														font: {fontFamily: "Arial", fontSize: 25},
														textAlign:"center",
														touchEnabled: false
            											}
        											},
                
            									],
    		
    									},
        								
        								
        								
                
            						],
    		
    							},
    		 					
                
            				],
    		
    				},
            ],
    		
    	},
    ]
};

var listView = Ti.UI.createListView({
    templates: { 'template': template }, 
    defaultItemTemplate: 'template',
    
});


var listSection = Ti.UI.createListSection();
	
var ListItem = [
    {title:{text:'Appcelerator'}, subtitle:{text:'Mobile Software'}, meta:{text:'25077 followers'}, hiddenLbl:{text:'Slide &gt;'}, pic:{image:'/images/corejs.png'}, rightButton:{text:'+' },properties: { 	top:5,
	height: 70,
	backgroundColor: "#EEE"}},
    {title:{text:'Appcelerator'}, subtitle:{text:'Mobile Software'}, meta:{text:'25077 followers'}, hiddenLbl:{text:'Slide &gt;'}, pic:{image:'/images/corejs.png'}, rightButton:{text:'+' },properties: { 	top:5,
	height: 70,
	backgroundColor: "#EEE"}},
    {title:{text:'Appcelerator'}, subtitle:{text:'Mobile Software'}, meta:{text:'25077 followers'}, hiddenLbl:{text:'Slide &gt;'}, pic:{image:'/images/corejs.png'}, rightButton:{text:'+' },properties: { 	top:5,
	height: 70,
	backgroundColor: "#EEE"}},
    {title:{text:'Appcelerator'}, subtitle:{text:'Mobile Software'}, meta:{text:'25077 followers'}, hiddenLbl:{text:'Slide &gt;'}, pic:{image:'/images/corejs.png'}, rightButton:{text:'+' },properties: { 	top:5,
	height: 70,
	backgroundColor: "#EEE"}},
    {title:{text:'Appcelerator'}, subtitle:{text:'Mobile Software'}, meta:{text:'25077 followers'}, hiddenLbl:{text:'Slide &gt;'}, pic:{image:'/images/corejs.png'}, rightButton:{text:'+' },properties: { 	top:5,
	height: 70,
	backgroundColor: "#EEE"}},
    {title:{text:'Appcelerator'}, subtitle:{text:'Mobile Software'}, meta:{text:'25077 followers'}, hiddenLbl:{text:'Slide &gt;'}, pic:{image:'/images/corejs.png'}, rightButton:{text:'+' },properties: { 	top:5,
	height: 70,
	backgroundColor: "#EEE"}},
    {title:{text:'Appcelerator'}, subtitle:{text:'Mobile Software'}, meta:{text:'25077 followers'}, hiddenLbl:{text:'Slide &gt;'}, pic:{image:'/images/corejs.png'}, rightButton:{text:'+' },properties: { 	top:5,
	height: 70,
	backgroundColor: "#EEE"}},
    
];
listSection.setItems(ListItem);
sections.push(listSection);
listView.setSections(sections);
win.add(listView);
win.open();

</pre></code>
- Create a folder named "images" in the Resource directory
- Put the "corejs.png" image to the folder
- Run the app in iOS Device


<h4>Actual Results</h4>
Click on the "+" sing of any row ( on the right side ) to delete that row. Doing so the row below that, will move upward.
The lower row should come straight to the top, not suppose to flick and then appear.


<h4>Extra info</h4>
See Screencast and code sample

See the screencast here:
<a href="http://www.screencast.com/t/aKPw3okcqgRP" rel="nofollow" target="_blank">http://www.screencast.com/t/aKPw3okcqgRP</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18178_51026/corejs.png">corejs.png</td></td><td>2014-09-06T05:02:03.000+0000</td><td>4920</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18178_46487/FloatingWindows.zip">FloatingWindows.zip</td></td><td>2014-03-07T22:24:57.000+0000</td><td>3635413</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2017-04-10

   I am unable to reproduce this issue with the latest SDK 6.0.3.GA. There has been a lot of progress since then, so probably this side-effect has been fixed without knowing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18178.json">JSON Source</a></p>