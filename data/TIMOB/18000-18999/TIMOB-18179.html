---
title: "[TIMOB-18179] iOS: Missing app-state-events for fresh launch and background-launch"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-10-25T21:59:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.2.3, Release 3.3.0, Release 3.4.0, Release 3.4.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>TCSupportTriage, ios, mobile, reprod, titanium</td></tr>
<tr><th>Reporter</th><td>Shawn Lan</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2014-06-27T18:26:06.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:41:08.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
1. Titanium mobile app doesn't fire "resumed" event at fresh launch. Based on Apple's doc, "applicationDidBecomeActive:" is called at fresh launch as well. Shouldn't "resumed" be fired at fresh launch?

2. Based on #1, Shouldn't Titanium mobile app fire "paused" event when app is launched directly into the background? Since "applicationDidEnterBackground:" is called in this case.

3. There is currently no way to determine whether app is launched into the foreground or the background with Titanium. It is possible with native code, according to Apple's Docs. This feature is highly needed.


<h4>Test case</h4>
1. Create a new mobile project (Classic Titanium) 
2. Copy this code into app.js
<code><pre>
var main_window = Ti.UI.createWindow({
	backgroundColor: 'green'
});
main_window.open();

Titanium.App.addEventListener('pause', function (e) {
    Ti.API.info('app.js: Pause event on '+Ti.Platform.osname);
}); 
Titanium.App.addEventListener('paused', function (e) {
    Ti.API.info('app.js: Paused event on '+Ti.Platform.osname);
});     
Titanium.App.addEventListener('resume', function (e) {
    Ti.API.info('app.js: Resume event on '+Ti.Platform.osname);
});
Titanium.App.addEventListener('resumed', function (e) {
    Ti.API.info('app.js: Resumed event on '+Ti.Platform.osname);
});
</pre></code>
3. Run it into device

<h4>Extra info </h4>

According to the "Apple Doc" The "resumed" event should also called at app fresh launch.  According to Apple Doc ["applicationDidBecomeActive"](<a href="https://developer.apple.com/library/ios/documentation/uikit/reference/uiapplicationdelegate_protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/applicationDidBecomeActive:)" rel="nofollow" target="_blank">https://developer.apple.com/library/ios/documentation/uikit/reference/uiapplicationdelegate_protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/applicationDidBecomeActive:)</a> is called at fresh launch, which invoke the Titanium.App "resumed" event. 


<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2014-07-18

   Hello [~shawnlan]!
   
   Can you please read this:
   
   <a href="http://docs.appcelerator.com/titanium/3.0/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/3.0/#</a>!/api/Titanium.App-event-resume
   
   and let us know if that covers 1 and 2, or if you need something else? Please check resume and resumed. 
   
   Best Regards! </li>
<li>Shawn Lan 2014-07-18

   No it doesn't cover 1 and 2. I know how "resume" and "resumed" events work in Titanium. My problem is that "resumed" (and probably "paused" too) event doesn't work as intended. That is, at "fresh launch" (not resumed from the background), the "resumed" event is not fired. According to Apple's doc, "applicationDidBecomeActive:" is called at "fresh launch" as well. Titanium's "resumed" event should go together with "applicationDidBecomeActive," right? I don't understand why it's not, and am curious about how its implementation looks like.
   
   </li>
<li>Hans Knöchel 2017-06-30

   This issue is valid and will be addressed, as soon as TIMOB-20272 is merged. The reason it happens is because the notification is sent before <code>Ti.App</code> namespace is registering for the event, so the notification gets lost in translation. Having TIMOB-20272 merged, we are able to send the event as soon as the app is ready. Same thing for the <code>paused</code> event for app's launched in the background (e.g. for background-services or remote push notifications).</li>
<li>Hans Knöchel 2017-10-25

   Tested on latest master and it works already, see the linked fix above.</li>
<li>Eric Merriman  2018-08-06

   Closing as a duplicate. If this is in error, please reopen.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18179.json">JSON Source</a></p>