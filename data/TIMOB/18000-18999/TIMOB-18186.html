---
title: "[TIMOB-18186] iOS: App is crashing when adding the same tab many times"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2016-10-18T12:49:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-3.5.0</td></tr>
<tr><th>Reporter</th><td>Kajenthiran Velummaylum</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2014-12-11T05:57:15.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-24T17:59:17.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>This is not a regression since same scenario occurs in 3.4.1 GA</h4>

Titanium app is crashing when we add same tab more than once in a TabGroup. 
Console logs and Crash logs are attached here.

<h4>Steps To Reproduce</h4>
1. Create a classic app using following code
<code><pre>
Titanium.UI.setBackgroundColor('#000');
var tabGroup = Titanium.UI.createTabGroup();

var win = Titanium.UI.createWindow({
	title : 'Tab',
	backgroundColor : '#fff'
});
var tab = Titanium.UI.createTab({
	icon : 'KS_nav_ui.png',
	title : 'Tab',
	window : win
});
   
var button = Titanium.UI.createButton({
	top : 10,
	title : 'Add tab1'
});
button.addEventListener('click', function(e) {
	tabGroup.addTab(tab1);
});
win.add(button);

// create tab1 and win1
var win1 = Titanium.UI.createWindow({
	title : 'Tab 1',
	backgroundColor : '#fff'
});
var tab1 = Titanium.UI.createTab({
	icon : 'KS_nav_ui.png',
	title : 'Tab 1',
	window : win1
});

tabGroup.addTab(tab);
tabGroup.open();
</pre></code>

2. Run on iOS device
3. Click the *Add tab1* button ( It will add a new tab with name *Tab 1* )
4. Click the button many times until you get *More...* tab
5. Click on the *More...* tab

<h4>Actual Result</h4>
App is crashing when *More* tab is clicked.

<h4>Expected Result</h4>
App should not crash. We should handle this gracefully. 

Note: It can either prevent adding same tab again or allowing them with renaming the properties.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18186_53157/Console.log">Console.log</td></td><td>2014-12-11T05:57:15.000+0000</td><td>4120</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18186_53156/CrashLog 12-11-14, 1-41 PM.crash">CrashLog 12-11-14, 1-41 PM.crash</td></td><td>2014-12-11T05:57:15.000+0000</td><td>44142</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-12-11

   My preference is that the application spit out an error and only add the tab once.</li>
<li>Hans Knöchel 2016-10-18

   This issue is invalid. The demo-code used a circular memory reference that caused the tabs to be referenced outside a scope. The correct use-case would generate and add the tabs as soon the the button is clicked. I made an iterative example that uses a counter to create n tabs. The "More" tab can be clicked without crashes and everything works as expected:
   <code><pre>
   Titanium.UI.setBackgroundColor('#000');
   var tabGroup = Titanium.UI.createTabGroup();
   var index = 1;
   
   var win = Titanium.UI.createWindow({
       title: 'Tab ' + index,
       backgroundColor: '#fff'
   });
   var tab = Titanium.UI.createTab({
       icon: 'KS_nav_ui.png',
       title: 'Tab ' + index,
       window: win
   });
   
   var button = Titanium.UI.createButton({
       top: 10,
       width: Ti.UI.FILL,
       title: 'Add tab ' + (index + 1)
   });
   
   button.addEventListener('click', function(e) {
       index++;
       button.setTitle('Add tab ' + (index + 1));
   
       // create tab1 and win1
       var win1 = Titanium.UI.createWindow({
           title: 'Tab ' + index,
           backgroundColor: '#fff'
       });
       var tab1 = Titanium.UI.createTab({
           icon: 'KS_nav_ui.png',
           title: 'Tab ' + index,
           window: win1
       });
   
       tabGroup.addTab(tab1);
   });
   
   win.add(button);
   
   tabGroup.addTab(tab);
   tabGroup.open();
   </pre></code></li>
<li>Lee Morris 2017-03-24

   Closing ticket as invalid with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18186.json">JSON Source</a></p>