---
title: "[TIMOB-18187] iOS: Ti.UI.Window Focus event is firing continuously. "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2014-12-11T17:24:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-3.5.0, regression</td></tr>
<tr><th>Reporter</th><td>Kajenthiran Velummaylum</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2014-12-11T07:29:17.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T18:15:25.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>This is a regression since 3.4.1 works fine.</h4>

Focus event is firing continuously (infinite times) for Ti.UI.Window.

<h4>Steps To Reproduce</h4>
1. Create a classic app using following code
<code><pre>
Titanium.UI.setBackgroundColor('#000');

var win = Titanium.UI.createWindow({
	title: 'Window 1',
    backgroundColor: '#fff'
});

win.addEventListener('focus',function(e){
    alert('test win');
});

win.open();
</pre></code>

2. Run the app in iOS device

<h4>Actual Result</h4>
Focus event is firing continuously ( infinite times) 

<h4>Expected Result</h4>
Focus event should fire only once when it's focused.

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2014-12-11

   [~bhatfield] expected behavior now, need to be in release notes.</li>
<li>Vishal Duggal 2014-12-11

   This is now expected behavior. On iOS8 AlertDialogs and OptionDialogs are full fledged view controllers. So when they show up, the top most Window proxy will blur. It will regain focus when these dialogs are dismissed. So you have an infinite loop.
   Try this code to see discrepancy in behavior on iOS7 and iOS8.
   <code><pre>
   Titanium.UI.setBackgroundColor('#000');
    
   var win = Titanium.UI.createWindow({
       title: 'Window 1',
       backgroundColor: '#fff'
   });
   
   var opts = {
       cancel: 2,
       options: ['Confirm', 'Help', 'Cancel'],
       selectedIndex: 2,
       destructive: 0,
       title: 'Delete File?'
   };
   
   var optDialog = Ti.UI.createOptionDialog(opts);
   
   var aopts = {
       message: 'The file has been deleted',
       ok: 'Okay',
       title: 'File Deleted'
   }
   
   var aDialog = Ti.UI.createAlertDialog(aopts);
    
   win.addEventListener('focus',function(e){
       optDialog.show();
       //aDialog.show();
   });
    
   win.addEventListener('blur',function(e){
       Ti.API.info('WINDOW BLURRED');
   });
   win.open();
   </pre></code></li>
<li>Lee Morris 2017-03-21

   Closing ticket as the issue will not fix.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18187.json">JSON Source</a></p>