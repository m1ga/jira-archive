---
title: "[TIMOB-18283] iOS: ImageView repeatCount is not honored"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2014-12-23T16:22:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.4.1, Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>imageview</td></tr>
<tr><th>Reporter</th><td>Vishal Duggal</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2014-12-22T19:48:41.000+0000</td></tr>
<tr><th>Updated</th><td>2015-01-15T01:18:38.000+0000</td></tr>
</table>

<h3>Description</h3>

Test Code
<code><pre>
Titanium.UI.setBackgroundColor('#000');
 
var win2 = Titanium.UI.createWindow({  
    title:'Test',
    backgroundColor:'#fff',
    fullscreen:true,
    layout:'vertical'
});

var theImages = [
'images/campFire01.gif',
'images/campFire02.gif',
'images/campFire03.gif',
'images/campFire04.gif',
'images/campFire05.gif',
'images/campFire06.gif',
'images/campFire07.gif',
'images/campFire08.gif',
'images/campFire09.gif',
'images/campFire10.gif',
'images/campFire11.gif',
'images/campFire12.gif',
'images/campFire13.gif',
'images/campFire14.gif',
'images/campFire15.gif',
'images/campFire16.gif',
'images/campFire17.gif',
];


var container = Ti.UI.createView({height:Ti.UI.SIZE,top:20,layout:'horizontal',width:Ti.UI.SIZE});

var b1 = Ti.UI.createButton({title:'START',width:70});

var label = Ti.UI.createLabel({text:'Reverse:',left:10});
var sw = Ti.UI.createSwitch({value:false,left:10});

container.add(b1);
container.add(label);
container.add(sw);

win2.add(container);
  
var image2 = Titanium.UI.createImageView({
  repeatCount:3,
  images: theImages,
  width:160,
  height:240,
  top:5,
  borderWidth:1,
  borderColor:'black'
});
 
win2.add(image2);

var checkIndex;
var count;

b1.addEventListener('click',function(e){
  if(image2.animating == true) {
    image2.stop();
  } else {
    image2.reverse = sw.value;
    if(image2.reverse == true) {
      checkIndex = 0;
    } else {
      checkIndex = theImages.length - 1;
    }
    count = 0;
    image2.start();

  }
});


var l2 = Ti.UI.createLabel({top:5});
var l3 = Ti.UI.createLabel({top:5});

win2.add(l2);
win2.add(l3);

image2.addEventListener('change',function(e){
  l2.text = 'Showing Index '+e.index;
  if(e.index == checkIndex) {
    count++;
    l3.text = 'Completed Loop '+count;
  }
});
 
image2.addEventListener('stop',function(e){
  l3.text = 'STOPPED';
  sw.enabled = true;
  b1.title = 'START';
});

image2.addEventListener('start',function(e){
  l3.text = 'STARTED. Loop Count '+image2.repeatCount;
  sw.enabled = false;
  b1.title = 'STOP';
});

win2.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18283_53331/images.zip">images.zip</td></td><td>2014-12-22T19:50:09.000+0000</td><td>1019025</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2014-12-22

   Resources for test</li>
<li>Vishal Duggal 2014-12-22

   Pull pending
   master - <a href="https://github.com/appcelerator/titanium_mobile/pull/6525" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6525</a></li>
<li>Ewan Harris 2015-01-15

   Verified fix on :
   
   Mac OSX 10.10.1
   Appcelerator Studio, build: 3.4.1.201410281743
   Titanium SDK build: 3.6.0.v20150114112521
   Titanium CLI, build: 3.4.1
   Alloy: 1.5.1
   Xcode 6.1.1
   iPhone 6 (8.1), iPad Air 2 (8.2b4)
   
   Using the attached code and images ran on both devices, the image repeated fro the correct number of times.
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-18283.json">JSON Source</a></p>