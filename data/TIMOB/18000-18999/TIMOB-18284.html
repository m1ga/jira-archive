---
title: "[TIMOB-18284] Android: Mobile app crashes with Android modules"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>qe-3.5.0</td></tr>
<tr><th>Reporter</th><td>Kajenthiran Velummaylum</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-12-23T13:20:54.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:27.000+0000</td></tr>
</table>

<h3>Description</h3>

When we package android module with a default project, it's crashing on device and emulator. 

<h4>It's not a regression since same issue appears in 3.4.1 GA as well.</h4>

<h4>Steps To Reproduce</h4>
1. Create a default classic project
2. Create an android module
3. Package it into the project
4. Run the project in android device/emulator

<h4>Expected Result</h4>
App should run without any issues.

<h4>Actual Result</h4>
App crashes in runtime. Following error message is observed in console.
<code><pre>
[WARN] :   ApplicationPackageManager: getCSCPackageItemText()
[INFO] :   PersonaManager: getPersonaService() name persona_policy
[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity create, savedInstanceState: null
[WARN] :   V8Object: (KrollRuntimeThread) [134,134] Runtime disposed, cannot set property 'userAgent'
[DEBUG] :  dalvikvm: Trying to load lib /data/app-lib/df.ler-2/libandr.test.so 0x42af14a0
[ERROR] :  dalvikvm: dlopen("/data/app-lib/df.ler-2/libandr.test.so") failed: dlopen failed: cannot locate symbol "__cxa_end_cleanup" referenced by "libandr.test.so"...
[WARN] :   dalvikvm: threadid=10: thread exiting with uncaught exception (group=0x418a4da0)
[ERROR] :  TiApplication: (KrollRuntimeThread) [56,190] Sending event: exception on thread: KrollRuntimeThread msg:java.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol "__cxa_end_cleanup" referenced by "libandr.test.so"...; Titanium 3.4.1,2014/11/13 13:33,5982e8f
[ERROR] :  TiApplication: java.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol "__cxa_end_cleanup" referenced by "libandr.test.so"...
[ERROR] :  TiApplication: 	at java.lang.Runtime.loadLibrary(Runtime.java:365)
[ERROR] :  TiApplication: 	at java.lang.System.loadLibrary(System.java:526)
[ERROR] :  TiApplication: 	at org.appcelerator.kroll.runtime.v8.V8Runtime.loadExternalModules(V8Runtime.java:123)
[ERROR] :  TiApplication: 	at org.appcelerator.kroll.runtime.v8.V8Runtime.initRuntime(V8Runtime.java:90)
[ERROR] :  TiApplication: 	at org.appcelerator.kroll.KrollRuntime.doInit(KrollRuntime.java:185)
[ERROR] :  TiApplication: 	at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:109)
</pre></code>


<h3>Comments</h3>

<ol>
<li>Lokesh Choudhary 2014-12-29

   Tried to reproduce the issue but could not reproduce. 
   The app with packaged module builds & run fine on android device & emulator.
   
   Environment:
   Appc Studio : 3.4.1.201410281743
   Ti SDK : 3.5.0.v20141222103320
   CLI : 3.4.1
   Alloy : 1.5.1 GA
   Code Processor : 1.1.1
   MAC Yosemite : 10.10
   Device : Samsung Galaxy S4 - 4.4.2, Nexus 5 - 5.0.1
   Emulator : android 4.4.2, android 5.0.1
   Android NDK : 10d</li>
<li>Eric Merriman  2015-01-06

   [~kvelummaylum] Can you try this on another system to see if this is a configuration-specific issue?</li>
<li>Kajenthiran Velummaylum 2015-01-07

   [~emerriman] I couldn't reproduce this in other machines. But still I see this issue in my machine.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18284.json">JSON Source</a></p>