---
title: "[TIMOB-18292] iOS8: HTTPClient onload callback doesn't get called in iOS 8.1"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2014-12-29T19:35:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-3.5.0</td></tr>
<tr><th>Reporter</th><td>Kajenthiran Velummaylum</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2014-12-29T05:01:56.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T22:11:12.000+0000</td></tr>
</table>

<h3>Description</h3>

HTTPClient onload callback doen't get called in iOS 8.1 devices.
It's working as expected in iOS 7.1 devices

<h4>Steps To Reproduce</h4>
1. Create a classic app using following code in app.js
<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor : 'white'
});

var xhr = Titanium.Network.createHTTPClient();
	
xhr.onload = function()
{
	Titanium.Media.saveToPhotoGallery(this.responseData);
	alert('Check your photo gallery for a titanium logo');		
};
	
xhr.onerror = function()
{
	alert('error');
};
	
// open the client
xhr.open('GET','<a href="http://static.appcelerator.com/images/header/appc_logo.png" rel="nofollow" target="_blank">http://static.appcelerator.com/images/header/appc_logo.png</a>');
	
// send the data
xhr.send();
win.open();
</pre></code>
2. Run on iOS 8.1 device

<h4>Expected Result</h4>
Appc logo should be saved in gallery and there should be an alert dialog with the message of *Check your photo gallery for a titanium logo*.

<h4>Actual Result</h4>
Alert with *error*.
Following log message was observed in console but this log was not consistent.
<code><pre>
/private/var/mobile/Containers/Bundle/Application/6DC7EB6F-15F9-481C-8DCD-DC7AB8B1EC56/XHRTest.app/app.js, Resource: app_js
[DEBUG] :  enabledRemoteNotificationTypes is not supported in iOS 8.0 and later.
</pre></code>



<h3>Comments</h3>

<ol>
<li>Eric Wieber 2014-12-29

   Unable to reproduce the error using:
   
   Titanium SDK 3.5.0.v20141222103320
   Studio 3.4.1.201410281743 
   Xcode 6.1.1 & 6.1.0
   Alloy 3.4.1
   CLI 3.4.1
   
   On: 
   iPad mini, iOS 8.1
   iPhone 6, iOS 8.2b3
   iPhone 6 Plus, iOS 8.1
   
   Expected alert is shown and the image appears in the photo gallery</li>
<li>Eric Merriman  2014-12-29

   [~kvelummaylum] This might be a timing issue, as the test code is minimal. Please try again, and try on other systems to get a better sense of the impact. </li>
<li>Vishal Duggal 2014-12-29

   Can not reproduce. What is the error that you are seeing?</li>
<li>Lee Morris 2017-03-21

   Closing ticket as the issue cannot be reproduced and due to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18292.json">JSON Source</a></p>