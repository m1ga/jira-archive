---
title: "[TIMOB-18299] iOS: animation does not work as expected when the visibility is set to false"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>engTriage, qe-3.5.0</td></tr>
<tr><th>Reporter</th><td>Visalakshi Chidambaram</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-01-02T05:23:35.000+0000</td></tr>
<tr><th>Updated</th><td>2019-12-11T21:46:50.000+0000</td></tr>
</table>

<h3>Description</h3>

This is not a regression as it is reproducible with titanium sdk 3.4.1

Visible property of a view, when set to false under animation, is not working as expected. 

Steps to reproduce:
1. include the following code in app.js and run
<code><pre>
     var _window = Ti.UI.createWindow({
        backgroundColor: '#fff'
    });
 
 var view1 = Ti.UI.createView({
        backgroundColor: 'green',
        top: 10,
        opacity: '1',
        width: 100,
        height: 100
    });
    var label1 = Ti.UI.createLabel({
        top: 60,
        text: 'Background text'
    });
    var view2 = Ti.UI.createView({
        backgroundColor: 'green',
        top: 120,
        width: 100,
        height: 100,
        visible: true
    });
    var label2 = Ti.UI.createLabel({
        top: 170,
        text: 'Background text'
    });


    view1.addEventListener('click', function() {
        view1.animate({
            autoreverse: true,
            duration: 2000,
            repeat: 2,
            backgroundColor: 'blue',
            opacity: '0.1',
        });
    });
    view2.addEventListener('click', function() {
        view2.animate({
            autoreverse: true,
            duration: 3000,
            repeat: 2,
            backgroundColor: 'red',
            visible: false
        });
    });

    _window.add(label1);
    _window.add(view1);
    _window.add(label2);
    _window.add(view2);
   _window.open();
</pre></code>
2. Click on view2 (bottom green square)
3. Comment "backgroundColor: 'red'," in view2 and repeat step 2.
Actual Results:
1. The green square disappears and after some time it appears back again with the color slowly changing from red to green.
2. Nothing happens

Expected Results:
1. Since the animation process involves changing the view's visibility to false and with autoreverse true the visibility should be changed back to true. This process should happen twice as the repeat count is set to 2. Hence, when the background color changes from red to green during the first time, it should be seen and not just during the end of the second time as observed in the actual results. 

2. The view should become invisible and should appear back again as autoreverse is set to true.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-18299.json">JSON Source</a></p>