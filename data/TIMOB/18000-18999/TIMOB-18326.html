---
title: "[TIMOB-18326] Windows: JSValue context issue"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-01-28T19:54:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ingo Muschenetz</td></tr>
<tr><th>Assignee</th><td>Matt Langston</td></tr>
<tr><th>Created</th><td>2015-01-06T20:58:42.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T22:48:05.000+0000</td></tr>
</table>

<h3>Description</h3>

Parroting bug discovered by @garymathews in #23:

> There's a bug with JSValue that prevents it's value being set from another context due to the 'new' context overwriting the one the JSValue was created with. Shouldn't we be retaining the context and just setting the value?

*Example*
<code><pre>
Javascript
var window = Ti.UI.createWindow();

var button = Ti.UI.createButton({
    top: 20,
    bottom: 20,
    width: 200,
    height: Ti.UI.SIZE
})

// Set the title
// This doesn't crash because the text 'BUTTON' belongs to the same
// context 'button' was created in
button.title = 'BUTTON';

button.addEventListener('click',
    function (e) {
        // This will cause a crash due to the context of 'CRASH!'
        // overwriting the context 'title' was created with
        // shouldn't we be retaining the original context?
        button.title = 'CRASH!';
    }
);

window.add(button);
</pre></code>

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2015-01-20

   This is a issue on HAL and fixed in <a href="https://github.com/appcelerator/HAL/pull/21" rel="nofollow" target="_blank">https://github.com/appcelerator/HAL/pull/21</a>, needs to be integrated in titanium_mobile_windows.</li>
<li>Christopher Williams 2015-01-28

   Sounds like this should be fixed now.</li>
<li>Lee Morris 2017-03-22

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18326.json">JSON Source</a></p>