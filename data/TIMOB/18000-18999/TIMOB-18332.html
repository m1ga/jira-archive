---
title: "[TIMOB-18332] iOS: App crashes on deleting last row of tableview"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-01-09T23:30:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.5.0, Release 4.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SDK3.5.0, deleteRow, ios, iphone, regression, tableview</td></tr>
<tr><th>Reporter</th><td>Sebastian Klaus</td></tr>
<tr><th>Assignee</th><td>Jon Alter</td></tr>
<tr><th>Created</th><td>2015-01-06T16:30:58.000+0000</td></tr>
<tr><th>Updated</th><td>2015-01-09T23:30:32.000+0000</td></tr>
</table>

<h3>Description</h3>

<code><pre>
Operating System
  Name                        = Mac OS X
  Version                     = 10.10.2
  Architecture                = 64bit
  # CPUs                      = 8
  Memory                      = 17179869184
Node.js
  Node.js Version             = 0.10.26
  npm Version                 = 2.0.2
Titanium CLI
  CLI Version                 = 3.4.1
Titanium SDK
  SDK Version                 = 3.5.0.RC
  SDK Path                    = /Volumes/Data/Users/sebastian/Library/Application Support/Titanium/mobilesdk/osx/3.5.0.RC
  Target Platform             = iphone
</pre></code>

Deleting the last row of a tableview crashes the app completely and very hard

Testcase:
<code><pre>
var win = Ti.UI.createWindow();

var data = [];
for (var i = 0; i &lt; 10; i++) {
    data.push(Ti.UI.createTableViewRow({
        title: 'row ' + i
    }));
}

var tableView = Ti.UI.createTableView({
    editable: true,
    data: data
});

win.add(tableView);
win.open();
</pre></code>

Error on deleting the last row

<code><pre>
[ERROR] :  The application has crashed with an uncaught exception 'NSRangeException'.
[ERROR] :  Reason:
[ERROR] :  *** -[__NSArrayM objectAtIndex:]: index 19 beyond bounds [0 .. 18]
[ERROR] :  Stack trace:
[ERROR] :  
[ERROR] :  0   CoreFoundation                      0x2736149f &lt;redacted&gt; + 126
[ERROR] :  1   libobjc.A.dylib                     0x34b78c8b objc_exception_throw + 38
[ERROR] :  2   CoreFoundation                      0x272759e1 &lt;redacted&gt; + 0
[ERROR] :  3   TestApp			                   0x000ec063 TestApp + 53347
[ERROR] :  4   TestApp  		                   0x0016d001 TestApp + 581633
[ERROR] :  5   TestApp                   		   0x001786a3 TestApp + 628387
[ERROR] :  6   UIKit                               0x2a913243 &lt;redacted&gt; + 358
[ERROR] :  7   UIKit                               0x2aa11715 &lt;redacted&gt; + 268
[ERROR] :  8   UIKit                               0x2a9ee685 &lt;redacted&gt; + 8348
[ERROR] :  9   TestApp                   		   0x00176fa3 TestApp + 622499
[ERROR] :  10  UIKit                               0x2aa06413 &lt;redacted&gt; + 142
[ERROR] :  11  UIKit                               0x2aadfee5 &lt;redacted&gt; + 68
[ERROR] :  12  UIKit                               0x2a8549fb &lt;redacted&gt; + 70
[ERROR] :  13  UIKit                               0x2a8549a1 &lt;redacted&gt; + 44
[ERROR] :  14  UIKit                               0x2a83f613 &lt;redacted&gt; + 582
[ERROR] :  15  UIKit                               0x2a85440d &lt;redacted&gt; + 588
[ERROR] :  16  UIKit                               0x2a8540e7 &lt;redacted&gt; + 522
[ERROR] :  17  UIKit                               0x2a84d9b1 &lt;redacted&gt; + 544
[ERROR] :  18  UIKit                               0x2a82415d &lt;redacted&gt; + 196
[ERROR] :  19  UIKit                               0x2aa97ab9 &lt;redacted&gt; + 13888
[ERROR] :  20  UIKit                               0x2a822bb9 &lt;redacted&gt; + 1296
[ERROR] :  21  CoreFoundation                      0x27327d57 &lt;redacted&gt; + 14
[ERROR] :  22  CoreFoundation                      0x27327167 &lt;redacted&gt; + 218
[ERROR] :  23  CoreFoundation                      0x273257cd &lt;redacted&gt; + 772
[ERROR] :  24  CoreFoundation                      0x272733c1 CFRunLoopRunSpecific + 476
[ERROR] :  25  CoreFoundation                      0x272731d3 CFRunLoopRunInMode + 106
[ERROR] :  26  GraphicsServices                    0x2e62b0a9 GSEventRunModal + 136
[ERROR] :  27  UIKit                               0x2a882fa1 UIApplicationMain + 1440
[ERROR] :  28  TestApp                  		   0x000e7f1b TestApp + 36635
[ERROR] :  29  libdyld.dylib                       0x350f8aaf &lt;redacted&gt; + 2
[ERROR] :  *** Terminating app due to uncaught exception 'NSRangeException', reason: '*** -[__NSArrayM objectAtIndex:]: index 19 beyond bounds [0 .. 18]'
[ERROR] :  *** First throw call stack:
[ERROR] :  (0x2736149f 0x34b78c8b 0x272759e1 0xec063 0x16d001 0x1786a3 0x2a913243 0x2aa11715 0x2a9ee685 0x176fa3 0x2aa06413 0x2aadfee5 0x2a8549fb 0x2a8549a1 0x2a83f613 0x2a85440d 0x2a8540e7 0x2a84d9b1 0x2a82415d 0x2aa97ab9 0x2a822bb9 0x27327d57 0x27327167 0x273257cd 0x272733c1 0x272731d3 0x2e62b0a9 0x2a882fa1 0xe7f1b 0x350f8aaf)
</pre></code>

<h3>Comments</h3>

<ol>
<li>Jon Alter 2015-01-09

   PRs
   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/6558" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6558</a>
   3_5_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/6559" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6559</a></li>
<li>Wilson Luu 2015-01-09

   Closing ticket as fixed. App does not crash if you delete the last row in the table.
   
   Tested on:
   
   Appcelerator Studio, build: 3.4.1.201410281743
   SDK build:  3.5.0.v20150109131718
   CLI: 3.4.1
   Alloy: 1.5.1
   Xcode: 6.2 beta 3
   Devices: iphone 6 (8.1)
   
   </li>
<li>Ingo Muschenetz 2015-01-09

   SDK build should be 3.5.0.v20150109131718</li>
<li>Wilson Luu 2015-01-09

   Reopening ticket to fix my comment. Used copy and paste from an old note.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18332.json">JSON Source</a></p>