---
title: "[TIMOB-18340] Windows: Error during compilation - TypeError: Cannot read property 'visualstudio' of undefined"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-06-10T05:07:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Shannon Hicks</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2015-01-07T22:55:09.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-16T22:31:52.000+0000</td></tr>
</table>

<h3>Description</h3>

Brand new install, get this error on a brand-new CLI created project (ti create -p windows):

<code><pre>
PS C:\Users\Shannon\Desktop\helloworld&gt; ti build -p windows -T wp-emulator -C 8-1-1 --wp-publisher-guid 00000000-0000-10
00-8000-000000000000

C:\Users\Shannon\AppData\Roaming\npm\node_modules\titanium\node_modules\longjohn\dist\longjohn.js:185
        throw e;
              ^
TypeError: Cannot read property 'visualstudio' of undefined
    at MobileWebBuilder.&lt;anonymous&gt; (C:\ProgramData\Titanium\mobilesdk\win32\3.6.0.v20150107091442\mobileweb\cli\hooks\w
indows.js:107:10)
    at C:\ProgramData\Titanium\mobilesdk\win32\3.6.0.v20150107091442\node_modules\windowslib\index.js:94:5
    at done (C:\ProgramData\Titanium\mobilesdk\win32\3.6.0.v20150107091442\node_modules\windowslib\node_modules\async\li
b\async.js:129:15)
    at C:\ProgramData\Titanium\mobilesdk\win32\3.6.0.v20150107091442\node_modules\windowslib\node_modules\async\lib\asyn
c.js:32:16
    at C:\ProgramData\Titanium\mobilesdk\win32\3.6.0.v20150107091442\node_modules\windowslib\index.js:89:5
    at C:\ProgramData\Titanium\mobilesdk\win32\3.6.0.v20150107091442\node_modules\windowslib\lib\env.js:111:5
    at C:\ProgramData\Titanium\mobilesdk\win32\3.6.0.v20150107091442\node_modules\windowslib\node_modules\async\lib\asyn
c.js:254:17
    at C:\ProgramData\Titanium\mobilesdk\win32\3.6.0.v20150107091442\node_modules\windowslib\node_modules\async\lib\asyn
c.js:151:21
    at C:\ProgramData\Titanium\mobilesdk\win32\3.6.0.v20150107091442\node_modules\windowslib\node_modules\async\lib\asyn
c.js:251:21
    at C:\ProgramData\Titanium\mobilesdk\win32\3.6.0.v20150107091442\node_modules\windowslib\node_modules\async\lib\asyn
c.js:615:34
PS C:\Users\Shannon\Desktop\helloworld&gt; ti build -p windows -T wp-emulator -C 8-1-1 --wp-publisher-guid 00000000-0000-10
00-8000-000000000000
</pre></code>

The only thing that was odd about this install was that I installed everything while running Windows 8.1.... Home? I updated to Windows 8.1 Pro after getting an error about hyper-v not being supported on my edition of Windows. Don't know if it's related.

I tried creating a new project with Ti 3.6.0.v20150107091442 on an existing VMWare install, and it's working there... so it's not this version of the SDK creating a bad project.

<h3>Comments</h3>

<ol>
<li>Christopher Williams 2015-01-08

   There's something very funky going on here, because as you can see it's referencing MobileWebBuilder, not the WindowsBuilder. Somehow it thinks this is mobileweb?</li>
<li>Christopher Williams 2015-01-08

   </li>
<li>Sebasti√°n Ramirez 2015-03-19

   I think this is related to this answer: <a href="http://developer.appcelerator.com/question/176401/longjohn-bad-argument-error-message#answer-281342" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/176401/longjohn-bad-argument-error-message#answer-281342</a>
   
   I had the problem described in that question: 
   
   <code><pre>
   C:\Users\User\AppData\Roaming\npm\node_modules\titanium\node_modules\longjohn\dist\longjohn.js:185
           throw e;
                 ^
   TypeError: Bad argument
       at ChildProcess.spawn (child_process.js:915:24)
       at exports.spawn (child_process.js:715:9)
       at async.parallel.powershell (C:\ProgramData\Titanium\mobilesdk\win32\3.5.1.GA\node_modules\titanium-sdk\lib\windows.js:386:14)
       at C:\ProgramData\Titanium\mobilesdk\win32\3.5.1.GA\node_modules\async\lib\async.js:524:25
       at C:\ProgramData\Titanium\mobilesdk\win32\3.5.1.GA\node_modules\async\lib\async.js:111:13
       at Array.forEach (native)
       at _each (C:\ProgramData\Titanium\mobilesdk\win32\3.5.1.GA\node_modules\async\lib\async.js:32:24)
       at async.each (C:\ProgramData\Titanium\mobilesdk\win32\3.5.1.GA\node_modules\async\lib\async.js:110:9)
       at _parallel (C:\ProgramData\Titanium\mobilesdk\win32\3.5.1.GA\node_modules\async\lib\async.js:523:20)
       at async.parallel (C:\ProgramData\Titanium\mobilesdk\win32\3.5.1.GA\node_modules\async\lib\async.js:539:9)
   [ERROR] Application Installer abnormal process termination. Process exit value was 8
   </pre></code>
   
   I was building the Hello World application from the IDE.
   
   The solution of replacing the line:
   <code><pre>
   if (!selectedVisualStudio) return next();
   </pre></code>
   with:
   <code><pre>
   if (true) return next();
   </pre></code>
   worked for me.
   
   I have:
   Windows 7 64x
   Titanium Studio, build: 3.4.1.201410281727
   Titanium Mobile 3.5.1.GA
   NodeJS: v0.10.13
   Android SDK Manager Revision: 24.1.2
   Android SDKs: 
   5.0.1, 
   4.1.2, 
   4.0, 
   3.0</li>
<li>Kota Iguchi 2015-06-10

   Should be fixed for now.</li>
<li>Lee Morris 2017-03-16

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18340.json">JSON Source</a></p>