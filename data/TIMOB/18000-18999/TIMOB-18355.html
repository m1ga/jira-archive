---
title: "[TIMOB-18355] Create formatting files for C++, Objective-C, Java, and JavaScript"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ingo Muschenetz</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-01-09T18:42:11.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:24.000+0000</td></tr>
</table>

<h3>Description</h3>

We have a number of different formats in use across our various languages. I would like to come up with one format for each language and a set of tools that  can implement/enforce that format.

In general, we seek three goals:

<h4>Where possible, we create a formatting file for existing code bases that creates the least amount of formatting changes.</h4>
<h4>If changes are necessary, it is because we wish to make those code bases similar to other existing code bases.</h4>
<h4>When choosing tooling, we prefer configuring built-in tooling (i.e. adding a formatting file to Eclipse) vs using an external third-party formatter. This is to reduce the amount of effort needed for contributors to adhere to this format.</h4>

Some cross-language tenets we adhere to:

* Indentation: Tabs, with spaces for alignment. Most of our existing code uses tabs.
* Opening curly brace: New line, except for blocks and flow control and lambdas
* Closing curly brace: New line
* Max line length: Prefer 120, but might keep at 200 for existing code bases to reduce formatting
* Tab Width: 4

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2015-01-09

   For C++ and Objective-C I have been experimenting with Clang-Format.
   
   First, I think it would be helpful to create a test file for Objective-C that demonstrates the cases shown in <a href="https://wiki.appcelerator.org/pages/viewpage.action?pageId=30088343" rel="nofollow" target="_blank">https://wiki.appcelerator.org/pages/viewpage.action?pageId=30088343</a>
   
   <h4>C++. Our coding standards are based on Google's, with the following modifications (using clang-format as an example):</h4>
   <h4>BasedOnStyle: Google</h4>
   <h4>UseTab: ForIndentation</h4>
   <h4>IndentWidth: 4</h4>
   <h4>TabWidth: 4</h4>
   <h4>BreakBeforeBraces: Linux</h4>
   <h4>ColumnLimit: 120</h4>
   <h4>AllowShortIfStatementsOnASingleLine: false</h4>
   <h4>AllowShortLoopsOnASingleLine: false</h4>
   <h4>AlwaysBreakBeforeMultilineStrings: false</h4>
   <h4>Standard: Cpp11</h4>
   <h4>Objective-C. We also base these on the clang-format Google standard, since those seem most similar to our current code base, also using the above modifications. One challenge is that our stand explicitly says no space between the '\+' and '(' here: <code>+(TiOrientationFlags) TiOrientationFlagsFromObject:(id)args</code>. I seem to be unable to find a clang-format option to control this.</h4>
   <h4>Java: We should see if we can use the same formatting file for Studio and Android</h4>
   <h4>JavaScript: </h4>
   
   Next, find tooling and create formatting files as appropriate
   <h4>C++. Create a Visual Studio formatting file and clang-format file and make them agree</h4>
   <h4>Objective-C. Create a clang-format file that we can use in Xcode</h4>
   <h4>Java: Create a Eclipse and Android Studio formatting file and make them agree</h4>
   <h4>JavaScript. Create Appcelerator Studio and Atom formatting files. The Appcelerator Studio defaults should be tweaked to match this.</h4></li>
<li>Ingo Muschenetz 2015-03-02

   [~vduggal] [~msamah] [~cng] [~jalter] please review: <a href="https://github.com/appcelerator/titanium_mobile/pull/6675" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6675</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-18355.json">JSON Source</a></p>