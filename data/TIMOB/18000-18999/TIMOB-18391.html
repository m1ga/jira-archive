---
title: "[TIMOB-18391] iOS: Using String.format with multiple parameters crashes application"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-03-20T23:41:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.0.0, Release 4.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Mauro Piccotti</td></tr>
<tr><th>Assignee</th><td>Jon Alter</td></tr>
<tr><th>Created</th><td>2015-01-15T15:21:28.000+0000</td></tr>
<tr><th>Updated</th><td>2015-04-27T16:36:31.000+0000</td></tr>
</table>

<h3>Description</h3>

Behaviour of this bug is very strange, in other occasions I had problems with String.format and parameters, but this one worked until this morning, before upgrading to 3.5.

Inside strings.xml:
<string name="msgAppUpdateAvailable">Si prega di aggiornare l'app alla versione %s (versione corrente %s)</string>

Everywhere, even in index.js:
Ti.API.debug(L('msgAppUpdateAvailable'));
Ti.API.debug(String.format("Si prega di aggiornare l'app alla versione %s (versione corrente %s)", Ti.App.version, Ti.App.version));
Ti.API.debug("PORCODDIO");
Ti.API.debug(String.format(L('msgAppUpdateAvailable'), Ti.App.version, Ti.App.version));

If I remove second %s and second parameters it works.

Console:
[DEBUG] :  Si prega di aggiornare l'app alla versione %@ (versione corrente %@)
[DEBUG] :  Si prega di aggiornare l'app alla versione 1.8 (versione corrente 1.8
[DEBUG] :  PORCODDIO
[DEBUG] :  [ioslib] [ios-sim] [DEBUG] Session did end with error (null)
[DEBUG] :  [ioslib] [ios-sim] [DEBUG] Removing named pipe at <code>/var/folders/js/k7c7r3m95fz8gpq0gf51hz0c0000gn/T//ios-sim-stderr-pipe-1421334682'
[DEBUG] :  [ioslib] [ios-sim] [DEBUG] Removing named pipe at </code>/var/folders/js/k7c7r3m95fz8gpq0gf51hz0c0000gn/T//ios-sim-stdout-pipe-1421334682'
[DEBUG] :  [ioslib] [ios-sim] Exited with code: 0

<h3>Comments</h3>

<ol>
<li>Anthony Njuguna 2015-03-17

   Is there a current workaround?
   Experiencing same issue when String.Formart is used with more than one argument. 
   The App suddenly crashes with no warning 
   
   Issue found when upgraded project to 3.5.x</li>
<li>Jon Alter 2015-03-20

   PR:
   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/6737" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6737</a>
   4_0_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/6738" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6738</a></li>
<li>Ewan Harris 2015-03-25

   Verified fix using:
   
   Mac OSX 10.10.2
   Titanium SDK build:   4.0.0.v20150323131014
   Titanium CLI, build: 4.0.0-alpha
   Alloy: 1.6.0-alpha
   Xcode 6.2
   iOS 8.2 Simulator
   
   Using the attached code built to device, the app no longer crashes.
   
   Closing ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18391.json">JSON Source</a></p>