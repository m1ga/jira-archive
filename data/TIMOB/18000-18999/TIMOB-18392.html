---
title: "[TIMOB-18392] Android: ImageView with ImageArray, does not fire 'stop' event after repeatCount value has been reached"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-03-05T21:23:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.4.0, Release 3.4.1, Release 3.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>animation, imageView, images, stop</td></tr>
<tr><th>Reporter</th><td>Malcolm Hollingsworth</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2015-01-15T16:53:25.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-16T22:21:03.000+0000</td></tr>
</table>

<h3>Description</h3>

When using the ImageView with an *array* of images using the *images* property and *repeatCount* set to a non-zero value - the event *stop does not fire*.

The event *start* *does* fire upon starting, however the *stop* event does *not*.

<code><pre>
&lt;ImageView
    id="img"
    backgroundColor="purple",
    duration="200",
    height="50",
    repeatCount="20",
    width="50"
/&gt;
</pre></code>

<code><pre>
var handler = function (e) {
    var currentdate = new Date(); 
    var datetime =  + currentdate.getHours() + ":"  
        + currentdate.getMinutes() + ":" 
        + currentdate.getSeconds();

    Ti.API.info(e.type + ': ' + datetime);
};
$.img.addEventListener('start', handler);
$.img.addEventListener('stop', handler);
$.img.setImages([
    "/images/red/red1.png",
    "/images/red/red2.png",
    "/images/red/red3.png",
    "/images/red/red4.png",
]);
$.img.start();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Shuo Liang 2015-01-16

   Problem can be reproduced on SDK 3.5.0.GA
   
   Here is the test case:
   <code><pre>
   var win = Ti.UI.createWindow({
   	backgroundColor:'White'
   });
   
   var imageView = Ti.UI.createImageView({
   	id:"img",
       backgroundColor:"purple",
       duration:"2000",
       height:"50",
       repeatCount:"10",
       width:"50",
       images:[
       	"/images/Test/1.png",
       	"/images/Test/2.png",
       	"/images/Test/3.png",
       	"/images/Test/4.png"
       ]
   });
   imageView.addEventListener('start', function(e) {
   	alert("start animation");
   });
   imageView.addEventListener('stop', function(e) {
   	alert("stop animation");
   });
   
   imageView.start();
   
   win.add(imageView);
   win.open();
   </pre></code></li>
<li>Hieu Pham 2015-03-03

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6683" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6683</a></li>
<li>Lee Morris 2017-03-16

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18392.json">JSON Source</a></p>