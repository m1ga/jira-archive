---
title: "[TIMOB-18433] Android: Text field hint text is not visible on a white background"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-03-11T21:23:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 4.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.0.0, Release 4.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>qe-4.0.0, regression</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2015-01-23T00:13:58.000+0000</td></tr>
<tr><th>Updated</th><td>2015-05-11T20:24:41.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When using the code below the hint text of a text field is not shown when the background color is set to white, if another background color such as black is used then it is possible to see the hint text. 

I believe this *is a regression* as this only occurs in 3.6.0 versions of the SDK, 3.5.1 and 3.5.0.GA SDKs do not show this behavior, the hint text can be seen fine using these. 

It *does not occur* on iOS.

<code><pre>
var win = Ti.UI.createWindow({backgroundColor: '#fff'});
var text = "Can you see me?";
var text1 = Ti.UI.createTextField({hintText: 'Can you see me',color:'#000',top: 10,});
var text2 = Ti.UI.createTextField({hintText: 'Can you see me',color:'#000',top: 50,});
win.add(text1);
win.add(text2);
win.open();
</pre></code>

<h4>Steps To Reproduce</h4>

1. Using the provided code build to a device with a 3.6.0 SDK selected.

<h4>Actual Result</h4>

The hint text of the text fields will not be displayed

<h4>Expected Result</h4>

The hint text should be displayed

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-18433_53777/3.5.0HintText.png">3.5.0HintText.png</td></td><td>2015-01-23T00:13:58.000+0000</td><td>33585</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-18433_53778/3.6.0HintText.png">3.6.0HintText.png</td></td><td>2015-01-23T00:13:58.000+0000</td><td>16371</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ashraf Abu 2015-03-02

   Seems to be a theme issue.
   
   In tiapp.xml, if I replace the android xml portion from:-
   
   <android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"/>
   
   to:-
   
       <android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">
           <manifest>
               <application android:theme="@style/Theme.AppCompat.Light.DarkActionBar"/>
           </manifest>
       </android>
   
   It will work.</li>
<li>Ashraf Abu 2015-03-02

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6676" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6676</a>
   
   -In the mean time, if you do want a fix just edit the tiapp.xml file as mentioned in the previous comment.-
   
   Open further investigation, this would actually change the whole theme. This might not be the right answer to this.</li>
<li>Ashraf Abu 2015-03-02

   This seems to be also how it behaves in a native app when the parent layout of the edittext has "android:background="#ffffff". 
   
   I think the best solution would be to expose <a href="http://developer.android.com/reference/android/widget/TextView.html#setHintTextColor(int)" rel="nofollow" target="_blank">http://developer.android.com/reference/android/widget/TextView.html#setHintTextColor(int)</a> which I will proceed to do.</li>
<li>Ashraf Abu 2015-03-04

   [~hpham]: Could I get you thoughts on this?
   
   Here's what I've found out so far. Using <code>Ti.UI.createTextArea</code> and <code>Ti.UI.createTextField</code> on a white background will cause the hint text to not be visible. This is due to the default theme being <code>Theme.AppCompat</code>. 
   
   The default behavior on a native app sets the background to something dark. Hence, hint text is visible. When using the same theme in a native app on a white background, the hint text as well as the under line that tells you it is a EditText is not visible. Thus, this seems to be a native behavior.
   
   If you edit the tiapp.xml with the following:-
   <code><pre>
   <android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">
           <manifest>
           	<application android:theme="@style/Theme.AppCompat.Light.DarkActionBar"/>
       	</manifest>
   </android>
   </pre></code>
   
   It will use the light theme which uses a white background and the underline of each EditText as well as hint text is visible. 
   
   Conversely is true as well. Using the Theme.AppCompat.Light.DarkActionBar on a black background will cause the hint text and underline to be not visible.
   
   Solution Suggestion:-
   1) If using a white background, advice users to edit the tiapp.xml as above. If using a black background, users can remain using the default theme Theme.AppCompat.
   2) <a href="https://github.com/appcelerator/titanium_mobile/commit/c739c3b4f712a031e4f55ae4ec9348ae9d2bf0d9" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/c739c3b4f712a031e4f55ae4ec9348ae9d2bf0d9</a> will be available and users can use Attributed Hint Strings to style the hints how they want it to be. The caveat is the underline to show that the edit text is there wont be visible still on a white background.
   3) Expose setHint. This actually wont change the underline color. Similar to number 2.
   
   I think number 1 should be the answer. The downside to doing that is that everything will also follow that style. Eg, creating Buttons and not styling it will result the button to follow the new theme. I don't think this is too much of a downside.
   
   And if anyone else have thoughts on this, please comment on this as well.</li>
<li>Ashraf Abu 2015-03-04

   Another suggestion:
   4)
   Styles (Themes) can only be applied to View before it is inflated if it is in the xml. So, we could create 2 layouts for EditText. One using the light theme, another using the dark theme, here: <a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/res/layout/titanium_ui_edittext.xml" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/res/layout/titanium_ui_edittext.xml</a>
   
   Then, in the createTextArea/createTextField, we can create one more new attribute deciding which theme a user wants to use. Then on create, inflate <a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/src/java/ti/modules/titanium/ui/widget/TiUIText.java#L96." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/src/java/ti/modules/titanium/ui/widget/TiUIText.java#L96.</a> 
   
   The only missing puzzle to using this method is that this has to be done in the constructor (in TiUIText) due to the inflating of the View (EditText), and the attributes are only read later (as far as I know right now) in the processProperties method. You can't get it in the constructor. </li>
<li>Ashraf Abu 2015-03-06

   [~eharris]
   
   I think I've concluded that the best way is actually to specify the correct theme to use initially.
   If you are planning to use a white background on the windows:-
   Please edit the tiapp.xml with either of this:-
   <code><pre>
   <android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">
   <manifest>
   <application android:theme="@style/Theme.AppCompat.Light.DarkActionBar"/>
   </manifest>
   </android>
   </pre></code>
   
   or
   
   <code><pre>
   <android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">
   <manifest>
   <application android:theme="@style/Theme.AppCompat.Light"/>
   </manifest>
   </android>
   </pre></code>
   
   The default theme that the app is running is Theme.AppCompat which is for a dark theme with black background.
   
   If you do want to change the color of the hint text, you can use <a href="https://github.com/appcelerator/titanium_mobile/commit/c739c3b4f712a031e4f55ae4ec9348ae9d2bf0d9" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/c739c3b4f712a031e4f55ae4ec9348ae9d2bf0d9</a> Attributed Hint Text.</li>
<li>Ashraf Abu 2015-03-10

   [~hpham] for review: PR <a href="https://github.com/appcelerator/titanium_mobile/pull/6676." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6676.</a> 
   
   There are 3 ways to solve this issue:-
   1) Change your theme as mentioned above
   2) Use the new hint text color property that is exposed in the PR
   3) Use attributed text hint that will be available in the future
   
   Test case for PR:-
   <code><pre>
   var win = Ti.UI.createWindow({backgroundColor: '#fff'});
   var text = "Can you see me?";
   var text1 = Ti.UI.createTextField({hintText: 'Can you see me', hintTextColor:'#0FF', color:'#000',top: 10,});
   var text2 = Ti.UI.createTextField({hintText: 'Can you see me', hintTextColor:'#FF0', color:'#000',top: 50,});
   win.add(text1);
   win.add(text2);
   win.open();
   </pre></code></li>
<li>Ingo Muschenetz 2015-03-12

   [~hpham] could you please backport this?</li>
<li>Jon Alter 2015-03-21

   4_0_X backport: <a href="https://github.com/appcelerator/titanium_mobile/pull/6741" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6741</a></li>
<li>Eric Wieber 2015-03-24

    Verified fixed using:
    
    Titanium SDK 4.0.0.v20150323131014
    Studio 4.0.0.201503231407
    Appc NPM: 0.3.34
    Appc CLI 0.2.187
    
    On: Nexus 5 emulator, Android 4.4.2</li>
</ol>


<p><a href="/TIMOB/TIMOB-18433.json">JSON Source</a></p>