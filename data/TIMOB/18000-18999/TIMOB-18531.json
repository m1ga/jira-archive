{
	"id": "144341",
	"key": "TIMOB-18531",
	"fields": {
		"issuetype": {
			"id": "4",
			"description": "An improvement or enhancement to an existing feature or task.",
			"name": "Improvement",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "17707",
				"name": "Release 5.3.0",
				"archived": false,
				"released": true,
				"releaseDate": "2016-06-04"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2016-03-29T16:08:48.000+0000",
		"created": "2015-02-06T14:44:28.000+0000",
		"priority": {
			"name": "High",
			"id": "2"
		},
		"labels": [],
		"versions": [
			{
				"id": "16925",
				"description": "WatchKit Support--all going into 5.0 now",
				"name": "Release 5.0.0",
				"archived": true,
				"released": true,
				"releaseDate": "2015-09-16"
			}
		],
		"issuelinks": [
			{
				"id": "45757",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"inwardIssue": {
					"id": "128399",
					"key": "TIMOB-16748",
					"fields": {
						"summary": "Windows Hybrid: Add Windows Phone settings to \"ti setup\"",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Medium",
							"id": "3"
						},
						"issuetype": {
							"id": "2",
							"description": "A new feature of the product, which has yet to be developed.",
							"name": "New Feature",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "50211",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"inwardIssue": {
					"id": "149157",
					"key": "TISTUD-7617",
					"fields": {
						"summary": "Windows: If no publisher GUID is set in preferences then the build will fail",
						"status": {
							"description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
							"name": "Resolved",
							"id": "5",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "4",
							"description": "An improvement or enhancement to an existing feature or task.",
							"name": "Improvement",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "gmathews",
			"key": "gmathews",
			"displayName": "Gary Mathews",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"updated": "2016-05-12T21:07:07.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "12642",
				"name": "Windows",
				"description": "Windows authoring support"
			}
		],
		"description": "The {{--win-publisher-id}} or {{-I}} option is required for {{ti build}}, so it must be given on every build if not set via {{ti setup}} (TIMOB-16748).\r\n\r\nOn Android, we use the the {{dev_keystore}} included in the SDK when none is given.\r\n\r\nWould it be an option to have a similar approach for Windows and default to the {{00000000-0000-1000-8000-000000000000}} mentioned in the [blog|http://www.appcelerator.com/blog/2014/12/windows-platform-preview/] for example ?",
		"attachment": [],
		"flagged": false,
		"summary": "Windows: Use default publisher-guid when none is given on build",
		"creator": {
			"name": "fokkezb",
			"key": "fokke",
			"displayName": "Fokke Zandbergen",
			"active": true,
			"timeZone": "Europe/Amsterdam"
		},
		"subtasks": [],
		"reporter": {
			"name": "fokkezb",
			"key": "fokke",
			"displayName": "Fokke Zandbergen",
			"active": true,
			"timeZone": "Europe/Amsterdam"
		},
		"environment": "SDK: master\r\nCLI: master",
		"closedSprints": [
			{
				"id": 614,
				"state": "closed",
				"name": "2016 Sprint 07 SDK",
				"startDate": "2016-03-26T00:38:56.432Z",
				"endDate": "2016-04-09T00:38:00.000Z",
				"completeDate": "2016-04-11T04:41:08.231Z",
				"originBoardId": 114
			},
			{
				"id": 494,
				"state": "closed",
				"name": "2015 Sprint 20 SDK",
				"startDate": "2015-09-26T00:29:19.845Z",
				"endDate": "2015-10-10T00:29:00.000Z",
				"completeDate": "2015-10-12T05:33:30.964Z",
				"originBoardId": 114
			},
			{
				"id": 574,
				"state": "closed",
				"name": "2016 Sprint 4 SDK",
				"startDate": "2016-02-13T01:33:48.415Z",
				"endDate": "2016-02-27T01:33:00.000Z",
				"completeDate": "2016-02-29T03:44:48.886Z",
				"originBoardId": 114
			}
		],
		"comment": {
			"comments": [
				{
					"id": "357145",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "I think this may make sense for development builds, but we'd likely want to enforce the user supplies one explicitly for any production/packaging builds intended to be released eitehr ad-hoc or to the stores...",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2015-07-07T14:15:52.000+0000",
					"updated": "2015-07-07T14:15:52.000+0000"
				},
				{
					"id": "357148",
					"author": {
						"name": "fokkezb",
						"key": "fokke",
						"displayName": "Fokke Zandbergen",
						"active": true,
						"timeZone": "Europe/Amsterdam"
					},
					"body": "Yes, for sure. And we might want to do that for Android store builds as well as I think atm it defaults to the developer keystore without notice.",
					"updateAuthor": {
						"name": "fokkezb",
						"key": "fokke",
						"displayName": "Fokke Zandbergen",
						"active": true,
						"timeZone": "Europe/Amsterdam"
					},
					"created": "2015-07-07T14:25:27.000+0000",
					"updated": "2015-07-07T14:25:27.000+0000"
				},
				{
					"id": "365695",
					"author": {
						"name": "gmathews",
						"key": "gmathews",
						"displayName": "Gary Mathews",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "PR: https://github.com/appcelerator/titanium_mobile_windows/pull/447",
					"updateAuthor": {
						"name": "gmathews",
						"key": "gmathews",
						"displayName": "Gary Mathews",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2015-10-02T19:30:43.000+0000",
					"updated": "2015-10-02T19:30:43.000+0000"
				},
				{
					"id": "375791",
					"author": {
						"name": "eharris",
						"key": "eharris",
						"displayName": "Ewan Harris",
						"active": true,
						"timeZone": "Europe/Dublin"
					},
					"body": "Reopening ticket:\r\n\r\nWindows 10 Pro\r\nVS 2015 Update 1\r\nAppc NPM: 4.2.3-1\r\nAppc Core: 5.2.0-239\r\nTi SDK: 5.2.0.v20160202103508\r\n\r\nh5.Steps to reproduce\r\n\r\n# Remove publisherId from you titanium config {{ti config -r windows.publisherId}}\r\n# Build a project using {{appc run -p windows -T wp-device --deploy-type production -l trace}}\r\n\r\nh5.Actual result \r\n\r\nBuild errors out with the below\r\n{code}\r\n2016-02-02T22:24:57.621Z | ERROR  | An uncaught exception was thrown!\r\nCannot read property 'indexOf' of undefined\r\n2016-02-02T22:24:57.625Z | ERROR  | Cannot read property 'indexOf' of undefined\r\n2016-02-02T22:24:57.628Z | TRACE  | TypeError: Cannot read property 'indexOf' of undefined\r\n    at WindowsBuilder.initialize (C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\windows\\cli\\commands\\_build\\initialize.js:71:22)\r\n    at C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:689:13\r\n    at iterate (C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:265:13)\r\n    at process._tickCallback (node.js:355:11)\r\n---------------------------------------------\r\n    at C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:275:35\r\n    at C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:44:16\r\n    at C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:694:17\r\n    at C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:173:37\r\n    at WindowsBuilder.doAnalytics (C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\windows\\cli\\commands\\_build\\analytics.js:56:2)\r\n    at C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:689:13\r\n    at iterate (C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:265:13)\r\n    at process._tickCallback (node.js:355:11)\r\n---------------------------------------------\r\n    at C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:275:35\r\n    at C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:44:16\r\n    at C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:694:17\r\n    at C:\\ProgramData\\Titanium\\mobilesdk\\win32\\5.2.0.v20160202103508\\node_modules\\node-appc\\node_modules\\async\\lib\\async.js:173:37\r\n    at C:\\Users\\ewanh\\.appcelerator\\install\\5.2.0-239\\package\\node_modules\\titanium\\node_modules\\async\\lib\\async.js:52:16\r\n    at WindowsBuilder.done (C:\\Users\\ewanh\\.appcelerator\\install\\5.2.0-239\\package\\node_modules\\titanium\\node_modules\\async\\lib\\async.js:248:21)\r\n    at WindowsBuilder.<anonymous> (C:\\Users\\ewanh\\.appcelerator\\install\\5.2.0-239\\package\\node_modules\\titanium\\node_modules\\async\\lib\\async.js:44:16)\r\n    at CLI._fireHookCallback (C:\\Users\\ewanh\\.appcelerator\\install\\5.2.0-239\\package\\node_modules\\titanium\\lib\\hook.js:269:12)\r\n    at C:\\Users\\ewanh\\.appcelerator\\install\\5.2.0-239\\package\\node_modules\\titanium\\lib\\hook.js:248:10\r\n{code}\r\n\r\nh5.Expected result\r\n\r\nBased off the discussion on the pull request, I believe the build should prompt for a publisherId\r\n\r\n*Note*\r\n\r\nAlso when building for {{dist-winstore}} or {{dist-phonestore}} there is no prompt asking for a publisherId",
					"updateAuthor": {
						"name": "eharris",
						"key": "eharris",
						"displayName": "Ewan Harris",
						"active": true,
						"timeZone": "Europe/Dublin"
					},
					"created": "2016-02-02T22:33:05.000+0000",
					"updated": "2016-02-02T22:33:51.000+0000"
				},
				{
					"id": "375861",
					"author": {
						"name": "fokkezb",
						"key": "fokke",
						"displayName": "Fokke Zandbergen",
						"active": true,
						"timeZone": "Europe/Amsterdam"
					},
					"body": "Seems like publisherId is null instead of expected string here:\r\nhttps://github.com/garymathews/titanium_mobile_windows/blob/1c1ba7fc02e5a93b3a0b3612f2b5c08cd2fe53c3/cli/commands/_build/initialize.js#L67",
					"updateAuthor": {
						"name": "fokkezb",
						"key": "fokke",
						"displayName": "Fokke Zandbergen",
						"active": true,
						"timeZone": "Europe/Amsterdam"
					},
					"created": "2016-02-03T09:38:53.000+0000",
					"updated": "2016-02-03T09:38:53.000+0000"
				},
				{
					"id": "375885",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "I was imprecise in my language as I said \"production/packaging\" builds should prompt. You thought of a test case I hadn't considered, which was a production deploy type on device - I was thinking simply the dist-phonestore and dist-winstore targets. But in this case, if you're explicitly choosing production deploy type, then yeah it probably also makes sense to force a real publisherid here.\r\n\r\n",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2016-02-03T15:38:03.000+0000",
					"updated": "2016-02-03T15:38:03.000+0000"
				},
				{
					"id": "377702",
					"author": {
						"name": "gmathews",
						"key": "gmathews",
						"displayName": "Gary Mathews",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "PR: https://github.com/appcelerator/titanium_mobile_windows/pull/567",
					"updateAuthor": {
						"name": "gmathews",
						"key": "gmathews",
						"displayName": "Gary Mathews",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-02-24T01:21:37.000+0000",
					"updated": "2016-02-24T01:21:37.000+0000"
				},
				{
					"id": "380300",
					"author": {
						"name": "eharris",
						"key": "eharris",
						"displayName": "Ewan Harris",
						"active": true,
						"timeZone": "Europe/Dublin"
					},
					"body": "Reopening ticket:\r\n\r\nWindows 10 Pro\r\nAppc NPM: 4.2.4-2\r\nAppc Core: 5.2.1-17\r\nTitanium SDK: 5.3.0.v20160318230005\r\n\r\nh5.Steps to reproduce\r\n\r\n1. Remove publisherId from you titanium config {{ti config -r windows.publisherId}}\r\n2. Build a project using {{appc run -p windows -T dist-phonestore}}\r\n\r\nh5.Actual result\r\n\r\nWhen building to {{dist-phonestore}} or {{dist-winstore}} the CLI does not prompt for a publsiher-guid.\r\n\r\nh5.Expected result\r\n\r\nI should be prompted to enter a guid when building for {{dist-phonestore}} or {{dist-winstore}} ",
					"updateAuthor": {
						"name": "eharris",
						"key": "eharris",
						"displayName": "Ewan Harris",
						"active": true,
						"timeZone": "Europe/Dublin"
					},
					"created": "2016-03-21T23:29:56.000+0000",
					"updated": "2016-03-21T23:29:56.000+0000"
				},
				{
					"id": "380374",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "[~gmathews] Can you take a look? This got re-opened again...",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2016-03-22T16:11:45.000+0000",
					"updated": "2016-03-22T16:11:45.000+0000"
				},
				{
					"id": "380781",
					"author": {
						"name": "kiguchi",
						"key": "kota",
						"displayName": "Kota Iguchi",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "If I understand correctly currently prompt is shown only when {{deploy-type}} is {{production}}. [cli/commands/_build/config/winPublisherId.js|https://github.com/appcelerator/titanium_mobile_windows/pull/567/files] ",
					"updateAuthor": {
						"name": "kiguchi",
						"key": "kota",
						"displayName": "Kota Iguchi",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-03-28T10:17:07.000+0000",
					"updated": "2016-03-28T10:17:07.000+0000"
				},
				{
					"id": "380789",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "So perhaps this is just an issue of us not defaulting deployType to 'production' on dist-* target builds?",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2016-03-28T13:45:49.000+0000",
					"updated": "2016-03-28T13:45:49.000+0000"
				},
				{
					"id": "380871",
					"author": {
						"name": "kiguchi",
						"key": "kota",
						"displayName": "Kota Iguchi",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "https://github.com/appcelerator/titanium_mobile_windows/pull/597",
					"updateAuthor": {
						"name": "kiguchi",
						"key": "kota",
						"displayName": "Kota Iguchi",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-03-29T02:45:23.000+0000",
					"updated": "2016-03-29T02:45:23.000+0000"
				},
				{
					"id": "385580",
					"author": {
						"name": "eharris",
						"key": "eharris",
						"displayName": "Ewan Harris",
						"active": true,
						"timeZone": "Europe/Dublin"
					},
					"body": "Verified using: \r\n\r\nWindows 10 Pro\r\nVisual Studio 2015 Community Update 2\r\nAppc Core: 5.3.0-43\r\nAppc NPM: 4.2.5-5\r\nTi SDK: 5.3.0.v20160512105713\r\n\r\nPrompt for publisher-guid is now shown when packaging the app for dist-winstore and dist-phonestore and also when building with {{\\--deploy-type}} set to production for wp-emulator, wp-device and ws-local.\r\n\r\nClosing ticket",
					"updateAuthor": {
						"name": "eharris",
						"key": "eharris",
						"displayName": "Ewan Harris",
						"active": true,
						"timeZone": "Europe/Dublin"
					},
					"created": "2016-05-12T21:06:59.000+0000",
					"updated": "2016-05-12T21:06:59.000+0000"
				}
			],
			"maxResults": 13,
			"total": 13,
			"startAt": 0
		}
	}
}