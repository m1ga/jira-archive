---
title: "[TIMOB-18536] Can't use createDensityScaledBitmap() with 9-patch"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>3.6.0, andoid</td></tr>
<tr><th>Reporter</th><td>grebulon</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-02-08T15:07:02.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:10.000+0000</td></tr>
</table>

<h3>Description</h3>

I was looking at the upcoming code changes in the master branch, and noticed that in TiFileHelper$loadDrawable, at the code that handles 9-patch, you create the bitmap using TiUIHelper.createDensityScaledBitmap. Then you pass it to the 9-patch processor.
If the target density is changed, this will ruin the borders of the 9-patch and the processor will see it as a normal bitmap.

<h3>Comments</h3>

<ol>
<li>grebulon 2015-04-22

   Noticed that this was somehow handled in the master branch but only for background property. The current "fix" won't work for ImageView src for example. My suggested fix for this problem (and the way I fixed it locally) is here:
   ï»¿<a href="https://www.dropbox.com/s/slvy2dk07tb2pi3/TiFileHelper.java?dl=0" rel="nofollow" target="_blank">https://www.dropbox.com/s/slvy2dk07tb2pi3/TiFileHelper.java?dl=0</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-18536.json">JSON Source</a></p>