---
title: "[TIMOB-18629] CLI: Warn if using an unsupported Node version"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-03-03T22:56:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.4.2</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ingo Muschenetz</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2015-03-02T19:54:04.000+0000</td></tr>
<tr><th>Updated</th><td>2015-03-05T19:35:07.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently, if you upgrade to Node 0.12 and attempt to build with a pre-3.5.1 SDK, it will fail. This is expected by us, but confusing to the end user.

To fix, we will warn the user that they should downgrade (or upgrade) to a supported node version

<h4>Check the root package.son file for the node range supported</h4>
<h4>Compare that against the node version installed.</h4>
<h4>If the installed range lies outside the supported range, print a *HIGHLY VISIBLE WARNING* that this node version may not work as expected and encourage them to upgrade (if older) or downgrade (if newer) to a supported node version.</h4>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2015-03-02

   node-appc v0.2.25 <a href="https://github.com/appcelerator/node-appc/pull/107" rel="nofollow" target="_blank">https://github.com/appcelerator/node-appc/pull/107</a>
   
   Titanium CLI master pull request: <a href="https://github.com/appcelerator/titanium/pull/194" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/194</a>
   Titanium CLI 3_5_X pull request: <a href="https://github.com/appcelerator/titanium/pull/195" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/195</a>
   Titanium CLI 3_4_X pull request: <a href="https://github.com/appcelerator/titanium/pull/198" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/198</a></li>
<li>Chris Barber 2015-03-02

   To test, install Node.js 0.12.0, then run:
   
   <code><pre>
   ti sdk install 3.5.0.GA
   ti sdk install -b 3_5_X -d
   
   <h4>should work</h4>
   ti build -p ios
   
   <h4>should show error message</h4>
   ti build -p ios --sdk 3.5.0.GA
   </pre></code>
   
   Install Node.js 0.10.36 (or whatever), then run the build commands above again.</li>
<li>Chris Barber 2015-03-03

   [~ingo] That's easy enough. I'll get an update today.</li>
<li>Chris Barber 2015-03-03

   Titanium CLI master PR: <a href="https://github.com/appcelerator/titanium/pull/199" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/199</a>
   Titanium CLI 3_5_X PR: <a href="https://github.com/appcelerator/titanium/pull/201" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/201</a>
   Titanium CLI 3_4_X PR: <a href="https://github.com/appcelerator/titanium/pull/200" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/200</a>
   
   To test fully test this, you need to use a Node.js version from the future. Since there's nothing newer than 0.12, this is going to be impossible. You will need to edit the titanium.js and fake the process.version.
   
   Also, this PR introduces a new CLI config setting: <code>cli.hideNodejsWarning</code>. It defaults to false. You can test this by running:
   
   <code><pre>
   ti build -p ios --config "{cli:{hideNodejsWarning:true}}"
   </pre></code></li>
<li>Ingo Muschenetz 2015-03-03

   Could you test this by following the steps here: TIMOB-18632?</li>
<li>Praveen Innamuri 2015-03-03

   The only problem I noticed is with the below configuration -
   - Node v0.12 is installed.
   - Selected Titanium SDK is 3.5.0.GA
   - Create a Titanium app with SDK set to 3.5.1.x and build the command using `<code>ti build -p ios</code>`
   
   The above command will end abruptly while it tries to load node-ios-device libraries without any errors/warnings. However, if we we run the same command with the --sdk parameter, then it runs without any errors as expected.</li>
<li>Eric Wieber 2015-03-05

   Verified fixed, using:
   
   Titanium SDK 3.5.1.v20150305100816 & 3.5.0.GA
   CLI 3.4.2-rc4
   
   Warnings about node support are correctly shown for the indicated commands.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18629.json">JSON Source</a></p>