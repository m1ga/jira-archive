---
title: "[TIMOB-18631] Android: AlertDialog.show() causes crash"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2015-03-12T22:12:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Leor Brenman</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2015-03-03T00:19:13.000+0000</td></tr>
<tr><th>Updated</th><td>2016-02-12T19:15:49.000+0000</td></tr>
</table>

<h3>Description</h3>

AlertDIalog show() causes crash on Android but OK on iOS

I have a demo app that i am creating and want to show() and AlertDialog on a button click to confirm the user's action.

I am following the code example in the online docs and it works fine on iOS. On Android it will work once or twice and then on the 3rd or fourth time, it causes a fatal crash (logs attached).

Ricardo has the project and can help anyone in Mountain View.

TEST ACCOUNT LOGIN:
username: a
password: 1234

When I use the same code in a simpler Hello World app it works fine on iOS and Android.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-18631_54413/addApproval_fixed.zip">addApproval_fixed.zip</td></td><td>2015-03-12T01:44:52.000+0000</td><td>2481</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-18631_54285/logcat.rtf">logcat.rtf</td></td><td>2015-03-03T00:19:13.000+0000</td><td>24582</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2015-03-03

   [~ralcocer] Can we extract this out into a test case to attach to the ticket?</li>
<li>Ricardo Alcocer 2015-03-03

   Leor created a minimalist test case but it's not giving any errors.  It appears to be a combination of factors, but the patterns [~lbrenman] is using are not really unusual.  I suppose I could post the whole project for review, if [~lbrenman] is fine with that.</li>
<li>Leor Brenman 2015-03-03

   I am fine with that :)</li>
<li>Ricardo Alcocer 2015-03-03

   The project has modules and whatnot, so it exceeds the size allowed by Jira, but can be downloaded from : <a href="http://sht.tl/iS9rrP" rel="nofollow" target="_blank">http://sht.tl/iS9rrP</a> .  [~lbrenman] created a test user "a" with password "1234".</li>
<li>Pedro Enrique 2015-03-11

   I've looked at the code but not tested it yet. You are creating an AlertDialog in the XML and showing it later. The AlertDialog is not meant to be used like that, it's meant to be created, shown, and garbage collected. Try creating the alert in code and showing it as soon as it's created. Create one instance per "show" that you need. They're not meant to be recycled.</li>
<li>Leor Brenman 2015-03-11

   That will be great if this is the case and i will check this out. However, i copied this code directly from our API docs at:
   
   <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.UI.AlertDialog
   
   Are the docs wrong or did i misinterpret the docs?</li>
<li>Leor Brenman 2015-03-12

   Your suggestion worked!! Thanks.
   
   I think we need to convert this to a document JIRA because the documentation does not clearly explain this and implies that you can implement via XML and js.
   
   If you agree can you convert this to a documentation bug or i can, but will defer to your advice.</li>
<li>Leor Brenman 2015-03-12

   Fixed controller with Pedro's suggested fix</li>
<li>Hieu Pham 2015-03-12

   Unable to reproduce with this test case
   <code><pre>
   var win = Ti.UI.createWindow();
       var btn = Ti.UI.createButton({
           title:'click me now!'
       });
       win.add(btn);
       var myAlert = Ti.UI.createAlertDialog({
           title: 'alert',
           message: 'Alert',
           buttonNames: ['ok']
       });
       btn.addEventListener('click', function(){
           myAlert.show();
       });
       win.open();
   </pre></code></li>
<li>Hieu Pham 2015-03-12

    I analyzed the log and there wasn't any log indicating a crashing error from Titanium that is app related. Since I can't reproduce this issue, I'll resolve it. Please feel free to reopen if you have more information, though it looks like your problem is solved.</li>
<li>Abdiel Aviles 2016-02-12

    Pedro Enrique,
    
    I'm extremely confused here. Are we supposed to use it with XML or not? You state we are not supposed to, but as Leor Brenman says, the documentation even gives an example of how to use it with XML.
    
    Looks like I'm also getting this crash on devices with low memory.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18631.json">JSON Source</a></p>