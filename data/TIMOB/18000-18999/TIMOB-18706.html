---
title: "[TIMOB-18706] Windows: Build- Cannot build Titanium project on a Windows machine"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-03-17T00:24:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.0.0, Release 4.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>qe-4.0.0, regression</td></tr>
<tr><th>Reporter</th><td>Wilson Luu</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2015-03-16T20:53:17.000+0000</td></tr>
<tr><th>Updated</th><td>2015-03-20T00:00:45.000+0000</td></tr>
</table>

<h3>Description</h3>

*Details:* Cannot build Titanium project on a Windows machine; longjohn error is returned.

*Note:* This is a *regression* from SDK build 3.5.1.GA i.e. I can build a Titanium project with SDK 3.5.1.GA.

*Steps to reproduce:*
1. Create a Titanium project from CLI
2. Run: <code>ti build</code>

*Actual:* Longjohn error is returned:
<code><pre>
C:\Users\QE\AppData\Roaming\npm\node_modules\titanium\node_modules\longjohn\dist\longjohn.js:185
        throw e;
              ^
TypeError: Object.keys called on non-object
    at Function.keys (native)
    at C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\windowslib\lib\windowsphone.js:89:16
    at done (C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\windowslib\node_modules\async\lib\async.js:135:19)
    at C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\windowslib\node_modules\async\lib\async.js:32:16
    at C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\windowslib\lib\windowsphone.js:85:5
    at ChildProcess.&lt;anonymous&gt; (C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\node-appc\lib\subprocess.js:60:3)
    at ChildProcess.emit (events.js:98:17)
    at maybeClose (child_process.js:766:16)
    at Socket.&lt;anonymous&gt; (child_process.js:979:11)
---------------------------------------------
    at Object.run (C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\node-appc\lib\subprocess.js:59:8)
    at async.each.results.issues.push.id (C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\windowslib\lib\windowsphone.js:64:20)
    at C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\windowslib\node_modules\async\lib\async.js:125:13
    at Array.forEach (native)
    at _each (C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\windowslib\node_modules\async\lib\async.js:46:24)
    at async.each (C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\windowslib\node_modules\async\lib\async.js:124:9)
    at C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\windowslib\lib\windowsphone.js:63:9
    at C:\ProgramData\Titanium\mobilesdk\win32\4.0.0.v20150313181810\node_modules\windowslib\lib\utilities.js:48:3
</pre></code>

*Expected:* Should be able to build and run the Titanium project on a Windows machine.

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2015-03-16

   Is windowslib supposed to be on 4.0.0? I wonder if we need to fix something based on the titanium_prep changes we made.</li>
<li>Ingo Muschenetz 2015-03-16

   [~wluu] when was this last tested?</li>
<li>Wilson Luu 2015-03-16

   [~ingo] Today, before 12:00 pm. I was verifying a ticket in Arrow.</li>
<li>Ingo Muschenetz 2015-03-16

   [~wluu] Did it fail then? I mean, when is the last time it worked?</li>
<li>Wilson Luu 2015-03-16

   [~ingo] Ooo. I'm not sure when it last worked on SDK 4.0.0 branch. But, it did work on SDK 3.5.1.GA.</li>
<li>Gary Mathews 2015-03-16

   Problem :
   The Windows Phone SDK isn't installed causing the registry paths to be invalid. This causes
   
   _results.windowsphone_ to still be _null_ when it hits
   
   _windowsphone.js_
   {quote}
   L89:    if (!Object.keys(results.windowsphone).length) {
   {quote}
   
   Solution :
   Initialize _results.windowsphone_ to not be _null_
   
   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/6730" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6730</a></li>
<li>Gary Mathews 2015-03-17

   PR : <a href="https://github.com/appcelerator/windowslib/pull/12" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/12</a></li>
<li>Feon Sua Xin Miao 2015-03-17

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/6731" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6731</a>
   4_0_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/6732" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6732</a></li>
<li>Chee Kiat Ng 2015-03-18

   FR ok. PRs merged.</li>
<li>Wilson Luu 2015-03-19

    Closing ticket as fixed. Verified that you can build a Titanium project on a Windows machine.
    
    Tested on:
    
    SDK build: 4.0.0.v20150317234215
    CLI build: 4.0.0-alpha
    OS: Windows 8 (64-bit) </li>
<li>Ingo Muschenetz 2015-03-20

    Fixed. Thanks!</li>
<li>Wilson Luu 2015-03-20

    No problem!</li>
</ol>


<p><a href="/TIMOB/TIMOB-18706.json">JSON Source</a></p>