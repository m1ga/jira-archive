---
title: "[TIMOB-18729] Windows: Destructor of Label and Module classes cause crashes related to std::unordered_map fields"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-03-23T20:33:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Christopher Williams</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2015-03-23T13:53:59.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-14T20:11:21.000+0000</td></tr>
</table>

<h3>Description</h3>

When running the ti.lui.layout.test section of our mocha tests, after the tests we close a window we opened. This is causing Gc to run and destruct a number of objects. The Label and Module classes are crashing during their destruction, specifically when clear() is called on their std::unordered_map fields.

There is an access violation thrown and the address used is 0xDDDDDDDD, which signifies freed memory. So somehow the map has some internal nodes whose values are already freed?

<h3>Comments</h3>

<ol>
<li>Lee Morris 2017-03-14

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18729.json">JSON Source</a></p>