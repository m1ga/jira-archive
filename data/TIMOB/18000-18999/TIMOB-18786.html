---
title: "[TIMOB-18786] Android: ImageView sometimes loads wrong image due to hash code collision"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-09-23T18:42:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>ImageView, android, image</td></tr>
<tr><th>Reporter</th><td>Yury Skaletskiy</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2014-11-07T12:02:38.000+0000</td></tr>
<tr><th>Updated</th><td>2021-09-23T18:42:23.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
For android, Titanium takes wrong picture if it has name "G1.png" and "FP.png" (waa, I know this sounds strange, but when I change image names to G_1.png and F_P.png corresp., it works OK)

Alloy view:

<ImageView id="aa" borderWidth="1" borderColor="red" width="50" height="50"  image="app://G1.jpg"/>
<Label>-- 95_GP --</Label>
<ImageView id="bb" borderWidth="1" width="50" borderColor="green" height="50" image="app://FP.jpg"/>
</View>

please also take a look to attachments (how it looks in android/iphone plus Titanium Alloy project to repro)

*Cause:*
This is due to hash code collision when fetching the image from Titanium's image cache. It ends up grabbing the wrong image.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18786_52392/2014-11-07_14-51-16.png">2014-11-07_14-51-16.png</td></td><td>2014-11-07T12:02:38.000+0000</td><td>49801</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18786_52393/2014-11-07_14-57-24.png">2014-11-07_14-57-24.png</td></td><td>2014-11-07T12:02:38.000+0000</td><td>51343</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18786_52394/bad_images_app.zip">bad_images_app.zip</td></td><td>2014-11-07T12:02:38.000+0000</td><td>6052712</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18786_67987/FP.jpg">FP.jpg</td></td><td>2021-09-21T18:30:27.000+0000</td><td>29166</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18786_67988/G1.jpg">G1.jpg</td></td><td>2021-09-21T18:30:27.000+0000</td><td>45265</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-18786_67989/ImageHashTest.js">ImageHashTest.js</td></td><td>2021-09-21T21:58:46.000+0000</td><td>249</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Yury Skaletskiy 2015-01-08

   Guys, any update on the issue? we're continue getting that.</li>
<li>Yury Skaletskiy 2015-04-06

   Still no updates?</li>
<li>Yury Skaletskiy 2015-04-07

   Gentlemen, we are still getting these problems on the latest SDK. Could you please clarify us on issue status rather than ping-pong it? :-)</li>
<li>Ingo Muschenetz 2015-04-13

   We will investigate, but we do not currently have an ETA available.</li>
<li>Joshua Quick 2021-09-21

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/13078" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/13078</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-18786.json">JSON Source</a></p>