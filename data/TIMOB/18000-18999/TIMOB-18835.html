---
title: "[TIMOB-18835] iOS: Conditionally link required libraries/Framework at runtime"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-04-29T16:13:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>jscore-migration</td></tr>
<tr><th>Reporter</th><td>Vishal Duggal</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2015-04-15T18:42:43.000+0000</td></tr>
<tr><th>Updated</th><td>2015-06-29T18:53:40.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently TiCore, Debugger and Profiler are weak linked to the project. Once TIMOB-18834 is complete, JavaScriptCore framework will also be weak linked. We need to remove these links from the project and link the libraries from CLI at build time  

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2015-04-27

   Pull pending
   master - <a href="https://github.com/appcelerator/titanium_mobile/pull/6806" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6806</a>
   
   Use new property in tiapp.xml under the iOS tag
   <code><pre>
   &lt;ios&gt;
   &lt;use-jscore-framework&gt;true&lt;/use-jscore-framework&gt;
   &lt;/ios&gt;
   </pre></code>
   
   This property controls #define USE_JSCORE_FRAMEWORK in defines.h
   
   Testing instructions (For both Sim/Device builds):
   1. Leave the tag out and you should be able to build and run the application. Check defines.h and ensure that it does not include #define USE_JSCORE_FRAMEWORK.
   2. Include and set property to false. Behavior should be same as above.
   3. Include and set to true. You should be able to build and run the application. Check the defines.h file. It must include the #define USE_JSCORE_FRAMEWORK
   4. Leave property at true and try to Debug/Profile the application. The property will be ignored. Check defines.h and ensure that it does not include #define USE_JSCORE_FRAMEWORK.
   5. Build for production with property set to true or false. It must pass validation.
   </li>
<li>Eric Wieber 2015-06-29

   Verified fixed, using:
   
   MacOS 10.11
   Studio 4.1.0.201506261427
   Ti SDK 4.1.0.v20150626084425
   Appc NPM 4.1.0-1
   Appc CLI 4.1.0-4
   Ti CLI 4.0.1
   Alloy 1.6.2
   Node v0.10.37
   Java 1.7.0_45
   
   Can successfully set USE_JSCORE_FRAMEWORK by setting the use-jscore-framework property in the tiapp.xml.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18835.json">JSON Source</a></p>