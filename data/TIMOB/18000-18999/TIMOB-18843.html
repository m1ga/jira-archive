---
title: "[TIMOB-18843] CLI: Watchkit build flags in not picking up"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-07-28T22:14:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>cli, extension, ioslib, watchkit</td></tr>
<tr><th>Reporter</th><td>Mads Moller</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2015-04-20T10:12:33.000+0000</td></tr>
<tr><th>Updated</th><td>2015-09-01T22:55:36.000+0000</td></tr>
</table>

<h3>Description</h3>

I cannot get the watchkit PR to work:
<a href="https://github.com/jonalter/ioslib/commit/5538c3f63eaca61c54566dd1b0efbf36a8ba012a" rel="nofollow" target="_blank">https://github.com/jonalter/ioslib/commit/5538c3f63eaca61c54566dd1b0efbf36a8ba012a</a>

It seems that no matter if I add a --launch-watch-app flag this block of code is never used: <a href="https://github.com/appcelerator/ioslib/blob/master/lib/simulator.js#L420-L434" rel="nofollow" target="_blank">https://github.com/appcelerator/ioslib/blob/master/lib/simulator.js#L420-L434</a>

Im using this command:
<code><pre>
ti build --platform=ios --target=simulator --device-family=iphone --launch-watch-app -C ?
</pre></code>

Ive manually added a debug statement to get all options in the console in ioslib simulator.js line 419. 
<code><pre>
emitter.emit('log-debug', JSON.stringify(options)); 
</pre></code>
which shows the watchkit flags are not there:

<code><pre>
{
    "appName": "MYAPP",
    "appPath": "/Titanium/MYAPP/build/iphone/build/Debug-iphonesimulator/MYAPP.app",
    "focus": true,
    "logFilename": "838180a4-7cff-48f8-8bdb-294b35e941be.log",
    "killIfRunning": true
}
</pre></code>

Im not sure if im missing a step, but I cannot get this to work.

Side note: 
It works if I hardcode a flag in the ioslib simulator.js file - thats all good. 

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2015-05-05

   This is incorrectly marked as this work is currently happening on master. However, we will backport it to 4.0.0 if it is completed before GA.</li>
<li>Chris Barber 2015-07-28

   The flags are working now, but there are some other bugs with watchkit apps: TIMOB-19270, TIMOB-19267, TIMOB-19271, TIMOB-19267, TIMOB-19272. I'm resolving this ticket.</li>
<li>Wilson Luu 2015-09-01

   Closing ticket as fixed. Verified that the <code>--launch-watch-app</code> flag does launch the watch app on the watchkit simulator along with the iphone simulator.
   
   Tested on:
   
   Appc CLI NPM: 4.2.0-1
   Appc CLI Core: 5.0.0-33
   Arrow: 1.2.52
   SDK: 5.0.0.v20150901105514
   Node: v0.10.38
   OS: Yosemite (10.10.5)
   Xcode: 7 beta 6
   Device: iphone simulator 6 (9.0), watchkit simulator (42mm)</li>
</ol>


<p><a href="/TIMOB/TIMOB-18843.json">JSON Source</a></p>