---
title: "[TIMOB-18852] Ti.App.iOS.UserDefaults needs ability to set the suiteName in order for it to work with Apple Watch"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2015-04-25T01:13:08.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.0.0</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Rick Blalock</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2015-04-24T21:19:55.000+0000</td></tr>
<tr><th>Updated</th><td>2018-10-22T14:00:32.000+0000</td></tr>
</table>

<h3>Description</h3>

I was looking at the new UserDefaults API we have for sharing data between iOS extensions and it's missing the ability to specify a suiteName.  Without this, this API cannot share data across extensions.

Example in a watch extension:
<code><pre>
let sampleDefaults = NSUserDefaults(suiteName: "group.com.myapp.here")
</pre></code>

Currently you can only do something like:
<code><pre>
		Ti.App.iOS.UserDefaults.setObject('myKey', {});
</pre></code>

Which points to the standard user defaults...which the apple watch can't access.  Maybe a 3rd param needs to be introduced in these methods where you can specify the suiteName.

Ref. <a href="http://stackoverflow.com/questions/27007288/watchkit-sdk-not-retrieving-data-from-nsuserdefaults" rel="nofollow" target="_blank">http://stackoverflow.com/questions/27007288/watchkit-sdk-not-retrieving-data-from-nsuserdefaults</a>

<h3>Comments</h3>

<ol>
<li>Rick Blalock 2015-04-25

   Apparently, setting the suiteName is possible (though I didn't see reference to it at all in the class).  Ref.  <a href="https://github.com/appcelerator/titanium_mobile/blob/19886c8797a808d5cc4f572e85c791ac757a2c47/apidoc/Titanium/App/iOS/UserDefaults.yml" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/19886c8797a808d5cc4f572e85c791ac757a2c47/apidoc/Titanium/App/iOS/UserDefaults.yml</a></li>
<li>Alberto Marcone 2018-10-22

   how do you actually use it? I need to retrieve the value passed from an MDM like this:
   
   
   <code><pre>
   NSString *value = [[[NSUserDefaults standardUserDefaults] dictionaryForKey:@"com.apple.configuration.managed"] objectForKey:@"key"];
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-18852.json">JSON Source</a></p>