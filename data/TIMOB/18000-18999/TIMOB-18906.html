---
title: "[TIMOB-18906] Facebook: Problems in 'presentWebShareDialog'"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Done</td></tr>
<tr><th>Resolution Date</th><td>2015-07-01T05:31:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, facebook, sdk-4.0.0RC3</td></tr>
<tr><th>Reporter</th><td>Giulio De Giorgio</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2015-05-12T07:40:05.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-16T22:54:21.000+0000</td></tr>
</table>

<h3>Description</h3>

The first problem is that documentation say that is not necessary to do login flow before the use of presentWebShareDialog, but if i don't do that the app crash with the stack error: 'session cannot be null' in android log cat.
The second problem occurs when i try to use presentWebShareDialog after login: the facebook share popup seems to not get the passed params: link, name, caption, picture and description
!Screenshot_fb.png|thumbnail!



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-18906_55360/example.crash.js">example.crash.js</td></td><td>2015-05-13T07:09:29.000+0000</td><td>1713</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-18906_55361/example.voidshare.js">example.voidshare.js</td></td><td>2015-05-13T07:09:22.000+0000</td><td>2037</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-18906_55323/Screenshot_fb.png">Screenshot_fb.png</td></td><td>2015-05-12T07:30:08.000+0000</td><td>70049</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Radamantis Torres-Lechuga 2015-05-12

   [~norx85] can you please attach a test case?
   
   </li>
<li>Giulio De Giorgio 2015-05-13

   I attached two simple example apps of the two cases</li>
<li>Giulio De Giorgio 2015-05-13

   To reproduce the problem you need to not have facebook app installed on the device</li>
<li>Giulio De Giorgio 2015-06-09

   Any news on this bug? 
   The issue remains in sdk 4.0.0GA but now it's also impossible to share after login flow. I need a fix on this or i can't publish my app.
   Thanks</li>
<li>kosso 2015-06-15

   Have you tried the 4.0.4+ version of the Facebook module?
   
   And have you changed the way the facebook app is set up in tiapp.xml ? Also provided the right info on the Facebook Developer app settings page?
   
   I had to update to this version to get everything working after the Facebook API changes. <a href="https://github.com/appcelerator-modules/ti.facebook" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.facebook</a>   (I had to build it locally myself for it to work, for some reason though)
   
   It's also a good point you made, that the documentation should explain a bit better how the different login flows work when/if you have the FB app installed (on iOS or Android). (or also connected in the main phone settings.)  
   </li>
<li>Ashraf Abu 2015-06-16

   [~norx85] Hi there. -I tried your code and everything seems to be working.- I used the 4.0.5 version of the Facebook module. You can get it here: <a href="https://github.com/appcelerator-modules/ti.facebook/releases" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.facebook/releases</a>
   
   -Let me know if this works for you.-
   
   New note:- I managed to get the bug for the first case. The second case seems to be okay.</li>
<li>Ashraf Abu 2015-06-16

   [~kosso] You had to locally build the module? Is the module not working correctly from the release page?</li>
<li>Giulio De Giorgio 2015-06-16

   Ok i'll give a try to this version</li>
<li>kosso 2015-06-16

   </li>
<li>Ashraf Abu 2015-06-29

    For the first problem, login flow is required and in this case, the documentation is wrong. I've done this PR <a href="https://github.com/appcelerator-modules/ti.facebook/pull/24" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.facebook/pull/24</a> to reflect that.
    
    For the second issue, the 4.0.5 version of the Facebook module handles that and solves that problem. You can get it here: <a href="https://github.com/appcelerator-modules/ti.facebook/releases" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.facebook/releases</a>
    
    If nothing else is required, I think I can resolve this ticket with respect to the original problems of this ticket.</li>
<li>Ashraf Abu 2015-07-01

    Resolving this as done.</li>
<li>Lee Morris 2017-03-16

    Closing ticket as done.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18906.json">JSON Source</a></p>