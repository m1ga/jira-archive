---
title: "[TIMOB-18931] Android: Label shadow color & shadow offset property not working on android lollipop"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2015-06-10T08:52:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 4.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>label, qe-4.0.0, shadow</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2015-05-20T18:56:11.000+0000</td></tr>
<tr><th>Updated</th><td>2015-07-14T23:45:14.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps To Reproduce:</h4>
1. Create an android app with the following code in the app.js:
<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor:'grey'
});

var label = Ti.UI.createLabel({
    color: '#900',
    font: {
        fontSize: 48
    },
    text: 'A simple label',
    textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
    top: 30,
    width: 500,
    height: 200
});

var change = Ti.UI.createButton({
    bottom: 10,
    title: "change the shadow of the label"
});

change.addEventListener("click", function() {
    label.shadowColor = "blue";
    label.shadowOffset = {
        x: 10,
        y: 10
    };
});

win.add(label);
win.add(change);
win.open();
</pre></code>
2. Build the app for android lollypop device.
3. Click on the button "Change the shadow of the label".

<h4>Actual Results:</h4>
1. The label shadow does not change. This happens only on android lollypop.

<h4>Expected Results:</h4>
1. The label shadow should change to what's specified.


<h3>Comments</h3>

<ol>
<li>Ashraf Abu 2015-06-10

   [~lchoudhary] I believe it's not our bug and rather how Android Lollipop's native setShadowLayer() behavior has changed. When everything else is set but shadowRadius is left empty or 0, no shadow will be shown at all on Lollipop. You need to specify it as at least a non zero value, eg 1. This seems to be a native behavior. See code below for example:
   
   <code><pre>
   var win = Ti.UI.createWindow({
   	backgroundColor:'grey'
   });
    
   var label = Ti.UI.createLabel({
       color: '#900',
       font: {
           fontSize: 48
       },
       text: 'A simple label',
       textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
       /*
       shadowRadius: 1,
       shadowColor: "blue",
       shadowOffset : {
           x: 10,
           y: 10},
           */
       top: 30,
       width: 500,
       height: 200
   });
    
   var change = Ti.UI.createButton({
       bottom: 10,
       title: "change the shadow of the label"
   });
    
   change.addEventListener("click", function() {
   	label.shadowRadius = 1;
       label.shadowColor = "blue";
       label.shadowOffset = {
           x: 10,
           y: 10
       };
   });
    
   win.add(label);
   win.add(change);
   win.open(); 
   </pre></code></li>
<li>Lokesh Choudhary 2015-07-14

   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-18931.json">JSON Source</a></p>