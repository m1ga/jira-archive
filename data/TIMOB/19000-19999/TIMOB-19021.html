---
title: "[TIMOB-19021] Windows: Geolocation module always reporting location services disabled"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-06-25T12:53:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jörgen Buder</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2015-06-15T15:10:59.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-16T21:51:59.000+0000</td></tr>
</table>

<h3>Description</h3>

This looks to be a mismatch in our implementation with the way the property is defined.

We ask the current position status, but that value isn't "good" unless there's an active tracking session.

The property is meant to convey if the app itself is set up to do location services, so it's more a check if they've set the DeviceCapability in their package/appx.manifest.

I'm not sure if we can query capabilities at runtime or not. We might be able to do a simple call to the geolocator and catch exceptions to know if this property should be true or false.

<code><pre>
Ti.API.info('GPS Enabled : ' + Ti.Geolocation.locationServicesEnabled);
//if (Ti.Geolocation.locationServicesEnabled) {
    Ti.API.info('Setting accuracy...');
    Ti.Geolocation.accuracy = Ti.Geolocation.ACCURACY_HIGH;
    Ti.API.info('Asking for current position...');
    Ti.Geolocation.getCurrentPosition(function(e) {
            Ti.API.info('Got current position!');
            Ti.API.info('GPS Data : ' + JSON.stringify(e));
        });
//}
</pre></code>

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2015-06-25

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/323" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/323</a></li>
<li>Jörgen Buder 2015-06-25

   Thanks...
   
   :)</li>
<li>Lee Morris 2017-03-16

   Closing ticket as the issue has been fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19021.json">JSON Source</a></p>