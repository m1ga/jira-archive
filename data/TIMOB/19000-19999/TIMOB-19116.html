---
title: "[TIMOB-19116] Windows: Alloy compile errors not visible when ran via `appc run`"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-11-11T07:35:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.1.2</td></tr>
<tr><th>Components</th><td>CLI, Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2015-06-30T13:57:34.000+0000</td></tr>
<tr><th>Updated</th><td>2016-01-06T21:54:26.000+0000</td></tr>
</table>

<h3>Description</h3>

The following example (notice the typo in <code>&lt;/Label/&gt;</code>):

<code><pre>
&lt;Alloy&gt;
  &lt;Window&gt;
    &lt;Label&gt;Hello&lt;/Label/&gt;
  &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

shows that the Alloy compile arrow is showing when running <code>appc alloy compile</code> directly:

<code><pre>
C:\Users\Fokke\dev\projects\appc-sample-ti410&gt;cmd /s /c "C:\Users\Fokke\.appcele
rator\install\4.0.2\package\node_modules\appc-cli-titanium\node_modules\.bin\all
oy compile C:\Users\Fokke\dev\projects\appc-sample-ti410\app --config platform=w
indows,version=0,simtype=none,devicefamily=none,deploytype=development,target=wp
-emulator"
       .__  .__
_____  |  | |  |   ____ ___.__.
\__  \ |  | |  |  /  _ &lt;   |  |
 / __ \|  |_|  |_(  &lt;_&gt; )___  |
(____  /____/____/\____// ____|
     \/                 \/
Alloy 1.6.2 by Appcelerator. The MVC app framework for Titanium.

[DEBUG] ----- CONFIGURATION -----
[DEBUG] raw config = "platform=windows,version=0,simtype=none,devicefamily=none,
deploytype=development,target=wp-emulator"
[DEBUG] platform = windows
[DEBUG] version = 0
[DEBUG] simtype = none
[DEBUG] devicefamily = none
[DEBUG] deploytype = development
[DEBUG] target = wp-emulator
[DEBUG] project path = C:\Users\Fokke\dev\projects\appc-sample-ti410
[DEBUG] app path = C:\Users\Fokke\dev\projects\appc-sample-ti410\app
[DEBUG]
[DEBUG] ----- CONFIG.JSON -----
[DEBUG] dependencies = {}
[INFO]  [config.json] config.json unchanged, using cached config.json...
[DEBUG] {
  "dependencies": {},
  "brandPrimary": "#CD1625",
  "sourcemap": true,
  "autoStyle": false,
  "adapters": [
    "localStorage",
    "properties",
    "sql"
  ]
}
[DEBUG]
[DEBUG] ----- CLEANING RESOURCES -----
[DEBUG] Removing orphaned controllers ...
[DEBUG] Removing orphaned models ...
[DEBUG] Removing orphaned styles ...
[DEBUG] Removing orphaned sync adapters...
[DEBUG] Removing orphaned assets and libs...
[DEBUG]
[DEBUG] ----- BASE RUNTIME FILES -----
[TRACE] SRC_DIR=C:\Users\Fokke\.appcelerator\install\4.0.2\package\node_modules\
appc-cli-titanium\node_modules\alloy\Alloy\lib
[TRACE] Copying SRC_DIR\alloy\sync\sql.js --&gt; Resources\windows\alloy\sync\sql.j
s
[TRACE] Copying SRC_DIR\alloy\sync\properties.js --&gt; Resources\windows\alloy\syn
c\properties.js
[TRACE] Copying SRC_DIR\alloy\sync\localStorage.js --&gt; Resources\windows\alloy\s
ync\localStorage.js
[TRACE] Copying SRC_DIR\alloy\controllers\BaseController.js --&gt; Resources\window
s\alloy\controllers\BaseController.js
[TRACE] Copying SRC_DIR\alloy\widget.js --&gt; Resources\windows\alloy\widget.js
[TRACE] Copying SRC_DIR\alloy\underscore.js --&gt; Resources\windows\alloy\undersco
re.js
[TRACE] Copying SRC_DIR\alloy.js --&gt; Resources\windows\alloy.js
[TRACE]
[TRACE] SRC_DIR=C:\Users\Fokke\.appcelerator\install\4.0.2\package\node_modules\
appc-cli-titanium\node_modules\alloy\Alloy\common
[TRACE] Copying SRC_DIR\constants.js --&gt; Resources\windows\alloy\constants.js
[TRACE]
[TRACE] SRC_DIR=C:\Users\Fokke\dev\projects\appc-sample-ti410\app\assets
[TRACE]
[TRACE] SRC_DIR=C:\Users\Fokke\dev\projects\appc-sample-ti410\app\lib
[TRACE] Copying SRC_DIR\polyfill.js --&gt; Resources\windows\polyfill.js
[TRACE] - Processing "builtins" module...
[TRACE] - Processing "optimizer" module...
[TRACE] - Processing "compress" module...
[DEBUG]   map:        "C:\Users\Fokke\dev\projects\appc-sample-ti410\build\map\R
esources\windows\polyfill.js.map"
[TRACE]
[DEBUG]
[INFO] ----- MVC GENERATION -----
[INFO] [global style] loading from cache...
[INFO] [index.xml] view processing...
[INFO]   style:      "index.tss"
[INFO]   style:      "windows\index.tss"
[INFO]   view:       "windows\index.xml"
[ERROR] Error parsing XML file.
[ERROR] Unclosed XML tag or attribute
[ERROR] @#[line:3,col:3]
</pre></code>

while it is not when it runs as part of <code>appc run</code>:

<code><pre>
C:\Users\Fokke\dev\projects\appc-sample-ti410&gt;appc run -p windows -C 8-1-1
Appcelerator Command-Line Interface, version 4.0.2
Copyright (c) 2014-2015, Appcelerator, Inc.  All Rights Reserved.

Tue Jun 30 2015 13:30:25 GMT+0200 (W. Europe Daylight Time)

Operating System
  Name                        = Microsoft Windows 8.1 Enterprise Evaluation
  Version                     = 6.3.9600
  Architecture                = 32bit
  # CPUs                      = 2
  Memory                      = 12884426752

Node.js
  Node.js Version             = 0.10.37
  npm Version                 = 1.4.28

Titanium CLI
  CLI Version                 = 4.0.1

Titanium SDK
  SDK Version                 = 4.1.0.v20150626223333
  SDK Path                    = C:\ProgramData\Titanium\mobilesdk\win32\4.1.0.v2
0150626223333
  Target Platform             = windows

Command
  C:\Program Files (x86)\nodejs\node.exe C:\Users\Fokke\.appcelerator\install\4.
0.2\package\node_modules\appc-cli-titanium\node_modules\titanium\bin\titanium bu
ild -p windows -C 8-1-1 --plugin-paths C:\Users\Fokke\.appcelerator\install\4.0.
2\package\node_modules --config-file C:\Users\Fokke\AppData\Local\Temp\build-143
5663808511.json --log-level info --no-banner

C:\Users\Fokke\AppData\Local\Temp
[WARN]  ti.windows.publishername is suggested in your tiapp.xml for publishing!
We will default to a value generated from your tiapp.publisher value.
For example:
&lt;property name="ti.windows.publishername" type="string"&gt;CN=Appcelerator&lt;/propert
y&gt;
[INFO]  Found Titanium plugin id=ti.alloy version=1.0
[INFO]  Found Titanium plugin id=ti.map version=1.0
[INFO]  Building for Windows Phone emulator: 8-1-1
[INFO]  Deploy type: development
[INFO]  Debugging disabled
[INFO]  Profiler disabled
[INFO]  Forcing rebuild: C:\Users\Fokke\AppData\Local\Temp\appc-sample-ti410\bui
ld-manifest.json does not exist
[INFO]  Found Alloy app in C:\Users\Fokke\dev\projects\appc-sample-ti410\app
[INFO]  Executing Alloy compile: cmd /s /c C:\Users\Fokke\.appcelerator\install\
4.0.2\package\node_modules\appc-cli-titanium\node_modules\.bin\alloy compile C:\
Users\Fokke\dev\projects\appc-sample-ti410\app --config platform=windows,version
=0,simtype=none,devicefamily=none,deploytype=development,target=wp-emulator
       .__  .__
_____  |  | |  |   ____ ___.__.
\__  \ |  | |  |  /  _ &lt;   |  |
 / __ \|  |_|  |_(  &lt;_&gt; )___  |
(____  /____/____/\____// ____|
     \/                 \/
Alloy 1.6.2 by Appcelerator. The MVC app framework for Titanium.

[DEBUG] ----- CONFIGURATION -----
[DEBUG] raw config = "platform=windows,version=0,simtype=none,devicefamily=none,
deploytype=development,target=wp-emulator"
[DEBUG] platform = windows
[DEBUG] version = 0
[DEBUG] simtype = none
[DEBUG] devicefamily = none
[DEBUG] deploytype = development
[DEBUG] target = wp-emulator
[DEBUG] project path = C:\Users\Fokke\dev\projects\appc-sample-ti410
[DEBUG] app path = C:\Users\Fokke\dev\projects\appc-sample-ti410\app
[DEBUG]
[DEBUG] ----- CONFIG.JSON -----
[DEBUG] dependencies = {}
[INFO]  [config.json] config.json unchanged, using cached config.json...
[DEBUG] {
  "dependencies": {},
  "brandPrimary": "#CD1625",
  "sourcemap": true,
  "autoStyle": false,
  "adapters": [
    "localStorage",
    "properties",
    "sql"
  ]
}
[DEBUG]
[DEBUG] ----- CLEANING RESOURCES -----
[DEBUG] Removing orphaned controllers ...
[DEBUG] Removing orphaned models ...
[DEBUG] Removing orphaned styles ...
[DEBUG] Removing orphaned sync adapters...
[DEBUG] Removing orphaned assets and libs...
[DEBUG]
[DEBUG] ----- BASE RUNTIME FILES -----
[TRACE] SRC_DIR=C:\Users\Fokke\.appcelerator\install\4.0.2\package\node_modules\
appc-cli-titanium\node_modules\alloy\Alloy\lib
[TRACE] Copying SRC_DIR\alloy\sync\sql.js --&gt; Resources\windows\alloy\sync\sql.j
s
[TRACE] Copying SRC_DIR\alloy\sync\properties.js --&gt; Resources\windows\alloy\syn
c\properties.js
[TRACE] Copying SRC_DIR\alloy\sync\localStorage.js --&gt; Resources\windows\alloy\s
ync\localStorage.js
[TRACE] Copying SRC_DIR\alloy\controllers\BaseController.js --&gt; Resources\window
s\alloy\controllers\BaseController.js
[TRACE] Copying SRC_DIR\alloy\widget.js --&gt; Resources\windows\alloy\widget.js
[TRACE] Copying SRC_DIR\alloy\underscore.js --&gt; Resources\windows\alloy\undersco
re.js
[TRACE] Copying SRC_DIR\alloy.js --&gt; Resources\windows\alloy.js
[TRACE]
[TRACE] SRC_DIR=C:\Users\Fokke\.appcelerator\install\4.0.2\package\node_modules\
appc-cli-titanium\node_modules\alloy\Alloy\common
[TRACE] Copying SRC_DIR\constants.js --&gt; Resources\windows\alloy\constants.js
[TRACE]
[TRACE] SRC_DIR=C:\Users\Fokke\dev\projects\appc-sample-ti410\app\assets
[TRACE]
[TRACE] SRC_DIR=C:\Users\Fokke\dev\projects\appc-sample-ti410\app\lib
[TRACE] Copying SRC_DIR\polyfill.js --&gt; Resources\windows\polyfill.js
[TRACE] - Processing "builtins" module...
[TRACE] - Processing "optimizer" module...
[TRACE] - Processing "compress" module...
[DEBUG]   map:        "C:\Users\Fokke\dev\projects\appc-sample-ti410\build\map\R
esources\windows\polyfill.js.map"
[TRACE]
[DEBUG]
[INFO] ----- MVC GENERATION -----
[INFO] [global style] loading from cache...
[INFO] [index.xml] view processing...
[INFO]   style:      "index.tss"
[INFO]   style:      "windows\index.tss"
[INFO]   view:       "windows\index.xml"
[ERROR] Alloy compiler failed
ERROR  | ti run exited with error code 1
</pre></code>

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2015-11-09

   Hmm, I was spending some time to look into it but looks like not only error output but also some of standard output are ignored. For me it prints out like below. sometimes it lose more.
   
   <code><pre>
   [INFO]  Executing Alloy compile: C:\Program Files\nodejs\node.exe C:\Users\appc\.appcelerator\install\5.0.4\package\node
   _modules\appc-cli-titanium\node_modules\alloy\bin\alloy compile C:\Users\appc\workspace\tmp\alloy_test\app --config plat
   form=windows,version=0,simtype=none,devicefamily=none,deploytype=development,target=wp-emulator
   [DEBUG]        .__  .__
   [DEBUG] _____  |  | |  |   ____ ___.__.
   [DEBUG] \__  \ |  | |  |  /  _ &lt;   |  |
   [DEBUG]  / __ \|  |_|  |_(  &lt;_&gt; )___  |
   [DEBUG] (____  /____/____/\____// ____|
   [DEBUG]      \/                 \/
   [ERROR] Error parsing XML file.
   [ERROR] Alloy compiler failed.
   TRACE  | titanium exited with exit code 1
   ERROR  | Error: ti run exited with error code 1
   </pre></code>
   
   I suspect something wrong in Node.js output pipe when it's on nested commands.
   </li>
<li>Kota Iguchi 2015-11-11

   I have noticed that updating to latest sdk (I used 5.2.0.v20151110230635) blows away this issue...I'm not sure exactly why but resolving for now :((?)</li>
<li>Ewan Harris 2016-01-06

   Verified using:
   
   Windows 10 Pro
   Appc CLI Core: 5.1.0
   Appc CLI NPM: 4.2.2
   Ti SDK: 5.1.2.v20151216190036
   
   Using the code provided, when using <code>appc run</code> the build provides the Alloy compile error, which matches the output of <code>appc alloy compile --platform windows</code>
   
   *Note* If this ticket is reopened in the future, test with different platforms, iOS & Android, as it may not be Windows specific but rather down to <code>appc run</code> itself
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-19116.json">JSON Source</a></p>