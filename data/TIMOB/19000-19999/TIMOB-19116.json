{
	"id": "149281",
	"key": "TIMOB-19116",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "17072",
				"name": "Release 5.1.2",
				"archived": false,
				"released": true,
				"releaseDate": "2016-01-12"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2015-11-11T07:35:24.000+0000",
		"created": "2015-06-30T13:57:34.000+0000",
		"priority": {
			"name": "High",
			"id": "2"
		},
		"labels": [],
		"versions": [
			{
				"id": "16723",
				"description": "Windows Platform Support, ListView updates, Vector overlays in maps",
				"name": "Release 4.1.0",
				"archived": false,
				"released": true,
				"releaseDate": "2015-07-08"
			}
		],
		"issuelinks": [],
		"assignee": {
			"name": "kiguchi",
			"key": "kota",
			"displayName": "Kota Iguchi",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"updated": "2016-01-06T21:54:26.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "13103",
				"name": "CLI",
				"description": "Node-based command line interface"
			},
			{
				"id": "12642",
				"name": "Windows",
				"description": "Windows authoring support"
			}
		],
		"description": "The following example (notice the typo in {{</Label/>}}):\r\n\r\n{code:xml}\r\n<Alloy>\r\n  <Window>\r\n    <Label>Hello</Label/>\r\n  </Window>\r\n</Alloy>\r\n{code}\r\n\r\nshows that the Alloy compile arrow is showing when running {{appc alloy compile}} directly:\r\n\r\n{code}\r\nC:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410>cmd /s /c \"C:\\Users\\Fokke\\.appcele\r\nrator\\install\\4.0.2\\package\\node_modules\\appc-cli-titanium\\node_modules\\.bin\\all\r\noy compile C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\\app --config platform=w\r\nindows,version=0,simtype=none,devicefamily=none,deploytype=development,target=wp\r\n-emulator\"\r\n       .__  .__\r\n_____  |  | |  |   ____ ___.__.\r\n\\__  \\ |  | |  |  /  _ <   |  |\r\n / __ \\|  |_|  |_(  <_> )___  |\r\n(____  /____/____/\\____// ____|\r\n     \\/                 \\/\r\nAlloy 1.6.2 by Appcelerator. The MVC app framework for Titanium.\r\n\r\n[DEBUG] ----- CONFIGURATION -----\r\n[DEBUG] raw config = \"platform=windows,version=0,simtype=none,devicefamily=none,\r\ndeploytype=development,target=wp-emulator\"\r\n[DEBUG] platform = windows\r\n[DEBUG] version = 0\r\n[DEBUG] simtype = none\r\n[DEBUG] devicefamily = none\r\n[DEBUG] deploytype = development\r\n[DEBUG] target = wp-emulator\r\n[DEBUG] project path = C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\r\n[DEBUG] app path = C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\\app\r\n[DEBUG]\r\n[DEBUG] ----- CONFIG.JSON -----\r\n[DEBUG] dependencies = {}\r\n[INFO]  [config.json] config.json unchanged, using cached config.json...\r\n[DEBUG] {\r\n  \"dependencies\": {},\r\n  \"brandPrimary\": \"#CD1625\",\r\n  \"sourcemap\": true,\r\n  \"autoStyle\": false,\r\n  \"adapters\": [\r\n    \"localStorage\",\r\n    \"properties\",\r\n    \"sql\"\r\n  ]\r\n}\r\n[DEBUG]\r\n[DEBUG] ----- CLEANING RESOURCES -----\r\n[DEBUG] Removing orphaned controllers ...\r\n[DEBUG] Removing orphaned models ...\r\n[DEBUG] Removing orphaned styles ...\r\n[DEBUG] Removing orphaned sync adapters...\r\n[DEBUG] Removing orphaned assets and libs...\r\n[DEBUG]\r\n[DEBUG] ----- BASE RUNTIME FILES -----\r\n[TRACE] SRC_DIR=C:\\Users\\Fokke\\.appcelerator\\install\\4.0.2\\package\\node_modules\\\r\nappc-cli-titanium\\node_modules\\alloy\\Alloy\\lib\r\n[TRACE] Copying SRC_DIR\\alloy\\sync\\sql.js --> Resources\\windows\\alloy\\sync\\sql.j\r\ns\r\n[TRACE] Copying SRC_DIR\\alloy\\sync\\properties.js --> Resources\\windows\\alloy\\syn\r\nc\\properties.js\r\n[TRACE] Copying SRC_DIR\\alloy\\sync\\localStorage.js --> Resources\\windows\\alloy\\s\r\nync\\localStorage.js\r\n[TRACE] Copying SRC_DIR\\alloy\\controllers\\BaseController.js --> Resources\\window\r\ns\\alloy\\controllers\\BaseController.js\r\n[TRACE] Copying SRC_DIR\\alloy\\widget.js --> Resources\\windows\\alloy\\widget.js\r\n[TRACE] Copying SRC_DIR\\alloy\\underscore.js --> Resources\\windows\\alloy\\undersco\r\nre.js\r\n[TRACE] Copying SRC_DIR\\alloy.js --> Resources\\windows\\alloy.js\r\n[TRACE]\r\n[TRACE] SRC_DIR=C:\\Users\\Fokke\\.appcelerator\\install\\4.0.2\\package\\node_modules\\\r\nappc-cli-titanium\\node_modules\\alloy\\Alloy\\common\r\n[TRACE] Copying SRC_DIR\\constants.js --> Resources\\windows\\alloy\\constants.js\r\n[TRACE]\r\n[TRACE] SRC_DIR=C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\\app\\assets\r\n[TRACE]\r\n[TRACE] SRC_DIR=C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\\app\\lib\r\n[TRACE] Copying SRC_DIR\\polyfill.js --> Resources\\windows\\polyfill.js\r\n[TRACE] - Processing \"builtins\" module...\r\n[TRACE] - Processing \"optimizer\" module...\r\n[TRACE] - Processing \"compress\" module...\r\n[DEBUG]   map:        \"C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\\build\\map\\R\r\nesources\\windows\\polyfill.js.map\"\r\n[TRACE]\r\n[DEBUG]\r\n[INFO] ----- MVC GENERATION -----\r\n[INFO] [global style] loading from cache...\r\n[INFO] [index.xml] view processing...\r\n[INFO]   style:      \"index.tss\"\r\n[INFO]   style:      \"windows\\index.tss\"\r\n[INFO]   view:       \"windows\\index.xml\"\r\n[ERROR] Error parsing XML file.\r\n[ERROR] Unclosed XML tag or attribute\r\n[ERROR] @#[line:3,col:3]\r\n{code}\r\n\r\nwhile it is not when it runs as part of {{appc run}}:\r\n\r\n{code}\r\nC:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410>appc run -p windows -C 8-1-1\r\nAppcelerator Command-Line Interface, version 4.0.2\r\nCopyright (c) 2014-2015, Appcelerator, Inc.  All Rights Reserved.\r\n\r\nTue Jun 30 2015 13:30:25 GMT+0200 (W. Europe Daylight Time)\r\n\r\nOperating System\r\n  Name                        = Microsoft Windows 8.1 Enterprise Evaluation\r\n  Version                     = 6.3.9600\r\n  Architecture                = 32bit\r\n  # CPUs                      = 2\r\n  Memory                      = 12884426752\r\n\r\nNode.js\r\n  Node.js Version             = 0.10.37\r\n  npm Version                 = 1.4.28\r\n\r\nTitanium CLI\r\n  CLI Version                 = 4.0.1\r\n\r\nTitanium SDK\r\n  SDK Version                 = 4.1.0.v20150626223333\r\n  SDK Path                    = C:\\ProgramData\\Titanium\\mobilesdk\\win32\\4.1.0.v2\r\n0150626223333\r\n  Target Platform             = windows\r\n\r\nCommand\r\n  C:\\Program Files (x86)\\nodejs\\node.exe C:\\Users\\Fokke\\.appcelerator\\install\\4.\r\n0.2\\package\\node_modules\\appc-cli-titanium\\node_modules\\titanium\\bin\\titanium bu\r\nild -p windows -C 8-1-1 --plugin-paths C:\\Users\\Fokke\\.appcelerator\\install\\4.0.\r\n2\\package\\node_modules --config-file C:\\Users\\Fokke\\AppData\\Local\\Temp\\build-143\r\n5663808511.json --log-level info --no-banner\r\n\r\nC:\\Users\\Fokke\\AppData\\Local\\Temp\r\n[WARN]  ti.windows.publishername is suggested in your tiapp.xml for publishing!\r\nWe will default to a value generated from your tiapp.publisher value.\r\nFor example:\r\n<property name=\"ti.windows.publishername\" type=\"string\">CN=Appcelerator</propert\r\ny>\r\n[INFO]  Found Titanium plugin id=ti.alloy version=1.0\r\n[INFO]  Found Titanium plugin id=ti.map version=1.0\r\n[INFO]  Building for Windows Phone emulator: 8-1-1\r\n[INFO]  Deploy type: development\r\n[INFO]  Debugging disabled\r\n[INFO]  Profiler disabled\r\n[INFO]  Forcing rebuild: C:\\Users\\Fokke\\AppData\\Local\\Temp\\appc-sample-ti410\\bui\r\nld-manifest.json does not exist\r\n[INFO]  Found Alloy app in C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\\app\r\n[INFO]  Executing Alloy compile: cmd /s /c C:\\Users\\Fokke\\.appcelerator\\install\\\r\n4.0.2\\package\\node_modules\\appc-cli-titanium\\node_modules\\.bin\\alloy compile C:\\\r\nUsers\\Fokke\\dev\\projects\\appc-sample-ti410\\app --config platform=windows,version\r\n=0,simtype=none,devicefamily=none,deploytype=development,target=wp-emulator\r\n       .__  .__\r\n_____  |  | |  |   ____ ___.__.\r\n\\__  \\ |  | |  |  /  _ <   |  |\r\n / __ \\|  |_|  |_(  <_> )___  |\r\n(____  /____/____/\\____// ____|\r\n     \\/                 \\/\r\nAlloy 1.6.2 by Appcelerator. The MVC app framework for Titanium.\r\n\r\n[DEBUG] ----- CONFIGURATION -----\r\n[DEBUG] raw config = \"platform=windows,version=0,simtype=none,devicefamily=none,\r\ndeploytype=development,target=wp-emulator\"\r\n[DEBUG] platform = windows\r\n[DEBUG] version = 0\r\n[DEBUG] simtype = none\r\n[DEBUG] devicefamily = none\r\n[DEBUG] deploytype = development\r\n[DEBUG] target = wp-emulator\r\n[DEBUG] project path = C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\r\n[DEBUG] app path = C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\\app\r\n[DEBUG]\r\n[DEBUG] ----- CONFIG.JSON -----\r\n[DEBUG] dependencies = {}\r\n[INFO]  [config.json] config.json unchanged, using cached config.json...\r\n[DEBUG] {\r\n  \"dependencies\": {},\r\n  \"brandPrimary\": \"#CD1625\",\r\n  \"sourcemap\": true,\r\n  \"autoStyle\": false,\r\n  \"adapters\": [\r\n    \"localStorage\",\r\n    \"properties\",\r\n    \"sql\"\r\n  ]\r\n}\r\n[DEBUG]\r\n[DEBUG] ----- CLEANING RESOURCES -----\r\n[DEBUG] Removing orphaned controllers ...\r\n[DEBUG] Removing orphaned models ...\r\n[DEBUG] Removing orphaned styles ...\r\n[DEBUG] Removing orphaned sync adapters...\r\n[DEBUG] Removing orphaned assets and libs...\r\n[DEBUG]\r\n[DEBUG] ----- BASE RUNTIME FILES -----\r\n[TRACE] SRC_DIR=C:\\Users\\Fokke\\.appcelerator\\install\\4.0.2\\package\\node_modules\\\r\nappc-cli-titanium\\node_modules\\alloy\\Alloy\\lib\r\n[TRACE] Copying SRC_DIR\\alloy\\sync\\sql.js --> Resources\\windows\\alloy\\sync\\sql.j\r\ns\r\n[TRACE] Copying SRC_DIR\\alloy\\sync\\properties.js --> Resources\\windows\\alloy\\syn\r\nc\\properties.js\r\n[TRACE] Copying SRC_DIR\\alloy\\sync\\localStorage.js --> Resources\\windows\\alloy\\s\r\nync\\localStorage.js\r\n[TRACE] Copying SRC_DIR\\alloy\\controllers\\BaseController.js --> Resources\\window\r\ns\\alloy\\controllers\\BaseController.js\r\n[TRACE] Copying SRC_DIR\\alloy\\widget.js --> Resources\\windows\\alloy\\widget.js\r\n[TRACE] Copying SRC_DIR\\alloy\\underscore.js --> Resources\\windows\\alloy\\undersco\r\nre.js\r\n[TRACE] Copying SRC_DIR\\alloy.js --> Resources\\windows\\alloy.js\r\n[TRACE]\r\n[TRACE] SRC_DIR=C:\\Users\\Fokke\\.appcelerator\\install\\4.0.2\\package\\node_modules\\\r\nappc-cli-titanium\\node_modules\\alloy\\Alloy\\common\r\n[TRACE] Copying SRC_DIR\\constants.js --> Resources\\windows\\alloy\\constants.js\r\n[TRACE]\r\n[TRACE] SRC_DIR=C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\\app\\assets\r\n[TRACE]\r\n[TRACE] SRC_DIR=C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\\app\\lib\r\n[TRACE] Copying SRC_DIR\\polyfill.js --> Resources\\windows\\polyfill.js\r\n[TRACE] - Processing \"builtins\" module...\r\n[TRACE] - Processing \"optimizer\" module...\r\n[TRACE] - Processing \"compress\" module...\r\n[DEBUG]   map:        \"C:\\Users\\Fokke\\dev\\projects\\appc-sample-ti410\\build\\map\\R\r\nesources\\windows\\polyfill.js.map\"\r\n[TRACE]\r\n[DEBUG]\r\n[INFO] ----- MVC GENERATION -----\r\n[INFO] [global style] loading from cache...\r\n[INFO] [index.xml] view processing...\r\n[INFO]   style:      \"index.tss\"\r\n[INFO]   style:      \"windows\\index.tss\"\r\n[INFO]   view:       \"windows\\index.xml\"\r\n[ERROR] Alloy compiler failed\r\nERROR  | ti run exited with error code 1\r\n{code}",
		"attachment": [],
		"flagged": false,
		"summary": "Windows: Alloy compile errors not visible when ran via `appc run`",
		"creator": {
			"name": "fokkezb",
			"key": "fokke",
			"displayName": "Fokke Zandbergen",
			"active": true,
			"timeZone": "Europe/Amsterdam"
		},
		"subtasks": [],
		"reporter": {
			"name": "fokkezb",
			"key": "fokke",
			"displayName": "Fokke Zandbergen",
			"active": true,
			"timeZone": "Europe/Amsterdam"
		},
		"environment": "SDK 4.1.0 beta (4.1.0.v20150626223333)\r\nWindows 8.1 Enterprise Build 9600\r\nappc -v 4.0.2",
		"closedSprints": [
			{
				"id": 525,
				"state": "closed",
				"name": "2015 Sprint 23 SDK",
				"startDate": "2015-11-07T01:30:15.519Z",
				"endDate": "2015-11-21T01:30:00.000Z",
				"completeDate": "2015-11-23T02:54:27.887Z",
				"originBoardId": 114
			}
		],
		"comment": {
			"comments": [
				{
					"id": "369392",
					"author": {
						"name": "kiguchi",
						"key": "kota",
						"displayName": "Kota Iguchi",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Hmm, I was spending some time to look into it but looks like not only error output but also some of standard output are ignored. For me it prints out like below. sometimes it lose more.\r\n\r\n{code}\r\n[INFO]  Executing Alloy compile: C:\\Program Files\\nodejs\\node.exe C:\\Users\\appc\\.appcelerator\\install\\5.0.4\\package\\node\r\n_modules\\appc-cli-titanium\\node_modules\\alloy\\bin\\alloy compile C:\\Users\\appc\\workspace\\tmp\\alloy_test\\app --config plat\r\nform=windows,version=0,simtype=none,devicefamily=none,deploytype=development,target=wp-emulator\r\n[DEBUG]        .__  .__\r\n[DEBUG] _____  |  | |  |   ____ ___.__.\r\n[DEBUG] \\__  \\ |  | |  |  /  _ <   |  |\r\n[DEBUG]  / __ \\|  |_|  |_(  <_> )___  |\r\n[DEBUG] (____  /____/____/\\____// ____|\r\n[DEBUG]      \\/                 \\/\r\n[ERROR] Error parsing XML file.\r\n[ERROR] Alloy compiler failed.\r\nTRACE  | titanium exited with exit code 1\r\nERROR  | Error: ti run exited with error code 1\r\n{code}\r\n\r\nI suspect something wrong in Node.js output pipe when it's on nested commands.\r\n",
					"updateAuthor": {
						"name": "kiguchi",
						"key": "kota",
						"displayName": "Kota Iguchi",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2015-11-09T12:43:48.000+0000",
					"updated": "2015-11-09T12:43:48.000+0000"
				},
				{
					"id": "369695",
					"author": {
						"name": "kiguchi",
						"key": "kota",
						"displayName": "Kota Iguchi",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "I have noticed that updating to latest sdk (I used 5.2.0.v20151110230635) blows away this issue...I'm not sure exactly why but resolving for now :((?)",
					"updateAuthor": {
						"name": "kiguchi",
						"key": "kota",
						"displayName": "Kota Iguchi",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2015-11-11T07:35:24.000+0000",
					"updated": "2015-11-11T07:35:24.000+0000"
				},
				{
					"id": "373953",
					"author": {
						"name": "eharris",
						"key": "eharris",
						"displayName": "Ewan Harris",
						"active": true,
						"timeZone": "Europe/Dublin"
					},
					"body": "Verified using:\r\n\r\nWindows 10 Pro\r\nAppc CLI Core: 5.1.0\r\nAppc CLI NPM: 4.2.2\r\nTi SDK: 5.1.2.v20151216190036\r\n\r\nUsing the code provided, when using {{appc run}} the build provides the Alloy compile error, which matches the output of {{appc alloy compile --platform windows}}\r\n\r\n*Note* If this ticket is reopened in the future, test with different platforms, iOS & Android, as it may not be Windows specific but rather down to {{appc run}} itself\r\n\r\nClosing ticket",
					"updateAuthor": {
						"name": "eharris",
						"key": "eharris",
						"displayName": "Ewan Harris",
						"active": true,
						"timeZone": "Europe/Dublin"
					},
					"created": "2016-01-06T21:54:10.000+0000",
					"updated": "2016-01-06T21:54:10.000+0000"
				}
			],
			"maxResults": 3,
			"total": 3,
			"startAt": 0
		}
	}
}