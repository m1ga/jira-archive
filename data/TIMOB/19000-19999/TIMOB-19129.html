---
title: "[TIMOB-19129] Windows: HTTPClient does not send User-Agent"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-07-07T18:31:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2015-07-01T11:04:38.000+0000</td></tr>
<tr><th>Updated</th><td>2015-09-03T21:51:21.000+0000</td></tr>
</table>

<h3>Description</h3>

The following example shows that on Windows is not sending the <code>User-Agent</code> header (as well as <code>X-Titanium-Id</code>) like iOS and Android do. Many API's require this header to be set.

<code><pre>
var win = Ti.UI.createWindow();
var btn = Ti.UI.createButton({
	title: 'Click'
});
btn.addEventListener('click', function (e) {
	var client = Ti.Network.createHTTPClient();
	client.open('GET', '<a href="http://requestb.in/1fv1js61" rel="nofollow" target="_blank">http://requestb.in/1fv1js61</a>');
	client.send();
});
win.add(btn);
win.open();
</pre></code>

<h4>Windows</h4>

<code><pre>
Host: requestb.in
Connection: close
X-Request-Id: 94581c18-95ea-468a-966d-0cf914d68859
Via: 1.1 vegur
Total-Route-Time: 0
Connect-Time: 0
Accept-Encoding: gzip, deflate
</pre></code>

<h4>iOS</h4>

<code><pre>
User-Agent: Appcelerator Titanium/4.1.0 (iPhone/8.4; iPhone OS; nl_NL;)
Via: 1.1 vegur
Connection: close
Accept: */*
Accept-Language: nl-nl
X-Request-Id: 600421ac-e5e7-4d10-9c48-2eabfab4489b
Connect-Time: 1
Host: requestb.in
Total-Route-Time: 0
X-Titanium-Id: 92e3ee1a-2507-4c54-b3a0-3af19ccf0661
Accept-Encoding: gzip, deflate
X-Requested-With: XMLHttpRequest
</pre></code>

<h4>Android</h4>

<code><pre>
X-Request-Id: e5cd2daa-9796-478f-924c-e8578edd6cdd
X-Requested-With: XMLHttpRequest
X-Titanium-Id: 92e3ee1a-2507-4c54-b3a0-3af19ccf0661
Connection: close
Host: requestb.in
Via: 1.1 vegur
Total-Route-Time: 0
User-Agent: Appcelerator Titanium/4.0.0 (Nexus 5; Android API Level: 22; nl-NL;)
Connect-Time: 0
</pre></code>

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2015-09-03

   Verified using:
   
   Windows 8.1
   Appc CLI Core: 5.0.0-33
   Appc CLI NPM: 4.2.0-1
   Titanium SDK: 5.0.0.v20150902095518
   Nokia Lumia 930 8.1
   
   HTTPClient now sends the user agent
   
   <code><pre>
   Total-Route-Time: 0
   User-Agent: Appcelerator Titanium/5.0.0.v20150902095518 (NOKIA RM-1045_1044/6.3.9651.0; windowsphone; English_United States.1252;)
   Host: requestb.in
   Accept-Encoding: gzip, deflate
   Connect-Time: 8
   X-Request-Id: 097502e3-758b-4fbb-adec-ebffbb8ce2e7
   Via: 1.1 vegur
   X-Titanium-Id: 3b273aea-496f-4c86-9444-41f3fedfddd3
   Connection: close
   </pre></code>
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-19129.json">JSON Source</a></p>