---
title: "[TIMOB-19158] iOS: Slider and Switch controls cannot be updated in ListView with updateItemAt()"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>alloy, ios, listview, slider, switch, updateItemAt</td></tr>
<tr><th>Reporter</th><td>Ed</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-07-02T17:28:45.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:15.000+0000</td></tr>
</table>

<h3>Description</h3>

I have some forms created with ListViews that use sliders and toggles. I am able to programmatically update items in the ListView either with the standard template and custom templates, but this fails when I try to update custom template items with a slider or switch control.

To demonstrate the problem, I'm including sample code that shows the two controls in a ListView and two "reset" buttons that reset the slider and switch to default values with and without animation.  I noticed the effect with and without animation is different.  Without animation, the reset works the first time is done, but fails thereafter.  With animation, it works at times, then it starts failing leaving the two controls in a strange state (not the value set by the user, nor the default value the reset applies)

Expected behavior:  ListSection.updateItemAt() should update the Switch and Slider controls with the set values (Slider = 1, Switch = off), and render them properly regardless of the animation setting, and how many times the row is updated.

Also note how <code>slider:value="75"</code> is defined for the slider in the Alloy XML, yet it is not applied to the slider when rendered at startup.

<code><pre>
&lt;Alloy&gt;
	&lt;Window backgroundColor="#ffffff"&gt;
        &lt;Button id="reset1" top="70" left="20" title="Reset w/o Anim" onClick="reset_onClick" /&gt;
        &lt;Button id="reset2" top="70" right="20" title="Reset with Anim" onClick="reset_onClick" /&gt;
        &lt;ListView top="150"&gt;
            &lt;Templates&gt;
                &lt;ItemTemplate name="tSlider"&gt;
                    &lt;Label id="slider_title" bindId="title" /&gt;
                    &lt;Slider id="slider" bindId="slider" /&gt;
                &lt;/ItemTemplate&gt;
                &lt;ItemTemplate id="tSwitch" name="tSwitch"&gt;
                    &lt;Label id="switch_title" bindId="title" /&gt;
                    &lt;Switch id="toggle" bindId="toggle" /&gt;
                &lt;/ItemTemplate&gt;
            &lt;/Templates&gt;
            &lt;ListSection id="ls" headerTitle="FORM"&gt;
                
                &lt;ListItem template="tSlider" 
                    title:text="Slider"
                    title:top="10"
                    title:left="16"
                    slider:min="1" 
                    slider:max="100" 
                    slider:value="75" 
                    slider:top="50"
                    slider:width="220"
                    height="100" /&gt;
                    
                &lt;ListItem template="tSwitch" 
                    title:text="Switch" 
                    title:left="16"
                    title:right="16"
                    toggle:value="true" 
                    toggle:right="10 " /&gt;
                    
            &lt;/ListSection&gt;
        &lt;/ListView&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

<code><pre>
function reset_onClick(e) 
{
	var item,
		animated = (e.source.id === 'reset2');

	Ti.API.info('Resetting slider and switch. animated: ' +  animated);
		
	item = $.ls.getItemAt(0);
	item.slider.value = '1';
	$.ls.updateItemAt(0, item, { animated: animated });
	
	item = $.ls.getItemAt(1);
	item.toggle.value = false;
	$.ls.updateItemAt(1, item, { animated: animated });
}

$.index.open();
</pre></code>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-19158_56063/iOS Simulator Screen Shot Jul 2, 2015, 10.09.20 AM.png">iOS Simulator Screen Shot Jul 2, 2015, 10.09.20 AM.png</td></td><td>2015-07-02T17:13:57.000+0000</td><td>39532</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-19158.json">JSON Source</a></p>