---
title: "[TIMOB-19161] iOS: Sections not honored while searchBar focused"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>TCSupportTriage, ios, listitem, listview, searchbar</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-02-03T21:26:58.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:22.000+0000</td></tr>
</table>

<h3>Description</h3>

Hey there,
i recently discovered an issue regarding the ListView behavior while focusing the SearchBar. The workaround is a ListView with a custom section-headerView in it. When focusing the search and type a keyword, which is related by the "searchableText" attribute in the ListItem, the item is found properly, but the related section is not shown (although the "keepSectionsInSearch" attribute is set to true).

Expected result:
- show section headers
- accept custom ListView-styles (backgroundColor, separatorStyle, ..)

Given result:
- sections headers do not appear
- custom ListView styles are not honored

This is an iOS-specific bug, android works well.

Code example:
<code><pre>
var win = Ti.UI.createWindow({backgroundColor: 'white', fullscreen: true});
var search = Titanium.UI.createSearchBar({
 barColor:'#000', 
 showCancel:true,
 height:43,
 top:0,
});
search.addEventListener('cancel', function(){
    search.blur();
});
 
var listView = Ti.UI.createListView({searchView: search, caseInsensitiveSearch: true});
 
var listSection = Ti.UI.createListSection({ headerTitle: 'Fruits'});
var fruits = ['Papaya', 'Peach', 'Pear', 'Persimmon', 'Pineapple', 'Pluot', 'Pomegranate'];
var data = [];
for (var i = 0; i &lt; fruits.length; i++) {
data.push({
    properties: {title: fruits[i], searchableText: fruits[i]}
});
}
listSection.setItems(data);
listView.addEventListener('noresults', function(e){
    alert("No results found!");
});
listView.sections = [listSection];
win.add(listView);
win.open();
</pre></code>

More infos on this case (Thanks to Sharif): <a href="http://developer.appcelerator.com/question/180553/listview-ios-sections-not-honored-while-searchbar-focused" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/180553/listview-ios-sections-not-honored-while-searchbar-focused</a>

<h3>Comments</h3>

<ol>
<li>Mostafizur Rahman 2015-07-05

   Hello [~rtlechuga],
   
   We have tested this issue in latest environment . It’s a valid bug. When we search in ListView , related section is not shown on iOS but its perfectly works on Android.
   
   *Testing environment:*
   Titanium SDK: 4.0.0.GA 
   Titanium CLI: 4.0.1
   iOS Simulator: 8.1
   OS X Version: 10.9.5,
   Appcelerator Studio:  4.1.0.201506261427
   
   *Testing Code:*
   <code><pre>var win = Ti.UI.createWindow({
   	backgroundColor : 'brown',
   	fullscreen : true
   });
   var search = Titanium.UI.createSearchBar({
   	barColor : '#000',
   	showCancel : true,
   	height : 43,
   	top : 0,
   });
   search.addEventListener('cancel', function() {
   	search.blur();
   });
    
   var listView = Ti.UI.createListView({
   	searchView : search,
   	caseInsensitiveSearch : true,
   	keepSectionsInSearch : true
   });
    
   var listSection = Ti.UI.createListSection({
   	headerTitle : 'Fruits',
    
   });
    
   var fruits = ['Papaya', 'Peach', 'Pear', 'Persimmon', 'Pineapple', 'Pluot', 'Pomegranate'];
   var data = [];
   for (var i = 0; i &lt; fruits.length; i++) {
   	data.push({
   		properties : {
   			title : fruits[i],
   			searchableText : fruits[i]
   		}
   	});
   }
   listSection.setItems(data);
    
   listView.sections = [listSection];
    
   win.add(listView);
   win.open();
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-19161.json">JSON Source</a></p>