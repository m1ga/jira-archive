---
title: "[TIMOB-19162] HTTPClient - request url with leading blanks cause an exception"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>3.4.0, 3.4.1, TCSupportTriage, exception, httpclient, iOS8, url</td></tr>
<tr><th>Reporter</th><td>Markus Eschenbach</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-11-10T11:18:08.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:32.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
When the httpclient request url starts with leading blanks, an exception is thrown when the "send()" function is executed.

{noformat}
message = "-[NSNull rangeOfString:]: unrecognized selector sent to instance 0x3a804690";
{noformat}

<h4>Steps to reproduce</h4>
Create HTTPClient and use a request url with leading blanks: "      <a href="http://www.appcelerator.com" rel="nofollow" target="_blank">http://www.appcelerator.com</a>"

<h4>Test case</h4>
<code><pre>
(function() {
	
	var urls = [
		"<a href="http://www.appcelerator.com" rel="nofollow" target="_blank">http://www.appcelerator.com</a>",
		"www.appcelerator.com",
		"appcelerator.com",
		"<a href="http://www.appcelerator2.com" rel="nofollow" target="_blank">http://www.appcelerator2.com</a>",
		"http2://www.appcelerator.com",
		"http:www.appcelerator.com",
		"   <a href="http://www.appcelerator.com" rel="nofollow" target="_blank">http://www.appcelerator.com</a>" //exception
	];	
	var win = Ti.UI.createWindow({backgroundColor:'#ffffff'});
	var view = Ti.UI.createView({layout:'vertical'});
	var button = Ti.UI.createButton({title:' Run test ',top:100,borderRadius:5,borderColor:'#1C1C1C',backgroundColor:'#C0C0C0'});
	var output = Ti.UI.createLabel({top: 20,font:{fontSize:11}});
	
	button.addEventListener('click',function(){
		output.text = '';
		for (var i=0; i < urls.length; i++) {
		  sendGET(i,urls[i]);
		}		
	});
	
	view.add(button);
	view.add(output);
	win.add(view);
	
	function sendGET(i,url){
		
		var client = Ti.Network.createHTTPClient({
		     onload : function(e) {
		     	 var msg = 'Test ' + i + ': ' + url + ' - success';
		     	 output.text += '\n' + msg;
		         Ti.API.log(msg);
		     },
		     onerror : function(e) {
		     	var msg = 'Test ' + i + ': ' + url + ' - error';
		     	output.text += '\n' + msg;
		     	Ti.API.error(msg);
		     },
		});
	 	client.open("GET", url);
	 	try{
			client.send();
		}catch(e){
	     	var msg = 'Test ' + i + ': ' + url + ' - EXCEPTION';
	     	output.text += '\n' + msg;
	     	Ti.API.error(msg);			
		}		
	}

	win.open();
})();
</pre></code>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-19162.json">JSON Source</a></p>