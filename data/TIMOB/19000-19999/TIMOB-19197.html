---
title: "[TIMOB-19197] Out of memory problems with backgroundImage property on Android"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>Android</td></tr>
<tr><th>Reporter</th><td>Jörgen Buder</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-07-09T13:18:44.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:09.000+0000</td></tr>
</table>

<h3>Description</h3>

My app earlier used a number of rather large jpg images, but it worked well with Android devices even on the markets, after upgrading to SDK 5.02 on Android along with Ti SDK 4 the build now looks very different. It uses art: messages and tries to alloc the same amount of memory unsuccessfully. I have to decrease the amount of images loaded, unfortunately affecting our app much. 

This is the error log:

It repeats it self many times and then crashes. I have to decrease or remove the images and then it builds, but I am surprised that before it worked well and after upgrade there now seem to be a lower limit to image sizes supported somewhere in the stack.

:(

art: Clamp target GC heap from 207MB to 192MB
[INFO] :   art: Alloc concurrent mark sweep GC freed 3(96B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 955us total 19.905ms
[ERROR] :  art: Throwing OutOfMemoryError "Failed to allocate a 4194316 byte allocation with 499367 free bytes and 487KB until OOM"

<h3>Comments</h3>

<ol>
<li>Jörgen Buder 2015-07-09

   Also see this thread:
   
   <a href="http://developer.appcelerator.com/question/181927/problems-with-android-since-the-502-upgrade" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/181927/problems-with-android-since-the-502-upgrade</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-19197.json">JSON Source</a></p>