---
title: "[TIMOB-19223] iOS: Ti.Filesystem.File is undefined"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2016-11-02T11:43:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios</td></tr>
<tr><th>Reporter</th><td>Ángel Flores</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2015-07-10T07:37:38.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T21:02:36.000+0000</td></tr>
</table>

<h3>Description</h3>

In iOS
<code><pre>
Ti.API.info("Ti.Filesystem.File is " + Ti.Filesystem.File);
</pre></code>
returns undefined, so you can not do something like
<code><pre>
 if ( url instanceof Ti.Filesystem.File )
</pre></code>

It works in Android.

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2015-09-09

   [~angelf] Can you provide a more specific demo code? </li>
<li>Ángel Flores 2015-09-09

   Before downloading a file (e.g an image), I check if it is cached or not. In order to reuse code, this function is called even when 'url' is a file path in which case I return the file.
   When the file is not cached, I return a file object where the image must be downloaded (using the name in the url).
   
   
   exports.isInCache = function (url) {
       if(url instanceof Ti.Filesystem.File)//This is what I really use --> if(url.indexOf("file:///")==0)
       {
           url=url.replace(/%20/g, " ");
           return Ti.Filesystem.getFile(url);
       }
   	
   	var filename = url.substring(url.lastIndexOf("/")+ 1, url.length);
   	finalName= userFolder + filename;
   	
   	var basePath = Titanium.Filesystem.applicationDataDirectory;
       f = Ti.Filesystem.getFile(basePath, finalName);
   	
   	if(!f && !f.exists())
   	{
   		var t;
   		//code to check if the file is in the external storage and create 'userFolder' if it is needed.
   	}
   	return f;
   }
   </li>
<li>Hans Knöchel 2015-09-11

   As documented, you should call <code>Ti.FileSystem.getFile()</code>, can you try that? The Ti.Filesystem.File is not supposed to work without being associated to an url. Thank you!</li>
<li>Hans Knöchel 2016-11-02

   As said last year, the <code>Ti.Filesystem.File</code> is an abstract type and should therefore not return a specific value without the file-context of <code>Ti.Filesystem.getFile("&lt;directory&gt;", "&lt;file&gt;")</code></li>
<li>Lee Morris 2017-03-21

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19223.json">JSON Source</a></p>