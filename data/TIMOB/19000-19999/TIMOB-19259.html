---
title: "[TIMOB-19259] iOS: WebView loses the DOM on a subsequent \"open\" of the containing window"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>html, load, webview</td></tr>
<tr><th>Reporter</th><td>Gopi Reddy</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-07-25T14:28:52.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:06.000+0000</td></tr>
</table>

<h3>Description</h3>

The WebView used to keep its DOM across multiple open-close cycles of the containing window.  We could even remove the WebView instance from one window and add it to another window, without losing the DOM.  This was a great feature for performance.  Somewhere between 3.4.1.GA and 4.1.0.GA, this behavior changed.  Now, the WebView reloads on each open of the containing Window.  I think this was done to fire the "load" event on the WebView on each window.open().  

If you set the HTML of the WebView, as opposed to setting its URL, then the WebView tries to load an empty local URL on subsequent window.open(), with just the App's directory, and fails.

To recreate this issue:

<h4>Create a master-detail app from the template</h4>
<h4>Replace DetailView.js with the attached file:</h4>

Run and click on a master row.  The detail window will show the details.  Go back and click another master row.

[Please keep the old behavior *_as an option_*.  We should be able to keep the WebView instance across multiple open-close cycles without losing its DOM.  We should even be able to move the WebView instance across windows.]

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19259_56243/DetailView.js">DetailView.js</td></td><td>2015-07-25T14:35:44.000+0000</td><td>394</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19259_56242/MasterView.js">MasterView.js</td></td><td>2015-07-25T14:35:44.000+0000</td><td>912</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Gopi Reddy 2015-07-29

   We fixed a few critical bugs in our app but we cannot deploy the app to the Apple store until this issue is resolved.  We cannot fallback to an older version of the SDK because the app store requires a 64-bit version.  We are stuck between a rock and a hard place.  An ETA will be greatly appreciated.
   
   Our app requires that the old behavior of the SDK is restored.  This means that the DOM of the web document in a WebView stays intact even if the containing window is closed and reopened.  If this cannot be made available by default, then please provide it through an option in the WebView component.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19259.json">JSON Source</a></p>