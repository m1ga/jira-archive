---
title: "[TIMOB-19293] Android: Crittercism: UnsatisfiedLinkError on libcrittercism-ndk.so"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-08-28T18:42:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>crittercism</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2015-07-30T21:19:21.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-20T17:58:06.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue Description</h4>
When testing on any sort of Android app (Classic or Alloy), Crittercism is failing to initialise during app launching. 

<h4>Code</h4>
Throw these couple lines to app.js. 
<code><pre>
var apm = require("com.appcelerator.apm");
apm.init();
</pre></code>

<h4>Logs</h4>
These logs on a Samsung Galaxy S6 running Android 5.0.1 and a Google Nexus 6
<code><pre>
[DEBUG] :  Initializing application...
[ERROR] :  art: dlopen("/data/data/com.jbhunt.appl.jbhdrivemobile/files/com.crittercism/lib/libcrittercism-ndk.so", RTLD_LAZY) failed: dlopen failed: "/data/data/com.jbhunt.appl.jbhdrivemobile/files/com.crittercism/lib/libcrittercism-ndk.so" has unexpected e_machine: 40
[ERROR] :  art: dlopen("/data/data/com.jbhunt.appl.jbhdrivemobile/files/com.crittercism/lib/libcrittercism-ndk.so", RTLD_LAZY) failed: dlopen failed: "/data/data/com.jbhunt.appl.jbhdrivemobile/files/com.crittercism/lib/libcrittercism-ndk.so" has unexpected e_machine: 40
[ERROR] :  Crittercism: Unable to load breakpadjava.lang.UnsatisfiedLinkError: dlopen failed: "/data/data/com.jbhunt.appl.jbhdrivemobile/files/com.crittercism/lib/libcrittercism-ndk.so" has unexpected e_machine: 40
</pre></code>

<h4>Stack Trace</h4>
Can be also reproduced using Genymotion emulator. 
<code><pre>
-- Start application log -----------------------------------------------------
[INFO]  TiApplication: (main) [0,0] checkpoint, app created.
[INFO]  TiApplication: (main) [36,36] Titanium 4.1.0 (2015/07/06 11:15 d57aa7d)
[INFO]  TiApplication: (main) [67,103] Titanium Javascript runtime: v8
[INFO]  TiRootActivity: (main) [0,0] checkpoint, on root activity create, savedInstanceState: null
[WARN]  V8Object: (KrollRuntimeThread) [78,78] Runtime disposed, cannot set property 'userAgent'
[INFO]  CrittercismInstance: Initializing Crittercism...
[ERROR] art: dlopen("/data/data/com.appc.test/files/com.crittercism/lib/libcrittercism-ndk.so", RTLD_LAZY) failed: dlopen failed: "/data/data/com.appc.test/files/com.crittercism/lib/libcrittercism-ndk.so" has unexpected e_machine: 40
[ERROR] art: dlopen("/data/data/com.appc.test/files/com.crittercism/lib/libcrittercism-ndk.so", RTLD_LAZY) failed: dlopen failed: "/data/data/com.appc.test/files/com.crittercism/lib/libcrittercism-ndk.so" has unexpected e_machine: 40
[ERROR] Crittercism: Unable to load breakpadjava.lang.UnsatisfiedLinkError: dlopen failed: "/data/data/com.appc.test/files/com.crittercism/lib/libcrittercism-ndk.so" has unexpected e_machine: 40
[INFO]  TiRootActivity: (main) [0,0] checkpoint, on root activity resume. activity = com.appc.test.AppctouchtestActivity@1d4205bb
[INFO]  OpenGLRenderer: Initialized EGL, version 1.4
[WARN]  EGL_emulation: eglSurfaceAttrib not implemented
[WARN]  OpenGLRenderer: Failed to set EGL_SWAP_BEHAVIOR on surface 0xb00287e0, error=EGL_SUCCESS
[INFO]  APSAnalyticsService: Analytics Service Started
[INFO]  APSAnalyticsService: Stopping Analytics Service
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-19293_56486/Leor's version of APM.png">Leor's version of APM.png</td></td><td>2015-08-21T15:55:20.000+0000</td><td>569056</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-19293_56463/Screen Shot 2015-08-20 at 10.43.54 AM.png">Screen Shot 2015-08-20 at 10.43.54 AM.png</td></td><td>2015-08-20T14:47:10.000+0000</td><td>678041</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-19293_56462/Screen Shot 2015-08-20 at 10.44.02 AM.png">Screen Shot 2015-08-20 at 10.44.02 AM.png</td></td><td>2015-08-20T14:47:10.000+0000</td><td>847878</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Leor Brenman 2015-08-20

   I am seeing this same issue
   
   But i am seeing app loads in the performance -> live stats and i believe that it is catching crashes (see screen shot)
   
   I am initializing as follows:
   
   Alloy.Globals.apm = require("com.appcelerator.apm");
   Alloy.Globals.apm && Alloy.Globals.apm.init(Ti.App.Properties.getString('com-appcelerator-apm-id'),{});
   
   [ERROR] :  art: dlopen("/data/data/com.leorbrenman.mymbta/files/com.crittercism/lib/libcrittercism-ndk.so", RTLD_LAZY) failed: dlopen failed: "/data/data/com.leorbrenman.mymbta/files/com.crittercism/lib/libcrittercism-ndk.so" has unexpected e_machine: 40
   [ERROR] :  art: dlopen("/data/data/com.leorbrenman.mymbta/files/com.crittercism/lib/libcrittercism-ndk.so", RTLD_LAZY) failed: dlopen failed: "/data/data/com.leorbrenman.mymbta/files/com.crittercism/lib/libcrittercism-ndk.so" has unexpected e_machine: 40
   [ERROR] :  Crittercism: Unable to load breakpadjava.lang.UnsatisfiedLinkError: dlopen failed: "/data/data/com.leorbrenman.mymbta/files/com.crittercism/lib/libcrittercism-ndk.so" has unexpected e_machine: 40</li>
<li>Ashraf Abu 2015-08-20

   [~lbrenman] Which version of APM are you using?</li>
<li>Leor Brenman 2015-08-21

   [~msamah] I am using the latest (1.1.1) - see screen shot</li>
<li>Ashraf Abu 2015-08-24

   [~lbrenman], the latest fix is 1.1.5. Please wait for the updated. :)</li>
<li>Eduardo Gomez 2015-08-25

   Hi [~msamah] is there a pre-release available already? Please?</li>
<li>Ingo Muschenetz 2015-09-21

   [~pkclark] it appears we need to publish this APM version (1.1.5). Any help you need with doing that?</li>
<li>Lokesh Choudhary 2015-09-24

   Verified the fix with standalone APM 1.1.5.
   Waiting for the APM module 1.1.5 to come with the SDK. I still see 1.1.1 with SDK 5.0.1.v20150924103934</li>
<li>Lee Morris 2017-03-20

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19293.json">JSON Source</a></p>