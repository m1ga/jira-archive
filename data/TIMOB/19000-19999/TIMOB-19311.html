---
title: "[TIMOB-19311] iOS: Configuring capabilities (app group) and team identity via tiapp.xml"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-08-11T18:09:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chee Kiat Ng</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2015-08-04T05:02:25.000+0000</td></tr>
<tr><th>Updated</th><td>2017-10-18T22:08:15.000+0000</td></tr>
</table>

<h3>Description</h3>

To enable watchkit, there is a need to configure app group, and generate a entitlements file. Currently the proposed method described here:
<a href="https://wiki.appcelerator.org/display/guides2/Integrate+a+Native+iOS+App+Extension+or+WatchKit+App" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides2/Integrate+a+Native+iOS+App+Extension+or+WatchKit+App</a>
requires us to manually set it up in the Xcode project, and also to manually create the entitlements file. 
It will be great if we could just write the app group array in tiapp.xml and let *titanium build* do the rest.
Apple Documentation: <a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AddingCapabilities/AddingCapabilities.html" rel="nofollow" target="_blank">https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AddingCapabilities/AddingCapabilities.html</a>

<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2015-08-05

   *Note:* From the ti developer perspective, he should be doing this in the following manner:
   1. Log in to developer.apple.com, and create app group with the App ID consistent to his titanium app id.
   for example, if titanium app id is *com.appcelerator.testWatch*, app group id should be *group.com.appcelerator.testWatch*
   2. After which, he should include this group id in tiapp.xml, and also the corresponding team identity.
   3. Then ti build will have to map these information to the Xcode project build, as well as generate entitlement files.</li>
<li>Chris Barber 2015-08-07

   PR #1: <a href="https://github.com/appcelerator/titanium_mobile/pull/7012" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7012</a></li>
<li>Chris Barber 2015-08-07

   PR #2: <a href="https://github.com/appcelerator/titanium_mobile/pull/7013" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7013</a></li>
<li>Chris Barber 2015-08-11

   PR #3: <a href="https://github.com/appcelerator/titanium_mobile/pull/7017" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7017</a></li>
<li>Fokke Zandbergen 2015-11-12

   [~cbarber] does this ticket allow users to add any entitlement (for <code>Entitlements.plist</code>) via <code>tiapp.xml</code> like they can for <code>Info.plist</code>? That's not clear to me. It seems like it is for app group and team identity only?
   
   If so, I will create a new ticket to add this to make integrating something like HealthKit easier instead of having to maintain a <code>Entitlements.plist</code> file yourself.
   
   <a href="http://labs.appcelerator.com/project/55c3c788e014044625e9b2a1/HealthKit-Module" rel="nofollow" target="_blank">http://labs.appcelerator.com/project/55c3c788e014044625e9b2a1/HealthKit-Module</a></li>
<li>Chris Barber 2015-11-12

   [~fokkezb] Isn't the Entitlements.plist generated? I don't think it's existence is tied to the use of app groups or teams. This ticket was to add support for iOS capabilities. We only support the app group capability. As apart of app groups, we support teams. There are a ton of other capabilities that we do not support.</li>
<li>Fokke Zandbergen 2015-11-12

   It is, unless you have one in the project root:
   <a href="https://github.com/appcelerator/titanium_mobile/blob/17dc8754653daaff170ea0c18f74218168a5633e/iphone/cli/commands/_build.js#L2219-L2258" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/17dc8754653daaff170ea0c18f74218168a5633e/iphone/cli/commands/_build.js#L2219-L2258</a>
   
   So my request would be to make it work like <code>Info.plist</code> where we have a <code><ios>/<entitlements></code> section which we merge with whatever we generate (and like recently fixed for <code>Info.plist</code>, without overwriting keys the user has set).
   
   I'll modify TIMOB-19911 to request this.</li>
<li>Rick Blalock 2016-03-01

   Did any of this ever make it in to the docs?  I don't see anything about it.</li>
<li>Chris Barber 2016-03-01

   No clue. [~bimmel]?</li>
<li>(deactived) Brian Immel 2016-03-01

    [~rblalock], this was before my time so I have no idea but I'll look for it today. Does anyone know if there was a related TIDOC ticket created for this? Chances are if no TIDOC ticket exists, then it wasn't documented.</li>
<li>Chris Barber 2016-03-01

    [~bimmel] No clue, but probably not. :)</li>
<li>Rick Blalock 2016-03-01

    I didn't find a TIDOC.  I'm not even sure how it works to help you with this one Brian.  You'll have to work with Chris on how it works.</li>
<li>Chris Barber 2016-03-01

    Well, this is sorta complicated. If you have a watch app or iOS extension and you want them to be able to communicate with the iOS app, then you have to define an app group. This shows up under the "capabilities" in Xcode. This requires you specify a team and app account. Then you pick a app group that was linked with your entitlements that was created in the Apple developer portal.
    
    Here's an example of how to define this in the tiapp.xml:
    
    <code><pre>
    <?xml version="1.0" encoding="UTF-8"?>
    <ti:app xmlns:ti="<a href="http://ti.appcelerator.org" rel="nofollow" target="_blank">http://ti.appcelerator.org</a>">
        <!-- snip -->
        <ios>
            <team-id>foo</team-id>
            <capabilities>
                <app-groups>
                    <group>group.com.appc.foo</group>
                    <group>group.com.appc.bar</group>
                </app-groups>
            </capabilities>
        </ios>
    </ti:app>
    </pre></code></li>
<li>Rick Blalock 2016-03-01

    The Tiapp.xml is all I was looking for actually.</li>
<li>(deactived) Brian Immel 2016-03-01

    From what I can tell, there is no Jira ticket nor any mention of this configuration in any of our docs. Please file a TIDOC ticket with the necessary info and I work on it right away.</li>
<li>(deactived) Brian Immel 2016-03-01

    Ok, I'll create a TIDOC and link it to this one and put the info Chris mentioned in the aforementioned page.</li>
<li>Lee Morris 2017-03-31

    Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19311.json">JSON Source</a></p>