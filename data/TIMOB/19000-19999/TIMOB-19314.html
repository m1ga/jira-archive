---
title: "[TIMOB-19314] Android Map doesn't compile with 4.1.0.GA"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-08-05T04:51:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.1.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>regression</td></tr>
<tr><th>Reporter</th><td>Hieu Pham</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2015-08-04T22:04:38.000+0000</td></tr>
<tr><th>Updated</th><td>2015-09-21T18:45:32.000+0000</td></tr>
</table>

<h3>Description</h3>

Building map module with 4.1.0.GA result in with this error: 
  [javac] 			KrollDict d = ((TiViewProxy) obj).toImage();
    [javac] 			                                         ^
    [javac]   required: KrollDict
    [javac]   found:    TiBlob
    [javac] Note: Some input files use unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked for details.
    [javac] 1 error
    [javac] 10 warnings

This is the result of a method signature change in: <a href="https://github.com/appcelerator/titanium_mobile/pull/6907" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6907</a>

Reproducible steps:
1. Build the module with 4.1.0.GA and observe the logs.

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2015-08-04

   map PR: <a href="https://github.com/appcelerator-modules/ti.map/pull/113" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/pull/113</a>
   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7006" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7006</a>
   4.1.X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7007" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7007</a></li>
<li>Ashraf Abu 2015-08-05

   Updating travis for TiMap <a href="https://github.com/appcelerator-modules/ti.map/pull/114" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/pull/114</a></li>
<li>Ashraf Abu 2015-08-05

   Merged.</li>
<li>Wilson Luu 2015-08-06

   Closing ticket as fixed. Verified that I was able to reproduce the original fail case when I reverted <a href="https://github.com/appcelerator-modules/ti.map" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map</a> back to commit fbcc395fccd05e4f5a7ee110d6af817e24474330. And, I was able to verify the fix with latest commit on <a href="https://github.com/appcelerator-modules/ti.map" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map</a> with SDK 4.1.0.GA.
   
   Tested on:
   
   <a href="https://github.com/appcelerator-modules/ti.map/android" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map/android</a>
   Commit: a50dd6418241c10bb24e76e869d96e64fdd9bfb2
   SDK: 4.1.0.GA
   OS: Yosemite (10.10.4)</li>
<li>Hieu Pham 2015-08-19

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7050" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7050</a></li>
<li>Manuel Lehner 2015-09-03

   [~hpham] I'm trying to use ti.map v2.3.3 together with another module that uses the google-play-services library (<a href="https://github.com/Sitata/titanium_google_plus)" rel="nofollow" target="_blank">https://github.com/Sitata/titanium_google_plus)</a> but I cannot compile the app anymore. How do I fix that other module?
   This is the error:
   <code><pre>
   [ERROR] Failed to run dexer:
   [ERROR]
   [ERROR] UNEXPECTED TOP-LEVEL EXCEPTION:
   [ERROR] java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/dynamic/LifecycleDelegate;
   [ERROR]         at com.android.dx.dex.file.ClassDefsSection.add(ClassDefsSection.java:122)
   [ERROR]         at com.android.dx.dex.file.DexFile.add(DexFile.java:161)
   [ERROR]         at com.android.dx.command.dexer.Main.processClass(Main.java:732)
   [ERROR]         at com.android.dx.command.dexer.Main.processFileBytes(Main.java:673)
   [ERROR]         at com.android.dx.command.dexer.Main.access$300(Main.java:83)
   [ERROR]         at com.android.dx.command.dexer.Main$1.processFileBytes(Main.java:602)
   [ERROR]         at com.android.dx.cf.direct.ClassPathOpener.processArchive(ClassPathOpener.java:284)
   [ERROR]         at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:166)
   [ERROR]         at com.android.dx.cf.direct.ClassPathOpener.process(ClassPathOpener.java:144)
   [ERROR]         at com.android.dx.command.dexer.Main.processOne(Main.java:632)
   [ERROR]         at com.android.dx.command.dexer.Main.processAllFiles(Main.java:510)
   [ERROR]         at com.android.dx.command.dexer.Main.runMonoDex(Main.java:280)
   [ERROR]         at com.android.dx.command.dexer.Main.run(Main.java:246)
   [ERROR]         at com.android.dx.command.dexer.Main.main(Main.java:215)
   [ERROR]         at com.android.dx.command.Main.main(Main.java:106)
   [ERROR]
   [ERROR] UNEXPECTED TOP-LEVEL EXCEPTION:
   [ERROR] java.lang.IllegalArgumentException: already added: Lcom/google/android/gms/maps/GoogleMap$13;
   [ERROR]         at com.android.dx.dex.file.ClassDefsSection.add(ClassDefsSection.java:122)
   [ERROR]         at com.android.dx.dex.file.DexFile.add(DexFile.java:161)
   [ERROR]         at com.android.dx.command.dexer.Main.processClass(Main.java:732)
   [ERROR]         at com.android.dx.command.dexer.Main.processFileBytes(Main.java:673)
   [ERROR]         at com.android.dx.command.dexer.Main.access$300(Main.java:83)
   [ERROR]         at com.android.dx.command.dexer.Main$1.processFileBytes(Main.java:602)
   [ERROR]         at com.android.dx.cf.direct.ClassPathOpener.processArchive(ClassPathOpener.java:284)
   [ERROR]         at com.android.dx.cf.direct.ClassPathOpener.processOne(ClassPathOpener.java:166)
   [ERROR]         at com.android.dx.cf.direct.ClassPathOpener.process(ClassPathOpener.java:144)
   [ERROR]         at com.android.dx.command.dexer.Main.processOne(Main.java:632)
   [ERROR]         at com.android.dx.command.dexer.Main.processAllFiles(Main.java:510)
   [ERROR]         at com.android.dx.command.dexer.Main.runMonoDex(Main.java:280)
   [ERROR]         at com.android.dx.command.dexer.Main.run(Main.java:246)
   [ERROR]         at com.android.dx.command.dexer.Main.main(Main.java:215)
   [ERROR]         at com.android.dx.command.Main.main(Main.java:106)
   [ERROR] 2 errors; aborting
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-19314.json">JSON Source</a></p>