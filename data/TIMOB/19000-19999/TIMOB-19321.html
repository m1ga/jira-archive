---
title: "[TIMOB-19321] Glitch/Bug in Universal Unit Support in Ti SDK 4.0.1 and 4.1.0"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android, iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Charlie Sands</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-07-11T17:35:03.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:40.000+0000</td></tr>
</table>

<h3>Description</h3>

I noticed a strange difference in behavior between Titanium SDK after version 3.5.1 when it comes to images that are created from a view and then saved to the device's file system.

In the code example below, Ti SDK 3.5.1 produces an image file that is 240 dp x 320 dp, which is my desired outcome; in Ti SDK 4.0.0/4.1.0 however, the image that is created is 240 px x 320 px (i.e., 720 x 960 when created on iPhone 6 Plus):

*Setting in tiapp.xml:*
{quote}...
    <property name="ti.ui.defaultunit" type="string">dp</property>
...{quote}

*View in /app/views/index.xml:*

{quote}    <View id="lgImageContainer" width="240" height="320">
        <ImageView id="lgImageMaker" width="240" height="620"/>
    </View>
{quote}

*In /app/controllers/index.js:*

{quote}var f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory, 'INPUT.jpg').read();
$.lgImageMaker.image = f;
var b = $.lgImageContainer.toImage();
var m = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory, 'OUTPUT.png');
m.write(b);{quote}

I can replicate the behavior described above 100% of the time simply by switching between SDK 3.5.1 and either 4.0.1 or 4.1.0.

Let me know if there is any other information I can provide that will help troubleshoot this.

Thanks.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-19321.json">JSON Source</a></p>