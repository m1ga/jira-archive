---
title: "[TIMOB-19326] Cannot install/build to iOS device or simulator"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-08-07T18:20:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Wilson Luu</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2015-08-07T00:16:05.000+0000</td></tr>
<tr><th>Updated</th><td>2015-08-07T19:48:56.000+0000</td></tr>
</table>

<h3>Description</h3>

*Details:* Cannot install/build to iOS device or simulator.

*Note:*
* This is a regression from SDK build 4.2.0.v20150729122818 i.e. was working on July 29
* I am able to install to Android device or emulator without any issues
* This occurs with both Appc CLI and Titanium CLI

*Steps to reproduce:*
<h4>Create a Titanium project: <code>appc new</code> or <code>ti create</code></h4>
<h4>Run following command to install to device or simulator: <code>appc run -p ios -T <device OR simulator></code> OR <code>ti build -p ios -T <device OR simulator></code></h4>
<h4>Finish prompt to get app onto device or simulator</h4>

*Actual:* If you install app to device or simulator from Appc CLI, the build will stop midway; see appc_cli_log.txt

If you install app to device or simulator from Ti CLI, you get the following error:
<code><pre>
[ERROR] Failed to run command "build"
[ERROR] ReferenceError: cli is not defined
    at iOSBuilder.createXcodeProject (/Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806155225/iphone/cli/commands/_build.js:2857:13)
    at /Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806155225/node_modules/node-appc/node_modules/async/lib/async.js:607:21
    at /Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806155225/node_modules/node-appc/node_modules/async/lib/async.js:246:17
    at iterate (/Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806155225/node_modules/node-appc/node_modules/async/lib/async.js:146:13)
    at /Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806155225/node_modules/node-appc/node_modules/async/lib/async.js:157:25
    at /Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806155225/node_modules/node-appc/node_modules/async/lib/async.js:248:21
    at /Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806155225/node_modules/node-appc/node_modules/async/lib/async.js:612:34
    at /Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806155225/node_modules/node-appc/lib/async.js:64:51
    at /Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806155225/node_modules/node-appc/node_modules/async/lib/async.js:607:21
    at /Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806155225/node_modules/node-appc/node_modules/async/lib/async.js:246:17
---------------------------------------------
    at exports.execFile (child_process.js:712:9)
    at exports.exec (child_process.js:591:18)
    at /usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/environ.js:267:3
    at /usr/local/lib/node_modules/titanium/node_modules/node-appc/node_modules/async/lib/async.js:251:17
    at /usr/local/lib/node_modules/titanium/node_modules/node-appc/node_modules/async/lib/async.js:154:25
    at /usr/local/lib/node_modules/titanium/node_modules/node-appc/node_modules/async/lib/async.js:248:21
    at /usr/local/lib/node_modules/titanium/node_modules/node-appc/node_modules/async/lib/async.js:612:34
    at /usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/environ.js:234:7
</pre></code>

*Expected:* Should be able to install app to iOS device or simulator.



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-19326_56356/appc_cli_log.txt">appc_cli_log.txt</td></td><td>2015-08-07T00:15:11.000+0000</td><td>29235</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2015-08-07

   Fixed a regression in TIMOB-19311 that fixes this.</li>
<li>Wilson Luu 2015-08-07

   Reopening ticket. With latest master SDK build 4.2.0.v20150806201222, I get the following error when I try to build for iOS device or simulator:
   <code><pre>
   /usr/local/lib/node_modules/titanium/node_modules/longjohn/dist/longjohn.js:195
           throw e;
                 ^
   Error: Cannot find module '/Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806201222/node_modules/ioslib/node_modules/sqlite3/lib/binding/node-v11-darwin-x64/node_sqlite3.node'
       at Module._resolveFilename (module.js:338:15)
       at Module._load (module.js:280:25)
       at Module.require (module.js:364:17)
       at require (module.js:380:17)
       at Object.<anonymous> (/Users/wluu/Library/Application Support/Titanium/mobilesdk/osx/4.2.0.v20150806201222/node_modules/ioslib/node_modules/sqlite3/lib/sqlite3.js:4:15)
       at Module._compile (module.js:456:26)
       at Module._extensions..js (module.js:474:10)
       at Module.load (module.js:356:32)
       at Module._load (module.js:312:12)
       at Module.require (module.js:364:17)
   ---------------------------------------------
       at Object.run (/usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/subprocess.js:59:8)
       at find (/usr/local/lib/node_modules/titanium/node_modules/node-appc/lib/subprocess.js:96:14)
       at q.process (/usr/local/lib/node_modules/titanium/node_modules/node-appc/node_modules/async/lib/async.js:806:21)
       at processImmediate (timers.js:354:15)
   </pre></code></li>
<li>Chris Barber 2015-08-07

   [~wluu] Ugh. I introduced sqlite to get at the Xcode teams, but the sqlite module ran into the same problem as us with node-ios-device. If you install Node.js 0.12, it'll work. I'll try to build it with 0.10 and get a fix asap.</li>
<li>Chris Barber 2015-08-07

   Fixed by PR <a href="https://github.com/appcelerator/titanium_mobile/pull/7013" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7013</a></li>
<li>Wilson Luu 2015-08-07

   Closing ticket as fixed. Verified I was able to build and install a Ttianium app to an iOS device and simulator.
   
   Tested on:
   
   Appc CLI NPM: 4.2.0-1
   Appc CLI Core: 4.2.0-18
   Arrow: 1.2.13
   SDK: 4.2.0.v20150807112024
   Node: v0.10.38
   OS: Yosemite (10.10.4)
   Xcode: 6.4, 7 (beta 5)
   Devices: iphone 6 plus (8.3), iphone 6 plus (9.0 13A4325c), iphone 6 simulator (8.4), iphone 6 simulator (9.0)</li>
</ol>


<p><a href="/TIMOB/TIMOB-19326.json">JSON Source</a></p>