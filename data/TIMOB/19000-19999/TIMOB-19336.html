---
title: "[TIMOB-19336] iOS9: WatchOS2 build settings have wrong values"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2015-08-11T18:36:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>watchOS2, watchkit</td></tr>
<tr><th>Reporter</th><td>Chee Kiat Ng</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2015-08-08T08:42:20.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-17T18:06:41.000+0000</td></tr>
</table>

<h3>Description</h3>

Was trying to integrate my work on watch connectivity with the latest timobile SDK. There is an error when communicating between watch and phone simulators, stating that the watch app is not installed, but it is.

Did some investigations and realised that the build settings on my native Xcode project vs the ti build generated Xcode project is different for targets watchapp and watch extension. See attached screenshots to see the difference. basically, the base SDK on watch app and watch extension should be WatchOS2, and not iOS9. I believe we need to change it to WatchOS2 with the correct architecture in order to get the watch app running on WatchOS2.

<h4>Steps to reproduce</h4>
1. *ti create* titanium app
2. enter project folder
3. *ti create* apple watch
4. enter extensions folder and open apple watch Xcode project
5. enter storyboard and add a new label with some text
6. *ti build -p ios -I 9.0 --launch-watch-app*

<h4>Actual result</h4>
you will see the label with the new text on the watch app, indicating it's correctly working.
However, if you enter the build folder, and open the Xcode project, click on the watch app target and watch app extension target, they are NOT using watchOS2 as base SDK.

<h4>Expected result</h4>
It is supposed to be watchOS2. We can either automatically force all watch apps to watchOS2 for builds on Xcode 7, or we include a flag to indicate in ti build (or ti create) telling the CLI we want to build for watch kit 1.0 or watch OS2.

*Note*: For watch app and watch extension targets, the base SDK in the build folder generated by *ti build*, *as well as* the base SDK of the Xcode project in the extensions folder created by *ti create*, are not WatchOS2.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19336_56380/correct watch app build setting.png">correct watch app build setting.png</td></td><td>2015-08-08T08:45:15.000+0000</td><td>104098</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19336_56379/correct watch ext build setting.png">correct watch ext build setting.png</td></td><td>2015-08-08T08:45:19.000+0000</td><td>104413</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19336_56381/generated watch app build setting.png">generated watch app build setting.png</td></td><td>2015-08-08T08:45:11.000+0000</td><td>125211</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19336_56378/generated watch ext build setting.png">generated watch ext build setting.png</td></td><td>2015-08-08T08:45:22.000+0000</td><td>125382</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2015-08-08

   Another note. I tried to change the build settings manually in the Xcode project in the extensions folder, to see if i can do a workaround. 
   Then i got an error about bundle identifier. 
   I changed these in the plist to com.appcelerator.sg.SGTestWatch3.watchkitapp and com.appcelerator.sg.SGTestwatch3.watchkitextension but i still get an error on CLI when i call
   *ti build -p ios -I 9.0 --launch-watch-app*.
   
   The error is
   {quote}
   [TRACE] ** CLEAN FAILED **
   [TRACE] The following build commands failed:
   [TRACE] Check dependencies
   [TRACE] (1 failure)
   [ERROR] An error occurred during build after 1s 896ms
   [ERROR] 65
   {quote}</li>
<li>Chris Barber 2015-08-11

   This works just fine. WatchKit 1 apps use the iphoneos SDK to build. WatchKit 2 apps uses watchos.</li>
<li>Chee Kiat Ng 2015-08-12

   [~cbarber], I seem to be able to only build for watchkit 1. Can you please explain to me what build options or flags i have to use to build watcheos2 specific app? Is my steps above correct? </li>
<li>Chris Barber 2015-08-12

   [~cng] Here's all you need to do:
   
   1. Create a new project: <code>ti create --type app --name foo --id com.appc.foo --platforms all --url http://foo --workspace-dir .</code>
   2. cd into the project: <code>cd foo</code>
   3. Add a WatchKit 2 app: <code>ti create --type applewatch --name bar --template watchos2</code>
   4. Build the app: <code>ti build -p ios -I 9.0 --launch-watch-app</code></li>
<li>Lee Morris 2017-03-17

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19336.json">JSON Source</a></p>