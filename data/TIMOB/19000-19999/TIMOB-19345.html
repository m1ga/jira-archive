---
title: "[TIMOB-19345] Android: DatePicker change event does not fires in Lollipop"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-09-29T02:44:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>datepicker, parity</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2015-08-12T23:35:00.000+0000</td></tr>
<tr><th>Updated</th><td>2016-01-13T23:18:14.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue Description</h4>
This issues does not occur on iOS. If you run the test case on Jelly Bean devices the change event is fired as expected. 

<h4>Tested on</h4>
iOS 8.1: Change event works
Droid Razr 4.1.2: Change event works
Moto G 5.0.2: Change event didn't work

<h4>Test Case</h4>
<code><pre>
Ti.UI.backgroundColor = 'white';
var win = Ti.UI.createWindow({
    exitOnClose : true,
});

var datePicker = Ti.UI.createPicker({
    top: 100,
    height : Ti.UI.SIZE,
    width : Ti.UI.FILL,
    type : Ti.UI.PICKER_TYPE_DATE,
    minDate : new Date(),
    value : new Date(),
    color : "#000",
});

datePicker.addEventListener('change', function(e) {
    alert(e.value);
    Ti.API.info(e.value);
});
win.add(datePicker);

win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19345_56411/Android_JellyBean_Picker.png">Android_JellyBean_Picker.png</td></td><td>2015-08-12T23:33:13.000+0000</td><td>20246</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19345_56410/Android_Lollipop_Picker.png">Android_Lollipop_Picker.png</td></td><td>2015-08-12T23:33:19.000+0000</td><td>45457</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19345_56412/iOS_Picker.png">iOS_Picker.png</td></td><td>2015-08-12T23:33:08.000+0000</td><td>48822</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Lokesh Choudhary 2015-08-17

   I can see the issue both on android 4.X & 5.0.1. 
   Android 5.1.1 has the calendar type data picker & did not show this issue.
   
   Environment:
   Appc Studio :  4.2.0.201508062204
   Ti SDK :  4.2.0.v20150817002027, 4.1.0.GA
   Ti CLI : 4.1.4
   Alloy : 1.6.2
   MAC Yosemite : 10.10.4
   Appc NPM : 4.1.0
   Appc CLI : 4.2.0-54
   Node: v0.10.37
   Nexus 6- Android 5.0.1
   Nexus 5 - Android 5.1.1
   Samsung Galaxy S4 - Android 4.4.2
   
   
   
    </li>
<li>Ashraf Abu 2015-09-03

   </li>
<li>Ashraf Abu 2015-09-04

   [~lchoudhary] if this is indeed a duplicate of TIMOB-19192 and the behaviour is the same, can I close this as duplicate and continue this in TIMOB-19192?</li>
<li>Hieu Pham 2015-09-28

   "change" event should only fire once. Even though this is a native bug for certain Android versions, we should still fix it.
   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7240" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7240</a></li>
<li>Ashraf Abu 2015-09-29

   Merged PR</li>
<li>Ashraf Abu 2015-09-29

   </li>
<li>Lokesh Choudhary 2015-10-01

   Verified the fix.
   The change event is fired as expected in lollipop.
   Checked using the code in the description.
   
   Closing
   
   Environment:
   Appc Studio : 4.3.1.201509302304
   Ti SDK :  5.1.0.v20151001150432
   Ti CLI : 5.0.3
   Alloy : 1.7.10
   MAC Yosemite : 10.10.4
   Appc NPM : 4.2.0
   Appc CLI : 5.0.2
   Node: v0.10.37
   Nexus 5 - Android 5.0
   Android 4.4.4</li>
</ol>


<p><a href="/TIMOB/TIMOB-19345.json">JSON Source</a></p>