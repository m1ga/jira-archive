---
title: "[TIMOB-19347] Windows: Ti.Network.HTTPClient.send fails when arg object has non-string/Blob values"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-08-18T23:09:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>JÃ¶rgen Buder</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2015-08-13T14:51:04.000+0000</td></tr>
<tr><th>Updated</th><td>2015-08-19T23:29:10.000+0000</td></tr>
</table>

<h3>Description</h3>

Our current code assumes that the JSObject has string property names (which is valid) and either String or Ti.Blob values. It needs to handle other value types and convert them into strings.

The following works on iOS/Android, but fails on Windows:
<code><pre>
var datas = {
        'authenticatestring': Alloy.Globals.authenticateString,
        'functionName': 'registerNewReceiver',
        'apiVersion' : Alloy.Globals.serverApiVersion,
        'languageId' : Alloy.Globals.serverLanguage,
        'deviceId' : Alloy.Globals.deviceId,
        'purchaseId' : 9846598
    };
    httpClient.send();
</pre></code>

This is because our code take the numeric value for 'purchaseId' and since it's not a string assumes it's a Blob and attempts to pull a native Ti.Blob object out of it.

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2015-08-18

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/407" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/407</a></li>
<li>Lokesh Choudhary 2015-08-19

   Verified the fix. 
   
   Ti.Network.HTTPClient.send does not fail when arg object has non-string/Blob values.
   Closing.
   
   Environment:
   Appc Studio:  5.0.0.v20150819140421
   Ti SDK: 5.0.0.v20150819140421
   Ti CLI: 4.1.4
   Alloy: 1.6.2
   Windows: 8.1 Enterprise 64-bit
   APPC NPM: 4.2.0-1
   APPC CLI: 5.0.0-3
   Node : v0.10.37
   Device: Nokia Lumia 928 - Windows Phone 8.1
   Windows emulator : 8.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-19347.json">JSON Source</a></p>