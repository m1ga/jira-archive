---
title: "[TIMOB-19392] Load JS files and image assets relative to a different codebase than resourcesDirectory"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Core</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-08-21T07:31:02.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:02.000+0000</td></tr>
</table>

<h3>Description</h3>

There's a growing number of use cases where you would want to <code>require()</code> JavaScript files and image assets from a different codebase than the default <code>Ti.Filesystem.resourcesDirectory</code>.

* [LiveViewer](<a href="https://github.com/appcelerator/appc-liveviewer-app)" rel="nofollow" target="_blank">https://github.com/appcelerator/appc-liveviewer-app)</a>, TiShadow and potentially LiveView.
* Apps or frameworks for apps built on Titanium that let you update an app by pushing new scripts and images to it, much like [ChariTi](<a href="https://github.com/mcongrove/ChariTi)" rel="nofollow" target="_blank">https://github.com/mcongrove/ChariTi)</a>, GoodBarber.com and AppMachine.com

These currently require to modify loaded JavaScript files to reroute calls to <code>require()</code> and paths to image assets to custom methods that look up the actual full path and use that with the original methods. This is hacky and often not that stable.

<h4>Desired behaviour</h4>

*app.js*
<code><pre>

// only once use full path
var b = require(Ti.Filesystem.applicationDataDirectory + 'foo/b');
</pre></code>

*b.js*
<code><pre>

// this will load relative to dirname(b.js)
var c = require('./c');

var i = Ti.UI.createImageView({
  // this will load relative to dirname(b.js)
  image: './i.png'
});
</pre></code>

<h4>Possible solutions</h4>

Requiring from a full path already works. What needs to be done is that calls to <code>require()</code> and image assets that start with <code>./</code> - like NodeJS - will be resolved relative to the directory of the JavaScript file. So somehow, our API needs to be aware of this context.

This is probably related to if not included by TIMOB-16078.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-19392.json">JSON Source</a></p>