---
title: "[TIMOB-19397] Android: Push Notification Badge Number do not reflect to App icon"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2015-09-07T07:48:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 4.0.0, Release 4.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2015-08-24T02:32:19.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-17T18:02:32.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Reproduce:</h4>
1. Simple run the following code in a default app. (Register for token and subscribe to a channel)
<code><pre>
var CloudPush = require('ti.cloudpush'); 
var Cloud = require('ti.cloud');

CloudPush.retrieveDeviceToken({
	success: function deviceTokenSuccess(e) {
		alert('Device Token: ' + e.deviceToken);
       		
       		Cloud.PushNotifications.subscribeToken({
    			device_token: e.deviceToken,
    			channel: 'alert',
    			type: 'android'
			}, function (e) {
    			if (e.success) {
        			alert('Success');
    			} else {
        			console.log('Error:\n' +
            			((e.error && e.message) || JSON.stringify(e)));
    			}
			});
    },
    error: function deviceTokenError(e) {
            alert('Failed to register for push! ' + e.error);
    }
});

CloudPush.addEventListener('callback', function (evt) {
    alert(evt.payload);
});
</pre></code>
2. Send a simple notification from dashboard, with badge: "+2".
3. Received the notification from device successfully.

<h4>Expect:</h4>
The App icon should show badge 2.

<h4>Actual:</h4>
The App icon did not change at all.

<h4>Note:</h4>
Print the payload from device is like following:
<code><pre>
{"android":{"sound":"none","alert":"test","vibrate":false,"badge":2}}
</pre></code>
Seems the badge is delivered to device successfully, but the mobile did no handle it well, 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19397_56646/nexusbadge.png">nexusbadge.png</td></td><td>2015-09-07T07:13:04.000+0000</td><td>4765712</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19397_56645/nexusbadge2.png">nexusbadge2.png</td></td><td>2015-09-07T07:13:04.000+0000</td><td>316721</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19397_56644/samsungbadge.png">samsungbadge.png</td></td><td>2015-09-07T07:13:05.000+0000</td><td>184231</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ashraf Abu 2015-09-07

   Documentation on Badge: [<a href="http://docs.appcelerator.com/arrowdb/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/arrowdb/latest/#</a>!/api/PushNotifications]
   
   According to the documentation, on android: <code>On Android, the badge number is displayed in the notification center, while on iOS, the badge number is displayed with the application icon.</code>
   
   It is not suppose to reflect on the app icon. Instead, it is shown in the notification center. I'm attaching a few images to show where the badge is reflected in the notification for android. [^nexusbadge.png][^nexusbadge2.png][^samsungbadge.png]
   
   In this case, I had a badge number of 10 and I added +1 in the dashboard for push. This caused it to update to 11.
   
   This is the intended way it is working. Therefore this is not a bug.
   
   [~sliang] I will resolve this as an invalid bug.</li>
<li>Lee Morris 2017-03-17

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19397.json">JSON Source</a></p>