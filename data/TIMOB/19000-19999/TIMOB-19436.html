---
title: "[TIMOB-19436] Android: Ti.XML.parseString() did not recognise tag name without namespace "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2015-09-08T03:08:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2015-08-31T02:53:47.000+0000</td></tr>
<tr><th>Updated</th><td>2015-09-08T03:08:57.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Reproduce Step:</h4>
1. Simply run the following code in a default project.
<code><pre>
var response= '&lt;env:Envelope xmlns:env="<a href="http://schemas.xmlsoap.org/soap/envelope/" rel="nofollow" target="_blank">http://schemas.xmlsoap.org/soap/envelope/</a>"&gt;';
response += '&lt;env:Header/&gt;&lt;env:Body&gt;';
response += '&lt;ns0:findEmirateLookupsView1Response xmlns:ns0="/uaq/db/si/model/common/types/"&gt;';
response += '&lt;ns0:result xmlns:ns1="/uaq/db/si/model/common/" xmlns:ns0="/uaq/db/si/model/common/types/" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:type="ns1:EmirateLookupsViewSDO"&gt;'; 
response += '&lt;ns1:EmirateId&gt;1&lt;/ns1:EmirateId&gt;';
response += '&lt;ns1:EmiratenameEn&gt;Dubai&lt;/ns1:EmiratenameEn&gt;';
response += '&lt;ns1:EmiratenameAr&gt;دبي&lt;/ns1:EmiratenameAr&gt;';
response += '&lt;/ns0:result&gt;';
response += '&lt;ns0:result xmlns:ns1="/uaq/db/si/model/common/" xmlns:ns0="/uaq/db/si/model/common/types/" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:type="ns1:EmirateLookupsViewSDO"&gt;'; 
response += '&lt;ns1:EmirateId&gt;2&lt;/ns1:EmirateId&gt;'; 
response += '&lt;ns1:EmiratenameEn&gt;Abu Dhabi&lt;/ns1:EmiratenameEn&gt;'; 
response += '&lt;ns1:EmiratenameAr&gt;أبوظبي&lt;/ns1:EmiratenameAr&gt;'; 
response += '&lt;/ns0:result&gt;'; 
response += '&lt;ns0:result xmlns:ns1="/uaq/db/si/model/common/" xmlns:ns0="/uaq/db/si/model/common/types/" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:type="ns1:EmirateLookupsViewSDO"&gt;'; 
response += '&lt;ns1:EmirateId&gt;3&lt;/ns1:EmirateId&gt;'; 
response += '&lt;ns1:EmiratenameEn&gt;Sharjah&lt;/ns1:EmiratenameEn&gt;'; 
response += '&lt;ns1:EmiratenameAr&gt;الشارقة&lt;/ns1:EmiratenameAr&gt;'; 
response += '&lt;/ns0:result&gt;'; 
response += '&lt;ns0:result xmlns:ns1="/uaq/db/si/model/common/" xmlns:ns0="/uaq/db/si/model/common/types/" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:type="ns1:EmirateLookupsViewSDO"&gt;'; 
response += '&lt;ns1:EmirateId&gt;4&lt;/ns1:EmirateId&gt;'; 
response += '&lt;ns1:EmiratenameEn&gt;Al Ain&lt;/ns1:EmiratenameEn&gt;';
response += '&lt;ns1:EmiratenameAr&gt;العين&lt;/ns1:EmiratenameAr&gt;';
response += '&lt;/ns0:result&gt;';
response += '&lt;ns0:result xmlns:ns1="/uaq/db/si/model/common/" xmlns:ns0="/uaq/db/si/model/common/types/" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:type="ns1:EmirateLookupsViewSDO"&gt;';
response += '&lt;ns1:EmirateId&gt;5&lt;/ns1:EmirateId&gt;';
response += '&lt;ns1:EmiratenameEn&gt;Ras al-Khaimah&lt;/ns1:EmiratenameEn&gt;';
response += '&lt;ns1:EmiratenameAr&gt;راس الخيمه&lt;/ns1:EmiratenameAr&gt;';
response += '&lt;/ns0:result&gt;';
response += '&lt;/ns0:findEmirateLookupsView1Response&gt;'; 
response += '&lt;/env:Body&gt;&lt;/env:Envelope&gt;';

var result = Ti.XML.parseString(response); 
Ti.API.info(result);

var rootNode = result.getElementsByTagName("EmiratenameEn"); 
Ti.API.info('emirates list length==&gt;&gt; ' + rootNode.length); 
</pre></code>

<h4>Expect Result:</h4>
The XML tag should be recongise.

<h4>Actual Result:</h4>
On android, the tag can't be recongised. But on iOS, it works well.

<h4>Note:</h4>
If using full tag name with namespace (ns1:EmiratenameEn), it will work well. 
But this XML is a response from httpClient, the namespace is changing every time.

<h3>Comments</h3>

<ol>
<li>Ashraf Abu 2015-09-04

   There's this method, <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.XML.Document-method-getElementsByTagNameNS that does search with namespaces.
   
   You can use:
   <code><pre>
   var rootNode = result.getElementsByTagNameNS("*","EmiratenameEn"); 
   </pre></code>
   In android to get this to work.
   
   Full code would be:
   <code><pre>
   var response= '&lt;env:Envelope xmlns:env="<a href="http://schemas.xmlsoap.org/soap/envelope/" rel="nofollow" target="_blank">http://schemas.xmlsoap.org/soap/envelope/</a>"&gt;';
   response += '&lt;env:Header/&gt;&lt;env:Body&gt;';
   response += '&lt;ns0:findEmirateLookupsView1Response xmlns:ns0="/uaq/db/si/model/common/types/"&gt;';
   response += '&lt;ns0:result xmlns:ns1="/uaq/db/si/model/common/" xmlns:ns0="/uaq/db/si/model/common/types/" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:type="ns1:EmirateLookupsViewSDO"&gt;'; 
   response += '&lt;ns1:EmirateId&gt;1&lt;/ns1:EmirateId&gt;';
   response += '&lt;ns1:EmiratenameEn&gt;Dubai&lt;/ns1:EmiratenameEn&gt;';
   response += '&lt;ns1:EmiratenameAr&gt;دبي&lt;/ns1:EmiratenameAr&gt;';
   response += '&lt;/ns0:result&gt;';
   response += '&lt;ns0:result xmlns:ns1="/uaq/db/si/model/common/" xmlns:ns0="/uaq/db/si/model/common/types/" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:type="ns1:EmirateLookupsViewSDO"&gt;'; 
   response += '&lt;ns1:EmirateId&gt;2&lt;/ns1:EmirateId&gt;'; 
   response += '&lt;ns1:EmiratenameEn&gt;Abu Dhabi&lt;/ns1:EmiratenameEn&gt;'; 
   response += '&lt;ns1:EmiratenameAr&gt;أبوظبي&lt;/ns1:EmiratenameAr&gt;'; 
   response += '&lt;/ns0:result&gt;'; 
   response += '&lt;ns0:result xmlns:ns1="/uaq/db/si/model/common/" xmlns:ns0="/uaq/db/si/model/common/types/" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:type="ns1:EmirateLookupsViewSDO"&gt;'; 
   response += '&lt;ns1:EmirateId&gt;3&lt;/ns1:EmirateId&gt;'; 
   response += '&lt;ns1:EmiratenameEn&gt;Sharjah&lt;/ns1:EmiratenameEn&gt;'; 
   response += '&lt;ns1:EmiratenameAr&gt;الشارقة&lt;/ns1:EmiratenameAr&gt;'; 
   response += '&lt;/ns0:result&gt;'; 
   response += '&lt;ns0:result xmlns:ns1="/uaq/db/si/model/common/" xmlns:ns0="/uaq/db/si/model/common/types/" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:type="ns1:EmirateLookupsViewSDO"&gt;'; 
   response += '&lt;ns1:EmirateId&gt;4&lt;/ns1:EmirateId&gt;'; 
   response += '&lt;ns1:EmiratenameEn&gt;Al Ain&lt;/ns1:EmiratenameEn&gt;';
   response += '&lt;ns1:EmiratenameAr&gt;العين&lt;/ns1:EmiratenameAr&gt;';
   response += '&lt;/ns0:result&gt;';
   response += '&lt;ns0:result xmlns:ns1="/uaq/db/si/model/common/" xmlns:ns0="/uaq/db/si/model/common/types/" xmlns:xsi="<a href="http://www.w3.org/2001/XMLSchema-instance" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>" xsi:type="ns1:EmirateLookupsViewSDO"&gt;';
   response += '&lt;ns1:EmirateId&gt;5&lt;/ns1:EmirateId&gt;';
   response += '&lt;ns1:EmiratenameEn&gt;Ras al-Khaimah&lt;/ns1:EmiratenameEn&gt;';
   response += '&lt;ns1:EmiratenameAr&gt;راس الخيمه&lt;/ns1:EmiratenameAr&gt;';
   response += '&lt;/ns0:result&gt;';
   response += '&lt;/ns0:findEmirateLookupsView1Response&gt;'; 
   response += '&lt;/env:Body&gt;&lt;/env:Envelope&gt;';
    
   var result = Ti.XML.parseString(response); 
   Ti.API.info(result);
    
   var rootNode = result.getElementsByTagNameNS("*","EmiratenameEn"); 
   Ti.API.info('emirates list length==&gt;&gt; ' + rootNode.length); 
   </pre></code>
   
   [~sliang] If this solves the issue, I'll resolve this ticket.</li>
<li>Shuo Liang 2015-09-04

   It works for me, and now waiting for customer's reply. Thanks a lot. [~msamah]</li>
<li>Ashraf Abu 2015-09-08

   Closing this as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19436.json">JSON Source</a></p>