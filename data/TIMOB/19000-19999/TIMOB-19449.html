---
title: "[TIMOB-19449] iOS schedule local notification doesn't make the default sound or phone vibration"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2015-09-01T22:46:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.5.1, Release 4.0.0, Release 4.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios8, notification</td></tr>
<tr><th>Reporter</th><td> Ricardo Ramirez</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2015-09-01T20:27:38.000+0000</td></tr>
<tr><th>Updated</th><td>2015-09-01T22:46:05.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue Description</h4>

When the type Ti.App.iOS.USER_NOTIFICATION_TYPE_SOUND is defined and the sound property is not defined in the scheduleLocalNotification function, the device is not making the default sound and the device vibration on the alert. 

<h4>Expected behavior</h4>
The device should make the sound alert and vibrate. 

<h4>Steps to Replicate: </h4>
1. Create a new titanium classic project 
2. Grab the app.js file
3. Replace the code with the testcase code 
4. Run the application on iOS device

<h4>Test Case</h4>

<code><pre>
// Check if the device is running iOS 8 or later, before registering for local notifications
if (Ti.Platform.name == "iPhone OS" && parseInt(Ti.Platform.version.split(".")[0]) &gt;= 8) {
    Ti.App.iOS.registerUserNotificationSettings({
	    types: [
            Ti.App.iOS.USER_NOTIFICATION_TYPE_ALERT,
            Ti.App.iOS.USER_NOTIFICATION_TYPE_SOUND,
            Ti.App.iOS.USER_NOTIFICATION_TYPE_BADGE
        ]
    });
}



var notification = Ti.App.iOS.scheduleLocalNotification({
    alertAction: "update",
    alertBody: "New content available! Update now?",
    badge: 1,
    date: new Date(new Date().getTime() + 6000),
    //sound: "/ahem_x.wav",
}); 

var mainWindow = Ti.UI.createWindow();

var mainView = Ti.UI.createView({backgroundColor:"white"});

var desclabel = Ti.UI.createLabel({text:"Press the home or lock button and wait for the alert "});

mainWindow.add(mainView);
mainView.add(desclabel);
mainWindow.open();

</pre></code>


<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2015-09-01

   [~rramirez] Have you tried to set the sound property to "default"? Please try if not!
   
   EDIT: This is what we're doing under the hood:
   
   <code><pre>
   if ([sound isEqual:@"default"]) {
     localNotif.soundName = UILocalNotificationDefaultSoundName;
   }
   </pre></code>
   
   So providing "default" as the value of the "sound"-property should fix the issue.</li>
<li>Hans Knöchel 2015-09-01

   Closing this issue, since [~rramirez] have been able to fix the issue by setting the <code>sound</code> property to "default".</li>
</ol>


<p><a href="/TIMOB/TIMOB-19449.json">JSON Source</a></p>