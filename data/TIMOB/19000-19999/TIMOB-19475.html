---
title: "[TIMOB-19475] Android: Build fails if target SDK is lower than API 23"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-09-08T18:35:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>qe-5.0.0</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2015-09-07T22:53:09.000+0000</td></tr>
<tr><th>Updated</th><td>2015-09-21T17:42:01.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When building an app for Android and API 23 (Android 6.0) is not installed or is not set as the target SDK then the build will fail with the below errors

<code><pre>
[ERROR] Failed to package application:

[ERROR]
[ERROR] C:\Users\Ewan\AppData\Local\Temp\11587-3632-barql9\res\values-v23\styles_base.xml:20: error: Error retrieving parent for item: No resource found that matches
 the given name 'android:Widget.Material.Button.Colored'.
[ERROR]
[ERROR] C:\Users\Ewan\AppData\Local\Temp\11587-3632-barql9\res\values-v23\styles_base_text.xml:19: error: Error retrieving parent for item: No resource found that ma
tches the given name 'android:TextAppearance.Material.Widget.Button.Inverse'.
</pre></code>

This error is related to app compat which has been updated in [this commit](<a href="https://github.com/appcelerator/titanium_mobile/pull/7128)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7128)</a>

<h4>Steps to reproduce</h4>

1. Either uninstall API 23 or set the target SDK in the tiapp.xml using <code>&lt;uses-sdk android:targetSdkVersion="21"/&gt;</code>
2. Build for Android using <code>appc run -p android -T device --build-only</code>


<h4>Actual result</h4>

The build will fail

<h4>Expected result</h4>

The build should exit and tell the user that API 23 is required to build using 5.0.0

<h3>Comments</h3>

<ol>
<li>Feon Sua Xin Miao 2015-09-08

   Isn't API 21 the minimum supported Android SDK to build apps?</li>
<li>Feon Sua Xin Miao 2015-09-08

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/7139" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7139</a>
   5_0_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/7144" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7144</a></li>
<li>Chris Barber 2015-09-09

   5_0_X revert: <a href="https://github.com/appcelerator/titanium_mobile/pull/7156" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7156</a></li>
<li>Satyam Sekhri 2015-09-15

   No build failure when Android API 23 not installed or target less than API level 23.
   Verified on:
   Mac OS 10.10.5
   Appc CLI NPM: 4.2.0-8
   Appc CLI Core: 5.0.0-51
   Titanium CLI: 5.0.3
   SDK: 5.0.0.v20150914163105
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-19475.json">JSON Source</a></p>