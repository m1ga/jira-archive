---
title: "[TIMOB-19521] Ti.Map MapView setLocation zooms out to the maximum on Android unless latitudeDelta longitudeDelta are present"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 4.1.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>TCSupportTriage, android, mapView, parity</td></tr>
<tr><th>Reporter</th><td>David Fischer</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2014-08-23T00:58:38.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:54:59.000+0000</td></tr>
</table>

<h3>Description</h3>

function setLocation (e) {
    Ti.API.info("Annotation " + e.title + " clicked, id: " + e.annotation.myid);
    $.mapview.setLocation({
        latitude: 32.8245525,
        longitude: -117.0951632,
        animate: true,
    });
}

Calling that function will center the map on the specified location but zoom the map out to the maximum. The documentation makes it seem like latitudeDelta and longitudeDelta are optional.

I just want to center the map, not change the zoom level. I'm not aware of any workarounds on Android.

GitHub repo illustrating problem: <a href="https://github.com/davidfischer/setLocationBug" rel="nofollow" target="_blank">https://github.com/davidfischer/setLocationBug</a>

The above application can be built for iOS and Android. Clicking the annotation will center and zoom the map out on Android. It only centers the map on iOS.

Titanium: 3.3.0.GA
Platform: 4.4.2
API: 19
Google APIs x86

<h3>Comments</h3>

<ol>
<li>Harish Mridha 2014-08-26

   Hi,
   
   We tried to reproduce this issue with sample test case. It only centers the map on iOS not android. So it’s now working as expected with Titanium SDK 3.3.0.GA.
    
   <h4>TESTING ENVIRONMENT:</h4>
   
       Titanium SDK: 3.2.3.GA and 3.3.0.GA
       Titanium CLI: 3.3.0
       OS X Version: 10.9.3
       Android API Level: 19
       iOS Version: 7.1.2
   
   <h4>TEST CODE:</h4>
   
   alloy.js
   <code><pre> 
   Alloy.Globals.Map = require('ti.map');
   </pre></code>
   
   index.xml
   <code><pre> 
   &lt;Alloy&gt;
     &lt;Window id="window" class="container"&gt;
       &lt;Module id="mapview" module="ti.map" method="createView" onClick="setLocation"&gt;
         &lt;Annotation id='hq' myid='1' /&gt;
       &lt;/Module&gt;
     &lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   index.tss
   <code><pre> 
   ".container": {
   	backgroundColor:"white"
   }
   "#mapview": {
       width: Ti.UI.FILL,
       height: Ti.UI.FILL,
       userLocation: true,
       enableZoomControls: false,
       region : {
           latitude: 32.8345525,
           longitude: -117.0851632,
           latitudeDelta:0.05,
           longitudeDelta:0.05,
       }
   }
   "#hq": {
       latitude: 32.841,
       longitude: -117.092,
       title: "Somewhere",
       pincolor: Alloy.Globals.Map.ANNOTATION_RED
   }
   </pre></code>
   
   index.js
   <code><pre> 
   function setLocation (e) {
       Ti.API.info("Annotation " + e.title + " clicked, id: " + e.annotation.myid);
       $.mapview.setLocation({
           latitude: 32.8245525,
           longitude: -117.0951632,
           animate: true,
       });
   }
   
   $.window.open();
   </pre></code>
    
   <h4>STEPS TO TEST:</h4>
   
   - Create a simple alloy project.
   - Update project using test code
   - Add Map module in tiapp.xml
   - Run on android/iOS device
     
   <h4>EXPECTED RESULT:</h4>
   
   It’s a valid bug.
   
   Thanks
   </li>
<li>David Fischer 2014-10-28

   Can you explain to me why this issue was closed? What exactly couldn't you reproduce? Nowhere in your comment was the zoom level (the problem!) even mentioned. I just reran the sample project and clicking on the annotation zoomed the map out to the maximum (on Android) which is not the expected result.
   
   From the documentation:
   
    {quote}
       setLocation( location ) : void
       Sets the map location and zoom level.
   
       The location is set using a simple dictionary object, described in MapLocationTypeV2. If latitudeDelta and longitudeDelta are set, these specified parameters bound the area of interest, which is centered and displayed at the greatest possible zoom level. This method can only be called after the map completes loading. Before that, use region to set the map location.
   {quote}
   
   For completeness, I ran the project with Titanium SDK 3.4.0GA and the problem persists in the current versions.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19521.json">JSON Source</a></p>