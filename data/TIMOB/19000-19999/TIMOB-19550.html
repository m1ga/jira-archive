---
title: "[TIMOB-19550] iOS: Many PNG images causes device/dist builds to fail EAGAIN (too many processes)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-09-20T10:08:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.0.1</td></tr>
<tr><th>Components</th><td>iOS, Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2015-09-18T21:19:47.000+0000</td></tr>
<tr><th>Updated</th><td>2015-09-22T21:03:41.000+0000</td></tr>
</table>

<h3>Description</h3>

If you build a project with a bunch of PNG images in the Resources dir, then build for iOS device or dist-*. Device and dist builds invoke pngcrush to optimize the images. This is done in parallel, but if you have 1000 images, then that's 1000 processes and then the build fails. This gives the effect that a random image is causing the problem.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2015-09-18

   Master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7208" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7208</a>
   5_0_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7209" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7209</a></li>
<li>Ingo Muschenetz 2015-09-20

   [~cbarber] [~cng] are these related threads?
   
   * <a href="https://community.appcelerator.com/topic/3371/is-anyone-able-to-successfully-deploy-an-an-app-to-the-app-store-with-5-0/2" rel="nofollow" target="_blank">https://community.appcelerator.com/topic/3371/is-anyone-able-to-successfully-deploy-an-an-app-to-the-app-store-with-5-0/2</a>
   * <a href="https://community.appcelerator.com/topic/3396/please-help-nothing-works-correctly/2" rel="nofollow" target="_blank">https://community.appcelerator.com/topic/3396/please-help-nothing-works-correctly/2</a>
   * <a href="https://community.appcelerator.com/topic/3395/titanium-exited-with-exit-code-0-ti-sdk-5-0-1-xcode-7-ios-9/5" rel="nofollow" target="_blank">https://community.appcelerator.com/topic/3395/titanium-exited-with-exit-code-0-ti-sdk-5-0-1-xcode-7-ios-9/5</a></li>
<li>Chee Kiat Ng 2015-09-20

   APPROVED. PRs merged.</li>
<li>Chee Kiat Ng 2015-09-20

   </li>
<li>Ingo Muschenetz 2015-09-20

   To all, into order to install the update, do:
   
   [appc] ti sdk install --default --branch 5_0_X 5.0.0.v20150920030708</li>
<li>Chris Barber 2015-09-21

   [~ingo] For the first link, that is either related to this ticket or TIMOB-19554.
   
   The second link he definitely hit TIMOB-19549, but sounds like he original ran into TIMOB-19554.
   
   The third link is because of TIMOB-19554.</li>
<li>Eric Wieber 2015-09-22

   Verified fixed, using:
   
   MacOS 10.11 (15A279b)
   Studio 4.3.0.201509151348
   Ti SDK 5.0.1.v20150922062312
   Appc NPM 4.2.0
   Appc CLI 5.0.2-19
   Ti CLI 5.0.4
   Alloy 1.7.10
   Arrow 1.2.62
   Xcode 7.0 (7A218)
   Node v0.10.37
   Java 1.7.0_45
   preproduction
   
   Builds do not fail when having over 1000 png files in the resources/assets folder.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19550.json">JSON Source</a></p>