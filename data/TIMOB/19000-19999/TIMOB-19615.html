---
title: "[TIMOB-19615] iOS: Suppress missing UIBackgroundModes "fetch" and "remote-notification" warnings"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-10-14T15:50:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chee Kiat Ng</td></tr>
<tr><th>Created</th><td>2015-09-29T15:10:21.000+0000</td></tr>
<tr><th>Updated</th><td>2015-10-15T11:16:53.000+0000</td></tr>
</table>

<h3>Description</h3>

When running a Titanium app in the simulator I noticed the following in the console:

<code><pre>
Sep 25 12:39:01 yojimbo itworks[99959]: You've implemented -[<UIApplicationDelegate> application:performFetchWithCompletionHandler:], but you still need to add "fetch" to the list of your supported UIBackgroundModes in your Info.plist.
Sep 25 12:39:01 yojimbo itworks[99959]: You've implemented -[<UIApplicationDelegate> application:didReceiveRemoteNotification:fetchCompletionHandler:], but you still need to add "remote-notification" to the list of your supported UIBackgroundModes in your Info.plist.
</pre></code>

It appears that we need to add "fetch" and "remote-notification" to the list of UIBackgroundModes but only if these features are used. Perhaps we need to use the following to control this:

<code><pre>
#ifdef USE_TI_FETCH

#ifdef USE_TI_SILENTPUSH
</pre></code>

<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2015-10-01

   PR HERE: <a href="https://github.com/appcelerator/titanium_mobile/pull/7257" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7257</a>
   
   <h4>Steps to test for removal of warnings</h4>
   1. create a new project
   2. build the project
   
   <h4>Expected result</h4>
   - you will no longer see the warnings
   - if you look in project/build/iphone/classes/defines.h, you will not see TI_SILENTPUSH or TI_FETCH
   
   <h4>Steps to test if these 2 properties still work when declared in tiapp.xml</h4>
   1. in the same project, include this in tiapp.xml
   <code><pre>
   	<ios>
   		<plist>
   			<dict>
   				<key>UIBackgroundModes</key>
   				<array>
   					<string>remote-notification</string>
                                           <string>fetch</string>
   				</array>
   ....
   </pre></code>
   2. build the project again
   
   <h4>Expected result</h4>
   - there is still no warnings
   - if you look in project/build/iphone/classes/defines.h, you will see TI_SILENTPUSH and TI_FETCH
   
   Run above tests with simulator as well as device.</li>
<li>Satyam Sekhri 2015-10-13

   [~cng] following the test instructions mentioned by you, the warnings are suppressed however if we add the two properties in tiapp.xml and build the project on iOS simulator then we do not see these in defines.h. These properties are present in defines.h file if we build to a device.
   Hence, reopening the ticket.
   Verified on:
   Mac OS: 10.10.5
   Ti SDK: 5.1.0.v20151009204425
   Xcode: 7.0.1
   Appc CLI NPM: 4.2.0
   Appc CLI Core: 5.1.0-38
   Appc Studio: 4.3.1.201509302304
   Device: iPhone Simulator (v9.0), iPhone 6S (v9.0.2)</li>
<li>Chee Kiat Ng 2015-10-13

   Master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7293" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7293</a>
   Backport: <a href="https://github.com/appcelerator/titanium_mobile/pull/7294" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7294</a></li>
<li>Satyam Sekhri 2015-10-15

   Verified based on test instructions in the comments.
   Verified on: 
   Mac OS: 10.10.5 
   Ti SDK: 5.1.0.v20151014101225 
   Xcode: 7.0.1 
   Appc CLI NPM: 4.2.1-1 
   Appc CLI Core: 5.1.0-38 
   Appc Studio: 4.4.0.201510092420 
   Device: iPhone Simulator (v9.0), iPhone 6S (v9.0.2)</li>
</ol>


<p><a href="/TIMOB/TIMOB-19615.json">JSON Source</a></p>