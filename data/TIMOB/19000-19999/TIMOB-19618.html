---
title: "[TIMOB-19618] Android : add mixed content control to webview "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-08-24T01:50:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 4.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>grebulon</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2015-03-31T09:40:02.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-24T01:50:18.000+0000</td></tr>
</table>

<h3>Description</h3>

Android 5 (21) adds WebSettings.setMixedContentMode to control how mixed content is handled (https that contains inlined http).
Need to add access to this.
<a href="https://developer.android.com/reference/android/webkit/WebSettings#setMixedContentMode(int)" rel="nofollow" target="_blank">https://developer.android.com/reference/android/webkit/WebSettings#setMixedContentMode(int)</a>

Description: 
Images doesn't load in webview if they are hosted on http server!
E.g. if you assign webview url property to <a href="https://blogs-dev.vmware.com/vov/authors/" rel="nofollow" target="_blank">https://blogs-dev.vmware.com/vov/authors/</a>
Some images get load properly but some which are hosted on http server or have http://xyz path they are not getting loaded.

Test code:
<code><pre>
&lt;Alloy&gt;
&lt;Window class="container"&gt;
&lt;WebView id="label" url="<a href="https://blogs.vmware.com/vov/authors/" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/</a>"&gt;&lt;/WebView&gt; 
&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

Error Log:
<code><pre>
[INFO] : I/TiWebChromeClient.console: (main) [111,16675] Mixed Content: The page at '<a href="https://blogs.vmware.com/vov/authors/#" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/#</a>' was loaded over HTTPS, but requested an insecure image '<a href="http://blogs.vmware.com/vov/files/2018/02/boney-francis.jpg" rel="nofollow" target="_blank">http://blogs.vmware.com/vov/files/2018/02/boney-francis.jpg</a>'. This request has been blocked; the content must be served over HTTPS. (0:<a href="https://blogs.vmware.com/vov/authors/#)" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/#)</a>
[INFO] : I/TiWebChromeClient.console: (main) [1,16676] Mixed Content: The page at '<a href="https://blogs.vmware.com/vov/authors/#" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/#</a>' was loaded over HTTPS, but requested an insecure image '<a href="http://blogs.vmware.com/vov/files/2018/03/Jerry_Griffin.png" rel="nofollow" target="_blank">http://blogs.vmware.com/vov/files/2018/03/Jerry_Griffin.png</a>'. This request has been blocked; the content must be served over HTTPS. (0:<a href="https://blogs.vmware.com/vov/authors/#)" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/#)</a>
[INFO] : I/TiWebChromeClient.console: (main) [0,16676] Mixed Content: The page at '<a href="https://blogs.vmware.com/vov/authors/#" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/#</a>' was loaded over HTTPS, but requested an insecure image '<a href="http://blogs.vmware.com/vov/files/2017/11/Bask-Iyer-170x170.jpg" rel="nofollow" target="_blank">http://blogs.vmware.com/vov/files/2017/11/Bask-Iyer-170x170.jpg</a>'. This request has been blocked; the content must be served over HTTPS. (0:<a href="https://blogs.vmware.com/vov/authors/#)" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/#)</a>
[INFO] : I/TiWebChromeClient.console: (main) [1,16677] Mixed Content: The page at '<a href="https://blogs.vmware.com/vov/authors/#" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/#</a>' was loaded over HTTPS, but requested an insecure image '<a href="http://blogs.vmware.com/vov/files/2018/05/ankur.jpg" rel="nofollow" target="_blank">http://blogs.vmware.com/vov/files/2018/05/ankur.jpg</a>'. This request has been blocked; the content must be served over HTTPS. (0:<a href="https://blogs.vmware.com/vov/authors/#)" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/#)</a>
[INFO] : I/TiWebChromeClient.console: (main) [1,16678] Mixed Content: The page at '<a href="https://blogs.vmware.com/vov/authors/#" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/#</a>' was loaded over HTTPS, but requested an insecure image '<a href="http://blogs.vmware.com/vov/files/2018/03/romy-kaura.png" rel="nofollow" target="_blank">http://blogs.vmware.com/vov/files/2018/03/romy-kaura.png</a>'. This request has been blocked; the content must be served over HTTPS. (0:<a href="https://blogs.vmware.com/vov/authors/#)" rel="nofollow" target="_blank">https://blogs.vmware.com/vov/authors/#)</a>
</pre></code>

Test Environment: 
<code><pre>

Android 8.0, Android 6.0
Operating System
  Name                        = Microsoft Windows 10 Pro
  Version                     = 10.0.16299
  Architecture                = 32bit
  # CPUs                      = 4
  Memory                      = 17091956736
Node.js
  Node.js Version             = 8.9.1
  npm Version                 = 5.5.1
Titanium CLI
  CLI Version                 = 5.1.0
Titanium SDK
  SDK Version                 = 7.1.0.GA, 6.3.0.GA

</pre></code>

Thanks 

<h3>Comments</h3>

<ol>
<li>Marian Kucharcik 2017-10-30

   Hi guys,
   I get this error:
   Mixed Content: The page at 'https:// was loaded over HTTPS, but requested an insecure image. This request has been blocked; the content must be served over HTTPS.
   
   Webview cannot load website properly.
   Can you please look at it?
   Thanks</li>
<li>shumne 2018-05-25

   Hi Guys,
   Any updates on this one!</li>
<li>shumne 2018-06-14

   Hi Guys,
   This has been open and critical for a long time. Are we going to do anything about this?</li>
<li>Joshua Quick 2018-07-18

   Everyone,
   
   If a web page is loaded via "https", then it's considered a security issue if you load content via "http" within that "https" loaded page. Particularly for http iframes. Desktop web browsers do not normally allow this unless you go out of your way to enable it.
   
   Now, I don't mind us providing a property to allow mixed https/http content on Android. It should be disabled by default because it is security issue. However, it does not appear that the native iOS <code>WKWebViews</code> supports mixed content (native <code>UIWebViews</code> are now deprecated). So, this would be a portability issue... where the only solution would be to move the http content to https.</li>
<li>Gary Mathews 2018-07-18

   On iOS you can enable HTTP access for specific domains by adding this to your tiapp.xml:
   <code><pre>
   &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;
   &lt;dict&gt;
   	&lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;
   	&lt;true/&gt;
   	&lt;key&gt;NSExceptionDomains&lt;/key&gt;
   	&lt;dict&gt;
   		&lt;key&gt;vmware.com&lt;/key&gt;
   		&lt;dict&gt;
   			&lt;key&gt;NSExceptionAllowsInsecureHTTPLoads&lt;/key&gt;
   			&lt;true/&gt;
   			&lt;key&gt;NSIncludesSubdomains&lt;/key&gt;
   			&lt;true/&gt;
   		&lt;/dict&gt;
   	&lt;/dict&gt;
   &lt;/dict&gt;
   </pre></code></li>
<li>Gary Mathews 2018-07-18

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/10186" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10186</a></li>
<li>Hans Knöchel 2018-07-19

   [~gmathews] iOS actually allows it by default already, since the <code>NSAllowsArbitraryLoads</code> setting is enabled:
   <code><pre>
   &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;
   &lt;true/&gt;
   </pre></code>
   This works with both UIWebView (currently used on iOS) and WKWebView (used in SDK 8+).</li>
<li>Vijay Singh 2018-07-19

   [~hknoechel] is correct. Only if developer forcefully set key 'NSAllowsArbitraryLoads' to 'false' in tiapp.xml, then only key 'NSExceptionDomains' and corresponding value need to be added. Otherwise it allows for all domains.</li>
<li>Gary Mathews 2018-07-19

   [~hknoechel] [~vijaysingh] Oh nice!</li>
<li>Samir Mohammed 2018-08-13

    *Closing ticket.* Verified feature in SDK version: <code>7.4.0.v20180810061237</code>
    
    *FR Passed (Test Steps):*
    <h4>Created a titanium application with the test case below</h4>
    <code><pre>
    const win = Ti.UI.createWindow({ backgroundColor: 'gray' }),
          webView = Ti.UI.createWebView({
              url: '<a href="https://www.bennish.net/mixed-content.html" rel="nofollow" target="_blank">https://www.bennish.net/mixed-content.html</a>',
              mixedContentMode: true
          });
    
    win.add(webView);
    win.open();
    </pre></code>
    <h4>Ran the program</h4>
    <h4>Able to see http content e.g. sound clips, iframes, images, videos </h4>
    
    *Test Environment*
    <code><pre>
    APPC Studio: 5.0.0.201712081732
    APPC CLI: 7.0.4
    Nexus 6p Emulator (7.1)
    Operating System Name: Mac OS High Sierra
    Operating System Version: 10.13
    Node.js Version: 8.9.1
    Xcode 9.2
    </pre></code>
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-19618.json">JSON Source</a></p>