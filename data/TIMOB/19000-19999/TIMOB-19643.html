---
title: "[TIMOB-19643] CLI: Runtime error when no DefaultIcon.png exists"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-09-30T19:04:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.0.2</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Kota Iguchi</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2015-09-30T09:23:26.000+0000</td></tr>
<tr><th>Updated</th><td>2015-09-30T21:10:27.000+0000</td></tr>
</table>

<h3>Description</h3>

There's a  typo at builder.generateAppIcons, which causes runtime error when there's no DefaultIcon.png.

PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7249" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7249</a>

<code><pre>
  if (!fs.existsSync(defaultIcon)) {
    if (requiredMissing === 0) {
-      this.logger.warn(__n('There is a missing app icon', 'There are missing app icons', icons.length));
+     this.logger.warn(__('There is a missing app icon', 'There are missing app icons', icons.length));
       this.logger.warn(__('You can either create the missing icons below or create an image named "DefaultIcon.png" in the root of your project'));
...
</pre></code>

<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2015-09-30

   [~cbarber] this looks like a typo for titanium cli no?</li>
<li>Kota Iguchi 2015-09-30

   Yes it's a very trivial one. I have pushed a fix for that: <a href="https://github.com/appcelerator/titanium_mobile/pull/7249" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7249</a></li>
<li>Chris Barber 2015-09-30

   This is NOT a typo. <code>__n()</code> is a valid function that handle pluralization. Did you not see there are 3 arguments? Singular string, plural string, and a number to indicate if it should be plural or not.
   
   -Either [~kota], [~gmathews], or [~cng] will need to revert the commit ASAP.- I'll do it.</li>
<li>Chris Barber 2015-09-30

   Here's the revert: <a href="https://github.com/appcelerator/titanium_mobile/pull/7251" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7251</a></li>
<li>Chris Barber 2015-09-30

   Master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7252" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7252</a>
   5_0_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7253" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7253</a></li>
<li>Praveen Innamuri 2015-09-30

   PRs merged.</li>
<li>Harry Bryant 2015-09-30

   Verified fixed. checked builder.js file for the fix to __n( ) not being defined before using. Receive appropriate error when DefaultIcon.png does not exist: 
   
   There are missing app icons
   [ERROR] :  You must either create the missing icons below or create an image named "DefaultIcon.png" in the root of your project
   [ERROR] :  If the DefaultIcon.png image is present, the build will use it to generate all missing icons
   [ERROR] :  It is highly recommended that the DefaultIcon.png be 1024x1024
   [ERROR] :  Unable to create missing icons:
   
   OSX Yosemite: 10.10.5
   Studio: 4.3.1.201509301939
   Ti SDK: 5.0.2.v20150930120735
   Appc CLI: 5.0.3-11
   </li>
<li>Kota Iguchi 2015-09-30

   ok great, <a href="https://github.com/appcelerator/titanium_mobile/pull/7252" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7252</a> worked for me (on Windows) (y)</li>
</ol>


<p><a href="/TIMOB/TIMOB-19643.json">JSON Source</a></p>