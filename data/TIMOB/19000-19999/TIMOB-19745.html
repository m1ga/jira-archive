---
title: "[TIMOB-19745] Windows: CLI can hang when encrypting files due to invalid jdkInfo object"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-10-20T03:55:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.1.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Gary Mathews</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2015-10-19T23:59:00.000+0000</td></tr>
<tr><th>Updated</th><td>2015-10-30T20:03:35.000+0000</td></tr>
</table>

<h3>Description</h3>

The CLI can hang if <code>jdkInfo</code> is <code>null</code> during encryption.

This usually happens on the first build or re-builds when the <code>encryptJS</code> flags gets set to <code>true</code> after the <code>validate</code> build command [\[1\]](<a href="https://github.com/appcelerator/titanium_mobile_windows/blob/master/cli/commands/_build/validate.js#L155)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/blob/master/cli/commands/_build/validate.js#L155).</a>

The reason <code>encryptJS</code> gets set to <code>true</code> is due to <code>buildVerify</code> [\[2\]](<a href="https://github.com/appcelerator/appc-cli-titanium/blob/master/hook/titanium.js#L207)." rel="nofollow" target="_blank">https://github.com/appcelerator/appc-cli-titanium/blob/master/hook/titanium.js#L207).</a>
If <code>buildVerify</code> is successful and we are online the <code>encryptJS</code> flag will always be set to <code>true</code> regardless of deploy type.
This is why Windows projects are always encrypted on first build or re-builds even if they are being deployed for development.

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2015-10-20

   PR : <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/454" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/454</a></li>
<li>Ewan Harris 2015-10-30

   Verified using:
   
   Windows 8.1
   Appc Core: 5.1.0-41
   Appc NPM: 4.2.1
   Ti SDK: 5.1.0.v20151028190028
   
   When building a newly created project for Windows emulator for the first time the encryption of files does no longer causes the CLI process to hang.
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-19745.json">JSON Source</a></p>