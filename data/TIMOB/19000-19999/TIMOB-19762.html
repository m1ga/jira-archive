---
title: "[TIMOB-19762] iOS Debugger/profiler fails when run-on-main-thread is enabled"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-03-07T23:59:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.0.0, Release 5.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>debugger, profiler, qe-5.4.0</td></tr>
<tr><th>Reporter</th><td>Kondal Kolipaka</td></tr>
<tr><th>Assignee</th><td>Pedro Enrique</td></tr>
<tr><th>Created</th><td>2015-10-22T09:59:22.000+0000</td></tr>
<tr><th>Updated</th><td>2016-07-29T21:36:36.000+0000</td></tr>
</table>

<h3>Description</h3>

iOS app Debugging/profiling is getting failed with Mac OS El Capitan. Please find the error below.
But this works fine if I disable run on main thread flag from iOS section in tiapp.xml file.
TISTUD-7799 is the related ticket for this.

<code><pre>
[INFO] :   productiouser/1.0 (5.2.0.419c5c2)
[INFO] :   2015-10-22 17:45:51.753 productiouser[71613:436649] -[KrollContext contextId]: unrecognized selector sent to instance 0x7fb910c0eec0
[INFO] :   2015-10-22 17:45:51.769 productiouser[71613:436649] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[KrollContext contextId]: unrecognized selector sent to instance 0x7fb910c0eec0'
[INFO] :   *** First throw call stack:
[INFO] :   (
[INFO] :   	0   CoreFoundation                      0x000000010d0f5f65 __exceptionPreprocess + 165
[INFO] :   	1   libobjc.A.dylib                     0x000000010cac8deb objc_exception_throw + 48
[INFO] :   	2   CoreFoundation                      0x000000010d0fe58d -[NSObject(NSObject) doesNotRecognizeSelector:] + 205
[INFO] :   	3   CoreFoundation                      0x000000010d04bf7a ___forwarding___ + 970
[INFO] :   	4   CoreFoundation                      0x000000010d04bb28 _CF_forwarding_prep_0 + 120
[INFO] :   	5   productiouser                       0x0000000107a99647 TiDebuggerCreate + 167
[INFO] :   	6   productiouser                       0x000000010781cb13 -[KrollContext main] + 195
[INFO] :   	7   productiouser                       0x000000010781c206 __21-[KrollContext start]_block_invoke + 38
[INFO] :   	8   libdispatch.dylib                   0x000000010dcf0df5 _dispatch_call_block_and_release + 12
[INFO] :   	9   libdispatch.dylib                   0x000000010dd0c4a7 _dispatch_client_callout + 8
[INFO] :   	10  libdispatch.dylib                   0x000000010dcf6fc9 _dispatch_main_queue_callback_4CF + 714
[INFO] :   	11  CoreFoundation                      0x000000010d0563e9 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
[INFO] :   	12  CoreFoundation                      0x000000010d017939 __CFRunLoopRun + 2073
[INFO] :   	13  CoreFoundation                      0x000000010d016e98 CFRunLoopRunSpecific + 488
[INFO] :   	14  GraphicsServices                    0x000000010e42aad2 GSEventRunModal + 161
[INFO] :   	15  UIKit                               0x00000001096be676 UIApplicationMain + 171
[INFO] :   	16  productiouser                       0x00000001077fe4c6 main + 310
[INFO] :   	17  libdyld.dylib                       0x000000010dd3b92d start + 1
[INFO] :   )
[INFO] :   libc++abi.dylib: terminating with uncaught exception of type NSException
</pre></code> 

Please find the complete console log here.
<code><pre>
Appcelerator Command-Line Interface, version 5.0.3
Copyright (c) 2014-2015, Appcelerator, Inc.  All Rights Reserved.
TRACE  | __command__ search paths:
[
  "/Users/kondalkolipaka/.appcelerator/install/5.0.3/package",
  "/Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules",
  "/Users/kondalkolipaka/development/eclipse/Eclipse.app/Contents/MacOS/node_modules",
  "/Users/kondalkolipaka/development/eclipse/Eclipse.app/Contents/node_modules",
  "/Users/kondalkolipaka/development/eclipse/Eclipse.app/node_modules",
  "/Users/kondalkolipaka/development/eclipse/node_modules",
  "/Users/kondalkolipaka/development/node_modules",
  "/Users/kondalkolipaka/node_modules",
  "/Users/node_modules",
  "/node_modules",
  "/Users/kondalkolipaka/.appcelerator/.npm/lib/node_modules"
]
DEBUG  | [PLUGIN-LOAD] 0ms /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/appc.js
DEBUG  | [PLUGIN-LOAD] 627ms /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/appc-cli-titanium/appc.js
DEBUG  | [PLUGIN-LOAD] 0ms /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/arrow/appc.js
log level set to "trace"
executing command "run"
set environment to {"registry":"<a href="https://software.appcelerator.com" rel="nofollow" target="_blank">https://software.appcelerator.com</a>","security":"<a href="https://security.appcelerator.com" rel="nofollow" target="_blank">https://security.appcelerator.com</a>","baseurl":"<a href="https://platform.appcelerator.com" rel="nofollow" target="_blank">https://platform.appcelerator.com</a>"}
checking credentials for existing session
Attempting to load session info from config file
check if session is invalidated
session expiry 1446087529108 false
Arrow Cloud config file: /Users/kondalkolipaka/.acs
found Arrow Cloud login { mid: 'af31ce68ea17b4a8fff2b7dcdb8fccd67d6bddfe',
  publishPort: 443,
  publishHost: '<a href="https://admin.cloudapp-enterprise.appcelerator.com" rel="nofollow" target="_blank">https://admin.cloudapp-enterprise.appcelerator.com</a>',
  username: 'kkolipaka@appcelerator.com',
  cookie: [ 'connect.sid=s%3AiSGTZDaAOM2vBMhudRQktzBn.OiZ5j9xBydTrZ9LpSA0bpT6tsB%2BNEaX8tYLjEtHaaLQ; Path=/; Expires=Fri, 23 Oct 2015 02:58:58 GMT; HttpOnly' ],
  defaultEP: 
   { publishHost: '<a href="https://admin.cloudapp-enterprise.appcelerator.com" rel="nofollow" target="_blank">https://admin.cloudapp-enterprise.appcelerator.com</a>',
     publishPort: 443 } } , checking nodeACSEndpoint= <a href="https://admin.cloudapp-enterprise.appcelerator.com" rel="nofollow" target="_blank">https://admin.cloudapp-enterprise.appcelerator.com</a>
Arrow Cloud cookie expiry [ 1445569138000 ]
session already loaded in opts.session
getCredentials() session:
{
  "ipaddress": "192.168.0.112",
  "username": "kkolipaka@appcelerator.com",
  "password": "&lt;OMITTED&gt;",
  "session": "&lt;OMITTED&gt;",
  "nonce": "&lt;OMITTED&gt;",
  "environment": {
    "name": "production",
    "isProduction": true,
    "acsBaseUrl": "<a href="https://api.cloud.appcelerator.com" rel="nofollow" target="_blank">https://api.cloud.appcelerator.com</a>",
    "acsAuthBaseUrl": "<a href="https://secure-identity.cloud.appcelerator.com" rel="nofollow" target="_blank">https://secure-identity.cloud.appcelerator.com</a>",
    "nodeACSEndpoint": "<a href="https://admin.cloudapp-enterprise.appcelerator.com" rel="nofollow" target="_blank">https://admin.cloudapp-enterprise.appcelerator.com</a>"
  },
  "token": "&lt;OMITTED&gt;",
  "fingerprint": "af31ce68ea17b4a8fff2b7dcdb8fccd67d6bddfe",
  "fingerprint_description": "Mac OSX Serial Number: C02GH2D3DRJC",
  "org_id": 14301,
  "expiry": 1446087529108
}
loading plugins for command "run"
run search paths:
[
  "/Users/kondalkolipaka/.appcelerator/install/5.0.3/package",
  "/Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules",
  "/Users/kondalkolipaka/development/eclipse/Eclipse.app/Contents/MacOS/node_modules",
  "/Users/kondalkolipaka/development/eclipse/Eclipse.app/Contents/node_modules",
  "/Users/kondalkolipaka/development/eclipse/Eclipse.app/node_modules",
  "/Users/kondalkolipaka/development/eclipse/node_modules",
  "/Users/kondalkolipaka/development/node_modules",
  "/Users/kondalkolipaka/node_modules",
  "/Users/node_modules",
  "/node_modules",
  "/Users/kondalkolipaka/.appcelerator/.npm/lib/node_modules"
]
[PLUGIN-LOAD] 0ms /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/appc.js
[PLUGIN-LOAD] 421ms /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/appc-cli-titanium/appc.js
run plugin: /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/appc-cli-titanium
[PLUGIN-LOAD] 1ms /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/arrow/appc.js
run plugin: /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/arrow
plugin "arrow" failed its "when" function check, skipping...
loading plugin "titanium" for command "run" CLI options via function
loading plugin "titanium" for command "run" CLI options via array
Duplicate option "colors" for command "run", removing...
executing command "run" with the following plugins:
["titanium"]
TRACE  | Attempting to load session info from config file
TRACE  | check if session is invalidated
TRACE  | session expiry 1446087529108 false
TRACE  | session already loaded in opts.session
DEBUG  | Titanium Downloads Last Checked: 1445424205288
TRACE  | "/usr/local/bin/node" "/Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/appc-cli-titanium/node_modules/titanium/bin/titanium" config -o json-object
TRACE  | "/usr/local/bin/node" "/Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/appc-cli-titanium/node_modules/titanium/bin/titanium" sdk -o json
TRACE  | checking for titanium, result:
 { activeSDK: '5.2.0.v20151019184553',
  defaultInstallLocation: '/Users/kondalkolipaka/Library/Application Support/Titanium',
  installLocations: 
   [ '/Users/kondalkolipaka/Library/Application Support/Titanium',
     '/Library/Application Support/Titanium' ],
  installed: 
   { '5.2.0.v20151019184553': '/Users/kondalkolipaka/Library/Application Support/Titanium/mobilesdk/osx/5.2.0.v20151019184553',
     '5.0.2.GA': '/Users/kondalkolipaka/Library/Application Support/Titanium/mobilesdk/osx/5.0.2.GA' },
  sdks: 
   { '5.2.0.v20151019184553': 
      { name: '5.2.0.v20151019184553',
        manifest: [Object],
        path: '/Users/kondalkolipaka/Library/Application Support/Titanium/mobilesdk/osx/5.2.0.v20151019184553' },
     '5.0.2.GA': 
      { name: '5.0.2.GA',
        manifest: [Object],
        path: '/Users/kondalkolipaka/Library/Application Support/Titanium/mobilesdk/osx/5.0.2.GA' } } }
TRACE  | /usr/local/bin/node [ '/Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/appc-cli-titanium/node_modules/titanium/bin/titanium',
  'build',
  '--platform',
  'ios',
  '--log-level',
  'trace',
  '--sdk',
  '5.2.0.v20151019184553',
  '--project-dir',
  '/Users/kondalkolipaka/development/workspaces/runtime-Titanium-360/productiouser',
  '--target',
  'simulator',
  '--ios-version',
  '9.0',
  '--device-family',
  'universal',
  '--deploy-type',
  'development',
  '--sim-type',
  'iphone',
  '--sim-version',
  '9.0',
  '--device-id',
  'BBD92EE1-E400-44B1-8747-36A95DBA7B04',
  '--debug-host',
  'localhost:63825',
  '--skip-js-minify',
  '--no-colors',
  '--no-progress-bars',
  '--no-prompt',
  '--prompt-type',
  'socket-bundle',
  '--prompt-port',
  '64656',
  '--plugin-paths',
  '/Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules',
  '--config-file',
  '/var/folders/9n/xpk1tm596cbctmwyfhcqysfw0000gn/T/build-1445507115892.json',
  '--no-banner' ] { env: 
   { SHELL: '/bin/bash',
     TMPDIR: '/var/folders/9n/xpk1tm596cbctmwyfhcqysfw0000gn/T/',
     SHLVL: '1',
     JAVA_HOME: '/Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home',
     STUDIO_PRODUCT_ID: 'com.appcelerator.titanium.rcp.product',
     JAVA_MAIN_CLASS_64662: 'org.eclipse.equinox.launcher.Main',
     __CF_USER_TEXT_ENCODING: '0x1F5:0x0:0x0',
     STUDIO_VERSION: '4.4.0.qualifier',
     PATH: '/Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin',
     ANALYTICS_SOURCE: 'studio',
     JAVA_STARTED_ON_FIRST_THREAD_64662: '1',
     XPC_FLAGS: '0x0',
     APTANA_VERSION: '4.4.0.qualifier',
     USER: 'kondalkolipaka',
     PWD: '/Users/kondalkolipaka/development/eclipse/Eclipse.app/Contents/MacOS',
     HOME: '/Users/kondalkolipaka',
     STUDIO_NAME: 'Appcelerator Studio',
     APP_ICON_323: '../Resources/Eclipse.icns',
     JAVA_STARTED_ON_FIRST_THREAD_323: '1',
     XPC_SERVICE_NAME: 'org.eclipse.platform.ide.57312',
     LOGNAME: 'kondalkolipaka',
     Apple_PubSub_Socket_Render: '/private/tmp/com.apple.launchd.6pSDZGSvEP/Render',
     SSH_AUTH_SOCK: '/private/tmp/com.apple.launchd.LRaiUq4VDX/Listeners',
     LANG: 'en_US.UTF-8',
     APPC_NPM_VERSION: '4.2.0',
     npm_config_cache: '/Users/kondalkolipaka/.appcelerator/.npm',
     npm_config_prefix: '/Users/kondalkolipaka/.appcelerator/.npm',
     APPC_INSTALL_DIR: '/Users/kondalkolipaka/.appcelerator/install',
     APPC_INSTALL_BIN_DIR: '/Users/kondalkolipaka/.appcelerator/install/5.0.3/package/bin/appc',
     APPC_CONFIG_PROXY: '',
     NODE_PATH: '/Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules:/Users/kondalkolipaka/.appcelerator/cache/node_modules:',
     APPC_SUPPRESS_PROGRESS: 'true',
     APPC_REGISTRY_SERVER: '<a href="https://software.appcelerator.com" rel="nofollow" target="_blank">https://software.appcelerator.com</a>',
     APPC_SECURITY_SERVER: '<a href="https://security.appcelerator.com" rel="nofollow" target="_blank">https://security.appcelerator.com</a>',
     APPC_DASHBOARD_URL: '<a href="https://platform.appcelerator.com" rel="nofollow" target="_blank">https://platform.appcelerator.com</a>',
     APPC_ENV: 'production',
     APPC_SESSION_TOKEN: 'c0847593cbca17a0f6d1c5790513946e8dea2c3e%20oKdgSCZfpFfYTPVl2Nn5ot7ujeiq4Bk4Swhma2ar3GNwa%2BBOCG%2FtQ36QKmkXcmLJvvMoxsYLUfS1EtFy%2FYClz1mwKmATIyifj3gd8lkFO%2BbdmzP4FrclwyAnaHU%2FabHZ86DWxyK6e8dTOJkysXAOuzpWdvlZcd6a9GD8eBTdHaN9vvG866%2F0FKrFjTGTiZ2v3Ml7u7j0yorIFVhYy2ntX%2BsncSJ95pfKABvnmUo%2BesXo%2FlxsGJWK2IZFeEmnaVL9bewB89zJVGd%2F81IUC7Q7FZa%2FL1f4COwHTmQQcxx7DjIoFwMxqqvwrLHQD7hicDALm0pTwkwiha8oU5PcMcprdTt1vIB1BjAsQBQ2wNzbEdFjhh9J%2FfMWYCOHSAbX%2FAzzZKViIIgRZxGshmEZ5NQWkDtpV644sMTdpZh1vL8od6jyJMLOr1THWXoLlwdbpX%2F6xP89f5qluQJJuuzvllJMTVHZxcs14g1dQ%2FJgB%2BLL6NfFMrlOBwwVEgwV8ZBnJDiDMMRdR0wuG4rZSJoGe7cPITue4TkBd8D57hqyN0cPXWh5L9iBf4xOC8iyLMwjrggEsjn11PAvpNhAucImqHrIf4VDZ68%2BUiN%2Bzq%2B09OYAkd2olEvCISCFXiDvlVVPVf545%2Bxikdb9LkARJXB9A%2FN1Rd9o2ksOCqtuslTITTCkKOmz7II%2FhtpwHJ6P9OKRI2r0WftT43aQ%2Fy%2B%2BrkS39%2FrF4bC%2BEGo0r6z%2F8D7BiL5c5DEfaQiB8Ke0z70rD8mIk8rShdEQotbw3oiycqa6lMtfr8U8P7Mmwzzix4uyvYZWv40%3D',
     APPC_SESSION_SID: 's%3Aw9xklnXJftFKYnWWnkdQEuae61_GO8Rv.qYsOyjDNIseH64lJsAfxHKJydBgrM5D%2Bxjed8bRhCVY',
     APPC_SESSION_USERNAME: 'kkolipaka@appcelerator.com',
     APPC_SESSION_ORGID: '14301',
     APPC_SESSION_ENV: '{"name":"production","isProduction":true,"acsBaseUrl":"<a href="https://api.cloud.appcelerator.com" rel="nofollow" target="_blank">https://api.cloud.appcelerator.com</a>","acsAuthBaseUrl":"<a href="https://secure-identity.cloud.appcelerator.com" rel="nofollow" target="_blank">https://secure-identity.cloud.appcelerator.com</a>","nodeACSEndpoint":"<a href="https://admin.cloudapp-enterprise.appcelerator.com" rel="nofollow" target="_blank">https://admin.cloudapp-enterprise.appcelerator.com</a>"}',
     APPC_SESSION_ENTITLEMENTS: '{"id":"54d8e4abce78815d81104cb4","name":"Enterprise","partners":["acs","analytics","crittercism","soasta"],"supportLink":"<a href="http://support2.appcelerator.com/" rel="nofollow" target="_blank">http://support2.appcelerator.com/</a>","users":{"min":1,"max":-1},"testingDevices":{"min":0,"max":-1},"allowProduction":true,"arrowPublish":true,"nativeSDK":true,"insights":true,"apiRateMonthPerSeat":10000000,"apiRateMinute":200,"pushRateMinute":200,"storageGBRateMonth":100,"eventRateMonthPerSeat":2000000,"daysDataRetained":-1,"maxOrganizations":-1,"dateRangeLimit":-1,"dateRangeCustom":true,"exportMetrics":true,"exportAcs":true,"paid":true,"containerPoints":0,"containerPointsPerSeat":9,"_version":1}',
     ALLOY_PATH: '/Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/appc-cli-titanium/node_modules/alloy/bin/alloy' },
  stdio: 
   [ Socket {
       _connecting: false,
       _hadError: false,
       _handle: [Object],
       _parent: null,
       _host: null,
       _readableState: [Object],
       readable: true,
       domain: null,
       _events: [Object],
       _eventsCount: 4,
       _maxListeners: undefined,
       _writableState: [Object],
       writable: false,
       allowHalfOpen: false,
       destroyed: false,
       bytesRead: 0,
       _bytesDispatched: 0,
       _sockname: null,
       _writev: null,
       _pendingData: null,
       _pendingEncoding: '',
       fd: 0 },
     Socket {
       _connecting: false,
       _hadError: false,
       _handle: [Object],
       _parent: null,
       _host: null,
       _readableState: [Object],
       readable: false,
       domain: null,
       _events: [Object],
       _eventsCount: 3,
       _maxListeners: undefined,
       _writableState: [Object],
       writable: true,
       allowHalfOpen: false,
       destroyed: false,
       bytesRead: 0,
       _bytesDispatched: 4768,
       _sockname: null,
       _writev: null,
       _pendingData: null,
       _pendingEncoding: '',
       _type: 'pipe',
       fd: 1,
       _isStdio: true,
       destroySoon: [Function],
       destroy: [Function] },
     'pipe' ] }
10/22/2015, 5:45:20 PM
Operating System
  Name                        = Mac OS X
  Version                     = 10.11
  Architecture                = 64bit
  # CPUs                      = 8
  Memory                      = 17179869184
Node.js
  Node.js Version             = 4.1.0
  npm Version                 = 2.14.3
Titanium CLI
  CLI Version                 = 5.0.5
Titanium SDK
  SDK Version                 = 5.2.0.v20151019184553
  SDK Path                    = /Users/kondalkolipaka/Library/Application Support/Titanium/mobilesdk/osx/5.2.0.v20151019184553
  Target Platform             = iphone
Command
  /usr/local/bin/node /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/appc-cli-titanium/node_modules/titanium/bin/titanium build --platform ios --log-level trace --sdk 5.2.0.v20151019184553 --project-dir /Users/kondalkolipaka/development/workspaces/runtime-Titanium-360/productiouser --target simulator --ios-version 9.0 --device-family universal --deploy-type development --sim-type iphone --sim-version 9.0 --device-id BBD92EE1-E400-44B1-8747-36A95DBA7B04 --debug-host localhost:63825 --skip-js-minify --no-colors --no-progress-bars --no-prompt --prompt-type socket-bundle --prompt-port 64656 --plugin-paths /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules --config-file /var/folders/9n/xpk1tm596cbctmwyfhcqysfw0000gn/T/build-1445507115892.json --no-banner
[INFO] :   Found Titanium plugin id=ti.alloy version=1.0 
[INFO] :   Deploy type: development
[INFO] :   Building for target: simulator
[INFO] :   Building using iOS SDK: 9.0
[INFO] :   Building for iOS Simulator: iPhone 5s
[INFO] :   Building for device family: universal
[INFO] :   Minimum iOS version: 7.1
[INFO] :   Debugging enabled via debug host: localhost:63825
[INFO] :   Profiler disabled
[INFO] :   Set to copy files instead of symlinking
[INFO] :   Forcing rebuild: use RunOnMainThread flag changed since last build
[INFO] :     Was: false
[INFO] :     Now: true
[INFO] :   Initializing the build directory
[INFO] :   Found Alloy app in /Users/kondalkolipaka/development/workspaces/runtime-Titanium-360/productiouser/app
[INFO] :   Executing Alloy compile: /usr/local/bin/node /Users/kondalkolipaka/.appcelerator/install/5.0.3/package/node_modules/appc-cli-titanium/node_modules/alloy/bin/alloy compile /Users/kondalkolipaka/development/workspaces/runtime-Titanium-360/productiouser/app --config platform=ios,version=0,simtype=none,devicefamily=universal,deploytype=development,target=simulator --no-colors
[INFO] :   [config.json] config.json unchanged, using cached config.json...
[INFO] :   ----- MVC GENERATION -----
[INFO] :   [global style] loading from cache...
[INFO] :   [index.xml] view processing...
[INFO] :   style:      "index.tss"
[INFO] :   view:       "index.xml"
[INFO] :   controller: "index.js"
[INFO] :   created:    "Resources/iphone/alloy/controllers/index.js"
[INFO] :   created:     "Resources/iphone/alloy/styles/index.js"
[INFO] :   
[INFO] :   
[INFO] :   [app.js] using cached app.js...
[INFO] :   
[INFO] :   ----- OPTIMIZING -----
[INFO] :   - iphone/alloy.js
[INFO] :   - iphone/alloy/sync/localStorage.js
[INFO] :   - iphone/alloy/sync/properties.js
[INFO] :   - iphone/alloy/sync/sql.js
[INFO] :   
[INFO] :   Alloy compiled in 0.76566s
[INFO] :   Alloy compiler completed successfully
[INFO] :   Creating Xcode project
[INFO] :   Creating Entitlements.plist
[INFO] :   Creating Info.plist
[INFO] :   Disabling ATS
[INFO] :   Creating main.m
[INFO] :   Creating Xcode config files
[INFO] :   Copying Titanium libraries
[INFO] :   Copying Titanium iOS files
[INFO] :   Creating debugger and profiler plists
[INFO] :   Analyzing Resources directory
[INFO] :   Analyzing platform files
[INFO] :   Analyzing module files
[INFO] :   Analyzing localized launch images
[INFO] :   Analyzing CommonJS modules
[INFO] :   Creating asset catalog
[INFO] :   Creating app icon set
[WARN] :   Skipping Resources/iphone/appicon-60@2x.png because app icons must not have an alpha channel
[WARN] :   Skipping Resources/iphone/appicon-60@3x.png because app icons must not have an alpha channel
[WARN] :   Skipping Resources/iphone/appicon-76.png because app icons must not have an alpha channel
[WARN] :   Skipping Resources/iphone/appicon-76@2x.png because app icons must not have an alpha channel
[WARN] :   Skipping Resources/iphone/appicon-Small-40.png because app icons must not have an alpha channel
[WARN] :   Skipping Resources/iphone/appicon-Small-40@2x.png because app icons must not have an alpha channel
[WARN] :   Skipping Resources/iphone/appicon-Small.png because app icons must not have an alpha channel
[WARN] :   Skipping Resources/iphone/appicon-Small@2x.png because app icons must not have an alpha channel
[INFO] :   Creating launch image set
[INFO] :   Creating assets image set
[INFO] :   Processing JavaScript files
[INFO] :   Writing app properties
[INFO] :   Writing i18n files
[INFO] :   Processing Titanium symbols
[INFO] :   Removing files
[INFO] :   Invoking xcodebuild
[INFO] :   Finished building the application in 29s 463ms
[INFO] :   Launching iOS Simulator
[INFO] :   Application started
[INFO] :   productiouser/1.0 (5.2.0.419c5c2)
[INFO] :   2015-10-22 17:45:51.753 productiouser[71613:436649] -[KrollContext contextId]: unrecognized selector sent to instance 0x7fb910c0eec0
[INFO] :   2015-10-22 17:45:51.769 productiouser[71613:436649] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: '-[KrollContext contextId]: unrecognized selector sent to instance 0x7fb910c0eec0'
[INFO] :   *** First throw call stack:
[INFO] :   (
[INFO] :   	0   CoreFoundation                      0x000000010d0f5f65 __exceptionPreprocess + 165
[INFO] :   	1   libobjc.A.dylib                     0x000000010cac8deb objc_exception_throw + 48
[INFO] :   	2   CoreFoundation                      0x000000010d0fe58d -[NSObject(NSObject) doesNotRecognizeSelector:] + 205
[INFO] :   	3   CoreFoundation                      0x000000010d04bf7a ___forwarding___ + 970
[INFO] :   	4   CoreFoundation                      0x000000010d04bb28 _CF_forwarding_prep_0 + 120
[INFO] :   	5   productiouser                       0x0000000107a99647 TiDebuggerCreate + 167
[INFO] :   	6   productiouser                       0x000000010781cb13 -[KrollContext main] + 195
[INFO] :   	7   productiouser                       0x000000010781c206 __21-[KrollContext start]_block_invoke + 38
[INFO] :   	8   libdispatch.dylib                   0x000000010dcf0df5 _dispatch_call_block_and_release + 12
[INFO] :   	9   libdispatch.dylib                   0x000000010dd0c4a7 _dispatch_client_callout + 8
[INFO] :   	10  libdispatch.dylib                   0x000000010dcf6fc9 _dispatch_main_queue_callback_4CF + 714
[INFO] :   	11  CoreFoundation                      0x000000010d0563e9 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
[INFO] :   	12  CoreFoundation                      0x000000010d017939 __CFRunLoopRun + 2073
[INFO] :   	13  CoreFoundation                      0x000000010d016e98 CFRunLoopRunSpecific + 488
[INFO] :   	14  GraphicsServices                    0x000000010e42aad2 GSEventRunModal + 161
[INFO] :   	15  UIKit                               0x00000001096be676 UIApplicationMain + 171
[INFO] :   	16  productiouser                       0x00000001077fe4c6 main + 310
[INFO] :   	17  libdyld.dylib                       0x000000010dd3b92d start + 1
[INFO] :   )
[INFO] :   libc++abi.dylib: terminating with uncaught exception of type NSException

</pre></code>

<h3>Comments</h3>

<ol>
<li>Wilson Luu 2015-11-30

   If I set <code>&lt;run-on-main-thread&gt;</code> to true in the tiapp.xml's iOS section e.g.:
   <code><pre>
   &lt;ios&gt;
       &lt;run-on-main-thread&gt;true&lt;/run-on-main-thread&gt;
   	...
   &lt;/ios&gt;
   </pre></code>
   
   then I can reproduce this issue *only with debugging* on iOS; not with profiling.
   
   Tested on:
   
   Appcelerator Studio, build: 4.4.0.201511241829
   Appc CLI NPM: 4.2.2
   Appc CLI Core: 5.1.0
   Arrow: 1.3.22
   SDK: 5.1.1.GA
   Node: v4.2.2
   OS: El Capitan (10.11.1)
   Xcode: 7.1.1
   Devices: iphone simulator (9.1)</li>
<li>Pedro Enrique 2016-03-07

   PR for debugger: <a href="https://github.com/appcelerator/titanium_debugger/pull/47" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_debugger/pull/47</a></li>
<li>Chee Kiat Ng 2016-03-08

   built new debugger lib based on above PR.
   PR for timob: <a href="https://github.com/appcelerator/titanium_mobile/pull/7815" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7815</a>
   pre-release lib: <a href="https://github.com/appcelerator/titanium_debugger/releases/tag/1.05" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_debugger/releases/tag/1.05</a>
   [~apetkov] please test and merge PR, as well as set pre-release to release
   <h4>Steps to test</h4>
   1. Create new project in studio
   2. add a breakpoint somewhere in the app
   3. in tiapp.xml, include property <run-on-main-thread>true</run-on-main-thread>
   
   <h4>Expected result</h4>
   breakpoint successfully hits. with run-on-main-thread true and false </li>
<li>Harry Bryant 2016-07-29

   Verified as fixed, Created a new project in studio and set multiple breakpoints, and ran the app in Debug to Device, with <code>&lt;run-on-main-thread&gt;</code> set to true / false. I was able to hit the breakpoints successfully in both cases.
   
   Tested On:
   iPhone 6S (9.3.2) Device 
   Mac OSX El Capitan 10.11.5 
   Ti SDK: 5.4.0.v20160727143921
   Appc Studio: 4.7.0.201607111053
   Appc NPM: 4.2.7	
   App CLI: 5.4.0-36
   Xcode 7.3
   Node v4.4.7
   
   *Closing ticket.*</li>
</ol>


<p><a href="/TIMOB/TIMOB-19762.json">JSON Source</a></p>