---
title: "[TIMOB-19774] iOS Profiler: Studio Error getting the performance data snapshot"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-10-23T23:18:54.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, profiler, user_experience</td></tr>
<tr><th>Reporter</th><td> Ricardo Ramirez</td></tr>
<tr><th>Assignee</th><td>Chee Kiat Ng</td></tr>
<tr><th>Created</th><td>2015-09-02T16:12:01.000+0000</td></tr>
<tr><th>Updated</th><td>2015-11-20T04:33:37.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue Description</h4>
When the user click on the Capture performance profile button the alert with the message:

Error getting the performance data snapshot

and the snapshot is not captured

<h4>Expected behavior</h4>
capture a snapshot without errors

<h4>Steps to Replicate: </h4>

1. Create a new titanium alloy/classic default project 
2. Run as profile on any iOS simulator 
3. In the profile view click the Capture Performance Profile
4. The alert is displayed with the error
 
** Profile log and Ti info attached

Additional note: 

This is not happening in all my projects, I also have other project where I can capture the snapshot and the Ti version is the same. In Android Works perfectly on Titanium SDK 3.5.1.GA, 4.0.0.GA, 4.1.0.GA. 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19774_56885/logfile.txt">logfile.txt</td></td><td>2015-10-02T23:19:21.000+0000</td><td>1058432</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19774_56580/Screen Shot 2015-09-02 at 10.10.49 AM.png">Screen Shot 2015-09-02 at 10.10.49 AM.png</td></td><td>2015-09-02T15:36:42.000+0000</td><td>160027</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19774_56709/studio_log.txt">studio_log.txt</td></td><td>2015-09-14T21:18:17.000+0000</td><td>14282</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-19774_56581/Ti info.rtf">Ti info.rtf</td></td><td>2015-09-02T18:12:16.000+0000</td><td>14562</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2015-09-14

   I need the Studio log file. Without that, I can't tell what is going on.</li>
<li> Ricardo Ramirez 2015-09-14

   The Studio Log is attached, when the snapshot is captured, the studio just throws the alert message (As is showed in the image attached) but never print an error in the log. </li>
<li>Ingo Muschenetz 2015-09-28

   [~pinnamuri] to tell them how to add logging information.</li>
<li>Praveen Innamuri 2015-09-28

   [~rramirez] The studio log points to the console output from the profile command. Would it be possible to enable Debug Level to All in Preferences > Studio > Troubleshooting, and clear/backup the logs through Help > Studio > Clear log file, and then profile the app.
   
   The studio logs should be available at Help > Studio > View log file.</li>
<li>Ricardo Alcocer 2015-09-28

   [~pinnamuri] [~rramirez]</li>
<li> Ricardo Ramirez 2015-10-02

   Logile Attached. </li>
<li>Praveen Innamuri 2015-10-21

   [~kkolipaka] Try with iOS 8.4 simulator. You can work with [~cng] to understand why Studio is receiving invalid hprof data after profiling.</li>
<li>Chee Kiat Ng 2015-10-23

   iOS Profiler was rebuild to 64 bits previously. This in turn, changed NSUInteger into 64 bit (previously was 32 bit), causing it to return invalid results to Studio when Studio was expecting 32 bits.</li>
<li>Chee Kiat Ng 2015-10-23

   profiler PR: <a href="https://github.com/appcelerator/titanium_profiler/pull/13" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_profiler/pull/13</a>
   Master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7337" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7337</a>
   5_1_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7338" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7338</a></li>
<li>Wilson Luu 2015-10-28

    Closing ticket as fixed. Verified that if I try to "Capture Performance Profile" or stop capturing  performance profile, then I do not get the "Error getting the performance data snapshot".
    
    Tested on:
    
    Appcelerator Studio, build: 4.4.0.201510280736
    Appc CLI NPM: 4.2.1
    Appc CLI Core: 5.1.0-38
    Arrow: 1.3.13
    SDK: 5.1.0.v20151028143628
    Node: v4.2.1
    OS: El Capitan (10.11.1)
    Xcode: 7.1
    Devices: iphone simulator (9.1), iphone 6 plus (9.1)</li>
</ol>


<p><a href="/TIMOB/TIMOB-19774.json">JSON Source</a></p>