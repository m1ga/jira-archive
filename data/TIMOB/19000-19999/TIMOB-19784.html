---
title: "[TIMOB-19784] Android: Cloud Files Create Error \"Invalid Name\""
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-10-27T20:02:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.0.1, Release 5.0.2, Release 5.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.1.0, Release 5.0.3, Release 5.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android</td></tr>
<tr><th>Reporter</th><td>Ashraf Abu</td></tr>
<tr><th>Assignee</th><td>Ashraf Abu</td></tr>
<tr><th>Created</th><td>2015-10-26T03:52:11.000+0000</td></tr>
<tr><th>Updated</th><td>2015-11-20T04:32:16.000+0000</td></tr>
</table>

<h3>Description</h3>

This is working correctly in SDK 4.1.0.GA.

Using 5.0.2.GA and the code below:

<code><pre>
Cloud.Files.create({
  name: 'my_file_1234567',
  file: theFile
}, function (e) { 
  if (e.success) {
    // do stuff here
  } else {
    Ti.API.info(JSON.stringify(e));
  }
});
</pre></code>

Produces error:-
<code><pre>
10-25 23:47:33.283 29748 29833 E TiHTTPClient: (TiHttpClient-3) [85523,88494] HTTP Error (java.io.IOException): 400 : Bad Request
10-25 23:47:33.283 29748 29833 E TiHTTPClient: java.io.IOException: 400 : Bad Request
10-25 23:47:33.283 29748 29833 E TiHTTPClient: 	at ti.modules.titanium.network.TiHTTPClient$ClientRunnable.run(TiHTTPClient.java:1213)
10-25 23:47:33.283 29748 29833 E TiHTTPClient: 	at java.lang.Thread.run(Thread.java:818)
10-25 23:47:33.285 29748 29761 I TiAPI   :  {"success":false,"error":true,"code":400,"message":"Invalid name"}
10-25 23:47:33.285 29748 29761 I ALERT   : (KrollRuntimeThread) [3,88497] {"success":false,"error":true,"code":400,"message":"Invalid name"}
</pre></code>

Ticket created based on information from: <a href="https://community.appcelerator.com/topic/3825/cloud-files-create-error-invalid-name/" rel="nofollow" target="_blank">https://community.appcelerator.com/topic/3825/cloud-files-create-error-invalid-name/</a>

<h3>Comments</h3>

<ol>
<li>Ashraf Abu 2015-10-26

   Place file in <code>resources/mytestfile.txt</code>
   Code to reproduce error:-
   <code><pre>
   // this sets the background color of the master UIView (when there are no windows/tab groups on it)
   Titanium.UI.setBackgroundColor('#000');
   
   var win = Titanium.UI.createWindow({  
       title:'Tab 1',
       backgroundColor:'#fff'
   });
   
   
   var button = Titanium.UI.createButton({
   	title:'Press to Upload'
   });
   
   win.add(button);
   var ACS = require('ti.cloud');
    
   button.addEventListener('click', function(e) {
   	
   	ACS.Files.create({
                       name: 'mytestfile.txt',
                       file:  Ti.Filesystem.getFile("mytestfile.txt")
                   }, function (e) {
                       if (e.success) {
                            alert("success");
                       } else {
                            Ti.API.info(JSON.stringify(e));
                            alert(JSON.stringify(e));
                       }
                   });
   });
   
   win.open();
   
   
   // added during app creation. this will automatically login to
   // ACS for your application and then fire an event (see below)
   // when connected or errored. if you do not use ACS in your
   // application as a client, you should remove this block
   (function(){
   var env = Ti.App.deployType.toLowerCase() === 'production' ? 'production' : 'development',
       username = Ti.App.Properties.getString('acs-username-'+env),
       password = Ti.App.Properties.getString('acs-password-'+env);
   
   // if not configured, just return
   if (!env || !username || !password) { return; }
   /**
    * Appcelerator Cloud (ACS) Admin User Login Logic
    *
    * fires login.success with the user as argument on success
    * fires login.failed with the result as argument on error
    */
   ACS.Users.login({
   	login:username,
   	password:password,
   }, function(result){
   	if (env==='development') {
   		Ti.API.info('ACS Login Results for environment <code>'+env+'</code>:');
   		Ti.API.info(result);
   	} else {
   		alert("prod");
   	}
   	if (result && result.success && result.users && result.users.length){
   		Ti.App.fireEvent('login.success',result.users[0],env);
   	} else {
   		Ti.App.fireEvent('login.failed',result,env);
   	}
   });
   
   })();
   
   </pre></code></li>
<li>Ashraf Abu 2015-10-27

   Master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7350" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7350</a>
   5_1_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7351" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7351</a>
   5_0_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7352" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7352</a></li>
<li>Lokesh Choudhary 2015-10-28

   Verified the fix.
   We do not see any error & it returns a success. Checked with the code in the PR.
   
   Closing.
   
   Environment:
   Appc Studio : 4.4.0.201510231805
   Ti SDK :   5.1.0.v20151028061258, 5.0.3.v20151028061300, 5.2.0.v20151028081229
   Ti CLI : 5.0.5
   Alloy : 1.7.18
   MAC Yosemite : 10.10.5
   Appc NPM : 4.2.1-6
   Appc CLI : 5.1.0-38
   Node: v0.10.37
   Nexus 6 : Android 6.0</li>
</ol>


<p><a href="/TIMOB/TIMOB-19784.json">JSON Source</a></p>