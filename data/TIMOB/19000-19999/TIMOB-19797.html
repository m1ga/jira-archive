---
title: "[TIMOB-19797] CLI: Support accessing XML values from tiapp.xml's platform-specific sections at runtime."
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android, CLI, Hyperloop, iOS, Tooling, Windows</td></tr>
<tr><th>Labels</th><td>cb-tooling, titaniumlib</td></tr>
<tr><th>Reporter</th><td>Christopher Williams</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2015-10-26T15:33:43.000+0000</td></tr>
<tr><th>Updated</th><td>2020-03-06T21:35:41.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently the CLi's XML parsing of tiapp.xml only handles known tags. We've used a series of generic properties tags before to get properties into the runtime. For platform-specific ones, we've just used prefix names of "ti.android.". We've started to move to preferring platform-specific properties to be under the root tag for a a platform in the xml:
<code><pre>
<tiapp ...
    <ios>
        <run-on-main-thread>true</run-on-main-thread>
    </ios>
...
</tiapp>
</pre></code>

However, we have no means of accessing those values at runtime, and we need to handle the tags specially in CLi code for each platform.

Ideally we'd be able to have some straight XML->JSON serialization for access in the CLI code from each platform so we could do:
<code><pre>
var runOnMainThread = tiapp.ios[run-on-main-thread]
</pre></code>

And we need some way to access this data at runtime. Maybe hack the properties into the properties file/json to generate "properties" with namespaced keys, like "tiapp.ios.run-on-main-thread"?

<h3>Comments</h3>

<ol>
<li>Chris Barber 2015-10-26

   We should use properties for things like "run-on-main-thread". We already have a mechanism for injecting properties into an app. All we would need to do is look for properties inside the platform specific tags and have the platform build commands mix the global and platform-specific properties together.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19797.json">JSON Source</a></p>