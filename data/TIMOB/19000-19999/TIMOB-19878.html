---
title: "[TIMOB-19878] Android: Ti.Gesture orientation change is not always fired"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-11-15T00:10:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>4.1.0, android, genymotion, orientation, orientationChange</td></tr>
<tr><th>Reporter</th><td>Stefan Sch√ºller</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2015-07-29T09:23:29.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-15T06:21:56.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>What happens:</h4>
On first rotation no event is triggered. On every orientation change thereafter, the wrong orientation is returned. I have observed similar behavior on a physical device but I can not reproduce it consistently. In genymotion it happens every time.



<h4>Note: The project must be an alloy project. The problem does not occur in a non alloy project. Orientation works correctly in TI SDK 4.0.0.GA</h4>

<h4>How to reproduce:</h4>

1. Create new Empty alloy project
2. Set index.js to:
<code><pre>
function doClick(e) {
    alert($.label.text);
}

$.index.open();

Ti.Gesture.addEventListener('orientationchange', gestureChange);

function gestureChange(e) {
    console.log('orientation change...');
    console.log(e);
}
</pre></code>
3. Start app in genymotion
4. Output from console:

First rotation results in no output. Next rotation back into Portrait results in the following:
<code><pre>
[INFO]  orientation change...
[INFO]  {"type":"orientationchange","source":{"landscape":true,"bubbleParent":true,"orientation":2,"apiName":"Ti.Gesture","portrait":false,"_events":{"orientationchange":{}}},"orientation":2,"bubbles":false,"cancelBubble":false}
</pre></code>
Then rotating into Lanscape results in the following:
<code><pre>
[INFO]  orientation change...
[INFO]  {"type":"orientationchange","source":{"landscape":false,"bubbleParent":true,"orientation":1,"apiName":"Ti.Gesture","portrait":true,"_events":{"orientationchange":{}}},"orientation":1,"bubbles":false,"cancelBubble":false}
</pre></code>




<h3>Comments</h3>

<ol>
<li>Andrey Tkachenko 2015-07-31

   I confirm. May be related to TIMOB-18956</li>
<li>Andrey Tkachenko 2015-10-24

   Also 5.0.2 not only Alloy but in Genymotion only
   To test run KitchenSink:
   BASE UI -> Views -> List View -> Default Template
   </li>
<li>Justin Toth 2015-12-15

   Any update on this? I have the same issue in Ti SDK 5.1.0.GA, non-Alloy project.</li>
<li>Ashraf Abu 2015-12-15

   </li>
<li>Arjan 2017-09-29

   This problem is still present and a pain in the ass, any update on this?
   
   Working on SDK 6.2.2.GA. Clean Alloy project. Happens in EVERY simulator.
   
   Screencast: <a href="https://streamable.com/dhm5i" rel="nofollow" target="_blank">https://streamable.com/dhm5i</a>
   
   As you can see the first change isn't detected at all. After that the value is wrong (landscape is detected as portrait and visa versa).
   
   EDIT: also, switching from portrait to landscape (left/right) on a Samsung Tab 3 (Android 4.4.2) causes very inconstistant results:
   
   [ERROR] :  {"type":"orientationchange","source":{"landscape":true,"portrait":false,"orientation":1,"apiName":"Ti.Gesture","bubbleParent":true,"_events":{"orientationchange":{}}},"orientation":1,"bubbles":false,"cancelBubble":false}
   [ERROR] :  {"type":"orientationchange","source":{"landscape":true,"portrait":false,"orientation":2,"apiName":"Ti.Gesture","bubbleParent":true,"_events":{"orientationchange":{}}},"orientation":2,"bubbles":false,"cancelBubble":false}
   [ERROR] :  {"type":"orientationchange","source":{"landscape":false,"portrait":true,"orientation":1,"apiName":"Ti.Gesture","bubbleParent":true,"_events":{"orientationchange":{}}},"orientation":1,"bubbles":false,"cancelBubble":false}
   [ERROR] :  {"type":"orientationchange","source":{"landscape":false,"portrait":true,"orientation":4,"apiName":"Ti.Gesture","bubbleParent":true,"_events":{"orientationchange":{}}},"orientation":4,"bubbles":false,"cancelBubble":false}</li>
<li>Maggie Chen 2017-10-12

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/9525" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9525</a></li>
<li>Joshua Quick 2017-11-04

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/9585" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9585</a></li>
<li>Lokesh Choudhary 2017-11-07

   FR Passed.
   Waiting for merge to get enabled to merge.</li>
<li>Abir Mukherjee 2017-11-15

   PR merged.</li>
<li>Abir Mukherjee 2017-11-15

    Changes are seen in SDK 7.0.0.v20171114202841.</li>
</ol>


<p><a href="/TIMOB/TIMOB-19878.json">JSON Source</a></p>