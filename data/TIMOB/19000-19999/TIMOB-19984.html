---
title: "[TIMOB-19984] Android: transform animation doesn't work immediately after creating a view [android]"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-12-06T01:31:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>Community, TCSupportTriage, android, animation, qe-6.1.0, transform</td></tr>
<tr><th>Reporter</th><td>grebulon</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2014-12-30T11:37:15.000+0000</td></tr>
<tr><th>Updated</th><td>2016-12-08T19:10:35.000+0000</td></tr>
</table>

<h3>Description</h3>

1. Create a view with an initial transform (it is important that an initial transform matrix is set)
2. Add the view
3. Call animate

The animation will not work and the animation callback is not executed.

Notes:
1. This problem is specific to *transform* animation. If the view is animated with left/right/top/bottom for example, everything works fine.
2. Deferring the animation, for example by putting it in a setTimeout callback, works if the timeout is long enough.

*Sample code* - run this, click the button and view the result.

<code><pre>
var window=Ti.UI.createWindow({backgroundColor:'white'});

mainView=Ti.UI.createView({backgroundColor:'white'});
window.add(mainView);

button=Ti.UI.createButton({left:0,right:0,height:40,bottom:0,title:'start'});
button.addEventListener('click',function(e) {
    Ti.API.info("********** start **********")
    var view=Ti.UI.createView({backgroundColor:'red',left:40,right:0,top:0,bottom:40,transform:Ti.UI.create2DMatrix().scale(0.1)});
    mainView.add(view);
    view.animate({left:0,transform:Ti.UI.create2DMatrix().scale(1),duration:500},function() {
        Ti.API.info("********** end **********")
        mainView.remove(view);
        view=null;
    });
});
mainView.add(button);

window.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>grebulon 2016-02-10

   This bug is very annoying? I don't understand how you keep delaying it again and again. It's been over a year!</li>
<li>grebulon 2016-11-24

   High priority bug, reported 30/Dec/14 (Titanium 3.4.1)</li>
<li>Gary Mathews 2016-11-30

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8642" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8642</a></li>
<li>Josh Longton 2016-12-08

   Verified as fixed adding an animation to run immediately after creation works as expected.
   Tested on:
   
   {noformat}
   macOS Sierra 10.12.1
   Nexus 5X(6.0.1)
   Nexus 6p (7.0)
   android emulator (4.4.2, 6.0)
   Ti SDK: 6.1.0.v20161207121046
   Appc NPM: 4.2.8
   App CLI: 6.1.0-309
   Node v4.4.7
   {noformat}
   
   *Closing Ticket.*</li>
</ol>


<p><a href="/TIMOB/TIMOB-19984.json">JSON Source</a></p>