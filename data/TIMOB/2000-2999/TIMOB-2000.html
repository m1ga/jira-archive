---
title: "[TIMOB-2000] Android: Module name collision between Ti.UI.Android and Ti.Android"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:57:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0 M01</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:07:46.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:57:47.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>If you run this app.js:</p>
<pre>
<code class="javascript">/*global Ti, Titanium, alert, JSON */
Titanium.UI.setBackgroundColor('#000');
Ti.API.info('Ti.UI.Android.SOFT_INPUT_ADJUST_PAN = ' + Ti.UI.Android.SOFT_INPUT_ADJUST_PAN);
Ti.API.info('Ti.Android.ACTION_ALL_APPS = ' + Ti.Android.ACTION_ALL_APPS);</code>
</pre>
<p>The result <strong>should</strong> be:</p>
<pre>
<code>I/TiAPI   ( 1127): (kroll$1) [1,147] Ti.UI.Android.SOFT_INPUT_ADJUST_PAN = 32
I/TiAPI   ( 1127): (kroll$1) [0,169] Ti.Android.ACTION_ALL_APPS = android.intent.action.ALL_APPS</code>
</pre>
<p>But the actual result is:</p>
<pre>
<code>I/TiAPI   ( 1127): (kroll$1) [1,147] Ti.UI.Android.SOFT_INPUT_ADJUST_PAN = 32
I/TiAPI   ( 1127): (kroll$1) [0,169] Ti.Android.ACTION_ALL_APPS = null</code>
</pre>
<p>The second one fails because KrollObject.get() grabs the cached
module named Android, which comes from Ti.UI.Android since it was
called first.</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/3f1d49ee52fb480288b9ef8ddedbed18b94a4f65"
   title=
   "Changeset [3f1d49ee52fb480288b9ef8ddedbed18b94a4f65]">[3f1d49ee52fb480288b9ef8ddedbed18b94a4f65]</a>)
   [<a href="/projects/32238/tickets/2000" title=
   "Ticket #2000">#2000</a> state:fixed-in-qa] Caching of modules now
   uses their full qualified class names as keys to avoid collisions
   between Ti.Android and Ti.UI.Android <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/3f1d49ee52fb480288b9ef8ddedbed18b94a4f65" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/3f1d49ee52fb480288b9ef8ddedbed18b94a4f65</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/3f1d49ee52fb4..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/3f1d49ee52fb4...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>Hey Bill, I am seeing :</p>
   <p>I/TiAPI ( 299): (kroll$3) [99,29737]
   Ti.UI.Android.SOFT_INPUT_ADJUST_PAN = 32<br>
   I/TiAPI ( 299): (kroll$3) [2,29739] Ti.Android.ACTION_ALL_APPS =
   undefined</p>
   <p>in Titanium SDK version: 1.5.0d02c264</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>Adding Don's comment from the duplicate <a href=
   "/projects/32238/tickets/2142" title="Ticket #2142">#2142</a>:<br>
   Ti.UI.Android and Ti.Android are not detected as separate
   namespaces. If both modules are included in boot, and Ti.UI.Android
   is added last, calling Ti.Android.createActivity throws an
   exception because it's looking in the Ti.UI.Android module</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/b42c84f0441aca59872f3c2bec07abb02afb2965"
   title=
   "Changeset [b42c84f0441aca59872f3c2bec07abb02afb2965]">[b42c84f0441aca59872f3c2bec07abb02afb2965]</a>)
   [<a href="/projects/32238/tickets/2000" title=
   "Ticket #2000">#2000</a> state:fixed-in-qa] third-level modules
   should not be included in Application.java (and thus not in
   app_modules collection in android.py). They are bound lazily at
   runtime. <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/b42c84f0441aca59872f3c2bec07abb02afb2965" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/b42c84f0441aca59872f3c2bec07abb02afb2965</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/b42c84f0441a..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/b42c84f0441a...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/98da99d5801e426ff5cc63555b6a398ec662a5eb"
   title=
   "Changeset [98da99d5801e426ff5cc63555b6a398ec662a5eb]">[98da99d5801e426ff5cc63555b6a398ec662a5eb]</a>)
   [<a href="/projects/32238/tickets/2000" title=
   "Ticket #2000">#2000</a> state:fixed-in-qa] add unit test <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/98da99d5801e426ff5cc63555b6a398ec662a5eb" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/98da99d5801e426ff5cc63555b6a398ec662a5eb</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/98da99d5801e..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/98da99d5801e...</a></a></p></div></li>
<li>Matt Schmulen 2011-04-15

   <div><p>Titanium SDK version: 1.5.0 (12/01/10 09:30 ac7cfd8), drillbit,
   Android 1.6/2.1</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2000.json">JSON Source</a></p>