---
title: "[TIMOB-2012] iOS: Datepicker returns null value"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2012-03-14T13:41:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>parity</td></tr>
<tr><th>Reporter</th><td>Fernando</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-04-15T03:08:04.000+0000</td></tr>
<tr><th>Updated</th><td>2012-03-14T13:41:37.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>I'm running:</p>
<p>Titanium SDK Version: 1.4.0<br>
Iphone SDK Version: 3.2/4.0<br>
Titanium Developer: 1.2.1</p>
<p>Unfortunately i cannot use this simple code to get the value of
a datepicker:</p>
<pre>
<code>var myDatePicker = Ti.UI.createPicker({
    type:Ti.UI.PICKER_TYPE_DATE_AND_TIME,
    top: 0
});

debug( myDatePicker.value ); // returns null</code>
</pre>
<p>KitchenSink shows how to get the value with an event ( and it
works! ), but not when you need it outside an datepicker's
event.</p></div>

<h3>Comments</h3>

<ol>
<li>Ernesto 2011-04-15

   <div><p>I've also seen this issue.</p>
   <p>The workaround is manually updating the picker's value inside an
   onChange callback:<br></p>
   <pre>
   <code>picker.addEventListener('change', function(e) { picker.value = e.value; });</code>
   </pre></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Continuously get 'null' using the following sample code - maybe
   another Apple bug regarding the date picker? Wouldn't be the first
   time.</p>
   <pre>
   <code>var win = Ti.UI.createWindow({backgroundColor:'white'});
   var myDatePicker = Ti.UI.createPicker({
       type:Ti.UI.PICKER_TYPE_DATE_AND_TIME,
       top: 0
   });
   
   Ti.API.info('Pre-add value: '+myDatePicker.value);
   win.add(myDatePicker);
   Ti.API.info('Post-add value: '+myDatePicker.value);
   
   win.addEventListener('focus', function() {
       Ti.API.info('Focus value: '+myDatePicker.value);
   });
   win.addEventListener('open', function() {
       Ti.API.info('Open value: '+myDatePicker.value);
   });
   
   win.open();
   
   var timer = setTimeout(function() {
       Ti.API.info('Timer value: '+myDatePicker.value);
   }, 1000);</code>
   </pre></div></li>
<li>Paul Dowsett 2011-12-25

   This issue does not occur for the following environment:
   
   * 1.8.0.1 (12/22/11 13:09 fbdc96f)
   * iOS 4.3.2
   * iphone simulator
   
   <code><pre>
   Titanium.UI.setBackgroundColor('#000');
   
   var win1 = Ti.UI.createWindow({
   	backgroundColor:'white',
   	fullscreen:false,
   	exitOnClose:true
   });
   
   var minDate = new Date(2011,11,1);
   
   var maxDate = new Date(2012,11,31);
   
   var value = new Date();
   
   var picker = Ti.UI.createPicker({
   	locale:'fr',
   	type:Ti.UI.PICKER_TYPE_DATE_AND_TIME,
   	minDate:minDate,
   	maxDate:maxDate,
   	value:value
   });
   picker.setLocale('fr');
   Ti.API.info('The current picker value is: ' + picker.value)
   win1.add(picker);
   
   win1.open();
   </pre></code>
   
   <code><pre>
   [INFO] One moment, building ...
   [INFO] Titanium SDK version: 1.8.0.1 (12/22/11 13:09 fbdc96f)
   [INFO] iPhone Device family: universal
   [INFO] iPhone SDK version: 4.3
   [INFO] iPhone simulated device: iphone
   [INFO] Launching application in Simulator
   [INFO] Launched application in Simulator (0.89 seconds)
   [INFO] Found 4.3.2 patch installed
   [INFO] Application started
   [INFO] testing11/1.0 (1.8.0.1.fbdc96f)
   [INFO] Application started
   [INFO] testing11/1.0 (1.8.0.1.fbdc96f)
   [INFO] The current picker value is: Mon Dec 26 2011 02:57:36 GMT+0000 (GMT)
   </pre></code></li>
<li>Paul Dowsett 2011-12-25

   Steve
   
   Please would you take a look at my last comment? Can this ticket be closed now?
   
   Thanks</li>
<li>Stephen Tramer 2011-12-27

   Cannot reproduce in 1.9.0.d9bac09.</li>
<li>Natalie Huynh 2012-01-12

   Tested with 1.9.0.v20120112104633</li>
<li>Michael Pettiford 2012-02-01

   Reopening/closing to add/remove labels</li>
</ol>


<p><a href="/TIMOB/TIMOB-2012.json">JSON Source</a></p>