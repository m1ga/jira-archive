---
title: "[TIMOB-2036] Sending blob with Titanium.Network.HTTPClient POST sends file without extension"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2011-07-11T10:14:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-26</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, extension, httpclient, mimetype</td></tr>
<tr><th>Reporter</th><td>cfenzo</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:08:44.000+0000</td></tr>
<tr><th>Updated</th><td>2011-07-11T10:28:41.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>If you send a blob (image from photogallery for instance) with
Titanium.Network.HTTPClient POST, the extension of the file is not
set properly. Missing an ".".</p>
<p>The problem is on line 668 in TiHTTPClient.java:<br></p>
<pre>
<code class=
"java">File tmpFile = File.createTempFile("tixhr", TiMimeTypeHelper.getFileExtensionFromMimeType(mimeType, ".txt"));</code>
</pre>
<p>Because
TiMimeTypeHelper.getFileExtensionFromMimeType(mimeType,default)
returns the extension without ".", it has to be added, like
this:<br></p>
<pre>
<code class=
"java">File tmpFile = File.createTempFile("tixhr", "."+TiMimeTypeHelper.getFileExtensionFromMimeType(mimeType, "txt"));</code>
</pre></div>

<h3>Comments</h3>

<ol>
<li>Jason Sznol 2011-05-10

   This is a huge issue for our application and is preventing our webservers from handling the photos we upload to it properly. This is such a simple fix, is there anyway we can get this in one of the CI builds so we can build against it?</li>
<li>Kincy Clark 2011-07-11

   this was a duplicate of 4519. However, THomas would like to verify this specific case.</li>
<li>Natalie Huynh 2011-07-11

   Tested with test file from 4519 with Nexus S 2.3.4 and Nexus One 2.2.2 with 1.7.2.v20110630161836
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-2036.json">JSON Source</a></p>