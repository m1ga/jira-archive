---
title: "[TIMOB-2040] visible popover causes app crash during orientation chnage"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:57:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios, ipad, orientations, popover, rplist</td></tr>
<tr><th>Reporter</th><td>ctredway</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T03:08:49.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:57:53.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>On the ipad, running 3.2,4.1 using 1.4.2 and 1.5 if a popover is
visible during and orientation change, the app crashes.</p>
<p>From the console:<br>
2010-10-11 08:10:58.455 iPadTestApp[16045:207]
<strong><em>Terminating app due to uncaught exception
'NSGenericException', reason: '-[UIPopoverController dealloc]
reached while popover is still visible.'<br></em></strong> Call
stack at first throw: ( 0 CoreFoundation 0x03815b99
<strong>exceptionPreprocess + 185<br>
1 libobjc.A.dylib 0x0396540e objc_exception_throw + 47<br>
2 CoreFoundation 0x037ce238 +[NSException raise:format:arguments:]
+ 136<br>
3 CoreFoundation 0x037ce1aa +[NSException raise:format:] + 58<br>
4 UIKit 0x00bc38d4 -[UIPopoverController dealloc] + 86<br>
5 Foundation 0x005d630d</strong> delayedPerformCleanup + 74<br>
6 CoreFoundation 0x0378e61e CFRunLoopTimerInvalidate + 446<br>
7 CoreFoundation 0x037f877a <strong>CFRunLoopDoTimer + 1818<br>
8 CoreFoundation 0x03754dd9</strong> CFRunLoopRun + 1817<br>
9 CoreFoundation 0x03754350 CFRunLoopRunSpecific + 208<br>
10 CoreFoundation 0x03754271 CFRunLoopRunInMode + 97<br>
11 GraphicsServices 0x053fc00c GSEventRunModal + 217<br>
12 GraphicsServices 0x053fc0d1 GSEventRun + 115<br>
13 UIKit 0x00866af2 UIApplicationMain + 1160<br>
14 iPadTestApp 0x00003a59 main + 362<br>
15 iPadTestApp 0x00002841 start + 53<br>
16 ??? 0x00000001 0x0 + 1<br>
) terminate called after throwing an instance of 'NSException'</p></div>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2011-04-15

   <div><p>Unable to replicate in KS-iPad-&gt;Main Tests-&gt;Popovers (on
   device). Going to try and create some other sample code but it
   appears that this bug may have been fixed.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Unable to replicate with this JS, either:</p>
   <pre>
   <code>var win = Ti.UI.createWindow({backgroundColor:'white'});
   
   var button = Ti.UI.createButton({
       title:'Show popover',
       width:250,
       height:40
   });
   button.addEventListener('click', function() {
       var popover = Ti.UI.iPad.createPopover({ 
               width:200, 
               height:350,
               title:'Pop!',
               barColor:'#111'
       }); 
       popover.show({view:button, animated:false});
   });
   win.add(button);
   
   win.open();</code>
   </pre>
   <p>Reassigning to Thom so he may confirm that this is fixed, and
   marking fixed-in-qa.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>I'm not able to to repro this crash in 1.4.x either? Clint to
   re-open if he has steps. closing on iPad 3.2.2 mobile sdk build
   1.5.0.62c1cae</p></div></li>
<li>Martin Prebio 2011-04-15

   <div><p>I also receive this Exception, when I often close and reopen the
   popover, which has a hide EventListener that takes some moments to
   complete.</p>
   <p>Developer Version 1.2.2</p>
   <p><a href="/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.5.1 <a href=
   "/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> iPhone Device family: ipad <a href=
   "/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> iPhone SDK version: 4.2 ... <a href=
   "/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> bg_oop11/1.0 (1.5.1.16bbb92) <a href=
   "/projects/32238/changesets/ERROR" title=
   "Changeset [ERROR]">[ERROR]</a> The application has crashed with an
   unhandled exception. Stack trace: 0 CoreFoundation 0x02237bcc
   <strong>exceptionPreprocess + 156<br>
   1 libobjc.A.dylib 0x0238c5c2 objc_exception_throw + 47<br>
   2 CoreFoundation 0x021f0628 +[NSException raise:format:arguments:]
   + 136<br>
   3 CoreFoundation 0x021f059a +[NSException raise:format:] + 58<br>
   4 UIKit 0x00bc3f9b -[UIPopoverController dealloc] + 86<br>
   5 Foundation 0x005ff8e9</strong> delayedPerformCleanup + 74<br>
   6 CoreFoundation 0x021b0bde CFRunLoopTimerInvalidate + 446<br>
   7 CoreFoundation 0x0221a7d7 <strong>CFRunLoopDoTimer + 1799<br>
   8 CoreFoundation 0x02176cc9</strong> CFRunLoopRun + 1817<br>
   9 CoreFoundation 0x02176240 CFRunLoopRunSpecific + 208<br>
   10 CoreFoundation 0x02176161 CFRunLoopRunInMode + 97<br>
   11 GraphicsServices 0x04009268 GSEventRunModal + 217<br>
   12 GraphicsServices 0x0400932d GSEventRun + 115<br>
   13 UIKit 0x0089042e UIApplicationMain + 1160<br>
   14 bg_oop11 0x0000367c main + 362<br>
   15 bg_oop11 0x000024a1 start + 53<br>
   2011-01-19 20:15:06.484 bg_oop11[42760:207] *** Terminating app due
   to uncaught exception 'NSGenericException', reason:
   '-[UIPopoverController dealloc] reached while popover is still
   visible.'</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2040.json">JSON Source</a></p>