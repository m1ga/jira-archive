---
title: "[TIMOB-2079] Android: runtime errors on sound test cases (setToolbar) "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0 M05</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, error, regression, runtime</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:09:50.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:01.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>g1 running 1.6 and the sim running 2.2 Ti Mobile sdk
1.5.0.02c264.</p>
<p>1.Phone&gt;sound&gt;any test case<br>
results: runtime errors on load</p>
<p>E/KrollContext( 7843): (kroll$8) [2437,96278] ECMA Error
evaluating source: TypeError: Cannot find function setToolbar in
object [Ti.UI.Window]. (app://examples/sound_file.js#167)<br>
E/KrollContext( 7843): org.mozilla.javascript.EcmaError: TypeError:
Cannot find function setToolbar in object [Ti.UI.Window].
(app://examples/sound_file.js#167)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3761)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3739)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.ScriptRuntime.typeError(ScriptRuntime.java:3767)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.ScriptRuntime.typeError2(ScriptRuntime.java:3786)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.ScriptRuntime.notFunctionError(ScriptRuntime.java:3850)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.ScriptRuntime.getPropFunctionAndThisHelper(ScriptRuntime.java:2343)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.ScriptRuntime.getPropFunctionAndThis(ScriptRuntime.java:2310)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1524)<br>
E/KrollContext( 7843): at
script(app://examples/sound_file.js:167)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.Interpreter.interpret(Interpreter.java:854)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:426)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3161)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:175)<br>
E/KrollContext( 7843): at
org.mozilla.javascript.Context.evaluateReader(Context.java:1142)<br>
E/KrollContext( 7843): at
org.appcelerator.titanium.kroll.KrollContext.evaluateScript(Unknown
Source)<br>
E/KrollContext( 7843): at
org.appcelerator.titanium.kroll.KrollContext.handleEvalFile(Unknown
Source)<br>
E/KrollContext( 7843): at
org.appcelerator.titanium.kroll.KrollContext.handleMessage(Unknown
Source)<br>
E/KrollContext( 7843): at
android.os.Handler.dispatchMessage(Handler.java:95)<br>
E/KrollContext( 7843): at
android.os.Looper.loop(Looper.java:123)<br>
E/KrollContext( 7843): at
org.appcelerator.titanium.kroll.KrollHandlerThread.run(Unknown
Source)</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>This is actually a test defect. Calling an iPhone only method.
   We're going to start getting out of providing dummy methods for
   iPhone especially since it makes it harder on the end user when
   they don't see the code in the test and iPhone doesn't do the same
   for Android or BB features. It just won't scale.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Assigning to Ralf right now until we can figure the general
   problem out.</p></div></li>
<li>Ralf Pfeiffer 2011-04-15

   <div><p>I am assigning to Don to take the action to modify the KS such
   that Android (and IOS) does not fail</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Not yet working on it.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/43358e5f7b4bb194f79e343398f648008b353293"
   title=
   "Changeset [43358e5f7b4bb194f79e343398f648008b353293]">[43358e5f7b4bb194f79e343398f648008b353293]</a>)
   -[<a href="/projects/32238/tickets/2079" title=
   "Ticket #2079">#2079</a>] fixed examples, local sound has a path
   problem to look at still <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/43358e5f7b4bb194f79e343398f648008b353293" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/43358e5f7b4bb194f79e343398f648008b353293</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/43358e5f7b4b..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/43358e5f7b4b...</a></a></p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Fixed with the patch last night. Fixing this exposed the Android
   equivalent of <a href="/projects/32238/tickets/1913" title=
   "Ticket #1913">#1913</a> entered new bug <a href=
   "/projects/32238/tickets/2544" title="Ticket #2544">#2544</a> for
   Android.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>Titanium SDK version: 1.5.0 (12/10/10 08:19 f37ab6c) G2
   (2.2)</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2079.json">JSON Source</a></p>