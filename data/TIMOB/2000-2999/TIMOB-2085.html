---
title: "[TIMOB-2085] file.createTimeStamp returns unexpected date on iOS 3.2.2 and earlier"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>createtimestamp, defect, ios</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-04-15T03:09:59.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:03.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>spun off of <a href="/projects/32238/tickets/1642" title=
"Ticket #1642">#1642</a></p>
<p>1.run the script below on an an iOS device running 3.2.2 or
older.</p>
<p>var filename = 'iphone_coming_soon.png'; var timeStampOfFile =
''; var file =
Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory,filename);
if ( file.exists() ) { Ti.API.info('IF IS TRUE'); timeStampOfFile =
file.createTimestamp(); }</p>
<p>Ti.API.info('The value of timeStampOfFile is: ' +
timeStampOfFile);</p>
<p>results: <a href="/projects/32238/changesets/INFO" title=
"Changeset [INFO]">[INFO]</a> newfile.txt created: Wed Dec 31 1969
16:00:00 GMT-0800 (PST)</p>
<p>expected: return actual date,</p>
<p>notes: Setting to medium</p></div>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2011-04-15

   <div><p>Could be an Apple bug. Looking into it.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>This is indeed an Apple bug. There is a workaround but it WILL
   return different file creation dates on 3.x and 4.x (we spoof the
   creation date with the modification date on 3.x - they're similar,
   but may differ by a few seconds).</p>
   <p>Will patch the fix into 1_4_X when approved.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/9977c7719107da0d1281fd50b487667c73d194c9"
   title=
   "Changeset [9977c7719107da0d1281fd50b487667c73d194c9]">[9977c7719107da0d1281fd50b487667c73d194c9]</a>)
   [<a href="/projects/32238/tickets/2085" title=
   "Ticket #2085">#2085</a>] Added test in KS 'Filesystems'. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/9977c7719107da0d1281fd50b487667c73d194c9" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/9977c7719107da0d1281fd50b487667c73d194c9</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/9977c7719107d..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/9977c7719107d...</a></a></p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/c6164c4d92c302ff3582ceb3bb76727cf7aa57e0"
   title=
   "Changeset [c6164c4d92c302ff3582ceb3bb76727cf7aa57e0]">[c6164c4d92c302ff3582ceb3bb76727cf7aa57e0]</a>)
   [<a href="/projects/32238/tickets/2085" title=
   "Ticket #2085">#2085</a> state:fixed-in-qa] Spoof file modification
   date as creation date when creation date is not available (3.x
   Apple bug for initially installed files) <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/c6164c4d92c302ff3582ceb3bb76727cf7aa57e0" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/c6164c4d92c302ff3582ceb3bb76727cf7aa57e0</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/c6164c4d92c30..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/c6164c4d92c30...</a></a></p></div></li>
<li>Tim.Alosi 2011-04-15

   <div><p>This also appears to be an issue with
   file.modificationTimestamp() ... I assume you noticed, but it
   wasn't listed.</p>
   <p>Tim</p>
   <p>See below for example output.<br>
   Ti.API.debug('Images.getImageUrl image details Create:Modify = ' +
   String(new Date(imageFile.createTimestamp())) +':'+String(new
   Date(imageFile.modificationTimestamp())));</p>
   <p>Renders<br>
   <a href="/projects/32238/changesets/DEBUG" title=
   "Changeset [DEBUG]">[DEBUG]</a> Images.getImageUrl image details
   Create:Modify = Wed Dec 31 1969 19:00:00 GMT-0500 (EST):Wed Dec 31
   1969 19:00:00 GMT-0500 (EST)</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>This does not occur under 3.1.x.</p>
   <pre>
   <code>[INFO] created = Sun Oct 17 2010 22:58:21 GMT-0700 (PDT)
   [INFO] modified = Sun Oct 17 2010 22:58:21 GMT-0700 (PDT)</code>
   </pre>
   <p>Thom, can you confirm whether or not the modification bug
   appears in 3.2 ONLY?</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>I am unable to repro the incorrect behavior on a 3.2.2 device -
   using 1.5.0.62c1cae the test works as expected.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2085.json">JSON Source</a></p>