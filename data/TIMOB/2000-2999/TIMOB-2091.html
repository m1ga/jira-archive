---
title: "[TIMOB-2091] Android: Support Android Notification Service"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M06</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, feature, release-1.6.0, rplist</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:10:10.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:04.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>See <a href=
"<a href="http://developer.android.com/reference/android/app/NotificationManager.html" rel="nofollow" target="_blank">http://developer.android.com/reference/android/app/NotificationManager.html</a>">
Notification Manager</a>, <a href=
"<a href="http://developer.android.com/reference/android/app/Notification.html" rel="nofollow" target="_blank">http://developer.android.com/reference/android/app/Notification.html</a>">
Notification</a>, and <a href=
"<a href="http://developer.android.com/guide/topics/ui/notifiers/notifications.html" rel="nofollow" target="_blank">http://developer.android.com/guide/topics/ui/notifiers/notifications.html</a>">
Guide</a></p>
<p>Use <code>Titanium.Android.NotificationManager</code> as the
module have it provide a <code>createNotification()</code> method
that accepts a dictionary.</p>
<p>NotificationManager will expose<br>
- notify(int id, NotificationProxy proxy) - cancel(int id) -
cancelAll() - createNotification({/ <em>create options</em> /}</p>
<p>Requires support from Intent, PendingIntent, and Activity</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2091_18099/notifications.zip">notifications.zip</td></td><td>2011-04-15T03:10:10.000+0000</td><td>757587</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/e31b041bd0e5bbc6f79c029a361184b176c08c76"
   title=
   "Changeset [e31b041bd0e5bbc6f79c029a361184b176c08c76]">[e31b041bd0e5bbc6f79c029a361184b176c08c76]</a>)
   [<a href="/projects/32238/tickets/2091" title=
   "Ticket #2091">#2091</a> state:open] Initial support, no
   documentation. <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/e31b041bd0e5bbc6f79c029a361184b176c08c76" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/e31b041bd0e5bbc6f79c029a361184b176c08c76</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/e31b041bd0e5b..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/e31b041bd0e5b...</a></a></p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/ab390853b5da78bd186c9051dec986cfc9e3b656"
   title=
   "Changeset [ab390853b5da78bd186c9051dec986cfc9e3b656]">[ab390853b5da78bd186c9051dec986cfc9e3b656]</a>)
   [<a href="/projects/32238/tickets/2091" title=
   "Ticket #2091">#2091</a>] refactored the helper so I can get the id
   <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/ab390853b5da78bd186c9051dec986cfc9e3b656" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/ab390853b5da78bd186c9051dec986cfc9e3b656</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/ab390853b5da7..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/ab390853b5da7...</a></a></p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/69df280971e6a7c76ce31f072eda0b9b287097ee"
   title=
   "Changeset [69df280971e6a7c76ce31f072eda0b9b287097ee]">[69df280971e6a7c76ce31f072eda0b9b287097ee]</a>)
   [<a href="/projects/32238/tickets/1589" title=
   "Ticket #1589">#1589</a> <a href="/projects/32238/tickets/2091"
   title="Ticket #2091">#2091</a> <a href=
   "/projects/32238/tickets/1590" title="Ticket #1590">#1590</a>
   state:open] Additional methods on Intent, PendingIntent, and
   addition of NotificationManager module <a href=
   "<a href="http://github.com/appcelerator/titanium_mobile/commit/69df280971e6a7c76ce31f072eda0b9b287097ee" rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/69df280971e6a7c76ce31f072eda0b9b287097ee</a>">
   <a href="http://github.com/appcelerator/titanium_mobile/commit/69df280971e6a..." rel="nofollow" target="_blank">http://github.com/appcelerator/titanium_mobile/commit/69df280971e6a...</a></a></p></div></li>
<li>Andrew Heebner 2011-04-15

   <div><p>Small bug here, dunno if the icon is supposed to be attached to
   a resource or not, but it seems from the java source that it's
   included dynamically, although it fails out with (no matter where
   the icon is located):</p>
   <pre>
   <code>10-22 12:24:43.615: WARN/TiNotification(7975): (kroll$1) [40,29802] No image found for stat_notify_missed_call.png</code>
   </pre>
   <p>Code to reproduce:</p>
   <pre>
   <code class="javascript">var win = Ti.UI.createWindow({
       backgroundColor : 'gray'
   });
   
   // notification number, increments automagically
   var i = 1;
   
   var btn = Ti.UI.createButton({
       title: 'Add Notification'
   });
   
   btn.addEventListener('click', function(e) {
       createNote('Someone Called!', '555-555-5555', 'New missed call!');
   });
   
   win.add(btn);
   win.open();
   
   function createNote(title, text, ticker) {
       i++;
       var activity = Ti.Android.createActivity();
   
       var intent = Ti.Android.createIntent({
           action: Ti.Android.ACTION_DIAL, 
           data: "tel:555" 
       });
   
       var pending = Ti.Android.createPendingIntent({ 
           'activity': activity,
           'intent': intent,
           'type': Ti.Android.PENDING_INTENT_FOR_ACTIVITY,
           'flags': 1073741824
       });
   
       var ts = new Date().getTime();
   
       var notification = Ti.Android.NotificationManager.createNotification({
           icon: 'stat_notify_missed_call.png',
           contentIntent: pending,
           contentTitle:title,
           contentText: text,
           when: ts,
           tickerText: ticker
       });
   
       Ti.Android.NotificationManager.notify(i, notification); 
   }</code>
   </pre></div></li>
<li>Don Thorp 2011-04-15

   <div><p>@Andrew please try and contact us via support/IRC first
   especially on new features that haven't been completed. You'll have
   to use the multidensity support and place your icon in
   <code>Resources/android/images/[high|medium|low]</code> so that it
   gets placed into the <code>res/drawables</code> area correctly. We
   are also going to have resources that are injectable via a new
   <code>platforms/android</code> folder in the root of your project,
   but we haven't finished testing that yet.</p></div></li>
<li>Andrew Heebner 2011-04-15

   <div><p>No, problem, my apologies. Just trying to stay on the cutting
   edge here at work, sometimes i do tend to get a bit overzealous.
   :)</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>not exactly sure why it was ever moved to in-progress.</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/107833084490d163f9b4238b3557ed07c6624150"
   title=
   "Changeset [107833084490d163f9b4238b3557ed07c6624150]">[107833084490d163f9b4238b3557ed07c6624150]</a>)
   better Android support for Notifications and initial support for
   RemoteViews we can now fully customize notifications with custom
   Android layouts, and have full access to all of the options
   provided in the Android Notification API. PendingIntent has also
   received an updated API. Updated and Added doc for RemoteViews,
   Notification, NotificationManager, and PendingIntent<br>
   [<a href="/projects/32238/tickets/2091" title=
   "Ticket #2091">#2091</a> state:fixed-in-qa] [<a href=
   "/projects/32238/tickets/2835" title="Ticket #2835">#2835</a>
   state:fixed-in-qa] <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/107833084490d163f9b4238b3557ed07c6624150" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/107833084490d163f9b4238b3557ed07c6624150</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/107833084490..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/107833084490...</a></a></p></div></li>
<li>Opie Cyrus 2011-04-15

   <div><p>verified emulator 2.2 with attached test provided by
   Marshall</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2091.json">JSON Source</a></p>