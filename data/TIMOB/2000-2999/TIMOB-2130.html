---
title: "[TIMOB-2130] Ti.App is undifiend on webview at android 2.2 device"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2011-04-15T03:11:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android</td></tr>
<tr><th>Reporter</th><td>Farsad</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:11:18.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-10T18:19:37.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Hi<br>
I found a huge issue on Titanium!<br>
I have an app with a webview and some javascript for loading pages
on main page. I have used Ti.App.addEventListener for initialize a
variable for Os name on my app. but, the app get error on
Ti.App.addEventListener line and then my app couldn't run next
javascripts and it stopped on main white page.<br>
This problem exist only on Android 2.2 device on each run expect
first run!!! The app works correctly on emulator at all times!</p>
<p>Errors for this issue on Dalvic debug monitor are:<br>
10-20 09:18:09.364: ERROR/Web Console(3954): Uncaught TypeError:
Cannot read property 'App' of undefined at
file:///android_asset/Resources/scripts/main.js:1<br>
10-20 09:18:09.371: ERROR/Web Console(3954): Uncaught TypeError:
Cannot read property 'osname' of undefined at
file:///android_asset/Resources/views/main.html:10</p>
<p>But! on all runs include first run I get another errors before
this error:<br>
ERROR/TiApplication(3954): (kroll$1) [19,84] APP PROXY:
ti.modules.titanium.app.AppModule@48039a48<br>
ERROR/TiApplication(3954): (main) [350,865] APP PROXY:
ti.modules.titanium.app.AppModule@48003c80<br>
10-20 09:18:00.121: ERROR/Web Console(3954): Uncaught
ReferenceError: TiAPI is not defined at :3</p>
<p>I tested it by Titanium SDK 1.4.1.1 and the last version of
source code(1.5) on a Galaxy S mobile with I9000JXJPB(Android 2.2
for middle est) and I9000XXJPM(Android 2.2 for Europe).</p>
<p>I attached a sample project and Dalvic debug Logs and emulator
trace log.</p>
<p>I need a fast fix for this issue. our App is ready for publish
but don't work on Android 2.2 :(<br>
Thanks.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-2130_18110/emulatortrace.rtf">emulatortrace.rtf</td></td><td>2011-04-15T03:11:20.000+0000</td><td>27671</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-2130_18111/first-run-log.txt">first-run-log.txt</td></td><td>2011-04-15T03:11:20.000+0000</td><td>8583</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-2130_18108/resources.zip">resources.zip</td></td><td>2011-04-15T03:11:19.000+0000</td><td>195285</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-2130_18109/second-and-next-run-log.txt">second-and-next-run-log.txt</td></td><td>2011-04-15T03:11:19.000+0000</td><td>12827</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Brion Vibber 2011-04-15

   <div><p>Dupe of <a href=
   "<a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/1374-android-events-are-not-working-on-android-22-device-but-working-on-simulator" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/1374-android-events-are-not-working-on-android-22-device-but-working-on-simulator</a>">
   <a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/1374-..." rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/1374-...</a></a>
   ? I have a workaround posted on that bug.</p></div></li>
<li>Farsad 2011-04-15

   <div><p>Very Thanks Brion! :)</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Dupe <a href="/projects/32238/tickets/1374" title=
   "Ticket #1374">#1374</a>.</p></div></li>
<li>Lee Morris 2017-03-10

   Closing ticket as duplicate.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2130.json">JSON Source</a></p>