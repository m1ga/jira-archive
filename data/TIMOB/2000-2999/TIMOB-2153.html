---
title: "[TIMOB-2153] Android: Logging and unicode test fails (cannot read property)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M01</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, android_refactor, defect, logging, regression, release-1.6.0, unicode</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:12:08.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:15.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>1.5.0.70ce98 g2 running 2.2, G1 running 1.6, sim 2.2.</p>
<p>1.BaseUI&gt;Views&gt;Web Views&gt;Logging and Unicode<br>
2.Check adb output</p>
<p>results:<br>
E/Web Console(15156): Uncaught ReferenceError: TiAPI is not defined
at :3<br>
E/Web Console(15156): Uncaught TypeError: Cannot read property
'API' of undefined at
file:///android_asset/Resources/examples/webview_logging.html:5</p>
<p>test results do not appear.</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>this doesn't seem to occur anymore. Please re-open if you can
   get it to fail and what else I need to do to recreate it.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>Hey Don, poorly written bug.</p>
   <p>1.plug into adb<br>
   2.run the test at BaseUI&gt;Views&gt;Web Views&gt;Logging and
   Unicode</p>
   <p>note results:</p>
   <p>E/Web Console( 2446): Uncaught TypeError: Cannot read property
   'API' of undefined at
   file:///android_asset/Resources/examples/webview_logging.html:5<br>
   D/TiAPI ( 2446): (kroll$6) [754,16730] webview loaded:
   file:///android_asset/Resources/examples/webview_logging.html</p>
   <p>the test results appear as expected on the device, but not via
   adb logcat</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>1.5.1 as per Don</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/12d7bf6a90db72fa0aebe538c95128c8a0cdc625"
   title=
   "Changeset [12d7bf6a90db72fa0aebe538c95128c8a0cdc625]">[12d7bf6a90db72fa0aebe538c95128c8a0cdc625]</a>)
   Inject our Ti JS and JSON near beginning of local (and ONLY local)
   html file contents or html set directly via the html property.
   [<a href="/projects/32238/tickets/2153" title=
   "Ticket #2153">#2153</a> state:fixed-in-qa][<a href=
   "/projects/32238/tickets/2514" title="Ticket #2514">#2514</a>
   state:fixed-in-qa][<a href="/projects/32238/tickets/1635" title=
   "Ticket #1635">#1635</a> state:fixed-in-qa][<a href=
   "/projects/32238/tickets/1036" title="Ticket #1036">#1036</a>
   state:fixed-in-qa] <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/12d7bf6a90db72fa0aebe538c95128c8a0cdc625" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/12d7bf6a90db72fa0aebe538c95128c8a0cdc625</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/12d7bf6a90db..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/12d7bf6a90db...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/a18707e021fcf0d46f8c3809ae20bc5b2da47e2c"
   title=
   "Changeset [a18707e021fcf0d46f8c3809ae20bc5b2da47e2c]">[a18707e021fcf0d46f8c3809ae20bc5b2da47e2c]</a>)
   [<a href="/projects/32238/tickets/2153" title=
   "Ticket #2153">#2153</a>] Drillbit unit test to be sure Titanium/Ti
   <em>are</em> available in local html files loaded in webview
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/a18707e021fcf0d46f8c3809ae20bc5b2da47e2c" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/a18707e021fcf0d46f8c3809ae20bc5b2da47e2c</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/a18707e021fc..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/a18707e021fc...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/ea173edf09a19db3d02ff1cca7af32be089cfeb4"
   title=
   "Changeset [ea173edf09a19db3d02ff1cca7af32be089cfeb4]">[ea173edf09a19db3d02ff1cca7af32be089cfeb4]</a>)
   [<a href="/projects/32238/tickets/2153" title=
   "Ticket #2153">#2153</a>] Drillbit unit test to be sure Titanium/Ti
   <em>are</em> available in webview after manually setting .html
   property <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/ea173edf09a19db3d02ff1cca7af32be089cfeb4" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/ea173edf09a19db3d02ff1cca7af32be089cfeb4</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/ea173edf09a1..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/ea173edf09a1...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>Titanium SDK version: 1.6.0 (12/21/10 13:46 8a96481) g2 (2.2)
   2.1 sim</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/6acef0763be05a72fd1d85cfd999f3d5a5bdd851"
   title=
   "Changeset [6acef0763be05a72fd1d85cfd999f3d5a5bdd851]">[6acef0763be05a72fd1d85cfd999f3d5a5bdd851]</a>)
   [<a href="/projects/32238/tickets/2153" title=
   "Ticket #2153">#2153</a>] In drillbit test, omit the cleanup
   w.close as it causes intermittent seg faults in android 1.6
   <a href="<a href="https://github.com/appcelerator/titanium_mobile/commit/6acef0763be05a72fd1d85cfd999f3d5a5bdd851" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/6acef0763be05a72fd1d85cfd999f3d5a5bdd851</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/6acef0763be0..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/6acef0763be0...</a></a></p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2153.json">JSON Source</a></p>