---
title: "[TIMOB-2158] Android: File System run time errors (createTimeStamp not supported) + crash "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2011-07-07T11:55:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-22</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, android_refactor, defect, file, regression, system</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Opie Cyrus</td></tr>
<tr><th>Created</th><td>2011-04-15T03:12:17.000+0000</td></tr>
<tr><th>Updated</th><td>2011-07-07T11:56:19.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>1.5.0.70ce98 g2 running 2.2, G1 running 1.6, sim 2.2.</p>
<p>1.Platform&gt;File test</p>
<p>results:runtime errors, followed by a crash</p>
<p>I/TiAPI (16627): (kroll$81) [84,5659266] Resources Directory
:app://<br>
I/TiAPI (16627): (kroll$81) [1,5659267] Temp Directory
:undefined<br>
I/TiAPI (16627): (kroll$81) [3,5659270] Application Directory
:null<br>
I/TiAPI (16627): (kroll$81) [1,5659271] Application Data Directory
:appdata-private://<br>
I/TiAPI (16627): (kroll$81) [0,5659271] Application Support
Directory :undefined<br>
I/TiAPI (16627): (kroll$81) [1,5659272] External Storage Available
:undefined<br>
I/TiAPI (16627): (kroll$81) [8,5659280] Separator :/<br>
I/TiAPI (16627): (kroll$81) [2,5659282] Line Ending :<br>
I/TiAPI (16627): (kroll$81) [7,5659289] file = [object TiFile]<br>
I/TiAPI (16627): (kroll$81) [3,5659292] contents blob object =
Hello World. this is a filesystem read test.<br>
I/TiAPI (16627): (kroll$81) [6,5659298] contents = Hello World.
this is a filesystem read test.<br>
I/TiAPI (16627): (kroll$81) [1,5659299] mime type = text/plain<br>
I/TiAPI (16627): (kroll$81) [2,5659301] nativePath =
file:///android_asset/Resources/text.txt<br>
I/TiAPI (16627): (kroll$81) [3,5659304] exists = true<br>
I/TiAPI (16627): (kroll$81) [2,5659306] size = 44<br>
I/TiAPI (16627): (kroll$81) [3,5659309] readonly = true<br>
I/TiAPI (16627): (kroll$81) [1,5659310] symbolicLink = false<br>
I/TiAPI (16627): (kroll$81) [1,5659311] executable = false<br>
I/TiAPI (16627): (kroll$81) [6,5659317] hidden = false<br>
I/TiAPI (16627): (kroll$81) [1,5659318] writeable = undefined<br>
I/TiAPI (16627): (kroll$81) [1,5659319] name = text.txt<br>
I/TiAPI (16627): (kroll$81) [2,5659321] extension = txt<br>
I/TiAPI (16627): (kroll$81) [1,5659322] resolve =
file:///android_asset/Resources/text.txt<br>
W/TiBaseFile(16627): (kroll$81) [3,5659325] Method is not supported
org.appcelerator.titanium.io.TiResourceFile : createTimestamp<br>
I/TiAPI (16627): (kroll$81) [7,5659332] created = Wed Dec 31 1969
16:00:00 GMT-0800 (PST)<br>
I/TiAPI (16627): (kroll$81) [84,5659416] directoryListing =
app.js,app.jss,comic_zine_ot.otf,common.jss,cricket.wav,default_app_logo.png,echo.js,examples,images,jquery-1.3.2.js,label_basic.jss,main_windows,movie.mp4,my_js_include.js,my_js_include_2.js,paradise_lost.txt,params.js,pop.caf,test.css,testdb.db,text.txt,todo.js,welcome.js<br>
W/TiBaseFile(16627): (kroll$81) [2,5659418] Method is not supported
org.appcelerator.titanium.io.TiResourceFile : getParent<br>
I/TiAPI (16627): (kroll$81) [0,5659418] getParent = null<br>
I/TiAPI (16627): (kroll$81) [7,5659425] spaceAvailable = 0<br>
E/KrollMethod(16627): (kroll$81) [6,5659431] Exception calling
kroll method createDirectory<br>
E/KrollMethod(16627): java.lang.IllegalArgumentException: Expected
1 arguments for createDirectory, got 0<br>
E/KrollMethod(16627): at
ti.modules.titanium.filesystem.FileProxyBindingGen$30.invoke(FileProxyBindingGen.java:822)<br>
E/KrollMethod(16627): at
org.appcelerator.kroll.KrollMethod.call(KrollMethod.java:46)<br>
E/KrollMethod(16627): at
org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1711)<br>
E/KrollMethod(16627): at
org.mozilla.javascript.Interpreter.interpret(Interpreter.java:854)<br>
E/KrollMethod(16627): at
org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)<br>
E/KrollMethod(16627): at
org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:426)<br>
E/KrollMethod(16627): at
org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3161)<br>
E/KrollMethod(16627): at
org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:175)<br>
E/KrollMethod(16627): at
org.mozilla.javascript.Context.evaluateReader(Context.java:1142)<br>
E/KrollMethod(16627): at
org.appcelerator.titanium.kroll.KrollContext.evaluateScript(KrollContext.java:193)<br>
E/KrollMethod(16627): at
org.appcelerator.titanium.kroll.KrollContext.handleEvalFile(KrollContext.java:218)<br>
E/KrollMethod(16627): at
org.appcelerator.titanium.kroll.KrollContext.handleMessage(KrollContext.java:115)<br>
E/KrollMethod(16627): at
android.os.Handler.dispatchMessage(Handler.java:95)<br>
E/KrollMethod(16627): at
android.os.Looper.loop(Looper.java:123)<br>
E/KrollMethod(16627): at
org.appcelerator.titanium.kroll.KrollHandlerThread.run(KrollHandlerThread.java:73)<br>
E/KrollContext(16627): (kroll$81) [7,5659438] Error evaluating
source: Wrapped java.lang.IllegalArgumentException: Expected 1
arguments for createDirectory, got 0
(app://examples/filesystem.js#39)<br>
E/KrollContext(16627): org.mozilla.javascript.WrappedException:
Wrapped java.lang.IllegalArgumentException: Expected 1 arguments
for createDirectory, got 0 (app://examples/filesystem.js#39)<br>
E/KrollContext(16627): at
org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1781)<br>
E/KrollContext(16627): at
org.appcelerator.kroll.KrollMethod.call(KrollMethod.java:77)<br>
E/KrollContext(16627): at
org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1711)<br>
E/KrollContext(16627): at
script(app://examples/filesystem.js:39)<br>
E/KrollContext(16627): at
org.mozilla.javascript.Interpreter.interpret(Interpreter.java:854)<br>
E/KrollContext(16627): at
org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)<br>
E/KrollContext(16627): at
org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:426)<br>
E/KrollContext(16627): at
org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3161)<br>
E/KrollContext(16627): at
org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunction.java:175)<br>
E/KrollContext(16627): at
org.mozilla.javascript.Context.evaluateReader(Context.java:1142)<br>
E/KrollContext(16627): at
org.appcelerator.titanium.kroll.KrollContext.evaluateScript(KrollContext.java:193)<br>
E/KrollContext(16627): at
org.appcelerator.titanium.kroll.KrollContext.handleEvalFile(KrollContext.java:218)<br>
E/KrollContext(16627): at
org.appcelerator.titanium.kroll.KrollContext.handleMessage(KrollContext.java:115)<br>
E/KrollContext(16627): at
android.os.Handler.dispatchMessage(Handler.java:95)<br>
E/KrollContext(16627): at
android.os.Looper.loop(Looper.java:123)<br>
E/KrollContext(16627): at
org.appcelerator.titanium.kroll.KrollHandlerThread.run(KrollHandlerThread.java:73)<br>
E/KrollContext(16627): Caused by:
java.lang.IllegalArgumentException: Expected 1 arguments for
createDirectory, got 0<br>
E/KrollContext(16627): at
ti.modules.titanium.filesystem.FileProxyBindingGen$30.invoke(FileProxyBindingGen.java:822)<br>
E/KrollContext(16627): at
org.appcelerator.kroll.KrollMethod.call(KrollMethod.java:46)<br>
E/KrollContext(16627): ... 13 more</p></div>

<h3>Comments</h3>

<ol>
<li>Opie Cyrus 2011-06-01

   Spoke with iOS lead and agreed that it acceptable for iOS to return timestamp for Resource files while Android doesn't due to platform differences.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2158.json">JSON Source</a></p>