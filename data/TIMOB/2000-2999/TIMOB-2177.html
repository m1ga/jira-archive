---
title: "[TIMOB-2177] Changing hardware in the middle of playback/recording may cause crash"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Hold</td></tr>
<tr><th>Resolution Date</th><td>2011-04-15T03:12:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Backlog</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>apple, bug, crash, hardware, ios, recording, sound</td></tr>
<tr><th>Reporter</th><td>Stephen Tramer</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-04-15T03:12:49.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-03T07:02:36.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Easiest to test on an iPod. With headphones+mic plugged in:</p>
<p>KS-&gt;Phone-&gt;Sound-&gt;Record<br>
Begin Recording<br>
After recording a message, yank the headphones (do NOT click the
'stop recording' button)<br>
Click 'playback' (you will hear nothing, and the button will never
change from 'stop playback')<br>
Plug headphones back in<br>
Click 'record' again<br>
CRASH</p>
<p>The first part of the bug (no playback) probably has something
to do with how the recorder handles audio queues and whether or not
it even saves the file produced by the recording. Second part of
the bug is probably a session issue, where the audio session
continues to try and use the previous hardware.</p></div>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2011-04-15

   <div><p>Surprise... this is an Apple bug.</p>
   <p>Radar # 8933998. Will come up with a workaround for now that
   will not result in a crash.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Putting the ticket into the usual "hold/TBS" pattern for Apple
   bugs, but will still try and submit a slap patch to remove the
   crash.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/8ae839bfe83302d3197efdfddb97a2ff2efc4fc3"
   title=
   "Changeset [8ae839bfe83302d3197efdfddb97a2ff2efc4fc3]">[8ae839bfe83302d3197efdfddb97a2ff2efc4fc3]</a>)
   [<a href="/projects/32238/tickets/2177" title=
   "Ticket #2177">#2177</a>] Workaround to prevent ugly crash on
   hardware availability change. We should be catching all of these
   C++-style exceptions and rebranding them, anyway... <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/8ae839bfe83302d3197efdfddb97a2ff2efc4fc3" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/8ae839bfe83302d3197efdfddb97a2ff2efc4fc3</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/8ae839bfe833..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/8ae839bfe833...</a></a></p></div></li>
<li>Lee Morris 2017-03-03

   Closing ticket due to time passed and irrelevance. </li>
</ol>


<p><a href="/TIMOB/TIMOB-2177.json">JSON Source</a></p>