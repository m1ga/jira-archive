---
title: "[TIMOB-2208] android regression: row.background dynamic changing fails"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M06</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, android_refactor, backgroundcolor, defect, regression, release-1.6.0</td></tr>
<tr><th>Reporter</th><td>Robby</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:13:32.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:25.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>On the 1.5.0 build from today, creating a row with
.backgroundColor set works properly, however changing
.backgroundColor on the fly (e.g. after the row has been created
and rendered) fails. Works on iOS and Android under 1.4.1.</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>Robby,</p>
   <p>Would you mind checking against 1_4_X branch to see if it
   regressed after that?</p></div></li>
<li>Robby 2011-04-15

   <div><p>Don,</p>
   <p>Works on the 1_4_X nightly from Oct 15th at least. I can try a
   newer one if you need.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Perfect! Thanks.</p></div></li>
<li>Robby 2011-04-15

   <div><p>Currently I am having to do a setData([]), followed by a
   setData(rowData) to properly see the updated colors. Less than
   optimal, but it should prove that it is a redraw issue or some
   sort.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Robby. Please provide the information from the version.txt file
   in the mobilesdk so we know which build you're testing with.</p></div></li>
<li>Robby 2011-04-15

   <div><p>Don, please see my comment for <a href=
   "/projects/32238/tickets/2430" title="Ticket #2430">#2430</a>,
   which includes that information along with a working testcase for
   this bug.</p></div></li>
<li>Robby 2011-04-15

   <div><p>Looks like this may affect the iOS 1.5.1 release as well. Having
   the same kind of issues there changing it dynamically on a
   tableview row. Scrolling the row out and back in view redraws it
   with the proper backgroundColor.</p></div></li>
<li>Chris Reed 2011-04-15

   <div><p>Hi there, in case it helps.</p>
   <p>I've noticed the same issue in iOS with some labels properties,
   when added to a tableview row:</p>
   <p>Changing label.text works, but with label.width set to 'auto',
   the width doesn't change with the new text length - Until the row
   is pushed out of view.</p>
   <p>(I'm certain this was OK in 1.4.3, first saw it in 1.5.0
   RC2)</p>
   <p>I recorded details and some sample code in Helpdesk:<br>
   <a href=
   "<a href="https://developer.appcelerator.com/helpdesk/view/63151" rel="nofollow" target="_blank">https://developer.appcelerator.com/helpdesk/view/63151</a>"><a href="https://developer.appcelerator.com/helpdesk/view/63151" rel="nofollow" target="_blank">https://developer.appcelerator.com/helpdesk/view/63151</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>This was fixed in this commit:<br>
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/ced322fc0662976d349a46eebe640ae1779bd1d9" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/ced322fc0662976d349a46eebe640ae1779bd1d9</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/ced322fc0662..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/ced322fc0662...</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

    <div><p>test i used to verify this fix:</p>
    <pre>
    <code class="javascript">
    var row = Ti.UI.createTableViewRow({ backgroundColor: 'blue' });
    var data = [ row ];
    var table = Ti.UI.createTableView({
        data: data,
        height: '80%'
    });
    win.add(table);
    
    var button = Ti.UI.createButton({
        title: 'change bg',
        top: '85%'
    });
    win.add(button);
    button.addEventListener("click", function(e) {
        row.backgroundColor = "red";
    });</code>
    </pre></div></li>
<li>Opie Cyrus 2011-04-15

    <div><p>Verified but needed to set the table view height to a manual
    height value in order to run test.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2208.json">JSON Source</a></p>