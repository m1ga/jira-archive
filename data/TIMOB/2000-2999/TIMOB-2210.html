---
title: "[TIMOB-2210] Android: Crash on "the rest" test case ("unable to convert boolean")"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0 M05</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, android_refactor, crash, defect, regression</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:13:38.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:25.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>G2 (2.2) some G1 (1.6) simulator (2.1) TiMobile SDK
1.5.0.add5e1</p>
<p>Crash on "the rest" test case<br>
1.Controls&gt;Text Field&gt;The rest</p>
<p>results: crash on load.</p>
<p><a href=
"<a href="http://pastie.org/1253816" rel="nofollow" target="_blank">http://pastie.org/1253816</a>"><a href="http://pastie.org/1253816" rel="nofollow" target="_blank">http://pastie.org/1253816</a></a></p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>The test was changed on line <a href=
   "/projects/32238/tickets/112" title="Ticket #112">#112</a> to set a
   boolean to a value expecting an int.</p>
   <pre>
   <code>tf1.autocapitalization = true; // See autocorrect note</code>
   </pre>
   <p>not sure why that was done.</p></div></li>
<li>Ralf Pfeiffer 2011-04-15

   <div><p>I am asking Blain to take a look at iPhone side and modify the
   KS sample to be assigned an appropriate constant after checking the
   IOS source code and testing it.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/29db36375ebb62d2517509bfe08c839f08378031"
   title=
   "Changeset [29db36375ebb62d2517509bfe08c839f08378031]">[29db36375ebb62d2517509bfe08c839f08378031]</a>)
   [<a href="/projects/32238/tickets/2210" title=
   "Ticket #2210">#2210</a> state:fixed-in-qa] KS was incorrect;
   autocapitalization isn't like autocorrection. It's an integer, not
   a boolean. (iPhone was implicitly converting the boolean, which is
   why it didn't crash) <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/29db36375ebb62d2517509bfe08c839f08378031" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/29db36375ebb62d2517509bfe08c839f08378031</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/29db36375ebb..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/29db36375ebb...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>crashes as of Titanium SDK version: 1.5.0 (12/10/10 08:19
   f37ab6c) G2 (2.2)</p>
   <p>D/KrollContext( 5388): (kroll$10) [1416,36540] Running evaluated
   script: app://examples/textfield_therest.js<br>
   D/dalvikvm( 5388): GC_FOR_MALLOC freed 12551 objects / 896680 bytes
   in 68ms<br>
   D/AndroidRuntime( 5388): Shutting down VM<br>
   W/dalvikvm( 5388): threadid=1: thread exiting with uncaught
   exception (group=0x4001d7e0)<br>
   E/TiUncaughtHandler( 5388): (main) [284,36824] Sending event:
   exception on thread: main msg:java.lang.NumberFormatException:
   Unable to convert java.lang.Boolean; Titanium 1.5.0,2010/12/10
   08:19,37ab6c<br>
   E/TiUncaughtHandler( 5388): java.lang.NumberFormatException: Unable
   to convert java.lang.Boolean<br>
   E/TiUncaughtHandler( 5388): at
   org.appcelerator.titanium.util.TiConvert.toInt(TiConvert.java:221)<br>
   E/TiUncaughtHandler( 5388): at
   org.appcelerator.titanium.util.TiConvert.toInt(TiConvert.java:225)<br>
   E/TiUncaughtHandler( 5388): at
   ti.modules.titanium.ui.widget.TiUIText.handleKeyboard(TiUIText.java:287)<br>
   E/TiUncaughtHandler( 5388): at
   ti.modules.titanium.ui.widget.TiUIText.propertyChanged(TiUIText.java:185)<br>
   E/TiUncaughtHandler( 5388): at
   org.appcelerator.kroll.KrollPropertyChange.fireEvent(KrollPropertyChange.java:21)<br>
   E/TiUncaughtHandler( 5388): at
   org.appcelerator.kroll.KrollProxy.handleMessage(KrollProxy.java:431)<br>
   E/TiUncaughtHandler( 5388): at
   org.appcelerator.titanium.proxy.TiViewProxy.handleMessage(TiViewProxy.java:269)<br>
   E/TiUncaughtHandler( 5388): at
   android.os.Handler.dispatchMessage(Handler.java:95)<br>
   E/TiUncaughtHandler( 5388): at
   android.os.Looper.loop(Looper.java:123)<br>
   E/TiUncaughtHandler( 5388): at
   android.app.ActivityThread.main(ActivityThread.java:4627)<br>
   E/TiUncaughtHandler( 5388): at
   java.lang.reflect.Method.invokeNative(Native Method)<br>
   E/TiUncaughtHandler( 5388): at
   java.lang.reflect.Method.invoke(Method.java:521)<br>
   E/TiUncaughtHandler( 5388): at
   com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:868)<br>
   E/TiUncaughtHandler( 5388): at
   com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)<br>
   E/TiUncaughtHandler( 5388): at
   dalvik.system.NativeStart.main(Native Method)</p>
   <p>back to Ralf</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/feeaeaa52ebba42ee8b49ee235f6aa29a0e9cf31"
   title=
   "Changeset [feeaeaa52ebba42ee8b49ee235f6aa29a0e9cf31]">[feeaeaa52ebba42ee8b49ee235f6aa29a0e9cf31]</a>)
   Guh [<a href="/projects/32238/tickets/2210" title=
   "Ticket #2210">#2210</a> state:fixed-in-qa] Mea culpa; the last fix
   fixed Smoketest, not Kitchen Sink. That'll teach me to pay
   attention to paths. <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/feeaeaa52ebba42ee8b49ee235f6aa29a0e9cf31" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/feeaeaa52ebba42ee8b49ee235f6aa29a0e9cf31</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/feeaeaa52ebb..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/feeaeaa52ebb...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>looking good RC2 ipod touch 4.2.1</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2210.json">JSON Source</a></p>