---
title: "[TIMOB-2232] iPhones Activity Indicator continues spinning "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios, iphone</td></tr>
<tr><th>Reporter</th><td>SebastianK</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-04-15T03:14:18.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:29.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>After finishing a XHR request at the current nightly build of
1.4.2, the iPhone Activity Indicator does not stop to spin. The
error did not occur in a nightly build from the 24th of September.
The big issue is that the user thinks that there is still traffic
and gets nervous about his/her phone bill.</p>
<p>Please see here:<br>
<a href=
"<a href="http://developer.appcelerator.com/question/65381/iphones-activity-indicator-continues-after-load" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/65381/iphones-activity-indicator-continues-after-load</a>">
<a href="http://developer.appcelerator.com/question/65381/iphones-activity-i..." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/65381/iphones-activity-i...</a></a></p>
<p>Thanks for an urgent fix!</p></div>

<h3>Comments</h3>

<ol>
<li>crisredfi 2011-04-15

   <div><p>hi, we are having the same problem.</p>
   <p>I tried to make it stop by the comand .close() after the XHR
   code, but it's not always working at all.</p>
   <p>please it's urgent...</p>
   <p>thanks!!</p></div></li>
<li>SebastianK 2011-04-15

   <div><p>Here is my test case to reproduce the infinitely spinning
   activity indicator. I tried to make the test case as simple as
   possible and the bug still occurs. I tested unter Titanium Mobile
   Nightly Build of 1.4.2 from beginning November. The bug appears
   under iPhone Simulator and on an iPhone 3G with iOS 4.1. I also
   tried to set a timeout value or to close the xhr object but nothing
   helped:</p>
   <pre>
   <code>    Ti.API.info("fire XHR call");
       var url="<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>"; //place any url here
       var params={}; 
       var xhr = Titanium.Network.createHTTPClient();
       xhr.onreadystatechange = function()
       {
           if(this.readyState==4)
           {
               Ti.API.info("XHR call returns: "+this.responseText);
           }
       }
       xhr.onerror = function(){Ti.API.info("an error did occur");};
       xhr.open("GET", url);
       xhr.send(params);</code>
   </pre>
   <p>As you will see, the connection works fine, but the activity
   indicator continous spinning even after receiving of the data.</p></div></li>
<li>kevinwhinnery 2011-04-15

   <div><p>Sebastian,</p>
   <p>I pasted your code into a project running <a href=
   "<a href="http://builds.appcelerator.com.s3.amazonaws.com/index.html" rel="nofollow" target="_blank">http://builds.appcelerator.com.s3.amazonaws.com/index.html</a>">our
   latest build</a> on iOS 4.2 and everything seems to work as
   expected (call returns, outputs to console, and activity indicator
   in the status bar disappears. Maybe the the issue is related to
   your current combination of Titanium SDK and iOS SDK?</p></div></li>
<li>SebastianK 2011-04-15

   <div><p>Kevin,</p>
   <p>it works now after an update to the latest nightly build of
   1.4.3 - thanks!</p>
   <p>Sebastian</p></div></li>
<li>kevinwhinnery 2011-04-15

   <div><p>cool - closing</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2232.json">JSON Source</a></p>