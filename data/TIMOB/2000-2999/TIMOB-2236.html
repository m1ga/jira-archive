---
title: "[TIMOB-2236] Android: Can't Update Properties of a Map Annotation"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-11T23:19:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-11 API</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, module_map, qe-testadded, training</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2011-04-15T03:14:26.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-12T11:49:10.000+0000</td></tr>
</table>

<h3>Description</h3>

Updating the properties (ex: title, subtitle) of an annotation proxy are being ignored.

<h4>Test Case</h4>
<code><pre>
var win = Ti.UI.createWindow();

var mountainView = Titanium.Map.createAnnotation({
    latitude:37.390749,
    longitude:-122.081651,
    title:"Appcelerator Headquarters",
    subtitle:'Mountain View, CA',
    pincolor:Titanium.Map.ANNOTATION_RED,
    animate:true,
    leftButton: '../images/appcelerator_small.png',
    myid:1 // Custom property to uniquely identify this annotation.
});

var mapview = Ti.Map.createView({
	width: 500, height: 500,
	mapType: Titanium.Map.STANDARD_TYPE,
	region: {latitude:37.390749, longitude:-122.081651, 
	         latitudeDelta:0.01, longitudeDelta:0.01},
	annotations: [mountainView]
});
win.add(mapview);

mapview.addEventListener('click', function(e) {
	alert("click! annotation = " + e.annotation);
	e.annotation.title = "Found it!";
        e.annotation.subtitle = "Works!";
});

win.open();
</pre></code>

1. Try clicking the annotation.
2. An alert should pop up saying "click".
3. Check if the title and subtitle got updated.

Expected: title and subtitle changed
Actual: No changes happen, property updates ignored.


<h3>Comments</h3>

<ol>
<li>Josh Roesslein 2012-05-17

   Updated this ticket with test case since the linked HD ticket is long gone.
   This actually affects all properties on annotation in current master branch.</li>
<li>Ping Wang 2012-05-24

   Test case:
   <code><pre>
   var win = Ti.UI.createWindow({
   	backgroundColor: 'black'
   });
   
   var b = Ti.UI.createButton({
   	top: 100,
   	title: "change annotation"
   });
   b.addEventListener('click', function() {
       alert("click! annotation.title = " + mountainView.title);
       mountainView.title = "Found it!";
       mountainView.subtitle = "Works!";
   });
   win.add(b);
    
   var mountainView = Titanium.Map.createAnnotation({
       latitude:37.390749,
       longitude:-122.081651,
       title:"Appcelerator Headquarters",
       subtitle:'Mountain View, CA',
       pincolor:Titanium.Map.ANNOTATION_RED,
       animate:true,
       leftButton: '../images/appcelerator_small.png',
       myid:1 // Custom property to uniquely identify this annotation.
   });
    
   var mapview = Ti.Map.createView({
       width: 500, height: 500,
       mapType: Titanium.Map.STANDARD_TYPE,
       region: {latitude:37.390749, longitude:-122.081651, 
                latitudeDelta:0.01, longitudeDelta:0.01},
       annotations: [mountainView]
   });
   win.add(mapview);
    
   win.open();
   </pre></code>
   
   For functional test:
   1. click the pin to see the annotation title and subtitle.
   2. click the button.
   3. click the pin to check whether annotation title and subtitle are changed.
   
   Expected: The title and subtitle are changed.</li>
<li>Ping Wang 2012-05-24

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/2270" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2270</a></li>
<li>Dustin Hyde 2012-06-15

   Closing as Fixed.
   
   Verified via a modified version of Ping's code (below).
   
   The code was changed to fix the layout across screen-sizes, and prevent an emulator crash (TIMOB-9585) for non-existent image resources.
   
   SDK: 2.1.0.v20120615150353
   Studio: 2.1.0.201206141932
   OS: Snow Leopard
   Runtime: V8
   Devices Tested: Android Emulator 2.2, LG Revolution 2.3.6
   
   Test Case:
   
   1. Run code:
   
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: 'black',
       layout:'vertical'
   });
    
   var b = Ti.UI.createButton({
       title: "change annotation"
   });
   
   b.addEventListener('click', function() {
       alert("click! annotation.title = " + mountainView.title);
       mountainView.title = "Found it!";
       mountainView.subtitle = "Works!";
   });
   
   win.add(b);
     
   var mountainView = Titanium.Map.createAnnotation({
       latitude:37.390749,
       longitude:-122.081651,
       title:"Appcelerator Headquarters",
       subtitle:'Mountain View, CA',
       pincolor:Titanium.Map.ANNOTATION_RED,
       animate:true,
       myid:1
   });
     
   var mapview = Ti.Map.createView({
       mapType: Titanium.Map.STANDARD_TYPE,
       region: {latitude:37.390749, longitude:-122.081651, 
                latitudeDelta:0.01, longitudeDelta:0.01},
       annotations: [mountainView]
   });
   
   win.add(mapview);
     
   win.open();
   </pre></code>
   
   2. click the pin to see the annotation title and subtitle.
   3. click the update button.
   4. click the pin to check whether annotation title and subtitle are changed.
   
   Expected: The title and subtitle are changed.</li>
<li>Neha Chhabra 2012-07-11

   Reopening to update labels.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2236.json">JSON Source</a></p>