---
title: "[TIMOB-2245] iOS: Analytics error on shutdown 3.2 or earlier "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>3.2, analytics, ios</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:14:40.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:32.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>found on 3g iphone (3.1.2) 4th gen ipod (4.1) mobile sdk build
1.5.0.8846d87</p>
<p>1.3.2 or earlier, launch KS, connect to debug<br>
2.hit the home button to close the app, view output</p>
<p>results:<br>
Mon Nov 1 12:00:43 unknown
UIKitApplication:com.appcelerator.KitchenSink[0xa2f6][819] :
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> attempt to send analytics event but
no network. will try again in 15 seconds</p>
<p>regression (not seen on 1.4.1.1), not seen on 4.0+ devices when
quitting the running app (home, double click home button, quit the
app)</p></div>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2011-04-15

   <div><p>Notes to self:</p>
   <p>Not technically a regression. In 1.4, a deadlock stopped the
   message from even happening, but the end result was the same. The
   difference now is that we get to the error message instead of it
   being choked.</p>
   <p>Reason for 3.2 and earlier: This is the shutdown sequence that
   doesn't happen in 4.0 because of the multitasking.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/654075659f771536a034446317787d08bcd41928"
   title=
   "Changeset [654075659f771536a034446317787d08bcd41928]">[654075659f771536a034446317787d08bcd41928]</a>)
   [<a href="/projects/32238/tickets/2245" title=
   "Ticket #2245">#2245</a> state:fixed-in-qa] Analytics now uses
   reachability directly, and forces synchronous ASI (as comments
   indicated it always should have). <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/654075659f771536a034446317787d08bcd41928" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/654075659f771536a034446317787d08bcd41928</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/654075659f77..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/654075659f77...</a></a></p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Note that this update will involve a lot of "Reachability
   change" spam whenever an analytics event is fired, this is not a
   regression (just a side-effect). Strongly recommending that we just
   add Ti.Network 'change' listeners to watch reachability changes,
   and set reachability printing to 0 internally.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>iphone 3g 3.1.3, ipad 3.2 1.5.0.3ee6a97</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2245.json">JSON Source</a></p>