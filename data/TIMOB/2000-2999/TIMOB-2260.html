---
title: "[TIMOB-2260] Android: Email dialog test case generates runtime errors after selecting an image to attach "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0 M03</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, dialog, email, feature</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:15:02.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:34.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>1.BaseUI&gt; Views&gt; Email Dialog<br>
2.select an image when prompted to do so.</p>
<p>results, runtime error, chokes on:</p>
<p>E/KrollCallback( 3105): (kroll$4) [104,74708] ECMA Error
evaluating source, invocation: [callMethod Media.(anonymous)
org.appcelerator.titanium.kroll.KrollCallback@44f7ea78], message:
TypeError: Cannot find function isSupported in object
[Ti.UI.EmailDialog]. (app://examples/email_dialog.js#16)<br>
E/KrollCallback( 3105): org.mozilla.javascript.EcmaError:
TypeError: Cannot find function isSupported in object
[Ti.UI.EmailDialog]. (app://examples/email_dialog.js#16)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3761)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.ScriptRuntime.constructError(ScriptRuntime.java:3739)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.ScriptRuntime.typeError(ScriptRuntime.java:3767)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.ScriptRuntime.typeError2(ScriptRuntime.java:3786)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.ScriptRuntime.notFunctionError(ScriptRuntime.java:3850)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.ScriptRuntime.getPropFunctionAndThisHelper(ScriptRuntime.java:2343)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.ScriptRuntime.getPropFunctionAndThis(ScriptRuntime.java:2310)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1524)<br>
E/KrollCallback( 3105): at
script(app://examples/email_dialog.js:16)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.Interpreter.interpret(Interpreter.java:854)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:426)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3161)<br>
E/KrollCallback( 3105): at
org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:162)<br>
E/KrollCallback( 3105): at
org.appcelerator.titanium.kroll.KrollCallback$1.run(KrollCallback.java:97)<br>
E/KrollCallback( 3105): at
android.os.Handler.handleCallback(Handler.java:587)<br>
E/KrollCallback( 3105): at
android.os.Handler.dispatchMessage(Handler.java:92)<br>
E/KrollCallback( 3105): at
android.os.Looper.loop(Looper.java:123)<br>
E/KrollCallback( 3105): at
org.appcelerator.titanium.kroll.KrollHandlerThread.run(KrollHandlerThread.java:73)<br>
I/dalvikvm( 3105): Jit: resizing JitTable from 8192 to 16384</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>Thomas, assigning back to you so you can reclassify this on the
   test report. A new method was added in iPhone in this commit
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/cd60010df701b2d14a08f5f359d2d90a0ea81313" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/cd60010df701b2d14a08f5f359d2d90a0ea81313</a>">
   cd60010df701b2d14a08f5f359d2d90a0ea81313</a> and a feature ticket
   wasn't added for Android.</p>
   <p>Please assign this back to me after updating the report.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>ignore the original steps, bug was misreported. Test (BaseUI&gt;
   Views&gt; Email Dialog) has changed to include the following code
   block, which currently causes a crash on android (he says parroting
   Don above).</p>
   <p>if (!emailDialog.isSupported()) {</p>
   <pre>
   <code>     Ti.UI.createAlertDialog({
   
          title:'Error',
   
           message:'Email not available'
   
         }).show();
   
         return;   
       }</code>
   </pre></div></li>
<li>Don Thorp 2011-04-15

   <div><p>opening again. Been working on it since yesterday. The package
   manager is not giving me good information that the ACTION_SEND
   intent has handlers.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/3c4ab74e03c99b701bf9f5c5672152fa26ce4af8"
   title=
   "Changeset [3c4ab74e03c99b701bf9f5c5672152fa26ce4af8]">[3c4ab74e03c99b701bf9f5c5672152fa26ce4af8]</a>)
   [<a href="/projects/32238/tickets/2260" title=
   "Ticket #2260">#2260</a> state:fixed-in-qa] You must use a device
   and an emulator or an emulator with and without an email client to
   verify this feature. A stock emulator should return false because
   there is indeed no email client configured. You can add K9 to the
   emulator if you want an email client, but it's easier to use a
   device that's configure for email. <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/3c4ab74e03c99b701bf9f5c5672152fa26ce4af8" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/3c4ab74e03c99b701bf9f5c5672152fa26ce4af8</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/3c4ab74e03c9..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/3c4ab74e03c9...</a></a></p></div></li>
<li>Matt Schmulen 2011-04-15

   <div><p>Failed on device (1.5) (via kitchen sink example ) BaseUI&gt;
   Views&gt; Email Dialog. Titanium SDK version: 1.5.0 (11/24/10 12:05
   c0aff27)</p>
   <p>Location:<br>
   [16,0] app://examples/email_dialog.js</p>
   <p>Message:<br>
   TypeError: Cannot find function isSupported in object
   [Ti.UI.EmailDialog].(app://examples/email_dialog.js#16)</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Matt, I just reverified with a newer build,
   735911a6fa4c85f450dc, but it should be in the one you pulled. It
   might be that it didn't push successfully to the phone.</p></div></li>
<li>Matt Schmulen 2011-04-15

   <div><p>resolved android 1.6/2.1 Titanium SDK version: 1.5.0 (12/03/10
   10:38 33c2058), KS</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2260.json">JSON Source</a></p>