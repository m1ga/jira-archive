---
title: "[TIMOB-2281] iOS: option to download directly to a file"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios, iphone</td></tr>
<tr><th>Reporter</th><td>Damien Elmes</td></tr>
<tr><th>Assignee</th><td>Ralf Pfeiffer</td></tr>
<tr><th>Created</th><td>2011-04-15T03:15:32.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:38.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Currently it is not possible to download files larger than free
memory, and XHR is prone to leaking (see <a href=
"<a href="http://developer.appcelerator.com/helpdesk/view/50581" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/50581</a>"><a href="http://developer.appcelerator.com/helpdesk/view/50581" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/50581</a></a>
for a reproducible test case). Providing the ability to save
directly to a file (which is supported by ASIHTTPRequest) would
work around these issues.</p>
<p>Android suffers from the same problem which is being tracked on
<a href=
"<a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/1381" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/1381</a>">
<a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/1381" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/1381</a></a></p></div>

<h3>Comments</h3>

<ol>
<li>Kai Pradel 2011-04-15

   <div><p>Big bump! Can't believe this is still a bug after so long. Hope
   to see this resolved soon.</p>
   <p>Kai</p></div></li>
<li>Damien Elmes 2011-04-15

   <div><p>Can I humbly suggest this should be more than low priority? The
   leak is severe and can cause devices to actually reboot if the OOM
   handler doesn't fire in time. If file-backing is too much work for
   now, I'd settle for a fix for the leak described on that helpdesk
   ticket.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Sure. Ralf just hasn't triaged it yet. I'll go ahead and bump
   this one.</p></div></li>
<li>Damien Elmes 2011-04-15

   <div><p>Thanks a lot</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/05ab7461dab9a38200a27d082389d2885be951f8"
   title=
   "Changeset [05ab7461dab9a38200a27d082389d2885be951f8]">[05ab7461dab9a38200a27d082389d2885be951f8]</a>)
   [<a href="/projects/32238/tickets/2281" title=
   "Ticket #2281">#2281</a> state:fixed-in-qa] Added iOS support for
   downloading to a file (and modded KS 'XHR download' test to test it
   - also tested on Android for consistency) <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/05ab7461dab9a38200a27d082389d2885be951f8" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/05ab7461dab9a38200a27d082389d2885be951f8</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/05ab7461dab9..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/05ab7461dab9...</a></a></p></div></li>
<li>Damien Elmes 2011-04-15

   <div><p>Thanks a lot for this. I'm still seeing my app's memory
   consumption creep up over time, but it's a lot slower with this fix
   in place, and it should go a long ways towards reducing crashes due
   to memory issues.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>We're aware of the memory leak problems involving XHR and will
   work on them as soon as possible. Bug <a href=
   "/projects/32238/tickets/2299" title="Ticket #2299">#2299</a> will
   allow you to track our progress on this.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>closing against 1.5.0.8f4eea3 ipod touch 4GT (4.2.1) KS test XHR
   download</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2281.json">JSON Source</a></p>