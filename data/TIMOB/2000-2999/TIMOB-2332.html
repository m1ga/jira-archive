---
title: "[TIMOB-2332] Saving Video to gallery produces crash on iOS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:58:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, gallery, ios, ipad, iphone, photo</td></tr>
<tr><th>Reporter</th><td>ctredway</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T03:16:55.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:58:47.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Running on iOS 4.1 using latest 1.5 when saving a video to the
photogallery produces a random crash. Sometimes it works, sometimes
it doesn't.</p>
<p>Code:</p>
<pre>
<code>Titanium.Media.showCamera({

success:function(event)
{
    var video = event.media;
    Titanium.Media.saveToPhotoGallery(video);
},
cancel:function()
{

},
error:function(error)
{
    // create alert
    var a = Titanium.UI.createAlertDialog({title:'Video'});

    // set message
    if (error.code == Titanium.Media.NO_VIDEO)
    {
        a.setMessage('Device does not have video recording capabilities');
    }
    else
    {
        a.setMessage('Unexpected error: ' + error.code);
    }

    // show alert
    a.show();
},
mediaTypes: Titanium.Media.MEDIA_TYPE_VIDEO,
videoMaximumDuration:10000,
videoQuality:Titanium.Media.QUALITY_HIGH</code>
</pre>
<p>});</p>
<p>HD Ticket:<br>
<a href=
"<a href="http://developer.appcelerator.com/helpdesk/view/46701" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/46701</a>"><a href="http://developer.appcelerator.com/helpdesk/view/46701" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/46701</a></a></p></div>

<h3>Comments</h3>

<ol>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/737544df76c6853f05f47c172d34b90e26e15f3d"
   title=
   "Changeset [737544df76c6853f05f47c172d34b90e26e15f3d]">[737544df76c6853f05f47c172d34b90e26e15f3d]</a>)
   [<a href="/projects/32238/tickets/2332" title=
   "Ticket #2332">#2332</a> state:fixed-in-qa] I thought I put in this
   nil in case a second arg wasn't passed. Whoops. It's fixed now.
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/737544df76c6853f05f47c172d34b90e26e15f3d" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/737544df76c6853f05f47c172d34b90e26e15f3d</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/737544df76c6..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/737544df76c6...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>closed against KS save to gallery video test 1.5.0.8f4eea3 ipod
   touch 4GT (4.2.1)</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Putting in 1.5.0 where it was fixed.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2332.json">JSON Source</a></p>