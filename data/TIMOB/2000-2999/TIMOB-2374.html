---
title: "[TIMOB-2374] Android: Modules Should Support platform Folder"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-05-06T10:06:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-11</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, feature, release-1.7.0, tooling</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:18:08.000+0000</td></tr>
<tr><th>Updated</th><td>2011-05-06T10:06:18.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Some modules may want to ship resources to be merged into
<code>/res</code> we should take care of that during
install/build.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-2374_18141/tifranzi-android-01.zip">tifranzi-android-01.zip</td></td><td>2011-04-15T03:18:08.000+0000</td><td>137530</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>We are moving this to 1.5.1. If you run into the issue with a
   custom module or you publish a custom module. You will need to have
   the user of the module merge any Android resources into their
   platform/android/res/... folders and files as necessary for the
   module to perform.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/42d21873eda3eb8076b61c38ce69d4d5bb4de53b"
   title=
   "Changeset [42d21873eda3eb8076b61c38ce69d4d5bb4de53b]">[42d21873eda3eb8076b61c38ce69d4d5bb4de53b]</a>)
   Copy platform/ folder contents from app modules into build/android,
   for any modules that are used in an app. [<a href=
   "/projects/32238/tickets/2374" title="Ticket #2374">#2374</a>]
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/42d21873eda3eb8076b61c38ce69d4d5bb4de53b" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/42d21873eda3eb8076b61c38ce69d4d5bb4de53b</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/42d21873eda3..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/42d21873eda3...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/3a52eae800b9fdf07c6ae9031910464566dcf9d4"
   title=
   "Changeset [3a52eae800b9fdf07c6ae9031910464566dcf9d4]">[3a52eae800b9fdf07c6ae9031910464566dcf9d4]</a>)
   When building module, put platform/ folder (if any) in the zip, but
   not in the jar (was doing the latter accidentally earlier).
   [<a href="/projects/32238/tickets/2374" title=
   "Ticket #2374">#2374</a>] <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/3a52eae800b9fdf07c6ae9031910464566dcf9d4" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/3a52eae800b9fdf07c6ae9031910464566dcf9d4</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/3a52eae800b9..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/3a52eae800b9...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>Also this commit:</p>
   <p><a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/c8bb9ef1ba384e3c098ac9b58" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/c8bb9ef1ba384e3c098ac9b58</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/c8bb9ef1ba38..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/c8bb9ef1ba38...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>For QE:</p>
   <ul>
   <li>
   <p>Create a new application.</p>
   </li>
   <li>
   <p>In the app's tiapp.xml, add this to the
   <code>&lt;modules&gt;</code> section:</p>
   <pre>
   <code>  &lt;module platform="android" version="0.1"&gt;ti.franzi&lt;/module&gt;</code>
   </pre></li>
   <li>
   <p>Copy the attached zip file (it's a test module) into the
   project's root folder.</p>
   </li>
   <li>
   <p>Make this the project's app.js:</p>
   </li>
   </ul>
   <pre>
   <code class="javascript">Titanium.UI.setBackgroundColor('#000');
   var win = Titanium.UI.createWindow({  
       title:'Test',
       backgroundColor:'#000',
       exitOnClose: true,
       fullscreen: false
   });
   win.add(Ti.UI.createImageView({
       image: Ti.App.Android.R.drawable.fj,
       width:200, height:267
   }));
   win.open();</code>
   </pre>
   <ul>
   <li>
   <p>Run the app in Android. (No need to test iOS, because there are
   no uses of the platform/ folder in iOS projects and modules.)</p>
   </li>
   <li>
   <p>When the app opens, you should see a photograph on the
   screen.</p>
   </li>
   </ul>
   <p><strong>Explanation</strong></p>
   <p>The zip file you installed is an Android Titanium module. When
   it gets expanded into the <code>modules/</code> folder in your
   project (which occurs automatically when the project is built),
   you'll see it has a
   <code>platform/android/res/drawable/fj.png</code> file in it. That
   png file is the photo you see when you run the app.</p>
   <p>So the photo file is <em>not</em> one of your project's
   <code>Resources/</code> files, but rather comes from the external,
   installed ("third-party", if you want) module. If the photo
   successfully displays, it proves that the module's
   <code>platform/</code> folder and its sub-contents were
   successfully merged into <code>build/android</code> when your app
   was built, which is the purpose of this ticket.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>I don't know if it matters (I don't think it does) but
   Lighthouse stripped dots out of the filename for that zip file
   attached here. the filename should be ti.franzi-android-0.1.zip.
   But I'm pretty sure it doesn't matter what the filename is. Just
   plop it in your project's root folder.</p></div></li>
<li>Don Thorp 2011-05-06

   Tested on a Nexus One 2.3.4</li>
</ol>


<p><a href="/TIMOB/TIMOB-2374.json">JSON Source</a></p>