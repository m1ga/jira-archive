---
title: "[TIMOB-2378] Android: alert dialog - basic alert - returns unexpected values when dismissing "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-11-05T13:38:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-25, Release 1.7.2, Release 1.8.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>regression</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:18:16.000+0000</td></tr>
<tr><th>Updated</th><td>2011-11-05T13:38:48.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>1.5.0.fb4b340. G2 (2.2) 2.1 emulator. g1 (1.6)</p>
<p>1.Base UI &gt; Alert<br>
2.Tap Basic Alert button<br>
3.tap back button<br>
4.read values shown</p>
<p>results: -268435457. if you then test a nother one of the
alerts, then try this one again, you'll get a value of "1"</p>
<p>previously (1.4.2) no value was returned here.</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-06-21

   This behavior is actually proper, or at worst "undefined" (and definitely looks odd.)
   
   Android basic alerts have no button (unlike iOS, which needs the OK button to get rid of the alert).  Therefore when the event occurs, the selected index is undefined (and that weird huge negative number, which is actually <code>-1 &= ~BUTTON_MASK</code> .  
   
   The action of backing out of the Android basic alert (which has no buttons) is considered a "cancel".  And the other tests below the basic one explicitly set the cancel value to 1: <code>a.cancel = 1;</code>.  The same instance of the alert dialog is re-used over and over for these tests, so the next time the top test (the basic alert) is called, the value for cancelation will be 1 (because those other tests set it to that.)  Thus the 1.
   
   It also doesn't make sense (for Android) that the alert message is "One Button", since there is no button.</li>
<li>Don Thorp 2011-06-22

   Reviewed and functional test passed.</li>
<li>Don Thorp 2011-06-23

   merged to 1_7_X</li>
<li>Alan Vaghti 2011-07-08

   As noted, the results are expected.
   
   Passed as expected on Nexus One running 2.2.2, Android Emulator running 2.3.3, Galaxy Tab running 2.2.1, and Xoom tablet running 3.1. System used: OSX 10.6.8, TiStudio 1.0.1.201106171427.
   
   Passed on both SDK 1.7.2.v20110707155439:
   version=1.7.2
   timestamp=07/07/11 15:54
   githash=3d44999...
   and SDK 1.8.0.v20110708082651
   version=1.8.0
   timestamp=07/08/11 08:26
   githash=3e25122...</li>
<li>Don Thorp 2011-11-05

   Fixing labels.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2378.json">JSON Source</a></p>