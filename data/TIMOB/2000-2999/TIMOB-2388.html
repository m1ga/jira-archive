---
title: "[TIMOB-2388] Android: File.toString() fails"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2011-04-15T03:18:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, json, regression, tostring</td></tr>
<tr><th>Reporter</th><td>Robby</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-04-15T03:18:25.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-09T23:16:53.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Fails when trying to read in JSON data from a file. E.g.</p>
<pre>
<code>var slFile = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, slFilePath);
var slFileData = slFile.read();
Ti.API.info("JSON Data is: '" + slFileData.toString() + "'");
slCachedData = JSON.parse(slFileData.toString());</code>
</pre>
<p>Where slFilePath is a valid path to a .json file with valid JSON
data in it (this code works fine under iPhone with the same data).
The above prints out "[INFO] [27,24101] JSON Data is: '[object
TiBlob]'". Because the conversion to string does not work, I then
get a JSON parse error:</p>
<pre>
<code>[TRACE] E/KrollMethod( 450): (kroll$3) [4,24105] Exception calling kroll method parse, invocation: [callMethod JSON.parse ti.modules.titanium.json.JSONModuleBindingGen$2@451a19f0"json"=[object TiBlob]]
[TRACE] E/KrollMethod( 450): org.json.JSONException: Unterminated array at character 9 of [object TiBlob]</code>
</pre>
<p>Makes sense as it's trying to parse that string as JSON, which
it isn't.</p></div>

<h3>Comments</h3>

<ol>
<li>Robby 2011-04-15

   <div><p>Oops. Missed this post at:</p>
   <p><a href=
   "<a href="http://developer.appcelerator.com/question/33111/object-tiblob-response-of-tostring" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/33111/object-tiblob-response-of-tostring</a>">
   <a href="http://developer.appcelerator.com/question/33111/object-tiblob-resp..." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/33111/object-tiblob-resp...</a></a></p>
   <p>Wierd it's working on the iPhone though. This ticket can be
   closed.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>Right.</p></div></li>
<li>Lee Morris 2017-03-09

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2388.json">JSON Source</a></p>