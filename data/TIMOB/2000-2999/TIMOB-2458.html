---
title: "[TIMOB-2458] iPad Orientation Bug on start"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-10-27T15:17:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-36, Release 1.8.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ipad, module_orientation, orientation, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Adriano Paladini</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-04-15T03:20:18.000+0000</td></tr>
<tr><th>Updated</th><td>2013-08-30T09:11:56.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Hi, everbody<br>
I have a serious problem in iPad orientation.</p>
<p>This error ocurred in 1.4.3 and 1.5.0 (11/29/2010).</p>
<p>My app has this code:</p>
<pre>
<code>var win = Ti.UI.createWindow({
    backgroundImage: 'img/bkg.png',
    orientationModes: [Ti.UI.PORTRAIT, Ti.UI.UPSIDE_PORTRAIT, Ti.UI.LANDSCAPE_RIGHT, Ti.UI.LANDSCAPE_LEFT]
});</code>
</pre>
<p>and in tiapp.xml:</p>
<pre>
<code>&lt;orientations device="ipad"&gt;
            &lt;orientation&gt;Ti.UI.PORTRAIT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.UPSIDE_PORTRAIT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.LANDSCAPE_LEFT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.LANDSCAPE_RIGHT&lt;/orientation&gt;
        &lt;/orientations&gt;</code>
</pre>
<p>My app start normal in Portrait, and rotate normal, but if i put
iPad on Landscape before, and open my app, it show a landscape
splash and switch to a portrait window in landscape mode.</p>
<p>Creating a window that is cut down and with black border the
side.</p>
<p>Sorry for my poor english, i'm Brazilian.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2458_22835/OrientationTest.zip">OrientationTest.zip</td></td><td>2011-09-06T17:06:01.000+0000</td><td>1581804</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2458_18623/photo 1.PNG">photo 1.PNG</td></td><td>2011-06-02T14:04:28.000+0000</td><td>25196</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2458_18624/photo 2.PNG">photo 2.PNG</td></td><td>2011-06-02T14:04:28.000+0000</td><td>25179</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Adriano Paladini 2011-04-15

   <div><p>Hi, i teste the final version of 1.5.0 and now this was
   corrected.</p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>Going to mark this resolved, test submitted to internal
   tests.</p></div></li>
<li>Pedro Enrique 2011-04-15

   <div><p>Sorry to reopen, but this is still happening.</p>
   <p>Changed tiapp.xml to:</p>
   <pre>
   <code>&lt;iphone&gt;
           &lt;orientations device="ipad"&gt;
               &lt;orientation&gt;Ti.UI.LANDSCAPE_LEFT&lt;/orientation&gt;
               &lt;orientation&gt;Ti.UI.LANDSCAPE_RIGHT&lt;/orientation&gt;
           &lt;/orientations&gt;
   &lt;/iphone&gt;</code>
   </pre>
   <p>The build/iphone/ directory was emptied before testing.</p>
   <p>Tested on iPad Simulator with iPad-KS<br>
   Ti API 1.6 (Feb 4 2011 17:12 r349debe8)</p>
   <p>Please refer to this HD ticket for details:<br>
   <a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/71251#c336281" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/71251#c336281</a>"><a href="http://developer.appcelerator.com/helpdesk/view/71251#c336281" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/71251#c336281</a></a></p></div></li>
<li>Stephen Tramer 2011-04-15

   <div><p>This is not a bug. Apple's documentation specifies that the
   first orientation listed in the Info.plist, when enforced, is the
   orientation that your app is forced into before starting. This is
   not something we can change.</p>
   <p>IN ORDER TO GET AROUND THIS:</p>
   <ul>
   <li>Do not list any specified orientations for your tiapp.xml</li>
   <li>Only specify orientations on a per-page basis in your .js
   files</li>
   </ul></div></li>
<li>Ygor Lemos 2011-04-15

   <div><p>Ok. But how can I do it for a SplitView app ? Will it work on
   1.5.1 ?</p></div></li>
<li>Ygor Lemos 2011-04-15

   <div><p>Also this does not change the fact that splitWindow is not
   obeying orientation... even when you set it explicitly, iPad keeps
   rotating the screen:</p>
   <p>splitWin = Ti.UI.iPad.createSplitWindow({<br></p>
   <pre>
   <code>masterView:poteTMS.masterNav,
   detailView:poteTMS.detailNav,
   orientationModes:[ Titanium.UI.LANDSCAPE_LEFT,Titanium.UI.LANDSCAPE_RIGHT ]</code>
   </pre>
   <p>});</p>
   <p>Even with this piece of code on app.js and the proposed
   workaround, the window turns around with accelerometer...</p>
   <p>Tested under 1.5.1 and continuous build
   1.6.0-20110204141203-osx</p></div></li>
<li>Ygor Lemos 2011-04-15

   <div><p>As for Apple official iOS4 Documentation:</p>
   <blockquote>
   <p>A split view controller relies on its two view controllers to
   determine whether interface orientation changes should be made. If
   one or both of the view controllers do not support the new
   orientation, no change is made. This is true even in portrait mode,
   where the first view controller is not displayed. Therefore, you
   must override the shouldAutorotateToInterfaceOrientation: method
   for both view controllers and return YES for all supported
   orientations.</p>
   </blockquote>
   <p>So the override is not being made I guess...</p>
   <p>Reference: (<a href=
   "<a href="https://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/iPadControllers/iPadControllers.html#//apple_ref/doc/uid/TP40007457-CH6-SW1" rel="nofollow" target="_blank">https://developer.apple.com/library/ios/#featuredarticles/ViewControllerPGforiPhoneOS/iPadControllers/iPadControllers.html#//apple_ref/doc/uid/TP40007457-CH6-SW1</a>"><a href="https://developer.apple.com/library/ios/#featuredarticles/ViewContr..." rel="nofollow" target="_blank">https://developer.apple.com/library/ios/#featuredarticles/ViewContr...</a></a>)</p></div></li>
<li>Ygor Lemos 2011-04-15

   <div><p>Nevermind, what you got to do is the following:</p>
   <p><strong>On tiapp.xml you need:</strong></p>
   <pre>
   <code>&lt;orientations device="ipad"&gt;
       &lt;orientation&gt;Ti.UI.LANDSCAPE_LEFT&lt;/orientation&gt;
       &lt;orientation&gt;Ti.UI.LANDSCAPE_RIGHT&lt;/orientation&gt;
   &lt;/orientations&gt;</code>
   </pre>
   <p><strong>On your splitWindow declaration, you need:</strong></p>
   <pre>
   <code>xxx.splitView = Ti.UI.iPad.createSplitWindow({
       masterView: xxx.masterNav,
       detailView: xxx.detailNav,
       orientationModes:[ Ti.UI.LANDSCAPE_LEFT,Ti.UI.LANDSCAPE_RIGHT ]
   });</code>
   </pre>
   <p><strong>And -on both- your views / windows (master and detail),
   you need:</strong></p>
   <pre>
   <code>xxx.masterWindow = Ti.UI.createWindow({
       title:'Nav Menu',
       backgroundColor:'#e8ecef',
       orientationModes:[ Ti.UI.LANDSCAPE_LEFT,Ti.UI.LANDSCAPE_RIGHT ]
   });</code>
   </pre>
   <p>Setting orientationModes on splitWindow, master and detail views
   / windows now forces the splitWindow based app to never rotate.</p>
   <p>This should be documented...</p>
   <p>Thanks.</p></div></li>
<li>Alan Leard 2011-04-15

   <div><p>Even with everything listed above set, if you start the
   application in Portrait mode (when only landscape is available),
   the first time it loads, you still get a split second rotation that
   shouldn't happen.</p>
   <p>View here: <a href=
   "<a href="http://screencast.com/t/71qQBMM7G" rel="nofollow" target="_blank">http://screencast.com/t/71qQBMM7G</a>"><a href="http://screencast.com/t/71qQBMM7G" rel="nofollow" target="_blank">http://screencast.com/t/71qQBMM7G</a></a></p>
   <p>Testing on device, built with 1.6RC1</p>
   <p>Reference Ticket: <a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/74261" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/74261</a>"><a href="http://developer.appcelerator.com/helpdesk/view/74261" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/74261</a></a></p></div></li>
<li>Stephen Tramer 2011-04-15

    <div><p>This might be an apple bug, have to move it to TBS.</p></div></li>
<li>Ralf Pfeiffer 2011-04-26

    There is unclarity on this issue, so we will push to reevaluate this in next release's planning process. </li>
<li>Jon Alter 2011-06-02

    Another repro case. If you set the orientation to Portrait only in tiapp.xml and then run the code below. When you start the app, hold the iPad up in landscape(it does not do it consistently if it is laying down). You will see that the navBar does not go to the top where it should. You will see the screen rotate (would rather not see this) and then the navBar will be set down from where it should be (see attached pictures).
    
    <code><pre>
    &lt;orientations device="ipad"&gt;
    	&lt;orientation&gt;Ti.UI.PORTRAIT&lt;/orientation&gt;
    &lt;/orientations&gt;
    </pre></code>
    
    <code><pre>
    Titanium.UI.setBackgroundColor('#f00');
    	
    var mainWin = Titanium.UI.createWindow({
    	orientationModes:[Titanium.UI.PORTRAIT]
    });
    
    var mainMenuWin = Titanium.UI.createWindow({
    	title: "I'm the navBar - too low!!",
    	backgroundColor:"#00f"
    });
    var nav = Titanium.UI.iPhone.createNavigationGroup({
    	window: mainMenuWin
    });
    mainWin.add(nav);
    
    mainWin.open();
    mainWin.addEventListener('open', function(e){
    	setTimeout( function(){
    		// mainWin.add(nav);
    	}, 500);
    });
    </pre></code>
    
    <h4>Workaround</h4>
    Add your elements to the window a short amount of time after the window opens.
    <code><pre>
    mainWin.addEventListener('open', function(e){
    	setTimeout( function(){
    		mainWin.add(nav);
    	}, 500);
    });
    </pre></code>
    
    <h4>Tested With</h4>
    TiSDK 1.7.0.RC1
    iPad 1 3.2.2
    
    <h4>Associated Helpdesk Ticket</h4>
    <a href="http://appc.me/c/APP-521248" rel="nofollow" target="_blank">http://appc.me/c/APP-521248</a>
    </li>
<li>Thomas Huelbert 2011-06-27

    3.2 only - not seen on newer revs of OS - 1.7.2.v20110624152637</li>
<li>Stephen Tramer 2011-06-27

    Confirmed to appear only on 3.2 devices. Pre-4.0 support is being dropped for release 1.8.0, and there is no reason to keep an iPad device at a version below 4.2.</li>
<li>Pedro Enrique 2011-09-06

    Reopening.
    
    <h4>tiapp.xml</h4>
    <code><pre>
    &lt;orientations device="ipad"&gt;
    	&lt;orientation&gt;Ti.UI.PORTRAIT&lt;/orientation&gt;
    	&lt;orientation&gt;Ti.UI.UPSIDE_PORTRAIT&lt;/orientation&gt;
    	&lt;orientation&gt;Ti.UI.LANDSCAPE_LEFT&lt;/orientation&gt;
    	&lt;orientation&gt;Ti.UI.LANDSCAPE_RIGHT&lt;/orientation&gt;
    &lt;/orientations&gt;
    </pre></code>
    <h4>app.js</h4>
    <code><pre>
    var win = Ti.UI.createWindow({
      backgroundColor:'#fff',
      orientationModes:[
        Titanium.UI.LANDSCAPE_LEFT,
        Titanium.UI.LANDSCAPE_RIGHT,
        Titanium.UI.PORTRAIT,
        Titanium.UI.UPSIDE_PORTRAIT,
      ]
    });
    
    
    var label = Ti.UI.createLabel({
      text:'Hello World',
      width:'auto',
      height:'auto'
    });
    
    win.add(label);
    
    win.open();
    </pre></code>
    <h4>To Reproduce:</h4>
    
    Launch app in any orientation besides portrait.
    
    <h4>Expected behavior:</h4>
    
    The app launches in it's current orientation mode.
    
    <h4>What really happens:</h4>
    
    The app launches always in portrait.
    
    Environment:
    <code><pre>
    iPad Simulator 4.3
    iPad device 4.3.3
    Ti SDK 1.8.0.v20110906105416
    </pre></code></li>
<li>Reggie Seagraves 2011-09-14

    Resolved by <a href="https://github.com/appcelerator/titanium_mobile/pull/464." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/464.</a>
    </li>
<li>Alan Vaghti 2011-09-15

    Fix verified on iPad 4.3.5 and iPad 2 4.3.5.
    
    SDK used for testing: 1.8.0v20110915101349</li>
</ol>


<p><a href="/TIMOB/TIMOB-2458.json">JSON Source</a></p>