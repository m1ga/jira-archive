---
title: "[TIMOB-2487] Android: Implement Urban Airship Module."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:59:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M07</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, feature, module, release-1.6.0</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Nathaniel McCallum</td></tr>
<tr><th>Created</th><td>2011-04-15T03:21:02.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:59:14.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Module for UA API. Use same Titanium API as iPhone.</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>Moving to 1.5.1 M01 since it's not tied to 1.5.0</p></div></li>
<li>Taazza 2011-04-15

   <div><p>Don .. We were hoping for this in 1.5.. Any chance u can bring
   it into 1.5.1? Push notification is one of the most requested
   feature!</p>
   <p>Let us know if we can help test it. Cheers!</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>This module will be released when we roll out the market in
   2011.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>using <a href="/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (01/10/11
   08:25 3452f06) and a droid1 (2.2.1) and the sim, I fail and see the
   following output...</p>
   <p>I/ActivityManager( 1088): Displayed activity
   com.appcelerator.android.uatest2/org.appcelerator.titanium.TiActivity:
   315 ms (total 315 ms)<br>
   D/TitaniumModule( 4239): (kroll$4) [285,972] Attempting to include
   native module: ti.urbanAirship<br>
   D/TitaniumModule( 4239): (kroll$4) [2,974] Succesfully loaded
   module: urbanAirship/1.0<br>
   E/TiUIView( 4239): (main) [8754,9728] TAP, TAP, TAP on
   [Ti.UI.Button]<br>
   I/TiAPI ( 4239): (kroll$4) [4,9732] Registering... If you do not
   already have AirMail installed, you will be prompted to install it.
   Go ahead and do so.<br>
   D/UA.push ( 4239): Registering<br>
   D/AirMail ( 3859): CoreReceiver action:
   com.urbanairship.airmail.START_REGISTER<br>
   D/AirMail ( 3859): Not scheduling AirMailService restart, app is
   valid<br>
   D/AirMail ( 3859): sending valid: com.appcelerator.android.uatest2,
   true<br>
   D/AirMail ( 3859): extIntentName:
   com.urbanairship.airmail.END_REGISTER<br>
   D/UrbanAirshipModule( 4239): (main) [78,9810] Got apid:
   0e930e7b-8113-4010-9d2d-afec1552d230<br>
   I/TiAPI ( 4239): (kroll$4) [2,9812] Successfully registered. APID:
   0e930e7b-8113-4010-9d2d-afec1552d230<br>
   D/dalvikvm( 3859): GC_EXPLICIT freed 228 objects / 12992 bytes in
   69ms<br>
   D/dalvikvm( 4910): GC_EXPLICIT freed 1775 objects / 117896 bytes in
   76ms<br>
   D/dalvikvm( 1783): GC_EXPLICIT freed 1977 objects / 156008 bytes in
   64ms<br>
   D/dalvikvm( 1768): GC_EXPLICIT freed 83 objects / 3584 bytes in
   92ms<br>
   D/dalvikvm( 1211): GC_EXPLICIT freed 143 objects / 6232 bytes in
   84ms<br>
   D/AirMail ( 3859): response read<br>
   D/AirMail ( 3859): Got appid: com.appcelerator.android.uatest2<br>
   I/AirMail ( 3859): Message 3409bf90-48d7-4e6c-8fea-60226e26439c
   received.<br>
   E/JavaBinder( 3859): !!! FAILED BINDER TRANSACTION !!!<br>
   I/AirMail ( 3859): Unexpected exception in Helium connection.
   Network type=WIFI<br>
   E/AirMail ( 3859): null<br>
   E/AirMail ( 3859): java.lang.RuntimeException: bad array
   lengths<br>
   E/AirMail ( 3859): at
   android.os.Parcel.readIntArray(Parcel.java:677)<br>
   E/AirMail ( 3859): at
   android.app.INotificationManager$Stub$Proxy.enqueueNotificationWithTag(INotificationManager.java:275)<br>
   E/AirMail ( 3859): at
   android.app.NotificationManager.notify(NotificationManager.java:110)<br>
   E/AirMail ( 3859): at
   android.app.NotificationManager.notify(NotificationManager.java:90)<br>
   E/AirMail ( 3859): at
   com.urbanairship.airmail.Relier.showNotification(Relier.java:401)<br>
   E/AirMail ( 3859): at
   com.urbanairship.airmail.Relier.deliverPush(Relier.java:353)<br>
   E/AirMail ( 3859): at
   com.urbanairship.airmail.Helium.handleNotification(Helium.java:129)<br>
   E/AirMail ( 3859): at
   com.urbanairship.airmail.Helium.readResponse(Helium.java:96)<br>
   E/AirMail ( 3859): at
   com.urbanairship.airmail.ConnectionThread.run(ConnectionThread.java:70)<br>
   I/AirMail ( 3859): Setting failure count for 75.101.253.33:1227 to
   1<br>
   I/AirMail ( 3859): Rescheduling connection in 10000ms.<br>
   I/AirMail ( 3859): Service started with intent=Intent {
   act=com.urbanairship.airmail.RECONNECT flg=0x4
   cmp=com.urbanairship.airmail/.AirMailService (has extras) }<br>
   I/AirMail ( 3859): Reconnecting...<br>
   I/AirMail ( 3859): Connecting to 75.101.253.33:1227<br>
   I/wpa_supplicant( 1719): CTRL-EVENT-STATE-CHANGE id=1 state=6
   BSSID=00:00:00:00:00:00<br>
   V/WifiMonitor( 1088): Event [CTRL-EVENT-STATE-CHANGE id=1 state=6
   BSSID=00:00:00:00:00:00]<br>
   I/wpa_supplicant( 1719): WPA: Group rekeying completed with
   00:21:e9:b8:cd:15 [GTK=CCMP]<br>
   I/wpa_supplicant( 1719): CTRL-EVENT-STATE-CHANGE id=1 state=7
   BSSID=00:00:00:00:00:00<br>
   I/wpa_supplicant( 1719): CTRL-EVENT-STATE-CHANGE id=1 state=6
   BSSID=00:00:00:00:00:00<br>
   I/wpa_supplicant( 1719): WPA: Group rekeying completed with
   00:21:e9:b8:cd:15 [GTK=CCMP]<br>
   I/wpa_supplicant( 1719): CTRL-EVENT-STATE-CHANGE id=1 state=7
   BSSID=00:00:00:00:00:00<br>
   V/WifiStateTracker( 1088): Changing supplicant state: COMPLETED
   ==&gt; GROUP_HANDSHAKE<br>
   V/WifiMonitor( 1088): Event [WPA: Group rekeying completed with
   00:21:e9:b8:cd:15 [GTK=CCMP]]<br>
   V/WifiMonitor( 1088): Event [CTRL-EVENT-STATE-CHANGE id=1 state=7
   BSSID=00:00:00:00:00:00]<br>
   V/WifiStateTracker( 1088): Changing supplicant state:
   GROUP_HANDSHAKE ==&gt; COMPLETED<br>
   V/WifiMonitor( 1088): Event [CTRL-EVENT-STATE-CHANGE id=1 state=6
   BSSID=00:00:00:00:00:00]<br>
   V/WifiStateTracker( 1088): Changing supplicant state: COMPLETED
   ==&gt; GROUP_HANDSHAKE<br>
   V/WifiMonitor( 1088): Event [WPA: Group rekeying completed with
   00:21:e9:b8:cd:15 [GTK=CCMP]]<br>
   V/WifiMonitor( 1088): Event [CTRL-EVENT-STATE-CHANGE id=1 state=7
   BSSID=00:00:00:00:00:00]<br>
   I/AirMail ( 3859): Connection established to /75.101.253.33:1227 on
   network type WIFI<br>
   V/WifiStateTracker( 1088): Changing supplicant state:
   GROUP_HANDSHAKE ==&gt; COMPLETED<br>
   D/AirMail ( 3859): Size: 262<br>
   I/AirMail ( 3859): Resetting failure count for 75.101.253.33:1227
   to 0.<br>
   D/AirMail ( 3859): response read<br>
   D/AirMail ( 3859): Registration response received!<br>
   D/AirMail ( 3859): Valid: com.appcelerator.android.uatest2<br>
   D/AirMail ( 3859): Invalid:<br>
   D/AirMail ( 3859): Relier(com.appcelerator.android.uatest2):
   Assigning enabled to 1<br>
   D/AirMail ( 3859): sending valid: com.appcelerator.android.uatest2,
   true<br>
   D/AirMail ( 3859): extIntentName:
   com.urbanairship.airmail.END_REGISTER<br>
   D/UrbanAirshipModule( 4239): (main) [73200,83012] Got apid:
   0e930e7b-8113-4010-9d2d-afec1552d230<br>
   I/TiAPI ( 4239): (kroll$4) [2,83014] Successfully registered. APID:
   0e930e7b-8113-4010-9d2d-afec1552d230<br>
   D/dalvikvm( 3859): GC_EXPLICIT freed 2760 objects / 201080 bytes in
   75ms</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Moving somewhere we can look at it.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>ready for testing. Testing instructions sent via e-mail</p></div></li>
<li>Opie Cyrus 2011-04-15

   <div><p>Verified for me on Droid2 2.2</p>
   <p>Going to let Thomas set the issue to resolved though I was just
   a second set of eyes.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>using apk provided by Bill, I can confirm on a nexus s (2.3) G1
   (1.6) and galaxy pad (2.2.2)</p></div></li>
<li>Anthony Webb 2011-04-15

   <div><p>Is this something that pro developers can test as well? I'd love
   to give it a whirl, we use UA for push right now on the iphone side
   and our android apps need the same functionality. Thanks.</p></div></li>
<li>Don Thorp 2011-04-15

    <div><p>@Anthony. Ask in Heldesk. I'm not 100% sure how PS/Support is
    handling it, but that would be where you find out.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2487.json">JSON Source</a></p>