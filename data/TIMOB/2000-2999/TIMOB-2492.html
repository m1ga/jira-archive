---
title: "[TIMOB-2492] Android: Custom JS Activities don't correctly pre-parse the URL attribute"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:59:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.5.0 M05</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>activity, android, defect</td></tr>
<tr><th>Reporter</th><td>Marshall Culpepper</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-04-15T03:21:10.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:59:15.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>We need to factor out the URL normalizing code of TiUIWindow
into a new utility method that TiJSActivity can use</p></div>

<h3>Comments</h3>

<ol>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/8db06f035b6a2b9571e946a4a6cea7f44351d14a"
   title=
   "Changeset [8db06f035b6a2b9571e946a4a6cea7f44351d14a]">[8db06f035b6a2b9571e946a4a6cea7f44351d14a]</a>)
   a new TiUrl class that centralizes the window normalizing and
   context / baseUrl resolving methods that are used in TiContext and
   TiUIWindow.<br>
   TiJSActivity and TiUIWindow now both use TiUrl for normalizing
   urls<br>
   passed in by users. added more constants to TiC for Button and
   Label,<br>
   some formatting fixes [<a href="/projects/32238/tickets/2492"
   title="Ticket #2492">#2492</a> state:fixed-in-qa]<br>
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/8db06f035b6a2b9571e946a4a6cea7f44351d14a" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/8db06f035b6a2b9571e946a4a6cea7f44351d14a</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/8db06f035b6a..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/8db06f035b6a...</a></a></p></div></li>
<li>Ralf Pfeiffer 2011-04-15

   <div><p>Marshall, please have someone validate this and place in
   resolved state.</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/8378aae473445cec3ec7a5bf3fbd10192bad8953"
   title=
   "Changeset [8378aae473445cec3ec7a5bf3fbd10192bad8953]">[8378aae473445cec3ec7a5bf3fbd10192bad8953]</a>)
   added a drillbit test to verify the jsActivity url bug [<a href=
   "/projects/32238/tickets/2492" title="Ticket #2492">#2492</a>
   state:resolved] <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/8378aae473445cec3ec7a5bf3fbd10192bad8953" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/8378aae473445cec3ec7a5bf3fbd10192bad8953</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/8378aae47344..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/8378aae47344...</a></a></p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2492.json">JSON Source</a></p>