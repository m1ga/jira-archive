---
title: "[TIMOB-2508] iPhone animation resets to center on each execution"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:59:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M07</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios, iphone, release-1.6.0</td></tr>
<tr><th>Reporter</th><td>Kevin Whinnery</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-04-15T03:21:31.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:59:18.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>The following animation technique is broken in the current 1.5
continuous builds. Verified on iOS. <a href=
"<a href="http://developer.appcelerator.com/question/86311/ios---sdk-150---imageview-resets-to-center-before-animating" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/86311/ios---sdk-150---imageview-resets-to-center-before-animating</a>">
Community question</a> Attached movie showing behavior:</p>
<pre>
<code class="javascript">Titanium.UI.setBackgroundColor('#000');

var win = Titanium.UI.createWindow({  
    title:'Window',
    backgroundColor:'#fff',
    backButtonName:'Back'
});

var imageView=Ti.UI.createImageView({
    image:'default_app_logo.png',
    zIndex:1
});

var moveImageOneSecButton=Ti.UI.createButton({
    title:'Move: Duration 1 Sec',
    top: 10,
    width:200,
    height:40,
    zIndex:2
});

moveImageOneSecButton.addEventListener('click', function(){
        var newX=imageView.center.x + 10;
        var newY=imageView.center.y + 10;
        imageView.animate({
            center: {
                x: newX,
                y: newY
            },
            duration: 1000
        });
        imageView.center.x=newX;
        imageView.center.y=newY;
});

var moveImageOneMilliButton=Ti.UI.createButton({
    title:'Move: Duration 1 millisec',
    top: 60,
    width:200,
    height:40,
    zIndex:2
});

moveImageOneMilliButton.addEventListener('click', function(){
        var newX=imageView.center.x + 10;
        var newY=imageView.center.y + 10;
        imageView.animate({
            center: {
                x: newX,
                y: newY
            },
            duration: 1
        });

});

var resetImageButton=Ti.UI.createButton({
    title:'Reset Image',
    top: 110,
    width:200,
    height:40,
    zIndex:2
});

resetImageButton.addEventListener('click', function(){
        var newX=win.center.x;
        var newY=win.center.y;
        imageView.animate({
            center: {
                x: newX,
                y: newY
            },
            duration: 1
        });

});

win.add(imageView);
win.add(moveImageOneSecButton);
win.add(moveImageOneMilliButton);
win.add(resetImageButton);

win.open();</code>
</pre></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2508_18158/export_20101206-101018.mov">export_20101206-101018.mov</td></td><td>2011-04-15T03:21:32.000+0000</td><td>2400339</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2011-04-15

   <div><p>Code is being checked in, but part of the issue is that the
   <em>current</em> iphone spec ignores x and y when width or height
   is missing. The animation was still using x and y, against the
   spec, and the layout was honoring the spec, setting things
   fullscreen.</p>
   <p>Short version: After the code checkin, the animation will work,
   but you MUST specify a width and height to the view, even if it's
   'auto' or a percentage.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/83683409c6e93e0977241a2fb5ca9229220ed902"
   title=
   "Changeset [83683409c6e93e0977241a2fb5ca9229220ed902]">[83683409c6e93e0977241a2fb5ca9229220ed902]</a>)
   [<a href="/projects/32238/tickets/2508" title=
   "Ticket #2508">#2508</a> state:fixed-in-qa] Center is properly
   stored into the proxy's layoutProperties, which makes animation
   correct <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/83683409c6e93e0977241a2fb5ca9229220ed902" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/83683409c6e93e0977241a2fb5ca9229220ed902</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/83683409c6e9..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/83683409c6e9...</a></a></p></div></li>
<li>Alan Leard 2011-04-15

   <div><h3>Successful iOS Simulator, iOS Device, and Android Emulator test
   on 01/26/2011</h3>
   <ul>
   <li>iOS Simulator Results: <em>animates properly</em></li>
   <li>iPhone Results: <em>animates properly</em><br></li>
   <li>Emulator Results: <em>animates properly</em></li>
   </ul>
   <hr>
   <p>Mobile SDK version: 1.6.0 (01/25/11 13:33 1f1dd51...)</p>
   <p>Device/Version: iPhone 4 / 4.2.1</p>
   <p>Simulator Version: 4.2 (235)</p>
   <p>Emulator SDK: APIs 2.1</p></div></li>
<li>Nikolai Derzhak 2011-04-15

   rollback wrong update</li>
</ol>


<p><a href="/TIMOB/TIMOB-2508.json">JSON Source</a></p>