---
title: "[TIMOB-2563] Android: region-specific i18n files need to be copied to res with "r" in front of region"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:59:27.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M02</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, release-1.6.0</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:22:54.000+0000</td></tr>
<tr><th>Updated</th><td>2014-05-24T16:07:43.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Yourproject/i18n/pt-PT/strings.xml works fine for iOS, but when
built for Android it causes a build error:</p>
<pre>
<code>[ERROR] invalid resource directory name: /Users/bill/projects/ti/Strings/build/android/res/values-pt-BR
[ERROR] Error generating R.java from manifest</code>
</pre>
<p>Reason is because in android it needs to be values-pt-rBR (the
little 'r' before BR). See Language and Region section of Android's
<a href=
"<a href="http://developer.android.com/guide/topics/resources/providing-resources.html" rel="nofollow" target="_blank">http://developer.android.com/guide/topics/resources/providing-resources.html</a>">
Providing Resources</a> doc.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-2563_18166/lh2563.zip">lh2563.zip</td></td><td>2011-04-15T03:22:56.000+0000</td><td>777359</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>To QA,</p>
   <p>For testing, the attached ZIP file contains a project you can
   import. It has the i18n directory that we use for localized
   strings, and one of the subfolders there is fr-BE, for belgian
   french. In the failing versions of the sdk, if you try to build it
   you'll get an error about that folder being a bad name. In the
   fixed version, it should build without problem.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/34d7f80a2a35d83721ef6bbdb932b3a26be472b2"
   title=
   "Changeset [34d7f80a2a35d83721ef6bbdb932b3a26be472b2]">[34d7f80a2a35d83721ef6bbdb932b3a26be472b2]</a>)
   [<a href="/projects/32238/tickets/2563" title=
   "Ticket #2563">#2563</a> state:fixed-in-qa] For i18n folders with
   region-specifications, like fr-BE, make sure the file copied to
   Android's res folder gets an 'r' in front of the region. <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/34d7f80a2a35d83721ef6bbdb932b3a26be472b2" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/34d7f80a2a35d83721ef6bbdb932b3a26be472b2</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/34d7f80a2a35..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/34d7f80a2a35...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>built without an issue for 1.6 and 2.2.1, Do not have device
   with belgian french available though. itanium SDK version: 1.6.0
   (01/04/11 08:01 e49700d)</p></div></li>
<li>Brian Burgess 2014-01-26

   this is happening again in 3.2.0 .. at least when I am trying with 'zh-TW'.</li>
<li>Andr√© Coelho 2014-05-24

   Brian is right, this is happening again. I have an i18n folder with an en and pt-PT folder and it works when I deploy on iOS, if I deploy an Android it aborts the build with an error. if I change to pt-rPT it works on Android but then when I deploy on iOS it won't work, falling back to en strings.xml values, even though the system language is pt-PT. Please fix this, it is a major inconvenience for app localisation.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2563.json">JSON Source</a></p>