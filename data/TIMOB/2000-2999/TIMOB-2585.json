{
	"id": "63217",
	"key": "TIMOB-2585",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "11244",
				"name": "Release 1.7.0",
				"archived": true,
				"released": true,
				"releaseDate": "2011-06-13"
			},
			{
				"id": "11245",
				"name": "Sprint 2011-10",
				"archived": true,
				"released": true,
				"releaseDate": "2011-03-14"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2011-04-17T01:59:31.000+0000",
		"created": "2011-04-15T03:23:30.000+0000",
		"priority": {
			"name": "Medium",
			"id": "3"
		},
		"labels": [
			"android",
			"defect",
			"enterprise",
			"klist",
			"release-1.7.0",
			"reported-1.5.0",
			"rplist"
		],
		"versions": [],
		"issuelinks": [],
		"assignee": {
			"name": "dthorp",
			"key": "dthorp",
			"displayName": "Don Thorp",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"updated": "2011-04-17T01:59:31.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10202",
				"name": "Android",
				"description": "Android Platform"
			}
		],
		"description": "{html}<div><p>This issue is making me nuts! :-)</p>\n<p>I have broken my app into small, manageable pieces and link\nthings together using Titanium.include and the 'url' property when\ncreating a new window.</p>\n<p>Both of these require a 'path' to a .js file. The trouble is,\none platform seems to want it relative to the root and the other\nrelative to where the file is being included from. The url property\nused to be the same (iphone vs android) until 1.5, but after I\nupgraded today I found that it had changed on android requiring me\nto fiddle the paths to get the app working again.</p>\n<p>Can we please have it one way or the other on all platforms? I\nam trying to build a core of code that will work across all\nplatforms and having to deal with varying path models is just\nmaking my code that much more complex.</p>\n<p>Thanks.</p></div>{html}",
		"attachment": [
			{
				"id": "18168",
				"filename": "resources.zip",
				"author": {
					"name": "hal",
					"key": "hal",
					"displayName": "hal",
					"active": true,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2011-04-15T03:23:31.000+0000",
				"size": 118873,
				"mimeType": "application/zip"
			}
		],
		"flagged": false,
		"summary": "Include paths for iphone and android are not based on the same starting point",
		"creator": {
			"name": "pault",
			"key": "pault",
			"displayName": "PaulT",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"subtasks": [],
		"reporter": {
			"name": "pault",
			"key": "pault",
			"displayName": "PaulT",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"environment": null,
		"comment": {
			"comments": [
				{
					"id": "128859",
					"author": {
						"name": "dtoth",
						"key": "dtoth",
						"displayName": "Dawson Toth",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "{html}<div><h2>Associated Helpdesk Ticket</h2>\n<p><a href=\n\"http://developer.appcelerator.com/helpdesk/view/62271\">http://developer.appcelerator.com/helpdesk/view/62271</a></p>\n<p>We have an enterprise client and a premium client pushing for\nconsistency as well.</p></div>{html}",
					"updateAuthor": {
						"name": "dtoth",
						"key": "dtoth",
						"displayName": "Dawson Toth",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2011-04-15T03:23:31.000+0000",
					"updated": "2011-04-15T03:23:31.000+0000"
				},
				{
					"id": "128860",
					"author": {
						"name": "johnwelch",
						"key": "johnwelch",
						"displayName": "John Welch",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>Thank you for the escalation.</p></div>{html}",
					"updateAuthor": {
						"name": "johnwelch",
						"key": "johnwelch",
						"displayName": "John Welch",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:32.000+0000",
					"updated": "2011-04-15T03:23:32.000+0000"
				},
				{
					"id": "128861",
					"author": {
						"name": "dthorp",
						"key": "dthorp",
						"displayName": "Don Thorp",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>To be discussed next week to identify the underlying issue.</p></div>{html}",
					"updateAuthor": {
						"name": "dthorp",
						"key": "dthorp",
						"displayName": "Don Thorp",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:32.000+0000",
					"updated": "2011-04-15T03:23:32.000+0000"
				},
				{
					"id": "128862",
					"author": {
						"name": "johnwelch",
						"key": "johnwelch",
						"displayName": "John Welch",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>Attached is an example project showing the issue. I don't know\nif the example is overkill but this is how I am seeing the problem\nwith another project.</p>\n<p>The file contained in /include/folder2/other_file.js has the\nfollowing:</p>\n<pre>\n<code class=\"javascript\">// This works for iPhone: \n// Titanium.include(\"../../include/folder/file.js\");\n\n// This works for Android &amp; errors for iPhone:\nTitanium.include(\"/include/folder/file.js\");\n\nalert(\"A variable != \" + theMessage);</code>\n</pre>\n<p>I've built and tested this using\nmobilesdk-1.6.0-20110106161536-osx.zip.</p>\n<p>I'm guessing the issue it somewhere in loadAppResource method,\nbut who knows... Going to try to figure something out tomorrow.</p></div>{html}",
					"updateAuthor": {
						"name": "johnwelch",
						"key": "johnwelch",
						"displayName": "John Welch",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:32.000+0000",
					"updated": "2011-04-15T03:23:32.000+0000"
				},
				{
					"id": "128863",
					"author": {
						"name": "andreassandberg",
						"key": "andreassandberg",
						"displayName": "Andreas sandberg",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>This ticket is also probably related to LH <a href=\n\"/projects/32238/tickets/1986\" title=\"Ticket #1986\">#1986</a>. Same\nfailure/results for images specified with absolute urls.</p></div>{html}",
					"updateAuthor": {
						"name": "andreassandberg",
						"key": "andreassandberg",
						"displayName": "Andreas sandberg",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:32.000+0000",
					"updated": "2011-04-15T03:23:32.000+0000"
				},
				{
					"id": "128864",
					"author": {
						"name": "johnwelch",
						"key": "johnwelch",
						"displayName": "John Welch",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>I have two projects at a stand still due to this bug. Is there a\ncurrent ETA for this issue to be resolved?</p></div>{html}",
					"updateAuthor": {
						"name": "johnwelch",
						"key": "johnwelch",
						"displayName": "John Welch",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:32.000+0000",
					"updated": "2011-04-15T03:23:32.000+0000"
				},
				{
					"id": "128865",
					"author": {
						"name": "indy",
						"key": "indy",
						"displayName": "Indy",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>So, the work-around would be be use case statement around each\ninclude()?</p>\n<p>ie: if( Utils.isIOS() ) {\nTi.include('include/utils/dashboard.js') } else {\nTi.include('utils/dashboard.js') }</p>\n<p>from ticket <a href=\"/projects/32238/tickets/62271\" title=\n\"Ticket #62271\">#62271</a></p></div>{html}",
					"updateAuthor": {
						"name": "indy",
						"key": "indy",
						"displayName": "Indy",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:33.000+0000",
					"updated": "2011-04-15T03:23:33.000+0000"
				},
				{
					"id": "128866",
					"author": {
						"name": "hal",
						"key": "hal",
						"displayName": "hal",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>Just to summarize paths <strong>for images</strong>, this has\njust been tested on iOS 4.2 / Ti 1.6.0 (3 Feb 2011) with the\nfollowing results for both the <code>image</code> and\n<code>backgroundImage</code> properties of imageView (using the\nsimple project attached):</p>\n<pre>\n<code>image: 'card/'+i+'.png', // no leading slash (relative) works\nimage: './card/'+i+'.png', // leading dot and slash works\nimage: '/card/'+i+'.png', // leading slash does *not* work\nimage: 'app://card/'+i+'.png', // leading \"app://\" does *not* work</code>\n</pre>\n<p>The same code and tests on Android APIs 2.2 / Ti 1.6.0 (2 Feb\n2011) work for all of the above 4 paths.</p>\n<p>Note, I have not tested a relative parent path (double-dot and\nslash), ie <code>../</code></p></div>{html}",
					"updateAuthor": {
						"name": "hal",
						"key": "hal",
						"displayName": "hal",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:33.000+0000",
					"updated": "2011-04-15T03:23:33.000+0000"
				},
				{
					"id": "128867",
					"author": {
						"name": "dtoth",
						"key": "dtoth",
						"displayName": "Dawson Toth",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "{html}<div><p>I've updated the ticket so that it is properly tagged, given\nthat their is HD interest and enterprise interest in its\nresolution.</p>\n<h1>Unofficial Workaround</h1>\n<p>Unofficially (aka unsupported, at least through here), you might\nwant to take a look at the work I did on the redux library's\n\"include\" function. It lets you do absolute includes on both\nAndroid and iOS from any folder, to any folder. It may be a\nsuitable workaround until the core code is fixed.</p>\n<p>Here is a link straight to the relevant function. It isn't\nreliant on any other functions in redux, so it should be easy to\nrip out. It operates off of what the platform osname is and the\ndepth of the currentWindow's url.</p>\n<p><a href=\n\"https://github.com/dawsontoth/Appcelerator-Titanium-Redux/blob/master/redux.js#L164\">\nhttps://github.com/dawsontoth/Appcelerator-Titanium-Redux/blob/mast...</a></p></div>{html}",
					"updateAuthor": {
						"name": "dtoth",
						"key": "dtoth",
						"displayName": "Dawson Toth",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2011-04-15T03:23:33.000+0000",
					"updated": "2011-04-15T03:23:33.000+0000"
				},
				{
					"id": "128868",
					"author": {
						"name": "jalter",
						"key": "jalter",
						"displayName": "Jon Alter",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>Another customer interested in this<br></p>\n<h2>Associated Helpdesk Ticket</h2>\n<p><a href=\n\"http://developer.appcelerator.com/helpdesk/view/74251\">http://developer.appcelerator.com/helpdesk/view/74251</a></p></div>{html}",
					"updateAuthor": {
						"name": "jalter",
						"key": "jalter",
						"displayName": "Jon Alter",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:34.000+0000",
					"updated": "2011-04-15T03:23:34.000+0000"
				},
				{
					"id": "128869",
					"author": {
						"name": "johnwelch",
						"key": "johnwelch",
						"displayName": "John Welch",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>Can more information related to this bug be released to the\ncommunity/paid devs? ETA maybe?</p></div>{html}",
					"updateAuthor": {
						"name": "johnwelch",
						"key": "johnwelch",
						"displayName": "John Welch",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:34.000+0000",
					"updated": "2011-04-15T03:23:34.000+0000"
				},
				{
					"id": "128870",
					"author": {
						"name": "dthorp",
						"key": "dthorp",
						"displayName": "Don Thorp",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>Bill, We'll probably need to generate or find the iOS ticket\nthat goes with this. Drillbit tests of correct behavior will speed\nthe iOS fixes.</p></div>{html}",
					"updateAuthor": {
						"name": "dthorp",
						"key": "dthorp",
						"displayName": "Don Thorp",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:35.000+0000",
					"updated": "2011-04-15T03:23:35.000+0000"
				},
				{
					"id": "128871",
					"author": {
						"name": "billdawson",
						"key": "billdawson",
						"displayName": "Bill Dawson",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "{html}<div><p>(from <a href=\n\"/projects/32238/changesets/b1ea8d3e0c31c5078f52380552b078d9eb3b0d25\"\ntitle=\n\"Changeset [b1ea8d3e0c31c5078f52380552b078d9eb3b0d25]\">[b1ea8d3e0c31c5078f52380552b078d9eb3b0d25]</a>)\nNew \"includes\" drillbit test suite to test Ti.include() [<a href=\n\"/projects/32238/tickets/2585\" title=\"Ticket #2585\">#2585</a>]\n<a href=\n\"https://github.com/appcelerator/titanium_mobile/commit/b1ea8d3e0c31c5078f52380552b078d9eb3b0d25\">\nhttps://github.com/appcelerator/titanium_mobile/commit/b1ea8d3e0c31...</a></p></div>{html}",
					"updateAuthor": {
						"name": "billdawson",
						"key": "billdawson",
						"displayName": "Bill Dawson",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2011-04-15T03:23:35.000+0000",
					"updated": "2011-04-15T03:23:35.000+0000"
				},
				{
					"id": "128872",
					"author": {
						"name": "billdawson",
						"key": "billdawson",
						"displayName": "Bill Dawson",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "{html}<div><p>Related commit: <a href=\n\"https://github.com/appcelerator/titanium_mobile/commit/dbac80a64d0dec1ce02d327f21226ad9aac6483d\">\nhttps://github.com/appcelerator/titanium_mobile/commit/dbac80a64d0d...</a></p></div>{html}",
					"updateAuthor": {
						"name": "billdawson",
						"key": "billdawson",
						"displayName": "Bill Dawson",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2011-04-15T03:23:36.000+0000",
					"updated": "2011-04-15T03:23:36.000+0000"
				},
				{
					"id": "128873",
					"author": {
						"name": "billdawson",
						"key": "billdawson",
						"displayName": "Bill Dawson",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "{html}<div><p>QE: This is the Android ticket re pathing in Ti.include(). A set\nof drillbit tests to be sure that Ti.include() can handle relative\nand absolute pathing has been added to drillbit (see the \"includes\"\ntest suite in drillbit.) Android passes those tests but at that\nmoment iOS doesn't. iOS will be handled in ticket <a href=\n\"/projects/32238/tickets/3349\" title=\"Ticket #3349\">#3349</a>, so\nfor purposes of setting this to resolved you need only test the\nAndroid part in drillbit.</p></div>{html}",
					"updateAuthor": {
						"name": "billdawson",
						"key": "billdawson",
						"displayName": "Bill Dawson",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2011-04-15T03:23:36.000+0000",
					"updated": "2011-04-15T03:23:36.000+0000"
				},
				{
					"id": "128874",
					"author": {
						"name": "billdawson",
						"key": "billdawson",
						"displayName": "Bill Dawson",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "{html}<div><p>Interested parties follow <a href=\"/projects/32238/tickets/3349\"\ntitle=\"Ticket #3349\">#3349</a> for the iOS part.</p></div>{html}",
					"updateAuthor": {
						"name": "billdawson",
						"key": "billdawson",
						"displayName": "Bill Dawson",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2011-04-15T03:23:36.000+0000",
					"updated": "2011-04-15T03:23:36.000+0000"
				},
				{
					"id": "128875",
					"author": {
						"name": "nhuynh",
						"key": "nhuynh",
						"displayName": "Natalie Huynh",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>Tested with Titanium SDK version: 1.7.0 (03/15/11 11:42\n1f6dbfe)<br>\nRan Drillbit on Emulator 2.1, ran includes test suite all pass<br>\nrelativeDown true 9 Success<br>\nslashToRoot true 16 Success<br>\ndotdotSlash true 23 Success<br>\ndotSlash true 23 Success<br>\nlotsOfDots true 37 Success</p></div>{html}",
					"updateAuthor": {
						"name": "nhuynh",
						"key": "nhuynh",
						"displayName": "Natalie Huynh",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:37.000+0000",
					"updated": "2011-04-15T03:23:37.000+0000"
				},
				{
					"id": "128876",
					"author": {
						"name": "billdawson",
						"key": "billdawson",
						"displayName": "Bill Dawson",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "{html}<div><p>(from <a href=\n\"/projects/32238/changesets/dbac80a64d0dec1ce02d327f21226ad9aac6483d\"\ntitle=\n\"Changeset [dbac80a64d0dec1ce02d327f21226ad9aac6483d]\">[dbac80a64d0dec1ce02d327f21226ad9aac6483d]</a>)\nRe-work absoluteUrl() to better handle relative pathing for\nincludes and such. [<a href=\"/projects/32238/tickets/2585\" title=\n\"Ticket #2585\">#2585</a>] <a href=\n\"https://github.com/appcelerator/titanium_mobile/commit/dbac80a64d0dec1ce02d327f21226ad9aac6483d\">\nhttps://github.com/appcelerator/titanium_mobile/commit/dbac80a64d0d...</a></p></div>{html}",
					"updateAuthor": {
						"name": "billdawson",
						"key": "billdawson",
						"displayName": "Bill Dawson",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2011-04-15T03:23:37.000+0000",
					"updated": "2011-04-15T03:23:37.000+0000"
				},
				{
					"id": "128877",
					"author": {
						"name": "dthorp",
						"key": "dthorp",
						"displayName": "Don Thorp",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "{html}<div><p>Since a new iOS ticket has been created, converting this to\nAndroid only.</p></div>{html}",
					"updateAuthor": {
						"name": "dthorp",
						"key": "dthorp",
						"displayName": "Don Thorp",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2011-04-15T03:23:38.000+0000",
					"updated": "2011-04-15T03:23:38.000+0000"
				}
			],
			"maxResults": 19,
			"total": 19,
			"startAt": 0
		}
	}
}