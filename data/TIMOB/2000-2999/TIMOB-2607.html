---
title: "[TIMOB-2607] Android: ImageView Fails When Loading Remote Image"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:59:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M05</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, imageview, regression, release-1.6.0, reported-1.5.0, rplist</td></tr>
<tr><th>Reporter</th><td>Ryan Asleson</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:24:32.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:59:35.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Hello,</p>
<p>After upgrading to the Titanium 1.5 and 1.5.1 SDK, my
application can no longer load remote images via an ImageView on
Android. It causes a force close. If I build with the previous
1.4.2 SDK the problem goes away, so I'm pretty sure it's a
regression in the new SDK.</p>
<p>I built a test case that seems to demonstrate the problem. Use
the attached app.js in a new project and deploy the attached image
to a local server, then update line 34 in the attached app.js to
use the URL to the image. When you run the project (I used the 2.3
emulator) it will fail sometime after it loads the image; if you
use the 1.4.2 SDK it won't fail.</p>
<p>I hope the test case helps track down the issue. This is a show
stopper for my application. Thank you so much for all the great
work on Appcelerator Titanium!!</p>
<p>-Ryan</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-2607_18175/app.js">app.js</td></td><td>2011-04-15T03:24:34.000+0000</td><td>2025</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-2607_18174/login-photo.jpg">login-photo.jpg</td></td><td>2011-04-15T03:24:34.000+0000</td><td>31931</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ryan Asleson 2011-04-15

   <div><p>It looks like other users are seeing it too:</p>
   <p><a href=
   "<a href="http://developer.appcelerator.com/question/91101/imageview-problem-after-upgrading-to-151" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/91101/imageview-problem-after-upgrading-to-151</a>">
   <a href="http://developer.appcelerator.com/question/91101/imageview-problem-..." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/91101/imageview-problem-...</a></a></p></div></li>
<li>Richard Brents 2011-04-15

   <div><p>Not sure if this is the proper venue, but ...</p>
   <p>I reported a similar problem via the forums (<a href=
   "<a href="http://developer.appcelerator.com/question/91101/imageview-problem-after-upgrading-to-151)" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/91101/imageview-problem-after-upgrading-to-151)</a>"><a href="http://developer.appcelerator.com/question/91101/imageview-problem-..." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/91101/imageview-problem-...</a></a>.
   Originally I thought my problem was the same as this ticket, but
   now I'm not so sure.</p>
   <p>For me, I can make the remote image fail every time if the phone
   (Android, 2.2) is plugged in via the USB port for either <em>USB
   Mass Storage</em> or <em>Charge Only</em> modes. But if the phone
   is plugged in via <em>PC Mode</em> or <em>Windows Media Syne</em>
   modes, the remote image load works flawlessly every time.</p>
   <p>So I'm not sure if this is really related or not - but I wanted
   to mention it ...</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Updating state to reflect current status.</p></div></li>
<li>Dawson Toth 2011-04-15

   <div><p>Got a pro client asking for this fix as well.</p>
   <h1>Simpler Sample Code</h1>
   <pre>
   <code class=
   "javascript">var win = Ti.UI.createWindow({title: 'Broken Image on Android', backgroundColor: '#fff'});
   win.add(Titanium.UI.createImageView({
       top: 0, left: 0,
       height: 48, width: 320,
       canScale: true,
       image: '<a href="http://ads.farmcentric.com/banners/1/2010/PioneerHBus_rgb_320x48.jpg" rel="nofollow" target="_blank">http://ads.farmcentric.com/banners/1/2010/PioneerHBus_rgb_320x48.jpg</a>'
   }));
   win.open();</code>
   </pre>
   <h1>Tested On</h1>
   <p>Titanium Mobile 1.6.0 pulled January 8th, 2011<br>
   WORKS on iPhone Simulator 4.2<br>
   BROKEN on Android Simulator 2.2</p>
   <h2>Associated Helpdesk Ticket</h2>
   <p><a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/64041" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/64041</a>"><a href="http://developer.appcelerator.com/helpdesk/view/64041" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/64041</a></a></p></div></li>
<li>Anthony Webb 2011-04-15

   <div><p>This one is preventing me from taking my android app live. I'd
   also like to see this bug fixed soon if possible.</p></div></li>
<li>hal 2011-04-15

   <div><p><a href=
   "<a href="http://developer.appcelerator.com/question/99781/remote-images-not-loading-in-160-on-android-imageview" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/99781/remote-images-not-loading-in-160-on-android-imageview</a>">
   This question</a> in the Q&amp;A confirms it's not working for
   1.6.0, although user claims 1.5.1 works OK.</p></div></li>
<li>Anthony Webb 2011-04-15

   <div><p>Verified, working in 1.5.1, thanks for the tip hal.</p></div></li>
<li>kevinwhinnery 2011-04-15

   <div><p>request from two pro seats is to include this fix on the 1.5.x
   branch, but it looks like it might be there already? Should verify
   before closing ticket in any case.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/608046073c1c29c58a000397404c44897c4c7d17"
   title=
   "Changeset [608046073c1c29c58a000397404c44897c4c7d17]">[608046073c1c29c58a000397404c44897c4c7d17]</a>)
   [<a href="/projects/32238/tickets/2607" title=
   "Ticket #2607">#2607</a> state:fixed-in-qa] reworked background
   downloading to be less complex and to also correctly handle already
   cached images. <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/608046073c1c29c58a000397404c44897c4c7d17" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/608046073c1c29c58a000397404c44897c4c7d17</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/608046073c1c..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/608046073c1c...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

    <div><p><a href="/projects/32238/changesets/INFO" title=
    "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (01/14/11
    10:32 43fff62) g1 (1.6) droid1 (2.2.1) sim 2.1. as per Kevin,
    checked <a href="/projects/32238/changesets/INFO" title=
    "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.5.2 (01/14/11
    10:34 8e8e048) and saw no issue.</p></div></li>
<li>Chris Brooks 2011-04-15

    <div><p>Works FINE on HTC Desire on both 1.5.2 and 1.6.0 RC1</p>
    <p>HTC Desire HD:</p>
    <p>SDK 1.5.2<br>
    Fatal Exception on HTC Desire HD (App closes and Error Closes) on
    loading remote image</p>
    <p>SDK 1.6.0 RC1<br>
    No Exception but image does not load on HTC Desire HD on 1.6.0
    (local images load ok)</p></div></li>
<li>Chris Brooks 2011-04-15

    <div><p>Further Information regarding Failure On HTC Desire HD
    Device:</p>
    <p>Titanium SDK:<br>
    version=1.6.0<br>
    timestamp=02/18/11 15:10<br>
    githash=30eec59</p>
    <p>The following trace shows that the device cannot find the image.
    Perhaps the device is trying to find the URL locally ?<br></p>
    <pre>
    <code>I/TiAPI   (28702): (kroll$6: app://main.js) [2,376412] album URL: <a href="http://userserve-ak.last.fm/serve/300x300/43954033.jpg" rel="nofollow" target="_blank">http://userserve-ak.last.fm/serve/300x300/43954033.jpg</a>
    I/TiFileHlpr(28702): (main) [122,376534] <a href="http://userserve-ak.last.fm/serve/300x300/43954033.jpg" rel="nofollow" target="_blank">http://userserve-ak.last.fm/serve/300x300/43954033.jpg</a> not found.
    I/TiFileHlpr(28702): (main) [130,376664] <a href="http://userserve-ak.last.fm/serve/300x300/43954033.jpg" rel="nofollow" target="_blank">http://userserve-ak.last.fm/serve/300x300/43954033.jpg</a> not found.
    I/TiFileHlpr(28702): (main) [134,376798] <a href="http://userserve-ak.last.fm/serve/300x300/43954033.jpg" rel="nofollow" target="_blank">http://userserve-ak.last.fm/serve/300x300/43954033.jpg</a> not found.
    I/TiFileHlpr(28702): (main) [135,376933] <a href="http://userserve-ak.last.fm/serve/300x300/43954033.jpg" rel="nofollow" target="_blank">http://userserve-ak.last.fm/serve/300x300/43954033.jpg</a> not found.</code>
    </pre>
    <p>I have tested the above URL using the devices browser and it
    loads up there fine.</p>
    <p>It makes no difference how the device is connected to the
    internet, via Mobile Network or WiFi has the same result where the
    HTC Desire has no problem.</p></div></li>
<li>Thomas Huelbert 2011-04-15

    <div><p>Chris, it's best to report the issue you are encountering via
    helpdesk or Q&amp;A. Thanks!</p></div></li>
<li>Radhakrishnan 2011-04-15

    <div><p>Is this Problem fixed? I am getting the same error. Please
    provide me a fix for that.</p></div></li>
<li>krishnan 2011-04-15

    <div><p>Is this Problem fixed? I am getting the same error. Please
    provide me a fix for that.</p></div></li>
<li>Chris Brooks 2011-04-15

    <div><p>In the 1.6.0 Release this is working for me. The issue with the
    HTC Desire HD I was having above was due to a dodgy SD Card, since
    the images are cached to the SD Card.</p>
    <p>Stating which version of Titanium SDK and android SDK you are
    using would be helpful!</p></div></li>
<li>Chris Brooks 2011-04-15

    <div><p>Also, Sorry I have to make another post because I cant edit my
    last post, like Thomas said to me its probably best to get support
    for your problem on the helpdesk, or there is a relevant ticket in
    the community Q&amp;A<a href=
    "<a href="http://developer.appcelerator.com/question/99781/remote-images-not-loading-in-160-on-android-imageview" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/99781/remote-images-not-loading-in-160-on-android-imageview</a>"
    title="Here">here</a></p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2607.json">JSON Source</a></p>