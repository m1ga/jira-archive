---
title: "[TIMOB-2627] Android: Menu icons don't fetch density images"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:59:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M01</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, release-1.6.0</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:25:13.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:59:38.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>To reproduce:</p>
<p>app.js</p>
<pre>
<code class="javascript">Titanium.UI.setBackgroundColor('#000');
Titanium.UI.createWindow({  
    title:'Test',
    backgroundColor:'#fff',
    fullscreen: true,
    exitOnClose: true,
    url: 'win.js'
}).open();</code>
</pre>
<p>Then make this win.js:</p>
<pre>
<code class="javascript">var win = Ti.UI.currentWindow;
Ti.Android.currentActivity.onCreateOptionsMenu = function(e) {
    var m1 = e.menu.add({
        itemId : 1,
        groupId : 0,
        order : 0,
        title: 'I am first'
    });
    m1.setIcon("images/test.png");
    var m2 = e.menu.add({
        itemId : 2,
        groupId : 0,
        order : 1,
        title: 'I am second'
    });
    m2.setIcon("KS_nav_ui.png");
};</code>
</pre>
<p>Then ...</p>
<ul>
<li>Create Resources/android/images/medium</li>
<li>Copy KS_nav_ui.png to Resources/android/images/medium/test.png
(but also keep KS_nav_ui.png in Resources)</li>
</ul>
<p>Run the app. When the blank window comes up, press the
emulator/phone menu button. You <em>should</em> see two menu items,
both of which show icons on them. But only one of them ('I am
second') will have the icon.</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/caaf86a895b9cb21256c36b1d6a6d965df233175"
   title=
   "Changeset [caaf86a895b9cb21256c36b1d6a6d965df233175]">[caaf86a895b9cb21256c36b1d6a6d965df233175]</a>)
   [<a href="/projects/32238/tickets/2627" title=
   "Ticket #2627">#2627</a> state:fixed-in-qa] When loadDrawable calls
   getResourceDrawable, make sure the path is a resolved url because
   that's what getResourceDrawable expects. Change KS android_menu_1
   test so that the first menu item uses a resource drawable (to prove
   it works) <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/caaf86a895b9cb21256c36b1d6a6d965df233175" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/caaf86a895b9cb21256c36b1d6a6d965df233175</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/caaf86a895b9..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/caaf86a895b9...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>To QA: you can test either with my app.js &amp; win.js example
   in the description of this item, or take the latest source of KS
   and try the Base UI - Menus (android) first menu test and make sure
   the first item in the menu has an icon on it.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>Titanium SDK version: 1.6.0 (01/03/11 08:14 11dd2b6), droid 1
   (2.2.1) and G1 (1.6) verified icon appeared in menu</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2627.json">JSON Source</a></p>