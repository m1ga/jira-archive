---
title: "[TIMOB-2641] WebView.reload() breaks fireEvent/listener connection "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-05-11T14:54:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-16</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>fireevent, ios, klist, webview</td></tr>
<tr><th>Reporter</th><td>Jérémy R</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T03:25:36.000+0000</td></tr>
<tr><th>Updated</th><td>2011-05-11T14:54:50.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>I encounter some weird behavior and found there was a previous
issue concerning <a href=
"<a href="http://developer.appcelerator.com/question/58681/android-tiappfireevent-looses-connection-to-event-listener" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/58681/android-tiappfireevent-looses-connection-to-event-listener</a>"
title="WebView.url(newUrl)">WebView.url(newUrl)</a>.</p>
<p>When I call WebView.reload() after a screen rotation (else the
WebView doesn't resize it's content) then the connection is
broken.</p>
<p>More info about what happens:<br></p>
<pre>
<code class="javascript">    function openDocument(docURL) {<br>
<br>


</code>
</pre>
<pre>
<code class=
"javascript"><code>    alert('webview click received // ' + docURL);
    Ti.App.fireEvent('customOpenDocument', {url:docURL});
    alert('webview click received CALL ENDED');
};&lt;/code&gt;</code></code>
</pre>
<pre>


<br>
</pre>
The first alert shows up. But I never receive the fired event, and
the 2nd alert doesn't show up. However I no reload() was previously
called, then the event is received and the 2nd alert show.
<p>SDK 1.5.1 / iPad</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2641_18181/archive.zip">archive.zip</td></td><td>2011-04-15T03:25:36.000+0000</td><td>1203</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Alan Leard 2011-04-15

   <div><p>fireEvent is lost after webview.reload(); is called. Event fires
   once and and as soon as webview is reloaded event is los</p>
   <p>Ticket Reference and testing code: <a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/72421" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/72421</a>"><a href="http://developer.appcelerator.com/helpdesk/view/72421" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/72421</a></a></p>
   <p>Simple Testing Code attached.</p></div></li>
<li>Blain Hamon 2011-04-15

   <div><p>I'm confused here. You're calling reload(), which loads the page
   up as if it were completely fresh and new (Akin to hitting reload
   on a web browser). By definition, the state of the web view will be
   lost because it's reloading.</p></div></li>
<li>Jérémy R 2011-04-15

   <div><p>The fact is that the listener doesn't (in application) does not
   receive an event which is fired from a webview that have been
   reload.<br>
   It has to re-register itself as a listener.</p></div></li>
<li>Reggie Seagraves 2011-04-15

   <div><p>Let's investigate this further. There appears to be a
   workaround, but perhaps we could do more for our customer.</p></div></li>
<li>John Johnson 2011-04-15

   <div><p>Reggie: what is the workaround exactly?</p></div></li>
<li>Blain Hamon 2011-04-25

   The workaround was simply setting the url or html again. The native web view reload wasn't giving us time to do the injection. It's fixed now.</li>
<li>Eric Merriman  2011-05-11

   No longer able to reproduce with iPhone 4, iOS 4.3.3. KS 1.7.0, build 1.7.0.879871b. Closing
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-2641.json">JSON Source</a></p>