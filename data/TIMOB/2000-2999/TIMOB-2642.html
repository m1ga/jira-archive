---
title: "[TIMOB-2642] Android : Kroll get method for properties does not work correctly"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:59:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M02</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, kroll, release-1.6.0</td></tr>
<tr><th>Reporter</th><td>Opie Cyrus</td></tr>
<tr><th>Assignee</th><td>Opie Cyrus</td></tr>
<tr><th>Created</th><td>2011-04-15T03:25:38.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:59:41.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Kroll get method returns undefined due to the "get" name check
in KrollBindingUtils.java : createAccessorMethod never actually
being passed when a get method is invoked. The name that is checked
for either "get" or "set" is actually the name of the property
without either of the prefixed modifiers.</p>
<p>The "get" check always fails so the execution passes to the
"set" block and so set calls work correctly. When a get call is
made, a null value is returned because the set logic is executed
but no argument is passed in for a new value like a real set call
would contain.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-2642_18182/app.js">app.js</td></td><td>2011-04-15T03:25:38.000+0000</td><td>668</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/717ec1ad88b14e60a630c6aaa23bf2172627e208"
   title=
   "Changeset [717ec1ad88b14e60a630c6aaa23bf2172627e208]">[717ec1ad88b14e60a630c6aaa23bf2172627e208]</a>)
   [<a href="/projects/32238/tickets/2642" title=
   "Ticket #2642">#2642</a> state:fixed-in-qa] Modified Kroll property
   binding so get methods will return actual values</p>
   <p>createAccessorMethod now takes a boolean isSet argument to
   specifc if the accessor request is for the get or set method. Value
   returned is not the actual stored value rather than null.<br>
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/717ec1ad88b14e60a630c6aaa23bf2172627e208" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/717ec1ad88b14e60a630c6aaa23bf2172627e208</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/717ec1ad88b1..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/717ec1ad88b1...</a></a></p></div></li>
<li>Opie Cyrus 2011-04-15

   <div><p>Please verify the fix via the attached test app. Basically, if
   you are able to set the property via both methods made available in
   the test app then the fix is good. The issue was with the default
   kroll generated get methods. So before the win.getTitle()call would
   fail.</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Verified on G1/1.6 and Nexus One/2.2.1 using build #e1cb22a</p>
   <p>Used this modified version of app.js. It wasn't using the
   property.</p>
   <pre>
   <code class="javascript">var win = Titanium.UI.createWindow({  
       title:'Window 1',
       backgroundColor:'#fff',
       navBarHidden: false
   });
   
   var button1 = Ti.UI.createButton({
       title: 'Set by method',
       top: 50
   });
   button1.addEventListener('click', function(e) {
       win.setTitle("New title set by method");
   
       var alertDialog = Ti.UI.createAlertDialog({message: win.getTitle()});
       alertDialog.show();
   });
   win.add(button1);
   
   var button2 = Ti.UI.createButton({
       title: 'Set by property',
       top: 150
   });
   button2.addEventListener('click', function(e) {
       win.title = "New title set by property";
   
       var alertDialog = Ti.UI.createAlertDialog({message: win.title});
       alertDialog.show();
   });
   win.add(button2);
   
   win.open();</code>
   </pre></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2642.json">JSON Source</a></p>