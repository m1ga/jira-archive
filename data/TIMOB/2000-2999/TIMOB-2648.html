---
title: "[TIMOB-2648] Android options menu hangs/crashes"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2011-04-15T03:25:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M03</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, release-1.6.0</td></tr>
<tr><th>Reporter</th><td>Matt Schmulen</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:25:48.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-02T18:20:17.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Android options menu hangs/crashes</p>
<p>tested Ti 1.5.1 Android sim 2.1API's</p>
<p>refrence HelpDesk ticket<br>
<a href=
"<a href="http://developer.appcelerator.com/helpdesk/view/61351" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/61351</a>"><a href="http://developer.appcelerator.com/helpdesk/view/61351" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/61351</a></a></p>
<p>app.js<br></p>
<pre>
<code class=
"javascript">var tabGroup = Titanium.UI.createTabGroup();
var win1 = Titanium.UI.createWindow({<br>
<br>
<br>


</code>
</pre>
<pre>
<code class="javascript"><code>url: 'main/menu.js',
title:'Tab 1'</code></code>
</pre>
<pre>


<br>
});
var tab1 = Titanium.UI.createTab({<br>


</pre>
<pre>
<code>icon:'KS_nav_views.png',
title:'Tab 1',
window:win1</code>
</pre>
<pre>


<br>
});

<br>
tabGroup.addTab(tab1);<br>
tabGroup.open();
</pre>
<p>menu.js<br></p>
<pre>
<code class="javascript">var win = Ti.UI.currentWindow;
var activity = Ti.Android.currentActivity;<br>
<br>


<br>
var menu = null;
var item1 = null;<br>
<br>


<br>
var l1 = Ti.UI.createLabel({<br>
<br>


</code>
</pre>
<pre>
<code class="javascript"><code>color : 'white',
text : ' YACK ',
left : 10, top : 10, height : 80, right : 10</code></code>
</pre>
<pre>


<br>
});
win.add(l1);

<br>
Titanium.API.info('create activity');
activity.onCreateOptionsMenu = function(e){

</pre>
<pre>
<code>menu = e.menu;

item1 = menu.add({title: 'PhotoGallery'});
//item1.setIcon(&amp;quot;KS_nav_views.png&amp;quot;);
item1.AddEventListener('click', function() {
    Titanium.API.info('gotoGallery');
});</code>
</pre>
<pre>


<br>
};
</pre></div>

<h3>Comments</h3>

<ol>
<li>Dawson Toth 2011-04-15

   <div><p>Matt,</p>
   <p>Your (and the client's) code calls "AddEventListener" with a
   capital A, which doesn't exist. If you dig into the Trace level
   log, you'll see that it is hanging because it hit an exception when
   it is creating the options menu.</p>
   <p>Fix that, and everything works. This bug is invalid.</p></div></li>
<li>Lee Morris 2017-03-02

   Closing as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2648.json">JSON Source</a></p>