---
title: "[TIMOB-2649] Android: Detecting Second Instance causes NPE."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:59:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M03</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, regression, release-1.5.2, release-1.6.0, reported-1.5.1</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:25:49.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:59:42.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>When launching the app from the install point, not the home
launcher on device, an NPE is generated when trying to release
modules because it assumes that the app is already set up.</p>
<p>See <a href=
"<a href="http://developer.appcelerator.com/question/92671/android---freezing-on-startup" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/92671/android---freezing-on-startup</a>">
Q&amp;A 92671</a></p>
<p>~~~
com.android.internal.os.ZygoteInit.main(ZygoteInit.java:626)<br>
12-20 12:46:09.205: ERROR/AndroidRuntime(13433): at
dalvik.system.NativeStart.main(Native Method)<br>
12-20 12:46:09.205: ERROR/AndroidRuntime(13433): Caused by:
java.lang.NullPointerException<br>
12-20 12:46:09.205: ERROR/AndroidRuntime(13433): at
org.appcelerator.titanium.TiRootActivity.onDestroy(TiRootActivity.java:420)<br>
12-20 12:46:09.205: ERROR/AndroidRuntime(13433): at
android.app.ActivityThread.performDestroyActivity(ActivityThread.java:3861)<br>
12-20 12:46:09.205: ERROR/AndroidRuntime(13433): ... 11 more<br>
~~~</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/86ad0ed0cb9ef1a58aca6ad657c3db2b56f53de1"
   title=
   "Changeset [86ad0ed0cb9ef1a58aca6ad657c3db2b56f53de1]">[86ad0ed0cb9ef1a58aca6ad657c3db2b56f53de1]</a>)
   [<a href="/projects/32238/tickets/2649" title=
   "Ticket #2649">#2649</a> state:fixed-in-qa] Added null checking.
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/86ad0ed0cb9ef1a58aca6ad657c3db2b56f53de1" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/86ad0ed0cb9ef1a58aca6ad657c3db2b56f53de1</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/86ad0ed0cb9e..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/86ad0ed0cb9e...</a></a></p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/9a159e763acfefd09606a665102e595b506795f4"
   title=
   "Changeset [9a159e763acfefd09606a665102e595b506795f4]">[9a159e763acfefd09606a665102e595b506795f4]</a>)
   [<a href="/projects/32238/tickets/2649" title=
   "Ticket #2649">#2649</a> state:fixed-in-qa] Added null checking.
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/9a159e763acfefd09606a665102e595b506795f4" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/9a159e763acfefd09606a665102e595b506795f4</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/9a159e763acf..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/9a159e763acf...</a></a></p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>adding release-1.5.2 tag for tracking fix pushed to 1_5_X
   branch.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>"an application restart is required" 2.2.1 (G2), 1.6 (G1)
   Titanium SDK version: 1.5.2 (01/05/11 08:30 981dff2) and Titanium
   SDK version: 1.6.0 (01/04/11 08:01 e49700d)</p></div></li>
<li>Chris Brooks 2011-04-15

   <div><p>This is still occurring for me on today's (21/02/2011) current
   Continuous 1.6.0 builds.</p>
   <p>If I install the App from the marketplace and click from the
   Point Of Install, (Marketplace or Notifications Bar), the App
   crashes on first run.</p>
   <p>If I open it for first run from the Homescreen the App launches
   without error.</p>
   <p>Tracelog pastie <a href="<a href="http://pastie.org/1589654t" rel="nofollow" target="_blank">http://pastie.org/1589654t</a>" title=
   "Here">Here</a></p>
   <p>Question on Developer Q&amp;A <a href=
   "<a href="http://www.google.co.uk/search?sourceid=chrome&amp" rel="nofollow" target="_blank">http://www.google.co.uk/search?sourceid=chrome&amp</a>;ie=UTF-8&amp;q=Appcelerator%2Bapp%2Bcrash%2BOTA"
   title="Here">Here</a></p></div></li>
<li>Chris Brooks 2011-04-15

   <div><p>Correction:</p>
   <p>Question on Developer Q&amp;A <a href=
   "<a href="http://developer.appcelerator.com/question/114801/android-force-close-on-first-run-after-submitted-to-market" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/114801/android-force-close-on-first-run-after-submitted-to-market</a>"
   title="Here">Here</a></p>
   <p>Old Related Question (Now Closed) <a href=
   "<a href="http://developer.appcelerator.com/question/92811/help-runs-fine-on-android-simulator---stops-at-the-splash-screen-on-device" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/92811/help-runs-fine-on-android-simulator---stops-at-the-splash-screen-on-device</a>"
   title="Here">Here</a></p></div></li>
<li>Chris Brooks 2011-04-15

   <div><p>Sorry I've made a mistake, after taking another look at the
   Stack Trace I realised that this is not the same issue, but a
   different issue which causes the same results. (Crash when launched
   from point of install).</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2649.json">JSON Source</a></p>