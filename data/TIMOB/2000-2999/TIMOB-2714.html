---
title: "[TIMOB-2714] Android: FB Connect Button inside function breaks with NPE  "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-06-08T19:53:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Leo Acevedo</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-04-15T03:27:38.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-08T19:53:15.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>The description of the problem and a test can be found <a href=
"<a href="http://developer.appcelerator.com/question/95021/android-fb-connect-button-inside-function-breaks-with-null-pointer-exception" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/95021/android-fb-connect-button-inside-function-breaks-with-null-pointer-exception</a>">
here</a>, but basically it's a Facebook login button that kills the
app when it logs in or out.<br>
The button belongs to a window that was created from inside a
function, like this:</p>
<p>function makeWin() {<br></p>
<pre>
<code>var win = Ti.UI.createWindow({ properties });
// add elements and events to win
return win;</code>
</pre>
<p>}</p>
<p>AFAIK his is the only particularity of the FB button, and as in
my understanding there should be no reason for it to fail, because
event functions have access to the closure of makeWin()... So
potentially there might be a JS bug behind this.</p></div>

<h3>Comments</h3>

<ol>
<li>Leo Acevedo 2011-04-15

   <div><p>I forgot to say that this happened to me on the emulator for
   Linux, using APIs 1.6 and TI Mobile SDK 1.5.1.</p></div></li>
<li>Lee Morris 2017-06-08

   Closing ticket due to time passed and lack of input or progress in the past few years.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2714.json">JSON Source</a></p>