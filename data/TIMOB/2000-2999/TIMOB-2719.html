---
title: "[TIMOB-2719] TableViewRows containing multiple views & having the same className exhibit weird behaviour"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:59:54.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M05</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, release-1.6.0</td></tr>
<tr><th>Reporter</th><td>Taazza</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-04-15T03:27:43.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:59:54.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>See <a href=
"<a href="https://gist.github.com/ab80b6d74e1559bdb7f5" rel="nofollow" target="_blank">https://gist.github.com/ab80b6d74e1559bdb7f5</a>"><a href="https://gist.github.com/ab80b6d74e1559bdb7f5" rel="nofollow" target="_blank">https://gist.github.com/ab80b6d74e1559bdb7f5</a></a>
for example app on Titanium 1.5.1 (tested on Android 1.6 &amp;
2.2).</p>
<p>We create a simple TableView, add it to a window &amp; open the
window. Now in a loop, we add 15 rows to the TableView with each
row having the same className 'item'. Each row contains a view with
2 different Labels added to it. We use appendRow to add rows to the
TableView. Expected behaviour is that the rows will be in order
from 1 to 15. However we see that the rows containing odd &amp;
even numbers are grouped together on either side of the row
containing item 0!</p>
<p>Each row also has an event handler which will alert the row
number. Again, this seems to work in a weird way. There seems to be
no correspondence between the row number displayed in the label
&amp; the number displayed in the alert box! Sometimes a few rows
in the beginning show correlation, but this breaks as soon as we
start scrolling.</p>
<p>However, using unique class names for each row seems to fix this
problem. But that is supposed to be inefficient &amp; isn't
recommended by the documentation. Also Bug 2621 (<a href=
"<a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/2621-android-app-crashes-with-paged-tableview-15x-regression" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/2621-android-app-crashes-with-paged-tableview-15x-regression</a>"><a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/2621-..." rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/2621-...</a></a>)
occurs occasionally when we use unique class names.</p>
<p>We tried pushing the rows into an array and using setData to
update the TableView. This doesn't exhibit the initial odd/even
grouping of rows. But as soon as we start scrolling, the rows get
totally scrambled and the alerts begin exhibiting the behaviour
detailed above.</p>
<p>In both these cases, if we change the device orientation then
some rows disappear altogether! The alerts on them continue to work
though.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2719_18195/app.apk">app.apk</td></td><td>2011-04-15T03:27:44.000+0000</td><td>1231749</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2719_18196/testtar.gz">testtar.gz</td></td><td>2011-04-15T03:27:45.000+0000</td><td>121397</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Taazza 2011-04-15

   <div><p>I am attaching a test apk built using Titanium 1.5.1 on Android
   2.2 which reproduces the weird behaviour seen while using
   appendRow. The code used can be found in the gist mentioned earlier
   (<a href=
   "<a href="https://gist.github.com/ab80b6d74e1559bdb7f5)" rel="nofollow" target="_blank">https://gist.github.com/ab80b6d74e1559bdb7f5)</a>"><a href="https://gist.github.com/ab80b6d74e1559bdb7f5)" rel="nofollow" target="_blank">https://gist.github.com/ab80b6d74e1559bdb7f5)</a></a>.</p></div></li>
<li>Taazza 2011-04-15

   <div><p>For the sake of completeness, I am attaching the test project
   used to build the test apk.</p></div></li>
<li>Aaron K. Saunders 2011-04-15

   <div><p>seeing same problem in 1.6 build <a href=
   "<a href="http://developer.appcelerator.com/question/97621/more-tableviewrow-android-issues" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/97621/more-tableviewrow-android-issues</a>">
   <a href="http://developer.appcelerator.com/question/97621/more-tableviewrow-..." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/97621/more-tableviewrow-...</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/7c4e9b3d7822dd742549caa224a8b7d944e279b6"
   title=
   "Changeset [7c4e9b3d7822dd742549caa224a8b7d944e279b6]">[7c4e9b3d7822dd742549caa224a8b7d944e279b6]</a>)
   recursively set view proxies on TiUIViews when reusing Views inside
   a TableView [<a href="/projects/32238/tickets/2719" title=
   "Ticket #2719">#2719</a> state:fixed-in-qa]<br>
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/7c4e9b3d7822dd742549caa224a8b7d944e279b6" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/7c4e9b3d7822dd742549caa224a8b7d944e279b6</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/7c4e9b3d7822..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/7c4e9b3d7822...</a></a></p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Verified on G1/1.6 and Nexus One/2.2.1 using build #e1cb22a</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2719.json">JSON Source</a></p>