---
title: "[TIMOB-2721] Android: implement the "contentOffset" property for the "scroll" event in TableView"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2013-01-23T18:46:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 02 API, 2013 Sprint 02</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, insight, parity</td></tr>
<tr><th>Reporter</th><td>Rick Blalock</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2011-04-15T03:27:47.000+0000</td></tr>
<tr><th>Updated</th><td>2014-01-29T07:51:35.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>In the blog post here: <a href=
"<a href="http://developer.appcelerator.com/blog/2010/05/how-to-create-a-tweetie-like-pull-to-refresh-table.html" rel="nofollow" target="_blank">http://developer.appcelerator.com/blog/2010/05/how-to-create-a-tweetie-like-pull-to-refresh-table.html</a>">
<a href="http://developer.appcelerator.com/blog/2010/05/how-to-create-a-twee..." rel="nofollow" target="_blank">http://developer.appcelerator.com/blog/2010/05/how-to-create-a-twee...</a></a></p>
<p>The scroll event listener references a contentOffset property
which has x / y coord. props. contentOffset is undefined in our 1.6
SDK for Android only. contentOffset is present in 1.5.x for Android
(works for iOS either way).</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>To my knowledge this has never been implemented in Android. I
   went back through the 1.5 source and could not find any reference
   to contentOffset and it doesn't appear that tableview is even
   firing a scroll event.</p>
   <p>I'm changing the title and tags to correctly denote this as a
   feature request. Please review the ticket submission guidelines as
   this ticket violates most of them.</p></div></li>
<li>Jon Alter 2011-04-15

   <div><h3>Associated Helpdesk Ticket</h3>
   <p><a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/76652" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/76652</a>"><a href="http://developer.appcelerator.com/helpdesk/view/76652" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/76652</a></a></p></div></li>
<li>Dawson Toth 2011-04-15

   <div><p>klist'd and rplist'd</p></div></li>
<li>Matthew Congrove 2011-06-22

   There's also no contentOffset for ScrollViews. Can we get this added at the same time? Request is coming from customer.
   
   <a href="http://support.appcelerator.com/tickets/APP-633921/" rel="nofollow" target="_blank">http://support.appcelerator.com/tickets/APP-633921/</a></li>
<li>Zsombor Papp 2011-09-25

   +1 for implementing this for ScrollView.</li>
<li>Alan Leard 2011-10-03

   </li>
<li>hans schoenburg 2012-03-19

   up up up!</li>
<li>Eduardo Gomez 2012-07-05

   One may work around using the following Droid properties of Scroll event (firstVisibleItem, totalItemCount, visibleItemCount) - Tested on 2.1.0.GA:
   
   <h4>app.js</h4>
   <code><pre>
   Ti.UI.setBackgroundColor('#000');
   
       var win = Ti.UI.createWindow({
         backgroundColor: 'black',
         exitOnClose: true,
         fullscreen: false,
         title: 'TableView Demo'
       });
       
       // generate random number, used to make each row appear distinct for this example
       function randomInt(max){
         return Math.floor(Math.random() * max) + 1;
       }
       
       var IMG_BASE = '<a href="https://github.com/appcelerator/titanium_mobile/raw/master/demos/KitchenSink/Resources/images/" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/raw/master/demos/KitchenSink/Resources/images/</a>';
       var defaultFontSize = Ti.Platform.name === 'android' ? 16 : 14;
       
       var tableData = [];
       
       for (var i=1; i<=20; i++){
         var row = Ti.UI.createTableViewRow({
           className:'forumEvent', // used to improve table performance
           selectedBackgroundColor:'white',
           rowIndex:i, // custom property, useful for determining the row during events
           height:110
         });
         
         var imageAvatar = Ti.UI.createImageView({
           image: IMG_BASE + 'custom_tableview/user.png',
           left:10, top:5,
           width:50, height:50
         });
         row.add(imageAvatar);
         
         var labelUserName = Ti.UI.createLabel({
           color:'#576996',
           font:{fontFamily:'Arial', fontSize:defaultFontSize+6, fontWeight:'bold'},
           text:'Fred Smith ' + i,
           left:70, top: 6,
           width:200, height: 30
         });
         row.add(labelUserName);
         
         var labelDetails = Ti.UI.createLabel({
           color:'#222',
           font:{fontFamily:'Arial', fontSize:defaultFontSize+2, fontWeight:'normal'},
           text:'Replied to post with id ' + randomInt(1000) + '.',
           left:70, top:44,
           width:360
         });
         row.add(labelDetails);
         
         var imageCalendar = Ti.UI.createImageView({
           image:IMG_BASE + 'custom_tableview/eventsButton.png',
           left:70, bottom: 2,
           width:32, height: 32
         });
         row.add(imageCalendar);
         
         var labelDate = Ti.UI.createLabel({
           color:'#999',
           font:{fontFamily:'Arial', fontSize:defaultFontSize, fontWeight:'normal'},
           text:'on ' + randomInt(30) + ' Nov 2012',
           left:105, bottom:10,
           width:200, height:20
         });
         row.add(labelDate);
         
         tableData.push(row);
       }
       
       var tableView = Ti.UI.createTableView({
         backgroundColor:'white',
         data:tableData
       });
       
       win.add(tableView);
       win.open();
   
   tableView.addEventListener('scroll', function(e)
   {
      //Ti.API.info('x|y ' + e.contentOffset.x + '|' + e.contentOffset.y);//it will be undefined indeed ... 
      Ti.API.info('-------------------');
   	Ti.API.info( 'firstVisibleItem : Number - Row index of the topmost visible row in the view: ' + e.firstVisibleItem);
   	Ti.API.info( 'totalItemCount : Number - Total number of rows in the view: ' + e.totalItemCount );
   	Ti.API.info( 'visibleItemCount : Number - Number of rows currently visible in the view: '+ e.visibleItemCount );
   });
   </pre></code></li>
<li>Karl Rowley 2012-12-19

   It looks like fixing this would require keeping track of row heights.
   Here's a post from stack overflow:
   
   <a href="http://stackoverflow.com/questions/10808387/android-getting-exact-scroll-position-in-listview" rel="nofollow" target="_blank">http://stackoverflow.com/questions/10808387/android-getting-exact-scroll-position-in-listview</a>
   
   This would be possible if every TableView started at the top and then scrolled down.
   However, a TableView can be programmatically scrolled to any row.  In this case the height
   of proceeding rows may not be known yet.
   
   </li>
<li>Ping Wang 2013-01-23

    There is no notion of Y scroll for a ListView in Android simply because the total height of the content is unknown. Only the height of the displayed content is known. I don't think it is possible to implement this feature on Android.</li>
<li>Ping Wang 2013-01-23

    Mark the ticket as Won't Fix since the native Android does not support it.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2721.json">JSON Source</a></p>