---
title: "[TIMOB-2726] Android: NPE when receiving HTTP 204 response"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T01:59:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M01</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, release-1.6.0, reported-1.5.0</td></tr>
<tr><th>Reporter</th><td>Nathaniel McCallum</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:27:57.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T01:59:55.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>E/TiHttpClient( 4853): (TiHttpClient-7) [1,2314522] HTTP Error
(java.lang.NullPointerException):
java.lang.NullPointerException<br>
E/TiHttpClient( 4853): java.lang.NullPointerException<br>
E/TiHttpClient( 4853): at
ti.modules.titanium.network.TiHTTPClient$LocalResponseHandler.handleResponse(TiHTTPClient.java:209)<br>
E/TiHttpClient( 4853): at
ti.modules.titanium.network.TiHTTPClient$LocalResponseHandler.handleResponse(TiHTTPClient.java:165)<br>
E/TiHttpClient( 4853): at
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:657)<br>
E/TiHttpClient( 4853): at
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:637)<br>
E/TiHttpClient( 4853): at
ti.modules.titanium.network.TiHTTPClient$ClientRunnable.run(TiHTTPClient.java:997)<br>
E/TiHttpClient( 4853): at
java.lang.Thread.run(Thread.java:1096)<br>
I/TiHttpClient( 4853): (TiHttpClient-7) [2,2314524] Sending error
java.lang.NullPointerException</p></div>

<h3>Comments</h3>

<ol>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/cafb4fe6e7445043fea61bd846bdfdba8a533311"
   title=
   "Changeset [cafb4fe6e7445043fea61bd846bdfdba8a533311]">[cafb4fe6e7445043fea61bd846bdfdba8a533311]</a>)
   [<a href="/projects/32238/tickets/2726" title=
   "Ticket #2726">#2726</a>] Handle when there is no entity;
   fixed-in-qa <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/cafb4fe6e7445043fea61bd846bdfdba8a533311" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/cafb4fe6e7445043fea61bd846bdfdba8a533311</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/cafb4fe6e744..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/cafb4fe6e744...</a></a></p></div></li>
<li>Anthony Webb 2011-04-15

   <div><p>Did you find that this is only for 204's? I am seeing NPE coming
   back on 200's too? I am using the 1.6 nightly from Jan 6.</p>
   <p><a href="/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> E/TiUIView( 1729): (main)
   [5383,101697] TAP, TAP, TAP on [Ti.UI.Button] <a href=
   "/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> D/TiHttpClient( 1729): (kroll$3)
   [10,101707] Setting ready state to 1 <a href=
   "/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> D/dalvikvm( 1729): GC_FOR_MALLOC
   freed 12700 objects / 611088 bytes in 124ms <a href=
   "/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> D/dalvikvm( 1729): GC_FOR_MALLOC
   freed 1967 objects / 297312 bytes in 369ms <a href=
   "/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> D/TiHttpClient( 1729):
   (TiHttpClient-2) [2521,104228] Setting ready state to 2 <a href=
   "/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> D/TiHttpClient( 1729):
   (TiHttpClient-2) [0,104228] Setting ready state to 3 <a href=
   "/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> E/TiHttpClient( 1729):
   (TiHttpClient-2) [2,104230] HTTP Error
   (java.lang.NullPointerException): java.lang.NullPointerException
   <a href="/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> E/TiHttpClient( 1729):
   java.lang.NullPointerException <a href=
   "/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> E/TiHttpClient( 1729): at
   ti.modules.titanium.network.TiHTTPClient$LocalResponseHandler.finishedReceivingEntityData(TiHTTPClient.java:321)
   <a href="/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> E/TiHttpClient( 1729): at
   ti.modules.titanium.network.TiHTTPClient$LocalResponseHandler.handleResponse(TiHTTPClient.java:257)
   <a href="/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> E/TiHttpClient( 1729): at
   ti.modules.titanium.network.TiHTTPClient$LocalResponseHandler.handleResponse(TiHTTPClient.java:166)
   <a href="/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> E/TiHttpClient( 1729): at
   org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:657)
   <a href="/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> E/TiHttpClient( 1729): at
   org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:637)
   <a href="/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> E/TiHttpClient( 1729): at
   ti.modules.titanium.network.TiHTTPClient$ClientRunnable.run(TiHTTPClient.java:1010)
   <a href="/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> E/TiHttpClient( 1729): at
   java.lang.Thread.run(Thread.java:1096) <a href=
   "/projects/32238/changesets/TRACE" title=
   "Changeset [TRACE]">[TRACE]</a> I/TiHttpClient( 1729):
   (TiHttpClient-2) [3,104233] Sending error
   java.lang.NullPointerException</p></div></li>
<li>Anthony Webb 2011-04-15

   <div><p>Sorry, let me format that right:<br></p>
   <pre>
   <code>[TRACE] E/TiUIView( 1729): (main) [5383,101697] TAP, TAP, TAP on [Ti.UI.Button]
   [TRACE] D/TiHttpClient( 1729): (kroll$3) [10,101707] Setting ready state to 1
   [TRACE] D/dalvikvm( 1729): GC_FOR_MALLOC freed 12700 objects / 611088 bytes in 124ms
   [TRACE] D/dalvikvm( 1729): GC_FOR_MALLOC freed 1967 objects / 297312 bytes in 369ms
   [TRACE] D/TiHttpClient( 1729): (TiHttpClient-2) [2521,104228] Setting ready state to 2
   [TRACE] D/TiHttpClient( 1729): (TiHttpClient-2) [0,104228] Setting ready state to 3
   [TRACE] E/TiHttpClient( 1729): (TiHttpClient-2) [2,104230] HTTP Error (java.lang.NullPointerException): java.lang.NullPointerException
   [TRACE] E/TiHttpClient( 1729): java.lang.NullPointerException
   [TRACE] E/TiHttpClient( 1729): at ti.modules.titanium.network.TiHTTPClient$LocalResponseHandler.finishedReceivingEntityData(TiHTTPClient.java:321)
   [TRACE] E/TiHttpClient( 1729): at ti.modules.titanium.network.TiHTTPClient$LocalResponseHandler.handleResponse(TiHTTPClient.java:257)
   [TRACE] E/TiHttpClient( 1729): at ti.modules.titanium.network.TiHTTPClient$LocalResponseHandler.handleResponse(TiHTTPClient.java:166)
   [TRACE] E/TiHttpClient( 1729): at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:657)
   [TRACE] E/TiHttpClient( 1729): at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:637)
   [TRACE] E/TiHttpClient( 1729): at ti.modules.titanium.network.TiHTTPClient$ClientRunnable.run(TiHTTPClient.java:1010)
   [TRACE] E/TiHttpClient( 1729): at java.lang.Thread.run(Thread.java:1096)
   [TRACE] I/TiHttpClient( 1729): (TiHttpClient-2) [3,104233] Sending error java.lang.NullPointerException</code>
   </pre></div></li>
<li>Anthony Webb 2011-04-15

   <div><p>Note, this is probably a separate issue. My issue only occurs
   when the webserver returns nothing, except for a 200. If there is
   no body I get the NPE, can this issue be the same or should I
   create a separate ticket?</p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>Anthony Please go ahead and open a new ticket assigned to me.
   With the sample code and log that runs from your Q&amp;A post.</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>confirmed 204 no longer crashes, resolving</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2726.json">JSON Source</a></p>