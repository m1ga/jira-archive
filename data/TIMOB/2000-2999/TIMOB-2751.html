---
title: "[TIMOB-2751] Row/section indexes not updated after \"delete\""
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2011-08-09T23:21:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-32</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>edit, index, tableview</td></tr>
<tr><th>Reporter</th><td>Stephen Tramer</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-04-15T03:28:33.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-29T16:16:53.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Just what it says. Not visible when interacting with the
tableview via regular means, but any method which requires getting
the row index to compute the NSIndexPath will be affected. Behavior
is visible in KS by:</p>
<ul>
<li>Base UI-&gt;Views-&gt;Table View-&gt;Delete Mode (2)</li>
<li>Delete a row</li>
<li>Click on the last row while still in edit mode</li>
</ul>
<p>Repro steps rely on (currently pending) fix for <a href=
"/projects/32238/tickets/1330" title="Ticket #1330">#1330</a></p></div>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2011-04-15

   <div><p>This is no longer a super-priority due to the fact that my
   committed <a href="/projects/32238/tickets/1330" title=
   "Ticket #1330">#1330</a> fix doesn't rely on internal row numbers.
   Can wait for a while, and will probably be nuked as part of a
   tableview rewrite to rely on different types of indexing.</p></div></li>
<li>Pedro Enrique 2011-04-15

   <div><p>Similar problem when editing rows. Explanation and example in
   <a href="<a href="http://support.appcelerator.com/tickets/ZNK-28616-794" rel="nofollow" target="_blank">http://support.appcelerator.com/tickets/ZNK-28616-794</a>">HD
   Ticket #ZNK-28616-794</a>.</p>
   <p>After moving rows around, the index is not updated.</p>
   <p>Ti SDK 1.6.2<br>
   iOS 4.2 and 4.3</p></div></li>
<li>Gerry Cardinal III 2011-04-15

   <div><p>Whoever works on this and related table view tickets, please fix
   or confirm that the issue in this ticket is fixed:<br>
   <a href=
   "<a href="http://support.appcelerator.com/tickets/MMY-57876-424" rel="nofollow" target="_blank">http://support.appcelerator.com/tickets/MMY-57876-424</a>"><a href="http://support.appcelerator.com/tickets/MMY-57876-424" rel="nofollow" target="_blank">http://support.appcelerator.com/tickets/MMY-57876-424</a></a></p>
   <p>Basically, this line of Objective-C code in TiUITableViewProxy.m
   &gt; insertRowBefore: should be changed FROM:</p>
   <p>newrow.row = row.row == 0 ? 0 : row.row - 1;</p>
   <p>TO:</p>
   <p>newrow.row = row.row == 0 ? 0 : row.row;</p></div></li>
<li>Reggie Seagraves 2011-08-09

   This problem no longer exists, fixed during another checkin.</li>
<li>Lee Morris 2017-03-29

   Closing with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2751.json">JSON Source</a></p>