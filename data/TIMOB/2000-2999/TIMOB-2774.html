---
title: "[TIMOB-2774] Android: Animation and Center 1.5.1 and 1.6.0 Results"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T02:00:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M04</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, enterprise, feature, release-1.6.0, rplist</td></tr>
<tr><th>Reporter</th><td>Fred Spencer</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:29:11.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T02:00:03.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>See attached video for comparison demo.</p>
<pre>
<code>var win = Ti.UI.createWindow({
    navBarHidden:true,
    exitOnClose:true,
    backgroundColor: '#fff'
});

var view = Ti.UI.createView({
    // initial setting of of a small box view that is centered
    width: 10,
    height: 10,
    center: {
        x: Ti.Platform.displayCaps.platformWidth / 2,
        y: Ti.Platform.displayCaps.platformHeight / 2
    },
    backgroundColor: '#f00'
});

var openBtn = Ti.UI.createButton({
    left: 10,
    right: 10,
    height: 50,
    title: 'Open'
});

openBtn.addEventListener('click', function(e) {
    var closeBtn = Ti.UI.createButton({
        left: 10,
        right: 10,
        height: 50,
        title: 'Close'
    });

    closeBtn.addEventListener('click', function(e) {
        view.remove(closeBtn);

        view.animate({
            center: {
                x: Ti.Platform.displayCaps.platformWidth / 2,
                y: Ti.Platform.displayCaps.platformHeight / 2
            },
            width: 10,
            height: 10,
            duration: 300
        },
        function(e) {
            win.remove(view);
            Ti.API.info('This is going to be called multiple times.');
        });
    });

    win.add(view);

    // animate small, centered box
    view.animate({
        center: {
            x: Ti.Platform.displayCaps.platformWidth / 2,
            y: Ti.Platform.displayCaps.platformHeight / 2
        },
        width: Ti.Platform.displayCaps.platformWidth,
        height: Ti.Platform.displayCaps.platformHeight,
        duration: 300
    },
    function(e) {
        view.add(closeBtn);
        Ti.API.info('This is going to be called multiple times.');
    });
});

win.add(openBtn);
win.open();</code>
</pre></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2774_18211/151.MOV">151.MOV</td></td><td>2011-04-15T03:29:12.000+0000</td><td>1098493</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2774_18212/160.MOV">160.MOV</td></td><td>2011-04-15T03:29:13.000+0000</td><td>1696653</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2774_18210/screen-shot-2011-01-07-at-33351-pm.png">screen-shot-2011-01-07-at-33351-pm.png</td></td><td>2011-04-15T03:29:12.000+0000</td><td>16065</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2774_18209/screen-shot-2011-01-07-at-33846-pm.png">screen-shot-2011-01-07-at-33846-pm.png</td></td><td>2011-04-15T03:29:12.000+0000</td><td>104810</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Marshall Culpepper 2011-04-15

   <div><p>the "center" property wasn't implemented before a few days ago.
   If you want a truly centered view shouldn't you be using center: {
   x: 0, y: 0 } ? Dividing platformHeight/platformWidth by two would
   be good for top and left, but not center x/y?</p></div></li>
<li>Fred Spencer 2011-04-15

   <div><p>I suppose this has to do with expectation. Is the view centered
   relative to it's parent and where is the parent's coordinate
   origin?</p>
   <p>In a layout tool, if the origin starts in the upper left (0,0),
   then the relative position of the element positioned on top would
   be width/2, height/2.</p>
   <p>Originally, this worked on both iOS and Android (as seen in
   video) as relative to the parents origin at (0,0), upper-left.</p>
   <p>Screenshot one: Where is it?<br>
   Screenshot two: How 0,0 works on iOS</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>Ahh.. I guess I was under the impression that "center" was
   relative to the parent's center position. This never actually
   "worked" in Android because the center property wasn't even
   implemented until a few days ago, so my guess is the values you had
   were incidental with some of our default behaviors :)</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/eecab83e319ad70b79af913fbc3ad0d99f8265bc"
   title=
   "Changeset [eecab83e319ad70b79af913fbc3ad0d99f8265bc]">[eecab83e319ad70b79af913fbc3ad0d99f8265bc]</a>)
   center positions are parent-relative to 0,0 instead of
   parent-center relative [<a href="/projects/32238/tickets/2774"
   title="Ticket #2774">#2774</a> state:fixed-in-qa]<br>
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/eecab83e319ad70b79af913fbc3ad0d99f8265bc" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/eecab83e319ad70b79af913fbc3ad0d99f8265bc</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/eecab83e319a..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/eecab83e319a...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>sim 2.2, G1 (1.6) <a href="/projects/32238/changesets/INFO"
   title="Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.5.2
   (01/10/11 08:22 682e79e) and <a href=
   "/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (01/10/11
   08:25 3452f06)</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2774.json">JSON Source</a></p>