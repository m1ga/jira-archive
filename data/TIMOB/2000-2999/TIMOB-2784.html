---
title: "[TIMOB-2784] Crash in latest ARti demo - deadlock in GC"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T02:00:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M07</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>crash, ios, release-1.6.0</td></tr>
<tr><th>Reporter</th><td>Ralf Pfeiffer</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T03:29:26.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T02:00:05.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Hey Blain,</p>
<p>We're having a crash using 1.5.1 trying to run the latest ARti
demo that was presented on the webcast. It looks like our classic
deadlock on GC again..</p>
<p>I haven't opened a Lighthouse ticket yet. This is probably going
to be a blocker for us getting out the demo... It seems to happen
every time you try and run it. Also, looks like it will memory
panic going to the camera (as you'd expect) and then hang on the
crash below.</p>
<p>Jeff</p>
<p>Incident Identifier: 14CC454A-4253-4116-A942-B2D3067936F4<br>
CrashReporter Key: 5b39158e9a19049bce923c66f5de8aa047f5f9b0<br>
Hardware Model: iPhone3,1<br>
Process: arti <a href="/projects/32238/changesets/1590" title=
"Changeset [1590]">[1590]</a><br>
Path:
/var/mobile/Applications/49D938B7-E578-40CE-AF27-45C37D9E3410/arti.app/arti<br>
Identifier: arti<br>
Version: ??? (???)<br>
Code Type: ARM (Native)<br>
Parent Process: launchd <a href="/projects/32238/changesets/1"
title="Changeset [1]">[1]</a></p>
<p>Date/Time: 2011-01-06 14:58:03.906 -0800<br>
OS Version: iPhone OS 4.2.1 (8C148)<br>
Report Version: 104</p>
<p>Exception Type: 00000020<br>
Exception Codes: 0x8badf00d<br>
Highlighted Thread: 0</p>
<p>Application Specific Information:<br>
arti failed to resume in time</p>
<p>Elapsed total CPU time (seconds): 2.640 (user 1.200, system
1.440), 26% CPU<br>
Elapsed application CPU time (seconds): 0.000, 0% CPU</p>
<p>Thread 0:<br>
0 libSystem.B.dylib 0x33b5d2c4 semaphore_wait_signal_trap + 8<br>
1 libSystem.B.dylib 0x33b8ab3a semaphore_wait_signal + 2<br>
2 libSystem.B.dylib 0x33b5f0d0 pthread_mutex_lock + 252<br>
3 arti 0x001063de TI::TiLock::lock(TI::TiLockBehavior)
(TiLock.cpp:88)<br>
4 arti 0x00106436 TI::TiLock::TiLock(TI::TiExcState*)
(TiLock.cpp:70)<br>
5 arti 0x00112536 TiValueIsStrictEqual (TiValueRef.cpp:174)<br>
6 arti 0x0001ce10 -<a>KrollCallback isEqual:</a><br>
7 CoreFoundation 0x33a6bf3a -[NSMutableArray
removeObject:range:identical:] + 334<br>
8 CoreFoundation 0x33a6bdd2 -[NSMutableArray removeObject:] +
46<br>
9 arti 0x0001ccf8 -<a>KrollCallback dealloc</a><br>
10 CoreFoundation 0x33a26f74 -[NSObject(NSObject) release] + 24<br>
11 arti 0x00065e7a -<a>MediaModule destroyPicker</a><br>
12 arti 0x00063ed4 -<a>MediaModule hideCamera:</a><br>
13 CoreFoundation 0x33a5ebb8 -[NSObject(NSObject)
performSelector:withObject:] + 16<br>
14 Foundation 0x3363978e <strong>NSThreadPerformPerform + 262<br>
15 CoreFoundation 0x33a767d6</strong>
CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION <strong>+
6<br>
16 CoreFoundation 0x33a485b0</strong> CFRunLoopDoSources0 + 376<br>
17 CoreFoundation 0x33a47e54 <em>_CFRunLoopRun + 224<br>
18 CoreFoundation 0x33a47c80 CFRunLoopRunSpecific + 224<br>
19 CoreFoundation 0x33a47b88 CFRunLoopRunInMode + 52<br>
20 GraphicsServices 0x33b0e4a4 GSEventRunModal + 108<br>
21 GraphicsServices 0x33b0e550 GSEventRun + 56<br>
22 UIKit 0x32099322 -[UIApplication</em> run] + 406<br>
23 UIKit 0x32096e8c UIApplicationMain + 664<br>
24 arti 0x00003f54 main (main.m:36)<br>
25 arti 0x00003a9c 0x1000 + 10908</p>
<p>Thread 1:<br>
0 libSystem.B.dylib 0x33b89974 kevent + 24<br>
1 libSystem.B.dylib 0x33c33704 <em>dispatch_mgr_invoke + 88<br>
2 libSystem.B.dylib 0x33c33174</em> dispatch_queue_invoke + 96<br>
3 libSystem.B.dylib 0x33c32b98 <em>dispatch_worker_thread2 +
120<br>
4 libSystem.B.dylib 0x33bd724a</em> pthread_wqthread + 258<br>
5 libSystem.B.dylib 0x33bcf970 start_wqthread + 0</p>
<p>Thread 2:<br>
0 libSystem.B.dylib 0x33b5d268 mach_msg_trap + 20<br>
1 libSystem.B.dylib 0x33b5f354 mach_msg + 44<br>
2 CoreFoundation 0x33a48648 <strong>CFRunLoopServiceMachPort +
88<br>
3 CoreFoundation 0x33a47ed2</strong> CFRunLoopRun + 350<br>
4 CoreFoundation 0x33a47c80 CFRunLoopRunSpecific + 224<br>
5 CoreFoundation 0x33a47b88 CFRunLoopRunInMode + 52<br>
6 WebCore 0x304df124 RunWebThread(void*) + 332<br>
7 libSystem.B.dylib 0x33bd6886 _pthread_start + 242<br>
8 libSystem.B.dylib 0x33bcba88 thread_start + 0</p>
<p>Thread 3:<br>
0 libSystem.B.dylib 0x33b5d2c4 semaphore_wait_signal_trap + 8<br>
1 libSystem.B.dylib 0x33b8ab3a semaphore_wait_signal + 2<br>
2 libSystem.B.dylib 0x33b5f0d0 pthread_mutex_lock + 252<br>
3 arti 0x001063de TI::TiLock::lock(TI::TiLockBehavior)
(TiLock.cpp:88)<br>
4 arti 0x000f9f60 TiGarbageCollect (TiLock.h:74)<br>
5 arti 0x0001ee66 -<a>KrollContext main</a><br>
6 Foundation 0x33624192 -[NSThread main] + 38<br>
7 Foundation 0x3361d242 <strong>NSThread</strong>main<em>_ +
966<br>
8 libSystem.B.dylib 0x33bd6886</em> pthread_start + 242<br>
9 libSystem.B.dylib 0x33bcba88 thread_start + 0</p>
<p>Thread 4:<br>
0 libSystem.B.dylib 0x33bd59f0 <em>_semwait_signal + 24<br>
1 libSystem.B.dylib 0x33b8a7ec</em> pthread_cond_wait + 748<br>
2 libSystem.B.dylib 0x33b8a3d2 pthread_cond_wait + 26<br>
3 arti 0x000cf9a6 WTI::TCMalloc_PageHeap::scavengerThread()
(FastMalloc.cpp:2304)<br>
4 arti 0x000cf9ce WTI::TCMalloc_PageHeap::runScavengerThread(void*)
(FastMalloc.cpp:1438)<br>
5 libSystem.B.dylib 0x33bd6886 _pthread_start + 242<br>
6 libSystem.B.dylib 0x33bcba88 thread_start + 0</p>
<p>Thread 5:<br>
0 libSystem.B.dylib 0x33bd59f0 <em>_semwait_signal + 24<br>
1 libSystem.B.dylib 0x33b8a7ec</em> pthread_cond_wait + 748<br>
2 libSystem.B.dylib 0x33b8a3d2 pthread_cond_wait + 26<br>
3 CoreMedia 0x31a41b14 WaitOnCondition + 4<br>
4 CoreMedia 0x31a41a5a FigSemaphoreWaitRelative + 66<br>
5 MediaToolbox 0x300c0c9c fpa_AsyncMovieControlThread + 48<br>
6 CoreMedia 0x31a5df76 figThreadMain + 166<br>
7 libSystem.B.dylib 0x33bd6886 _pthread_start + 242<br>
8 libSystem.B.dylib 0x33bcba88 thread_start + 0</p>
<p>Thread 6:<br>
0 libSystem.B.dylib 0x33b5d2c4 semaphore_wait_signal_trap + 8<br>
1 libSystem.B.dylib 0x33b8ab3a semaphore_wait_signal + 2<br>
2 libSystem.B.dylib 0x33b5f0d0 pthread_mutex_lock + 252<br>
3 arti 0x001063de TI::TiLock::lock(TI::TiLockBehavior)
(TiLock.cpp:88)<br>
4 arti 0x000f9f60 TiGarbageCollect (TiLock.h:74)<br>
5 arti 0x0001ee66 -<a>KrollContext main</a><br>
6 Foundation 0x33624192 -[NSThread main] + 38<br>
7 Foundation 0x3361d242 <strong>NSThread</strong>main<em>_ +
966<br>
8 libSystem.B.dylib 0x33bd6886</em> pthread_start + 242<br>
9 libSystem.B.dylib 0x33bcba88 thread_start + 0</p>
<p>Thread 7:<br>
0 libSystem.B.dylib 0x33b5d268 mach_msg_trap + 20<br>
1 libSystem.B.dylib 0x33b5f354 mach_msg + 44<br>
2 CoreFoundation 0x33a48648 <strong>CFRunLoopServiceMachPort +
88<br>
3 CoreFoundation 0x33a47ed2</strong> CFRunLoopRun + 350<br>
4 CoreFoundation 0x33a47c80 CFRunLoopRunSpecific + 224<br>
5 CoreFoundation 0x33a47b88 CFRunLoopRunInMode + 52<br>
6 Foundation 0x336465f6
+[NSURLConnection(NSURLConnectionReallyInternal)
<em>resourceLoadLoop:] + 206<br>
7 Foundation 0x33624192 -[NSThread main] + 38<br>
8 Foundation 0x3361d242 <strong>NSThread</strong>main__ + 966<br>
9 libSystem.B.dylib 0x33bd6886</em> pthread_start + 242<br>
10 libSystem.B.dylib 0x33bcba88 thread_start + 0</p>
<p>Thread 8:<br>
0 libSystem.B.dylib 0x33b8168c select$DARWIN_EXTSN + 20<br>
1 CoreFoundation 0x33a7f662 <em>_CFSocketManager + 582<br>
2 libSystem.B.dylib 0x33bd6886</em> pthread_start + 242<br>
3 libSystem.B.dylib 0x33bcba88 thread_start + 0</p>
<p>Thread 9:<br>
0 libSystem.B.dylib 0x33bd59f0 <strong>semwait_signal + 24<br>
1 libSystem.B.dylib 0x33b8a7ec _pthread_cond_wait + 748<br>
2 libSystem.B.dylib 0x33b8a3d2 pthread_cond_wait + 26<br>
3 Foundation 0x33646704 -[NSCondition wait] + 164<br>
4 Foundation 0x3363041e -[NSObject(NSThreadPerformAdditions)
performSelector:onThread:withObject:waitUntilDone:modes:] + 766<br>
5 Foundation 0x3363007a -[NSObject(NSThreadPerformAdditions)
performSelectorOnMainThread:withObject:waitUntilDone:] + 94<br>
6 arti 0x000378ae -<a>TiUITabProxy open:</a><br>
7 CoreFoundation 0x33a6bcfc</strong> invoking <em><strong>+ 60<br>
8 CoreFoundation 0x33a6bbce -[NSInvocation invoke] + 102<br>
9 arti 0x0002091e -<a>KrollMethod call:</a><br>
10 arti 0x00020d96 KrollCallAsFunction (KrollMethod.m:36)<br>
11 arti 0x0010ae60
TI::TiCallbackObject&lt;TI::TiObject&gt;::call(TI::TiExcState<em>,
TI::TiObject</em>, TI::TiValue, TI::ArgList const&amp;)
(TiCallbackObjectFunctions.h:371)<br>
12 arti 0x000f0658
TI::Interpreter::privateExecute(TI::Interpreter::ExecutionFlag,
TI::RegisterFile<em>, TI::TiExcState</em>, TI::TiValue<em>)
(Interpreter.cpp:3053)<br>
13 arti 0x000f4b72
TI::Interpreter::execute(TI::FunctionExecutable</em>,
TI::TiExcState<em>, TI::TiFunction</em>, TI::TiObject<em>,
TI::ArgList const&amp;, TI::ScopeChainNode</em>, TI::TiValue<em>)
(Interpreter.cpp:688)<br>
14 arti 0x000fe27e TI::TiFunction::call(TI::TiExcState</em>,
TI::TiValue, TI::ArgList const&amp;) (TiFunction.cpp:127)<br>
15 arti 0x000b9b18 TI::call(TI::TiExcState*, TI::TiValue,
TI::CallType, TI::CallData const&amp;, TI::TiValue, TI::ArgList
const&amp;) (CallData.cpp:46)<br>
16 arti 0x00109d72 TiObjectCallAsFunction (TiObjectRef.cpp:417)<br>
17 arti 0x0001cfc0 -<a>KrollCallback call:thisObject:</a><br>
18 arti 0x0001dae8 -<a>KrollEvent invoke:</a><br>
19 arti 0x0001d5d6 -<a>KrollContext invoke:</a><br>
20 arti 0x0001ed40 -<a>KrollContext main</a><br>
21 Foundation 0x33624192 -[NSThread main] + 38<br>
22 Foundation 0x3361d242</strong> NSThread<strong>main</strong> +
966<br>
23 libSystem.B.dylib 0x33bd6886</em> pthread_start + 242<br>
24 libSystem.B.dylib 0x33bcba88 thread_start + 0</p>
<p>Thread 10:<br>
0 libSystem.B.dylib 0x33b5d2c4 semaphore_wait_signal_trap + 8<br>
1 libSystem.B.dylib 0x33b8ab3a semaphore_wait_signal + 2<br>
2 libSystem.B.dylib 0x33b5f0d0 pthread_mutex_lock + 252<br>
3 arti 0x001063de TI::TiLock::lock(TI::TiLockBehavior)
(TiLock.cpp:88)<br>
4 arti 0x0010640a TI::TiLock::DropAllLocks::~DropAllLocks()
(TiLock.cpp:207)<br>
5 arti 0x0010b834
TI::TiCallbackObject&lt;TI::TiObject&gt;::put(TI::TiExcState<em>,
TI::Identifier const&amp;, TI::TiValue, TI::PutPropertySlot&amp;)
(TiCallbackObjectFunctions.h:192)<br>
6 arti 0x000e9bfc
TI::Interpreter::privateExecute(TI::Interpreter::ExecutionFlag,
TI::RegisterFile</em>, TI::TiExcState<em>, TI::TiValue</em>)
(TiObject.h:663)<br>
7 arti 0x000f4b72
TI::Interpreter::execute(TI::FunctionExecutable<em>,
TI::TiExcState</em>, TI::TiFunction<em>, TI::TiObject</em>,
TI::ArgList const&amp;, TI::ScopeChainNode<em>, TI::TiValue</em>)
(Interpreter.cpp:688)<br>
8 arti 0x000fe27e TI::TiFunction::call(TI::TiExcState<em>,
TI::TiValue, TI::ArgList const&amp;) (TiFunction.cpp:127)<br>
9 arti 0x000b9b18 TI::call(TI::TiExcState</em>, TI::TiValue,
TI::CallType, TI::CallData const&amp;, TI::TiValue, TI::ArgList
const&amp;) (CallData.cpp:46)<br>
10 arti 0x00109d72 TiObjectCallAsFunction (TiObjectRef.cpp:417)<br>
11 arti 0x00023d5e -<a>KrollTimer invokeWithCondition:</a><br>
12 CoreFoundation 0x33a67fe6 -[NSObject(NSObject)
performSelector:withObject:withObject:] + 18<br>
13 arti 0x0001db2c -<a>KrollInvocation invoke:</a><br>
14 arti 0x0001d5d6 -<a>KrollContext invoke:</a><br>
15 arti 0x0001ed40 -<a>KrollContext main</a><br>
16 Foundation 0x33624192 -[NSThread main] + 38<br>
17 Foundation 0x3361d242 <strong>NSThread</strong>main<em>_ +
966<br>
18 libSystem.B.dylib 0x33bd6886</em> pthread_start + 242<br>
19 libSystem.B.dylib 0x33bcba88 thread_start + 0</p>
<p>Thread 11:<br>
0 libSystem.B.dylib 0x33b5d2dc semaphore_timedwait_signal_trap +
8<br>
1 libSystem.B.dylib 0x33b8b372 semaphore_timedwait_signal + 6<br>
2 libSystem.B.dylib 0x33b8a7a2 <em>pthread_cond_wait + 674<br>
3 libSystem.B.dylib 0x33b8b35e pthread_cond_timedwait_relative_np +
10<br>
4 Foundation 0x3364ce52 -[NSCondition waitUntilDate:] + 266<br>
5 Foundation 0x3364c874 -[NSConditionLock
lockWhenCondition:beforeDate:] + 160<br>
6 Foundation 0x3364c7c0 -[NSConditionLock lockWhenCondition:] +
36<br>
7 arti 0x00023f74 -<a>KrollTimer main</a><br>
8 Foundation 0x33624192 -[NSThread main] + 38<br>
9 Foundation 0x3361d242 <strong>NSThread</strong>main__ + 966<br>
10 libSystem.B.dylib 0x33bd6886</em> pthread_start + 242<br>
11 libSystem.B.dylib 0x33bcba88 thread_start + 0</p>
<p>Unknown thread crashed with unknown flavor: 5, state_count:
1</p>
<p>Binary Images:<br></p>
<pre>
<code>0x1000 -   0x198fff +arti armv7  &lt;f5749dd8c5994a9b82df7b33fece8ce8&gt; /var/mobile/Applications/49D938B7-E578-40CE-AF27-45C37D9E3410/arti.app/arti</code>
</pre>
<p>0x288000 - 0x289fff dns.so armv7 /usr/lib/info/dns.so 0x28d000 -
0x291fff AccessibilitySettingsLoader armv7
/System/Library/AccessibilityBundles/AccessibilitySettingsLoader.bundle/AccessibilitySettingsLoader
0x297000 - 0x297fff iAdFramework armv7
/System/Library/AccessibilityBundles/iAdFramework.axbundle/iAdFramework
0x29a000 - 0x29cfff MessageUIFramework armv7
/System/Library/AccessibilityBundles/MessageUIFramework.axbundle/MessageUIFramework
0x2a2000 - 0x2a4fff MapKitFramework armv7
/System/Library/AccessibilityBundles/MapKitFramework.axbundle/MapKitFramework
0x2ab000 - 0x2abfff QuickLook armv7
/System/Library/AccessibilityBundles/QuickLook.axbundle/QuickLook
0x2ae000 - 0x2b2fff MediaPlayerFramework armv7
/System/Library/AccessibilityBundles/MediaPlayerFramework.axbundle/MediaPlayerFramework
0x2bb000 - 0x2bdfff AddressBookUIFramework armv7
/System/Library/AccessibilityBundles/AddressBookUIFramework.axbundle/AddressBookUIFramework
0x6ca000 - 0x703fff UIKit armv7
/System/Library/AccessibilityBundles/UIKit.axbundle/UIKit 0x6288000
- 0x628ffff PhotoLibraryFramework armv7
/System/Library/AccessibilityBundles/PhotoLibraryFramework.axbundle/PhotoLibraryFramework
0x2fe00000 - 0x2fe27fff dyld armv7 /usr/lib/dyld<br>
0x30005000 - 0x30006fff CoreSurface armv7
/System/Library/PrivateFrameworks/CoreSurface.framework/CoreSurface<br>
0x300bd000 - 0x301fafff MediaToolbox armv7
/System/Library/PrivateFrameworks/MediaToolbox.framework/MediaToolbox<br>
0x301fc000 - 0x302e4fff libGLProgrammability.dylib armv7
/System/Library/Frameworks/OpenGLES.framework/libGLProgrammability.dylib<br>
0x302e5000 - 0x303d0fff PhotoLibrary armv7
/System/Library/PrivateFrameworks/PhotoLibrary.framework/PhotoLibrary<br>
0x303d1000 - 0x30426fff libvDSP.dylib armv7
/System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libvDSP.dylib<br>
0x30428000 - 0x30a10fff WebCore armv7
/System/Library/PrivateFrameworks/WebCore.framework/WebCore<br>
0x30a11000 - 0x30a1bfff ExternalAccessory armv7
/System/Library/Frameworks/ExternalAccessory.framework/ExternalAccessory<br>
0x30a28000 - 0x30ad5fff JavaScriptCore armv7
/System/Library/PrivateFrameworks/JavaScriptCore.framework/JavaScriptCore<br>
0x30ad8000 - 0x30bf8fff libmecabra.dylib armv7
/usr/lib/libmecabra.dylib<br>
0x30bf9000 - 0x30c09fff DataAccessExpress armv7
/System/Library/PrivateFrameworks/DataAccessExpress.framework/DataAccessExpress<br>
0x30c16000 - 0x30c42fff DataAccess armv7
/System/Library/PrivateFrameworks/DataAccess.framework/DataAccess<br>
0x30c98000 - 0x30d57fff CFNetwork armv7
/System/Library/Frameworks/CFNetwork.framework/CFNetwork<br>
0x30d58000 - 0x30d60fff libkxld.dylib armv7
/usr/lib/system/libkxld.dylib<br>
0x30e58000 - 0x30e5bfff MobileIcons armv7
/System/Library/PrivateFrameworks/MobileIcons.framework/MobileIcons<br>
0x30e5c000 - 0x30e68fff AXRuntime armv7
/System/Library/PrivateFrameworks/AXRuntime.framework/AXRuntime<br>
0x30f53000 - 0x31263fff GeoServices armv7
/System/Library/PrivateFrameworks/GeoServices.framework/GeoServices<br>
0x31266000 - 0x3129cfff CoreText armv7
/System/Library/Frameworks/CoreText.framework/CoreText<br>
0x3129d000 - 0x312bffff Preferences armv7
/System/Library/PrivateFrameworks/Preferences.framework/Preferences<br>
0x313bb000 - 0x313e6fff IMFoundation armv7
/System/Library/PrivateFrameworks/IMCore.framework/Frameworks/IMFoundation.framework/IMFoundation<br>
0x313e7000 - 0x313e9fff MobileInstallation armv7
/System/Library/PrivateFrameworks/MobileInstallation.framework/MobileInstallation<br>
0x31451000 - 0x31464fff libmis.dylib armv7
/usr/lib/libmis.dylib<br>
0x314ad000 - 0x314b8fff libz.1.dylib armv7
/usr/lib/libz.1.dylib<br>
0x3156c000 - 0x3156efff SpringBoardUI armv7
/System/Library/PrivateFrameworks/SpringBoardUI.framework/SpringBoardUI<br>
0x3156f000 - 0x31630fff RawCamera armv7
/System/Library/CoreServices/RawCamera.bundle/RawCamera<br>
0x31633000 - 0x31634fff DataMigration armv7
/System/Library/PrivateFrameworks/DataMigration.framework/DataMigration<br>
0x3164b000 - 0x3164efff CertUI armv7
/System/Library/PrivateFrameworks/CertUI.framework/CertUI<br>
0x3164f000 - 0x31788fff AudioToolbox armv7
/System/Library/Frameworks/AudioToolbox.framework/AudioToolbox<br>
0x317ce000 - 0x317d3fff libMobileGestalt.dylib armv7
/usr/lib/libMobileGestalt.dylib<br>
0x317d6000 - 0x318c8fff MusicLibrary armv7
/System/Library/PrivateFrameworks/MusicLibrary.framework/MusicLibrary<br>
0x31934000 - 0x31946fff iAd armv7
/System/Library/Frameworks/iAd.framework/iAd<br>
0x31947000 - 0x3194ffff MobileWiFi armv7
/System/Library/PrivateFrameworks/MobileWiFi.framework/MobileWiFi<br>
0x31950000 - 0x31966fff EAP8021X armv7
/System/Library/PrivateFrameworks/EAP8021X.framework/EAP8021X<br>
0x31967000 - 0x319b1fff IMCore armv7
/System/Library/PrivateFrameworks/IMCore.framework/IMCore<br>
0x319b5000 - 0x319bbfff liblockdown.dylib armv7
/usr/lib/liblockdown.dylib<br>
0x319bc000 - 0x319d6fff FTServices armv7
/System/Library/PrivateFrameworks/FTServices.framework/FTServices<br>
0x319d7000 - 0x319dafff ApplePushService armv7
/System/Library/PrivateFrameworks/ApplePushService.framework/ApplePushService<br>
0x319dd000 - 0x31a36fff CorePDF armv7
/System/Library/PrivateFrameworks/CorePDF.framework/CorePDF<br>
0x31a3f000 - 0x31a7cfff CoreMedia armv7
/System/Library/Frameworks/CoreMedia.framework/CoreMedia<br>
0x31a97000 - 0x31b2afff ImageIO armv7
/System/Library/Frameworks/ImageIO.framework/ImageIO<br>
0x31b2c000 - 0x31b2ffff ArtworkCache armv7
/System/Library/PrivateFrameworks/ArtworkCache.framework/ArtworkCache<br>
0x31b39000 - 0x31b3ffff StoreKit armv7
/System/Library/Frameworks/StoreKit.framework/StoreKit<br>
0x31b40000 - 0x31b80fff CoreAudio armv7
/System/Library/Frameworks/CoreAudio.framework/CoreAudio<br>
0x31b81000 - 0x31b96fff libresolv.9.dylib armv7
/usr/lib/libresolv.9.dylib<br>
0x31b97000 - 0x31be1fff libstdc++.6.dylib armv7
/usr/lib/libstdc++.6.dylib<br>
0x31be4000 - 0x31c9afff MapKit armv7
/System/Library/Frameworks/MapKit.framework/MapKit<br>
0x31c9b000 - 0x31ca7fff SpringBoardServices armv7
/System/Library/PrivateFrameworks/SpringBoardServices.framework/SpringBoardServices<br>
0x31cb8000 - 0x31ceafff AppSupport armv7
/System/Library/PrivateFrameworks/AppSupport.framework/AppSupport<br>
0x31ceb000 - 0x31cf4fff CoreVideo armv7
/System/Library/Frameworks/CoreVideo.framework/CoreVideo<br>
0x31cfc000 - 0x31d2ffff QuickLook armv7
/System/Library/Frameworks/QuickLook.framework/QuickLook<br>
0x31d30000 - 0x31d37fff AggregateDictionary armv7
/System/Library/PrivateFrameworks/AggregateDictionary.framework/AggregateDictionary<br>
0x31d4b000 - 0x31e3efff GameKitServices armv7
/System/Library/PrivateFrameworks/GameKitServices.framework/GameKitServices<br>
0x31e58000 - 0x31f67fff MediaPlayer armv7
/System/Library/Frameworks/MediaPlayer.framework/MediaPlayer<br>
0x31f68000 - 0x31f88fff PrintKit armv7
/System/Library/PrivateFrameworks/PrintKit.framework/PrintKit<br>
0x31f89000 - 0x31f8ffff BluetoothManager armv7
/System/Library/PrivateFrameworks/BluetoothManager.framework/BluetoothManager<br>
0x32011000 - 0x32058fff MessageUI armv7
/System/Library/Frameworks/MessageUI.framework/MessageUI<br>
0x32059000 - 0x32061fff MobileBluetooth armv7
/System/Library/PrivateFrameworks/MobileBluetooth.framework/MobileBluetooth<br>
0x32062000 - 0x323e3fff UIKit armv7
/System/Library/Frameworks/UIKit.framework/UIKit<br>
0x3244f000 - 0x32458fff WebBookmarks armv7
/System/Library/PrivateFrameworks/WebBookmarks.framework/WebBookmarks<br>
0x32481000 - 0x32483fff libAccessibility.dylib armv7
/usr/lib/libAccessibility.dylib<br>
0x3252a000 - 0x3255ffff ImageCapture armv7
/System/Library/PrivateFrameworks/ImageCapture.framework/ImageCapture<br>
0x3256d000 - 0x3261cfff WebKit armv7
/System/Library/PrivateFrameworks/WebKit.framework/WebKit<br>
0x3261e000 - 0x3262bfff libbsm.0.dylib armv7
/usr/lib/libbsm.0.dylib<br>
0x3262e000 - 0x32671fff ManagedConfiguration armv7
/System/Library/PrivateFrameworks/ManagedConfiguration.framework/ManagedConfiguration<br>
0x326e1000 - 0x3270bfff libtidy.A.dylib armv7
/usr/lib/libtidy.A.dylib<br>
0x32711000 - 0x32732fff MobileSync armv7
/System/Library/PrivateFrameworks/MobileSync.framework/MobileSync<br>
0x32ac8000 - 0x32acafff libgcc_s.1.dylib armv7
/usr/lib/libgcc_s.1.dylib<br>
0x32ad8000 - 0x32adffff libbz2.1.0.dylib armv7
/usr/lib/libbz2.1.0.dylib<br>
0x32ae0000 - 0x32b09fff ContentIndex armv7
/System/Library/PrivateFrameworks/ContentIndex.framework/ContentIndex<br>
0x32b0a000 - 0x32b44fff IOKit armv7
/System/Library/Frameworks/IOKit.framework/Versions/A/IOKit<br>
0x32b45000 - 0x32b7cfff Security armv7
/System/Library/Frameworks/Security.framework/Security<br>
0x32b82000 - 0x32baafff StoreServices armv7
/System/Library/PrivateFrameworks/StoreServices.framework/StoreServices<br>
0x32bab000 - 0x32badfff IOMobileFramebuffer armv7
/System/Library/PrivateFrameworks/IOMobileFramebuffer.framework/IOMobileFramebuffer<br>
0x32bae000 - 0x32e48fff libLAPACK.dylib armv7
/System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libLAPACK.dylib<br>
0x32e8a000 - 0x32e8dfff CaptiveNetwork armv7
/System/Library/PrivateFrameworks/CaptiveNetwork.framework/CaptiveNetwork<br>
0x32eac000 - 0x32f05fff EventKit armv7
/System/Library/Frameworks/EventKit.framework/EventKit<br>
0x32f06000 - 0x32f23fff AppleAccount armv7
/System/Library/PrivateFrameworks/AppleAccount.framework/AppleAccount<br>
0x32f24000 - 0x32f55fff VideoToolbox armv7
/System/Library/PrivateFrameworks/VideoToolbox.framework/VideoToolbox<br>
0x32f56000 - 0x32f66fff TelephonyUI armv7
/System/Library/PrivateFrameworks/TelephonyUI.framework/TelephonyUI<br>
0x32f67000 - 0x32f71fff AccountSettings armv7
/System/Library/PrivateFrameworks/AccountSettings.framework/AccountSettings<br>
0x32f72000 - 0x32f7ffff OpenGLES armv7
/System/Library/Frameworks/OpenGLES.framework/OpenGLES<br>
0x32fc8000 - 0x32ffbfff AddressBook armv7
/System/Library/Frameworks/AddressBook.framework/AddressBook<br>
0x32ffc000 - 0x32ffffff libGFXShared.dylib armv7
/System/Library/Frameworks/OpenGLES.framework/libGFXShared.dylib<br>
0x3301a000 - 0x330a3fff Message armv7
/System/Library/PrivateFrameworks/Message.framework/Message<br>
0x330fd000 - 0x3314dfff GMM armv7
/System/Library/PrivateFrameworks/GMM.framework/GMM<br>
0x3316c000 - 0x331affff IMAVCore armv7
/System/Library/PrivateFrameworks/IMAVCore.framework/IMAVCore<br>
0x331b6000 - 0x331c5fff UIAccessibility armv7
/System/Library/PrivateFrameworks/UIAccessibility.framework/UIAccessibility<br>
0x331c6000 - 0x331cffff ITSync armv7
/System/Library/PrivateFrameworks/ITSync.framework/ITSync<br>
0x331d0000 - 0x3323ffff ProofReader armv7
/System/Library/PrivateFrameworks/ProofReader.framework/ProofReader<br>
0x33240000 - 0x33347fff CoreData armv7
/System/Library/Frameworks/CoreData.framework/CoreData<br>
0x33393000 - 0x333defff libBLAS.dylib armv7
/System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/libBLAS.dylib<br>
0x333df000 - 0x333e2fff IOSurface armv7
/System/Library/PrivateFrameworks/IOSurface.framework/IOSurface<br>
0x33476000 - 0x33537fff libobjc.A.dylib armv7
/usr/lib/libobjc.A.dylib<br>
0x335dc000 - 0x335dffff ActorKit armv7
/System/Library/PrivateFrameworks/ActorKit.framework/ActorKit<br>
0x335e0000 - 0x335e2fff Camera armv7
/System/Library/PrivateFrameworks/Camera.framework/Camera<br>
0x335e8000 - 0x335e8fff Accelerate armv7
/System/Library/Frameworks/Accelerate.framework/Accelerate<br>
0x335e9000 - 0x335f8fff Notes armv7
/System/Library/PrivateFrameworks/Notes.framework/Notes<br>
0x33619000 - 0x33738fff Foundation armv7
/System/Library/Frameworks/Foundation.framework/Foundation<br>
0x33748000 - 0x33795fff libsqlite3.dylib armv7
/usr/lib/libsqlite3.dylib<br>
0x33797000 - 0x337b0fff libRIP.A.dylib armv7
/System/Library/Frameworks/CoreGraphics.framework/Resources/libRIP.A.dylib<br>
0x337e8000 - 0x337fbfff MediaControl armv7
/System/Library/PrivateFrameworks/MediaControl.framework/MediaControl<br>
0x337ff000 - 0x33837fff libCGFreetype.A.dylib armv7
/System/Library/Frameworks/CoreGraphics.framework/Resources/libCGFreetype.A.dylib<br>
0x33899000 - 0x338a8fff MobileDeviceLink armv7
/System/Library/PrivateFrameworks/MobileDeviceLink.framework/MobileDeviceLink<br>
0x338e1000 - 0x33977fff AddressBookUI armv7
/System/Library/Frameworks/AddressBookUI.framework/AddressBookUI<br>
0x33980000 - 0x33980fff vecLib armv7
/System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/vecLib<br>
0x33a20000 - 0x33b06fff CoreFoundation armv7
/System/Library/Frameworks/CoreFoundation.framework/CoreFoundation<br>
0x33b07000 - 0x33b09fff MediaRemote armv7
/System/Library/PrivateFrameworks/MediaRemote.framework/MediaRemote<br>
0x33b0a000 - 0x33b16fff GraphicsServices armv7
/System/Library/PrivateFrameworks/GraphicsServices.framework/GraphicsServices<br>
0x33b43000 - 0x33b48fff MobileKeyBag armv7
/System/Library/PrivateFrameworks/MobileKeyBag.framework/MobileKeyBag<br>
0x33b5c000 - 0x33c6dfff libSystem.B.dylib armv7
/usr/lib/libSystem.B.dylib<br>
0x33c95000 - 0x33d36fff Celestial armv7
/System/Library/PrivateFrameworks/Celestial.framework/Celestial<br>
0x33d6b000 - 0x33d94fff MobileCoreServices armv7
/System/Library/Frameworks/MobileCoreServices.framework/MobileCoreServices<br>
0x33d95000 - 0x33d99fff AssetsLibraryServices armv7
/System/Library/PrivateFrameworks/AssetsLibraryServices.framework/AssetsLibraryServices<br>
0x33f4e000 - 0x33f54fff ProtocolBuffer armv7
/System/Library/PrivateFrameworks/ProtocolBuffer.framework/ProtocolBuffer<br>
0x33f55000 - 0x33f91fff Conference armv7
/System/Library/PrivateFrameworks/Conference.framework/Conference<br>
0x340c9000 - 0x340f8fff SystemConfiguration armv7
/System/Library/Frameworks/SystemConfiguration.framework/SystemConfiguration<br>
0x340f9000 - 0x341a7fff QuartzCore armv7
/System/Library/Frameworks/QuartzCore.framework/QuartzCore<br>
0x341a8000 - 0x341bafff VoiceServices armv7
/System/Library/PrivateFrameworks/VoiceServices.framework/VoiceServices<br>
0x341c1000 - 0x342e1fff CoreGraphics armv7
/System/Library/Frameworks/CoreGraphics.framework/CoreGraphics<br>
0x34335000 - 0x34368fff iCalendar armv7
/System/Library/PrivateFrameworks/iCalendar.framework/iCalendar<br>
0x34369000 - 0x3439ffff CoreLocation armv7
/System/Library/Frameworks/CoreLocation.framework/CoreLocation<br>
0x343c3000 - 0x3446cfff libxml2.2.dylib armv7
/usr/lib/libxml2.2.dylib<br>
0x344a0000 - 0x344cefff MIME armv7
/System/Library/PrivateFrameworks/MIME.framework/MIME<br>
0x344cf000 - 0x344d1fff Marco armv7
/System/Library/PrivateFrameworks/Marco.framework/Marco<br>
0x3451f000 - 0x3460cfff libiconv.2.dylib armv7
/usr/lib/libiconv.2.dylib<br>
0x34613000 - 0x34625fff PersistentConnection armv7
/System/Library/PrivateFrameworks/PersistentConnection.framework/PersistentConnection<br>
0x3464e000 - 0x34764fff libicucore.A.dylib armv7
/usr/lib/libicucore.A.dylib<br>
0x34774000 - 0x347b3fff libGLImage.dylib armv7
/System/Library/Frameworks/OpenGLES.framework/libGLImage.dylib<br>
0x347d9000 - 0x34855fff AVFoundation armv7
/System/Library/Frameworks/AVFoundation.framework/AVFoundation<br>
0x34860000 - 0x34866fff IAP armv7
/System/Library/PrivateFrameworks/IAP.framework/IAP<br>
0x34867000 - 0x34886fff Bom armv7
/System/Library/PrivateFrameworks/Bom.framework/Bom<br>
0x34887000 - 0x348c9fff CoreTelephony armv7
/System/Library/Frameworks/CoreTelephony.framework/CoreTelephony<br>
0x348ca000 - 0x348ccfff CrashReporterSupport armv7
/System/Library/PrivateFrameworks/CrashReporterSupport.framework/CrashReporterSupport<br>
0x348e6000 - 0x3625ffff TextInput armv7
/System/Library/PrivateFrameworks/TextInput.framework/TextInput</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2784_18214/crash.txt">crash.txt</td></td><td>2011-04-15T03:29:27.000+0000</td><td>50125</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ralf Pfeiffer 2011-04-15

   <div><p>This additional provided by another developer may provide some
   additional context</p>
   <p>Note: I hope I am not adding info to the ticket which is not
   relevant, but if not we should open another ticket on this symptom
   which is also being experienced.</p>
   <p>When opening the App I get an Alert saying<br>
   error: "Error Domain=kCLErrorDomain Code=1"The operation couldn't
   be completed. (kCLErrorDomain error 1.)""</p>
   <p>Also, it frequently crashes when attempting to take pictures and
   also isn't accurately displaying locations.</p>
   <p>Here is a Q&amp;A with the same symptom:<br>
   <a href=
   "<a href="http://developer.appcelerator.com/question/98511/kclerrordomain-error-when-opening-app-help#header" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/98511/kclerrordomain-error-when-opening-app-help#header</a>">
   <a href="http://developer.appcelerator.com/question/98511/kclerrordomain-err..." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/98511/kclerrordomain-err...</a></a></p>
   <p>Here is an HS ticket:<br>
   <a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/56691" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/56691</a>"><a href="http://developer.appcelerator.com/helpdesk/view/56691" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/56691</a></a></p>
   <p>It seems here is some history and discussion around Location
   Services.</p></div></li>
<li>Blain Hamon 2011-04-15

   <div><p>The geolocation issues are unrelated.</p></div></li>
<li>Ralf Pfeiffer 2011-04-15

   <div><p>Blain please put on master if not already and change to
   fixed-in-qa - so Jeff can test.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/735cd871ef1b0da396db56647259068b3c1f5e5d"
   title=
   "Changeset [735cd871ef1b0da396db56647259068b3c1f5e5d]">[735cd871ef1b0da396db56647259068b3c1f5e5d]</a>)
   [<a href="/projects/32238/tickets/2784" title=
   "Ticket #2784">#2784</a> state:fixed-in-qa] WaitUntilDone is the
   way to deadlocks. <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/735cd871ef1b0da396db56647259068b3c1f5e5d" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/735cd871ef1b0da396db56647259068b3c1f5e5d</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/735cd871ef1b..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/735cd871ef1b...</a></a></p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/91a1c78e10e6dff04f591a8149ad660783c285fc"
   title=
   "Changeset [91a1c78e10e6dff04f591a8149ad660783c285fc]">[91a1c78e10e6dff04f591a8149ad660783c285fc]</a>)
   [<a href="/projects/32238/tickets/2784" title=
   "Ticket #2784">#2784</a> state:fixed-in-qa] What about a better
   isEqualTo? Maybe that fixes it for real? <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/91a1c78e10e6dff04f591a8149ad660783c285fc" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/91a1c78e10e6dff04f591a8149ad660783c285fc</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/91a1c78e10e6..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/91a1c78e10e6...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>unable to repro deadlock, closing against <a href=
   "/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (01/12/11
   14:54 ff401e1) and scotts iphone 4. however, opened a new crash
   <a href=
   "<a href="https://appcelerator.lighthouseapp.com/projects/32238-titanium-mobile/tickets/2809-ios-intermittent-crash-when-using-arti-demo" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238-titanium-mobile/tickets/2809-ios-intermittent-crash-when-using-arti-demo</a>">
   <a href="https://appcelerator.lighthouseapp.com/projects/32238-titanium-mobi..." rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238-titanium-mobi...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>and reopening based on my testing this morning with <a href=
   "/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (01/13/11
   08:11 7ca73a3). As per the crashlog the deadlock is happening in a
   new thread, but its a still a deadlock. Attaching crash log and
   console.</p>
   <p>repro was:<br>
   1.log in FB module<br>
   2.Tap "whats around me"<br>
   3.when the overlay comes up, tap cancel/back<br>
   4.repeat</p>
   <p>lots of mem warnings followed by freeze/crash</p></div></li>
<li>Ralf Pfeiffer 2011-04-15

   <div><p>This is a "whackamole". A number of crashes are fixed. The last
   one was uncovered via fixing others.</p></div></li>
<li>Blain Hamon 2011-04-15

   <div><p>The deadlocks are an interaction when a JS-called method in a
   background thread waits on the main thread while a callback is
   deallocated on the main thread. Last time, it was tab opening on
   the bg thread. This time, however, it's updating views themselves.
   Ideally, this could be fixed, but that's too deep for 1.6.</p>
   <p>Band-aiding the hideCamera to dealloc the callback while still
   in the background for now, but this should be fixed for real at
   some time.</p></div></li>
<li>Blain Hamon 2011-04-15

    <div><p>Having to delay the fix until we can test on an iPhone 4 that
    isn't mission critical.</p></div></li>
<li>Blain Hamon 2011-04-15

    <div><p>Might as well give it a more appropriate state. We're in a
    holding pattern until we get a device that will run ARTi.</p></div></li>
<li>Thomas Huelbert 2011-04-15

    <div><p>banged on it today using <a href=
    "/projects/32238/changesets/INFO" title=
    "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (01/28/11
    08:32 e46f49a) and no crashes seen. still seeing mem warnings, but
    no crash. closing</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2784.json">JSON Source</a></p>