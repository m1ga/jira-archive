---
title: "[TIMOB-2794] iPhone YouTube on webview crashes app"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Hold</td></tr>
<tr><th>Resolution Date</th><td>2011-05-16T11:05:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-19</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>html5, ios, klist, release-1.7.0, video, webview</td></tr>
<tr><th>Reporter</th><td>Pedro Enrique</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-04-15T03:29:44.000+0000</td></tr>
<tr><th>Updated</th><td>2011-05-16T11:05:24.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>I have tried with two different sites containing HTML5 videos:
YouTube and Vimeo.<br>
Opening a webview twice with YouTube crashes the app.</p>
<p>To reproduce, click on the YouTube button, start watching the
video. Close the window. Click a Vimeo video, start watching and
close the window. Open the YouTube video again...crash. But if you
open a Vimeo window twice, no crash.</p>
<p>Code:<br>
<a href=
"<a href="http://pastie.org/private/xtfr931fbs0pdlmzulb0ka" rel="nofollow" target="_blank">http://pastie.org/private/xtfr931fbs0pdlmzulb0ka</a>"><a href="http://pastie.org/private/xtfr931fbs0pdlmzulb0ka" rel="nofollow" target="_blank">http://pastie.org/private/xtfr931fbs0pdlmzulb0ka</a></a></p>
<p>iPhone Simulator and Device 4.2<br>
Ti. SDK 1.5.1 and 1.6</p>
<p>Problem reported on HD ticket, half way through the page:<br>
<a href=
"<a href="http://developer.appcelerator.com/helpdesk/view/63611" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/63611</a>"><a href="http://developer.appcelerator.com/helpdesk/view/63611" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/63611</a></a></p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2794_18377/app.js">app.js</td></td><td>2011-04-21T11:53:18.000+0000</td><td>2416</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-2794_18500/WebFailings.zip">WebFailings.zip</td></td><td>2011-05-16T10:51:33.000+0000</td><td>8551156</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Matt Collinge 2011-04-15

   <div><p>I've just hit this bug in Ti 1.6.0. It's been open for nearly 2
   months; any idea when it'll be fixed?</p></div></li>
<li>Reggie Seagraves 2011-04-21

   Unable to reproduce this crash on master.  App.js attached.</li>
<li>Pedro Enrique 2011-05-06

   Sorry to reopen this, but it is still not fixed.
   
   Tested with
   - Ti SDK 1.6.3 (Apr 18 2011 16:23 rb8672b44)
   - Ti SDK 1.7.0 (May 6 2011 06:44 r5d95bfe8)
   
   In iPhone simulator 4.3
   
   There is another helpdesk ticket that is working with youtube videos and needs this fixed.
   <a href="http://support.appcelerator.com/tickets/APP-832398/homepage" rel="nofollow" target="_blank">http://support.appcelerator.com/tickets/APP-832398/homepage</a></li>
<li>Jacob Relkin 2011-05-06

   I can reproduce this issue on iOS Simulator 4.2
   
   Backtrace:
   
   
   #0  0x02c97d42 in WebCore::RenderLayer::clippingRoot ()
   #1  0x02c97b65 in WebCore::RenderLayer::childrenClipRect ()
   #2  0x02c97918 in WebCore::RenderWidget::setWidgetGeometry ()
   #3  0x02c625b3 in WebCore::RenderWidget::updateWidgetPosition ()
   #4  0x02b1164e in WebCore::RenderView::updateWidgetPositions ()
   #5  0x02b042c6 in WebCore::FrameView::performPostLayoutTasks ()
   #6  0x02aef6f0 in WebCore::FrameView::layout ()
   #7  0x02b5438a in WebCore::FrameView::forceLayout ()
   #8  0x02728bd7 in -[WebHTMLView layoutToMinimumPageWidth:height:maximumPageWidth:adjustingViewSize:] ()
   #9  0x02728ae8 in -[WebHTMLView layout] ()
   #10 0x0272ae04 in -[WebHTMLView(WebInternal) _web_layoutIfNeededRecursive] ()
   #11 0x0272ace2 in -[WebHTMLView(WebPrivate) viewWillDraw] ()
   #12 0x021cf2cf in -[NSArray makeObjectsPerformSelector:] ()
   #13 0x02b2d95e in -[WAKView viewWillDraw] ()
   #14 0x021cf2cf in -[NSArray makeObjectsPerformSelector:] ()
   #15 0x02b2d95e in -[WAKView viewWillDraw] ()
   #16 0x021cf2cf in -[NSArray makeObjectsPerformSelector:] ()
   #17 0x02b2d95e in -[WAKView viewWillDraw] ()
   #18 0x021cf2cf in -[NSArray makeObjectsPerformSelector:] ()
   #19 0x02b2d95e in -[WAKView viewWillDraw] ()
   #20 0x0272ac1f in -[WebView(WebPrivate) viewWillDraw] ()
   #21 0x02b2d86c in WebCore::TileCache::prepareToDraw ()
   #22 0x02b2d7f3 in -[TileLayer display] ()
   #23 0x01914be4 in CALayerDisplayIfNeeded ()
   #24 0x0190738b in CA::Context::commit_transaction ()
   #25 0x019070d0 in CA::Transaction::commit ()
   #26 0x019377d5 in CA::Transaction::observer_callback ()
   #27 0x02239fbb in __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ ()
   #28 0x021cf0e7 in __CFRunLoopDoObservers ()
   #29 0x02197bd7 in __CFRunLoopRun ()
   #30 0x02197240 in CFRunLoopRunSpecific ()
   #31 0x02197161 in CFRunLoopRunInMode ()
   #32 0x0402a268 in GSEventRunModal ()
   #33 0x0402a32d in GSEventRun ()
   #34 0x0089742e in UIApplicationMain ()
   #35 0x00003aaa in main (argc=1, argv=0xbfffef80) at /Users/jrelkin/Documents/Code/titanium_mobile/titanium_mobile/iphone/iphone/main.m:28</li>
<li>Reggie Seagraves 2011-05-10

   Putting on hold as an Apple bug.</li>
<li>Jacob Relkin 2011-05-13

   Filed bug with Apple. (radar# 9434849)</li>
<li>Stephen Tramer 2011-05-16

   We may want to create a separate task for tracking 'hold' bugs.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2794.json">JSON Source</a></p>