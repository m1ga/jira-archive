---
title: "[TIMOB-2806] Android: module api: assets/ folder contents not being included."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T02:00:08.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M05</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, release-1.6.0, reported-1.5.1</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-04-15T03:30:00.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T02:00:08.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Reproduce:</p>
<ul>
<li>Create a new module or use an existing one.</li>
<li>Put a file such as a PNG in the assets/ folder below the module
root.</li>
<li>Build the project using ant.</li>
<li>In the dist folder, use <code>jar tf [jarfile]</code> and
<code>unzip -l [zipfile]</code> to confirm that the asset file was
not put anywhere.</li>
</ul></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>Marshall,</p>
   <p>Have a look at this diff:</p>
   <pre>
   <code class=
   "diff">diff --git a/support/module/android/build.xml b/support/module/android/build.xml
   index 3e51233..dd46c51 100644
   --- a/support/module/android/build.xml
   +++ b/support/module/android/build.xml
   @@ -71,7 +71,10 @@
       &lt;target name="dist" depends="compile" description="Generate a distributable module JAR"&gt;
           &lt;ti.string property="module.id" string="${manifest.moduleid}" tolowercase="true"/&gt;
           &lt;property name="module.jar" location="${dist}/${ant.project.name}.jar"/&gt;
   -       &lt;jar destfile="${module.jar}" basedir="${classes}"/&gt;
   +       &lt;jar destfile="${module.jar}"&gt;
   +           &lt;fileset dir="${classes}"/&gt;
   +           &lt;fileset dir="${ti.module.root}" includes="assets/**" excludes="assets/README"/&gt;
   +       &lt;/jar&gt;
           &lt;property name="zip.prefix" value="modules/android/${module.id}/${manifest.version}"/&gt;
           
           &lt;zip destfile="${dist}/${module.id}-android-${manifest.version}.zip"&gt;</code>
   </pre>
   <p>(Pretty version: <a href=
   "<a href="https://skitch.com/billdawson/rjnfb/timobile-bash-125x25)" rel="nofollow" target="_blank">https://skitch.com/billdawson/rjnfb/timobile-bash-125x25)</a>"><a href="https://skitch.com/billdawson/rjnfb/timobile-bash-125x25)" rel="nofollow" target="_blank">https://skitch.com/billdawson/rjnfb/timobile-bash-125x25)</a></a>.</p>
   <p>I didn't want to commit anything without checking with you. This
   change achieves just what I wanted: the ability to use
   <code>getClass().getClassLoader().getResourceAsStream("assets/xxxx.png");</code>,
   but I'm not sure if that's the way you intended the
   <code>assets/</code> folder to be used.</p>
   <p>Thx,<br>
   Bill</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>Putting this in 1.6 since it's a pretty big deal, but haven't
   assigned a milestone for it -- I'll let marshall/don choose.</p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>Hey Bill.. this looks right, feel free to push it</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/70ff1a5d3829e972fe137db914821e0cec4f348d"
   title=
   "Changeset [70ff1a5d3829e972fe137db914821e0cec4f348d]">[70ff1a5d3829e972fe137db914821e0cec4f348d]</a>)
   [<a href="/projects/32238/tickets/2806" title=
   "Ticket #2806">#2806</a> state:fixed-in-qa] patch module build.xml
   to include assets folder contents <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/70ff1a5d3829e972fe137db914821e0cec4f348d" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/70ff1a5d3829e972fe137db914821e0cec4f348d</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/70ff1a5d3829..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/70ff1a5d3829...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/71e5697df121928e2d3ebe5934ee503236a3ced9"
   title=
   "Changeset [71e5697df121928e2d3ebe5934ee503236a3ced9]">[71e5697df121928e2d3ebe5934ee503236a3ced9]</a>)
   [<a href="/projects/32238/tickets/2806" title=
   "Ticket #2806">#2806</a> state:fixed-in-qa] patch module build.xml
   to include assets folder contents <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/71e5697df121928e2d3ebe5934ee503236a3ced9" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/71e5697df121928e2d3ebe5934ee503236a3ced9</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/71e5697df121..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/71e5697df121...</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>verified assets bundling works with new and existing module
   projects</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2806.json">JSON Source</a></p>