---
title: "[TIMOB-2819] iOS - loading a @2x image with hires set to true does not scale to imageView"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T02:00:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M07</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>2x, image, ios, regression, release-1.6.0, retina</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-04-15T03:30:21.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T02:00:10.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>notes from, <a href="/projects/32238/tickets/1543" title=
"Ticket #1543">#1543</a> (#2805 has also been logged against 2X
image scaling). Works as expected in 1.5.1 <a href=
"/projects/32238/changesets/INFO" title=
"Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (01/12/11
09:38 db09d1e)</p>
<p>"The 2x image loaded, but it seems that the image scaling code
was not modified to take this into account. 2x images appear
visually to be half the size they should be. Example:<br>
I have a 60x60 Ti.UI.ImageView. On a iPhone 3, my remote image
loads, and is scaled to fill the 60x60 space.<br>
However, on an iPhone 4, the high-res image seems to have scaled to
only take up half of the space. I believe the image scaled to
literally 60x60px, instead of 60x60 points on the screen (aka
120x120px).<br>
My code:<br></p>
<pre>
<code>// left image
var updateImage = Titanium.UI.createImageView({
    defaultImage:'images/loading_60.png',
    image:thisUpdate.updateCauseIcon,
    top:5,
    left:10,
    width:60,
    height:60
});
// iPhone 4 display
if (Titanium.Platform.displayCaps.dpi == 320) {
    updateImage.image = thisUpdate.updateCauseIcon2x;
    updateImage.hires = true;
}</code>
</pre></div>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2011-04-15

   <div><p>Going to have to dig deeper on that. Do we have the sample
   images so I can understand the context? Is there an images/<a href=
   "mailto:loading_60@2x.png">loading_60@2x.png</a> that's being
   shrunk?</p></div></li>
<li>MelloMike 2011-04-15

   <div><p>Hi Blain, this only happens with remote images, not images in
   the resources folder with @2x.png. So for example:</p>
   <p>and UI.Image component with the following properties</p>
   <p>imageComponent.image = <a href=
   "<a href="http://example.com/image200x200.jpg" rel="nofollow" target="_blank">http://example.com/image200x200.jpg</a>"><a href="http://example.com/image200x200.jpg" rel="nofollow" target="_blank">http://example.com/image200x200.jpg</a></a>;<br>
   imageComponent.width = 200;<br>
   imageComponent.height = 200;<br>
   imageComponent.hires = true;</p>
   <p>As you can see the Image being pulled from the web is 200x200 ..
   and the image component in the app is 200x200. However when the
   image loads into the component it'll be scaled down 50% to 100x100.
   The bounds of the imageComponent is still 200x200.</p>
   <p>imageComponent<br>
   <em>-----------------</em> |<em>--------</em> | | | | | | | | | |
   |<em>--------</em> | | | | | <em>-----------------</em></p></div></li>
<li>Blain Hamon 2011-04-15

   <div><p>You do realize that the hires property was made explicitly to
   treat the image as a hi-res image, and like @2x local images, show
   the image at 50% where one pixel in the graphic maps to one
   physical pixel onscreen?</p>
   <p>That is, imageComponent.image MUST 400 pixels by 400 pixels in
   order to fill a logical 200*200?</p></div></li>
<li>MelloMike 2011-04-15

   <div><p>Hi Blain, sorry I gave you that example wrong.</p>
   <p>if the imageComponent.width and height are both 100 ... and the
   image is 200x200 ... the image will still be scaled 50% .. so the
   image will actually be 50x50 inside the imageComponent</p>
   <p>Sorry for the mixup.</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/955e9a133c8613d76c8df7fdff28716832268175"
   title=
   "Changeset [955e9a133c8613d76c8df7fdff28716832268175]">[955e9a133c8613d76c8df7fdff28716832268175]</a>)
   [<a href="/projects/32238/tickets/2819" title=
   "Ticket #2819">#2819</a> state:fixed-in-qa] There's a more elegant
   way, but this works for now. <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/955e9a133c8613d76c8df7fdff28716832268175" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/955e9a133c8613d76c8df7fdff28716832268175</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/955e9a133c86..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/955e9a133c86...</a></a></p></div></li>
<li>Shannon 2011-04-15

   <div><p>jhaynie: I just tried with build "Jan 25 2011 13:35 r1f1dd51d",
   and I'm not finding any change. Yes, I tried emptying out the
   build/iphone directory and doing a clean build. In fact, it looks
   like a step backwards, as now my defaultImage is displaying at half
   the correct size. Here's a code example with URL for you to
   test:</p>
   <pre>
   <code>var beerImage = Titanium.UI.createImageView({
       defaultImage:'images/loading_60.png',
       image:'<a href="http://beerimages.pintley.com/2948/PietraVerre25cl_mobileThumb.png" rel="nofollow" target="_blank">http://beerimages.pintley.com/2948/PietraVerre25cl_mobileThumb.png</a>',
       width:60,
       height:60
   });
   // iPhone 4 display
   if (Titanium.Platform.displayCaps.dpi == 320) {
       beerImage.image = '<a href="http://beerimages.pintley.com/2948/PietraVerre25cl_web.png" rel="nofollow" target="_blank">http://beerimages.pintley.com/2948/PietraVerre25cl_web.png</a>';
       beerImage.hires = true;
   }
   myView.add(beerImage);</code>
   </pre>
   <p>Note that the hires image is actually bigger than needed, it's
   141x141, not 120x120 as you might expect.</p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>hey Shannon, please try a more recent pull.</p>
   <p>closing against <a href="/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (02/02/11
   07:59 a632082) ipod 4GT (4.2.1) and 4.1</p></div></li>
<li>Shannon 2011-04-15

   <div><p>PERFECT! Thanks for the fast work on this one guys, it was a
   real showstopper for my app!</p></div></li>
<li>hamii 2011-04-15

   <div><p>How about the coverflow object? How can we set "hires" on it? I
   certainly can see checking for the higher dpi, but I don't see
   anyway to tell the object that the images are "hires".</p>
   <p>Love to hear your thoughts.</p></div></li>
<li>Stephen Tramer 2011-04-15

    <div><p>Coverflow does not support remote hires images.</p></div></li>
<li>hamii 2011-04-15

    <div><p>How unfortunate. It is a great control and is of little value
    for the Retna display devices. Would be a great enhancement to
    have.</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2819.json">JSON Source</a></p>