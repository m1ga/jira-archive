---
title: "[TIMOB-2876] Android: TiPlatformHelper NPE on Galaxy Tab"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T02:00:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M06</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, platform, release-1.6.0, reported-1.6.0</td></tr>
<tr><th>Reporter</th><td>Marshall Culpepper</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-04-15T03:31:47.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T02:00:19.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Looks like we rely on the internal "tiApp" to be set from
initialize(), but we can just use the instance from
TiApplication.getInstance() to avoid the NPE. Here's the trace:</p>
<pre>
<code>
E/TiUncaughtHandler(31008): java.lang.RuntimeException: Unable to start activity ComponentInfo{org.appcelerator.kitchensink/org.appcelerator.kitchensink.KitchensinkActivity}: java.lang.NullPointerException
E/TiUncaughtHandler(31008):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2663)
E/TiUncaughtHandler(31008):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2679)
E/TiUncaughtHandler(31008):     at android.app.ActivityThread.access$2300(ActivityThread.java:125)
E/TiUncaughtHandler(31008):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2033)
E/TiUncaughtHandler(31008):     at android.os.Handler.dispatchMessage(Handler.java:99)
E/TiUncaughtHandler(31008):     at android.os.Looper.loop(Looper.java:123)
E/TiUncaughtHandler(31008):     at android.app.ActivityThread.main(ActivityThread.java:4627)
E/TiUncaughtHandler(31008):     at java.lang.reflect.Method.invokeNative(Native Method)
E/TiUncaughtHandler(31008):     at java.lang.reflect.Method.invoke(Method.java:521)
E/TiUncaughtHandler(31008):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:871)
E/TiUncaughtHandler(31008):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:629)
E/TiUncaughtHandler(31008):     at dalvik.system.NativeStart.main(Native Method)
E/TiUncaughtHandler(31008): Caused by: java.lang.NullPointerException
E/TiUncaughtHandler(31008):     at org.appcelerator.titanium.util.TiPlatformHelper.getMacaddress(TiPlatformHelper.java:306)
E/TiUncaughtHandler(31008):     at org.appcelerator.titanium.analytics.TiAnalyticsEventFactory.createAppEnrollEvent(TiAnalyticsEventFactory.java:66)
E/TiUncaughtHandler(31008):     at org.appcelerator.titanium.TiApplication.setRootActivity(TiApplication.java:263)
E/TiUncaughtHandler(31008):     at org.appcelerator.titanium.TiRootActivity.onCreate(TiRootActivity.java:118)
E/TiUncaughtHandler(31008):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1047)
E/TiUncaughtHandler(31008):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2627)
E/TiUncaughtHandler(31008):     ... 11 more</code>
</pre></div>

<h3>Comments</h3>

<ol>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/0b7f8b674cc29ae73424f2c5de1375449388ef38"
   title=
   "Changeset [0b7f8b674cc29ae73424f2c5de1375449388ef38]">[0b7f8b674cc29ae73424f2c5de1375449388ef38]</a>)
   use the static instance of TiApplication that already lives in
   getInstance(), this removes a dependency on initialize from<br>
   TiPlatformHelper that's needed from Analytics [<a href=
   "/projects/32238/tickets/2876" title="Ticket #2876">#2876</a>
   state:fixed-in-qa]<br>
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/0b7f8b674cc29ae73424f2c5de1375449388ef38" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/0b7f8b674cc29ae73424f2c5de1375449388ef38</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/0b7f8b674cc2..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/0b7f8b674cc2...</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/aa8c4515822484c9913232ca92b551ae3920ef76"
   title=
   "Changeset [aa8c4515822484c9913232ca92b551ae3920ef76]">[aa8c4515822484c9913232ca92b551ae3920ef76]</a>)
   forgot to add TiApplication to last commit [<a href=
   "/projects/32238/tickets/2876" title="Ticket #2876">#2876</a>]
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/aa8c4515822484c9913232ca92b551ae3920ef76" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/aa8c4515822484c9913232ca92b551ae3920ef76</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/aa8c45158224..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/aa8c45158224...</a></a></p></div></li>
<li>Thomas Huelbert 2011-04-15

   <div><p>as per Mr Culpepper: "the crash in this test was happening on
   initial launch / fresh install of KitchenSink on the Galaxy Tab.
   make sure you have KS uninstalled on the tab, then install it and
   run it from Developer.. if no crashes your golden"</p>
   <p>fresh install of KS on galaxy tab (2.2.2) using <a href=
   "/projects/32238/changesets/INFO" title=
   "Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (02/03/11
   09:22 a02f7db)</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2876.json">JSON Source</a></p>