---
title: "[TIMOB-2907] iOS / iPad: Focus on Textfields inside a table"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T02:00:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-11</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios, klist, quickstart-customer, reported-1.6.0</td></tr>
<tr><th>Reporter</th><td>Rick Blalock</td></tr>
<tr><th>Assignee</th><td>Ralf Pfeiffer</td></tr>
<tr><th>Created</th><td>2011-04-15T03:32:34.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T02:00:24.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Below are videos from the latest build SDK 1.6. Using iOS 4.2.
iPad</p>
<p>Textfield focusing and keyboard is a little odd on the iPad:
<a href=
"<a href="http://screencast.com/t/Bdc27adj" rel="nofollow" target="_blank">http://screencast.com/t/Bdc27adj</a>"><a href="http://screencast.com/t/Bdc27adj" rel="nofollow" target="_blank">http://screencast.com/t/Bdc27adj</a></a></p>
<p>Doesn't seem to happen on the iPhone (i.e. smaller screen)</p>
<p>The data in the tableview is being set using setData() (on
focus). When the optional animation property is set it does really
funky things<br>
(i.e. setData(data,
{animationStyle:Titanium.UI.iPhone.RowAnimationStyle.TOP})</p>
<p><a href=
"<a href="http://www.screencast.com/users/edgar.vos/folders/Jing/media/ceb073b8-5362-4ae4-b9ea-12b280e9ed2e" rel="nofollow" target="_blank">http://www.screencast.com/users/edgar.vos/folders/Jing/media/ceb073b8-5362-4ae4-b9ea-12b280e9ed2e</a>">
<a href="http://www.screencast.com/users/edgar.vos/folders/Jing/media/ceb073..." rel="nofollow" target="_blank">http://www.screencast.com/users/edgar.vos/folders/Jing/media/ceb073...</a></a></p>
<p>Tested on the device and sim.</p></div>

<h3>Comments</h3>

<ol>
<li>Rick Blalock 2011-04-15

   <div><p>To reproduce the first video:</p>
   <pre>
   <code class="javascript">var win = Titanium.UI.currentWindow;
   
   var rows = [];
   
   for (var i=0; i &lt; 5; i++) {
       var row = Ti.UI.createTableViewRow();
   
       var textfield = Ti.UI.createTextField({
           color:'#336699',
           height:35,
           width:300,
           borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED
       });
   
       row.add(textfield);
   
       rows.push(row);
   }
   
   var tableview = Ti.UI.createTableView({
       data: rows
   });
   
   win.add(tableview);</code>
   </pre>
   <p>To reproduce the second video, use the code below. Note: When
   the textfield is focused, click the set data button - the table
   will fly out of sight.</p>
   <pre>
   <code class="javascript">var win = Titanium.UI.currentWindow;
   
   var rows = [];
   
   var tableview = Ti.UI.createTableView();
   
   for (var i=0; i &lt; 5; i++) {
       var row = Ti.UI.createTableViewRow();
   
       var textfield = Ti.UI.createTextField({
           color:'#336699',
           height:35,
           width:300,
           borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED
       });
   
       row.add(textfield);
   
       rows.push(row);
   }
   
   var button = Ti.UI.createButton({
       title: 'test',
       width: 100,
       height: 50,
       right: 10,
       top: 10
   });
   
   button.addEventListener('click', function() {
       setTimeout(function() {
           tableview.setData(rows, { animationStyle:Titanium.UI.iPhone.RowAnimationStyle.TOP });
       }, 1000);   
   });
   
   win.add(tableview);
   win.add(button);</code>
   </pre></div></li>
<li>Rick Blalock 2011-04-15

   <div><p>To Update This Ticket: Quickstart customer is still having
   issues with this even with the setData()'s second arg not passed or
   set to null. Here's a video of it in action: <a href=
   "<a href="http://screencast.com/t/toWTDJCmL0oF" rel="nofollow" target="_blank">http://screencast.com/t/toWTDJCmL0oF</a>"><a href="http://screencast.com/t/toWTDJCmL0oF" rel="nofollow" target="_blank">http://screencast.com/t/toWTDJCmL0oF</a></a>
   . Pressing 'tab' on the sim or the 'return' button on the sim's
   keyboard will do this every time. In the video's particular case,
   it's a modal with a 'Ti.UI.iPhone.MODAL_PRESENTATION_FORMSHEET'
   style set to it - however this happens in a normal window as
   well.</p></div></li>
<li>kosso 2011-04-15

   <div><p>I think this is related to an issue I'm seeing with textFields
   in tableViewRows on the iPhone too - which ONLY happens when the
   tableView is in a modal window.</p>
   <p>See HelpDesk ticket : <a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/76164" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/76164</a>"><a href="http://developer.appcelerator.com/helpdesk/view/76164" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/76164</a></a></p>
   <p>And Q&amp;A discussion : <a href=
   "<a href="http://developer.appcelerator.com/question/116461/tableview-with-textfields-moving-in-160" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/116461/tableview-with-textfields-moving-in-160</a>">
   <a href="http://developer.appcelerator.com/question/116461/tableview-with-te..." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/116461/tableview-with-te...</a></a></p></div></li>
<li>Rick Blalock 2011-04-15

   <div><p>Here's another code sample to demonstrate the issue. This
   example simulates the scenario one of our quickstart customer's are
   doing - resetting the table's data upon return / tab. In our
   customer's case they might have additional fields they want to show
   as a user is filling out a form. insertRow() could be used but in
   some cases the entire table data needs to be reset (using
   setData()).<br></p>
   <p>You'll notice the first time you hit return it will fly out
   because of the new data. Subsequent tries will not cause the table
   to fly out.</p>
   <pre>
   <code class="javascript">var win = Titanium.UI.currentWindow;
   
   var btn = Ti.UI.createButton({
       title: 'Button Here',
       width: 200,
       height: 100,
       top: 10
   });
   
   btn.addEventListener('click', function() {
       var newwin = Ti.UI.createWindow({
           title: 'Test',
           modalTransitionStyle: Ti.UI.iPhone.MODAL_TRANSITION_STYLE_FLIP_HORIZONTAL,
           modalStyle: Ti.UI.iPhone.MODAL_PRESENTATION_FORMSHEET,
           width: 400,
           height: 600
       });
       
       var rows        = [],
           tableview   = Ti.UI.createTableView(),
           row         = Ti.UI.createTableViewRow();
   
           var textfield = Ti.UI.createTextField({
               color:'#336699',
               value: 'Flying tables away',
               width: 300,
               height: 35,
               borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED
           });
   
           row.add(textfield);
           rows.push(row);
           tableview.setData(rows);
   
       textfield.addEventListener('return', function() {
           var newrows = [];       
           for(var i = 0; i &lt; 3; i++) {
               var newrow = Ti.UI.createTableViewRow();
   
               var newtextfield = Ti.UI.createTextField({
                   color:'#336699',
                   value: 'Flying tables away',
                   width: 300,
                   height: 35,
                   borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED
               });
               newrow.add(newtextfield);
               newrows.push(newrow);           
           }
           tableview.setData(newrows);
       }); 
       
       newwin.add(tableview);
       newwin.open({modal: true});
   });
   
   win.add(btn);</code>
   </pre></div></li>
<li>Cedric Kastner 2011-04-15

   <div><p>Not only iPad-related. This happens on iPhone too. See <a href=
   "<a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/3354-textview-within-tableviewrow-scrollingjumping-when-focussed" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/3354-textview-within-tableviewrow-scrollingjumping-when-focussed</a>">
   Ticket #3354</a> for more details and how to reproduce&#8230;</p></div></li>
<li>Jeff Haynie 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/f51f1e1a643cfe556882785e9a683698ad704070"
   title=
   "Changeset [f51f1e1a643cfe556882785e9a683698ad704070]">[f51f1e1a643cfe556882785e9a683698ad704070]</a>)
   [<a href="/projects/32238/tickets/3354" title=
   "Ticket #3354">#3354</a> state:fixed-in-qa] [<a href=
   "/projects/32238/tickets/2907" title="Ticket #2907">#2907</a>
   state:fixed-in-qa] It feels good to find a one-liner fix after
   doing all these deep changes (offset should never be negative)
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/f51f1e1a643cfe556882785e9a683698ad704070" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/f51f1e1a643cfe556882785e9a683698ad704070</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/f51f1e1a643c..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/f51f1e1a643c...</a></a></p></div></li>
<li>Rick Blalock 2011-04-15

   <div><p>Tested the latest build on March 17th - This resolves the above
   issues. Great job!</p></div></li>
<li>Natalie Huynh 2011-04-15

   <div><p>Tested with Titanium SDK version: 1.7.0 (03/18/11 12:00 19be393)
   on<br>
   iPad2 4.3</p>
   <p>Click on first text field type stuff in and hit enter<br>
   2 more text field appears and the fields are reset</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2907.json">JSON Source</a></p>