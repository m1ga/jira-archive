---
title: "[TIMOB-2938] Android: 2.3 only; Remote URL Sound fails to play with "java.io.IOException: Prepare failed" error "
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Hold</td></tr>
<tr><th>Resolution Date</th><td>2011-04-15T03:33:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>2.3, android, remoteurl, reported-1.6.0, sound</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:33:21.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T21:13:53.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p><a href="/projects/32238/changesets/INFO" title=
"Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (01/24/11
08:14 e1cb22a) Nexus S (2.3.1) specific</p>
<p>1.Phone &gt; Sound &gt; Remote URL or remote streaming<br>
2.check logcat when sound fails to play</p>
<p>W/TiSound ( 615): (kroll$194) [164,11390895] Issue while
initializing :<br>
W/TiSound ( 615): java.io.IOException: Prepare failed.:
status=0x1<br>
W/TiSound ( 615): at android.media.MediaPlayer.prepare(Native
Method)<br>
W/TiSound ( 615): at
ti.modules.titanium.media.TiSound.initialize(TiSound.java:119)<br>
W/TiSound ( 615): at
ti.modules.titanium.media.TiSound.play(TiSound.java:173)<br>
W/TiSound ( 615): at
ti.modules.titanium.media.SoundProxy.play(SoundProxy.java:116)<br>
W/TiSound ( 615): at
ti.modules.titanium.media.SoundProxyBindingGen$10.invoke(SoundProxyBindingGen.java:407)<br>
W/TiSound ( 615): at
org.appcelerator.kroll.KrollMethod.call(KrollMethod.java:48)<br>
W/TiSound ( 615): at
org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1711)<br>
W/TiSound ( 615): at
org.mozilla.javascript.Interpreter.interpret(Interpreter.java:854)<br>
W/TiSound ( 615): at
org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)<br>
W/TiSound ( 615): at
org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:426)<br>
W/TiSound ( 615): at
org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3161)<br>
W/TiSound ( 615): at
org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:162)<br>
W/TiSound ( 615): at
org.appcelerator.titanium.kroll.KrollCallback.callSync(KrollCallback.java:139)<br>
W/TiSound ( 615): at
org.appcelerator.titanium.kroll.KrollCallback$1.run(KrollCallback.java:163)<br>
W/TiSound ( 615): at
android.os.Handler.handleCallback(Handler.java:587)<br>
W/TiSound ( 615): at
android.os.Handler.dispatchMessage(Handler.java:92)<br>
W/TiSound ( 615): at android.os.Looper.loop(Looper.java:123)<br>
W/TiSound ( 615): at
org.appcelerator.titanium.kroll.KrollHandlerThread.run(KrollHandlerThread.java:73)</p></div>

<h3>Comments</h3>

<ol>
<li>Marshall Culpepper 2011-04-15

   <div><p>Confirmed. This seems to be a bug in any Android device that
   uses the Stagefright media player implementation (which is the new
   player for 2.3, but some 2.2 devices from HTC are also shipping
   with it).</p>
   <p>An initial glance at the Stagefright C++ code, and it looks like
   their custom HTTP client is returning an EOF for the stream for
   some unknown reason.</p>
   <p>More trace info from my Nexus S:<br></p>
   <pre>
   <code>02-15 11:22:50.596: INFO/StagefrightPlayer(75): setDataSource('<a href="http://www.nch.com.au/acm/8kmp38.wav" rel="nofollow" target="_blank">http://www.nch.com.au/acm/8kmp38.wav</a>')
   02-15 11:22:50.615: INFO/NuHTTPDataSource(75): connect to www.nch.com.au:80/acm/8kmp38.wav @0
   02-15 11:22:50.959: ERROR/MediaPlayer(23243): error (1, -2147483648)
   02-15 11:22:50.971: INFO/NuCachedSource2(75): ERROR_END_OF_STREAM
   02-15 11:22:50.990: WARN/TiSound(23243): (kroll$10: app://examples/sound_remote_url.js) [399,1210563] Issue while initializing : 
   02-15 11:22:50.990: WARN/TiSound(23243): java.io.IOException: Prepare failed.: status=0x1
   02-15 11:22:50.990: WARN/TiSound(23243):     at android.media.MediaPlayer.prepare(Native Method)
   02-15 11:22:50.990: WARN/TiSound(23243):     at ti.modules.titanium.media.TiSound.initialize(TiSound.java:120)
   02-15 11:22:50.990: WARN/TiSound(23243):     at ti.modules.titanium.media.TiSound.play(TiSound.java:179)
   02-15 11:22:50.990: WARN/TiSound(23243):     at ti.modules.titanium.media.SoundProxy.play(SoundProxy.java:116)
   02-15 11:22:50.990: WARN/TiSound(23243):     at ti.modules.titanium.media.SoundProxyBindingGen$10.invoke(SoundProxyBindingGen.java:407)
   02-15 11:22:50.990: WARN/TiSound(23243):     at org.appcelerator.kroll.KrollMethod.call(KrollMethod.java:51)
   02-15 11:22:50.990: WARN/TiSound(23243):     at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1711)
   02-15 11:22:50.990: WARN/TiSound(23243):     at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:854)
   02-15 11:22:50.990: WARN/TiSound(23243):     at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)
   02-15 11:22:50.990: WARN/TiSound(23243):     at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:426)
   02-15 11:22:50.990: WARN/TiSound(23243):     at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3161)
   02-15 11:22:50.990: WARN/TiSound(23243):     at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:162)
   02-15 11:22:50.990: WARN/TiSound(23243):     at org.appcelerator.titanium.kroll.KrollCallback.callSync(KrollCallback.java:139)
   02-15 11:22:50.990: WARN/TiSound(23243):     at org.appcelerator.titanium.kroll.KrollCallback$1.run(KrollCallback.java:164)
   02-15 11:22:50.990: WARN/TiSound(23243):     at android.os.Handler.handleCallback(Handler.java:587)
   02-15 11:22:50.990: WARN/TiSound(23243):     at android.os.Handler.dispatchMessage(Handler.java:92)
   02-15 11:22:50.990: WARN/TiSound(23243):     at android.os.Looper.loop(Looper.java:123)
   02-15 11:22:50.990: WARN/TiSound(23243):     at org.appcelerator.titanium.kroll.KrollHandlerThread.run(KrollHandlerThread.java:89)</code>
   </pre></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>I've filed an Android bug here:</p>
   <p><a href=
   "<a href="http://code.google.com/p/android/issues/detail?id=14756" rel="nofollow" target="_blank">http://code.google.com/p/android/issues/detail?id=14756</a>"><a href="http://code.google.com/p/android/issues/detail?id=14756" rel="nofollow" target="_blank">http://code.google.com/p/android/issues/detail?id=14756</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>Marking back as hold until we get more feedback from our Android
   bug</p></div></li>
<li>Gerry Cardinal III 2011-04-15

   <div><p>There may be multiple issues here. It sounds like your Android
   bug is with wav files.</p>
   <p>However, we are seeing the same exception when streaming an mp3
   on the 2.2 emulator, but that same mp3 streams fine on a G2 with
   2.2.</p></div></li>
<li>Dustin Hyde 2011-12-07

   Bug also found in NookColor:
   SDK: 1.8.0.1.v20111207091653
   Runtimes: Android V8/Rhino
   Studio: 1.0.7.201112061404
   OS: OS X Lion
   Devices Tested: NookColor, NookColor Emulator 2.2 (Rhino)</li>
<li>Joe Falcone 2013-04-12

   </li>
<li>Lee Morris 2017-03-21

   Closing ticket due to the time that has passed since it was filed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2938.json">JSON Source</a></p>