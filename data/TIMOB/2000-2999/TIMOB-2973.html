---
title: "[TIMOB-2973] Android: attributes put on "manifest" element in tiapp.xml are ignored unless child elements also included"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-17T02:00:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.6.0 M07</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, release-1.5.2, release-1.6.0, reported-1.5.0</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:33:57.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-17T02:00:35.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>cf <a href=
"<a href="http://developer.appcelerator.com/question/103121" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/103121</a>"><a href="http://developer.appcelerator.com/question/103121" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/103121</a></a></p>
<p>If you have an "android" section in tiapp.xml that looks like
this:</p>
<pre>
<code>
    &lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
        &lt;manifest android:versionCode="2" android:versionName="2"/&gt;
    &lt;/android&gt;</code>
</pre>
<p>... then those custom attributes that you put for
<code>android:versionCode</code> and
<code>android:versionName</code> will be ignored. If, however, you
also put in a custom child element to for the "manifest" element,
it will work. Such as this:</p>
<pre>
<code> &lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
        &lt;manifest android:versionCode="2" android:versionName="2"&gt;
            &lt;uses-sdk android:minSdkVersion="4" /&gt;
        &lt;/manifest&gt;
    &lt;/android&gt;</code>
</pre>
<p>So to test this failcase and its resolution, use the first
example above -- just create a manifest entry with those
<code>android:versionCode</code> and
<code>android:versionName</code> attributes, setting them both to
"2". Then build your app. After it's done launching, open the
build/android/AndroidManifest.xml file (which is generated during
the build process), and if you look at the "manifest" element in
there you'll see that the versionCode and versionName are still set
to 1 in the failing version. In the fixed version, they should
successfully get set to 2.</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/8df1f283c78cf0bf98357f408acf0fdca5f18cea"
   title=
   "Changeset [8df1f283c78cf0bf98357f408acf0fdca5f18cea]">[8df1f283c78cf0bf98357f408acf0fdca5f18cea]</a>)
   [<a href="/projects/32238/tickets/2973" title=
   "Ticket #2973">#2973</a> state:fixed-in-qa] Make sure custom
   attributes on manifest element in tiapp.xml get processed <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/8df1f283c78cf0bf98357f408acf0fdca5f18cea" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/8df1f283c78cf0bf98357f408acf0fdca5f18cea</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/8df1f283c78c..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/8df1f283c78c...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/704b34573dab4150d60d63f6ae7f80f86b17db61"
   title=
   "Changeset [704b34573dab4150d60d63f6ae7f80f86b17db61]">[704b34573dab4150d60d63f6ae7f80f86b17db61]</a>)
   [<a href="/projects/32238/tickets/2973" title=
   "Ticket #2973">#2973</a> state:fixed-in-qa] Make sure custom
   attributes on manifest element in tiapp.xml get processed <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/704b34573dab4150d60d63f6ae7f80f86b17db61" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/704b34573dab4150d60d63f6ae7f80f86b17db61</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/704b34573dab..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/704b34573dab...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/891214956cc03c205dc1bf60db81836c0505eee7"
   title=
   "Changeset [891214956cc03c205dc1bf60db81836c0505eee7]">[891214956cc03c205dc1bf60db81836c0505eee7]</a>)
   [<a href="/projects/32238/tickets/2973" title=
   "Ticket #2973">#2973</a> state:fixed-in-qa] be sure custom
   attributes on manifest element in tiapp.xml get processed <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/891214956cc03c205dc1bf60db81836c0505eee7" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/891214956cc03c205dc1bf60db81836c0505eee7</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/891214956cc0..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/891214956cc0...</a></a></p></div></li>
<li>Opie Cyrus 2011-04-15

   <div><p>verified emulator 2.2</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-2973.json">JSON Source</a></p>