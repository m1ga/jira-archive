---
title: "[TIMOB-2974] iPhone row label highlightedColor stuck after search mode table row click"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-10-27T15:43:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-33, Release 1.8.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Tommy</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T03:33:59.000+0000</td></tr>
<tr><th>Updated</th><td>2011-10-27T15:43:14.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>When using labels in table rows, if the row is clicked while
table is in searchMode, the row retains the row
highlightedColor.</p>
<p>Reproduce by modifying Kitchen Sink table_view_api_search.js as
follows:</p>
<pre>
<code class="javascript">var win = Titanium.UI.currentWindow;

// create table view data object
var data = [];

data[0] = Ti.UI.createTableViewRow({hasChild:true});
data[1] = Ti.UI.createTableViewRow({hasDetail:true});
data[2] = Ti.UI.createTableViewRow({hasCheck:true});
data[3] = Ti.UI.createTableViewRow({});

for (var i=0; i &lt; data.length; i++) {
    data[i].add(Ti.UI.createLabel({
        text:'foo',
        height:30,
        highlightedColor:'red'
    }));
    
    data[i].filter = 'foo';
};

var search = Titanium.UI.createSearchBar({
    barColor:'#385292',
    showCancel:false,
    hintText:'search'
});
search.addEventListener('change', function(e)
{
e.value; // search string as user types
});
search.addEventListener('return', function(e)
{
search.blur();
});
search.addEventListener('cancel', function(e)
{
search.blur();
});

// create table view
var tableview = Titanium.UI.createTableView({
    data:data,
    search:search,
    searchHidden:true,
    filterAttribute:'filter'
});


// create table view event listener
tableview.addEventListener('click', function(e)
{
    // event data
    var index = e.index;
    var section = e.section;
    var row = e.row;
    var rowdata = e.rowData;
    Titanium.UI.createAlertDialog({title:'Table View',message:'row ' + row + ' index ' + index + ' section ' + section  + ' row data ' + rowdata}).show();
});

var hide = Titanium.UI.createButtonBar({
    labels:['Hide', 'Show'],
    backgroundColor:'#336699',
    height:25,
    width:120
});


// add table view to the window
win.add(tableview);

hide.addEventListener('click', function(e)
{
    Ti.API.info("search hidden = "+tableview.searchHidden);
    if (e.index == 0)
    {
        tableview.searchHidden = true;
    }
    else if (e.index == 1)
    {
        tableview.scrollToTop(0,{animated:true});
    }
});
if (Titanium.Platform.name == 'iPhone OS') {
    win.setRightNavButton(hide);
}</code>
</pre></div>

<h3>Comments</h3>

<ol>
<li>Tommy 2011-04-15

   <div><p>This problem is still present in 1.6.</p></div></li>
<li>Pedro Enrique 2011-08-05

   A helpdesk customer just pointed out this issue to me. It persists in Ti SDK 1.7.3 (v20110801092156.67ae819)
   
   Helpdesk Ticket:
   APP-155327</li>
<li>Vikramjeet Singh 2011-08-29

   Tested On:
   
   Mac OSX Lion
   TiMob: 1.8.0.v20110819142548
   TiStud: 1.0.4.201108101535
   
   Devices:
   
   iPhone 4 version 4.2.10
   iPad2 version 4.3.5
   iPod 3</li>
</ol>


<p><a href="/TIMOB/TIMOB-2974.json">JSON Source</a></p>