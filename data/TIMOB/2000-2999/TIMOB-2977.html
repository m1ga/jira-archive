---
title: "[TIMOB-2977] Shake gesture not recognized after searchBar blur"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-06-07T18:05:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios, reported-1.5.1, reported-1.6.0</td></tr>
<tr><th>Reporter</th><td>Paul Dowsett</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-04-15T03:34:02.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-07T18:05:52.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Tested in simulator by user: iOS 4.2, Ti SDK 1.5.1 &amp; 1.6.X
(continuous)<br>
Tested on device by rickblalock: iOS 4.2, 1.6.X (continuous 27 Jan
2011)</p>
<p>User reported issue in <a href=
"<a href="http://developer.appcelerator.com/question/104541/problem--titaniumgesture--shake-disable-after-keyboard-blur#184601" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/104541/problem--titaniumgesture--shake-disable-after-keyboard-blur#184601</a>">
this Q&amp;A post</a>. He explains:</p>
<p>Tested in simulator:</p>
<ul>
<li>Hardware menu &gt; shake Gesture - alert displayed</li>
<li>Click on searchBar field &gt; keyboard displayed &gt; Hardware
menu &gt; shake Gesture - alert displayed</li>
<li>Write text in field &gt; Hardware menu &gt; shake Gesture -
alert displayed</li>
<li>Click on "search button" &gt; keyboard id hidden - alert
<strong>not</strong> displayed</li>
</ul>
<pre>
<code>var win = Ti.UI.currentWindow; 
win.backgroundColor = '#fff';
 
Ti.Gesture.addEventListener('shake',function(e)
{
    alert(e.source+" "+e.timestamp+" "+e.type);
});

var serSearch = Titanium.UI.createSearchBar({
    barColor:'#444', 
    showCancel:false,
    height:60,
    top:0,
    left:0,
    keyboardType:0
});
 
serSearch.addEventListener("return", function(e)
{
    serSearch.blur();
});

win.add(serSearch);</code>
</pre>
<p>blainH stated:</p>
<p>The shake gesture is trapped at the root, when it's the
firstResponder.<br>
While text entry is up, it's not the first responder.<br>
So I can see why the bug's doing what it's doing.<br>
Can fix, but not for 1.6<br>
Actually, possibly not possible to fix. I'd have to look into
it.</p></div>

<h3>Comments</h3>

<ol>
<li>yann Offredi 2011-04-15

   <div><p>I have been using this for solved my problem :</p>
   <pre>
   <code>var timestampAccTmp = 0;
   var timeResolution = 200;
   Ti.Accelerometer.addEventListener('update',function(e)
   {
       timestampAcc = e.timestamp;
       diffTime = timestampAcc - timestampAccTmp;
       //alert(e.x+" "+e.y+" "+e.z+" "+timestampAcc+" "+timestampAccTmp+" "+diffTime);
       
       
       if(diffTime &gt; timeResolution)
       {
           xpos.text = "XX :"+e.x;
           ypos.text = "YX :"+e.y;
           zpos.text = "ZX :"+e.z;
           violence = 1;
           shake = false;
           
           xtop = Math.abs(e.x);
           ytop = Math.abs(e.y);
           ztop = Math.abs(e.z);
           
           Titanium.API.debug(xtop+" "+ytop+" "+ztop);
           
           if ( xtop&gt; violence * 1)
           {
               shake = true;
           }
           if (ytop &gt; violence * 2)
           {
               shake = true;
           }
           if (ztop &gt; violence * 3)
           {
               shake = true;
           }
           if (shake) 
           {
               alert("shake detected "+xtop+" "+ytop+" "+ztop);
           } 
           timestampAccTmp = timestampAcc;
       }
       
       
   });</code>
   </pre>
   <p>thanks</p></div></li>
<li>Lee Morris 2017-06-07

   Closing ticket due to time passed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-2977.json">JSON Source</a></p>