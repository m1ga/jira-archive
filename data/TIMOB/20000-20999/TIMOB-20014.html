---
title: "[TIMOB-20014] iOS: Incremental builds fail to update with \"--skip-js-minify\""
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-11-19T05:37:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.1.0</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>iOS, qe-5.1.0, regression</td></tr>
<tr><th>Reporter</th><td>Harry Bryant</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2015-11-18T23:30:54.000+0000</td></tr>
<tr><th>Updated</th><td>2015-11-19T19:20:53.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description:</h4>

This is a *REGRESSION* from 5.0.2.GA

Incremental builds fail to update changes when targeted to iOS devices. However, this only occurs when the project has platform services *ENABLED*, and incremental builds reflect changes correctly with platform services disabled. It is worth noting that the incremental build times are considerably shorter than the initial build for both instances ( 4 - 7 seconds ). This issue is verified as affecting both iOS8 & 9 devices, but does not affect simulator builds.

<h4>Steps to reproduce:</h4>
1. Create a classic project with services *enabled*
2. Build project to device ( iOS8, iOS9 )
3. Make a change to app.js file
4. Build project to device again.

<h4>Result:</h4>
Changes made to app.js will not be reflected in the new build with platform services enabled.

<h4>Expected Result:</h4>
Changes made to app.js should be reflected in the new build with platform services enabled.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2015-11-19

   Master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7472" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7472</a>
   5_1_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7473" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7473</a>
   
   This actually has nothing to do directly with services being enabled. Apparently when modules such as APM are enabled, <code>--skip-js-minify</code> is passed in causing JavaScript minification to be disabled.
   
   The iOS build detects JS file changes so that it only runs titanium_prep if any JS files changed, however the code path when minification is disabled never set the flag when JavaScript files are changed. Oops.</li>
<li>Chee Kiat Ng 2015-11-19

   CR and FT passed. PRs merged.</li>
<li>Wilson Luu 2015-11-19

   Verified on iOS that I can do incremental builds with services enabled and with <code>--skip-js-minify</code> disabled.
   
   Tested on:
   
   Appcelerator Studio, build: 4.4.0.201511182122
   Appc CLI NPM: 4.2.1
   Appc CLI Core: 5.1.0-60
   Arrow: 1.3.22
   SDK: 5.1.0.v20151118214427
   Node: v4.2.2
   OS: El Capitan (10.11.1)
   Xcode: 7.1.1
   Devices: iphone 6s plus (9.1)</li>
<li>Harry Bryant 2015-11-19

   Verified as fixed, Incremental builds with services enabled now correctly update changes made. 
   
   Tested on:
   
   Alloy & Classic projects with Services & APM module enabled
   Devices: iPhones 6S+ (9.1) & iPhone 6 (8.4)
   Mac OSX El Capitan 10.11 (15A284)
   Ti SDK: 5.1.0.v20151118214427
   Appc Studio: 4.4.0.201511182122
   Appc NPM: 4.2.1
   Appc CLI: 5.1.0-60
   Alloy: 1.7.26
   Xcode 7.1(7B91b)
   Node v0.12.7
   production
   
   *Closing ticket.*</li>
</ol>


<p><a href="/TIMOB/TIMOB-20014.json">JSON Source</a></p>