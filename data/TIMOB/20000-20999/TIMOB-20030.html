---
title: "[TIMOB-20030] iOS: Repeated call of listView.addEventListener('scrollstart') should only result in 1 listener"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-12-10T06:02:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>Community</td></tr>
<tr><th>Reporter</th><td>Christian Waldmann</td></tr>
<tr><th>Assignee</th><td>Angel Petkov</td></tr>
<tr><th>Created</th><td>2015-07-22T13:39:29.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T22:44:24.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Current behavior</h4>
With
<code><pre>
listView.addEventListener('scrollstart', this.myCallback);
</pre></code>
you can register an event listener. But there is no check if the listener is already registered.

So if you do something like this:
<code><pre>
function attach() {
    listView.addEventListener('scrollstart', this.myCallback);
}
attach();

//
// Lots of code or loop or async callback between 
//
attach();

</pre></code>

you habe a second registered callback. You have todo something like this to unregister:
<code><pre>
listView.removeEventListener('scrollstart', this.myCallback);
listView.removeEventListener('scrollstart', this.myCallback);
</pre></code>

Its difficult to debug problems around that if you overlooked the second call of addEventListener.

<h4>Expected</h4>
- The second listener is not registered
- (optional) Warning or notice that there is already a listener

<h3>Comments</h3>

<ol>
<li>Angel Petkov 2015-12-04

   PR pending : <a href="https://github.com/appcelerator/titanium_mobile/pull/7548." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7548.</a>  The Hello message should only be displayed ones upon scrollEnd regardless of how many eventListeners are added. 
   <code><pre> 
   var win = Ti.UI.createWindow({
       backgroundColor : 'blue',
       title           : 'Main Window'
   });
   
   var listView = Ti.UI.createListView();
   
    function myFunction() {
     Ti.API.info("Hello");
    }
   
   var itemsSection = Ti.UI.createListSection({ headerTitle: 'Items'});
   var itemData = [
       {properties: { title: 'Item 1'}},
       {properties: { title: 'Item 2'}},
       {properties: { title: 'Item 3'}},
       {properties: { title: 'Item 4'}},
       {properties: { title: 'Item 5'}},
       {properties: { title: 'Item 6'}},
   ];
   
   listView.addEventListener("scrollend",myFunction);
   
   var addEventButton = Titanium.UI.createButton({
      title: 'Add Event',
      bottom: 10,
      width: 100,
      height: 50
   });
   
   addEventButton.addEventListener("click",function(e){
   listView.addEventListener("scrollend",myFunction);
   });
   
   itemsSection.setItems(itemData);
   var sections = [];
   sections.push(itemsSection);
   listView.sections = sections;
   win.add(listView);
   win.add(addEventButton);
   win.open();
   
   </pre></code></li>
<li>Chee Kiat Ng 2015-12-10

   CR and FT passed. PR Merged!</li>
<li>Lee Morris 2017-03-22

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-20030.json">JSON Source</a></p>