---
title: "[TIMOB-20042] iOS: TiNetworkHTTPClientProxy Memory Leak"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2015-12-08T18:52:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.0.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>5.0, 5.0.0.GA, Ti.network, httpclient</td></tr>
<tr><th>Reporter</th><td>Cameron</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2015-09-20T15:12:18.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-23T21:35:29.000+0000</td></tr>
</table>

<h3>Description</h3>

When creating a Ti.Network.createHTTPClient, after the connection closes, a TiNetworkHTTPClientProxy does not get garbage collected.  With repeated calls, they will start to build up to a very large #.

1. Open Instruments
2. Run this code


<code><pre>
var myurl = "<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>";	

var xhrshowsite = Ti.Network.createHTTPClient();

xhrshowsite.onload = function() {
		xhrshowsite = null;
};
	
xhrshowsite.onerror = function() {
		xhrshowsite = null;
};

	
	// open the client
	xhrshowsite.open("GET",myurl);
	xhrshowsite.setTimeout([5000]);
	xhrshowsite.send();
</pre></code>
This did not affect pre-5.x SDK.   

<h3>Comments</h3>

<ol>
<li>Pedro Enrique 2015-12-08

   Marking ticket as invalid. The garbage collection in javascript is lazy, not instant. If you let the app sit for a bit, you'll see the allocations go down. This will not cause problems to the app since the garbage collector will run if the app feels memory pressure as well.</li>
<li>Lee Morris 2017-03-23

   Closing ticket as invalid with reference to the previous comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-20042.json">JSON Source</a></p>