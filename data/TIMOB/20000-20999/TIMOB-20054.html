---
title: "[TIMOB-20054] Windows: Use and generate correct Main_class.h when compiling"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-11-23T23:59:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.1.2</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Gary Mathews</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2015-11-23T21:52:28.000+0000</td></tr>
<tr><th>Updated</th><td>2015-12-08T00:41:05.000+0000</td></tr>
</table>

<h3>Description</h3>

<code>titanium_prep</code> for Windows gets compiled using Androids <code>Main_class.h</code>.

This file should also be generated and replaced with the latest <code>Main.class</code> when building for Windows using <code>ant</code>.

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2015-11-23

   titanium_prep: <a href="https://github.com/appcelerator/titanium_prep/pull/24" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_prep/pull/24</a>
   titanium_mobile_windows: <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/483" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/483</a>
   titanium_mobile_windows 5_1_X: <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/484" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/484</a></li>
<li>Ewan Harris 2015-12-08

   Verified using:
   
   Windows 10 Pro
   Appc CLI Core 5.1.0
   Appc CLI NPM 4.2.2
   Ti SDK 5.1.2.v20151206185250
   Ti CLI 5.0.5
   
   When building a platform project for wp-device and packaging the app using the Titanium CLI the build now errors out with the below, when building using the appc cli there are no adverse effects
   <code><pre>
   [ERROR] Failed to encrypt JavaScript files
   [ERROR] This application cannot be built with the Titanium open source SDK because it is an Appcelerator Platform registered application. Please use the Appcelerator Platform CLI tools or Appcelerator Studio to build this application.
   </pre></code>
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-20054.json">JSON Source</a></p>