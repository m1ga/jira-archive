---
title: "[TIMOB-20085] Windows: ti clean should cleanup VS temporary build directory"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-03-25T14:04:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.3.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Kota Iguchi</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2015-12-02T12:45:36.000+0000</td></tr>
<tr><th>Updated</th><td>2016-04-20T21:06:12.000+0000</td></tr>
</table>

<h3>Description</h3>

I see that <code>appc ti clean</code> and <code>ti clean</code> command clean up <code>build</code> directory under your project, but it should have cleaned up VS project temporary build directory (<code>C:\Users\USERNAME\.titanium\vsbuild\YOUR_PROJECT_NAME</code> too.



<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2015-12-15

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/505" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/505</a></li>
<li>Ewan Harris 2016-03-22

   [~cwilliams] [~kota] this needs <a href="https://github.com/appcelerator/titanium_mobile/pull/7628" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7628</a> to be backported to 5_3_X 
   
   Also, I decided to check out master to just check it out the CLI does not appear to be cleaning the temporary build directory, I don't see any logging informing me of the deletion as seen in the code and also the folder is still present. I am using SDK version 5.4.0.v20160322115854
   
   <code><pre>
   C:\Users\ewanh\Documents\Appcelerator_Studio_Workspace\preProdAlloy>appc ti clean
   Appcelerator Command-Line Interface, version 5.2.1-20
   Copyright (c) 2014-2016, Appcelerator, Inc.  All Rights Reserved.
   
   Preproduction Environment Active
   
   [DEBUG] Detecting plugins in C:\Users\ewanh\Documents\Appcelerator_Studio_Workspace\preProdAlloy\plugins
   [DEBUG] Detected plugin: ti.alloy @ C:\Users\ewanh\Documents\Appcelerator_Studio_Workspace\preProdAlloy\plugins\ti.alloy
   [DEBUG] Detecting plugins in C:\ProgramData\Titanium\plugins
   [DEBUG] Detected plugin: com.appcelerator.test @ C:\ProgramData\Titanium\plugins\com.appcelerator.test
   [DEBUG] Detecting plugins in C:\ProgramData\Application Data\Titanium\plugins
   [DEBUG] Detected plugin: com.appcelerator.test @ C:\ProgramData\Application Data\Titanium\plugins\com.appcelerator.test
   [DEBUG] Looking for Titanium plugin id=ti.alloy version=1.0
   [INFO]  Found Titanium plugin id=ti.alloy version=1.0
   [DEBUG] Deleting all platform build directories
   [DEBUG] Deleting C:\Users\ewanh\Documents\Appcelerator_Studio_Workspace\preProdAlloy\build\.alloynewcli
   [DEBUG] Deleting C:\Users\ewanh\Documents\Appcelerator_Studio_Workspace\preProdAlloy\build\alloy
   [DEBUG] Deleting C:\Users\ewanh\Documents\Appcelerator_Studio_Workspace\preProdAlloy\build\build_windows.log
   [DEBUG] Deleting C:\Users\ewanh\Documents\Appcelerator_Studio_Workspace\preProdAlloy\build\map
   [DEBUG] Deleting C:\Users\ewanh\Documents\Appcelerator_Studio_Workspace\preProdAlloy\build\windows
   [DEBUG] Resources directory of C:\Users\ewanh\Documents\Appcelerator_Studio_Workspace\preProdAlloy\app has been emptied
   
   C:\Users\ewanh\Documents\Appcelerator_Studio_Workspace\preProdAlloy>ls C:\Users\ewanh\.titanium\vsbuild\preProdAlloy
   Assets              Package.phone.appxmanifest.in      Package.win10.appxmanifest.in      TemporaryKey.pfx     include                    win10.ARM
   CMakeLists.txt      Package.phone.appxmanifest.in.ejs  Package.win10.appxmanifest.in.ejs  alloy_generated      lib
   CMakeLists.txt.ejs  Package.store.appxmanifest.in      Resources.resw                     build-manifest.json  src
   Native              Package.store.appxmanifest.in.ejs  Strings                            cmake                titanium_settings.ini.ejs
   </pre></code></li>
<li>Kota Iguchi 2016-03-23

   I need to revisit this. Re-opening...</li>
<li>Kota Iguchi 2016-03-23

   Found out that <code>alloy</code> prevents from running platform-specific <code>clean</code> hook.
   
   <a href="https://github.com/appcelerator/alloy/pull/772" rel="nofollow" target="_blank">https://github.com/appcelerator/alloy/pull/772</a>
   
   Note: This needs <a href="https://github.com/appcelerator/titanium_mobile/pull/7628" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7628</a> to be backported to <code>5_3_X</code></li>
<li>Christopher Williams 2016-03-25

   Cherry-picked the fix for titanium_mobile over to 5_3_X branch and merged the fix for Alloy.</li>
<li>Ewan Harris 2016-04-20

   Verified using:
   
   Windows 10 Pro
   Visual Studio 2015 Community Update 2
   Appc Core: 5.3.0-26
   Appc NPM: 4.2.5-3
   Ti SDK: 5.3.0.v20160420090405
   
   When running <code>appc ti clean</code> on both a classic and alloy project, both the local build directory and the build directory in .titanium\vsbuild are deleted
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-20085.json">JSON Source</a></p>