---
title: "[TIMOB-20104] iOS: Edge case where Backbone events are not passed across modules"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 5.1.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-12-07T14:54:46.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:16.000+0000</td></tr>
</table>

<h3>Description</h3>

> *WARNING:* This is a weird edge case :(

Attached you'll find an Alloy project that:

* Has two *identical* libraries, the only difference is their filename
* The libraries their <code>module.exports</code> are extended by <code>Backbone.Events</code>
* The libraries export an init function to let them listen to <code>Ti.App:resume</code> and in turn trigger a <code>resume</code> event on themselves.
* The libraries also listen to the event they trigger themselves.
* The index controller requires both libraries, listens to them and calls their <code>init()</code> function.

Now when you run the app, move it to background and then foreground again you'll see:

<code><pre>
[INFO]  Ti.App:resume in helper.js
[INFO]  helper:resume in index.js
[INFO]  helper:resume in helper.js
[INFO]  Ti.App:resume in watchSession.js
[INFO]  watchSession:resume in watchSession.js
</pre></code>

As you can see one is missing:

<code><pre>
[INFO]  watchSession:resume in index.js
</pre></code>

I have no idea why. I do know that it resolves as soon as:

* You rename <code>watchSession.js</code> to <code>watchsession.js</code> or anything else.
* You move code from the library <code>init()</code> function outside of ti.
* You export a property which is a clone of <code>Backbone.Events</code> and use that for the events.

So yes, it's simple to resolve, but I report it for two reasons:

1. I can't stand it when something (doesn't) work(s) and I don't get why.
2. It might be a harmless symptom of a more critical issue.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-20104_57696/backbonify.zip">backbonify.zip</td></td><td>2015-12-07T14:54:36.000+0000</td><td>5528328</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-20104.json">JSON Source</a></p>