---
title: "[TIMOB-20138] Consecutive calls to ScrollableView.setViews causes the app to become unresponsive"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-01-06T21:23:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.1.0, Release 5.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.2.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>5.1., ios, regression, scrollableView</td></tr>
<tr><th>Reporter</th><td>Nikos Poulios</td></tr>
<tr><th>Assignee</th><td>Pedro Enrique</td></tr>
<tr><th>Created</th><td>2015-12-04T12:18:10.000+0000</td></tr>
<tr><th>Updated</th><td>2016-02-18T21:09:51.000+0000</td></tr>
</table>

<h3>Description</h3>

Following a typical cycle of having a default view inside a scrollable view and then updating it calling setViews() fails and causes the app to become unresponsive. Tested on iOS > 8.4

Same effect if you try with a very short delay between the two calls.
Code below works fine in 5.0.2.GA but not in 5.1.0/5.1.1

<code><pre>
(function() {
	var window = Ti.UI.createWindow();
	
	var mainView = Ti.UI.createView({
		backgroundColor:'#fff',
		width:Ti.UI.FILL,
		height:Ti.UI.FILL
	});
		
	var scrollableView = Ti.UI.createScrollableView({
		borderColor:'green',
		views:undefined,
		width:Ti.UI.FILL,
		height:'60%'
	});
	
	var viewA = Ti.UI.createView({
		backgroundColor:'black'
	});
	var colors = ['red', 'green', 'blue'];	
	var viewsB = [];
	for(var i = 0;i<3;i++){
		viewsB.push(Ti.UI.createView({
			backgroundColor:colors[i]
		}));
	}	
	scrollableView.setViews([viewA]);
	mainView.add(scrollableView);
	window.add(mainView);
	window.open();
	scrollableView.setViews(viewsB);	
})();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-20138_57772/Ti502-Passes.png">Ti502-Passes.png</td></td><td>2015-12-14T11:29:26.000+0000</td><td>16129</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-20138_57773/Ti511-Fails.png">Ti511-Fails.png</td></td><td>2015-12-14T11:28:43.000+0000</td><td>16002</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Gertjan Smits 2015-12-14

   I'm also having this issue, is this on the radar?</li>
<li>Fokke Zandbergen 2015-12-14

   Attached result on Ti 5.1.1 GA with iOS 9.2 Simulator and Ti 5.0.2.GA with same simulator. It's clear indeed that on 5.1.1 it does not work as expected.</li>
<li>Nuno Costa 2015-12-16

   Some issue here, we have app that is havy dependent of this component, is give in us lot of issues lately (infinitive swipe). sdk 5.1.x, ios 9.1</li>
<li>Eric Merriman  2015-12-29

   Verified a regression from 5.0.2 GA to 5.1.0 GA using iOS 9.2 simulator.
   </li>
<li>Chee Kiat Ng 2015-12-29

   Verified problem still exist in 5.1.2.RC. [~penrique] can you take a look? Initially I thought it's to do with <a href="https://github.com/appcelerator/titanium_mobile/pull/7553" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7553</a> but it seems not to be the case.</li>
<li>Pedro Enrique 2016-01-06

   It seems to me that this is some type of race condition. I'm investigating.</li>
<li>Nuno Costa 2016-01-06

   @Pedro Enrique thanks, we are waiting for this fix to release a out app :) </li>
<li>Pedro Enrique 2016-01-06

   Fixed in this PR <a href="https://github.com/appcelerator/titanium_mobile/pull/7617" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7617</a>
   It will be merged one time today.</li>
<li>Nuno Costa 2016-01-06

   Pedro Enrique, count with me to test!</li>
<li>Pedro Enrique 2016-01-06

    We just merged the pull request. The fix will be available soon in the CI builds. Check here later today <a href="http://build.appcelerator.net/" rel="nofollow" target="_blank">http://build.appcelerator.net/</a></li>
<li>Eric Wieber 2016-01-14

    Verified fixed, using:
    
    MacOS 10.11.2 (15C50)
    Studio 4.4.0.201511241829
    Ti SDK 5.2.0.v20160114021251
    Appc NPM 4.2.2
    Appc CLI 5.2.0-224
    Xcode 7.2 (7C68)
    Node v0.12.7
    Java 1.7.0_80
    
    App no longer becomes unresponsive after quickly calling setViews() or after multiple calls to setViews(). Tested with provided sample code and tests from related tickets.</li>
<li>Rodolfo Perottoni 2016-02-12

    Tested with *5.2.0.v20160114021251 *and *5.2.0.v20160111111831* - both still make my app freeze whenever changing the *views* property. I've tried cleaning my project and making a fresh installation of the app: no deal.
    I'm using 4-5 views inside my scrollableview, i don't know if that means anything, but anyways...</li>
<li>Chee Kiat Ng 2016-02-12

    [~rdperottoni] Did you try to reproduce using the sample code? Otherwise can you give us your sample code that cause the freeze?</li>
<li>Nuno Costa 2016-02-18

    @Rodolfo Perottoni  yeah!
    Can you see my note and see if fix for you?   <a href="https://github.com/appcelerator/titanium_mobile/pull/7627/files" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7627/files</a>
    Fixes for me, may help someone!</li>
<li>Nuno Costa 2016-02-18

    </li>
</ol>


<p><a href="/TIMOB/TIMOB-20138.json">JSON Source</a></p>