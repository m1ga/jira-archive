---
title: "[TIMOB-20146] iOS: Autolayout lays out wrongly when view is added to window"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>AL-5.4.0</td></tr>
<tr><th>Reporter</th><td>Chee Kiat Ng</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-12-15T03:48:37.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:59.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to reproduce</h4>
1. Create a new titanium classic app
2. add <use-autolayout>true</use-autolayout> to tiapp.xml
3. Change app.js to this:
<code><pre>
var mainWindow =Ti.UI.createWindow({
top:20,
backgroundColor:'white',
layout:'horizontal'
});
 
var mainView = Ti.UI.createView({
backgroundColor:'white',
layout:'horizontal',
});
 
 
var label1 = Ti.UI.createLabel({
text : 'label1 ',
});
 
var label2 = Ti.UI.createLabel({
text : 'label2 ',
});
var label3 = Ti.UI.createLabel({
text : 'label3 ',
});
var label4 = Ti.UI.createLabel({
text : 'label4 ',
});

var label5 = Ti.UI.createLabel({
text : 'label5 and more ',
height: 40
});
 
var label6 = Ti.UI.createLabel({
text : 'label6 ',
horizontalWrap: true
});
var label7 = Ti.UI.createLabel({
text : 'label7 ',
});
var label8 = Ti.UI.createLabel({
text : 'label8 ',
});
 
// Add to the parent view.
mainView.add(label1);
mainView.add(label2);
mainView.add(label3);
mainView.add(label4);
mainView.add(label5);
mainView.add(label6);
mainView.add(label7);
mainView.add(label8);
 
mainWindow.add(mainView);
mainWindow.open();
</pre></code>

<h4>Expected result</h4>
you should see the labels 20pixels away from to top edge.

<h4>Actual result</h4>
you will see the labels right at the top edge.

<h3>Comments</h3>

<ol>
<li>Harry Bryant 2016-07-19

   Adding <use-autolayout>true</use-autolayout> to the tiapp.xml prevents the app from opening the window upon launch. This does not occur when autolayout is set to <code>false</code>.
   
   *Reopening Ticket.*
   
   Tested On:
   iPhone 6S (9.3.2) Device
   Mac OSX El Capitan 10.11.5 
   Ti SDK: 5.4.0.v20160713141635
   Appc Studio: 4.7.0.201607111053
   Appc NPM: 4.2.7	
   App CLI: 5.4.0-33
   Xcode 7.3
   Node v4.4.7
   
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-20146.json">JSON Source</a></p>