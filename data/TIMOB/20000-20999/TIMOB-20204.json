{
	"id": "154159",
	"key": "TIMOB-20204",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "17706",
				"name": "Release 5.4.0",
				"archived": false,
				"released": true,
				"releaseDate": "2016-08-11"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2016-07-27T08:03:26.000+0000",
		"created": "2016-01-06T23:11:35.000+0000",
		"priority": {
			"name": "High",
			"id": "2"
		},
		"labels": [
			"listview",
			"mainthread",
			"qe-5.4.0"
		],
		"versions": [
			{
				"id": "16997",
				"name": "Release 5.2.0",
				"archived": false,
				"released": true,
				"releaseDate": "2016-02-23"
			}
		],
		"issuelinks": [
			{
				"id": "52860",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "163533",
					"key": "TIMOB-23973",
					"fields": {
						"summary": "iOS: Events on images inside ListViewItem templates not fired (regression)",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "50235",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"inwardIssue": {
					"id": "153652",
					"key": "ALOY-1339",
					"fields": {
						"summary": "iOS: ListView Images[] property not working of embedded imageview",
						"status": {
							"description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
							"name": "Resolved",
							"id": "5",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "hknoechel",
			"key": "hansknoechel",
			"displayName": "Hans Knöchel",
			"active": true,
			"timeZone": "Europe/Berlin"
		},
		"updated": "2016-10-01T23:11:30.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10206",
				"name": "iOS",
				"description": "iOS Platform"
			}
		],
		"description": "For iOS, {{onload}} event attached to any listview template items is not fired. It does fire for Android.\r\n\r\nh5. Step to reproduce\r\n1. Run attach app on iOS Simulator\r\n2. Run attach app on on Android Emulator\r\n3. Compare both results\r\n\r\nh5. Expected Result\r\nOn 3rd row, images are animating for both OS\r\n\r\nh5. Actual Result\r\nOn 3rd row, images are animating on Android, but not on iOS.\r\n\r\n",
		"attachment": [
			{
				"id": "57895",
				"filename": "classiApp.zip",
				"author": {
					"name": "fmiao",
					"key": "fmiao",
					"displayName": "Feon Sua Xin Miao",
					"active": true,
					"timeZone": "America/Vancouver"
				},
				"created": "2016-01-06T23:06:51.000+0000",
				"size": 120516,
				"mimeType": "application/zip"
			},
			{
				"id": "58690",
				"filename": "Simulator Screen Shot Mar 22, 2016, 4.11.56 PM.png",
				"author": {
					"name": "fmiao",
					"key": "fmiao",
					"displayName": "Feon Sua Xin Miao",
					"active": true,
					"timeZone": "America/Vancouver"
				},
				"created": "2016-03-22T23:12:19.000+0000",
				"size": 48535,
				"mimeType": "image/png"
			}
		],
		"flagged": false,
		"summary": "iOS: ListView - onload events of template items not fired",
		"creator": {
			"name": "fmiao",
			"key": "fmiao",
			"displayName": "Feon Sua Xin Miao",
			"active": true,
			"timeZone": "America/Vancouver"
		},
		"subtasks": [],
		"reporter": {
			"name": "fmiao",
			"key": "fmiao",
			"displayName": "Feon Sua Xin Miao",
			"active": true,
			"timeZone": "America/Vancouver"
		},
		"environment": "Ti SDK: 6.0.0.v20160105115447, 5.2.0.GA",
		"closedSprints": [
			{
				"id": 682,
				"state": "closed",
				"name": "2016 Sprint 15 SDK",
				"startDate": "2016-07-16T00:19:20.819Z",
				"endDate": "2016-07-30T00:19:00.000Z",
				"completeDate": "2016-08-01T04:40:11.421Z",
				"originBoardId": 114
			}
		],
		"comment": {
			"comments": [
				{
					"id": "376890",
					"author": {
						"name": "ssombhatla",
						"key": "ssombhatla",
						"displayName": "Srikanth Sombhatla",
						"active": false,
						"timeZone": "Asia/Singapore"
					},
					"body": "[~fmiao] \r\nSince expected result is: \r\n{{On 3rd row, images are animating for both OS}}\r\n\r\nI see them animated in 3rd row and {{load}} event is invoked on all three rows as well. \r\n{code}\r\n[INFO] - imageLoad:  [object TiUIImageView]\r\n[INFO] - imageLoad:  [object TiUIImageView]\r\n[INFO] - imageLoad:  [object TiUIImageView]\r\n{code}\r\n\r\nCan you please reverify and update this ticket. ",
					"updateAuthor": {
						"name": "ssombhatla",
						"key": "ssombhatla",
						"displayName": "Srikanth Sombhatla",
						"active": false,
						"timeZone": "Asia/Singapore"
					},
					"created": "2016-02-15T03:48:06.000+0000",
					"updated": "2016-03-22T03:46:56.000+0000"
				},
				{
					"id": "380439",
					"author": {
						"name": "fmiao",
						"key": "fmiao",
						"displayName": "Feon Sua Xin Miao",
						"active": true,
						"timeZone": "America/Vancouver"
					},
					"body": "[~ssombhatla], I still get the same result, the 3rd row is blank, attached a screenshot of what I see after the simulator is loaded.\r\n\r\n{code}\r\nSDK: 5.4.0.v20160322115854 \r\niOS Simulator: iPhone 5\r\niOS: 9.2\r\nXcode: 7.2\r\n{code}",
					"updateAuthor": {
						"name": "fmiao",
						"key": "fmiao",
						"displayName": "Feon Sua Xin Miao",
						"active": true,
						"timeZone": "America/Vancouver"
					},
					"created": "2016-03-22T23:13:26.000+0000",
					"updated": "2016-03-22T23:13:26.000+0000"
				},
				{
					"id": "380569",
					"author": {
						"name": "ssombhatla",
						"key": "ssombhatla",
						"displayName": "Srikanth Sombhatla",
						"active": false,
						"timeZone": "Asia/Singapore"
					},
					"body": "This is {{TI_USE_KROLL_THREAD}} issue. \r\nA quick work around is to set {code}<run-on-main-thread>true</run-on-main-thread>{code} under {{ios}} in tiapp.xml. I need to investigate for the fix. ",
					"updateAuthor": {
						"name": "ssombhatla",
						"key": "ssombhatla",
						"displayName": "Srikanth Sombhatla",
						"active": false,
						"timeZone": "Asia/Singapore"
					},
					"created": "2016-03-24T04:34:50.000+0000",
					"updated": "2016-03-24T04:34:50.000+0000"
				},
				{
					"id": "380588",
					"author": {
						"name": "ssombhatla",
						"key": "ssombhatla",
						"displayName": "Srikanth Sombhatla",
						"active": false,
						"timeZone": "Asia/Singapore"
					},
					"body": "When {{TI_USE_KROLL_THREAD}} is enabled, the image is loaded before the events are added. So {{load}} event is not fired. This fix will listen to added events and then fire the load event. \r\n\r\nPR: https://github.com/appcelerator/titanium_mobile/pull/7879\r\n\r\nUse the attached app.js. Test by changing values on \r\n{code} <run-on-main-thread>true</run-on-main-thread> {code} \r\nunder {{ios}} in tiapp.xml",
					"updateAuthor": {
						"name": "ssombhatla",
						"key": "ssombhatla",
						"displayName": "Srikanth Sombhatla",
						"active": false,
						"timeZone": "Asia/Singapore"
					},
					"created": "2016-03-24T08:54:11.000+0000",
					"updated": "2016-03-24T08:54:11.000+0000"
				},
				{
					"id": "390072",
					"author": {
						"name": "jlongton",
						"key": "jlongton",
						"displayName": "Josh Longton",
						"active": true,
						"timeZone": "Europe/London"
					},
					"body": "Verified as fixed, the event is fired and the image is animated with {{run-on-main-thread}} set to true/false.\r\n\r\nTested on: \r\niPhone 5s (9.2)\r\niOS Simulator (9.3)\r\nAndroid emulator (6.0) \r\n Mac OSX El Capitan 10.11.5\r\nStudio: 4.7.0.201607070843\r\n Ti SDK: 5.4.0.v20160705213725\r\n Appc NPM: 4.2.8-1\r\nAppc CLI: 5.4.0-26\r\n Xcode 7.3.1\r\nNode v4.4.4\r\n* Closing Ticket*",
					"updateAuthor": {
						"name": "jlongton",
						"key": "jlongton",
						"displayName": "Josh Longton",
						"active": true,
						"timeZone": "Europe/London"
					},
					"created": "2016-07-07T20:12:35.000+0000",
					"updated": "2016-07-07T20:12:35.000+0000"
				},
				{
					"id": "391508",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "Reopening. This fix produces a regression for all images in both standalone imageviews and embedded imageviews in lists/tables. The exact issue is [here|https://github.com/appcelerator/titanium_mobile/commit/a2ce6d1dfac7d75d73ad66656ffbe11200061db3#diff-bda46bd3120801c618c5afee61c97391R67], so we need to check what's going wrong there exactly\r\n\r\nDemo to reproduce:\r\n{code:javascript}\r\nvar win = Ti.UI.createWindow({\r\n    backgroundColor: \"#fff\"\r\n});\r\nvar img1 = Ti.UI.createImageView({\r\n    image: \"default_app_logo.png\",\r\n    imageActive: \"/images/apple_logo.jpg\",\r\n    height: 50,\r\n    top: 50,\r\n});\r\nvar img2 = Ti.UI.createImageView({\r\n    image: \"\",\r\n    backgroundColor: \"#ff0\",\r\n    width: 50,\r\n    imageActive: \"/images/apple_logo.jpg\",\r\n    height: 50,\r\n    top: 125,\r\n});\r\nvar img3 = Ti.UI.createImageView({\r\n    image: \"default_app_logo.png\",\r\n    imageActive: \"/images/apple_logo.jpg\",\r\n    height: 50,\r\n    top: 200\r\n});\r\n\r\nvar lbl = Ti.UI.createLabel({\r\n    bottom: 20\r\n});\r\n\r\nwin.add(lbl);\r\nwin.add(img1);\r\nwin.add(img2);\r\nwin.add(img3);\r\n\r\nfunction cl(e){\r\n    lbl.text = \"Before \" +e.source.image;\r\n    e.source.image = e.source.imageActive;\r\n    console.log(e.source.image);\r\n    lbl.text += \" after \" +e.source.image;\r\n}\r\n\r\nimg1.addEventListener(\"click\", cl);\r\nimg2.addEventListener(\"click\", cl);\r\nimg3.addEventListener(\"click\", cl);\r\n\r\nwin.open();\r\n{code}\r\n\r\nExpected behavior: The images change on click\r\nActual behaior: The images do not change on click\r\n\r\nThanks to [~michael] for reporting!\r\n\r\n*EDIT*: Diving deeper into that issue, I noticed that he overwrote a proxy delegate method which has bad impact on the whole proxy handling. So we may -revert this PR for 5.4.0 so the regression to the user-cases is fixed and try to- fix this issue differently.",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2016-07-26T12:12:55.000+0000",
					"updated": "2016-07-27T08:06:59.000+0000"
				},
				{
					"id": "391510",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "PR (master): https://github.com/appcelerator/titanium_mobile/pull/8158\r\nPR (5_4_X): https://github.com/appcelerator/titanium_mobile/pull/8159\r\n\r\nThis needs be tested against both the original demo-code (list-view with images) as well as the regression demo in the comment above. For QE: Please also test this with the KitchenSink app and the \"Employee Directory\" app from Studio. [~bgrantges@appcelerator.com] reported a possible regression issue (TIMOB-23669) recently that is surely related to this one.",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2016-07-26T13:38:05.000+0000",
					"updated": "2016-07-26T13:38:05.000+0000"
				},
				{
					"id": "391633",
					"author": {
						"name": "michael",
						"key": "michael",
						"displayName": "Michael Gangolf",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "@hansknoechel 5_4_x patched worked fine with the provided demo. All images update on click with and without main-thread.",
					"updateAuthor": {
						"name": "michael",
						"key": "michael",
						"displayName": "Michael Gangolf",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2016-07-27T07:05:58.000+0000",
					"updated": "2016-07-27T07:05:58.000+0000"
				},
				{
					"id": "391636",
					"author": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "CR and FT passed. Approved!",
					"updateAuthor": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-07-27T08:03:06.000+0000",
					"updated": "2016-07-27T08:03:06.000+0000"
				},
				{
					"id": "392334",
					"author": {
						"name": "htbryant",
						"key": "htbryant",
						"displayName": "Harry Bryant",
						"active": true,
						"timeZone": "Europe/London"
					},
					"body": "Verified as fixed. Tested both the original demo-code as well as the second test case above. Also verified TIMOB-23669 and closed.\r\n\r\nTested On:\r\niPhone 6S (9.3.3) Device\r\nMac OSX El Capitan 10.11.6\r\nTi SDK: 5.4.0.v20160802165655\r\nAppc Studio: 4.7.0.201607111053\r\nAppc NPM: 4.2.7\t\r\nApp CLI: 5.4.0-37\r\nXcode 7.3\r\nNode v4.4.7\r\n\r\n*Closing ticket.*",
					"updateAuthor": {
						"name": "htbryant",
						"key": "htbryant",
						"displayName": "Harry Bryant",
						"active": true,
						"timeZone": "Europe/London"
					},
					"created": "2016-08-03T18:14:07.000+0000",
					"updated": "2016-08-03T18:14:07.000+0000"
				}
			],
			"maxResults": 10,
			"total": 10,
			"startAt": 0
		}
	}
}