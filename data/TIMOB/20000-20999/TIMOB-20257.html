---
title: "[TIMOB-20257] Windows: Support Ti.Blob.imageAs* methods"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-02-05T14:32:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.3.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>windows, windows_phone</td></tr>
<tr><th>Reporter</th><td>Alberto Bonacina</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2016-01-20T13:51:30.000+0000</td></tr>
<tr><th>Updated</th><td>2018-10-10T16:30:05.000+0000</td></tr>
</table>

<h3>Description</h3>

On windows phone I have to make some image manipulation, in my case I want to resize/reduce quality of an image before upload it on my server. On Android/iOS I use [ti.imagefactory](<a href="http://gitt.io/component/ti.imagefactory)" rel="nofollow" target="_blank">http://gitt.io/component/ti.imagefactory)</a> and everything works as expected with this function that I made for a little manipulation on the image before upload it:
<code><pre>
Alloy.Globals.imageMaxDimensione = 500;
Alloy.Globals.imageQuality = 0.9;

function resizeImageForUpload(imageBlob){
	_altezza = imageBlob.getHeight(); 
	_larghezza = imageBlob.getWidth();
	_newLarghezza = 0; _newAltezza = 0;
	if(_altezza &gt; _larghezza){ //portrait
		_newAltezza = Alloy.Globals.imageMaxDimensione;
		_newLarghezza = Math.floor(Alloy.Globals.imageMaxDimensione*_larghezza/_altezza);
	} else { //sono in landscape
		_newLarghezza = Alloy.Globals.imageMaxDimensione;
		_newAltezza = Math.floor(Alloy.Globals.imageMaxDimensione*_altezza/_larghezza);
	}
	
	var ImageFactory = require('ti.imagefactory');
	var dict = {
		width: _newLarghezza,
		height: _newAltezza,
		quality: Alloy.Globals.imageQuality
	};
	newBlob = ImageFactory.imageAsResized(imageBlob,dict);
	return newBlob;
}
</pre></code>
but on windows phone I haven't ti.imagefactory library. As a workaround I could use [Titanium.Blob.imageAsResized](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Blob-method-imageAsResized) but this function is not supported on Windows Phone.

Is it possible to include in future update a compatibility with Windows Phone for the function used to manipulate images? The best in this case will be ti.imagefactory also for Windows Phone.

<h3>Comments</h3>

<ol>
<li>Christopher Williams 2016-01-20

   Some possible pointers on resizing/scaling/cropping using WinRT APIs:
   - <a href="https://social.msdn.microsoft.com/Forums/en-US/2437d485-ac7c-4a94-bfba-2e4b8e8039cf/high-quality-image-resizing-in-winrt?forum=winappswithcsharp" rel="nofollow" target="_blank">https://social.msdn.microsoft.com/Forums/en-US/2437d485-ac7c-4a94-bfba-2e4b8e8039cf/high-quality-image-resizing-in-winrt?forum=winappswithcsharp</a>
   - <a href="http://stackoverflow.com/questions/12349611/how-to-resize-image-in-c-sharp-winrt-winmd" rel="nofollow" target="_blank">http://stackoverflow.com/questions/12349611/how-to-resize-image-in-c-sharp-winrt-winmd</a>
   
   We may want to transform this ticket into supporting Ti.Blob.imageAsResized( width, height ) and Ti.Blob.imageAsCropped( options ):
   - <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Blob-method-imageAsResized
   - <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Blob-method-imageAsCropped
   </li>
<li>Kota Iguchi 2016-02-04

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/547" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/547</a></li>
<li>Christopher Williams 2016-02-05

   [~bimmel] Please note that Ti.Blob.imageAsThumbnail doesn't support/ignores the borderSize and cornerRadius arguments.
   
   [~gmathews] Can we specify constraints/notes like this in the xml files in acidic folder? How would we add details like this?</li>
<li>Ewan Harris 2016-05-23

   [~kota] [~cwilliams] While testing this I found the following issue TIMOB-23425 where the application crashes when the blob used does not represent a blob, according to the docs the method should just return null. Should this be fixed for 5.3.0?</li>
<li>Christopher Williams 2016-05-23

   [~eharris] I'd argue that it's not a regression and the workaround is to not call it for non-images :) But it certainly is a bad bug and we should fix it for 5.4.0 if we can...</li>
<li>Ewan Harris 2016-05-24

   Agreed (y) Just wanted to be 100% sure it was a post 5.3.0 ticket. I'll go ahead and close this.
   
   Windows 10 Pro 
   Visual Studio 2015 Community Update 2 
   Appc Core: 5.3.0-46 
   Appc NPM: 4.2.5-5 
   Ti SDK: 5.3.0.v20160523083840
   Lumia 520 8.1, Lumia 930 10.0
   
   Ti.Blob.imageAs methods are now implemented and work as expected
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-20257.json">JSON Source</a></p>