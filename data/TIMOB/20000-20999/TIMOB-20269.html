---
title: "[TIMOB-20269] Ti.Geolocation.reverseGeocoder returns different information on Android and iOS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2016-01-25T18:53:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.1.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Components</th><td>Android, iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Bowley</td></tr>
<tr><th>Assignee</th><td>Chee Kiat Ng</td></tr>
<tr><th>Created</th><td>2016-01-25T15:08:47.000+0000</td></tr>
<tr><th>Updated</th><td>2016-06-23T22:59:44.000+0000</td></tr>
</table>

<h3>Description</h3>

On iOS the reverse geocoder response is passed straight through, but on Android the place objects are built (<a href="https://github.com/appcelerator/titanium_mobile/blob/bc85170157d3bebc5de1d61a9fe6e34bce84a8c9/android/modules/geolocation/src/java/ti/modules/titanium/geolocation/TiLocation.java#L330)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/bc85170157d3bebc5de1d61a9fe6e34bce84a8c9/android/modules/geolocation/src/java/ti/modules/titanium/geolocation/TiLocation.java#L330).</a>

This means the API response is inconsistent between platforms with missing fields (e.g. "state"):

iOS:
<code><pre>
{  
  "success": true,  
  "places": [  
    {  
      "street": "West County Road 200 North",  
      "city": "",  
      "country": "United States of America",  
      "address": "755 West County Road 200 North, Nash, IN 46122, United States of America",  
      "zipcode": "46122",  
      "longitude": -86.53846722826599,  
      "latitude": 39.790183228524015,  
      "country_code": "US",  
      "state": "Indiana"  
    }  
  ],  
  "code": 0  
}
</pre></code>

Android:
<code><pre>
{  
  "source": {  
    "locationServicesEnabled": true,  
    "__propertiesDefined__": true,  
    "lastGeolocation": null,  
    "bubbleParent": true,  
    "apiName": "Ti.Geolocation",  
    "hasCompass": false  
  },  
  "code": 0,  
  "places": [  
    {  
      "address": "755 West County Road 200 North, Nash, IN 46122, United States of America",  
      "street": "West County Road 200 North",  
      "postalCode": "46122",  
      "country_code": "US",  
      "countryCode": "US",  
      "country": "United States of America",  
      "street1": "West County Road 200 North",  
      "longitude": "-86.538467228266",  
      "region2": "",  
      "city": "",  
      "latitude": "39.790183228524",  
      "region1": "",  
      "displayAddress": "755 West County Road 200 North, Nash, IN 46122, United States of America"  
    }  
  ],  
  "success": true  
}
</pre></code>

<h3>Comments</h3>

<ol>
<li>Lokesh Choudhary 2016-06-23

   Closing as duplicate & as the original issue is closed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-20269.json">JSON Source</a></p>