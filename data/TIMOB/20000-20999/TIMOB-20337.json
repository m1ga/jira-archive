{
	"id": "154728",
	"key": "TIMOB-20337",
	"fields": {
		"issuetype": {
			"id": "4",
			"description": "An improvement or enhancement to an existing feature or task.",
			"name": "Improvement",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "17706",
				"name": "Release 5.4.0",
				"archived": false,
				"released": true,
				"releaseDate": "2016-08-11"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2016-03-29T16:21:21.000+0000",
		"created": "2016-02-04T07:03:24.000+0000",
		"priority": {
			"name": "High",
			"id": "2"
		},
		"labels": [
			"notable",
			"qe-5.4.0"
		],
		"versions": [],
		"issuelinks": [
			{
				"id": "51160",
				"type": {
					"id": "10020",
					"name": "Depends",
					"inward": "is dependent of",
					"outward": "depends on"
				},
				"inwardIssue": {
					"id": "155849",
					"key": "TIMOB-20602",
					"fields": {
						"summary": "Hyperloop: Build doesn't work with 5.4.0",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "High",
							"id": "2"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "51289",
				"type": {
					"id": "10020",
					"name": "Depends",
					"inward": "is dependent of",
					"outward": "depends on"
				},
				"inwardIssue": {
					"id": "159409",
					"key": "TIDOC-2504",
					"fields": {
						"summary": "Change in usage of run-on-main-thread and auto layout",
						"status": {
							"description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
							"name": "Resolved",
							"id": "5",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "4",
							"description": "An improvement or enhancement to an existing feature or task.",
							"name": "Improvement",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "50490",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"inwardIssue": {
					"id": "152256",
					"key": "TIMOB-19765",
					"fields": {
						"summary": "Android: Support running on main/UI thread",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "High",
							"id": "2"
						},
						"issuetype": {
							"id": "2",
							"description": "A new feature of the product, which has yet to be developed.",
							"name": "New Feature",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "50524",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"inwardIssue": {
					"id": "148537",
					"key": "TIMOB-18976",
					"fields": {
						"summary": "iOS: Execute JS on main thread; remove KrollThread",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "High",
							"id": "2"
						},
						"issuetype": {
							"id": "4",
							"description": "An improvement or enhancement to an existing feature or task.",
							"name": "Improvement",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "cng",
			"key": "cng",
			"displayName": "Chee Kiat Ng",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"updated": "2016-07-19T23:52:52.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10207",
				"name": "Tooling"
			}
		],
		"description": "Both iOS and Android enables run-on-main-thread in tiapp.xml\r\nHowever, the properties are placed in different locations.\r\nWe should modify iOS to be in parity with the current implementation for Android (moving it out of the <iOS> section.\r\nSee related ticket.",
		"attachment": [],
		"flagged": false,
		"summary": "Parity: enabling run-on-main-thread",
		"creator": {
			"name": "cng",
			"key": "cng",
			"displayName": "Chee Kiat Ng",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"subtasks": [],
		"reporter": {
			"name": "cng",
			"key": "cng",
			"displayName": "Chee Kiat Ng",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"environment": null,
		"closedSprints": [
			{
				"id": 596,
				"state": "closed",
				"name": "2016 Sprint 05 Tooling",
				"startDate": "2016-02-27T01:30:53.769Z",
				"endDate": "2016-03-12T01:30:00.000Z",
				"completeDate": "2016-03-14T11:54:10.256Z",
				"originBoardId": 121
			},
			{
				"id": 615,
				"state": "closed",
				"name": "2016 Sprint 07 Tooling",
				"startDate": "2016-03-26T00:40:48.770Z",
				"endDate": "2016-04-09T00:40:00.000Z",
				"completeDate": "2016-04-11T04:48:57.781Z",
				"originBoardId": 121
			}
		],
		"comment": {
			"comments": [
				{
					"id": "377070",
					"author": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "h4. Steps to test\r\n1. *appc new*\r\n2. in tiapp.xml, instead of putting <run-on-main-thread> under <ios> section, put it at the same level and set it to *false*\r\n3. *appc run -p ios*\r\n4. inside build folder, open the Xcode project\r\n5. Look in {{Other Sources -> defines.h}} \r\n6. in tiapp.xml, set <run-on-main-thread> property to *true*\r\n7. Repeat 3-5\r\n8. in tiapp.xml, remove <run-on-main-thread> property\r\n9. Repeat 3-5\r\n\r\nh4. Expected Result\r\n5. You will see *#define TI_USE_KROLL_THREAD* implying it is not running under main thread\r\n7. You will *not* see *#define TI_USE_KROLL_THREAD* implying it is running under main thread\r\n9. You will see *#define TI_USE_KROLL_THREAD* implying it is not running under main thread by default",
					"updateAuthor": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-02-17T07:07:40.000+0000",
					"updated": "2016-02-17T07:07:40.000+0000"
				},
				{
					"id": "377071",
					"author": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "PR here: https://github.com/appcelerator/titanium_mobile/pull/7747",
					"updateAuthor": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-02-17T07:12:32.000+0000",
					"updated": "2016-02-17T07:12:32.000+0000"
				},
				{
					"id": "380488",
					"author": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "While working on hyper loop, i realised that i made the mistake. There's still no parity between android and ios.\r\non android, this is how you enable main thread:\r\n*<property name=\"run-on-main-thread\" type=\"boolean\">true</property>*\r\nwhereas the one I implemented on iOS, it is\r\n*<run-on-main-thread>true</run-on-main-thread>*\r\n\r\nSo before I change this again, [~cbarber], [~cwilliams] any objections for me to finalise on\r\n*<property name=\"run-on-main-thread\" type=\"boolean\">true</property>*\r\nfor both platforms? ",
					"updateAuthor": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-03-23T08:50:26.000+0000",
					"updated": "2016-03-23T08:50:26.000+0000"
				},
				{
					"id": "380517",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "As I've said before, we really should have an alternative way to specify settings in the tiapp.xml that are not bundled with the app. I proposed adding a new {{<setting>}} tag. However, I think this doesn't go far enough. We need to introduce something similar to build configurations in Xcode so that you can twiddle properties/settings per deploy type (dev/test/prod) which is similar to Xcode's debug/release. I proposed build profiles, but that solution may need to be refreshed.\r\n\r\nIn short, it doesn't really matter what you choose to do today because it's going to change in the future.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2016-03-23T14:30:26.000+0000",
					"updated": "2016-03-23T14:30:26.000+0000"
				},
				{
					"id": "380526",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "[~cng] I think the property tag is fine for parity sake. As far as what [~cb1kenobi] is talking about, I think that's related to build-time only settings, whereas for this particular property, Android *needs* it at runtime inside the app to change it's behavior regarding where to run the kroll thread.",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2016-03-23T15:42:41.000+0000",
					"updated": "2016-03-23T15:42:41.000+0000"
				},
				{
					"id": "380575",
					"author": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "I realised that when assigning a property type, it has to be 'bool' and not 'boolean' according to\r\nhttp://docs.appcelerator.com/platform/latest/#!/guide/tiapp.xml_and_timodule.xml_Reference-section-29004921_tiapp.xmlandtimodule.xmlReference-app_properties\r\n\r\nPR here that addresses this parity using 'bool', but [~cwilliams] can you check to see on Android if we should be using 'bool' or 'boolean'?\r\n\r\nhttps://github.com/appcelerator/titanium_mobile/pull/7878",
					"updateAuthor": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-03-24T04:48:54.000+0000",
					"updated": "2016-03-24T04:52:02.000+0000"
				},
				{
					"id": "380762",
					"author": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "ok it's verified. It's supposed to be 'bool'.\r\n",
					"updateAuthor": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-03-28T03:41:55.000+0000",
					"updated": "2016-03-28T03:41:55.000+0000"
				},
				{
					"id": "380764",
					"author": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "PR ready to be reviewed: https://github.com/appcelerator/titanium_mobile/pull/7878\r\n\r\nh4. Steps to test\r\n1. *appc new*\r\n2. in tiapp.xml, instead of putting <run-on-main-thread> under <ios> section, use *<property name=\"run-on-main-thread\" type=\"bool\">false</property>* at root\r\n3. *appc run -p ios*\r\n4. inside build folder, open the Xcode project\r\n5. Look in {{Other Sources -> defines.h}} \r\n6. in tiapp.xml, use *<property name=\"run-on-main-thread\" type=\"bool\">true</property>*\r\n7. Repeat 3-5\r\n8. in tiapp.xml, remove *<property name=\"run-on-main-thread\" type=\"bool\">true</property>*\r\n9. Repeat 3-5\r\n\r\nh4. Expected Result\r\n5. You will see *#define TI_USE_KROLL_THREAD* implying it is not running under main thread\r\n7. You will *not* see *#define TI_USE_KROLL_THREAD* implying it is running under main thread\r\n9. You will see *#define TI_USE_KROLL_THREAD* implying it is not running under main thread by default",
					"updateAuthor": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-03-28T04:31:00.000+0000",
					"updated": "2016-03-28T04:31:00.000+0000"
				},
				{
					"id": "380957",
					"author": {
						"name": "fmiao",
						"key": "fmiao",
						"displayName": "Feon Sua Xin Miao",
						"active": true,
						"timeZone": "America/Vancouver"
					},
					"body": "PR merged.",
					"updateAuthor": {
						"name": "fmiao",
						"key": "fmiao",
						"displayName": "Feon Sua Xin Miao",
						"active": true,
						"timeZone": "America/Vancouver"
					},
					"created": "2016-03-29T16:21:21.000+0000",
					"updated": "2016-03-29T16:21:21.000+0000"
				},
				{
					"id": "381146",
					"author": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~bimmel] notable for 5.4.0",
					"updateAuthor": {
						"name": "cng",
						"key": "cng",
						"displayName": "Chee Kiat Ng",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2016-03-31T06:42:16.000+0000",
					"updated": "2016-03-31T06:42:16.000+0000"
				},
				{
					"id": "391057",
					"author": {
						"name": "jlongton",
						"key": "jlongton",
						"displayName": "Josh Longton",
						"active": true,
						"timeZone": "Europe/London"
					},
					"body": "Verified as fixed.\r\nTested on:\r\n Mac OSX El Capitan 10.11.6\r\nStudio: 4.7.0.201607130543\r\n Ti SDK: 5.4.0.v20160713141635\r\n Xcode 7.3.1 \r\n Appc NPM: 4.2.7\r\nAppc CLI: 5.4.0-33 \r\nNode v4.4.4 \r\n* Closing Ticket*",
					"updateAuthor": {
						"name": "jlongton",
						"key": "jlongton",
						"displayName": "Josh Longton",
						"active": true,
						"timeZone": "Europe/London"
					},
					"created": "2016-07-19T23:52:32.000+0000",
					"updated": "2016-07-19T23:52:32.000+0000"
				}
			],
			"maxResults": 11,
			"total": 11,
			"startAt": 0
		}
	}
}