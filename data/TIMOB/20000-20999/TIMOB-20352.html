---
title: "[TIMOB-20352] Android: Implement support for Camera2 API"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hieu Pham</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-02-04T23:25:33.000+0000</td></tr>
<tr><th>Updated</th><td>2020-04-02T20:11:07.000+0000</td></tr>
</table>

<h3>Description</h3>

Our current Camera implementation still uses android.hardware.camera, which is deprecated last year. We need to implement android.hardware.camera2 and use them on API  21+
Link: <a href="http://developer.android.com/intl/zh-cn/reference/android/hardware/camera2/package-summary.html" rel="nofollow" target="_blank">http://developer.android.com/intl/zh-cn/reference/android/hardware/camera2/package-summary.html</a>

<h3>Comments</h3>

<ol>
<li>Mike Fogg 2016-08-15

   </li>
<li>eric harms 2020-04-02

   Hey guys -- anyone looking into this one?  Im getting some crashes in my dashboard now about autofocus with SDK 9.0.0.  
   
   Looks like this ticket has not been updated since March 2017?
   
   autoFocus failed
   autoFocus failed
   
   stacktrace:
    android.hardware.Camera.native_autoFocus(Native Method)
       android.hardware.Camera.autoFocus(Camera.java:1379)
       ti.modules.titanium.media.TiCameraActivity$2.onAutoFocus(TiCameraActivity.java:735)
       android.hardware.Camera$EventHandler.handleMessage(Camera.java:1232)
       android.os.Handler.dispatchMessage(Handler.java:102)
       android.os.Looper.loop(Looper.java:148)
       android.app.ActivityThread.main(ActivityThread.java:5585)
       java.lang.reflect.Method.invoke(Native Method)
       com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730)
       com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620)</li>
<li>Michael Gangolf 2020-04-02

   [~eric.harms@gmail.com] that one should be fixed in 9.0.1: <a href="https://github.com/appcelerator/titanium_mobile/pull/11562" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11562</a>
   If you want to start implementing Camera2 you can have a look at this: <a href="https://gist.github.com/m1ga/f95beee242d1e1a75225fc9834b2dfeb" rel="nofollow" target="_blank">https://gist.github.com/m1ga/f95beee242d1e1a75225fc9834b2dfeb</a>
   it will create a live preview already but wrong aspect ratio and all other features are missing :) </li>
<li>eric harms 2020-04-02

   Awesome thanks Michael, glad to see this is in the works and is in the pipeline for release!
   </li>
<li>Michael Gangolf 2020-04-02

   Just the focus fix (it is already merged so you can check it with a version from builds.appcelerator.com/)
   
   The Camera2 part is nothing official! Just some testing by me ;)</li>
<li>eric harms 2020-04-02

   ah good to know, thanks!</li>
</ol>


<p><a href="/TIMOB/TIMOB-20352.json">JSON Source</a></p>