---
title: "[TIMOB-20355] Titanium app with navigation window in a tab crashes when closed on iOS"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-02-10T19:35:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.0, Release 5.1.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS, TiAPI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Linseman</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2016-02-05T16:50:02.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T18:37:29.000+0000</td></tr>
</table>

<h3>Description</h3>

When a titanium app with a navigation window inside of a tab is closed on iOS it crashes.

*Steps to reproduce:*
1) Create a new mobile app: Alloy -> Two-tabbed Alloy Application
2) Replace index.xml with the one attached to this issue
2) Run the app on iOS Simulator
3) Double tap the home icon to bring up the app selection/multitasking screen
4) Close the app by sliding it up

*Expected result*
App closes normally, without an exception

*Actual result*
Console displays:
[ERROR] Can not close root window of the navWindow. Close this window instead

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-20355_58151/index.xml">index.xml</td></td><td>2016-02-05T16:47:28.000+0000</td><td>228</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Bert Grantges 2016-02-05

   Similar issue - both seen in the same app.</li>
<li>Hans Knöchel 2016-02-07

   Should be be duplicate of TIMOB-20298, [~bgrantges@appcelerator.com] can you validate with latest 5_2_X or master?</li>
<li>Chris Linseman 2016-02-08

   This issue is still occurring when running against 5.2.0.v20160205150103</li>
<li>Hans Knöchel 2016-02-08

   Ok. First things first: It's not a crash, just a warning with severity "error". The reason is the same as in TIMOB-20298 (related to main thread / kroll thread). We will take a look!</li>
<li>Harry Bryant 2016-02-08

   Tested this issue using SDK version <code>5.2.0.v20160208101502</code>. The issue is not reproducible with an iOS9.2 simulator. *However, I am able to reproduce the error using on 8.4.*
   
   Tested on:
   
   Mac OSX El Capitan 10.11.3 (15D21)
   Ti SDK: 5.2.0.v20160208101502 
   Appc Studio: 4.5.0.201602070910
   Appc NPM: 4.2.3-2
   App CLI: 5.2.0-249
   Xcode 7.2
   Node v4.2.4
   
   </li>
<li>Hans Knöchel 2016-02-10

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/7701" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7701</a>
   PR (5_2_X): <a href="https://github.com/appcelerator/titanium_mobile/pull/7702" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7702</a>
   
   [~cng] Providing a backport, because the related ticket was also 5_2_X. Please consider taking in both.</li>
<li>Angel Petkov 2016-02-10

   Cherry-Picked Hans commits and added willTerminate check. 
   
   PR(master) : <a href="https://github.com/appcelerator/titanium_mobile/pull/7703" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7703</a>
   PR(5_2_X) : <a href="https://github.com/appcelerator/titanium_mobile/pull/7704" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7704</a></li>
<li>Lee Morris 2017-03-21

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-20355.json">JSON Source</a></p>