---
title: "[TIMOB-20360] ArrowDB Event changing date of event"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Olabosipo Shoroye</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2016-02-06T21:35:04.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:28.000+0000</td></tr>
</table>

<h3>Description</h3>

My code looks like in the attachment below and the console.log is printing out the correct date also in the 2nd attachment however when displaying the date on the backend it changes the 2016 to 2006. Please fix quickly as App is soon going live!


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-20360_58159/Screen Shot 2016-02-06 at 09.31.56.png">Screen Shot 2016-02-06 at 09.31.56.png</td></td><td>2016-02-06T21:34:19.000+0000</td><td>19402</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-20360_58158/Screen Shot 2016-02-06 at 09.32.29.png">Screen Shot 2016-02-06 at 09.32.29.png</td></td><td>2016-02-06T21:34:19.000+0000</td><td>24378</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jebun Naher 2016-02-07

   Hello,
   
   We tested this issue and event date is showing as expected. Can you add more information on how you are displaying the date on the backend?
   
   *Test Code:*
   <code><pre>
   ACS.Events.query({
   	        where : {
   	            "name" : {
   	               // "$in" :['movie','netflix']
   		         "$in" :['movie','netflix','']
   	            }
   	        }				
   		//tags : {'$in': ['movie','netflix']}
   	    }, function(e) {
   	        if (e.success) {
   	        	 Ti.API.info("Total event is "+e.events.length);
   	            Ti.API.info( "Total event is"+JSON.stringify(e.events) );	           
   	        } else {
   	            alert('Some error occurred');
   	        }
   	    });
   	}
   </pre></code>
   
   *Output:*
   <code><pre>
   [INFO] :   Total event is 2
   [INFO] :   Total event is[{"id":"56b704e73477c0090b57a620","name":"netflix","start_time":"2016-02-07T08:47:00+0000","duration":7200,"created_at":"2016-02-07T08:48:39+0000","updated_at":"2016-02-07T08:48:39+0000","ical":"DTSTART:20160207T084700Z\nDURATION:PT2H","recurring_until":"2016-02-07T08:47:00+0000","num_occurrences":1,"details":"fun","user_id":"5669545c4a522f0907d824c2"},{"id":"56b704b2bb2d99bd563456d9","name":"movie","start_time":"2016-02-07T08:46:00+0000","duration":3600,"created_at":"2016-02-07T08:47:46+0000","updated_at":"2016-02-07T08:47:46+0000","ical":"DTSTART:20160207T084600Z\nDURATION:PT1H","recurring_until":"2016-02-07T08:46:00+0000","num_occurrences":1,"details":"enjoyment","user_id":"5669545c4a522f0907d824c2"}]
   </pre></code>
   Thanks.</li>
<li>Olabosipo Shoroye 2016-02-11

   Your test code is for a different issue I created, please double check</li>
<li>Olabosipo Shoroye 2016-02-11

   For the date problem all I did was get values from a textfield(dayinput.getValue()) and timepicker as shown in the attached image. The console.log gives me the value shown in the other image attached and I just realised the two values given in the console.log are different, one is 2016-2-9 and the other is Feb 06 2016 (different dates) so somewhere on the backend things are getting messed up. I am using your pre-defined events backend with no modification.</li>
<li>Olabosipo Shoroye 2016-02-11

   My system is a mac, using your studio.</li>
<li>Olabosipo Shoroye 2016-02-11

   I will test the events query for $in tomorrow and report back</li>
<li>Srikanth Sombhatla 2016-02-17

   [~Mr Shakes]
   
   I tried to reproduce this issue by selecting a date from picker and creating an event from the selected date as <code>start_time</code>. It works as expected. 
   
   <code><pre>
   {"id":"56c3fbdf995248ea6af4f1f4","name":"Celebration","start_time":"2016-02-14T04:49:18+0000","duration":3600,"created_at":"2016-02-17T04:49:35+0000","updated_at":"2016-02-17T04:49:35+0000","ical":"DTSTART:20160214T044918Z\nDURATION:PT1H\nRRULE:FREQ=MONTHLY;COUNT=5","recurring":"monthly","recurring_count":5,"num_occurrences":5,"user_id":"56c3f11751f034ed6cebfb97"}
   </pre></code>
   
   I see that you are providing a formatted string as an input to <code>start_time</code>. Before that can you create <code>Date</code> with the formatted string and print it to see if the formatted string is correct. 
   Your date string should confirm to RFC 2822. See [<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse" rel="nofollow" target="_blank">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse</a>]
   
   Try providing your code. 
   </li>
<li>Olabosipo Shoroye 2016-02-17

   I tried using Date picker initially and it worked for Android but it kept setting the date to 1970 for IOS and thats why I switched to the input style method above. I will try the other suggestion and report back soon.</li>
<li>Olabosipo Shoroye 2016-02-17

   The $in is working for 'name' of event but not for tags, please test for tags.</li>
<li>Olabosipo Shoroye 2016-02-17

   I used the new Date for the date and it worked thanks, still having problems with the tags for $in</li>
</ol>


<p><a href="/TIMOB/TIMOB-20360.json">JSON Source</a></p>