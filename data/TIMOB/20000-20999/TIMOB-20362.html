---
title: "[TIMOB-20362] Android: Ti.Geolocation.getCurrentPosition returns altitude=0 and altitudeAccuracy=null"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-10-25T15:24:54.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.1.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, engSchedule</td></tr>
<tr><th>Reporter</th><td>Niraj Kumar</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-02-04T05:24:30.000+0000</td></tr>
<tr><th>Updated</th><td>2019-10-25T15:24:54.000+0000</td></tr>
</table>

<h3>Description</h3>

<code><pre>
function locationListener(location) {
 Ti.API.info("Current Location: " + JSON.stringify(location.coords));
} 
Titanium.Geolocation.distanceFilter = 1;
Titanium.Geolocation.purpose = 'Get Current Position';
Titanium.Geolocation.addEventListener('location', locationListener);
</pre></code>

Output for the above code snippet shows the location as below:
<code><pre>
{
    "accuracy": 100,
    "altitude": 0,
    "altitudeAccuracy": null,
    "heading": 0,
    "latitude": 25.1166228,
    "longitude": 55.390551,
    "speed": 0,
    "timestamp": 1454550108161
}
</pre></code>
If we need the altitude value, should we add some extra parameters with it or at what conditions it can provide some value for altitude?

<h3>Comments</h3>

<ol>
<li>Jebun Naher 2016-02-04

   Hello,
   
   We tested this issue and observed the same output for altitude and altitudeAcccuracy.
   
   *Testing Environment:*
   Appcelerator Studio, build: 4.4.0.201511241829
   Appcelerator Command-Line Interface, version 5.1.0
   Titanium Command-Line Interface, CLI version 5.0.5, 
   Titanium SDK version : 5.1.2 GA
   Mac OS X : 10.11.1 (EI Capitan)
   Device: walton primo v2(android 4.2.2)
   
   *Test Output:*
   <code><pre>
   [INFO] :   geolocation result{"timestamp":1454576798588,"speed":0,"altitude":0,"longitude":90.3713633,"latitude":23.7920789,"accuracy":705,"heading":0,"altitudeAccuracy":null}
   </pre></code>
   
   
   *Test Code:*
   <code><pre>
   var win = Ti.UI.createWindow({
   backgroundColor : '#fff'
   });
   win.addEventListener('click',function(e){
   	if (Ti.Geolocation.locationServicesEnabled) {
   	    Titanium.Geolocation.purpose = 'Get Current Location';
   	    Titanium.Geolocation.getCurrentPosition(function(e) {
   	        if (e.error) {
   	            Ti.API.error('Error: ' + e.error);
   	        } else {
   	        	Ti.API.info(" geolocation result"+ JSON.stringify(e.coords));	        
   	        }
   	    });
   	} else {
   	    alert('Please enable location services');
   	}
   });
   win.open();
   </pre></code>
   
   
   *Steps to test:*
   1. Create a classic project.
   2. Replace app.js with the above code
   3. Run the app
   4. Click on the window when the app opens and check the console output
   
   Thanks.</li>
<li>Chee Kiat Ng 2016-02-10

   [~jnaher] can you test it on other devices as well?</li>
<li>Niraj Kumar 2016-02-10

   Hi,
   
   I have tested it on Samsung S5 (Android L 5.0) and Spice Uno(Android M 6.0.1) and got the same response.</li>
<li>Gary Mathews 2019-10-10

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/11275" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11275</a></li>
<li>Sohail Saddique 2019-10-16

   FR: Passed. PR merged.</li>
<li>Samir Mohammed 2019-10-25

   Closing ticket, fix verified in SDK version <code>8.3.0.v20191023125529</code>.
   
   Test and other information can be found at: 
   <a href="https://github.com/appcelerator/titanium_mobile/pull/11275" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11275</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-20362.json">JSON Source</a></p>