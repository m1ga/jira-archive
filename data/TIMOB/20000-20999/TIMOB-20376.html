---
title: "[TIMOB-20376] Windows Phone: Cannot read property 'split' of undefined"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-04-29T15:24:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.3.0, windowslib 0.4.13</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>qe-5.3.0, windows_phone</td></tr>
<tr><th>Reporter</th><td>Luca Dell'aira</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2015-12-17T14:52:50.000+0000</td></tr>
<tr><th>Updated</th><td>2016-05-03T18:24:59.000+0000</td></tr>
</table>

<h3>Description</h3>

Whe i try to build for Windows Phone the sdk can't complete the build and dies with exit code 1, the only error i can see is part (i think) of the sdk for windows phone

<code><pre>
[INFO] :   Alloy compiled in 12.28829s
[INFO] :   Alloy compiler completed successfully
TypeError: Cannot read property 'split' of undefined
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\windowslib\lib\certs.js:142:52
    at ChildProcess.exithandler (child_process.js:742:7)
    at ChildProcess.emit (events.js:110:17)
    at maybeClose (child_process.js:1015:16)
    at Socket.&lt;anonymous&gt; (child_process.js:1183:11)
    at Socket.emit (events.js:107:17)
    at Pipe.close (net.js:485:12)
---------------------------------------------
    at Object.exports.execFile (child_process.js:821:9)
    at exports.exec (child_process.js:649:18)
    at Object.thumbprint (C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\windowslib\lib\certs.js:134:2)
    at cli.on.post (C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\windows\cli\hooks\ws-package.js:39:22)
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\lib\hook.js:235:13
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:689:13
    at iterate (C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:265:13)
    at process._tickCallback (node.js:355:11)
---------------------------------------------
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:275:35
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:44:16
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:694:17
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:173:37
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\lib\hook.js:239:9
    at cli.on.post (C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\windows\cli\hooks\ws-run.js:34:72)
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\lib\hook.js:235:13
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:689:13
    at iterate (C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:265:13)
---------------------------------------------
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:275:35
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:44:16
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:694:17
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:173:37
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\lib\hook.js:239:9
    at cli.on.post (C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\windows\cli\hooks\wp-run.js:38:85)
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\lib\hook.js:235:13
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:689:13
    at iterate (C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:265:13)
---------------------------------------------
    at C:\Users\erika\Documents\Appcelerator_Studio_Workspace\gacApp\plugins\ti.alloy\hooks\alloy.js:171:11
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\node-appc\lib\async.js:46:6
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:697:13
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:52:16
    at done (C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:248:21)
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:44:16
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:694:17
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:173:37
    at C:\Users\erika\Documents\Appcelerator_Studio_Workspace\gacApp\plugins\ti.alloy\hooks\alloy.js:102:9
---------------------------------------------
    at Object.exports.execFile (child_process.js:821:9)
    at exports.exec (child_process.js:649:18)
    at C:\Users\erika\Documents\Appcelerator_Studio_Workspace\gacApp\plugins\ti.alloy\hooks\alloy.js:99:7
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:689:13
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:239:13
    at _arrayEach (C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:91:13)
    at _each (C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:82:13)
    at async.forEachOf.async.eachOf (C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:238:9)
    at _parallel (C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:688:9)
---------------------------------------------
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:275:35
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:44:16
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:694:17
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:173:37
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\lib\hook.js:239:9
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\mobileweb\cli\hooks\windows.js:380:4
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\lib\hook.js:235:13
    at C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:689:13
    at iterate (C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\node_modules\titanium\node_modules\async\lib\async.js:265:13)
---------------------------------------------
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:275:35
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:44:16
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:694:17
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:173:37
    at WindowsBuilder.checkIfNeedToRecompile (C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\windows\cli\commands\_build\checks.js:214:2)
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:689:13
    at iterate (C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:265:13)
    at process._tickCallback (node.js:355:11)
---------------------------------------------
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:275:35
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:44:16
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:694:17
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:173:37
    at WindowsBuilder.readBuildManifest (C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\windows\cli\commands\_build\read.js:39:2)
    at C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:689:13
    at iterate (C:\ProgramData\Titanium\mobilesdk\win32\5.0.2.GA\node_modules\async\lib\async.js:265:13)
    at process._tickCallback (node.js:355:11)
2015-12-17T09:42:50.769Z | TRACE  | titanium exited with exit code 1
2015-12-17T09:42:50.770Z | ERROR  | Error: ti run exited with error code 1
    at ChildProcess.&lt;anonymous&gt; (C:\Users\erika\.appcelerator\install\5.1.0\package\node_modules\appc-cli-titanium\plugins\run.js:92:66)
    at ChildProcess.emit (events.js:110:17)
    at Process.ChildProcess._handle.onexit (child_process.js:1074:12)
2015-12-17T09:42:50.771Z | TRACE  | Sending exit signal to titanium process:  6964
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-20376_58168/split-error.txt">split-error.txt</td></td><td>2016-02-09T17:27:34.000+0000</td><td>23046</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2015-12-22

   Hello [~luca.dellaira], Please provide a full sample code which demonstrate the issue you are having. We will try to regenerate the issue in our environment. Thanks.</li>
<li>Luca Dell'aira 2015-12-22

   Default alloy app project has the same result of my app</li>
<li>Sharif AbuDarda 2015-12-22

   Hello, We can't regenerate the issue in windows 8.1 with SDK 5.1.1.GA. Please try to clean the project and rebuild. Or create a new project and try. Thanks.
   
   Our Environment
   
   Windows 8.1
   TiSDK 5.1.1
   Visual Studio 2013
   node v0.12.7
   
   </li>
<li>Luca Dell'aira 2015-12-22

   Project Clean don't solve my problem
   
   My Env:
   
   Windows 10
   TiSDK 5.1.1
   Visual Studio Community 2015
   NodeJS 0.12.7
   
   I don't have any windows 8.1 PC</li>
<li>Sharif AbuDarda 2015-12-22

   </li>
<li> Ricardo Ramirez 2016-02-09

   The issue persist, Tested with sdk-6.0.0.v20160209044301 and appc cli 5.2.0-249 on preproduction. the error log is attached.</li>
<li>Christopher Williams 2016-02-12

   Can anyone provide more details here? Basically we're running certutil against the generated pfx to grab the "thumbprint" of the cert. Looking at the code this would happen if the process didn't give an error exit code but spit out output that we didn't expect.
   
   It's running <code>certutil -p &lt;password&gt; -dump "&lt;/path/to/pfxFile&gt;"</code>
   If using no password, you'd do: <code>certutil -p "" -dump "&lt;/path/to/pfxFile&gt;"</code>
   </li>
<li>Christopher Williams 2016-02-16

   [~rramirez] I need the output of running <code>certutil -p &lt;password&gt; -dump "&lt;/path/to/pfxFile&gt;"</code> wherever the pfxFile is that you're using for your app.</li>
<li>Ewan Harris 2016-04-12

   Removing fixVersion from ticket as ticket is marked as Needs more info</li>
<li>Harry Bryant 2016-05-03

    </li>
</ol>


<p><a href="/TIMOB/TIMOB-20376.json">JSON Source</a></p>