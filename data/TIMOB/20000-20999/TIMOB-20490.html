---
title: "[TIMOB-20490] Android: Apps should be able to open/resume and respond to intents"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-09-30T16:22:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.0, Release 5.2.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0, Release 6.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-03-01T09:30:37.000+0000</td></tr>
<tr><th>Updated</th><td>2017-01-06T23:29:47.000+0000</td></tr>
</table>

<h3>Description</h3>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-20490_60328/com.alloy.zip">com.alloy.zip</td></td><td>2016-09-26T18:37:45.000+0000</td><td>1490484</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2016-03-01

   /cc [~msamah] [~jasonkneen]</li>
<li>Ajith Rohini 2016-08-19

   [~msamah], [~sliang] Is it okay if I send the above link to client to test it ?</li>
<li>Ashraf Abu 2016-09-06

   For a classic app, with this Branch: <a href="https://github.com/ashcoding/titanium_mobile/tree/TIMOB-20490a" rel="nofollow" target="_blank">https://github.com/ashcoding/titanium_mobile/tree/TIMOB-20490a</a> 
   1) Build the app and run it
   2) Go to the directory of the app, head to <code>/build/android/AndroidManifest.xml</code>
   3) Get the XML for the activities in the application
   4) Add the intent-filter to the xml
   <code><pre>
   			<intent-filter>
   				<action android:name="android.intent.action.SEND"/>
   				<category android:name="android.intent.category.DEFAULT"/>
   				<data android:mimeType="text/plain"/>
   			</intent-filter>
   </pre></code>
   The resulting XML will be this.
   <code><pre>
   	<application android:icon="@drawable/appicon" android:label="testapp" android:name="TestappApplication" android:debuggable="false" android:theme="@style/Theme.AppCompat">
   		<activity android:configChanges="keyboardHidden|orientation|screenSize" android:label="testa" android:name=".TestappActivity" android:theme="@style/Theme.Titanium">
   			<intent-filter>
   				<action android:name="android.intent.action.MAIN"/>
   				<category android:name="android.intent.category.LAUNCHER"/>
   			</intent-filter>
   			<intent-filter>
   				<action android:name="android.intent.action.SEND"/>
   				<category android:name="android.intent.category.DEFAULT"/>
   				<data android:mimeType="text/plain"/>
   			</intent-filter>
   		</activity>
   		<activity android:name="org.appcelerator.titanium.TiActivity" android:configChanges="keyboardHidden|orientation|screenSize"/>
   		<activity android:name="org.appcelerator.titanium.TiTranslucentActivity" android:configChanges="keyboardHidden|orientation|screenSize" android:theme="@style/Theme.AppCompat.Translucent"/>
   		<activity android:name="ti.modules.titanium.ui.android.TiPreferencesActivity" android:configChanges="screenSize"/>
   	</application>
   </pre></code>
   5) Take this and merge it into the <code>tiapp.xml</code>.
   6) Add the following code to the top of <code>app.js</code>
   <code><pre>
   
   Ti.Android.currentActivity.addEventListener('onIntent', function(e) {
       // code here is run when the event is fired
       // properties of the event object 'e' describe the event and object that received it
       Ti.API.info('The '+e.intent+' event happened');
       var intentObj = e.intent;
       var stringItem = intentObj.getStringExtra("android.intent.extra.TEXT");
       if(stringItem){
           var win1 = Ti.UI.createWindow({
                title:'Received',
               backgroundColor:'#fff'
           });
            var label1 = Titanium.UI.createLabel({
               color:'#999',
               text: stringItem,
           });
           
           win1.add(label1);
           win1.open();
           Ti.API.info('Successfully received:'+stringItem);
       }
   });
   </pre></code>
   7) Run the app
   8) Git clone <a href="https://github.com/ashcoding/AndroidIntentExample" rel="nofollow" target="_blank">https://github.com/ashcoding/AndroidIntentExample</a> and change the <code>packageName</code> and <code>activityName</code> in Android Studio and run the app
   9) Click the button in AndroidIntentExample app. It will open the Titanium App and pass the string data.
   
   For alloy, it's still being looked into.</li>
<li>Gary Mathews 2016-09-26

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8433" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8433</a></li>
<li>Tim Poulsen (ACV) 2016-10-03

   will this be released in 6.1 like the other two tickets referenced in that PR? (ticket has no Fix Version/s)</li>
<li>Christopher Williams 2016-10-03

   Hey [~acvauctions]! Yeah, this PR was merged to SDK master, which is the current 6.1.0 targeted branch. We have a handful of tickets around the same area, and I think they might be worth trying to get in 6.0.0 - I'll bug Kiat.</li>
<li>Chee Kiat Ng 2016-10-03

   [~gmathews] please backport.</li>
<li>Christopher Williams 2016-10-05

   cc [~acvauctions] These intent/activity related bug fixes have now beenbackported to 6_0_X, should should be on that branch and in the upcoming 6.0.0 release.</li>
<li>Tim Poulsen (ACV) 2016-10-05

   Thank you! :D</li>
<li>Samir Mohammed 2017-01-06

    Verified fixed, was able to follow the instructions mentioned in the following PR <a href="https://github.com/appcelerator/titanium_mobile/pull/8433" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8433</a>
    *Environment*
    <code><pre>
    Appcelerator Command-Line Interface, version 6.1.0
    Android 7.1 (Google Nexus 6P)
    Operating System Name: Mac OS X El Capitan
    Operating System Version: 10.11.6
    Node.js Version: 4.6.0
    npm: 4.2.8
    Titanium SDK Version: 6.1.0.v20170105103604
    Xcode: 8.0
    Appcelerator Studio: 4.8.1.201612050850
    </pre></code>
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-20490.json">JSON Source</a></p>