---
title: "[TIMOB-20513] iOS: Activity indicator label cut off when auto layout is enabled"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-11-10T21:55:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>activityindicator, autolayout</td></tr>
<tr><th>Reporter</th><td>Chee Kiat Ng</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2016-03-04T06:56:32.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-16T22:20:00.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to reproduce</h4>
1. create a new titanium app
2. use this code
<code><pre>
var win = Ti.UI.createWindow({
  backgroundColor: 'white'
});

var indicator = Ti.UI.createActivityIndicator({
  color: 'green',
  font: {fontFamily:'Helvetica Neue', fontSize:26, fontWeight:'bold'},
  message: 'Loading...',
  style: Ti.UI.ActivityIndicatorStyle.DARK
});

win.addEventListener('open', function (e) {
  indicator.show();
});
win.add(indicator);
win.open();
</pre></code>
3. In tiapp.xml, include this property
<code><pre>
	<ios>
		<use-autolayout>true</use-autolayout>
</pre></code>

<h4>Expected result</h4>
indicator spinning with text "Loading"

<h4>Actual result</h4>
indicator spinning with text "Loading" cut off. 

Compare attached screenshots

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-20513_58428/autoLayoutFalse.png">autoLayoutFalse.png</td></td><td>2016-03-04T06:56:11.000+0000</td><td>19888</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-20513_58427/autoLayoutTrue.png">autoLayoutTrue.png</td></td><td>2016-03-04T06:56:11.000+0000</td><td>19764</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-20513_60656/test_autolayout.zip">test_autolayout.zip</td></td><td>2016-11-05T21:09:25.000+0000</td><td>24038</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-03-25

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7885" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7885</a>
   
   To be discussed: The fix was quite simple, because (I think) the layout given by the iOS VFL (visual format language) was for layouting vertical views, not defining the height. Remove those definitions solved the height.</li>
<li>Chee Kiat Ng 2016-04-25

   As commented by Pedro on PR. Failing review.</li>
<li>Hans Knöchel 2016-11-05

   Added the native project <code>test_autolayout.zip</code> to demonstrate the autolayout constraints necessary in the code-base.</li>
<li>Vijay Singh 2016-11-08

   [~hansknoechel] In shared native project , if we increase font size of text , activity indicator get vertical aligned with text . Do we need same or center aligned ?</li>
<li>Vijay Singh 2016-11-08

    I have made changes for center alignment of indicator view, which looks better .
   PR(master) : <a href="https://github.com/appcelerator/titanium_mobile/pull/8589" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8589</a></li>
<li>Hans Knöchel 2016-11-10

   PR approved and merged. However, there is a possible issue for special use-cases where the developer selects over-sized tests. This seems to happen without autolayout enabled as well, so we might file a general ticket for that behavior. /cc [~vsingh]</li>
<li>Abir Mukherjee 2016-11-16

   Used the following environment to validate the fix:
   Node Version: 4.5.0
   Mac OS: 10.12.1
   Appc CLI: 6.0.0
   Appc CLI NPM: 4.2.8
   Titanium SDK version: 6.1.0.v20161116071014
   Appcelerator Studio, build: 4.8.0.201611121409
   Xcode 8.1 GM
   
   Using the sample code in the description, I tested this with Device with SDK 6.0.0 GA, and found that the word "Loading" was cutoff at the bottom. I then built the app using SDK 6.1.0.v20161116071014, and found that the word "Loading" was not cutoff.
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-20513.json">JSON Source</a></p>