---
title: "[TIMOB-20521] Android: RTSP Streaming with authentication Error"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2016-04-12T16:06:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android, iOS</td></tr>
<tr><th>Labels</th><td>authentication, player, rtsp, video</td></tr>
<tr><th>Reporter</th><td>Rodrigo Macazaga</td></tr>
<tr><th>Assignee</th><td>Angel Petkov</td></tr>
<tr><th>Created</th><td>2016-02-28T15:54:49.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-31T22:26:18.000+0000</td></tr>
</table>

<h3>Description</h3>

With a rtsp streaming that needs authentication I just can't see the video but If its open with vlc player it works. I need this to get the cctv video for a custom app. Sample url: rtsp://username:password@ipaddress/stream

sample code
<Alloy>
    <View id="vidWin" title="CCTV" backgroundColor="#fff">
        <VideoPlayer id="videoPlayer" ns="Ti.Media" top="1" 
        	url="rtsp://admin:123456@ipaddress:554/cam/realmonitor?channel=1&subtype=1" 
        	height="300" width="300" backgroundColor="blue" autoplay="true" mediaTypes="Titanium.Media.VIDEO_MEDIA_TYPE_NONE" />
    </View>
</Alloy>

<h3>Comments</h3>

<ol>
<li>Rodrigo Macazaga 2016-04-05

   Hi
   
   Any updates?
   
   Thank you!!
   
   </li>
<li>Angel Petkov 2016-04-07

   [~macazaga] Hello, could you please check if the link is still active and if not update it :), as i cannot seem to open it.  After which will continue looking it to the issue and getting a fix to you as soon as possible. Thank you</li>
<li>Rodrigo Macazaga 2016-04-07

   Hi 
   
   How can i give you a private url so you can have a real streaming?
   We need this to be fixed urgently, our customer is just waiting for this to launch the app.
   
   thank you!</li>
<li>Angel Petkov 2016-04-07

   Hi, there is only 3 watches on this ticket you can post it here and i could delete it after or if you want just email it to me at apetkov@appcelerator.com. If you use Ti slack I'm on there too so you could just send me a 1on1 message :).</li>
<li>Rodrigo Macazaga 2016-04-07

   Thanks!
   
   
   
   you can use vlc player to open that streaming so you can check how it works.
   
   :D</li>
<li>Angel Petkov 2016-04-07

   [~rodrigok] Im sorry to deliver this however, after doing some more research turns out apple does not support RTSP , any videos sent through RTSP connection will actually also be removed from the app store you will get this [warning](<a href="https://gist.github.com/AngelkPetkov/7040470d953d4a6f26d3eb543d9db637)" rel="nofollow" target="_blank">https://gist.github.com/AngelkPetkov/7040470d953d4a6f26d3eb543d9db637)</a> . What you could do if you have access to the server is create a pipeline feed the RTSP to vlc then export that as a HTTP and connect it to the client(your app) as a HTTP link. </li>
<li>Rodrigo Macazaga 2016-04-07

   Thanks Angel, There are a lot of apps for CCTV in the app store. I wonder how they do it, because not al DVR use http, there are a lot that use RTSP, warning the user for data consumption. Our customer builds houses in some complex and with this app they want to be able that residents can check all the cctv of the complex they are living.
   
   Is this able with Android?
   
   </li>
<li>Angel Petkov 2016-04-07

   From what i can find online , Android does not directly support it either. Like i said feed the data through VLC and export that instead of the RTSP link, then you will be able to stream the CCTV to an android app or an iOS app. Theres a couple of solutions on stack overflow regarding how to have vlc running along side the connection to convert the stream. </li>
<li>Rodrigo Macazaga 2016-04-07

   Android support RTSP, please check this offical doc:
   <a href="http://developer.android.com/guide/appendix/media-formats.html" rel="nofollow" target="_blank">http://developer.android.com/guide/appendix/media-formats.html</a></li>
<li>Angel Petkov 2016-04-08

    Ah yeah i apologies  , i work on iOS and theres so many android version i must have got confused to as which one supports it. We'll see what we can do for android. </li>
<li>Rodrigo Macazaga 2016-04-11

    Thank you Angel Hope to hear good news soon.</li>
<li>Ashraf Abu 2016-04-12

    Classic app code:
    <code><pre> 
    var vidWin = Titanium.UI.createWindow({
        title : 'Video View Demo',
        backgroundColor : '#fff'
    });
    
    var videoPlayer = Titanium.Media.createVideoPlayer({
        top : 2,
        autoplay : true,
        backgroundColor : 'blue',
        height : 300,
        width : 300,
        mediaControlStyle : Titanium.Media.VIDEO_CONTROL_DEFAULT,
        scalingMode : Titanium.Media.VIDEO_SCALING_ASPECT_FIT
    });
    
    videoPlayer.url = 'rtsp://admin:123456@ipaddress:554/cam/realmonitor?channel=1&subtype=1';
    
    vidWin.add(videoPlayer);
    vidWin.open();
    </pre></code></li>
<li>Ashraf Abu 2016-04-12

    While RTSP is supported in Android, it seems there is no support for authentication with RTSP. Please see Android Issue Ticket: <a href="https://code.google.com/p/android/issues/detail?id=10703" rel="nofollow" target="_blank">https://code.google.com/p/android/issues/detail?id=10703</a>
    
    It's something that is not provided by Android.</li>
<li>Rodrigo Macazaga 2016-04-16

    Its possible with this code but with the appcelerator limitations we cant create a socket right?
    
    <a href="http://stackoverflow.com/questions/19979818/mediaplayer-rtsp-video-stream-with-authentication" rel="nofollow" target="_blank">http://stackoverflow.com/questions/19979818/mediaplayer-rtsp-video-stream-with-authentication</a></li>
<li>Ashraf Abu 2016-04-18

    There is a socket api exposed <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Network.Socket.TCP If you are able to use that api to do so, that would be great.
    
    I would believe that this might also be possible if it's written natively and perhaps as an android module that exposes the functionality written in stackoverflow <a href="http://stackoverflow.com/a/33323072/6207774" rel="nofollow" target="_blank">http://stackoverflow.com/a/33323072/6207774</a> that you mentioned (assuming that code functions well). This would be a new feature request.</li>
<li>Lee Morris 2017-05-31

    Closing ticket as this issue is not our bug.</li>
</ol>


<p><a href="/TIMOB/TIMOB-20521.json">JSON Source</a></p>