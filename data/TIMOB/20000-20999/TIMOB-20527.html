---
title: "[TIMOB-20527] Android (Tooling): Support setting source for the default strings"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>android, cb-tooling, i18n, internationalization, parity</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2014-02-02T18:51:41.000+0000</td></tr>
<tr><th>Updated</th><td>2020-01-30T11:28:03.000+0000</td></tr>
</table>

<h3>Description</h3>

The Titanium CLI always assumes English (<code>en</code>) as the default language for an app. When using a <code>i18n</code> folder, you must always have <code>en/strings.xml</code> as well, or the default <code>build/android/res/values/strings.xml</code> will only contain <code>app_name</code> and thus give errors reporting missing strings when running the app on a non-Dutch system.

In iOS you can set the default language using:

<code><pre>
<dict>
    <key>CFBundleDevelopmentRegion</key>
    <string>nl_NL</string>
</dict>
</pre></code>

For Android, it would be nice to have a <code>ti.android.defaultLanguage</code> property so you can determine the language where the CLI will look for strings for <code>build/android/res/values/strings.xml</code>.

Steps to reproduce:

1. Create a new Android project: <code>ti create -p android -n strings --id test.strings -d .</code>
2. Create a Dutch i18n strings.xml at <code>i18n/nl/strings.xml</code>

    <code><pre>
    <?xml version="1.0" encoding="UTF-8"?>
    <resources>
	<string name="hello_world">Hallo wereld!</string>
    </resources>
    </pre></code>

3. Build the project: <code>ti build -p android -b</code>
4. Check out <code>build/android/res/values/strings.xml</code> and <code>build/android/res/values-nl/strings.xml</code> and see the first only contains <code>app_name</code>.

<h3>Comments</h3>

<ol>
<li>Ritu Agrawal 2014-02-03

   Moving this improvement request to engineering for further evaluation and prioritization as I can reproduce the stated behavior.</li>
<li>Fokke Zandbergen 2014-02-03

   Workaround for Alloy projects:
   
   <code><pre>
   task("pre:load", function(event,logger) {
   	var path = require('path'),
   		fs = require('fs'),
   		wrench = require('wrench');
   
   	var DEFAULT = 'nl'; // set your default locale here
   
   	wrench.copyDirSyncRecursive(path.join(event.dir.project, 'i18n', DEFAULT), path.join(event.dir.project, 'i18n', 'en'));
   });
   </pre></code></li>
<li>Rene Pot 2017-09-13

   Can we get an update on this ticket? Would be great to set a default language for android apps</li>
<li>Brian García 2019-07-10

   pinging...</li>
<li>Hans Knöchel 2019-07-10

   Can't be very hard. New 1st class property <code><default-locale /></code> together with some CLI logic to handle it. </li>
</ol>


<p><a href="/TIMOB/TIMOB-20527.json">JSON Source</a></p>