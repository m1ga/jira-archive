---
title: "[TIMOB-20533] Ti.Android.Intent is not working properly"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2018-05-16T22:50:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>CREATIVE KAIZEN</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2016-03-08T09:39:25.000+0000</td></tr>
<tr><th>Updated</th><td>2018-05-16T22:50:07.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to Reproduce</h4>
<code><pre>
var filename = 'someImage.jpg';

var file = Titanium.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory, filename);

var window = Ti.UI.createWindow({
	backgroundColor: 'white'
});

	var imageView = Ti.UI.createImageView({
		top: 0,
		width: '100%',
		image: file.nativePath
	});
	
	var shareButton = Ti.UI.createView({
		height: 100,
		width: 200,
		backgroundColor: 'purple',
		bottom: 0,
	});
	

	window.add(imageView);
	window.add(shareButton); 


	shareButton.addEventListener('click', function() {
		alert('shareClick');
		
		var shareIntent = Ti.Android.createIntent({
	        action: Ti.Android.ACTION_SEND,
	        type: "image/jpeg"
        });
 
	    shareIntent.putExtra(Ti.Android.EXTRA_TITLE, 'title');
	    shareIntent.putExtra(Ti.Android.EXTRA_TEXT, 'text');
	    shareIntent.putExtraUri(Ti.Android.EXTRA_STREAM, file.nativePath);
	    Ti.Android.currentActivity.startActivity(Ti.Android.createIntentChooser(shareIntent, 'share'));
		
	});

window.open();
</pre></code>

<h4>Actual Result</h4>
.putExtra() and .putExtraUri() is not working properly because EXTRA_TEXT, EXTRA_TITLE, EXTRA_STREAM is not showing in app - fields (text, title) are blank, and shared image is blank (Facebook, Messages - 1. shared.png) or application is returning message that it was impossible to read image.

It's a new bug (AS 4.5.0) because this function was working properly in earlier version.

Everything is fine with image because it is showing in the app. (1. screen.png)

<h4>Expected Result</h4>
Removing bug. It is blocking whole share functionality

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-20533_58535/.log">.log</td></td><td>2016-03-08T09:40:27.000+0000</td><td>9095070</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-20533_58537/1. screen.png">1. screen.png</td></td><td>2016-03-08T09:40:33.000+0000</td><td>134625</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-20533_58536/1. shared.png">1. shared.png</td></td><td>2016-03-08T09:40:30.000+0000</td><td>59416</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2018-05-16

   This issue was resolved in Titanium 6.3.0. See: [TIMOB-25439]</li>
</ol>


<p><a href="/TIMOB/TIMOB-20533.json">JSON Source</a></p>