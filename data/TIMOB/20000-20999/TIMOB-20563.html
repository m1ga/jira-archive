---
title: "[TIMOB-20563] Base64encode doesn't work"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 5.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>Camera, iOS</td></tr>
<tr><th>Reporter</th><td>Arildo Junior</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2016-02-24T21:46:05.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:27.000+0000</td></tr>
</table>

<h3>Description</h3>

Just take a picture and try to base64encode the media result.
In console I have this logs after waiting about 2 minutes to process the base64encode:

<code><pre>
Snapshotting a view that has not been rendered results in an empty snapshot. Ensure your view has been rendered at least once before snapshotting or snapshot after screen updates.
[INFO] :   Communications error: &lt;OS_xpc_error: &lt;error: 0x39e8f654&gt; { count = 1, contents =
[INFO] :   	"XPCErrorDescription" =&gt; &lt;string: 0x39e8f854&gt; { length = 22, contents = "Connection interrupted" }
[INFO] :   }&gt;
[INFO] :   Received memory warning.
[INFO] :   Received memory warning.
[INFO] :   LaunchServices: disconnect event received for service com.apple.lsd.mapdb
[INFO] :   Received memory warning.
[INFO] :   *** ASL MESSAGE SIZE (13857279 bytes) EXCEEDED MAXIMIMUM SIZE (2048000 bytes) ***
</pre></code>


Example below:

<code><pre>
		Titanium.Media.showCamera({		
			success:function(event) {
                                Ti.Utils.base64encode(event.media);
                                // AFTER 2 MINUTES YOU WILL SEE THOSE MESSAGES ABOVE
			},
			cancel:function() {
		
			},
			error:function(error) {
				// create alert
				var a = Titanium.UI.createAlertDialog({title:'Camera'});
		
				// set message
				if (error.code == Titanium.Media.NO_CAMERA) {
					a.setMessage('Device does not have video recording capabilities');
				} else {
					a.setMessage('Unexpected error: ' + error.code);
				}
		
				// show alert
				a.show();
			},
			allowEditing:true
		});
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-20563_58320/log.log">log.log</td></td><td>2016-02-24T21:39:39.000+0000</td><td>5169182</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Fokke Zandbergen 2016-02-26

   Related Stack Overflow question:
   <a href="http://stackoverflow.com/questions/35233932/unable-to-make-an-image-blob-json-serializable/35381676" rel="nofollow" target="_blank">http://stackoverflow.com/questions/35233932/unable-to-make-an-image-blob-json-serializable/35381676</a>
   
   [~arildo] could you check with some older SDKs as well, and also 5.2.0?</li>
<li>Arildo Junior 2016-02-29

   Also didn't work unfortunately.</li>
<li>Nazmus Salahin 2016-03-10

   I am not able to reproduce this issue. The following code line gives a log message but  the camera app is not stuck.
   <code><pre>
   Ti.Utils.base64encode(event.media);
   </pre></code>
   
   The only error log that I get is :
   
   <code><pre>
   [INFO] :   Choreographer: Skipped 52 frames!  The application may be doing too much work on its main thread.
   </pre></code>
   
   *Environment*:
   
   *Device info:* Nexux7 (android 6.0.1)
   *Node.js Version:* 0.12.7
   *npm Version:* 2.11.3
   *Titanium SDKs:* 5.2.0 and 5.1.2.GA
   *Java Development Kit Version:* 1.8.0_73
   *Titanium CLI Version:*  5.0.5</li>
<li>Arildo Junior 2016-03-14

   In my case the camera app is not able to generate a base64 string from event.media Blob. Were you be able to generate this base64string? Did you print out on your console Nazmus?
   I didn't test on Android devices but I will in the future. This issue must be fixed on both platforms.</li>
</ol>


<p><a href="/TIMOB/TIMOB-20563.json">JSON Source</a></p>