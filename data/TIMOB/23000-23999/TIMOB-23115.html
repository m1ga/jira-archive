---
title: "[TIMOB-23115] Windows: ImageView.image doesn't handle Ti.File/Blob"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-03-31T12:42:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>filesystem, image, windows_phone</td></tr>
<tr><th>Reporter</th><td>Zakhar Zhuravlev</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2016-03-27T04:51:29.000+0000</td></tr>
<tr><th>Updated</th><td>2016-06-30T15:01:14.000+0000</td></tr>
</table>

<h3>Description</h3>

It's affected 5.2.0. Tested on  emulator and on real device (same behaviour)

What doing this sample app: copy .png file from Resources folder to dataDirectory and try to set copied image to imageView;

*index.js:*
<code><pre>
var directory = (Ti.Filesystem.isExternalStoragePresent()) ? Ti.Filesystem.externalStorageDirectory : Ti.Filesystem.applicationDataDirectory;
var fileIndex = 0;
var toFile;

function listFiles() {
    if(OS_WINDOWS) {
    	alert(Ti.Filesystem.getFile(directory).getDirectoryListing());
    } else {
    	console.warn(Ti.Filesystem.getFile(directory).getDirectoryListing());	
    }    
}

function copyFile() {
	fileIndex++;
	var fromFile = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, "test.png");
	toFile = Ti.Filesystem.getFile(directory, '' + fileIndex + '.png');
	toFile.write(fromFile.read());
}
function onImageClick() {
	$.imageView.image = toFile;
        // below another approaches
        // $.imageView.image = toFile.read();
        // $.imageView.image = toFile.nativePath;
        // $.imageView.image = directory + '/' + fileIndex + '.png';
}

$.win.open();
</pre></code>

*index.xml:*
{noformat}
<Alloy>
    <Window id='win' backgroundColor="green" layout='vertical'>
		 <Button top='10dp' backgroundColor="red" title='List files' onClick="listFiles" />
		 <Button top='10dp' backgroundColor="blue" title='Copy' onClick="copyFile" />
		 <View width='300dp' height='150dp' backgroundColor='yellow' top='30dp' onClick='onImageClick' >
		 	<ImageView id='imageView' width='Ti.UI.FILL' height='Ti.UI.FILL' />
		 </View>
    </Window>
</Alloy>
{noformat}

----

BUT, I found the way when it's working on windows phone(emulator and device).

*index.js:*
<code><pre>
var directory = ''; // when directory is empty string, image will save in the root folder

function onImageClick() {
        $.imageView.image = directory + '/' + fileIndex + '.png'; // set image by path
}
</pre></code>


<h3>Comments</h3>

<ol>
<li>Rene Pot 2016-04-29

   Is there any way this issue can be merged into 5.3?</li>
<li>Ewan Harris 2016-06-30

   Verified using:
   
   Windows 10 Pro
   Ti SDK: 5.4.0.v20160629063537
   Appc NPM: 4.2.7-2 
   Appc CLI: 5.4.0-23
   Appc Studio: 4.7.0.201606220541
   Lumia 930: 10.0
   Lumia 520: 8.1
   
   The image property of imageview can now be set using Ti.File or a blob.
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-23115.json">JSON Source</a></p>