---
title: "[TIMOB-23138] Parity: On Android require() tries current folder first"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-06-10T08:05:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>notable, parity</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2016-04-02T09:26:31.000+0000</td></tr>
<tr><th>Updated</th><td>2017-09-19T20:25:23.000+0000</td></tr>
</table>

<h3>Description</h3>

Take the following app:

*Resources/app.js*

<code><pre>
Ti.UI.createWindow().open();
console.log(require('folder/foo').whoami);
</pre></code>

*Resources/folder/foo.js*

<code><pre>
exports.whoami = 'Resources/folder/foo.js';
console.log(require('foo').whoami);
</pre></code>

*Resources/foo.js*

<code><pre>
exports.whoami = 'Resources/foo.js';
</pre></code>

On iOS the console will be:

<code><pre>
[DEBUG] Loading: /Users/fokkezb/Library/Developer/CoreSimulator/Devices/C7ECC4A2-E0F1-4248-B51E-5873696E719E/data/Containers/Bundle/Application/080A078B-81C0-4C7B-95FD-C994909390C0/req.app/app.js, Resource: app_js
[DEBUG] Loading: /Users/fokkezb/Library/Developer/CoreSimulator/Devices/C7ECC4A2-E0F1-4248-B51E-5873696E719E/data/Containers/Bundle/Application/080A078B-81C0-4C7B-95FD-C994909390C0/req.app/folder/foo.js, Resource: folder/foo_js
[DEBUG] Loading: /Users/fokkezb/Library/Developer/CoreSimulator/Devices/C7ECC4A2-E0F1-4248-B51E-5873696E719E/data/Containers/Bundle/Application/080A078B-81C0-4C7B-95FD-C994909390C0/req.app/foo.js, Resource: foo_js
[INFO] Resources/foo.js
[INFO] Resources/folder/foo.js
</pre></code>

While on Android it will be:

<code><pre>
[DEBUG] Module: Loading module: folder/foo -&gt; Resources/folder/foo.js
[INFO]  Resources/folder/foo.js
[INFO]  Resources/folder/foo.js
</pre></code>

The [documentation](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Global-method-require) does mention that only on Android you can use absolute and relative paths, but it does not say that it will always try to resolve relative to the current directory first.

I'd expect Android to work as iOS and *not* attempt to resolve relative to the current directory first.

Ideally we'd resolve this as part of TIMOB-16078

<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2016-06-10

   FT passed. PR APPROVED!</li>
<li>Chee Kiat Ng 2016-06-10

   [~bimmel] see description on 'documentation'. needs to be updated.</li>
<li>(deactived) Brian Immel 2016-06-10

   Thanks for the heads up [~cng]. I'll add this to the docs when we get to 6.0.0 release.</li>
<li>Lokesh Choudhary 2016-08-16

   Verified the fix.
   
   Android does not attempt to resolve relative to the current directory first.
   Closing.
   
   Environment:
   Appc Studio : 4.7.0.201607250649
   Ti SDK :  6.0.0.v20160816021339
   Ti CLI : 5.0.9
   Alloy : 1.9.1
   MAC El Capitan : 10.11.6
   Appc NPM : 4.2.7
   Appc CLI : 6.0.0-24
   Node: 4.4.4
   Nexus 6 - Android 6.0.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-23138.json">JSON Source</a></p>