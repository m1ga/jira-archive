---
title: "[TIMOB-23179] Hyperloop: Android - Java primitives arrays are wrapped in hyperloop proxies improperly"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-04-13T11:27:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Components</th><td>Android, Hyperloop</td></tr>
<tr><th>Labels</th><td>android, hyperloop</td></tr>
<tr><th>Reporter</th><td>Christopher Williams</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2016-04-08T18:00:46.000+0000</td></tr>
<tr><th>Updated</th><td>2016-07-20T22:27:44.000+0000</td></tr>
</table>

<h3>Description</h3>

This fails:
<code><pre>
var Build = require('android.os.Build');
Build.SUPPORTED_ABIS[0];
</pre></code>

The error reported says something about being unable to require a model, with a name of something like L[String@ergsdgf;

Basically, it looks like we're wrapping this primitive String array in a hyperloop proxy, rather than just letting the bridge handle the conversion for us.

Right now our code to determine when to wrap isn't specific enough to allow this to pass through:
<code><pre>
return item == null || item instanceof KrollProxy || item instanceof Integer
                || item instanceof Double || item instanceof Float
                || item instanceof Byte || item instanceof Short
                || item instanceof Long || item instanceof HashMap
                || item instanceof String || item instanceof Boolean || item instanceof Date;
</pre></code>

<h3>Comments</h3>

<ol>
<li>Lokesh Choudhary 2016-07-20

   Verified the fix.
   
   <code><pre>
   var Build = require('android.os.Build');
   Build.SUPPORTED_ABIS[0];
   </pre></code>
   does not fail & logging in gives <code>armeabi-v7a</code>
   
   Closing.
   
   Environment:
   Appc Studio : 4.7.0.201607111053
   Ti SDK :  5.4.0.v20160720132422
   Ti CLI : 5.0.9
   Alloy : 1.9.1
   MAC El Capitan : 10.11.5
   Appc NPM : 4.2.8-1
   Appc CLI : 5.4.0-33
   Node: 4.4.4
   Nexus 5 - Android 6.0.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-23179.json">JSON Source</a></p>