---
title: "[TIMOB-23188] Package script for automated tests as stand-alone library"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Fokke Zandbergen</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2016-04-11T11:44:25.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:29.000+0000</td></tr>
</table>

<h3>Description</h3>

Both the Titanium Mobile and Alloy repositories have scripts to do automated run-time tests, but both in different ways and intertwined with their *.travis.yml*, jake and other scripts.

We need this for other repositories as well. One example is sample apps that we'd like to automatically test against the latest SDK versions so we need which ones need fixing.

We should create an NPM package that we can use in any repo, both locally and in CI. This package should also come with a CLI or bash script to set up the environment on Travis so that in the end we can do something like:

*package.json*

<code><pre>
  "scripts": {
    "test": "ti-test run --project ./test"
  }
</pre></code>

or as part of an existing test script:

<code><pre>
var test = require('ti-test');
test.run({
  project: 'to/my/test',
  // alloyApp: 'to/my/alloy/app/folder/without/a/project'
});
</pre></code>

and then run:

<code><pre>
sudo npm i -g ti-test
npm test
</pre></code>

or via *.travis.yml*

<code><pre>
language: objective-c
osx_image: xcode7.3
jdk:
  - oraclejdk7
install:
  - sudo npm install -g ti-test
  - sudo ti-test setup --sdk latest    # which would install Titanium CLI & (given) SDK, Android SDK etc.
script:
  - npm test
</pre></code>

Ideas [~cng], [~ingo], [~cbarber]?

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-23188.json">JSON Source</a></p>