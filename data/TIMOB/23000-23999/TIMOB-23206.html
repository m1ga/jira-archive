---
title: "[TIMOB-23206] iOS: Unable to Retrieve Detailed Calendar Information via Ti.Calendar.CalendarOS: Refactor default new app-projects"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-08-11T20:08:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Kiley Williams</td></tr>
<tr><th>Assignee</th><td>Angel Petkov</td></tr>
<tr><th>Created</th><td>2016-04-13T01:15:07.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-23T17:20:46.000+0000</td></tr>
</table>

<h3>Description</h3>

We are attempting to display the user's local calendars in an organized list (arranged by which account syncs the data). Just like in the image below, we can retrieve the individual calendars, but we cannot retrieve the individually-descriptive sources where the Calendars are coming from.

For example, we'd like to show "iCloud", "Facebook", "Google", "Other", and others as the sources of data where calendars are coming from.

None of that data is available through the Titanium API, it seems, but it is certainly available through the native SDK on both Android and iOS.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23206_58931/iphone6-ios9-calendars-refresh.png">iphone6-ios9-calendars-refresh.png</td></td><td>2016-04-13T01:12:43.000+0000</td><td>98810</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-04-13

   Hello,
   
   Thanks for creating the ticket. Our engineering team will look into it. Please understand that the processes is time-consuming and lots of variables in play. We will let you know if and when we will be including this feature in our platform.
   
   Regards,
   Sharif.
   </li>
<li>Kiley Williams 2016-04-14

   Hi @sdarda, thanks for the quick action on this.
   
   One thing to note is that this is not only an Android issue, but it is also an iOS issue. Did you simply separate the Improvement tickets? I don't want this to get logged as only an Android issue. I think the two should be linked as well if there are two separate tickets for Android and iOS.
   
   Lastly, this may also be an issue for Windows, but I am not entirely sure since I have not tested on Windows yet.
   
   Thanks!</li>
<li>Melissa Chan 2016-04-17

   Hi @sdara, this is definitely something valuable that's missing and would help me greatly with my project. It would be great to see this as a feature in the platform.</li>
<li>Sean Cerney 2016-04-18

   Looking forward to seeing this improvement completed.   I would agree with the Reporter that gathering more detailed calendar information through Ti.Calendar in this case would be a big help, especially since it is available in the iOS and Android native SDKs.
   </li>
<li>Angel Petkov 2016-08-08

   [~Yrkh8trnoy] Hello, I've made this ticket iOS only and also created a counterpart android ticket to go along side, hope you don't mind. All the sub-properties of the source property should now be exposed. 
   
   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8197/files" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8197/files</a>
   
   Demo Code:
   
   <code><pre>
   function showCalendars(calendars) {
       for (var i = 0; i < calendars.length; i++) {
           Ti.API.info(calendars[i].name);
           Ti.API.info(calendars[i].sourceTitle);
           Ti.API.info(calendars[i].sourceIdentifier);
           Ti.API.info(formatSourceType(calendars[i].sourceType)+ '\n');
       }
   }
   
    function formatSourceType(type) {
       switch (type) {
           case Ti.Calendar.SOURCE_TYPE_LOCAL:
           return "Ti.Calendar.SOURCE_TYPE_LOCAL";
           
           case Ti.Calendar.SOURCE_TYPE_EXCHANGE:
           return "Ti.Calendar.SOURCE_TYPE_EXCHANGE";
       
           case Ti.Calendar.SOURCE_TYPE_CALDAV:
           return "Ti.Calendar.SOURCE_TYPE_CALDAV";
       
           case Ti.Calendar.SOURCE_TYPE_MOBILEME:
           return "Ti.Calendar.SOURCE_TYPE_MOBILEME";
       
           case Ti.Calendar.SOURCE_TYPE_SUBSCRIBED:
           return "Ti.Calendar.SOURCE_TYPE_SUBSCRIBED";        
   
           case Ti.Calendar.SOURCE_TYPE_BIRTHDAYS:
           return "Ti.Calendar.SOURCE_TYPE_BIRTHDAYS";      
       }
       
       return "Unknown attendee role: " + type;
   }
   
   Ti.API.info('ALL CALENDARS:'+'\n');
   if (Ti.Calendar.hasCalendarPermissions()) {
       showCalendars(Ti.Calendar.allCalendars);
   } else {
       Ti.Calendar.requestCalendarPermissions(function(e) {
           if (e.success) {
               showCalendars(Ti.Calendar.allCalendars);
           } else {
               Ti.API.error(e.error);
               alert('Access to calendar is not allowed');
           }
       });
   }
   </pre></code></li>
<li>Kiley Williams 2016-08-29

   Angel, thanks a bunch for knocking this out. I will give it a test run this week!</li>
<li>Angel Petkov 2016-08-29

   [~Yrkh8trnoy] No problem, code strong! </li>
<li>Abir Mukherjee 2016-11-23

   I verified the fix with the following environment:
   NPM Version: 2.15.9
   Node Version: 4.5.0
   Mac OS: 10.12.1
   Appc CLI: 6.0.0
   Appc CLI NPM: 4.2.8
   Titanium SDK version: 6.1.0.v20161122053743
   Appcelerator Studio, build: 4.8.0.201611121409
   Xcode 8.1 GM
   
   I installed the app on a device first using SDK 6.0.0, and saw the console log this message for the local calendar case:
   <code>[INFO] :   Unknown attendee role: [object C4A00D65-D59D-4872-A586-B2C73ADEB2D4]</code>
   
   I reran the app with SDK 6.1.0, and the message changed to:
   <code>[INFO] :   Ti.Calendar.SOURCE_TYPE_LOCAL</code>
   
   Based on this behavior, it appears that detailed Calendar information is being retrieved. </li>
</ol>


<p><a href="/TIMOB/TIMOB-23206.json">JSON Source</a></p>