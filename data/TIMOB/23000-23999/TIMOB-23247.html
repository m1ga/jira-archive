---
title: "[TIMOB-23247] CLI: ti clean does not work for native module projects"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-05-01T13:40:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.3.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Kota Iguchi</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2016-04-20T11:43:21.000+0000</td></tr>
<tr><th>Updated</th><td>2018-06-22T15:42:41.000+0000</td></tr>
</table>

<h3>Description</h3>

<code>ti clean</code> failed when you run it under the native module project directory. It could cause issue when CMake fails and leaves broken cache files. There's no way to remove it from Titanium CLI now.

<code><pre>
&gt; appc new -n test --id com.example.test
&gt; cd test\windows
&gt; ti clean
[ERROR] Invalid project directory "."
Use the --project-dir property to specify the project's directory
</pre></code>


<h3>Comments</h3>

<ol>
<li>Christopher Williams 2016-04-20

   [~kota] Looks like we don't support <code>ti clean</code> for module projects for any platform. So this is a larger CLI issue. So we may want to mark this invalid or turn it into a feature request for the CLI to support clean on module projects.</li>
<li>Christopher Williams 2018-02-06

   iOS/Android master (7.2.0): <a href="https://github.com/appcelerator/titanium_mobile/pull/9807" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9807</a>
   Windows master (7.2.0): <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1178" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1178</a></li>
<li>Christopher Williams 2018-05-01

   [~bimmel] This is merged to master of the SDK (target 7.2.0). It may be useful to note in docs that this command was added but to be careful if you keep historical versions of your module in your <code>dist</code> directory. Hans and I discussed it here: <a href="https://github.com/appcelerator/titanium_mobile/pull/9807#discussion_r170652386" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9807#discussion_r170652386</a>
   
   Basically there are some community members who keep old versions of their modules in their <code>dist</code> directory and check that into source control (or don't, which is way worse). If they run the new clean command that directory is part of what gets wiped.
   It is poor practice to keep releases there as a means of "archiving" them. Releases should be published to a stable location (Github release, S3, whatever). But if the developer wants to retain old releases in the module, they may want to consider using a different folder or being careful to check/commit the zip in to SCM before cleaning (and then being careful not to commit the deletion of the files, though with SCM they can easily get them back).</li>
<li>Samir Mohammed 2018-06-22

   *Closing ticket*. fix can be seen in SDK Version: <code>7.3.0.v20180618062809</code> on Windows. Fix can also be seen on Android and IOS in SDK version: <code>7.3.0.v20180530072516</code>. 
   
   Fix was tested with the steps mentioned above. </li>
</ol>


<p><a href="/TIMOB/TIMOB-23247.json">JSON Source</a></p>