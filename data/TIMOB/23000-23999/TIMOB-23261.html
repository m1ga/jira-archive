---
title: "[TIMOB-23261] Windows: Error when adding capabilities in wrong order"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-06-27T00:32:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Rene Pot</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-04-21T14:46:57.000+0000</td></tr>
<tr><th>Updated</th><td>2016-09-05T16:45:05.000+0000</td></tr>
</table>

<h3>Description</h3>

When I have capabilities in this order:

<code><pre>
    &lt;windows&gt;
        &lt;manifest&gt;
            &lt;Capabilities&gt;
                &lt;Capability Name="internetClient"/&gt;
               &lt;DeviceCapability Name="location"/&gt;
                 &lt;Capability Name="picturesLibrary" /&gt;
                &lt;DeviceCapability Name="webcam" /&gt;
            &lt;/Capabilities&gt;
        &lt;/manifest&gt;
    &lt;/windows&gt;
</pre></code>

I get an error:
<code><pre>
[ERROR] :  C:\Users\Rene\.titanium\vsbuild\Roamler\phone.x86\Release\AppxManifest.xml(48,6): error APPX1404: File content does not conform to specified schema. The element 'Capabilities' in namespace '<a href="http://schemas.microsoft.com/appx/2010/manifest" rel="nofollow" target="_blank">http://schemas.microsoft.com/appx/2010/manifest</a>' has invalid child element 'Capability' in namespace '<a href="http://schemas.microsoft.com/appx/2010/manifest" rel="nofollow" target="_blank">http://schemas.microsoft.com/appx/2010/manifest</a>'. List of possible elements expected: 'DeviceCapabilityChoice, DeviceCapability' in namespace '<a href="http://schemas.microsoft.com/appx/2010/manifest" rel="nofollow" target="_blank">http://schemas.microsoft.com/appx/2010/manifest</a>' as well as 'DeviceCapability' in namespace '<a href="http://schemas.microsoft.com/appx/2013/manifest" rel="nofollow" target="_blank">http://schemas.microsoft.com/appx/2013/manifest</a>'. [C:\Users\Rene\.titanium\vsbuild\Roamler\phone.x86\Roamler.vcxproj]
[ERROR] :  C:\Users\Rene\.titanium\vsbuild\Roamler\phone.x86\Release\AppxManifest.xml(48,6): error APPX1404: File content does not conform to specified schema. The element 'Capabilities' in namespace '<a href="http://schemas.microsoft.com/appx/2010/manifest" rel="nofollow" target="_blank">http://schemas.microsoft.com/appx/2010/manifest</a>' has invalid child element 'Capability' in namespace '<a href="http://schemas.microsoft.com/appx/2010/manifest" rel="nofollow" target="_blank">http://schemas.microsoft.com/appx/2010/manifest</a>'. List of possible elements expected: 'DeviceCapabilityChoice, DeviceCapability' in namespace '<a href="http://schemas.microsoft.com/appx/2010/manifest" rel="nofollow" target="_blank">http://schemas.microsoft.com/appx/2010/manifest</a>' as well as 'DeviceCapability' in namespace '<a href="http://schemas.microsoft.com/appx/2013/manifest" rel="nofollow" target="_blank">http://schemas.microsoft.com/appx/2013/manifest</a>'. [C:\Users\Rene\.titanium\vsbuild\Roamler\phone.x86\Roamler.vcxproj]
    0 Warning(s)
    1 Error(s)
Time Elapsed 00:00:17.70
</pre></code>

However, when I put them in this order all works fine:

<code><pre>
    &lt;windows&gt;
        &lt;manifest&gt;
            &lt;Capabilities&gt;
                &lt;Capability Name="internetClient"/&gt;
                 &lt;Capability Name="picturesLibrary" /&gt;
               &lt;DeviceCapability Name="location"/&gt;
                &lt;DeviceCapability Name="webcam" /&gt;
            &lt;/Capabilities&gt;
        &lt;/manifest&gt;
    &lt;/windows&gt;
</pre></code>

This sounds like a bug

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-04-21

   Hello, 
   
   This could be windows default behavior. As in <a href="https://msdn.microsoft.com/en-us/library/windows/apps/hh464936.aspx" rel="nofollow" target="_blank">https://msdn.microsoft.com/en-us/library/windows/apps/hh464936.aspx</a> It's clear that you need to define General-use capabilities first then Device capabilities and after that Special-use capabilities. This should be the idle case.
   
   Regards,
   Sharif.</li>
<li>Rene Pot 2016-04-21

   Would be good functionality to add to Titanium to prevent issues like this</li>
<li>Christopher Williams 2016-04-21

   This may be an error stemming from Windows/MS tooling itself, but there's no reason we have to make our users deal with crappy experience like this. We already do some filtering/manipulation of capabilities for them, so we should also just order them properly under the covers to prevent this.</li>
<li>Gary Mathews 2016-06-26

   master: <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/753" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/753</a></li>
<li>Ewan Harris 2016-09-05

   Verified using:
   
   OS: Microsoft Windows 10 Pro 10.0.14393
   Appc core: 6.0.0-38
   Appc NPM: 4.2.8-6
   Ti SDK: 6.0.0.v20160904203840
   
   Incorrect order of capabilities no longer causes an error in the build process
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-23261.json">JSON Source</a></p>