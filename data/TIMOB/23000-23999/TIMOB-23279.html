---
title: "[TIMOB-23279] Windows: Omit invalid devices from wptool detection"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-07-14T22:59:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>windowslib 0.4.9</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0, windowslib 0.4.15</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Gary Mathews</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-04-27T02:21:35.000+0000</td></tr>
<tr><th>Updated</th><td>2016-10-05T16:09:14.000+0000</td></tr>
</table>

<h3>Description</h3>

wptool.js always reports a device, even if there is not one connected

<code><pre>
{
  "name": "Device",
  "udid": 0,
  "index": 0,
  "wpsdk": null
 }
</pre></code>

The wptool binary does not omit any invalid devices, this is reported when no device is connected or when two devices are connected.
<code><pre>
{
  "name": "Device",
  "udid": 0,
  "index": 0,
  "version": "2147483647.2147483647.2147483647.2147483647",
  "wpsdk": null
 }
</pre></code>

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2016-04-27

   PR: <a href="https://github.com/appcelerator/windowslib/pull/42" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/42</a></li>
<li>Kota Iguchi 2016-05-09

   [~cwilliams] Could you review this? Is this still valid [~gmathews]?</li>
<li>Gary Mathews 2016-05-10

   [~kota] Yes, this is still valid</li>
<li>Kota Iguchi 2016-07-13

   [~gmathews] I tried this locally, and <code>ti info -p windows -o json</code> gives me following result.
   
   *When a device is connected*
   <code><pre>
   "devices": [
           {
                   "name": "Lumia 630 Dual SIM (RM-978)",
                   "udid": "00000015-4901-3b2b-0000-000000000000",
                   "index": 0,
                   "wpsdk": "8.1",
                   "ip": "127.0.0.1"
           }
   ]
   </pre></code>
   
   This looks good.(y)
   
   *When no device is connected*
   <code><pre>
   "devices": [
           {
                   "name": "Device",
                   "udid": 0,
                   "index": 0,
                   "wpsdk": null
           }
   ],
   </pre></code>
   
   Is this expected result? Do we want to show this place holder device when no device is connected? > [~gmathews]
   If so, could you push a PR to <code>titanium_mobile</code> to request bump up the version for <code>windowslib</code>? Thanks.
   </li>
<li>Gary Mathews 2016-07-14

   titanium_mobile: <a href="https://github.com/appcelerator/titanium_mobile/pull/8138" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8138</a></li>
<li>Kota Iguchi 2016-08-01

   [~gmathews] Is it ok to make this ticket be "resolved" while [windowslib/pull/49](<a href="https://github.com/appcelerator/windowslib/pull/49)" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/49)</a> is still open?</li>
<li>Ewan Harris 2016-10-05

   Verified using:
   
   OS: Microsoft Windows 10 Pro 10.0.14393
   Appc core: 6.0.0-56
   Appc NPM: 4.2.8-7
   Ti SDK: 6.0.0.v20161004202820
   Appc Studio: 4.8.0.201609292239
   
   When no device is connected <code>ti info -t windows</code> and <code>ti info -t windows -o json</code> no longer report the placeholder device
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-23279.json">JSON Source</a></p>