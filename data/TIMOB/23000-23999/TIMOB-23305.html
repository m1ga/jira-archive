---
title: "[TIMOB-23305] Windows: Ti.UI.Label width is not updated when setting new text"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-05-28T04:41:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>qe-5.4.0</td></tr>
<tr><th>Reporter</th><td>Jonas Bjurhult</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2016-05-03T08:29:20.000+0000</td></tr>
<tr><th>Updated</th><td>2016-06-28T18:02:18.000+0000</td></tr>
</table>

<h3>Description</h3>

SDK 5.4.0.v20160426000033

Test code:

index.xml
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container"&gt;
		&lt;Label id="label" top="0" onClick="doClick"&gt;THIS IS A SHORT LABEL&lt;/Label&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

index.tss
<code><pre>
".container": {
	backgroundColor:"white"
}

"#label": {
	width: Ti.UI.SIZE,
	color: "#000"
}
</pre></code>

index.js
<code><pre>
function doClick(e) {
    $.label.text = "THIS IS A LONGER LABEL!!!!!!!"
}
$.index.open();
</pre></code>


When clicking the label you can see that the label is divided into 2 rows with a newline. Expected behaviour based on Android/iOS is that the label width is recalculated to fit the new text.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23305_59127/Screen Shot 2016-05-03 at 10.43.18.png">Screen Shot 2016-05-03 at 10.43.18.png</td></td><td>2016-05-03T08:44:12.000+0000</td><td>12257</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23305_59126/Screen Shot 2016-05-03 at 10.43.27.png">Screen Shot 2016-05-03 at 10.43.27.png</td></td><td>2016-05-03T08:44:16.000+0000</td><td>13845</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Nazmus Salahin 2016-05-03

   Hello,
   I am able to reproduce this issue with given code and given step on Windows Phone. However on Android the behavior is as expected.
   *Steps:*
   1. Create a default alloy project for Windows with given code.
   2. Build and run the app on Windows Phone Device.
   3. Click the label. >> Label text is changed.
   4. It is apparent that the label width is not updated for new text.
   
   [Screenshot| <a href="https://i.imgsafe.org/fc30c90.png" rel="nofollow" target="_blank">https://i.imgsafe.org/fc30c90.png</a>]
   
   Thanks 
   
   *Environment*:
   
   *OS :Microsoft Windows 8.1 Enterprise N
   *Device info:* Microsoft Lumia 640 (Windows Phone 8.1)
   *Node.js Version:* 0.12.7
   *npm Version:* 2.11.3
   *Titanium SDKs:* 5.4.0.v20160429102159
   *Java Development Kit Version:* 1.8.0_73
   *Titanium CLI Version:*  5.0.5
   *Appcelerator CLI Version:*  5.2.2
   *Appcelerator Studio:* 4.5.0</li>
<li>Kota Iguchi 2016-05-27

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/714" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/714</a></li>
<li>Josh Longton 2016-06-28

   Verified as fixed.
   Tested on:
   Microsoft Lumia 640 (8.1)
   Windows Simulator (8.1)
   Microsoft Lumia 640 (10)
   Windows Simulator (10)
   Windows 10 Pro
   Studio: 4.7.0.201606150733
   Ti SDK: 5.4.0.v20160627224205
   Appc NPM: 4.2.7-2
   App CLI: 5.4.0-20
   Node v4.4.4
   *Closing Ticket.*</li>
</ol>


<p><a href="/TIMOB/TIMOB-23305.json">JSON Source</a></p>