---
title: "[TIMOB-23307] Windows: Localized strings in strings.xml don't handle \n newlines"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-05-27T18:48:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jonas Bjurhult</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2016-04-28T11:15:17.000+0000</td></tr>
<tr><th>Updated</th><td>2016-06-30T12:01:12.000+0000</td></tr>
</table>

<h3>Description</h3>

SDK: 5.4.0.v20160426000033

When setting the text property of a Ti.UI.label object to something containing '\n' to represent new line, the '\n' is printed in the UI instead of inserting a new line.



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23307_59101/Screen Shot 2016-04-28 at 13.16.09.png">Screen Shot 2016-04-28 at 13.16.09.png</td></td><td>2016-04-28T11:17:29.000+0000</td><td>35415</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23307_59432/win10_test.png">win10_test.png</td></td><td>2016-05-27T18:37:29.000+0000</td><td>28269</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Nazmus Salahin 2016-05-02

   Hello,
   I am unable to reproduce this issue. When setting the <code>text</code> property of a <code>Ti.UI.label</code> a new line is printed for <code>\n</code> rather than '\n'. 
   
   Sample String: "A long label with\n a few line breaks\n and unicode (UTF8)\n symbols such as\n a white chess piece \u2655\nand the euro symbol \u20ac\nlooks like this!\n'"
   
   [Screenshot| <a href="https://i.imgsafe.org/903d5b7.png" rel="nofollow" target="_blank">https://i.imgsafe.org/903d5b7.png</a>]
   
   *app.js:*
   <code><pre>
   var win = Ti.UI.createWindow({
     backgroundColor: 'white',
     exitOnClose: true,
     fullscreen: false,
     layout: 'vertical',
     title: 'Label Demo'
   });
   
   var label = Ti.UI.createLabel({
     color:'blue',
     text: 'A long label with\n a few line breaks\n and unicode (UTF8)\n symbols such as\n a white chess piece \u2655\nand the euro symbol \u20ac\nlooks like this!\n',
     textAlign: Ti.UI.TEXT_ALIGNMENT_LEFT,
     top: 30,
     width: 300, height: 200
   });
   
   win.add(label);
   win.open();
   </pre></code>
   
   *Environment*:
   
   *Device info:* Microsoft Lumia 640 (Windows Phone 8.1)
   *Node.js Version:* 0.12.7
   *npm Version:* 2.11.3
   *Titanium SDKs:* 5.4.0.v20160429102159
   *Java Development Kit Version:* 1.8.0_73
   *Titanium CLI Version:*  5.0.5
   *Appcelerator CLI Version:*  5.2.2
   *Appcelerator Studio:* 4.5.0</li>
<li>Jonas Bjurhult 2016-05-02

   My text is set via the i18n stings.xml, like this:
   
   <code><pre>
   &lt;string name="EulaTitle"&gt;The app will use your phone position to determine your country location.\nPlease review and accept the Privacy Policy.&lt;/string&gt;
   </pre></code>
   
   and then in my .js: 
   <code><pre>
   $.upperTitle.text = L('EulaTitle');
   </pre></code></li>
<li>Nazmus Salahin 2016-05-03

   Hello,
   I am able to reproduce this issue when the string is defined in strings.xml file. So it seems that the issue is not related to Label but with localized string values.
   *Steps:*
   1. Create a default classic project for windows phone.
   2. Replace app.js file code with following.
   <code><pre>
   var win = Ti.UI.createWindow({
     backgroundColor: 'white',
     exitOnClose: true,
     fullscreen: false,
     layout: 'vertical',
     title: 'Label Demo'
   });
   
   var label = Ti.UI.createLabel({
     color:'blue',
     text: L('TestText'),
     textAlign: Ti.UI.TEXT_ALIGNMENT_LEFT,
     top: 30,
     width: 300, height: 200
   });
   
   win.add(label);
   win.open();
   </pre></code>
   3. Create strings.xml file in the folder "i18n\en".
   4. Replace content of strings.xml file with following.
   <code><pre>
   &lt;resources&gt;
   	&lt;string name="TestText"&gt;A long label with\n a few line breaks\n and unicode (UTF8)\n symbols such as\n a white chess piece \u2655\nand the euro symbol \u20ac\nlooks like this!\n&lt;/string&gt;
   &lt;/resources&gt;
   </pre></code>
   5. Build and run the app on Windows device. >> It is seen in the label that newline is not printed in case of '\n' rather <code>\n</code> is printed. [Screenshot| <a href="https://i.imgsafe.org/8160c00.png" rel="nofollow" target="_blank">https://i.imgsafe.org/8160c00.png</a>].
   
   Thanks
   
   
   *Environment*:
   
   *OS :Microsoft Windows 8.1 Enterprise N
   *Device info:* Microsoft Lumia 640 (Windows Phone 8.1)
   *Node.js Version:* 0.12.7
   *npm Version:* 2.11.3
   *Titanium SDKs:* 5.4.0.v20160429102159
   *Java Development Kit Version:* 1.8.0_73
   *Titanium CLI Version:*  5.0.5
   *Appcelerator CLI Version:*  5.2.2
   *Appcelerator Studio:* 4.5.0</li>
<li>Kota Iguchi 2016-05-27

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/722" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/722</a></li>
<li>Ewan Harris 2016-06-30

   Verified using:
   
   Windows 10 Pro
   Ti SDK: 5.4.0.v20160629063537
   Appc NPM: 4.2.7-2 
   Appc CLI: 5.4.0-23
   Appc Studio: 4.7.0.201606220541
   Lumia 930: 10.0
   Lumia 520: 8.1
   
   Using the example attached the string displayed now matches what is shown on iOS.
   
   Closing ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23307.json">JSON Source</a></p>