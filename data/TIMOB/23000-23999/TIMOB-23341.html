---
title: "[TIMOB-23341] Exception on iPhone: no row found for index. in -TiUITableViewProxy insertRowAfter"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-08-11T21:58:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Peter Varadi</td></tr>
<tr><th>Assignee</th><td>Angel Petkov</td></tr>
<tr><th>Created</th><td>2012-10-18T12:29:48.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T17:12:19.000+0000</td></tr>
</table>

<h3>Description</h3>

When you are trying to add numerous rows to a TableView using insertRowAfter it randomly causes exceptions: "no row found for index. in -TiUITableViewProxy insertRowAfter:";"

It looks line some code lines have been commented out for unknown reason and causing issues on the UI thread. Please see this commit:
<a href="https://github.com/appcelerator/titanium_mobile/commit/040cb9ab4350e6f3bd6eb5e22770f76ec9791b5e" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/040cb9ab4350e6f3bd6eb5e22770f76ec9791b5e</a>

And see this issue on the forum:
<a href="http://developer.appcelerator.com/question/129708/obj-c-fix-for-error-on-tableview-insertrowbefore--insertrowafter" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/129708/obj-c-fix-for-error-on-tableview-insertrowbefore--insertrowafter</a>

This line should be back on those methods:
ENSURE_UI_THREAD(insertRowAfter,args);

<h3>Comments</h3>

<ol>
<li>Pedro Enrique 2013-04-02

   This is a very old commit. Please provide some code that we can test with</li>
<li>Baharroth 2016-05-06

   Please reopen this ticket.
   The 'no row found for index' is still present in SDK 5.2.
   It's append when you use loop to insert row after the last row.
   
   Please check the answer and the explaination here
   <a href="https://archive.appcelerator.com/question/129708/obj-c-fix-for-error-on-tableview-insertrowbefore--insertrowafter" rel="nofollow" target="_blank">https://archive.appcelerator.com/question/129708/obj-c-fix-for-error-on-tableview-insertrowbefore--insertrowafter</a>
   
   </li>
<li>Baharroth 2016-05-06

   And this is how to reproduce the bug
   <code><pre>
   var win = Ti.UI.createWindow();
   
   var tableData = [{
   	title : 'Apples'
   }, {
   	title : 'Bananas'
   }, {
   	title : 'Carrots'
   }, {
   	title : 'Potatoes'
   }];
   
   var table = Ti.UI.createTableView({
   	data : tableData
   });
   
   table.addEventListener("click", function(e) {
   	var currentIndex = e.index;
   	for (var i = 0; i &lt; 5; i ++) {
   		table.insertRowAfter(currentIndex, Ti.UI.createTableViewRow({
   			title : 'test '  + i
   		}), {
   			animated : true,
   			animationStyle : Titanium.UI.iPhone.RowAnimationStyle.TOP
   		});
   	}
   });
   
   win.add(table);
   win.open();
   </pre></code>
   
   *EDIT by Hans*: Corrected the demo code and added some format.</li>
<li>Hans Kn√∂chel 2016-05-08

   Reopening ticket, this is a valid issue.
   
   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/7992" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/7992</a></li>
<li>Lee Morris 2017-03-22

   Closing ticket due to comments made above. Please re-open if this issue returns.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23341.json">JSON Source</a></p>