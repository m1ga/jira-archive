---
title: "[TIMOB-23358] Hyperloop Android: Support method calls that use reference parameters/explicitly assign to args"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android, Hyperloop</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Christopher Williams</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2016-05-10T23:47:29.000+0000</td></tr>
<tr><th>Updated</th><td>2017-09-22T15:14:46.000+0000</td></tr>
</table>

<h3>Description</h3>

Some methods in Android use "reference" parameters where the method is expected to modify the arguments explicitly rather than return a return value.

Specifically, methods like:
- <a href="http://developer.android.com/reference/android/view/View.html#getLocationOnScreen(int" rel="nofollow" target="_blank">http://developer.android.com/reference/android/view/View.html#getLocationOnScreen(int</a>[])
- <a href="http://developer.android.com/reference/android/view/View.html#getLocationInWindow(int" rel="nofollow" target="_blank">http://developer.android.com/reference/android/view/View.html#getLocationInWindow(int</a>[])
- <a href="http://developer.android.com/reference/android/view/View.html#dispatchNestedPreScroll(int" rel="nofollow" target="_blank">http://developer.android.com/reference/android/view/View.html#dispatchNestedPreScroll(int</a>,%20int,%20int[],%20int[])
- <a href="http://developer.android.com/reference/android/view/View.html#dispatchNestedScroll(int" rel="nofollow" target="_blank">http://developer.android.com/reference/android/view/View.html#dispatchNestedScroll(int</a>,%20int,%20int,%20int,%20int[])

Right now, I don't believe we properly support this sort of method. We'll need to find some way to be able to transform the passed in JS array's contents from the modifications made on the Java converted array. We may just have to special case these methods to return the modified contents rather than void and then hack the JS side.

Note that this isn't possible for typical Java primitives, but _is_ possible for arrays.

<h3>Comments</h3>

<ol>
<li>Christopher Williams 2016-05-11

   A note that getLocationOnScreen actually has a hidden no-arg version that returns the int[] in source and Hans did report being able to use that. So we sort of have a workaround for that.
   
   There is no such hidden variant of getLocationInWindow.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23358.json">JSON Source</a></p>