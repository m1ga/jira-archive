---
title: "[TIMOB-23371] Windows: Only report a device when one has been detected"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Do</td></tr>
<tr><th>Resolution Date</th><td>2021-02-11T12:19:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.3.0</td></tr>
<tr><th>Fix Version/s</th><td>windowslib 0.4.15</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>qe-5.3.0</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2016-05-12T22:26:23.000+0000</td></tr>
<tr><th>Updated</th><td>2021-02-11T12:20:02.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When building to a Windows Phone Device if multiple devices are connected then the two devices are displayed along with Device 0

<code><pre>
Which device do you want to install your app on?
   1)  Device                    (udid: 0)
   2)  Lumia 930 (RM-1045)       (udid: 00000015-4e57-1877-0000-000000000000)
   3)  Nokia Lumia 520 (RM-914)  (udid: 004a0090-40df-0094-0000-000000000000)
Select by number or name [Device]: 
</pre></code>

When building , for me, selecting any of the above devices the build errors out for me.

As we are unable to support multiple devices due to the tooling we use then this should be handled better.

<h4>Steps to reproduce</h4>

1. Connect multiple devices
2. Build using <code>appc run -p windows -T wp-device</code>

<h4>Actual result</h4>

Multiple devices are shown

<h4>Expected result</h4>

Multiple devices should not be shown, user should be informed of the support for only one device

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2016-05-25

   This PR should address this issue: <a href="https://github.com/appcelerator/windowslib/pull/42" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/42</a></li>
<li>Gary Mathews 2016-07-14

   titanium_mobile: <a href="https://github.com/appcelerator/titanium_mobile/pull/8138" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8138</a></li>
<li>Kota Iguchi 2016-07-15

   This issue is not fixed by windowslib 0.4.15.
   
   <code>appc ti info -p windows -o json</code>
   
   *When one device is connected*
   <code><pre>
   "devices": [
           {
                   "name": "Lumia 630 Dual SIM (RM-978)",
                   "udid": "00000015-4901-3b2b-0000-000000000000",
                   "index": 0,
                   "wpsdk": "8.1",
                   "ip": "127.0.0.1"
           }
   ]
   </pre></code>
   
   This looks good.
   
   *When two devices are connected*
   
   <code><pre>
   "devices": [
           {
                   "name": "Device",
                   "udid": 0,
                   "index": 0,
                   "wpsdk": null
           },
           {
                   "name": "Windows 10 Mobile Device",
                   "udid": "00000015-c470-8a24-0000-000000000000",
                   "index": 0,
                   "wpsdk": null,
                   "ip": "127.0.0.1"
           },
           {
                   "name": "Lumia 630 Dual SIM (RM-978)",
                   "udid": "00000015-4901-3b2b-0000-000000000000",
                   "index": 1,
                   "wpsdk": null,
                   "ip": "127.0.0.1"
           }
   ],
   </pre></code>
   
   This should omit placeholder device.
   
   <code>appc ti build -p windows --target wp-device</code> actually reports <code>udid=0</code> device like below.
   
   <code><pre>
   Which device do you want to install your app on?
      1)  Device                       (udid: 0)
      2)  Windows 10 Mobile Device     (udid: 00000015-c470-8a24-0000-000000000000)
      3)  Lumia 630 Dual SIM (RM-978)  (udid: 00000015-4901-3b2b-0000-000000000000)
   </pre></code></li>
<li>Gary Mathews 2016-07-18

   windowslib: <a href="https://github.com/appcelerator/windowslib/pull/49" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/49</a></li>
<li>Kota Iguchi 2016-08-04

   [~gmathews], please check the comments here: <a href="https://github.com/appcelerator/windowslib/pull/49" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/49</a> </li>
<li>Gary Mathews 2016-08-04

   I would consider this ticket resolved with: <a href="https://github.com/appcelerator/windowslib/pull/42" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/42</a>
   
   <a href="https://github.com/appcelerator/windowslib/pull/49" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/49</a> is just an addition to clean up the device listing, but isn't necessary for this ticket.</li>
<li>Kota Iguchi 2016-08-04

   Resolving, as 
   
   {quote}
   I would consider this ticket resolved with: <a href="https://github.com/appcelerator/windowslib/pull/42" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/42</a>
   
   <a href="https://github.com/appcelerator/windowslib/pull/49" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/49</a> is just an addition to clean up the device listing, but isn't necessary for this ticket.
   {quote}
   
   [~gmathews] Would you create new ticket for it?</li>
<li>Ewan Harris 2016-09-02

   Reopening ticket: 
   
   OS: Windows 10 Pro
   Appc core: 6.0.0-37
   Appc NPM: 4.2.8-6
   Ti SDK: 6.0.0.v20160901034311
   
   Placeholder device is still reported
   
   <code><pre>
   Windows Phone Devices
     Device
       UDID                      0
   </pre></code>
   
   <code><pre>
    "devices": [
                           {
                                   "name": "Device",
                                   "udid": 0,
                                   "index": 0,
                                   "wpsdk": null
                           }
                   ],
   </pre></code></li>
<li>Kota Iguchi 2016-09-08

   6_0_X: <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/859" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/859</a>
   master: <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/860" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/860</a></li>
<li>Ewan Harris 2016-09-12

    [~kota] [~gmathews] I'd just like to confirm a few things regarding this,
    
    1. Does this mean we can now handle multiple device being connected when building? (This was what the original ticket was written for before being altered).
        *  Current status using  SDK 6.0.0.v20160909225457:
            * Windows phone 8.1 device - Starts a Windows 10 emulator, build process fails with <code>\[ERROR\] Failed to start Nokia Lumia 520 (RM-914) (code null)</code>
            * Windows 10 mobile device - Errors out with <code>\[ERROR\] App deployment to the Windows Phone failed because multiple Windows Phone devices were detected. You should only connect one phone</code>
    
    2. When two devices are connected neither of them have the wpsdk value set in the json output, when just a Windows 10 Mobile device is connected the wpsdk value is set. Seeing as we used this when determining what SDK to use I foresee this being a problem (In the above example I'm pretty sure it is using 8.1 SDKs, due to the logging below)
    
    <code><pre>
    [INFO]  Running cmake at C:\ProgramData\Titanium\mobilesdk\win32\6.0.0.v20160909225457\windows\cli\vendor\cmake\bin\cmake.exe in directory C:\Users\ewan\.titanium\vsbuild\ppBootTC\phone.ARM
    [INFO]  -- The C compiler identification is MSVC 18.0.40629.0
    [INFO]  -- The CXX compiler identification is MSVC 18.0.40629.0
    </pre></code>
    </li>
<li>Kota Iguchi 2016-09-20

    [~eharris] Hmm nice catch, I think you are right. We don't actually support multiple device and you may see issues. I think I did miss the point then, my [previous PR](<a href="https://github.com/appcelerator/titanium_mobile_windows/pull/859)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/859)</a> was just meant to delete placeholder device. I would reopen this, but I would also like to move this to 6.1.0 because of the timeframe we have for 6.0.0. Reopening.</li>
<li>Kota Iguchi 2016-09-20

    Removed 6.1.0 release target, because <code>AppDeployCmd.exe</code> in Windows Phone 8.1 Tools does not quite work when multiple devices are connected. (<code>App deployment to the Windows Phone failed because multiple Windows Phone devices were detected. You should only connect one phone</code>). Keep opening this ticket, we might be able to support the situation under multiple Windows 10 Mobile devices are connected.
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-23371.json">JSON Source</a></p>