---
title: "[TIMOB-23397] Analytics: Improve structure of JSON data element for ti.background - iOS Ti SDK and APS SDK"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 5.3.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-5.3.0</td></tr>
<tr><th>Reporter</th><td>Eric Merriman </td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2016-05-17T17:29:41.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:42.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description:</h4>
The JSON payload for ti.background includes a data element that should be improved. Currently it appears as:
<code><pre>
{
	"ver": "3",
	"id": "7cea9910-cf8b-4a3c-a8f8-c8ed14276cc5:dc5e5c1715b599dd",
	"event": "ti.background",
	"ts": "2014-12-09T18:14:51.282+0000",
	"mid": "dc5e5c1715b599dd",
	"sid": "79dd4123-1685-43fa-82d0-6816ddcd9901",
	"aguid": "5ae84ca8-78ad-4776-9640-b7b3dd29543b",
	"data": {
		"value": ""
	},
	"seq": 3
}
</pre></code>

But it should appear (if empty) as:
<code><pre>
{
	"ver": "3",
	"id": "7cea9910-cf8b-4a3c-a8f8-c8ed14276cc5:dc5e5c1715b599dd",
	"event": "ti.background",
	"ts": "2014-12-09T18:14:51.282+0000",
	"mid": "dc5e5c1715b599dd",
	"sid": "79dd4123-1685-43fa-82d0-6816ddcd9901",
	"aguid": "5ae84ca8-78ad-4776-9640-b7b3dd29543b",
	"data": { },
	"seq": 3
}
</pre></code>


<h4>Steps to reproduce:</h4>
1) Install a titanium project on a ios device
2) Launch the app
3) Use either - a) point device to staging via DNS setting, check logs. b) Use get last event api c) If you have backend access, check the raw event on AWS.
4) Examine any of the ti.background events

<h4>Result:</h4>
"data" element is structured poorly

<h4>Expected Result:</h4>
"data" element, when empty, structured as suggested.

<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2016-05-24

   Using Ti SDK 5.4.0.v20160519143319 I don't see the field "value". It seems to be behaving correctly.
   [~emerriman] Can QE check please?</li>
</ol>


<p><a href="/TIMOB/TIMOB-23397.json">JSON Source</a></p>