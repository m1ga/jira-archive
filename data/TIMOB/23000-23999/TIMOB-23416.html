---
title: "[TIMOB-23416] Hyperloop: iOS: App crashes on startup when <use-jscore-framework> element non-existent"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-05-25T07:07:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Components</th><td>Hyperloop</td></tr>
<tr><th>Labels</th><td>qe-5.4.0</td></tr>
<tr><th>Reporter</th><td>Chee Kiat Ng</td></tr>
<tr><th>Assignee</th><td>Chee Kiat Ng</td></tr>
<tr><th>Created</th><td>2016-05-20T06:02:06.000+0000</td></tr>
<tr><th>Updated</th><td>2016-07-01T21:28:53.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to reproduce</h4>
1. *appc new --classic*
2. include hyperloop module and plugin in local project
3. update tiapp.xml with:
<code><pre>
  <modules>
    <module version>hyperloop</module>
  </modules>
  <plugins>
    <plugin>hyperloop</plugin>
  </plugins>  
</pre></code>
4. *appc run -p ios*

<h4>Expected Result</h4>
app builds and appears

<h4>Actual Result</h4>
app crashes on launch

Note: If you include the <use-jscore-framework> element in tiapp.xml, be it true or false, it will launch successfully.

<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2016-05-20

   Additional note, if the element <use-jscore-framework> is not in tiapp.xml, the log does show this:
   <code><pre>
   [INFO]  Add the following to your tiapp.xml <ios> section to enable or disable this:
   [INFO]
   [INFO]          <use-jscore-framework>true</use-jscore-framework>
   [INFO]
   [INFO]  Using Apple JavaScriptCore by default when not specified.
   </pre></code>
   So somewhere it's not setting it as default.</li>
<li>Chee Kiat Ng 2016-05-20

   The problem lies in, with or without hyperloop module, any titanium app created is by default, NOT using Apple Javascriptcore.
   Reason being, currently our debugger and profiler is not compatible with Apple Javascriptcore. 
   
   Whereas in hyperloop, it's saying that if it doesn't see <code><use-jscore-framework></code> in tiapp.xml, it will build ASSUMING JSCORE is setup in the titanium app. Therefore it crashes.
   
   The solution (for now), is for hyperloop to assume the usage of TICORE by default instead of JSCORE if the <use-jscore-framework> element is missing, so that it's compatible with the app.
   </li>
<li>Chee Kiat Ng 2016-05-20

   PR here: <a href="https://github.com/appcelerator/hyperloop.next/pull/31" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/31</a>
   Repeat the above steps using these 3 scenarios:
   1. no <use-jscore-framework> : you should see in the log "using titanium javascriptcore as default" and builds normally
   2. set <use-jscore-framework> to true : builds normally
   3. set <use-jscore-framework> to false : builds normally</li>
<li>Hans Knöchel 2016-05-20

   Left some CR comments, thanks!</li>
<li>Josh Longton 2016-07-01

   Verified as fixed. 
   Tested on: 
   iPhone 6s Plus (9.3.1)
   iOS Simulator (9.3)
    Mac OSX El Capitan 10.11.5
   Studio: 4.7.0.201606220541
    Ti SDK: 5.4.0.v20160629063537
    Appc NPM: 4.2.7-2
   Appc CLI: 5.4.0-23
    Xcode 7.3.1
   Node v4.4.4
   * Closing Ticket.*</li>
</ol>


<p><a href="/TIMOB/TIMOB-23416.json">JSON Source</a></p>