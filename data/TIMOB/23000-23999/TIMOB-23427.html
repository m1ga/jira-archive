---
title: "[TIMOB-23427] Windows: Camera controls are not showing"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-06-28T12:21:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.2.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>qe-5.4.0</td></tr>
<tr><th>Reporter</th><td> Ricardo Ramirez</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2016-05-24T17:15:26.000+0000</td></tr>
<tr><th>Updated</th><td>2016-09-05T16:48:55.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue Description</h4>

Trying to check the camera feature in Windows Platform but the default camera controls are not shown an also front camera is opened. We are unable to capture a picture. Even tried placing the overlay didn't help. We are using titanium SDK 5.2.2.GA. Please find the attached screen shot and code. 


<h4>Test Case</h4>
<code><pre>
var win = Ti.UI.createWindow({ 
layout : 'vertical', 
backgroundColor : 'white' 
}); 

var button = Ti.UI.createButton({ 
title : 'take picture', 
color : 'black' 
}); 
button.addEventListener('click', function() { 
Ti.Media.showCamera({ 
'cancel' : function() { 
Ti.API.info('cancel'); 
}, 
'error' : function() { 
Ti.API.info('error'); 
}, 
'success' : function(e) { 
Ti.API.info('success: size=' + e.media.length); 
imageView.image = e.media; 
} 
}); 
}); 
win.add(button); 

var imageView = Ti.UI.createImageView(); 
win.add(imageView); 

// setTimeout(function() { 
// Ti.Media.hideCamera(); 
// }, 3000); 

win.open(); 
</pre></code>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23427_59611/SE-SS 2.png">SE-SS 2.png</td></td><td>2016-06-22T03:20:01.000+0000</td><td>180399</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23427_59399/wp_ss_20160422_0002.jpg">wp_ss_20160422_0002.jpg</td></td><td>2016-05-24T17:15:22.000+0000</td><td>65518</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23427_59582/wp_ss_20160615_0001[1].png">wp_ss_20160615_0001[1].png</td></td><td>2016-06-15T20:36:58.000+0000</td><td>1408552</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Nazmus Salahin 2016-05-25

   Hello,
   I am able to to reproduce the issue with given code. The camera opens for <code>Ti.Media.showCamera</code> but camera control is not showing. Its is not possible to take picture from there or go back to app. Windows default camera app works fine on the same device. I added following capabilities which *did not* solve the issue.
   <code><pre>
       &lt;windows&gt;
       	&lt;manifest&gt;   
       		&lt;Capabilities&gt;
           		&lt;Capability Name="picturesLibrary" /&gt;
           		&lt;DeviceCapability Name="webcam" /&gt;
       		&lt;/Capabilities&gt;
      	&lt;/manifest&gt;   
     &lt;/windows&gt;
   </pre></code>
   
   *Environment*:
   
   *OS :* Microsoft Windows 8.1 Enterprise N
   *Device info:* Microsoft Lumia 640 (Windows Phone 8.1)
   *Node.js Version:* 0.12.7
   *npm Version:* 2.11.3
   *Titanium SDKs:* 5.4.0.v20160429102159
   *Java Development Kit Version:* 1.8.0_73
   *Titanium CLI Version:*  5.0.5
   *Appcelerator CLI Version:*  5.2.2
   *Appcelerator Studio:* 4.5.0</li>
<li>Kota Iguchi 2016-06-09

   Fixed by TIMOB-23262
   
   <code><pre>
   var win = Ti.UI.createWindow({ backgroundColor: 'green', layout:'vertical' }),
       openButton = Ti.UI.createButton({ title: 'OPEN CAMERA', backgroundColor: 'blue' }),
       imageView = Ti.UI.createImageView({width:Ti.UI.FILL, height: '80%'});
   
   var overlay = Ti.UI.createView({
       layout: 'vertical',
       height: '20%', width: Ti.UI.FILL,
       bottom: 0
   }),
   takeButton = Ti.UI.createButton({ title: 'TAKE A PHOTO', backgroundColor: 'red' }),
   hideButton = Ti.UI.createButton({ title: 'HIDE PREVIEW', backgroundColor: 'red' });
   
   takeButton.addEventListener('click', function () {
       Ti.Media.takePicture();
   });
   hideButton.addEventListener('click', function () {
       Ti.Media.hideCamera();
   });
   overlay.add(takeButton);
   overlay.add(hideButton);
   
   openButton.addEventListener('click', function () {
       Ti.Media.showCamera({
           mediaTypes: [Ti.Media.MEDIA_TYPE_PHOTO],
           overlay: overlay,
           success: function (e) {
               Ti.API.info('showCamera() success');
               imageView.image = e.media;
           },
           error: function () {
               Ti.API.info('showCamera() error');
           }
       });
   });
   
   win.add(openButton);
   win.add(imageView);
   win.open();
   </pre></code></li>
<li>Harry Bryant 2016-06-15

   </li>
<li>Kota Iguchi 2016-06-16

   ok I see. There's a Windows API to show builtin camera UI: [CameraCaptureUI](<a href="https://msdn.microsoft.com/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)" rel="nofollow" target="_blank">https://msdn.microsoft.com/windows/uwp/audio-video-camera/capture-photos-and-video-with-cameracaptureui)</a>, but it seems it does not work on Windows Phone 8.x. So as far as I can see default camera UI can not be archived on WP 8.1. We could use CameraCaptureUI for Windows 10 (including Mobile). [~cwilliams] Do you think we can move this feature to 6.0.x as this is new feature?</li>
<li>Chee Kiat Ng 2016-06-16

   Yes for now.</li>
<li>Kota Iguchi 2016-06-22

   Pushed PR for builtin camera UI for Windows 10 (Mobile).
   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/748" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/748</a>
   
   Unfortunately, this control is not supported on Windows Phone 8.1 natively.
   
   For workaround for Windows Phone 8.1, we could use <code>Ti.Media.openPhotoGallery</code> instead, to launch builtin camera UI.
   
   !SE-SS 2.png|thumbnail!
   
   <code><pre>
   Ti.Media.openPhotoGallery({
       mediaTypes: [Ti.Media.MEDIA_TYPE_PHOTO],
       success: function (e) {
           if (e.mediaType === Ti.Media.MEDIA_TYPE_PHOTO) {
               imageView.image = e.media;
           }
       },
       cancel: function () {
       },
       error: function (err) {
           Ti.API.error(err);
       }
   });
   </pre></code></li>
<li>Chee Kiat Ng 2016-06-30

   [~kota] I need docs to be updated on 5_4_X with regards to this, what can be supported and what cannot. Can you do that for me please?</li>
<li>Kota Iguchi 2016-06-30

   [~cng] Sure, will do.</li>
<li>Kota Iguchi 2016-06-30

   <a href="https://wiki.appcelerator.org/display/guides2/Camera+and+Photo+Gallery+APIs#CameraandPhotoGalleryAPIs-DisplayingbuiltincameraforWindows" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides2/Camera+and+Photo+Gallery+APIs#CameraandPhotoGalleryAPIs-DisplayingbuiltincameraforWindows</a></li>
<li>Ewan Harris 2016-09-05

    Verified using:
    
    OS: Microsoft Windows 10 Pro 10.0.14393
    Appc core: 6.0.0-38
    Appc NPM: 4.2.8-6
    Ti SDK: 6.0.0.v20160904203840
    Lumia 930: 10.0
    
    When using the camera and not specifying an overlay the native camera controls are used
    
    Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-23427.json">JSON Source</a></p>