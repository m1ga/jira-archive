---
title: "[TIMOB-23484] windowslib: don't hard error when detecting devices if Visual Studio is not installed"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-10-11T04:54:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0, windowslib 0.4.15</td></tr>
<tr><th>Components</th><td>Tooling, Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2016-06-08T17:34:17.000+0000</td></tr>
<tr><th>Updated</th><td>2016-10-11T04:55:05.000+0000</td></tr>
</table>

<h3>Description</h3>

windowslib uses a custom tool called "wptool" to detect connected Windows Phone devices. "wptool" uses assemblies that are distributed with Visual Studio and it was designed such that "wptool" is compiled before executing. This obviously requires Visual Studio. If VS is not installed, it returns the error:

<code><pre>
Error: Did not find support for WP SDK 8.0. Cannot enumerate devices.
</pre></code>

While the device detection API may return an error, <code>windowslib.detect()</code> should ignore the error and return successfully.

<h3>Comments</h3>

<ol>
<li>Brenton House 2016-06-10

   I am also getting this error but on Windows 7.  Is that to be expected w/ this issue?   Thanks!</li>
<li>Chris Barber 2016-06-10

   [~brentonhouse] Yeah, this affects all versions of Windows. It's already fixed if you pull a CI build.</li>
<li>Brenton House 2016-06-10

   [~cbarber] Thanks!!</li>
<li>Gary Mathews 2016-06-24

   windowslib: <a href="https://github.com/appcelerator/windowslib/pull/48" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/pull/48</a></li>
<li>Gary Mathews 2016-08-01

   *TEST CASE*
   1. Remove Visual Studio
   2. Detect devices <code>appc ti info</code>
   
   *Before Fix*
   - Detecting devices would fail with an error
   
   *After Fix*
   - Detecting devices should not throw an error</li>
<li>Ewan Harris 2016-08-24

   Verified using:
   
   Windows 10 Pro
   Appc CLI: 6.0.0-31
   Appc NPM: 4.2.8-5
   Ti SDK: 6.0.0.v20160823163945
   
   When VS is not installed, appc ti info now outputs Windows information and does not error on detecting devices.
   
   Closing ticket.</li>
<li>Ewan Harris 2016-09-01

   Reopening ticket:
   
   Windows 10 Pro 
   Appc CLI: 6.0.0-36
   Appc NPM: 4.2.8-6 
   Ti SDK: 6.0.0.v20160901004900
   Lumia 930 10.0
   
   With only Windows 10 tooling installed I am unable to build to device. I have traced the issue back to an error being thrown [here](<a href="https://github.com/appcelerator/windowslib/blob/master/lib/wptool.js#L233)." rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/blob/master/lib/wptool.js#L233).</a> As an error is being thrown the [device is not returned](<a href="https://github.com/appcelerator/windowslib/blob/master/lib/device.js#L56)" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/blob/master/lib/device.js#L56)</a> so devices [here](<a href="https://github.com/appcelerator/windowslib/blob/master/lib/device.js#L140)" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/blob/master/lib/device.js#L140)</a> is empty and the build process will error out with <code>\[ERROR\] Unable to find a Windows Phone device with the UDID "00000015-4e57-1877-0000-000000000000"</code>
   </li>
<li>Kota Iguchi 2016-09-28

   [~eharris] Can <code>ti info \-p windows \-o json</code> detect devices for you? Is there any difference between <code>ti info \-p windows \-o json</code> and <code>appc ti info \-p windows \-o json</code>? Do you see same error when you specify <code>--wpsdk 10.0</code>? I have experienced similar issue too that happens intermittently and it's not frequent.</li>
<li>Ewan Harris 2016-09-29

   [~kota] I've tried to reproduce this again today but for the life of me could not
   
   To answer your questions currently:
   
   * Device is detected with no issues, no difference between appc ti and ti
   * I see no difference between building with and without <code>--wp-sdk 10.0</code>
   * I've also seen this error intermittently before but this time was different, usually it goes after one build, however this stuck with me for hours. Additionally, when I reopened this ticket the error would happen before it begins installing the app to device, when I've seen this before it happens during the checks that take place during/before the build.
   
   To answer (what I can) from your questions for when I reopened this ticket
   
   * Device was detected with no issues in appc ti info, not sure of any difference between appc ti and ti
   * I did try with <code>--wp-sdk 10.0</code> but from what I remember there was no difference
   </li>
<li>Kota Iguchi 2016-09-29

    Thanks [~eharris]. I have experienced very similar issue too. It happens intermittently, and the place where the error raises tends to change for each build. Sometimes it's before the build, and sometimes it happens just before the installation. I strongly suspect Windows deployment tool fails to connect or it crashes/freezes during the build. I discussed with Kiat and EricM about this and we might want to remove the <code>6.0.0</code> label for now and keep following this up for later release.</li>
<li>Kota Iguchi 2016-10-06

    sounds good to me (y)</li>
</ol>


<p><a href="/TIMOB/TIMOB-23484.json">JSON Source</a></p>