---
title: "[TIMOB-23508] iOS: Use native NSData base64 encode API to replace our current methods"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2016-07-31T15:15:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Angel Petkov</td></tr>
<tr><th>Assignee</th><td>Angel Petkov</td></tr>
<tr><th>Created</th><td>2016-06-13T22:43:34.000+0000</td></tr>
<tr><th>Updated</th><td>2016-07-31T15:15:31.000+0000</td></tr>
</table>

<h3>Description</h3>

Replacing our base64encode/decode methods with a more versatile methods, using [base64EncodedDataWithOptions](<a href="https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSData_Class/#//apple_ref/occ/instm/NSData/base64EncodedDataWithOptions:)." rel="nofollow" target="_blank">https://developer.apple.com/library/ios/documentation/Cocoa/Reference/Foundation/Classes/NSData_Class/#//apple_ref/occ/instm/NSData/base64EncodedDataWithOptions:).</a> 

Demo Code:
<code><pre>

    var win = Ti.UI.createWindow({backgroundColor:'white'});

    var longString  = 'ABCDEFGHIJ1234567890ABCDEFGHIJ12|psndemo2|abcd:12345678901234567890';
    var tiBase64ShortResult = Ti.Utils.base64encode(longString,Ti.Utils.ENCODE_TYPE_CR);

 
    var tiBase64ShortResult = String(tiBase64ShortResult);
    var decodededString = Ti.Utils.base64decode(tiBase64ShortResult);

    var alertDialog = Titanium.UI.createAlertDialog(
    {
        title: 'Result', 
        message: 'short: ' + tiBase64ShortResult, buttonNames: ['OK','Cancel'] 
    });
    alertDialog.show();

    if (decodededString == longString) {
        Ti.API.info("Match!");
    }

    win.open();
</pre></code>

*Expected Result*
* The encoded string inside the alert should have Carriage Return
* "Match!" should be logged to confirm the decoded string matches the original

<h3>Comments</h3>

<ol>
<li>Angel Petkov 2016-06-13

   PR:<a href="https://github.com/appcelerator/titanium_mobile/pull/8058" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8058</a></li>
<li>Hans Kn√∂chel 2016-07-31

   </li>
</ol>


<p><a href="/TIMOB/TIMOB-23508.json">JSON Source</a></p>