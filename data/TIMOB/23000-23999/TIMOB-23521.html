---
title: "[TIMOB-23521] Ti.Facebook - presentShareDialog does not open native app, only webview"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-09-11T16:56:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Android, iOS</td></tr>
<tr><th>Labels</th><td>ti.facebook</td></tr>
<tr><th>Reporter</th><td>Be Rushton</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2016-06-06T07:55:02.000+0000</td></tr>
<tr><th>Updated</th><td>2016-09-16T22:02:48.000+0000</td></tr>
</table>

<h3>Description</h3>

The facebook module does not open the native share dialog, it only opens the web version in a webview.

It should open the sharesheet ie. <a href="https://developers.facebook.com/docs/sharing/ios" rel="nofollow" target="_blank">https://developers.facebook.com/docs/sharing/ios</a>

Code to reproduce is standard boilerplate from the docs:
fb.presentShareDialog({
        link: '<a href="https://appcelerator.com/" rel="nofollow" target="_blank">https://appcelerator.com/</a>',
        title: 'great product',
        description: 'Titanium is a great product',                    
        picture: '<a href="http://www.appcelerator.com/wp-content/uploads/scale_triangle1.png" rel="nofollow" target="_blank">http://www.appcelerator.com/wp-content/uploads/scale_triangle1.png</a>'
    });

<h3>Comments</h3>

<ol>
<li>Nazmus Salahin 2016-06-06

   Hello,
   
   Thanks for reporting. Native share dialog will not be opened if <code>Facebook</code> app is not installed in the device. So, please make sure that <code>Facebook</code> app is installed in the device and let us know.
   
   Thanks in advance</li>
<li>Be Rushton 2016-06-06

   Doesn't matter if native app is installed or not. </li>
<li>Be Rushton 2016-06-06

   Facebook changed the way a lot of their code worked when iOS 9 came out last year. Older versions of the module still open the native app but things changed in the newer Facebook sdk </li>
<li>Hans Knöchel 2016-07-18

   Similar to the login-process, the native Facebook SDK on iOS 9+ decides internally which behavior to use. Since the app-switching in iOS9+ requires the user to confirm the switch, they (currently) prefer opening the safari-dialog for those operations. We follow their best-practices, so if you see it as an issue, please follow-up with Facebook. Thanks!</li>
<li>Be Rushton 2016-07-18

   Could you give us the option please?  Not everyone agrees with the current behaviour.  It was available previously and we need to maintain the currently functionality of existing applications.</li>
<li>Hans Knöchel 2016-07-18

   As said before, we cannot change Facebook's internal decisions and behavior. I am not sure how I can help you while being restricted by the Facebook SDK.</li>
<li>Be Rushton 2016-07-18

   Yeah I can see where you are coming from.  There does seem to be some ways around it though like this one <a href="http://stackoverflow.com/a/35732372/568754." rel="nofollow" target="_blank">http://stackoverflow.com/a/35732372/568754.</a>  There is plenty of people that disagree with the change.
   
   If these workarounds aren't an option is there a way to use an older Facebook SDK?  Will the old ti.facebook versions work or has there been too many bug fixes to get them working on Ti 5.3.1.GA and above?</li>
<li>Hans Knöchel 2016-07-18

   UPDATE: Actually, I found a way to configure the dialog. There is a property <code>mode</code> that we could possibly set. I wrapped up a PR here which I'd like you to test:
   
   PR: <a href="https://github.com/appcelerator-modules/ti.facebook/pull/58" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.facebook/pull/58</a>
   Release (iOS): <a href="https://github.com/appcelerator-modules/ti.facebook/releases/tag/ios-5.2.1" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.facebook/releases/tag/ios-5.2.1</a>
   Release (Android): <a href="https://github.com/appcelerator-modules/ti.facebook/releases/tag/android-6.0.1" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.facebook/releases/tag/android-6.0.1</a>
   
   Demo:
   <code><pre>
   var fb = require("ti.facebook");
   fb.initialize();
   fb. presentShareDialog({
       title: "Appc rocks!"
       link: "<a href="http://appcelerator.com" rel="nofollow" target="_blank">http://appcelerator.com</a>",
       mode: fb.SHARE_DIALOG_MODE_AUTOMATIC
   });
   </pre></code></li>
<li>Hans Knöchel 2016-08-01

   PR's merged, titanium_mobile updated.</li>
<li>Lokesh Choudhary 2016-09-02

    Verified the fix.
    
    The <code>mode</code> property works fine on android.
    
    Environment:
    Appc Studio : 4.8.0.201608221113
    Ti SDK :  6.0.0.v20160901034311
    Ti CLI : 5.0.9
    Alloy : 1.9.1
    MAC El Capitan : 10.11.6
    Appc NPM : 4.2.7
    Appc CLI : 6.0.0-31
    Node: 4.4.4
    Nexus 6 - Android 6.0.1
    Facebook Module : 6.0.1
    
    On iOS:
    When I run with facebook iOS module 5.2.1, build fails with:
    <code><pre>
    [TRACE] :  ld: warning: directory not found for option '-F/Users/lchoudhary/Desktop/workspaces/new_test_workspace/test_proj/build/iphone/../../modules/iphone/facebook/5.3.0/platform'
    [TRACE] :  ld: warning: directory not found for option '-F/Users/lchoudhary/Library/Application Support/Titanium/modules/iphone/facebook/5.3.0/platform'
    [TRACE] :  ld: warning: directory not found for option '-F/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS9.3.sdk/System/Library/PrivateFrameworks/'
    [TRACE] :  ld: warning: directory not found for option '-F/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS9.3.sdk/System/Library/PrivateFrameworks/'
    [TRACE] :  ld: framework not found FBSDKCoreKit
    [TRACE] :  clang: error: linker command failed with exit code 1 (use -v to see invocation)
    [ERROR] :  ** BUILD FAILED **
    [ERROR] :  The following build commands failed:
    [ERROR] :  	Ld build/Intermediates/test_proj.build/Debug-iphoneos/test_proj.build/Objects-normal/arm64/test_proj normal arm64
    [ERROR] :  (1 failure)
    </pre></code>
    
    IOS facebook modules 5.2.2 & higher do not seem to have this issue & the <code>mode</code> property seems to work fine.
    
    Reopening as the fix is in 5.2.1 facebook module.
    
    Using:
    Xcode: 7.3.1
    Iphone 6 - 9.3.5
    IOS facebook module : 5.2.1
    Appc Studio : 4.8.0.201608221113
    Ti SDK :  6.0.0.v20160901034311
    Appc CLI : 6.0.0-31
    </li>
<li>Hans Knöchel 2016-09-02

    Thanks Lokesh! I would highly suggest to use MOD-2280 for 6.0.0 which not only includes an important fix but should also fix the above problem. [~cng] to discuss. Otherwise, I will backport it manually.</li>
<li>Lokesh Choudhary 2016-09-02

    [~hansknoechel], facebook module 5.2.3 & 5.2.4 for IOS works fine. 
    You can resolve the ticket after your discussion with [~cng].</li>
<li>Chee Kiat Ng 2016-09-05

    </li>
<li>Lokesh Choudhary 2016-09-16

    Verified the fix for IOS with 5.2.6 facebook module. 
    
    Closing.
    
    Environment:
    Appc Studio : 4.8.0.201609061702
    Ti SDK :  6.0.0.v20160915125929
    Ti CLI : 5.0.9
    Alloy : 1.9.1
    MAC El Capitan : 10.11.6
    Appc NPM : 4.2.8-6
    Appc CLI : 6.0.0-44
    Node: 4.4.4
    Nexus 6 - Android 6.0.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-23521.json">JSON Source</a></p>