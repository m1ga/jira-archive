---
title: "[TIMOB-23527] iOS10: Support the UserNotifications framework"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-05-23T08:18:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>demo_app, ios10</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2016-06-14T23:50:40.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:57:27.000+0000</td></tr>
</table>

<h3>Description</h3>

iOS 10 offers a way to setup interactive notifications by using the <code>UserNotifications</code> framework. We can configure notifications (<code>UNNotification</code>), define notification actions (<code>UNNotificationAction</code>), create notification content (<code>UNNotificationContent</code>), add an attachment to a notification (<code>UNNotificationAttachment</code>) and group them into categories (<code>UNNotificationCategory</code>). 

In addition, we can also trigger notifications (<code>UNNotificationTrigger</code>) and manage notifications in the notification center (<code>UNUserNotificationCenter</code>).

While some of it could be migrated to the existing ones, we should think about a new interface that manages those notifications properly.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23527_64985/local_notifications.js">local_notifications.js</td></td><td>2018-03-23T02:05:42.000+0000</td><td>3739</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23527_64988/remote_notifications.js">remote_notifications.js</td></td><td>2018-03-23T04:06:34.000+0000</td><td>3910</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23527_64987/silent_push.js">silent_push.js</td></td><td>2018-03-23T03:31:26.000+0000</td><td>2319</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-06-20

   Ok, current status: I am trying to map the new API's to our existing API's as good as possible. That means, the <code>Ti.App.iOS.scheduleLocalNotification</code> will be the same as before, but calls the iOS 10 API's when using iOS 10. In addition, the <code>Ti.App.iOS.NotificationCategory</code> will use <code>UNNotificationCategory</code> and it's notification actions defined in <code>Ti.App.iOS.NotificationAction</code> will use <code>UNNotificationAction</code>.
   
   In addition to that, I would like to introduce the new <code>Ti.App.iOS.NotificationCenter</code> namespace, that could be used to schedule notification in both iOS < 10 and iOS 10, but also to control scheduled notifications etc. in iOS 10, since it exposes great utilities for that. 
   
   Feedback greatly appreciated. A work-in-progress PR will come later today.</li>
<li>Hans Knöchel 2016-07-18

   PR (work in progress): <a href="https://github.com/appcelerator/titanium_mobile/pull/8078" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8078</a>
   
   I am trying to migrate everything that is available in iOS < 10. I am rewriting the whole notifications for iOS 10 and later having the same API-interface. In addition, certain properties like <code>subtitle</code> and <code>attachments</code> are integrated in existing API's for iOS 10. Some new features coming with the <code>UNUserNotificationCenter</code> will be integrated on the <code>Ti.App.iOS</code> namespace for now. Maybe we should consider introducing a <code>Ti.App.iOS.NotificationCenter</code> to make the public interface more structured and keep the internal code-base clean.
   
   //cc [~bgrantges@appcelerator.com] [~cng] [~ingo]
   
   *EDIT*: The plan is to finish the implementation by end of the week, add the docs until next Tuesday and keep it reviewed until next Friday. That should match the 6.0 code-freeze pretty good. But be aware that I currently use iOS 10 Beta 2, so there might be native interface changes that need to be validated before GA. I guess thats fine.</li>
<li>Chee Kiat Ng 2016-07-19

   That's fine. I'm all for introducing a <code>Ti.App.iOS.NotificationCenter</code> even though i rather prefer a parity API but, at this point we can consider parity at a later stage.</li>
<li>Hans Knöchel 2016-07-27

   Moving to 6.1.0, since the changes need way more testing then we have left for 6.0.0. Since we will be able to support both the old and the new notifications, that will be the proper way to go. The core-implementation is finished and parity-adjustments will be done over the next weeks.</li>
<li>Hans Knöchel 2016-09-28

   Attached the first test-cases. One biggy is missing, the silent-push-notifications. I will setup a test-case and server-environment for that one as well. 
   
   What we need to properly test this:
   - iOS 9 and 10 device
   - Titanium SDK 5.4.0.GA and Titanium master (once merged)
   - Real apps to test with (any cooperating partners / customers?)
   - A matrix of the results ([~htbryant] is good in those)
   
   I will submit the PR to review next in early October, after all my internal tests have succeeded. </li>
<li>Tobias Høegh 2017-02-10

   Hans Knøchel, You asked for real app cooperating to test with.  I could contribute with "real apps" testing. My app is this one: <a href="http://MoogliApp.com" rel="nofollow" target="_blank">http://MoogliApp.com</a></li>
<li>Hans Knöchel 2017-03-12

   Hey Tobias, thanks for that! As we want to move forward with 6.1.0 over the next weeks, I've put it out of 6.1.0 for now, since it requires major testing, so we won't break any push-related apps. Anyway, I would still love to give you a build if you want, so we can work on your specific test-cases together. Feel free to send me an email with further infos, thx!</li>
<li>Hans Knöchel 2018-05-14

   [~vijaysingh] Ready for review!</li>
<li>Hans Knöchel 2018-05-23

   Hey everyone! The pull request just landed in the core on master. Try it out today to ensure your specific use-cases are still working as before and make use of the new features like notification attachments! Install: <code>appc ti sdk install -b master</code>. Thanks!</li>
<li>Eric Merriman  2018-08-06

    Cleaning up older fixed tickets from 2016 and earlier. If this ticket should not have been closed, please reopen it.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23527.json">JSON Source</a></p>