---
title: "[TIMOB-23533] If you have LiveView enabled, then you cannot registerForPushNotifications on iOS"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2017-04-21T04:07:08.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 4.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Backlog</td></tr>
<tr><th>Components</th><td>iOS, LiveView</td></tr>
<tr><th>Labels</th><td>qe-4.0.0, user_experience</td></tr>
<tr><th>Reporter</th><td>Wilson Luu</td></tr>
<tr><th>Assignee</th><td>Eric Wieber</td></tr>
<tr><th>Created</th><td>2015-05-08T22:50:05.000+0000</td></tr>
<tr><th>Updated</th><td>2017-04-23T21:46:01.000+0000</td></tr>
</table>

<h3>Description</h3>

*Details:* If you have LiveView enabled, then you cannot registerForPushNotifications on iOS.

*Note:* To workaround this issue, turn off LiveView. 

*Steps to reproduce:*
<h4>Make sure you have a valid provisioning profile for iOS push </h4>
<h4>Create a Titanium app with services enabled</h4>
<h4>On platform.appcelerator.com, make sure to setup iOS push</h4>
<h4>Next, download, unzip, and copy contents of Archive.zip into Titanium Resources directory</h4>
<h4>Enable LiveView</h4>
<h4>Install app to device</h4>
<h4>Once the app is launched, go to *Push Notifications > Settings for This Device*</h4>
<h4>Click the *Disabled* button to *Enable* push notification</h4>

*Actual:* Device token is not retrieved i.e. <code>Ti.Network.registerForPushNotifications</code> is not registering the <code>success</code> callback; go to <code>Resources/windows/pushNotifications/pushManager.js</code> and see line 76.

*Expected:* Device token should be retrieved from ACS; see attachment.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23533_55304/Archive.zip">Archive.zip</td></td><td>2015-05-08T22:47:09.000+0000</td><td>8752</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23533_55305/Screen Shot 2015-05-08 at 3.35.26 PM.png">Screen Shot 2015-05-08 at 3.35.26 PM.png</td></td><td>2015-05-08T22:46:58.000+0000</td><td>150059</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Bert Grantges 2015-05-08

   If for whatever reason this is not fixable - we should provide some messaging to the developer if at all possible that they are trying to register push notifications with liveView enabled and there is a known conflict.</li>
<li>Vijay Singh 2017-04-07

   Simple Use case :
   
   
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: '#fff'
   });
   win.open();
   Ti.App.iOS.addEventListener('usernotificationsettings', e = function(v) {
                   
       console.log("In usernotificationsettings: " + JSON.stringify(v));
       
       Ti.App.iOS.removeEventListener('usernotificationsettings', e);
       Ti.Network.registerForPushNotifications({
           success: onSuccess,
           error: deviceTokenError,
           callback: receivePush
       });
   });
    
   Ti.App.iOS.registerUserNotificationSettings({
       types: [
           Ti.App.iOS.USER_NOTIFICATION_TYPE_ALERT,
           Ti.App.iOS.USER_NOTIFICATION_TYPE_SOUND,
           Ti.App.iOS.USER_NOTIFICATION_TYPE_BADGE
       ]
   });
    
   var onSuccess = function(e) {
               
       Ti.API.info("TOKEN: " + e.deviceToken);
       alert('Device token is retrieved: ' + e.deviceToken);
       
       // do stuff
   };
    
   var receivePush = function(e) {
       Ti.API.info('Received push: ' + JSON.stringify(e));
   };
    
   var deviceTokenError = function(e) {
       Ti.API.info('Failed to register for push notifications! ' + e.error);
   };
   </pre></code></li>
<li>Vijay Singh 2017-04-07

   I verified on 6.1.0 and 6.2.0 , it is working fine. It is not working before 6.1.0.
   [~ewieber] Can you please verify and close  it.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23533.json">JSON Source</a></p>