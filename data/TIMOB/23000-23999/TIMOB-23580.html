---
title: "[TIMOB-23580] Module crashes when upgrading from 5.1.x to 5.2.x"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-07-14T16:41:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 5.2.2</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, mobile, module</td></tr>
<tr><th>Reporter</th><td>Ryan Gartin</td></tr>
<tr><th>Assignee</th><td>Angel Petkov</td></tr>
<tr><th>Created</th><td>2016-06-30T16:04:31.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-17T17:54:03.000+0000</td></tr>
</table>

<h3>Description</h3>

I have a private iOS module, available on request. The module crashes on SDK > 5.2.x. 

iOS only, Android module working fine. Related to Geolocation possibly.

Don't forget to request permissions in tiapp.xml.

1) Running in 5.1.1.GA you should see a blue dot on the device location.
2) Running 5.2.x app will crash immediately on (mapview.addLocationLayer()).

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23580_59687/app.js">app.js</td></td><td>2016-06-30T16:03:05.000+0000</td><td>1614</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23580_59688/NQTEST_2016-06-29-155944_iMacs-iMac.crash">NQTEST_2016-06-29-155944_iMacs-iMac.crash</td></td><td>2016-06-30T16:02:28.000+0000</td><td>101987</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-07-02

   If the module is private, please contact the vendor developer, since he should know what's causing the issue in the source. We can only give support on something that we actually wrote :-).</li>
<li>Ryan Gartin 2016-07-03

   @hans I spoke with Angel about this, provided him the module and showed him what was happening. Since the error only breaks when upgrading from 5.1+ to 5.2+ wouldn't that mean it's a titanium issue? Let me know if you need the source too. I'm the module developer. :)</li>
<li>Hans Knöchel 2016-07-04

   The problem here is that we do not recommend to extend Core-API's with modules (rather than writing new core-modules), because interfaces will always change and that can always cause issues when acting as a dependency for 3rd-party modules. If he can help that's great anyway.</li>
<li>Ryan Gartin 2016-07-08

   Tested and working. I really appreciate the help.
   
   For the record (Google Searches): Module assets (eg. images) need to be placed in the iphone/*Resources* directory and not iphone/platform/iphone.</li>
<li>Lee Morris 2017-03-17

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23580.json">JSON Source</a></p>