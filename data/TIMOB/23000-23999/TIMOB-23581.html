---
title: "[TIMOB-23581] iOS: Schedule a Local Notification shows duplicate notification."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2016-08-08T16:23:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.3.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>iOS, schedulelocalnotification</td></tr>
<tr><th>Reporter</th><td>Motiur Rahman</td></tr>
<tr><th>Assignee</th><td>Angel Petkov</td></tr>
<tr><th>Created</th><td>2016-06-30T21:14:07.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-24T18:55:33.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>description</h4>

Schedule Local Notification shows duplicate Notification for iOS but it works as expected on android. 

<h4>Steps to reproduce</h4>
1. Create a new project.
2. Paste the code on app.js file
3. Mention the time after 5 or any minutes and then install the app on the device.
4. Beofre it reaches 5 minutes kill the app multiple times 
5. For Example: If I kill the app for 2 times, then it is displaying the notification two times.
6. But it should only one.

<h4>Test Code</h4>
<code><pre>
var win = Ti.UI.createWindow({

});

if (Ti.Platform.name == "iPhone OS" && parseInt(Ti.Platform.version.split(".")[0]) >= 8) {
	Ti.App.iOS.registerUserNotificationSettings({
		types : [Ti.App.iOS.USER_NOTIFICATION_TYPE_ALERT, Ti.App.iOS.USER_NOTIFICATION_TYPE_SOUND, Ti.App.iOS.USER_NOTIFICATION_TYPE_BADGE]
	});

	var notification = Ti.App.iOS.scheduleLocalNotification({
		// Alert will display 'slide to update' instead of 'slide to view'
		// or 'Update' instead of 'Open' in the alert dialog
		alertAction : "update",
		// Alert will display the following message
		alertBody : "New content available! Update now?",
		// The badge value in the icon will be changed to 1
		badge : 1,
		repeat : 'daily',
		// Alert will be sent in three seconds
		date : new Date(new Date().getTime() + 300000),
		// The following sound file will be played

	});
}

// Fired when the application receives an incoming local notification when it's in the foreground

Ti.App.iOS.addEventListener('notification', function(e) {

	// Reset the badge value
	if (e.badge > 0) {
		Ti.App.iOS.scheduleLocalNotification({
			date : new Date(new Date().getTime()),
			badge : -1
		});
	}
});

win.open();

</pre></code>
Thanks

<h3>Comments</h3>

<ol>
<li>Angel Petkov 2016-07-27

   So from what I'm understanding the issue is that you can get multiple calls if you close the app and re-open ? 
   
   If so then that's to be expected, once you open the app the notification is scheduled. If you keep closing and re-opening the app you will schedule multiple notifications. Also in your javascript code, you're scheduling a new notification every time you receive one. </li>
<li>Lee Morris 2017-03-24

   Closing ticket with reference to the previous comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23581.json">JSON Source</a></p>