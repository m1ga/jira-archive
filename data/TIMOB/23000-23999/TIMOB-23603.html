---
title: "[TIMOB-23603] Android: Recompile ti.paypal module against latest SDK"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-11-13T20:34:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Christopher Williams</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-07-01T14:58:31.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-14T22:00:53.000+0000</td></tr>
</table>

<h3>Description</h3>

ti.paypal: <a href="https://github.com/appcelerator-modules/ti.paypal" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.paypal</a>

Generally this requires some minor changes to each module:
- bump the module's version up to the next major (i.e. 2.3.1 -> 3.0.0)
- bump the module's apiversion to 3 (for Android)
- bump the minsdk to 6.0.0 (for Android)
At a higher level, we'll need to update our CI build scripts for modules to use the master branch SDK to build against, and Android NDK r11c.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23603_59729/ti.paypal-android-3.0.0.zip">ti.paypal-android-3.0.0.zip</td></td><td>2016-07-08T17:14:56.000+0000</td><td>463277</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Christopher Williams 2016-07-08

   <a href="https://github.com/appcelerator-modules/ti.paypal/pull/9" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.paypal/pull/9</a></li>
<li>Christopher Williams 2016-07-08

   Locally built against latest V8 (5.1.281.59) with NDK r11c.</li>
<li>Christopher Williams 2016-07-27

   <a href="https://github.com/appcelerator-modules/ti.paypal/releases/tag/android-3.0.0" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.paypal/releases/tag/android-3.0.0</a></li>
<li>Lokesh Choudhary 2016-08-30

   [~cwilliams], [~cng],
   When I run the sample in the module 3.0.0, I get the following error:
   <code><pre>
   [ERROR] :  TiApplication: (main) [41,456] Sending event: exception on thread: main msg:java.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol "_ZN8titanium12ProxyFactory17registerProxyPairEP7_jclassPN2v816FunctionTemplateEb" referenced by "/data/app/com.app.lokitest-1/lib/arm/libti.paypal.so"...; Titanium 6.0.0,2016/08/29 00:59,undefined
   [ERROR] :  TiApplication: java.lang.UnsatisfiedLinkError: dlopen failed: cannot locate symbol "_ZN8titanium12ProxyFactory17registerProxyPairEP7_jclassPN2v816FunctionTemplateEb" referenced by "/data/app/com.app.lokitest-1/lib/arm/libti.paypal.so"...
   [ERROR] :  TiApplication: 	at java.lang.Runtime.loadLibrary(Runtime.java:372)
   [ERROR] :  TiApplication: 	at java.lang.System.loadLibrary(System.java:1076)
   [ERROR] :  TiApplication: 	at org.appcelerator.kroll.runtime.v8.V8Runtime.loadExternalModules(V8Runtime.java:151)
   [ERROR] :  TiApplication: 	at org.appcelerator.kroll.runtime.v8.V8Runtime.initRuntime(V8Runtime.java:118)
   [ERROR] :  TiApplication: 	at org.appcelerator.kroll.KrollRuntime.doInit(KrollRuntime.java:205)
   [ERROR] :  TiApplication: 	at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:114)
   [ERROR] :  TiApplication: 	at org.appcelerator.kroll.KrollRuntime.init(KrollRuntime.java:136)
   [ERROR] :  TiApplication: 	at com.app.lokitest.Loki_testApplication.onCreate(Loki_testApplication.java:46)
   [ERROR] :  TiApplication: 	at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1013)
   [ERROR] :  TiApplication: 	at android.app.ActivityThread.handleBindApplication(ActivityThread.java:4707)
   [ERROR] :  TiApplication: 	at android.app.ActivityThread.-wrap1(ActivityThread.java)
   [ERROR] :  TiApplication: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1405)
   [ERROR] :  TiApplication: 	at android.os.Handler.dispatchMessage(Handler.java:102)
   [ERROR] :  TiApplication: 	at android.os.Looper.loop(Looper.java:148)
   [ERROR] :  TiApplication: 	at android.app.ActivityThread.main(ActivityThread.java:5417)
   [ERROR] :  TiApplication: 	at java.lang.reflect.Method.invoke(Native Method)
   [ERROR] :  TiApplication: 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)
   [ERROR] :  TiApplication: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)
   </pre></code>
   
   Environment:
   Appc Studio : 4.8.0.201608221113
   Ti SDK :  6.0.0.v20160829005859
   Ti CLI : 5.0.9
   Alloy : 1.9.1
   MAC El Capitan : 10.11.6
   Appc NPM : 4.2.7
   Appc CLI : 6.0.0-31
   Node: 4.4.4
   Nexus 6 - Android 6.0.1</li>
<li>Ashraf Abu 2016-08-30

   [~lchoudhary] Unable to reproduce. Could you check again? Are you using the correct version 3.0.0 ti.paypal in the tiapp.xml?</li>
<li>Lokesh Choudhary 2016-08-30

   [~msamah], I have this in my tiapp.xml:
   <code><pre>
       &lt;modules&gt;
           &lt;module platform="iphone" version="1.0"&gt;com.soasta.touchtest&lt;/module&gt;
           &lt;module platform="android" version="1.0"&gt;com.soasta.touchtest&lt;/module&gt;
           &lt;module platform="android" version="3.0.0"&gt;ti.paypal&lt;/module&gt;
           &lt;module platform="android"&gt;hyperloop&lt;/module&gt;
           &lt;module platform="iphone"&gt;hyperloop&lt;/module&gt;
           &lt;module platform="iphone"&gt;com.appcelerator.aca&lt;/module&gt;
           &lt;module platform="android"&gt;com.appcelerator.aca&lt;/module&gt;
       &lt;/modules&gt;
   </pre></code>
   
   Checked again. Still get the error.
   I just created a new app. 
   Copied the sample app inside the module to my project.
   Added the ti.paypal module 3.0.0 & built it for device.</li>
<li>Gary Mathews 2016-11-11

   [~lchoudhary] I can't reproduce the issue either. Could you re-test using the latest SDK?</li>
<li>Lokesh Choudhary 2016-11-11

   [~gmathews], I checked it again and I was not able to reproduce either.</li>
<li>Gary Mathews 2016-11-13

   Resolving as Fixed.</li>
<li>Lokesh Choudhary 2016-11-14

    Ran the example example in the module & did not see any issues.
    
    Closing.
    
    Appc Studio : 4.8.0.201611121409
    SDK Version : 6.0.0.v20161113012326
    Mac OS Version : 10.11.6
    Xcode Version : Xcode 8.1 Build version 8B62
    Appc CLI AND Appc NPM : {"NPM":"4.2.8-9","CLI":"6.0.0-69"}
    Ti CLI : 5.0.10
    Alloy : 1.9.4
    Node : v4.6.0
    Nexus 5 running 6.0.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-23603.json">JSON Source</a></p>