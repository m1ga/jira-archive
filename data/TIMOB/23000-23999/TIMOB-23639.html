---
title: "[TIMOB-23639] Windows: Updating a tableviewsection with the index of a deleted tableviewsection adds the deleted tableviewsection back"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-07-18T01:23:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>qe-5.4.0</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-07-14T17:15:25.000+0000</td></tr>
<tr><th>Updated</th><td>2016-09-06T14:48:45.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When calling updateSection for a tableviewsection with the index number that once referenced a deleted section, it appears that the deleted section is updated and readded to the tableview.

The code below does the following:

<h4>Create a tableview with two sections</h4>
<h4>When the window opens, delete the section at index 1 and append a new section</h4>
<h4>When a tableviewrow is clicked, update the section at index</h4>

On Android and iOS this code works as expected, with the title of the 2 section being updated

<code><pre>
var win = Ti.UI.createWindow();

var sectionFruit = Ti.UI.createTableViewSection({ 
	headerTitle: 'Fruit'
});
sectionFruit.add(Ti.UI.createTableViewRow({ title: 'Apples' }));
sectionFruit.add(Ti.UI.createTableViewRow({ title: 'Bananas' }));

var testSection = Ti.UI.createTableViewSection({ 
	headerTitle: 'Test'
});

var table = Ti.UI.createTableView({
	data: [sectionFruit, testSection]
});

win.addEventListener('open', function() {
	table.deleteSection(1);
	table.appendSection(createSection('newSection'));
	var sections = table.sections;
	for(var i = 0; i &lt; sections.length; i++) {
		console.log(sections[i].headerTitle);
	}
});

table.addEventListener('click', function() {
	table.updateSection(1, createSection('updateSection'));
	var sections2 = table.sections;
	console.log(table.sections.length);
	for(var i = 0; i &lt; sections2.length; i++){
		console.log(sections2[i].headerTitle);
	}
});

function createSection(title){
	return section = Ti.UI.createTableViewSection({ headerTitle: title});
}

win.add(table);
win.open();
</pre></code>

<h4>Steps to reproduce</h4>

1. Using the code above, build for Windows Platform using <code>appc run -p windows -T wp-emulator</code>
2. Tap one of the rows in the first section

<h4>Actual result</h4>

There are now 3 sections Fruit, updateSection and newSection

<h4>Expected result</h4>

There should only be 2 sections Fruit and updateSection 

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2016-07-15

   </li>
<li>Ewan Harris 2016-09-06

   Verified using:
   
   OS: Microsoft Windows 10 Pro 10.0.14393
   Appc core: 6.0.0-38
   Appc NPM: 4.2.8-6
   Ti SDK: 6.0.0.v20160904203840
   Lumia 930: 10.0
   
   Demo code in the description now works as expected
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-23639.json">JSON Source</a></p>