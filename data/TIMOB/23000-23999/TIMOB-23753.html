---
title: "[TIMOB-23753] Android: Crash when adding Ti.Network event listener"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-08-17T13:53:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Martin Guillon</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2016-08-10T13:23:27.000+0000</td></tr>
<tr><th>Updated</th><td>2016-08-24T00:23:37.000+0000</td></tr>
</table>

<h3>Description</h3>

This snippet of code:
<code><pre>
Ti.Network.addEventListener('change', function() {
      console.log('test');
  })
</pre></code>

Will result in a hard crash:
<code><pre>
08-10 07:41:49.296: I/DEBUG(85): *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
08-10 07:41:49.296: I/DEBUG(85): Build fingerprint: 'generic/vbox86p/vbox86p:5.1/LMY47D/buildbot11172007:userdebug/test-keys'
08-10 07:41:49.296: I/DEBUG(85): Revision: '0'
08-10 07:41:49.296: I/DEBUG(85): ABI: 'x86'
08-10 07:41:49.296: I/DEBUG(85): pid: 3345, tid: 3364, name: KrollRuntimeThr  &gt;&gt;&gt; com.appcelerator.sample.ti520 &lt;&lt;&lt;
08-10 07:41:49.296: I/DEBUG(85): signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x8549c081
08-10 07:41:49.300: I/DEBUG(85):     eax 8549c081  ebx e2681d60  ecx dc8dc81d  edx dc8dc81d
08-10 07:41:49.300: I/DEBUG(85):     esi 39948671  edi 00000000
08-10 07:41:49.300: I/DEBUG(85):     xcs 00000023  xds 0000002b  xes 0000002b  xfs 0000006f  xss 0000002b
08-10 07:41:49.300: I/DEBUG(85):     eip e1fb1f14  ebp e28ce148  esp e28cdec0  flags 00210296
08-10 07:41:49.300: I/DEBUG(85): backtrace:
08-10 07:41:49.300: I/DEBUG(85):     #00 pc 007d4f14  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (v8::internal::GlobalHandles::MakeWeak(v8::internal::Object**, void*, void (*)(v8::WeakCallbackData&lt;v8::Value, void&gt; const&))+20)
08-10 07:41:49.300: I/DEBUG(85):     #01 pc 004b0c3b  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (v8::V8::MakeWeak(v8::internal::Object**, void*, void (*)(v8::WeakCallbackData&lt;v8::Value, void&gt; const&))+43)
08-10 07:41:49.300: I/DEBUG(85):     #02 pc 002badf8  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (titanium::JavaObject::getJavaObject()+88)
08-10 07:41:49.300: I/DEBUG(85):     #03 pc 002bfb6e  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (titanium::Proxy::hasListenersForEventType(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)+174)
08-10 07:41:49.300: I/DEBUG(85):     #04 pc 004e10b4  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&))+148)
08-10 07:41:49.300: I/DEBUG(85):     #05 pc 0053fedb  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so
08-10 07:41:49.300: I/DEBUG(85):     #06 pc 005406ec  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so
08-10 07:41:49.300: I/DEBUG(85):     #07 pc 0000007d  &lt;unknown&gt;
08-10 07:41:49.300: I/DEBUG(85):     #08 pc 000a2ae2  &lt;unknown&gt;
08-10 07:41:49.300: I/DEBUG(85):     #09 pc 000138f5  &lt;unknown&gt;
08-10 07:41:49.300: I/DEBUG(85):     #10 pc 0006a0cf  &lt;unknown&gt;
08-10 07:41:49.300: I/DEBUG(85):     #11 pc 000138f5  &lt;unknown&gt;
08-10 07:41:49.300: I/DEBUG(85):     #12 pc 0006a338  &lt;unknown&gt;
08-10 07:41:49.301: I/DEBUG(85):     #13 pc 0001533d  &lt;unknown&gt;
08-10 07:41:49.301: I/DEBUG(85):     #14 pc 000112a2  &lt;unknown&gt;
08-10 07:41:49.301: I/DEBUG(85):     #15 pc 007a25fc  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so
08-10 07:41:49.301: I/DEBUG(85):     #16 pc 007a2908  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (v8::internal::Execution::Call(v8::internal::Isolate*, v8::internal::Handle&lt;v8::internal::Object&gt;, v8::internal::Handle&lt;v8::internal::Object&gt;, int, v8::internal::Handle&lt;v8::internal::Object&gt;*)+120)
08-10 07:41:49.301: I/DEBUG(85):     #17 pc 004d8ace  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (v8::Script::Run(v8::Local&lt;v8::Context&gt;)+382)
08-10 07:41:49.301: I/DEBUG(85):     #18 pc 004d8dd9  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (v8::Script::Run()+73)
08-10 07:41:49.301: I/DEBUG(85):     #19 pc 002cfa76  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (void titanium::WrappedScript::EvalMachine&lt;(titanium::WrappedScript::EvalInputFlags)0, (titanium::WrappedScript::EvalContextFlags)0, (titanium::WrappedScript::EvalOutputFlags)0&gt;(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)+262)
08-10 07:41:49.301: I/DEBUG(85):     #20 pc 002cfbeb  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (titanium::WrappedScript::CompileRunInThisContext(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)+27)
08-10 07:41:49.301: I/DEBUG(85):     #21 pc 004e10b4  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&))+148)
08-10 07:41:49.301: I/DEBUG(85):     #22 pc 0053fedb  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so
08-10 07:41:49.301: I/DEBUG(85):     #23 pc 005406ec  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so
08-10 07:41:49.301: I/DEBUG(85):     #24 pc 0000007d  &lt;unknown&gt;
08-10 07:41:49.301: I/DEBUG(85):     #25 pc 00069ade  &lt;unknown&gt;
08-10 07:41:49.301: I/DEBUG(85):     #26 pc 00067792  &lt;unknown&gt;
08-10 07:41:49.301: I/DEBUG(85):     #27 pc 00065bf6  &lt;unknown&gt;
08-10 07:41:49.301: I/DEBUG(85):     #28 pc 0001533d  &lt;unknown&gt;
08-10 07:41:49.301: I/DEBUG(85):     #29 pc 000112a2  &lt;unknown&gt;
08-10 07:41:49.301: I/DEBUG(85):     #30 pc 007a25fc  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so
08-10 07:41:49.301: I/DEBUG(85):     #31 pc 007a2908  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (v8::internal::Execution::Call(v8::internal::Isolate*, v8::internal::Handle&lt;v8::internal::Object&gt;, v8::internal::Handle&lt;v8::internal::Object&gt;, int, v8::internal::Handle&lt;v8::internal::Object&gt;*)+120)
08-10 07:41:49.301: I/DEBUG(85):     #32 pc 004d6e63  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (v8::Function::Call(v8::Local&lt;v8::Context&gt;, v8::Local&lt;v8::Value&gt;, int, v8::Local&lt;v8::Value&gt;*)+323)
08-10 07:41:49.301: I/DEBUG(85):     #33 pc 002c9b15  /data/app/com.appcelerator.sample.ti520-2/lib/x86/libkroll-v8.so (Java_org_appcelerator_kroll_runtime_v8_V8Runtime_nativeRunModule+389)
08-10 07:41:49.301: I/DEBUG(85):     #34 pc 003f8e2b  /data/dalvik-cache/x86/data@app@com.appcelerator.sample.ti520-2@base.apk@classes.dex
08-10 07:41:49.336: I/DEBUG(85): Tombstone written to: /data/tombstones/tombstone_08
08-10 07:41:49.336: I/BootReceiver(667): Copying /data/tombstones/tombstone_08 to DropBox (SYSTEM_TOMBSTONE)
08-10 07:41:49.359: I/Zygote(383): Process 3345 exited due to signal (11)
</pre></code>

<h3>Comments</h3>

<ol>
<li>Christopher Williams 2016-08-10

   Looks like maybe this is caused by being unable to unwrap the JS object to the native proxy somehow. My best guess is that I'm using args.Holder() when I should be using args.This() ?
   
   Using debug libraries, I get the following crash:
   <code><pre>
   ********** Crash dump: **********
   Build fingerprint: 'Android/sdk_google_phone_x86_64/generic_x86_64:6.0/MASTER/2872745:userdebug/test-keys'
   pid: 2791, tid: 2791, name: dsg.sdfg  &gt;&gt;&gt; dsg.sdfg &lt;&lt;&lt;
   signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x854a8081
   Stack frame #00 pc 007ddcb4  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (v8::internal::GlobalHandles::MakeWeak(v8::internal::Object**, void*, void (*)(v8::WeakCallbackData&lt;v8::Value, void&gt; const&))+20): Routine void titanium::Proxy::inherit&lt;titanium::stream::BufferStreamProxy&gt;(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&) at /Users/cwilliams/repos/titanium_mobile/android/runtime/v8/src/native/Proxy.h:93
   Stack frame #01 pc 004b99db  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (v8::V8::MakeWeak(v8::internal::Object**, void*, void (*)(v8::WeakCallbackData&lt;v8::Value, void&gt; const&))+43): Routine ??
   ??:0
   Stack frame #02 pc 002ba628  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (titanium::JavaObject::getJavaObject()+88): Routine ??
   ??:0
   Stack frame #03 pc 002c0bce  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (titanium::Proxy::hasListenersForEventType(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)+174): Routine ??
   ??:0
   Stack frame #04 pc 004e9e54  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&))+148): Routine ??
   ??:0
   Stack frame #05 pc 00548c7b  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so: Routine ??
   ??:0
   Stack frame #06 pc 0054948c  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so: Routine ??
   ??:0
   Stack frame #07 pc 0000007d  &lt;unknown&gt;
   Stack frame #08 pc 0006ace2  &lt;unknown&gt;
   Stack frame #09 pc 000138f5  &lt;unknown&gt;
   Stack frame #10 pc 0006a83e  &lt;unknown&gt;
   Stack frame #11 pc 0001533d  &lt;unknown&gt;
   Stack frame #12 pc 000112a2  &lt;unknown&gt;
   Stack frame #13 pc 007ab39c  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so: Routine titanium::network::HTTPClientProxy::open(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&) at /Users/cwilliams/repos/titanium_mobile/android/runtime/v8/src/native/../../generated/ti.modules.titanium.network.HTTPClientProxy.cpp:2493
   Stack frame #14 pc 007ab6a8  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (v8::internal::Execution::Call(v8::internal::Isolate*, v8::internal::Handle&lt;v8::internal::Object&gt;, v8::internal::Handle&lt;v8::internal::Object&gt;, int, v8::internal::Handle&lt;v8::internal::Object&gt;*)+120): Routine titanium::network::HTTPClientProxy::getResponseText(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&) at /Users/cwilliams/repos/titanium_mobile/android/runtime/v8/src/native/../../generated/ti.modules.titanium.network.HTTPClientProxy.cpp:2540 (discriminator 2)
   Stack frame #15 pc 004e186e  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (v8::Script::Run(v8::Local&lt;v8::Context&gt;)+382): Routine ??
   ??:0
   Stack frame #16 pc 004e1b79  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (v8::Script::Run()+73): Routine ??
   ??:0
   Stack frame #17 pc 002d0af6  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (void titanium::WrappedScript::EvalMachine&lt;(titanium::WrappedScript::EvalInputFlags)0, (titanium::WrappedScript::EvalContextFlags)0, (titanium::WrappedScript::EvalOutputFlags)0&gt;(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)+262): Routine ??
   ??:0
   Stack frame #18 pc 002d0c6b  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (titanium::WrappedScript::CompileRunInThisContext(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)+27): Routine ??
   ??:0
   Stack frame #19 pc 004e9e54  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&))+148): Routine ??
   ??:0
   Stack frame #20 pc 00548c7b  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so: Routine ??
   ??:0
   Stack frame #21 pc 0054948c  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so: Routine ??
   ??:0
   Stack frame #22 pc 0000007d  &lt;unknown&gt;
   Stack frame #23 pc 0006a51e  &lt;unknown&gt;
   Stack frame #24 pc 000681d2  &lt;unknown&gt;
   Stack frame #25 pc 000666d6  &lt;unknown&gt;
   Stack frame #26 pc 0001533d  &lt;unknown&gt;
   Stack frame #27 pc 000112a2  &lt;unknown&gt;
   Stack frame #28 pc 007ab39c  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so: Routine titanium::network::HTTPClientProxy::open(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&) at /Users/cwilliams/repos/titanium_mobile/android/runtime/v8/src/native/../../generated/ti.modules.titanium.network.HTTPClientProxy.cpp:2493
   Stack frame #29 pc 007ab6a8  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (v8::internal::Execution::Call(v8::internal::Isolate*, v8::internal::Handle&lt;v8::internal::Object&gt;, v8::internal::Handle&lt;v8::internal::Object&gt;, int, v8::internal::Handle&lt;v8::internal::Object&gt;*)+120): Routine titanium::network::HTTPClientProxy::getResponseText(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&) at /Users/cwilliams/repos/titanium_mobile/android/runtime/v8/src/native/../../generated/ti.modules.titanium.network.HTTPClientProxy.cpp:2540 (discriminator 2)
   Stack frame #30 pc 004dfc03  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (v8::Function::Call(v8::Local&lt;v8::Context&gt;, v8::Local&lt;v8::Value&gt;, int, v8::Local&lt;v8::Value&gt;*)+323): Routine ??
   ??:0
   Stack frame #31 pc 002cab95  /data/app/dsg.sdfg-1/lib/x86/libkroll-v8.so (Java_org_appcelerator_kroll_runtime_v8_V8Runtime_nativeRunModule+389): Routine ??
   ??:0
   Stack frame #32 pc 007e6bf0  /data/app/dsg.sdfg-1/oat/x86/base.odex (offset 0x4f7000)
   Crash dump is completed
   
   ********** Crash dump: **********
   Build fingerprint: 'Android/sdk_google_phone_x86_64/generic_x86_64:6.0/MASTER/2872745:userdebug/test-keys'
   pid: 2994, tid: 2994, name: dsg.sdfg  &gt;&gt;&gt; dsg.sdfg &lt;&lt;&lt;
   signal 6 (SIGABRT), code -6 (SI_TKILL), fault addr --------
   Stack frame #00 pc 000840b6  /system/lib/libc.so (tgkill+22)
   Stack frame #01 pc 00082498  /system/lib/libc.so (pthread_kill+70)
   Stack frame #02 pc 000280a5  /system/lib/libc.so (raise+36)
   Stack frame #03 pc 0002187d  /system/lib/libc.so (abort+80)
   Stack frame #04 pc 000255e1  /system/lib/libc.so (__libc_fatal+32)
   Stack frame #05 pc 000219fc  /system/lib/libc.so (__assert2+60)
   Stack frame #06 pc 005e5302  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (titanium::Proxy* titanium::NativeObject::Unwrap&lt;titanium::Proxy&gt;(v8::Local&lt;v8::Object&gt;)+129): Routine titanium::Proxy* titanium::NativeObject::Unwrap&lt;titanium::Proxy&gt;(v8::Local&lt;v8::Object&gt;) at /Users/cwilliams/repos/titanium_mobile/android/runtime/v8/src/native/NativeObject.h:47 (discriminator 3)
   Stack frame #07 pc 005e3216  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (titanium::Proxy::hasListenersForEventType(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)+156): Routine titanium::Proxy::hasListenersForEventType(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&) at /Users/cwilliams/repos/titanium_mobile/android/runtime/v8/src/native/Proxy.cpp:249 (discriminator 1)
   Stack frame #08 pc 0096d436  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&))+154): Routine v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)) at /Users/cwilliams/repos/v8_titanium/v8/out/../src/api-arguments.cc:15 (discriminator 1)
   Stack frame #09 pc 00a13e6c  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so: Routine HandleApiCallHelper&lt;false&gt; at /Users/cwilliams/repos/v8_titanium/v8/out/../src/builtins.cc:4312
   Stack frame #10 pc 00a03d46  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so: Routine Builtin_Impl_HandleApiCall at /Users/cwilliams/repos/v8_titanium/v8/out/../src/builtins.cc:4330
   Stack frame #11 pc 00a03cce  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so: Routine Builtin_HandleApiCall at /Users/cwilliams/repos/v8_titanium/v8/out/../src/builtins.cc:4327 (discriminator 24)
   Stack frame #12 pc 0000007d  &lt;unknown&gt;
   Stack frame #13 pc 0006ada2  &lt;unknown&gt;
   Stack frame #14 pc 00013915  &lt;unknown&gt;
   Stack frame #15 pc 0006a8fe  &lt;unknown&gt;
   Stack frame #16 pc 0001535d  &lt;unknown&gt;
   Stack frame #17 pc 000112c2  &lt;unknown&gt;
   Stack frame #18 pc 00e29a63  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so: Routine Invoke at /Users/cwilliams/repos/v8_titanium/v8/out/../src/execution.cc:98
   Stack frame #19 pc 00e29e33  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (v8::internal::Execution::Call(v8::internal::Isolate*, v8::internal::Handle&lt;v8::internal::Object&gt;, v8::internal::Handle&lt;v8::internal::Object&gt;, int, v8::internal::Handle&lt;v8::internal::Object&gt;*)+735): Routine v8::internal::Execution::Call(v8::internal::Isolate*, v8::internal::Handle&lt;v8::internal::Object&gt;, v8::internal::Handle&lt;v8::internal::Object&gt;, int, v8::internal::Handle&lt;v8::internal::Object&gt;*) at /Users/cwilliams/repos/v8_titanium/v8/out/../src/execution.cc:154 (discriminator 3)
   Stack frame #20 pc 009317d5  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (v8::Script::Run(v8::Local&lt;v8::Context&gt;)+659): Routine v8::Script::Run(v8::Local&lt;v8::Context&gt;) at /Users/cwilliams/repos/v8_titanium/v8/out/../src/api.cc:1793 (discriminator 1)
   Stack frame #21 pc 0093192c  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (v8::Script::Run()+150): Routine v8::Script::Run() at /Users/cwilliams/repos/v8_titanium/v8/out/../src/api.cc:1805 (discriminator 1)
   Stack frame #22 pc 005fd28e  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (void titanium::WrappedScript::EvalMachine&lt;(titanium::WrappedScript::EvalInputFlags)0, (titanium::WrappedScript::EvalContextFlags)0, (titanium::WrappedScript::EvalOutputFlags)0&gt;(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)+2055): Routine v8::Local&lt;v8::Script&gt;::operator-&gt;() const at /Users/cwilliams/repos/titanium_mobile/dist/android/libv8/5.1.281.59/debug/include/v8.h:242
   Stack frame #23 pc 005f878d  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (titanium::WrappedScript::CompileRunInThisContext(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)+29): Routine titanium::WrappedScript::CompileRunInThisContext(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&) at /Users/cwilliams/repos/titanium_mobile/android/runtime/v8/src/native/modules/ScriptsModule.cpp:178
   Stack frame #24 pc 0096d436  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&))+154): Routine v8::internal::FunctionCallbackArguments::Call(void (*)(v8::FunctionCallbackInfo&lt;v8::Value&gt; const&)) at /Users/cwilliams/repos/v8_titanium/v8/out/../src/api-arguments.cc:15 (discriminator 1)
   Stack frame #25 pc 00a13e6c  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so: Routine HandleApiCallHelper&lt;false&gt; at /Users/cwilliams/repos/v8_titanium/v8/out/../src/builtins.cc:4312
   Stack frame #26 pc 00a03d46  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so: Routine Builtin_Impl_HandleApiCall at /Users/cwilliams/repos/v8_titanium/v8/out/../src/builtins.cc:4330
   Stack frame #27 pc 00a03cce  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so: Routine Builtin_HandleApiCall at /Users/cwilliams/repos/v8_titanium/v8/out/../src/builtins.cc:4327 (discriminator 24)
   Stack frame #28 pc 0000007d  &lt;unknown&gt;
   Stack frame #29 pc 0006a5de  &lt;unknown&gt;
   Stack frame #30 pc 00068292  &lt;unknown&gt;
   Stack frame #31 pc 00066796  &lt;unknown&gt;
   Stack frame #32 pc 0001535d  &lt;unknown&gt;
   Stack frame #33 pc 000112c2  &lt;unknown&gt;
   Stack frame #34 pc 00e29a63  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so: Routine Invoke at /Users/cwilliams/repos/v8_titanium/v8/out/../src/execution.cc:98
   Stack frame #35 pc 00e29e33  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (v8::internal::Execution::Call(v8::internal::Isolate*, v8::internal::Handle&lt;v8::internal::Object&gt;, v8::internal::Handle&lt;v8::internal::Object&gt;, int, v8::internal::Handle&lt;v8::internal::Object&gt;*)+735): Routine v8::internal::Execution::Call(v8::internal::Isolate*, v8::internal::Handle&lt;v8::internal::Object&gt;, v8::internal::Handle&lt;v8::internal::Object&gt;, int, v8::internal::Handle&lt;v8::internal::Object&gt;*) at /Users/cwilliams/repos/v8_titanium/v8/out/../src/execution.cc:154 (discriminator 3)
   Stack frame #36 pc 00942c88  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (v8::Function::Call(v8::Local&lt;v8::Context&gt;, v8::Local&lt;v8::Value&gt;, int, v8::Local&lt;v8::Value&gt;*)+612): Routine v8::Function::Call(v8::Local&lt;v8::Context&gt;, v8::Local&lt;v8::Value&gt;, int, v8::Local&lt;v8::Value&gt;*) at /Users/cwilliams/repos/v8_titanium/v8/out/../src/api.cc:4498 (discriminator 1)
   Stack frame #37 pc 005f216e  /data/app/dsg.sdfg-2/lib/x86/libkroll-v8.so (Java_org_appcelerator_kroll_runtime_v8_V8Runtime_nativeRunModule+1100): Routine Java_org_appcelerator_kroll_runtime_v8_V8Runtime_nativeRunModule at /Users/cwilliams/repos/titanium_mobile/android/runtime/v8/src/native/V8Runtime.cpp:273 (discriminator 5)
   Stack frame #38 pc 007e5ca0  /data/app/dsg.sdfg-2/oat/x86/base.odex (offset 0x4f6000)
   </pre></code></li>
<li>Christopher Williams 2016-08-10

   Thinking back, I had run into something similar to this for some method calls on proxies - the This/Holder object wasn't the object wrapping the proxy as we expected (likely due to some lazy instantiation/wrapping stuff we do around the proxies). In that scenario, I hacked it to basically search up the prototype chain of Holder to find the proxy we're looking for: <a href="https://github.com/appcelerator/titanium_mobile/pull/8041/files#diff-16204ab8e9743a30e6e6f874a876539eR227" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8041/files#diff-16204ab8e9743a30e6e6f874a876539eR227</a></li>
<li>Martin Guillon 2016-08-10

   You are talking about the Proxy::unwrap method? Already tried that and it still crashed</li>
<li>Christopher Williams 2016-08-10

   <a href="https://github.com/appcelerator/titanium_mobile/pull/8208" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8208</a></li>
<li>Lokesh Choudhary 2016-08-24

   Verified the fix.
   
   <code>Ti.Network</code> event listener does not cause a crash.
   Closing.
   
   Environment:
   Appc Studio : 4.7.1.201608190732
   Ti SDK :  6.0.0.v20160822133504
   Ti CLI : 5.0.9
   Alloy : 1.9.1
   MAC El Capitan : 10.11.6
   Appc NPM : 4.2.7
   Appc CLI : 6.0.0-26
   Node: 4.4.4
   Nexus 6 - Android 6.0.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-23753.json">JSON Source</a></p>