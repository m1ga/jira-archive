---
title: "[TIMOB-23754]  Fails when sending to a real device with android 6.0, in smaller devices runs smoothly"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Eduardo Olvera</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2016-07-01T15:46:35.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:54:46.000+0000</td></tr>
</table>

<h3>Description</h3>


Hello , I 'm developing a propitiation for ios and android but when I compile the application , do the test fails when a real device Motorola G with android 6.0 

Error:
[INFO] :   TiApplication: (main) [4,4] checkpoint, app created.
[INFO] :   TiApplication: (main) [110,114] Titanium 5.2.2 (2016/03/28 14:12 b685ddb)
[INFO] :   TiApplication: (main) [104,218] Titanium Javascript runtime: v8
[ERROR] :  linker: readlink('/proc/self/fd/19') failed: Permission denied [fd=19]
[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity create, savedInstanceState: null
[ERROR] :  linker: warning: unable to get realpath for the library "/data/app/com.bea.paypal-1/lib/arm/libstlport_shared.so". Will use given name.
[ERROR] :  linker: readlink('/proc/self/fd/19') failed: Permission denied [fd=19]
[ERROR] :  linker: warning: unable to get realpath for the library "/data/app/com.bea.paypal-1/lib/arm/libkroll-v8.so". Will use given name.
[WARN] :   TiTempFileHelper: (main) [27,27] The external temp directory doesn't exist, skipping cleanup
[WARN] :   V8Object: (KrollRuntimeThread) [230,257] Runtime disposed, cannot set property 'userAgent'
[ERROR] :  linker: readlink('/proc/self/fd/19') failed: Permission denied [fd=19]
[ERROR] :  linker: warning: unable to get realpath for the library "/data/app/com.bea.paypal-1/lib/arm/libti.paypal.so". Will use given name.
[ERROR] :  TiApplication: (KrollRuntimeThread) [65,322] Sending event: exception on thread: KrollRuntimeThread msg:java.lang.UnsatisfiedLinkError: dlopen failed: /data/app/com.bea.paypal-1/lib/arm/libti.paypal.so: has text relocations; Titanium 5.2.2,2016/03/28 14:12,b685ddb
[ERROR] :  TiApplication: java.lang.UnsatisfiedLinkError: dlopen failed: /data/app/com.bea.paypal-1/lib/arm/libti.paypal.so: has text relocations
[ERROR] :  TiApplication: 	at java.lang.Runtime.loadLibrary(Runtime.java:372)
[ERROR] :  TiApplication: 	at java.lang.System.loadLibrary(System.java:1076)
[ERROR] :  TiApplication: 	at org.appcelerator.kroll.runtime.v8.V8Runtime.loadExternalModules(V8Runtime.java:132)
[ERROR] :  TiApplication: 	at org.appcelerator.kroll.runtime.v8.V8Runtime.initRuntime(V8Runtime.java:99)
[ERROR] :  TiApplication: 	at org.appcelerator.kroll.KrollRuntime.doInit(KrollRuntime.java:205)
[ERROR] :  TiApplication: 	at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:114)
[TRACE] :  updating tiapp metadata with Appcelerator Platform...
[TRACE] :  Uploaded tiapp metadata with Appcelerator Platform!
[INFO] :   Process: Sending signal. PID: 9677 SIG: 9

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-07-01

   Hello, We need a sample test code to test the issue in Android 6 device. Please send a test code that reproduces the issue.</li>
<li>Eduardo Olvera 2016-07-01

   
   var Paypal = require('ti.paypal');
   
   var win = Ti.UI.createWindow({ 
   	backgroundColor:'white',
       title:'Billing'
   
   });
   var u = Ti.Android != undefined ?  'dp' : 0;
   
   var status = Ti.UI.createLabel({
       top: 50 + u, height: 45 + u, color: '#333',
       text: ''
   });
   win.add(status);
   
   var button;
   function addButtonToWindow() {
       if (button) {
           win.remove(button);
           button = null;
       }
       
       button = Paypal.createPaypalButton({
           // NOTE: height/width only determine the size of the view that the button is embedded in - the actual button size
           // is determined by the buttonStyle property!
           width: 194 + u, height: 37 + u,
           buttonStyle: Paypal.BUTTON_194x37, // The style & size of the button
           bottom: 50 + u,
   
           language: 'en_US',
           textStyle: Paypal.PAYPAL_TEXT_PAY, // Causes the button's text to change from "Pay" to "Donate"
   
           //appID: '<<<YOUR APP ID HERE>>>', // The appID issued by Paypal for your application; for testing, feel free to delete this property entirely.
           paypalEnvironment: Paypal.PAYPAL_ENV_NONE, // Sandbox, None or Live
   
           feePaidByReceiver: false,
           enableShipping: false, // Whether or not to select/send shipping information
   
           payment: { // The payment itself
               paymentType: Paypal.PAYMENT_TYPE_SERVICE, // The type of payment
               subtotal: 10, // The total cost of the order, excluding tax and shipping
               tax: 0,
               shipping: 0,
               currency: 'USD',
               recipient: 'kwhinn_1305817727_per@appcelerator.com',
               customID: 'AppMov',
               invoiceItems: [
                   { name: 'Full Fare', totalPrice: 1, itemPrice: 1, itemCount: 1 },
                   { name: 'Half Fare', totalPrice: 1, itemPrice: 0.5, itemCount: 1 }
               ],
               ipnUrl: '<a href="http://www.cityofdavenportiowa.com/" rel="nofollow" target="_blank">http://www.cityofdavenportiowa.com/</a>',
               merchantName: 'Pay',
               memo: 'iowa'
           }
       });
   
       // Events available
       button.addEventListener('paymentCancelled', function (e) {
           status.text = 'Payment Cancelled.';
           // The button should only be used once; so after a payment is cancelled, succeeds, or errors, we must redisplay it.
           addButtonToWindow();
       });
       button.addEventListener('paymentSuccess', function (e) {
           status.text = 'Payment Success.  TransactionID: ' + e.transactionID + ', Reloading...';
           // The button should only be used once; so after a payment is cancelled, succeeds, or errors, we must redisplay it.
           addButtonToWindow();
       });
       button.addEventListener('paymentError', function (e) {
           status.text = 'Payment Error,  errorCode: ' + e.errorCode + ', errorMessage: ' + e.errorMessage;
           // The button should only be used once; so after a payment is cancelled, succeeds, or errors, we must redisplay it.
           addButtonToWindow();
       });
       button.addEventListener('unknownResponse', function (e) {
           status.text = 'Unknown Response, statusCode: ' + e.statusCode;
           // The button should only be used once; so after a payment is cancelled, succeeds, or errors, we must redisplay it.
           addButtonToWindow();
       });
   
     /*  button.addEventListener('buttonDisplayed', function () {
           status.text = 'The button was displayed!';
       });*/
       button.addEventListener('buttonError', function () {
           status.text = 'The button failed to display!';
       });
   
       win.add(button);
      
   }
   addButtonToWindow();
   win.open();
   status.show();
   button.show();</li>
<li>Eduardo Olvera 2016-07-01

   function openWindow(){
   	var payPal = Alloy.createController('payPal').getView();
   	payPal.open();
   }
   		
   $.index.open();
   
   Thank you</li>
<li>Motiur Rahman 2016-09-10

   Hello [~Edd_127],
   
   What is your Ti SDK, CLI and module version? What's the other 'smaller device' that runs smoothly?
   
   Thanks.</li>
<li>Eduardo Olvera 2016-09-12

   Hello,
   SDK version : 5.2
   Module: ti.paypal-android-2.2.3 and ios 1.0.2
   
   I mean versions of android, but it is only in the demo version of paypal . sanbox and live the button does not appear</li>
<li>Sharif AbuDarda 2016-09-23

   Hello, I have tested this issue in Android 6 device. I am using the code provided in the comment. I wasn't able to reproduce the issue as described. The module seems to work fine. See my Screenshot. 
   
   1. [Screenshot 1](<a href="http://s22.postimg.org/8wwlcmxcx/0_sa_d3_b0564eb2ce3dbf6dc9255a110dc02dfd.jpg)" rel="nofollow" target="_blank">http://s22.postimg.org/8wwlcmxcx/0_sa_d3_b0564eb2ce3dbf6dc9255a110dc02dfd.jpg)</a>
   2. [Screenshot 2](<a href="http://s10.postimg.org/tln6g1zxl/0_sa_d1_fdddabb6f6265ee5e76a23b5179de387.jpg)" rel="nofollow" target="_blank">http://s10.postimg.org/tln6g1zxl/0_sa_d1_fdddabb6f6265ee5e76a23b5179de387.jpg)</a>
   
   Environment:
   
   SDK 5.5.0.GA
   CLI 5.5.0
   Studio: 4.7.1.201609100950
   Android 6.0.1
   Ti.paypal 2.2.3 Android 
   
   Thanks.
   </li>
<li>Eduardo Olvera 2016-09-23

   only changes the line of code where specific DEMO, LIVE or NONE,
   
   LIVE or demo do not work well</li>
</ol>


<p><a href="/TIMOB/TIMOB-23754.json">JSON Source</a></p>