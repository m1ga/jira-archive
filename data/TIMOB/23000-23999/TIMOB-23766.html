---
title: "[TIMOB-23766] Android: Default alloy & classic app crashes after launch with error : Requested module not found: ti.cloud, even though present"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-08-30T06:45:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>qe-6.0.0</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Chee Kiat Ng</td></tr>
<tr><th>Created</th><td>2016-08-11T21:20:10.000+0000</td></tr>
<tr><th>Updated</th><td>2016-09-01T20:39:20.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps To Reproduce:</h4>
1. Create a default alloy/classic app with SDK mentioned in environment.
2. Build for android device/emulator.

<h4>Actual Results:</h4>
1. The app crashes after launch with error:
<code><pre>
[DEBUG] :  Module: require called with un-prefixed module id, should be a core or CommonJS module. Falling back to old Ti behavior and assuming it's an absolute file
[ERROR] :  TiExceptionHandler: (main) [210,210] ----- Titanium Javascript Runtime Error -----
[ERROR] :  TiExceptionHandler: (main) [0,210] - In ti:/module.js:301,2
[ERROR] :  TiExceptionHandler: (main) [0,210] - Message: Uncaught Error: Requested module not found: ti.cloud
[ERROR] :  TiExceptionHandler: (main) [1,211] - Source: 	throw new Error("Requested module not found: " + request); // TODO Set 'code' property to 'MODULE_NOT_FOUND' to match Node?
[ERROR] :  V8Exception: Exception occurred at ti:/module.js:301: Uncaught Error: Requested module not found: ti.cloud
</pre></code>

<h4>Expected Results:</h4>
1. The app should not crash & run successfully.

<h3>Comments</h3>

<ol>
<li>Ashraf Abu 2016-08-22

   [~cwilliams] Logs mention V8Exception. Is this related to any of the changes for the new V8 support or the way that the request module is done?</li>
<li>Ashraf Abu 2016-08-24

   Currently investigating this area: <a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/runtime/common/src/js/module.js#L232-L302" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/runtime/common/src/js/module.js#L232-L302</a>
   </li>
<li>Chee Kiat Ng 2016-08-25

   PRs here: <a href="https://github.com/appcelerator/titanium_mobile/pull/8263" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8263</a>
   backport 6_0_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/8264" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8264</a></li>
<li>Chee Kiat Ng 2016-08-26

   </li>
<li>Lokesh Choudhary 2016-08-30

   [~cng], 
   I created a default app with services enabled using the SDK with the fix. I don't see the crash or the <code>ti.cloud</code> error anymore but some new error:
   <code><pre>
   [ERROR] :  TiHTTPClient: (TiHttpClient-1) [337,337] HTTP Error (java.io.IOException): 411 : Length Required
   [ERROR] :  TiHTTPClient: java.io.IOException: 411 : Length Required
   [ERROR] :  TiHTTPClient: 	at ti.modules.titanium.network.TiHTTPClient$ClientRunnable.run(TiHTTPClient.java:1217)
   [ERROR] :  TiHTTPClient: 	at java.lang.Thread.run(Thread.java:818)
   [ERROR] :  D/com.google.android.apps.docs.quickoffice.X(28099): Loading recent documents list
   [ERROR] :  D/com.google.android.apps.docs.quickoffice.X(28099): Checking validity of 1 items
   [INFO] :   ACS Login Results for environment <code>development</code>:
   [INFO] :   [object Object]
   </pre></code>
   
   Environment:
   Appc Studio : 4.8.0.201608221113
   Ti SDK :  6.0.0.v20160830110225
   Ti CLI : 5.0.9
   Alloy : 1.9.1
   MAC El Capitan : 10.11.6
   Appc NPM : 4.2.7
   Appc CLI : 6.0.0-31
   Node: 4.4.4
   Nexus 6 - Android 6.0.1</li>
<li>Chee Kiat Ng 2016-08-31

   [~msamah] can you verify if this is a different issue altogether, and if possible see if it's fixable? looks like its something to do with httpclient</li>
<li>Ashraf Abu 2016-08-31

   This is another issue. That error is a response from the server.
   <a href="https://github.com/appcelerator/titanium_mobile/blob/8d8d1925e5d2d23116d6e2bb86835a9f5ff25190/android/modules/network/src/java/ti/modules/titanium/network/TiHTTPClient.java#L1217" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/8d8d1925e5d2d23116d6e2bb86835a9f5ff25190/android/modules/network/src/java/ti/modules/titanium/network/TiHTTPClient.java#L1217</a>
   
   Response from server: HTTP Status Code 411. Length Required. [~lchoudhary] Can you create a different ticket for this error?</li>
<li>Lokesh Choudhary 2016-08-31

   </li>
<li>Lokesh Choudhary 2016-09-01

   Closing as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23766.json">JSON Source</a></p>