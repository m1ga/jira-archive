---
title: "[TIMOB-23787] Android: Can't add android modules to project when using SDK 6.0.0.v20160817065403"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-09-28T07:04:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>qe-4.7.0, regression</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-08-18T00:39:20.000+0000</td></tr>
<tr><th>Updated</th><td>2016-10-10T20:49:52.000+0000</td></tr>
</table>

<h3>Description</h3>

*This is a regression. Not seen with SDK 5.4.0.GA*
<h4>Steps to reproduce:</h4>
1. Create an android project using studio.
2. Enable services/hyperloop.
3. After the app is created add e.g ti.map module.
3. Look at the modules section in the tiapp.xml.

<h4>Actual results:</h4>
1. The android modules versions are greyed out.
2. If you hover over soasta module version number for android you get message:
<code>The com.soasta.touchtest module does not support android platform for 6.0.0.xx....</code>
2. If you try to add modules e.g the ti.map module you don't get an option for android modules.
*NOTE:* Attached screenshots for reference.

<h4>Expected Results:</h4>
1. You should be able to add android modules to your project & select the module version. Also, you should not get <code>The com.soasta.touchtest module does not support android platform for 6.0.0.xx....</code> message.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23787_60080/Screen Shot 2016-08-17 at 5.18.52 PM.png">Screen Shot 2016-08-17 at 5.18.52 PM.png</td></td><td>2016-08-18T00:36:30.000+0000</td><td>117176</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23787_60079/Screen Shot 2016-08-17 at 5.19.22 PM.png">Screen Shot 2016-08-17 at 5.19.22 PM.png</td></td><td>2016-08-18T00:36:34.000+0000</td><td>31086</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23787_60078/Screen Shot 2016-08-17 at 5.19.36 PM.png">Screen Shot 2016-08-17 at 5.19.36 PM.png</td></td><td>2016-08-18T00:36:39.000+0000</td><td>65061</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23787_60077/Screen Shot 2016-08-17 at 5.31.32 PM.png">Screen Shot 2016-08-17 at 5.31.32 PM.png</td></td><td>2016-08-18T00:36:42.000+0000</td><td>43386</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23787_60104/Screen Shot 2016-08-22 at 2.55.15 PM.png">Screen Shot 2016-08-22 at 2.55.15 PM.png</td></td><td>2016-08-22T21:58:26.000+0000</td><td>42920</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-23787_60441/Screen Shot 2016-10-06 at 11.05.02 AM.png">Screen Shot 2016-10-06 at 11.05.02 AM.png</td></td><td>2016-10-06T18:11:21.000+0000</td><td>41167</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2016-08-18

   [~msamah] Have we packaged and put the recompiled modules into master? And probably indicate here which version of ti.map supports which version of titanium SDK.
   [~lchoudhary] Can you put expected results?
   I thought SOASTA was a plugin, and there shouldn't be any need to recompile it for Android v8. [~kkolipaka] what are the conditions that Studio check for to give the message <code>modules does not support version ...</code></li>
<li>Kondal Kolipaka 2016-08-18

   [~cng] [~msamah] - We need to update <code>com.soasta.touchtest</code> version module to <code>3</code> to avoid this error with SDK 6.0</li>
<li>Ashraf Abu 2016-08-18

   As Kondal mentioned, all modules in Android TiSDK 6 now needs to be recompiled by bumping their version from <code>2</code> to <code>3</code> to be detected.</li>
<li>Ashraf Abu 2016-08-18

   This is related to TIMOB-23649</li>
<li>Ashraf Abu 2016-08-18

   I think a large majority of the modules have been recompiled with TiSDK 6 and had the apiversion bumped to 3. This is basically a continuation of TIMOB-19794. [~lchoudhary] Can you try the modules in TIMOB-19794? They have been recompiled for TiSDK 6.0.0+
   
   Also, is there a place/repo to recompile that touchtest module? It needs to be recompiled with TiSDK 6.0.0 and bumped apiversion to 3.
   
   CC: [~cwilliams] fyi.</li>
<li>Ashraf Abu 2016-08-18

   We probably need to double check the packaged modules in Timob have been updated to the newer modules too for Android in the 6_0_X and master branch.</li>
<li>Ingo Muschenetz 2016-08-18

   A little surprised we need to do anything with TouchTest, but I'd start by asking [~scottd]</li>
<li>Ashraf Abu 2016-08-23

   [~lchoudhary] which version are u using for those modules?
   You would need to use these versions:
   <a href="https://github.com/appcelerator/hyperloop.next/releases/tag/2.0.0" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/releases/tag/2.0.0</a>
   <a href="https://github.com/appcelerator-modules/appcelerator.aca/releases/tag/2.0.0" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/appcelerator.aca/releases/tag/2.0.0</a>
   
   Modules that are recompiled and have their manifest updated to apiversion 3:
   <a href="https://github.com/appcelerator/hyperloop.next/blob/master/android/manifest#L6" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/blob/master/android/manifest#L6</a></li>
<li>Lokesh Choudhary 2016-08-23

   [~msamah], I am using the ones which come with the SDK 6.0.0. If you see in one of my latest screenshot they are ver 2.0.0. Are these wrong ones ?
   I double checked & the modules have manifest updated to apiversion 3.</li>
<li>Ashraf Abu 2016-08-24

    That is very strange.</li>
<li>Kondal Kolipaka 2016-08-24

    [~lchoudhary]   - Issue might fall into one of these.
    <h4>You need Studio 4.8.0 to detect <code>apiversion: 3</code>. Any earlier studio version can't detect the module with version <code>3</code></h4>
    <h4>Probably you would have not restarted the studio after installing the new modules.</h4>
    
    </li>
<li>Lokesh Choudhary 2016-08-29

    [~kkolipaka],
    I was not using studio 4.8.0 but 4.7.1. Let me try with studio 4.8.0.
    [~cng], Let me try that.</li>
<li>Lokesh Choudhary 2016-08-29

    [~kkolipaka],[~cng], With studio 4.8.0 this works fine I can add android modules. 
    FYI, the touch test module is still ver 1.0 & is greyed out in the tiapp.xml for android.</li>
<li>Ashraf Abu 2016-08-30

    Touch module requires to be recompiled. -Which I believe is in another Jira Ticket.-
    Can this issue be resolved?</li>
<li>Ashraf Abu 2016-08-30

    Also, did you try with this module? <a href="https://drive.google.com/file/d/0B5kns9m6-03wZTdFNVFZSGxoSEk/view" rel="nofollow" target="_blank">https://drive.google.com/file/d/0B5kns9m6-03wZTdFNVFZSGxoSEk/view</a>
    </li>
<li>Ashraf Abu 2016-08-30

    [~cng] Module in  <a href="https://drive.google.com/file/d/0B5kns9m6-03wZTdFNVFZSGxoSEk/view" rel="nofollow" target="_blank">https://drive.google.com/file/d/0B5kns9m6-03wZTdFNVFZSGxoSEk/view</a> does not work for TiSDK 6+.
    
    Only if you extract/unzip it and add the exact version, does it appear.
    
    Update: I did the wrong method of using this.</li>
<li>Ashraf Abu 2016-08-30

    So for testing purpose, to check that downloaded file work, I replaced <code>com.soasta.touchtest-android-1.0.zip</code> with <code>com.soasta.touchtest-android-2.0.zip</code> in the folder for latest version.
    
    It worked correctly to install it in a newly created app. Only thing is that the tiapp.xml seems to be hardcoded to refer to version <code>1.0</code>.</li>
<li>Chee Kiat Ng 2016-08-30

    [~fmiao] can you indicate to me where in any of our cli (I am guessing appc-cli-titanium) do we hardcode the version to 1.0?
    Now we are seeing in tiapp.xml, <code><module platform="android" version="1.0">com.soasta.touchtest</module></code>
    we need to change that somewhere.</li>
<li>Feon Sua Xin Miao 2016-08-30

    [~cng]. Nope, <code>appc-cli-titanium</code> doesn't hardcode the version 1.0 for soasta. You'll need to look into the jar that's run when enabling test, i.e. <code>../Titanium/plugins/com.appcelerator.test/versions/8244.293/MakeAppTouchTestable/MakeAppTouchTestable.jar</code>.</li>
<li>Chee Kiat Ng 2016-08-31

    [~ingo][~emerriman] So we tried to just edit and recompile the module ourselves, but now we are stuck because there's something that needs to be changed in <code>MakeAppTouchTestable.jar</code> file that I have no idea where it's built from, so we might just have to get in touch with SOASTA. Any ideas how we can approach this?</li>
<li>Ashraf Abu 2016-09-08

    The ZIP is being handled in this ticket APPTS-8874</li>
<li>Chee Kiat Ng 2016-09-15

    </li>
<li>Chee Kiat Ng 2016-09-15

    [~gmathews] ^</li>
<li>Gary Mathews 2016-09-19

    make_app_touch_testable: <a href="https://github.com/appcelerator/make_app_touch_testable/pull/1" rel="nofollow" target="_blank">https://github.com/appcelerator/make_app_touch_testable/pull/1</a></li>
<li>Lokesh Choudhary 2016-10-10

    Verified the fix.
    
    Android modules can now be added successfully.
    Closing.
    
    Environment:
    Appc Studio : 4.8.0.201609292239
    Ti SDK :  6.0.0.v20161007121506
    Ti CLI : 5.0.10
    Alloy : 1.9.2
    MAC El Capitan : 10.11.6
    Appc NPM : 4.2.8-7
    Appc CLI : 6.0.0-57
    Node: 4.6.0
    Nexus 6 - Android 6.0.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-23787.json">JSON Source</a></p>