---
title: "[TIMOB-23806] Allow local images in static shortcut items (hash image names)"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS, Tooling</td></tr>
<tr><th>Labels</th><td>cb-tooling</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2015-10-17T05:27:21.000+0000</td></tr>
<tr><th>Updated</th><td>2020-02-06T19:15:21.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently, we can only set local icons for UIShortcutItems using our SDK API. As static shortcuts are added through the xml, it is natively possible to provide the asset catalog name there.

Proposal: We need to hash the values inside the <code>UIApplicationShortcutItems</code> array dict, that have the key <code>UIApplicationShortcutItemIconFile</code> to get our asset catalog name. See this example:

<code><pre>
<key>UIApplicationShortcutItems</key>
                <array>
                    <dict>
                        <key>UIApplicationShortcutItemIconFile</key>

                       <!-- Currently not possible, because image name is not hashed --> 
                        <string>images/icons/settings.png</string>

                        <key>UIApplicationShortcutItemTitle</key>
                        <string>select_canteen</string>
                        <key>UIApplicationShortcutItemType</key>
                        <string>SelectCanteen</string>
                        <key>UIApplicationShortcutItemUserInfo</key>
                        <dict/>
                    </dict>
                </array>
</pre></code>

<h3>Comments</h3>

<ol>
<li>Sebastian Klaus 2015-11-12

   With which function are the image names hashed in the asset catalog?</li>
<li>Hans Knöchel 2015-11-12

   [~benutzername] Check this out: <a href="https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/ImageLoader.m#L514" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/ImageLoader.m#L514</a>
   
   I think if you manually hash the names you should make it work for now (as I think thats what you want to do).</li>
<li>Sebastian Klaus 2015-11-12

   It works by searching the hashes in the image assets through Xcode </li>
<li>Chee Kiat Ng 2016-08-23

   Somewhere in iOS build it needs to intercept these elements and convert them to hash before writing them to info.plist. This has to be done in such a way it doesn't force a rebuild.</li>
<li>Chris Barber 2016-08-23

   By "CLI", you mean "iOS build".</li>
<li>Chee Kiat Ng 2016-08-23

   yes. pardon me. corrected accordingly.</li>
<li>Chris Barber 2020-02-06

   [~vijaysingh] Is this ticket still relevant now that asset name hashing is no more?</li>
<li>Vijay Singh 2020-02-06

   It should be fixed in TIMOB-25032.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23806.json">JSON Source</a></p>