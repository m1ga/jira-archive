---
title: "[TIMOB-23808] Hyperloop: iOS - Example application not building with Xcode 8 because of Swift-Error"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-10-07T14:23:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0, Hyperloop 2.0.0, hyperloop 1.2.8</td></tr>
<tr><th>Components</th><td>Hyperloop, iOS, Tooling</td></tr>
<tr><th>Labels</th><td>qe-5.5.0</td></tr>
<tr><th>Reporter</th><td>Josh Longton</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2016-08-23T20:23:45.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:49:37.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to reproduce:</h4>
<h4>Download the hyperloop sample application from [here](<a href="https://github.com/appcelerator/hyperloop-examples)" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop-examples)</a></h4>
<h4>Import the sample application.</h4>
<h4>Run the application</h4>

<h4>Actual iOS 10 </h4>
{noformat}
[TRACE] :  "Use Legacy Swift Language Version" (SWIFT_VERSION) is required to be configured correctly for targets which use Swift. Use the [Edit > Convert > To Current Swift Syntax...] menu to choose a Swift version or use the Build Settings editor to configure the build setting directly.
[ERROR] :  Error details: "Use Legacy Swift Language Version" (SWIFT_VERSION) is required to be configured correctly for targets which use Swift. Use the [Edit > Convert > To Current Swift Syntax...] menu to choose a Swift version or use the Build Settings editor to configure the build setting directly.
{noformat}
<h4>Actual iOS 9.3</h4>
{noformat}
[ERROR] :  An error occurred during build after 3s 167ms
[ERROR] :  the xcodebuild failed running from /Users/Josh/Documents/Appcelerator_Studio_Workspace/hyperloop-examples/Pods
{noformat}




<h4>Expected</h4>
No error is shown and the application is built.




<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2016-08-31

   To solve this specific issue, you just have to add this in appc.js:
   <code><pre>
   	hyperloop: {
   		ios: {
   			xcodebuild: {
   				/**
   				 * any flags available to be passed into the Xcode can be
   				 * included here to further customize the xcode build
   				 */
   				flags: {
   					GCC_PREPROCESSOR_DEFINITIONS: 'foo=bar',
   					SWIFT_VERSION: '2.3'
   				},
   </pre></code>
   And the hyperloop examples will build correctly. HOWEVER, every example here is returning a <code>... is not a function</code>. Mostly likely related to TIMOB-23812.
   
   <h4>environment</h4>
   Xcode 8 beta 6
   titanium SDK latest master
   appc cli 5.5.0-5
   appc npm 4.2.7
   </li>
<li>Hans Knöchel 2016-09-02

   Talked with [~jvennemann] about this. We agreed that adding it automatically by the Hyperloop-CLI is the best way to solve this on the long-term perspective. Since we are already able to detect whether swift-sources are used in the project, we can hook it in there. Re-assigning to Jan.</li>
<li>Hans Knöchel 2016-09-06

   Scheduling for Hyperloop 2.0.0 in the 6.0.0 timeframe. Shouldn't be too hard to detect swift-usage and adding the flag then.</li>
<li>Hans Knöchel 2016-09-24

   Proof of concept: <a href="https://github.com/hansemannn/hyperloop.next/commit/4c09f3d081e68902dea55583558de10bc27b4511" rel="nofollow" target="_blank">https://github.com/hansemannn/hyperloop.next/commit/4c09f3d081e68902dea55583558de10bc27b4511</a>
   
   However, although I am able to inject the currently selected Swift version with <code>xcrun swift -version</code> and inject it into the pbx build-settings, it seems to be injected too late, so the error is still thrown. The value from the appc.js is already injected in <code>hookXcodebuild</code> so we might need to detect the swift-usage there already. I hope that helps for the correct PR.</li>
<li>Jan Vennemann 2016-09-30

   Took your approach and resolved the async issues that were causing errors ;)
   
   PR (master): <a href="https://github.com/appcelerator/hyperloop.next/pull/81" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/81</a>
   
   Does this need a 1_2_X backport?</li>
<li>Chee Kiat Ng 2016-10-03

   [~jvennemann] yes please. Do a 1.2.9 please. </li>
<li>Hans Knöchel 2016-10-03

   Putting the review on hold, since this issue is blocked by TIMOB-23971.</li>
<li>Hans Knöchel 2016-10-07

   PR merged. [~jvennemann] Please do a 1.2.9 backport.</li>
<li>Jan Vennemann 2016-10-10

   PR for the 1_2_X branch: <a href="https://github.com/appcelerator/hyperloop.next/pull/84" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/84</a></li>
<li>Eric Merriman  2018-08-06

    Cleaning up older fixed issues. If this issue should not have been closed as fixed, please reopen.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23808.json">JSON Source</a></p>