---
title: "[TIMOB-23825] Facebook logout is not working for iOS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2016-08-27T12:42:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Mostafizur Rahman</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2016-08-25T13:53:41.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-24T18:57:47.000+0000</td></tr>
</table>

<h3>Description</h3>

Hello,
Facebook logout is not working for iOS on following Environment:
SDK: 5.4.0 GA
Appcelerator Command-Line Interface, version 5.4.0
facebook module Version: 5.2

*Test Case:*
<code><pre>
var fb = require('facebook');
var win = Ti.UI.createWindow({
	title : 'Login/Logout',
	backgroundColor : '#fff',
 
});
var label = Ti.UI.createLabel({
	text : 'Logged In = ' + fb.loggedIn,
	color : '#000',
	font : {
		fontSize : 20
	},
	top : 10,
	textAlign : 'center'
});
win.add(label);
fb.addEventListener('login', function(e) {
	if (e.success) {
		alert('login from uid: ' + e.uid + ', name: ' + JSON.parse(e.data).name);
		label.text = 'Logged In = ' + fb.loggedIn;
	} else if (e.cancelled) {
		// user cancelled
		alert('cancelled');
	} else {
		alert(e.error);
	}
});
fb.initialize();
fb.addEventListener('logout', function(e) {
	alert('logged out');
	label.text = 'Logged In = ' + fb.loggedIn;
});
var loginButton = fb.createLoginButton({
	readPermissions : ['email'],
	top : 100,
	width : 150,
	height : 100
});
win.add(loginButton);

win.open();
</pre></code>
*Step to reproduce:*
1)Starts the app, click facebook login 
2)it redirects to safari, asks for your fb username and password 
3)after logging in, logs in the app with fb data 
4)Tried to log out, it will trigger Facebook.logout(); 
5)Repeat step 1 and 2. but this time it wont ask for your username and password, as you already logged into safari. In this case i can't switch to another fb account

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2016-08-27

   See TIMOB-14551 for details on how to clear the cookies using the <code>Ti.Network.HTTPClient</code> API. Once again: Facebook does not allow to clear the web-cookies in the *native* logout, since it are two different kind of authorizations (app-based and global). If people want to clear it manually anyway, check the provided API :-)</li>
<li>Lee Morris 2017-03-24

   Closing ticket with reference to the previous comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23825.json">JSON Source</a></p>