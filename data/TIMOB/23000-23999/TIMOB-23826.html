---
title: "[TIMOB-23826] Android: Build fails using build tools higher than 24.0 and Java 1.7"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-08-14T11:52:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.2.0</td></tr>
<tr><th>Components</th><td>Android, CLI, Tooling</td></tr>
<tr><th>Labels</th><td>qe-6.0.0</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-08-25T18:42:52.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-25T09:55:27.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When building with Android SDK Build-tools > 24.0 and Java < 1.8 the dexer step in the build process bombs out with the below, these build tools seem to require 1.8 [link](<a href="http://stackoverflow.com/questions/39116095/android-studio-buildtools-24-0-1-requires-java-1-8-or-above)" rel="nofollow" target="_blank">http://stackoverflow.com/questions/39116095/android-studio-buildtools-24-0-1-requires-java-1-8-or-above)</a>

<code><pre>
[ERROR] Failed to run dexer:
[ERROR]
[ERROR] java.lang.UnsupportedClassVersionError: com/android/dx/command/Main : Unsupported major.minor version 52.0
[ERROR]         at java.lang.ClassLoader.defineClass1(Native Method)
[ERROR]         at java.lang.ClassLoader.defineClass(ClassLoader.java:800)
[ERROR]         at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)
[ERROR]         at java.net.URLClassLoader.defineClass(URLClassLoader.java:449)
[ERROR]         at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
[ERROR]         at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
[ERROR]         at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
[ERROR]         at java.security.AccessController.doPrivileged(Native Method)
[ERROR]         at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
[ERROR]         at java.lang.ClassLoader.loadClass(ClassLoader.java:425)
[ERROR]         at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
[ERROR]         at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
[ERROR]         at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)
[ERROR] Exception in thread "main"
</pre></code>

*WORKAROUND*

Install Java 1.8

<h4>Steps to reproduce</h4>

<h4>Install Android SDK Build-tools > 24.0 and a Java version < 1.7</h4>
<h4>Build for Android</h4>

<h4>Actual result</h4>

Build will fail with the error above

<h4>Expected result</h4>

Some help for the user in clarifying what's wrong

<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2016-08-26

   [~eharris] I believe 24 is used for Android N, and I think we haven't announced support for build tools 24. Can you verify if you face the same issue on mac?
   I'll plan this accordingly for the titanium SDK release that supports Android N.</li>
<li>Ashraf Abu 2016-08-26

   If I'm not wrong, we just need to upgrade the java to 1.8 and need not do anything else.
   
   In the future though, we might need to change our toolchain for building android using Jack.
   <a href="https://developer.android.com/guide/platform/j8-jack.html" rel="nofollow" target="_blank">https://developer.android.com/guide/platform/j8-jack.html</a>
   
   In the mean time, it's not needed.</li>
<li>Ewan Harris 2016-08-26

   [~cng] Yes this happens on mac also.</li>
<li>Chris Barber 2017-04-07

   I'm not certain this is an issue once TIMOB-24555 is merged. I have been able to successfully build an Android app using build tools 25 + platform tools 25 + android tools 26 + android sdk 25 (7.1.1) using TIMOB-24555.
   
   Once TIMOB-24555 is merged, we can re-test this and see if it's still valid.</li>
<li>Carlos Henrique Zinato 2017-06-28

   For those having this problem, you can find the latest JDK here: <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" rel="nofollow" target="_blank">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></li>
<li>Gary Mathews 2017-08-14

   [#PR-9274](<a href="https://github.com/appcelerator/titanium_mobile/pull/9274)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9274)</a> will change our versioning to require build-tools <code>26.0</code> and <code>JDK 1.8</code></li>
<li>Ewan Harris 2017-08-25

   Verified in 6.2.0.v20170824144806 and 7.0.0.v20170823165814
   
   When using Java 1.7 in SDK 6.2.0, when building for Android the CLI (appc and ti) will error out with the error below
   
   <code><pre>
   appc run -p android -T device --build-only
   Appcelerator Command-Line Interface, version 6.2.2
   Copyright (c) 2014-2017, Appcelerator, Inc.  All Rights Reserved.
   
   [ERROR] JDK version 1.7.0 detected, but only version &gt;=1.8.x is supported
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-23826.json">JSON Source</a></p>