---
title: "[TIMOB-23833] Windows: Generate capabilities even when they are defined in tiapp.xml"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-09-01T01:32:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>qe-6.0.0</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-08-26T18:52:31.000+0000</td></tr>
<tr><th>Updated</th><td>2017-01-31T19:23:05.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

In TIMOB-23156 the auto-generation of capabilities based on API usage. Currently, if a user uses an API that needs a capability but is not included in the API capability list in the SDK then they will have to add the capability to the tiapp.xml and then figure out all other capabilities they need, an example of this is TIMOB-23832.

To make the development workflow easier we should always generate the capability list even when the tiapp.xml already contains.

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2016-08-29

   master: <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/842" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/842</a></li>
<li>Kota Iguchi 2016-09-01

   *TEST CASE*
   
   app.js
   <code><pre>
   Ti.App.setProximityDetection(true);
   </pre></code>
   
   tiapp.xml
   <code><pre>
   &lt;windows&gt;
       &lt;manifest&gt;
           &lt;Capabilities&gt;
               &lt;Capability Name="internetClient" /&gt;
               &lt;Capability Name="picturesLibrary" /&gt;
           &lt;/Capabilities&gt;
       &lt;/manifest&gt;
   &lt;/windows&gt;
   </pre></code>
   
   <code><pre>
   appc run -p windows -S 10.0 --build-only
   </pre></code>
   
   RESULT
   <code><pre>
   &lt;Capabilities&gt;
       &lt;Capability Name="internetClient" /&gt;
       &lt;uap:Capability Name="picturesLibrary" /&gt;
       &lt;DeviceCapability Name="proximity" /&gt;
   &lt;/Capabilities&gt;
   </pre></code></li>
<li>Samir Mohammed 2017-01-31

   Verified improvement, was able to generate capabilities even if they were not defined in the tiapp.xml. The steps I took to verify this include: 
   
   1. Create a new app and add the following code to the <code>app.js</code> 
   <code><pre>
   Ti.App.setProximityDetection(true);
   </pre></code>
   
   2. Then added the following capabilities to the <code>tiapp.xml</code> 
   <code><pre>
   &lt;windows&gt;
       &lt;manifest&gt;
           &lt;Capabilities&gt;
               &lt;Capability Name="internetClient" /&gt;
               &lt;Capability Name="picturesLibrary" /&gt;
           &lt;/Capabilities&gt;
       &lt;/manifest&gt;
   &lt;/windows&gt;
   </pre></code>
   
   3. I then  ran the following command from the project directory. 
   <code><pre>
   appc run -p windows -S 10.0 --build-only
   </pre></code>
   
    4. I then went to the following file  <code>C:\Users\Tester\.titanium\vsbuild\genTestv1\win10.x86\package</code> and checked the capabilities. 
   <code><pre>
   &lt;Capabilities&gt;
       &lt;Capability Name="internetClient" /&gt;
       &lt;uap:Capability Name="picturesLibrary" /&gt;
       &lt;DeviceCapability Name="proximity" /&gt;
     &lt;/Capabilities&gt;
   </pre></code>
   
   *Environment*
   <code><pre>
   Operating System:
   Name                        = Microsoft Windows 10 Pro
   Version                     = 10.0.14393
   Architecture                = 64bit
   <h4>CPUs                      = 4</h4>
   Memory                      = 17034395648
    
   Node.js:
   Node.js Version             = 4.6.0 
   npm Version                 = 2.11.3
    
   Titanium SDK:
   SDK Version                 =  6.1.0.v20170131075226
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-23833.json">JSON Source</a></p>