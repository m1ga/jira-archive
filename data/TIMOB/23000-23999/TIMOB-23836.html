---
title: "[TIMOB-23836] iOS10: Support UITableView data-source prefetching"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-08-30T07:22:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios10, prefetching, tableview</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2016-08-29T21:24:28.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-28T21:53:13.000+0000</td></tr>
</table>

<h3>Description</h3>

iOS 10 offers a new way to prefetch items before they are visible in the actual visible area. This allows the developer to be notified when items are fetched so he/she can react on that beforehand (e.g. for preloading images already).

{quote}
The indexPaths are ordered ascending by geometric distance from the table view
{quote}

Along with that, the user can also be notified when items that previously qualified for prefetching were not actually displayed. For both cases, we can expose them using the events <code>prefetch</code> and <code>cancelprefetch</code>.

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-08-29

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8285" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8285</a> 
   
   Demo:
   <code><pre>
   var win = Ti.UI.createWindow();
   var list = Ti.UI.createListView();
   var items = [];
   
   for (var i = 0; i &lt; 200; i++) {
       items.push({
           properties: {
               title: "Item " + i
           }
       });
   }
   
   list.setSections([Ti.UI.createListSection({items: items})]);
   
   list.addEventListener("prefetch", function(e) {
       Ti.API.warn("event:prefetch");
       Ti.API.warn(e.prefetchedItems);
   });
   
   list.addEventListener("cancelprefetch", function(e) {
       Ti.API.warn("event:cancelprefetch");
       Ti.API.warn(e.prefetchedItems);
   });
   
   win.add(list);
   win.open();
   </pre></code></li>
<li>Chee Kiat Ng 2016-08-30

   CR and FT passed. Scroll the list view to see the prefetch events.</li>
<li>Samir Mohammed 2016-11-28

   Verified, was able to see the <code>prefetch</code> information in the console (Using the code provided above). Example of the information shown in the console can be seen below. 
   
   <code><pre>
   [WARN] :   event:prefetch
   [WARN] :   (
   [WARN] :           {
   [WARN] :           itemIndex = 16;
   [WARN] :           section = "[object TiUIListSection]";
   [WARN] :           sectionIndex = 0;
   [WARN] :       },
   [WARN] :           {
   [WARN] :           itemIndex = 17;
   [WARN] :           section = "[object TiUIListSection]";
   [WARN] :           sectionIndex = 0;
   [WARN] :       },
   </pre></code>
   
   *Environment*
   <code><pre>
   Appcelerator Command-Line Interface, version 6.0.0
   Iphone 6S (IOS 10.0)
   Operating System Name: Mac OS X El Capitan
   Operating System Version: 10.11.6
   Node.js Version: 4.6.0
   npm: 4.2.8
   Titanium CLI Version: 5.0.10
   Titanium SDK Version: 6.1.0.v20161128031712
   Xcode: 8.0
   Appcelerator Studio: 4.8.0.201611121409
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-23836.json">JSON Source</a></p>