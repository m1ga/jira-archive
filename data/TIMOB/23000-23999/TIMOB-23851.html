---
title: "[TIMOB-23851] Cannot build ti.facebook iOS using "appc ti build""
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-09-07T22:11:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>iOS, Tooling</td></tr>
<tr><th>Labels</th><td>build.py, cli, module, ti.facebook</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2016-08-31T11:29:29.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T18:40:07.000+0000</td></tr>
</table>

<h3>Description</h3>

A few months ago, we made great process with replacing our python scripts with node-commands. One of those effords was to replace the <code>build.py</code> in the module project with <code>appc ti build</code> commands. In detail, when we build and package a module, that should be done using <code>appc ti build -p [ios/android] --build-only</code>. 

While that works for all other modules I recently built, the ti.facebook module seems to have problems with that, throwing the following error:

{quote}
[ERROR] Unable to determine the compiled module's architecture (code 1):
[ERROR] fatal error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/lipo: can't open input file: /Users/hans/Documents/appcelerator_modules/ti.facebook/ios/build/libfacebook.a (No such file or directory)
{quote}

Full log: <a href="https://gist.github.com/hansemannn/686079630bd9575319e03b0e115ec5d3" rel="nofollow" target="_blank">https://gist.github.com/hansemannn/686079630bd9575319e03b0e115ec5d3</a>

It obviously searches for the generated static library in <code>build/</code> instead of <code>build/Release-iphoneos</code> where it is. Also interesting: When I build the module with the python script first and rebuild it with our CLI, it also works. 

Since we can still use the old way for now to generate our ti.facebook releases, it would be worth a try to reproduce it. Thanks!

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-08-31

   [~cbarber] Dedicated to you :-)</li>
<li>Chris Barber 2016-08-31

   TiSDK master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8296" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8296</a>
   TiSDK 6_0_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8297" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8297</a></li>
<li>Feon Sua Xin Miao 2016-09-07

   PR merged.</li>
<li>Lee Morris 2017-03-21

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23851.json">JSON Source</a></p>