---
title: "[TIMOB-23875] Windows: Incorrect __filename value"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-09-09T21:43:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>qe-6.0.0, regression</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2016-09-07T15:34:01.000+0000</td></tr>
<tr><th>Updated</th><td>2016-09-12T11:08:49.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When using the code below the logged value is set incorrectly to '/sub.js', it should be /'index.js'. In 5.4.0.GA the code returned the value 'index', although this value is different to the expected value, because it no longer refers to the correct file I am labeling this a *regression*

Removing <code>require('./sub.js')</code> makes the issue disappear so the error is probably caused by that require. This can also be confirmed by doing <code>var filename = __filename</code> before the require and then setting the filename property to this variable.

<code><pre>

var test = require('./index');
console.log(test.filename);
</pre></code>

<code><pre>
var sub = require('./sub');
module.exports = {
    filename: __filename,
    name: 'index.js',
    sub: sub.name
};
</pre></code>

<code><pre>
module.exports = {
    name: 'sub.js',
};
</pre></code>

<h4>Steps to reproduce</h4>

<h4>Actual result</h4>

Logging is '/sub.js'

<h4>Expected result</h4>

The logging should be '/index.js'

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2016-09-09

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/864" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/864</a></li>
<li>Ewan Harris 2016-09-12

   Verified using:
   
   OS: Microsoft Windows 10 Pro 10.0.14393
   Appc core: 6.0.0-42
   Appc NPM: 4.2.8-6
   Ti SDK: 6.0.0.v20160909225457
   
   __filename now returns correct value
   
   Closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-23875.json">JSON Source</a></p>