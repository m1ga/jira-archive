---
title: "[TIMOB-23881] Android: Analytics not enabled when root activity is not launched"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-09-15T03:23:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.4.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Gary Mathews</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-09-09T08:30:20.000+0000</td></tr>
<tr><th>Updated</th><td>2016-12-02T23:09:51.000+0000</td></tr>
</table>

<h3>Description</h3>

Analytics is not enabled when an intent launches a secondary activity if the app is not already running. Analytics is currently enabled by the root activity, launching a secondary activity bypasses analytics.

*STEPS*
1. Use the aps_test.zip alloy application to compile an alloy app.
2. Run the app and click the button, a shortcut on the home screen should appear.
3. Terminate the app from the app manager, make sure the app is not running.
3. Click the shortcut, you should see a grey screen, monitor the logs to see if _APS Service_ starts. (NOTE: This may take 30 seconds to start)

*Expected Result*
- <code>APSAnalyticsService: Analytics Service Started</code>

*Actual Result*
- APS Service does not start

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23881_60254/aps_test.zip">aps_test.zip</td></td><td>2016-09-14T05:44:32.000+0000</td><td>9773876</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2016-09-11

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8347" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8347</a></li>
<li>Hans Kn√∂chel 2016-09-12

   [~gmathews] Can you add a demo-code and testing-steps? Then I can help reviewing it.</li>
<li>Gary Mathews 2016-09-14

   [~hansknoechel] Apologies, this was part of TIMOB-20502. I've added a test case.</li>
<li>Ashraf Abu 2016-09-15

   Able to see Analytics.
   
   Master PR merged.</li>
<li>Lokesh Choudhary 2016-12-02

   Verified the fix.
   
   <code>APSAnalyticsService: Analytics Service Started</code> is seen.
   Closing.
   
   Appc Studio : 4.8.1.201611291132
   SDK Version : 6.1.0.v20161202104721
   Mac OS Version : 10.12
   Xcode Version : Xcode 8.1 Build version 8B62
   Appc CLI AND Appc NPM : {"NPM":"4.2.9-1","CLI":"6.1.0-302"}
   Ti CLI : 5.0.11
   Alloy : 1.9.4
   Node : v4.6.0
   Device: running 7.1Pixel</li>
</ol>


<p><a href="/TIMOB/TIMOB-23881.json">JSON Source</a></p>