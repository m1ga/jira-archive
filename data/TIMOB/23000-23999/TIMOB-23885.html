---
title: "[TIMOB-23885] Android WebView Video stays black sound only"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-11-07T20:57:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect</td></tr>
<tr><th>Reporter</th><td>Fritz Zetik</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-08-23T14:25:05.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-21T19:21:48.000+0000</td></tr>
</table>

<h3>Description</h3>

Shows Homepage with videos, video stays black only sound.

var homepage = Titanium.UI.createWebView(
            {
                url: '<a href="http://sportclipone.at/" rel="nofollow" target="_blank">http://sportclipone.at/</a>',
                borderRadius: 1,
                modal:false,
                enableZoomControls: false,
    			scalesPageToFit: false,
    			scrollsToTop: false,
    			showScrollbars: false
            });
            if (isAndroid)
            {
                homepage.pluginState = Titanium.UI.Android.WEBVIEW_PLUGINS_ON;
                
            }
            else
            {
                homepage.borderRadius = 0.9;
            }
            homepage.width = Ti.UI.FILL;
            homepage.height = Ti.UI.FILL;
            
            var win1 = Titanium.UI.createWindow(
            {
                title: 'Homepage',
                backgroundColor: '#ffffff',
                layout: 'vertical'
            });
            
            win1.add(homepage);
            win1.open();



[WARN] :   I/TiWebChromeClient.console(30462): (main) [15888,17877] Failed to execute 'play' on 'HTMLMediaElement': API can only be initiated by a user gesture. (16:<a href="http://sportclipone.at//plugins/hwdmediashare/player_mejs/assets/mediaelement-and-player.min.js)" rel="nofollow" target="_blank">http://sportclipone.at//plugins/hwdmediashare/player_mejs/assets/mediaelement-and-player.min.js)</a>
[WARN] :   I/TiWebChromeClient.console(30462): (main) [968,18845] Uncaught (in promise) NotAllowedError: play() can only be initiated by a user gesture. (16:<a href="http://sportclipone.at//plugins/hwdmediashare/player_mejs/assets/mediaelement-and-player.min.js)" rel="nofollow" target="_blank">http://sportclipone.at//plugins/hwdmediashare/player_mejs/assets/mediaelement-and-player.min.js)</a>
[WARN] :   E/OMX-VDEC-1080P(  189): Extension: OMX.google.android.index.storeMetaDataInBuffers not implemented

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-23885_60292/0-ea-d3-5844f8298ae289c6072474c78f707c05.jpg">0-ea-d3-5844f8298ae289c6072474c78f707c05.jpg</td></td><td>2016-09-20T19:06:59.000+0000</td><td>84060</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-09-06

   Hello, I am trying to test the issue in Android 6.0.1. I need the username and pass to access the webpage video contents. Please send the credentials for us to test. We will let you know and possibly provide a fix for you. But we need to test and regenerate the issue for farther investigation. Thanks. </li>
<li>Fritz Zetik 2016-09-07

   Login -> Mail </li>
<li>Sharif AbuDarda 2016-09-07

   Hello, The username and password is not correct. Please send the real credencials. Thanks.</li>
<li>Fritz Zetik 2016-09-08

   Site is (since yesterday) usable without username and password
   </li>
<li>Fritz Zetik 2016-09-09

   did you got access?</li>
<li>Fritz Zetik 2016-09-20

   One interesting thing: Using SDK 6.0.0.v20151228134127 ist writing: INFO] :   OMXClient: Using client-side OMX mux. and WORKS!
   </li>
<li>Aminul Islam 2016-09-20

   Hi,
   I have tested this with different video url and latest SDK. I am able to reproduce the issue.The wedpage video stays black.
   
   !0-ea-d3-5844f8298ae289c6072474c78f707c05.jpg|thumbnail!
   *Test Code*
   <code><pre>
   var homepage = Titanium.UI.createWebView({
   	url : '<a href="http://edition.cnn.com/videos" rel="nofollow" target="_blank">http://edition.cnn.com/videos</a>',
   	borderRadius : 1,
   	modal : false,
   	enableZoomControls : false,
   	scalesPageToFit : false,
   	scrollsToTop : false,
   	showScrollbars : false
   });
   
   homepage.pluginState = Titanium.UI.Android.WEBVIEW_PLUGINS_ON;
   
   homepage.width = Ti.UI.FILL;
   homepage.height = Ti.UI.FILL;
   var win1 = Titanium.UI.createWindow({
   	title : 'Homepage',
   	backgroundColor : '#ffffff',
   	layout : 'vertical'
   });
   win1.add(homepage);
   win1.open();
   </pre></code>
   
   *Environment* 
   <code><pre>
   Appcelerator Command-Line Interface, version 5.5.0
   Android 6.0.1 (HTC)
   Operating System
     Name                        = Mac OS X
     Version                     = 10.11.6
     Architecture                = 64bit
     # CPUs                      = 4
     Memory                      = 8589934592
   Node.js
     Node.js Version             = 4.4.4
     npm Version                 = 2.15.1
   Titanium CLI
     CLI Version                 = 5.0.9
   Titanium SDK
     SDK Version                 = 5.5.0.GA
   </pre></code></li>
<li>Fritz Zetik 2016-09-21

   You can also reproduce it with a small test project:
   
   Appcelerator Studio -> New project -> HTML based Application 
   and change the source of the webview to <a href="http://sportclipone.at" rel="nofollow" target="_blank">http://sportclipone.at</a> or cnn.com 
   
   Video starts black only, no sound.
   There are no changes with android flags (hardware_acceleration true/false, ...)
   </li>
<li>Ashraf Abu 2016-09-21

   This doesn't seem to be a regression. Able to reproduce it all the way back to to 5.1.0.GA.</li>
<li>Ashraf Abu 2016-09-21

    [~FritzZetik] Just want to know, what's the objective of running a video from a Webview. Would using the [VideoPlayer](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Media.VideoPlayer) be a possible alternative for you?</li>
<li>Fritz Zetik 2016-09-21

    There are some more information on the page. If we had to use the video player we would need to interprete any information on the site and rebuild it in the app (likes, shares, sponsorlogos, texts aso.) If there is a possability to open the videoplayer on touch or starting the video it could be a solutution. </li>
<li>Fritz Zetik 2016-09-21

    But can you explain to me the problem on android? </li>
<li>Todd Miller 2016-09-22

    Hi I can jump in here too I am experiencing this issue with an app we are developing. I can say that using SDK 5.3.1.GA we do not see this issue. When we upgraded to 5.5.0.GA we are now seeing the issue. So I tested with 5.4.0.GA and the issue is there, too. And when I tried to build with 5.3.1.GA again, we were no longer seeing the issue.
    
    So in summary, we do not experience the issue with SDK 5.3.1. We start seeing the issue with 5.4.0 and it persists into 5.5.0.
    
    Interestingly when we go full screen with a video, the picture now appears. Presumably this is because when you fullscreen a video it launches the native full screen which breaks out of the webview. So it appears to be strictly a webview issue.</li>
<li>Fritz Zetik 2016-09-26

    Is there a chance to get it fixed in on time or is it a "big" bug?
    When I asked the support via email, there is no answer at all. 
    The only thing is: Our Team is currently working on that issue.
    Sorry, but this is a blocker for our project. And as I see, there is no 
    Estimation, no story, no session assigned.
    And I can't tell my customer: It will be solved on Thursday .... He asks: which Thursday ? and I can't give him any clue or deadline
    </li>
<li>Todd Miller 2016-09-26

    Have you tried to build with an older version of the SDK? This bug would be a blocker for us as well, but we are able to work-around it by building with SDK 5.3.1.GA...</li>
<li>Fritz Zetik 2016-09-26

    my problem is, i need videos from the camera on android and ios and there is a problem with android 6.0 so we switched to the new code and this worked. so i would need the camera code from 5.5.0 and the web view from 5.3.1 :(</li>
<li>Fritz Zetik 2016-10-03

    5.5.1 GA -> Problem persists.
    
    [INFO] :   WebViewFactory: Loading com.google.android.webview version 54.0.2840.42 (code 284004200)
    [INFO] :   art: Rejecting re-init on previously-failed class java.lang.Class<com.android.webview.chromium.ServiceWorkerControllerAdapter>
    [INFO] :   art: Rejecting re-init on previously-failed class java.lang.Class<com.android.webview.chromium.ServiceWorkerControllerAdapter>
    [INFO] :   art: Rejecting re-init on previously-failed class java.lang.Class<com.android.webview.chromium.TokenBindingManagerAdapter>
    [INFO] :   art: Rejecting re-init on previously-failed class java.lang.Class<com.android.webview.chromium.TokenBindingManagerAdapter>
    [INFO] :   cr_LibraryLoader: Time to load native libraries: 2 ms (timestamps 3009-3011)
    [INFO] :   cr_LibraryLoader: Expected native library version number "54.0.2840.42", actual native library version number "54.0.2840.42"
    [INFO] :   cr_LibraryLoader: Expected native library version number "54.0.2840.42", actual native library version number "54.0.2840.42"
    [INFO] :   chromium: [INFO:library_loader_hooks.cc(151)] Chromium logging enabled: level = 0, default verbosity = 0
    [INFO] :   cr_BrowserStartup: Initializing chromium process, singleProcess=true
    [INFO] :   art: Rejecting re-init on previously-failed class java.lang.Class<com.android.webview.chromium.WebViewContentsClientAdapter$WebResourceErrorImpl>
    [INFO] :   art: Rejecting re-init on previously-failed class java.lang.Class<com.android.webview.chromium.WebViewContentsClientAdapter$WebResourceErrorImpl>
    [INFO] :   art: Rejecting re-init on previously-failed class java.lang.Class<org.chromium.content.browser.FloatingWebActionModeCallback>
    [INFO] :   art: Rejecting re-init on previously-failed class java.lang.Class<org.chromium.content.browser.FloatingWebActionModeCallback>
    [INFO] :   cr_Ime: ImeThread is enabled.
    [ERROR] :  libEGL: validate_display:255 error 3008 (EGL_BAD_DISPLAY)
    [INFO] :   VideoCapabilities: Unsupported profile 4 for video/mp4v-es
    [WARN] :   cr_BindingManager: Cannot call determinedVisibility() - never saw a connection for the pid: 11151
    [ERROR] :  chromium: [ERROR:interface_registry.cc(99)] Failed to locate a binder for interface: autofill::mojom::AutofillDriver
    [WARN] :   cr_BindingManager: Cannot call determinedVisibility() - never saw a connection for the pid: 11151
    [INFO] :   I/TiWebChromeClient.console: (main) [27476,29501] Failed to execute 'play' on 'HTMLMediaElement': API can only be initiated by a user gesture. (16:<a href="http://sportclipone.at//plugins/hwdmediashare/player_mejs/assets/mediaelement-and-player.min.js)" rel="nofollow" target="_blank">http://sportclipone.at//plugins/hwdmediashare/player_mejs/assets/mediaelement-and-player.min.js)</a>
    [INFO] :   Choreographer: Skipped 42 frames!  The application may be doing too much work on its main thread.
    [INFO] :   I/TiWebChromeClient.console: (main) [937,30438] Uncaught (in promise) NotAllowedError: play() can only be initiated by a user gesture. (16:<a href="http://sportclipone.at//plugins/hwdmediashare/player_mejs/assets/mediaelement-and-player.min.js)" rel="nofollow" target="_blank">http://sportclipone.at//plugins/hwdmediashare/player_mejs/assets/mediaelement-and-player.min.js)</a>
    [INFO] :   OMXClient: Using client-side OMX mux.
    [INFO] :   D/ACDB-LOADER(  188): ACDB -> send_afe_cal
    [INFO] :   E/OMX-VDEC-1080P(  188): Extension: OMX.google.android.index.storeMetaDataInBuffers not implemented
    [ERROR] :  ACodec: [OMX.qcom.video.decoder.avc] storeMetaDataInBuffers failed w/ err -2147483648
    [ERROR] :  E/OMX-VDEC-1080P(  188): Enabling Adaptive playback for 1920 x 1080
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188): GET_MV_BUFFER_SIZE returned: Size: 557056 and alignment: 8192
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  E/OMX-VDEC-1080P(  188):
    [ERROR] :  E/OMX-VDEC-1080P(  188):  No color conversion required
    [ERROR] :  chromium: [ERROR:ffmpeg_demuxer.cc(1595)] OnReadFrameDone result=-541478725 IsMaxMemoryUsageReached=0</li>
<li>Gary Mathews 2016-11-07

    master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8587" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8587</a></li>
<li>Be Rushton 2016-11-07

    I've also had numerous issues with webviews on android on anything newer that 5.3.1.  I've had to leave my android builds on this version of the SDK as a work around but this is less than ideal when 5.5.1 is needed for iOS 10 compatibility.  It means switching SDK versions when compiling for different platforms.  Everything points to a commit where for some reason webviews were changed to disable hardware acceleration from 5.4+.
    
    If at all possible it would be great to get this fix back ported to 5.X version of the SDK.  If not at least on a prompt patch release on the 6.X branch.</li>
<li>Samir Mohammed 2016-11-21

    Verified Fixed was able to view the Video with sound using SDK version 6.1.0.v20161121091240. 
    *Environment* 
    <code><pre>
    Appcelerator Command-Line Interface, version 5.5.0
    Android 7.0 (Google Nexus 6P)
    Operating System Name: Mac OS X El Capitan
    Operating System Version: 10.11.6
    Node.js Version: 4.6.0
    npm: 4.2.8
    Titanium CLI Version: 5.0.10
    Titanium SDK Version: 6.1.0.v20161121091240
    Xcode: 8.0
    4.8.0.201611121409
    </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-23885.json">JSON Source</a></p>