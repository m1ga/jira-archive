---
title: "[TIMOB-23899] Hyperloop: iOS - Swift metabase parser can't handle open access level keyword"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-05-03T07:28:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Hyperloop 2.1.1</td></tr>
<tr><th>Components</th><td>Hyperloop, iOS</td></tr>
<tr><th>Labels</th><td>hyperloop, ios, metabase, swift</td></tr>
<tr><th>Reporter</th><td>Brian García</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2016-09-12T14:01:16.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-31T16:22:21.000+0000</td></tr>
</table>

<h3>Description</h3>

When adding this swift file ([<a href="https://github.com/Ramotion/folding-cell" rel="nofollow" target="_blank">https://github.com/Ramotion/folding-cell</a>]) in the src directory and referencing it in appc.js metabase fails to generate with the following error:

{noformat}
2016-09-12T13:56:50.382Z | ERROR  | An uncaught exception was thrown!
Cannot read property '1' of null
2016-09-12T13:56:50.383Z | ERROR  | Cannot read property '1' of null
{noformat}


<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-09-13

   Can you attach the swift-file? I can only find the demo-files around it. And please also attach the (zipped) generated metabase and a full trace-log. Thx!</li>
<li>Brian García 2016-09-13

   of course! here you have : [<a href="https://mega.nz/#" rel="nofollow" target="_blank">https://mega.nz/#</a>!udMQzJgQ]</li>
<li>Hans Knöchel 2016-11-18

   I think [~jvennemann] is currently working on this, together with other Swift-related tickets. Moving it to the upcoming sprint.</li>
<li>Jan Vennemann 2016-11-21

   Investigated a little and this is caused by the the new <code>open</code> access level keyword introduced in Swift 3. Our swift metabase parser currently only checks for declarations with <code>public</code> access level.</li>
<li>Jan Vennemann 2017-04-26

   PR (master): <a href="https://github.com/appcelerator/hyperloop.next/pull/163" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/163</a>
   PR (2_1_X): <a href="https://github.com/appcelerator/hyperloop.next/pull/164" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/164</a>
   
   [~hansknoechel], see the above PRs for a fix to support the <code>open</code> access level keyword. However, the Swift metabase parser has some more issues with the mentioned Swift file regarding proper type resolution. I don't think we should invest more time to solve this for the current Swift metabase parser and rather focus on the rewrite in TIMOB-24632.</li>
<li>Jan Vennemann 2017-05-26

   *Steps for FR*
   1. Edit the <code>src/MySwift.swift</code> file from the [hyperloop-examples](<a href="https://github.com/appcelerator/hyperloop-examples)" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop-examples)</a> project and replace the <code>public</code> keyword with <code>open</code>
   2. Run the app and open the Custom Class view.
   
   *Expected behavior*
   The build should succeed and the view inside the app should show the Swift logo.</li>
<li>Abir Mukherjee 2017-05-31

   Node Version: 6.10.1
   NPM Version: 3.10.10
   Mac OS: 10.12.4
   Appc CLI: 6.2.2
   Appc CLI NPM: 4.2.9
   Titanium SDK version: 6.1.0.GA
   Appcelerator Studio, build: 4.9.0.201705251638
   Xcode 8.3.2
   Hyperloop 2.1.1
   
   I followed the steps in the description using the above environment, and confirmed that I get the expected behavior.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23899.json">JSON Source</a></p>