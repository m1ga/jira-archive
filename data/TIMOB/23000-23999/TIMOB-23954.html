---
title: "[TIMOB-23954] iOS: Events not firing from the child view if created dynamically (using run-on-mainthread)"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-01-03T12:39:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.4.0, Release 5.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, run-on-main-thread</td></tr>
<tr><th>Reporter</th><td>Niraj Kumar</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2016-09-17T20:15:25.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T21:59:27.000+0000</td></tr>
</table>

<h3>Description</h3>

When creating views using Alloy or Classic code of Appcelerator API dynamically and adding those views to the window or view created in other controller, which has event associated with it; the event with the parent view does not get fired when clicked on the child view. Please look into the sample app with this link:
[<a href="https://www.dropbox.com/s/3x82na9nqt7l3oa/SampleApp.zip?dl=0" rel="nofollow" target="_blank">https://www.dropbox.com/s/3x82na9nqt7l3oa/SampleApp.zip?dl=0</a>]

Appcelerator SDK: 5.4.0.GA/5.5.0.GA

*Workaround*: Disable <code>run-on-main-thread</code> temporary.

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-09-18

   You are adding child-views to the container and have the click-listener on the container - which never gets clicked because you click on the children, not the container. So you should rather make the click-listener on each view and delegate the event through a callback to your index-controller.</li>
<li>Niraj Kumar 2016-09-19

   Hi Hans,
   
   Thank you for the reply. I have tried the same code using Appcelerator SDK 5.3.1.GA and earlier and that is working fine. I hope to get the same response from the later SDKs too. Also, in 5.4.0.GA, if we try by adding labels only, it works fine. The problem is with the adding views dynamically only.</li>
<li>Niraj Kumar 2016-09-27

   Should I expect to get the solution now?</li>
<li>Niraj Kumar 2016-09-27

   @Hans: Thanks for the reply. Can you please help me to know where can I get the patch from?</li>
<li>Hans Knöchel 2016-09-27

   Can you see a different behavior when having <code>run-on-main-thread</code> enabled/disabled? it might be relate to TIMOB-23934 which was fixed on master yesterday.</li>
<li>Niraj Kumar 2016-09-27

   When I set the value for <code><pre> run-on-main-thread </pre></code>
    to true, it does not work as expected. But making it false works fine.
   Thanks a lot.</li>
<li>Hans Knöchel 2016-09-27

   Test-case:
   <code><pre>
   var index = Ti.UI.createWindow({
       layout: "vertical",
       backgroundColor: "white",
   });
   var viewContainer = Ti.UI.createView({
       layout: "vertical",
       backgroundColor: "white",
   });
   
   index.add(viewContainer);
   
   // Should also be triggered by it's childs
   index.addEventListener("click", function(e) {
       alert("clicked!");
   });
   
   for (var i = 0; i &lt; 10; i++) {
       var view = Ti.UI.createView({
           height: 40,
           backgroundColor: "red"
       });
       view.add(Ti.UI.createLabel({
           text: "Label " + i
       }));
       viewContainer.add(view);
   }
   
   index.open();
   </pre></code>
   
   As suspected, it works with <code>run-on-main-thread</code> disabled, but is no duplicate of TIMOB-23934. Moved to TIMOB for further investigation!</li>
<li>Hans Knöchel 2016-09-27

   Also interesting: The bubbled click-event from "index" to "viewContainer" works, but the children of "viewContainer" don't.</li>
<li>Dongwoo Gim 2016-12-16

   Is this going on?</li>
<li>Hans Knöchel 2017-01-03

    Resolving as Duplicate of TIMOB-23810 for further investigation by [~vijaysingh]!</li>
<li>Lee Morris 2017-03-22

    Closing ticket as duplicate and links to the related ticket has been provided above.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23954.json">JSON Source</a></p>