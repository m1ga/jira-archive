---
title: "[TIMOB-23957] iOS: Building app with extension containing swift code doesn't set correct Xcode build settings"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-09-29T06:54:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 5.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>iOS, Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2016-09-28T15:49:04.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:49:35.000+0000</td></tr>
</table>

<h3>Description</h3>

When building a Titanium iOS app that has an extension that uses Swift, such as a watch app, it doesn't properly remove the Swift related Xcode build settings. It only does it for the main Titanium project, but not the embedded extension targets.

Also somewhat related, if the extension's <code>Info.plist</code> has a <code>CFBundleIdentifier</code> of <code>$(PRODUCT_BUNDLE_IDENTIFIER)</code>, then it wasn't properly resolving the bundle identifier and causing the build to fail.

<h3>Comments</h3>

<ol>
<li>Chris Barber 2016-09-28

   TiSDK master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8375" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8375</a>
   TiSDK 6_0_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8376" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8376</a></li>
<li>Chris Barber 2016-09-28

   To test, create a new app, then add a watch app to it. Build for <code>dist-appstore</code> and you should run into the <code>CFBundleIdentifier</code> bug. Then when you upload the built app to the app store via Xcode, you should see the Swift config related errors. You may need to use the old Swift 2 based watch project.</li>
<li>Hans Kn√∂chel 2016-09-28

   Thanks for the testing steps. I would prefer to strip out the logging-settings to a different one (and only master), but that should be fine.</li>
<li>Chris Barber 2016-09-28

   [~hansknoechel] I moved the <code>OS_ACTIVITY_MODE</code> setting to TIMOB-23959.</li>
<li>Eric Merriman  2018-08-06

   Cleaning up older fixed issues. If this issue should not have been closed as fixed, please reopen.</li>
</ol>


<p><a href="/TIMOB/TIMOB-23957.json">JSON Source</a></p>