---
title: "[TIMOB-23994] Android: Using __filename in app.js errors with Can't find variable: __filename"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-08-24T01:48:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0, Release 5.5.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Components</th><td>Android, iOS</td></tr>
<tr><th>Labels</th><td>qe-6.0.0</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2016-10-06T15:30:31.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-24T01:48:42.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

*This is not a regression occurs using 5.5.1.GA stack*

When using <code>__filename</code> in an app.js file the following is thrown

*Using __filename in any file other than app.js works*

<code><pre>
[ERROR] :  Application Error: {
[ERROR] :    "line": 2,
[ERROR] :    "column": 10,
[ERROR] :    "message": "require: Error while require(/app) Can't find variable: __filename",
[ERROR] :    "native_stack": [
[ERROR] :      "JSExportClass<class Titanium::GlobalObject>::CallNamedFunction"
[ERROR] :    ]
[ERROR] :  }
</pre></code>

<h4>Steps to reproduce</h4>

<h4>In your app.js add <code>console.log(__filename)</code></h4>
<h4>Build for Android, iOS or Windows</h4>

<h4>Actual result</h4>

The above error is thrown

<h4>Expected result</h4>

__filename should be able to be used in app.js file

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2016-12-20

   Fixed for Windows: <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/903" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/903</a></li>
<li>Hans Knöchel 2017-03-14

   On iOS, the <code>__filename</code> property is injected inside the CommonJS scope. Example:
   app.js
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: '#fff'
   });
   
   var btn = Ti.UI.createButton({
       title: 'Trigger'
   });
   
   btn.addEventListener('click', function() {
       var test = require('/test');
   });
   
   win.add(btn);
   win.open();
   </pre></code>
   test.js:
   <code><pre>
   alert(__filename);
   </pre></code>
   
   This will work. It won't work on the app.js. [~cwilliams] Is this an intended behavior?</li>
<li>Eric Merriman  2017-04-10

   Moving to post 6.1.0.
   </li>
<li>Hans Knöchel 2018-08-09

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/10247" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10247</a></li>
<li>Samir Mohammed 2018-08-14

   *Closing ticket.* Verified fix in SDK version: <code>7.4.0.v20180810061237</code>. Application no longer crashes when using <code>(__filename)</code> or <code>(__dirname)</code>.
   
   *FR Passed (Test Steps):*
   <h4>Created a new application using Titanium</h4>
   <h4>Added the following in to the <code>app.js</code></h4>
   <code><pre>
   Ti.API.info(__dirname);
   Ti.API.info(__filename);
   </pre></code>
   <h4>Ran the program </h4>
   <h4>Application no longer showed an error and the following could be seen in the console </h4>
   <code><pre>
   [INFO] :   /
   [INFO] :   /app.js
   </pre></code>
   *Test Environment*
   <code><pre>
   APPC Studio: 5.1.0.201808080937
   APPC CLI: 7.0.4
   Pixel XL (8.1)
   Operating System Name: Mac OS High Sierra
   Operating System Version: 10.13
   Node.js Version: 8.9.1
   Xcode 9.2
   </pre></code>
   </li>
<li>Samir Mohammed 2018-08-14

   *Edit* SDK Version: {[7.4.0.v20180813131247}} was used.
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-23994.json">JSON Source</a></p>