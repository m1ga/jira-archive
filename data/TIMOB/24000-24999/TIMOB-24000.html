---
title: "[TIMOB-24000] CLI: Module build should error if the apiversion in manifest does not match the SDKs apiversion "
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-11-13T21:59:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0, Release 5.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>cb-tooling, qe-6.0.0</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Created</th><td>2016-10-07T10:53:25.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-27T10:07:58.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When building a module if the apiversion in the manifest does not match the platforms apiversion in the SDK then the module build should fail. Currently if the apiversion is different then the build will take place and the user will produce a module that is not considered to be valid for the SDK it is build against. For example.

* Developer rebuilds Android module for 6.0.0, forgetting to bump apiversion
* User of module downloads the new module, and tries to build
* Build fails as the apiversion does not match

<h4>Steps to reproduce</h4>

<h4>Create a module using <code>ti create -p android --type module --name mymodule --id com.my.mod</code></h4>
<h4>Change the maifest apiversion to 2</h4>
<h4>Build for Android using 6.X SDK</h4>

<h4>Actual result</h4>

Build takes place despite the differing apiversions between SDK and module

<h4>Expected result</h4>

Build should fail as the apiversions are different

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2017-08-08

   [~eharris] Do you think we can make this into 6.2.0 or should it be moved to 7.0.0? Trying to slim down the open tickets a bit.</li>
<li>Ewan Harris 2017-08-08

   I see no urgent need for this to be in 6.2.0, it should probably be done for 7.0.0 to prevent any errors when people rebuild modules agains</li>
<li>Feon Sua Xin Miao 2017-10-27

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/9563" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9563</a>
   
   Note: <code>apiversion</code> and <code>minsdk</code> probably could be the product of the build, they should be injected into the build module's manifest when we have a record of the exact version number that's the min for a given apiversion.</li>
<li>Abir Mukherjee 2017-11-13

   Passed FR. Merged. Changes seen in SDK 7.0.0.v20171114202841.</li>
</ol>


<p><a href="/TIMOB/TIMOB-24000.json">JSON Source</a></p>