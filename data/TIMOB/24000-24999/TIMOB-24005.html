---
title: "[TIMOB-24005] Android: Architectures - armeabi armeabi-v7a cause build error at compiling module"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-10-26T14:50:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>cb-tooling</td></tr>
<tr><th>Reporter</th><td> Ricardo Ramirez</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2016-10-07T19:31:38.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:49:13.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue description </h4>

Customer is trying to build an Titanium Android module. The default manifest file contains "architectures: armeabi armeabi-v7a x86". When customer removes the x86 from this list he get the following error:
<code><pre>
check.build.arch:
     [echo] Architectures in manifest: armeabi armeabi-v7a
     [echo] Compiled binary architectures: armeabi;armeabi-v7a;x86

BUILD FAILED
/Users/collinprice/Library/Application Support/Titanium/mobilesdk/osx/5.3.0.GA/module/android/build.xml:376: The following error occurred while executing this line:
/Users/collinprice/Library/Application 
Support/Titanium/mobilesdk/osx/5.3.0.GA/module/android/build.xml:378: There is discrepancy between the architectures specified in manifest and compiled binary.
</pre></code>

Android module contains a shared object (.so) file that does not support the ABI x86 (why?). 

<h4>Steps to reproduce</h4>

<h4>Create appc module running appc new command</h4>
<h4>Change the architecture list in the manifest file:</h4>
Default:
architectures: armeabi armeabi-v7a x86
What customer want:
architectures: armeabi armeabi-v7a
<h4>Looks like the issue is with the compilation of the module. When you run "ant" to compile the module I am getting the BUILD FAILED error.</h4>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24005_60599/arch-test-log.txt">arch-test-log.txt</td></td><td>2016-10-24T19:51:38.000+0000</td><td>40459</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2016-10-11

   TiSDK master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8501" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8501</a>
   
   To test, create a Titanium module, edit the <code>manifest</code> and change the "architectures" line to <code>architectures: armeabi-v7a</code>, then <code>cd android && ti build -p android --build-only</code>. Verify the <code>libs</code> and <code>dist/&lt;whatever&gt;.zip</code> file only contains the desired architectures.</li>
<li>Chee Kiat Ng 2016-10-12

   We need a backport for this on 6.0.0 :) [~cbarber]
   
   To test using appc, you can follow the above instructions but instead,
   1. appc new (choose timodule)
   2. edit the manifest
   3. cd android && appc run -p android --build-only
   
   </li>
<li>Chris Barber 2016-10-12

   6_0_X backport: <a href="https://github.com/appcelerator/titanium_mobile/pull/8502" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8502</a></li>
<li>Chee Kiat Ng 2016-10-12

   CR AND FT PASSED. APPROVED.</li>
<li>Carlos Henrique Zinato 2016-11-16

   is it possible to build the module with ANT anyway or only using appc cli?</li>
<li>Eric Merriman  2018-08-06

   Cleaning up older fixed issues. If this issue should not have been closed as fixed, please reopen.</li>
</ol>


<p><a href="/TIMOB/TIMOB-24005.json">JSON Source</a></p>