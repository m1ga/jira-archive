---
title: "[TIMOB-24072] iOS: Classic projects always invoke xcodebuild; Differential builds"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2016-11-04T02:51:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-6.0.0</td></tr>
<tr><th>Reporter</th><td>Eric Wieber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2016-10-25T18:42:20.000+0000</td></tr>
<tr><th>Updated</th><td>2016-11-09T22:18:30.000+0000</td></tr>
</table>

<h3>Description</h3>

When building a Classic project, I always see <code>[INFO]  Invoking xcodebuild</code> during the build, even when performing a subsequent build with no changes. The reason appears to be:
<code>[INFO]  Forcing rebuild: image was updated, recompiling asset catalog</code>

I also see that many files that should be skipped are getting copied/overwritten:
<code><pre>
[TRACE] No change, skipping /Users/Eric/Documents/Appcelerator_Studio_Workspace/diffClassic/build/iphone/Assets.xcassets/f58b0d04f3ad524648680e9940fb4e77323cb9bb.imageset/tab1.png
[DEBUG] Overwriting /Users/Eric/Documents/Appcelerator_Studio_Workspace/diffClassic/Resources/assets/images/tab1.png => /Users/Eric/Documents/Appcelerator_Studio_Workspace/diffClassic/build/iphone/Assets.xcassets/f58b0d04f3ad524648680e9940fb4e77323cb9bb.imageset/tab1.png
</pre></code>

*Steps to reproduce issue*
1. Create a new Classic project
2. Build that project for iOS sim
3. Build the project again for the same iOS sim

*Expected Results*
Xcodebuild is skipped as there are no changes to the project

*Actual Results*
Xcodebuild is invoked on each build

*Notes*
I am attaching my full build log

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24072_60605/diffbuild log.txt">diffbuild log.txt</td></td><td>2016-10-25T18:41:45.000+0000</td><td>280163</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Chee Kiat Ng 2016-10-26

   Is there a difference when you toggle <use-app-thinning> in tiapp.xml? [~ewieber]</li>
<li>Eric Wieber 2016-10-26

   [~cng], for the most part, yes. I changed app-thinning to false, saved, and built the app multiple times. The first two builds were the same and invoked xcodebuild (I would expect this with the first build after changing the tiapp, but not the second), however every build after that has skipped xcodebuild correctly. Cleaning and rebuilding caused xcodebuild to be invoked at the correct times.
   I still see "skipped" files being copied and overwritten, though.</li>
<li>Hans Kn√∂chel 2016-10-29

   When using the app-thinning, we generate the asset-catalog / Contents.json on [every build](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/iphone/cli/commands/_build.js#L5445)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/iphone/cli/commands/_build.js#L5445).</a> So couldn't we just compare the existing asset catalog with the one what wants to be written and skip the writing if they already match?</li>
<li>Chris Barber 2016-11-03

   tisdk master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8581" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8581</a>
   tisdk 6_0_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8582" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8582</a></li>
<li>Chee Kiat Ng 2016-11-04

   CR AND FT PASSED. PRs merged.</li>
<li>Eric Wieber 2016-11-09

   Verified fixed, using:
   MacOS 10.12 (16A323)
   Studio 4.8.0.201611020954
   Ti SDK 6.0.0.v20161109075403
   Appc NPM 4.2.8-9
   Appc CLI 6.0.0-69
   Alloy 1.9.4
   Xcode 8.1 (8B62)
   
   Skipped files are no longer overwritten and xodebuild can be correctly skipped. Tested by creating a new Classic app, building it for iOS sim, then building it several more times for the same iOS sim, with no changes to the project.</li>
</ol>


<p><a href="/TIMOB/TIMOB-24072.json">JSON Source</a></p>