---
title: "[TIMOB-24125] Windows: Calling insertRowBefore with an existing row causes application to freeze"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-02-06T07:59:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>qe-6.0.0</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2016-11-09T14:20:01.000+0000</td></tr>
<tr><th>Updated</th><td>2017-02-06T22:14:02.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>
When calling insertRowBefore with a row that has been taken from the table, not a dictionary or a newly created row, the application appears to freeze

<code><pre>
var _window = Ti.UI.createWindow();
var table = Ti.UI.createTableView({
    top: 0,
    bottom: 0
});

var tableData = [];

for (var i = 0; i &lt; 10; i++) {
    tableData.push(Ti.UI.createTableViewRow({
        title: "Row " + (i + 1)
}));
}

table.setData(tableData);

_window.add(table);

table.addEventListener("click", function(e) {
    var row = table.data[e.index];
    Ti.API.info('index');
    Ti.API.info(e.index);
    Ti.API.info(row.title);
    table.insertRowBefore(0, row);
});
_window.open();
</pre></code>

<h4>Steps to reproduce</h4>

<h4>Add the code above to an existing app.js</h4>
<h4>Build for Windows Platform</h4>
<h4>Tap a row</h4>

<h4>Actual result</h4>

Application appears to freeze on the row click

<h4>Expected result</h4>

A duplicate of the row clicked should be added to the top of the tableview

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24125_61455/6.1.0.v20170206114448.PNG">6.1.0.v20170206114448.PNG</td></td><td>2017-02-06T22:05:34.000+0000</td><td>19637</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24125_61456/Before.PNG">Before.PNG</td></td><td>2017-02-06T22:12:23.000+0000</td><td>13908</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24125_61338/list.png">list.png</td></td><td>2017-01-30T11:52:12.000+0000</td><td>2333</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2017-02-02

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/939" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/939</a></li>
<li>Samir Mohammed 2017-02-06

   Verified fixed with the test code provided in the description, was able to verify that a new row is added to the top of the tableview when an existing row is clicked. 
   
   The screenshot below shows that rows are added to the top of the table view when clicking on a row. (Shows before and after clicking on random rows)
   !Before.PNG|thumbnail!     !6.1.0.v20170206114448.PNG|thumbnail!
   
   *Environment*
   <code><pre>
   Phone : Lumia 640 LTE (RM-1073)
   Operating System:
   Name                        = Microsoft Windows 10 Pro
   Version                     = 10.0.14393
   Architecture                = 32bit
   <h4>CPUs                      = 4</h4>
   Memory                      = 17034395648
    
   Node.js:
   Node.js Version             = 4.6.0 
   npm Version                 = 2.15.9
    
   Titanium SDK:
   SDK Version                 = 6.1.0.v20170206114448
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-24125.json">JSON Source</a></p>