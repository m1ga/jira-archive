---
title: "[TIMOB-24166] Unable to adding support-compat-24.2.0.jar to Android Module"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-11-13T17:59:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-11-23T01:46:18.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-13T17:59:04.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

Custom facing problem:

"I'm trying to import android.support.v4.app.NotificationCompat class in my Appcelerator Android Module project.
To do this I have added jar 'support-compat-24.2.0.jar' in the lib folder. This has resolved all the import errors in the module."

<h4>Reproduce</h4>

1. Attached test Module customer created. 
2. Simply import and require it into a default app. 
Like: <code><pre>var testmodule = require('com.abc.mcoe.testmodule');</pre></code>
3. Run the app. Will get following error.

<h4>Error</h4>
<code><pre>
[ERROR] :  Failed to run dexer:
[ERROR] :  
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/internal/view/SupportSubMenu;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/internal/view/SupportMenu;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/internal/view/SupportMenuItem;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/NotificationManagerCompat;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/NotificationCompat$Style;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/NotificationCompat$NotificationCompatImplJellybean;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/ShareCompat$ShareCompatImplJB;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/NotificationCompat$Action$1;
[ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/NotificationCompat$Builder;
[ERROR] :  
[ERROR] :  UNEXPECTED TOP-LEVEL EXCEPTION:
[ERROR] :  java.lang.RuntimeException: Translation has been interrupted
[ERROR] :  	at com.android.dx.command.dexer.Main.processAllFiles(Main.java:608)
[ERROR] :  	at com.android.dx.command.dexer.Main.runMonoDex(Main.java:311)
[ERROR] :  	at com.android.dx.command.dexer.Main.run(Main.java:277)
[ERROR] :  	at com.android.dx.command.dexer.Main.main(Main.java:245)
[ERROR] :  	at com.android.dx.command.Main.main(Main.java:106)
[ERROR] :  Caused by: java.lang.InterruptedException: Too many errors
[ERROR] :  	at com.android.dx.command.dexer.Main.processAllFiles(Main.java:600)
[ERROR] :  	... 4 more
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24166_60766/testmodule.zip">testmodule.zip</td></td><td>2016-11-23T01:45:55.000+0000</td><td>2668312</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2016-11-23

   [~sliang] Upgrade to 6.0.0, remove <code>support-compat-24.2.0.jar</code> from your libs folder and run <code>appc run -p android --build-only</code> in the <code>android</code> directory of your module project.
   
   <code>android-support-v4.jar</code> should already be included for <code>android.support.v4.app.NotificationCompat</code>
   
   Let me know if that solves the issue.</li>
<li>Gary Mathews 2017-01-10

   I compiled the testmodule using 6.0.1.GA without the included 'support-compat-24.2.0.jar' and imported it into a test project (also compiled with 6.0.1.GA).
   
   <code><pre>
   var testmodule = require('com.abc.mcoe.testmodule');
   Ti.API.info('testmodule: ' + testmodule);
   </pre></code>
   <code><pre>
   I/TiAPI:  testmodule: [object Object]
   </pre></code>
   
   The app runs fine and does not crash.</li>
<li>Neeraj Mishra 2017-03-01

   [~gmathews]: The problem here is if in the module we import the below statement (customer wants to use the library in module) and to resolve the reference we would have to add the 'support-compat-24.2.0.jar' in /android/lib directory in module. Module packaging works perfectly fine. Now we import the module in app test project with same code you ran above, then building the app project would throw the error messages as below.
   
   <h4>Import statement in module:</h4>
   import android.support.v4.app.NotificationCompat;
   
   <h4>Error messages</h4>
   <code><pre>
   Packaging application: /Users/nmishra/Library/android-sdk-macosx/build-tools/23.0.1/aapt "package" "-f" "-m" "-J" "/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/build/android/gen" "-M" "/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/build/android/AndroidManifest.xml" "-A" "/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/build/android/bin/assets" "-S" "/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/build/android/res" "-I" "/Users/nmishra/Library/android-sdk-macosx/platforms/android-23/android.jar" "-F" "/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/build/android/bin/app.ap_" "--auto-add-overlay" "--extra-packages" "ti.modules.titanium.ui:android.support.v7.appcompat:android.support.v7.cardview" "-S" "/var/folders/2m/ln867lq52w15tlw7tpkw6nv0_kfn0r/T/117128-18997-13aet6j/res" "-S" "/var/folders/2m/ln867lq52w15tlw7tpkw6nv0_kfn0r/T/117128-18997-1lumtg4/res" "-S" "/var/folders/2m/ln867lq52w15tlw7tpkw6nv0_kfn0r/T/117128-18997-x5vx3m/res"
   [INFO] :   Building Java source files: /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home/bin/javac "-J-Xmx1024M" "-encoding" "utf8" "-bootclasspath" "/Users/nmishra/Library/android-sdk-macosx/platforms/android-23/android.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/kroll-v8.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-analytics.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/aps-analytics.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-android.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/jaxen-1.1.1.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/ti-commons-codec-1.3.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/kroll-common.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/titanium.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/android-support-multidex.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-filesystem.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-app.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-ui.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/nineoldandroids-appc-2.4.0.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-media.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-appcompat.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/android-support-v4.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/android-support-v7-appcompat.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-cardview.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/cardview-v7-23.0.1.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-locale.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-network.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-xml.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-utils.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-geolocation.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-accelerometer.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-contacts.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-map.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-calendar.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-gesture.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-platform.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-database.jar:/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/modules/android/com.abc.mcoe.testmodule/1.0.0/testmodule.jar:/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/modules/android/com.abc.mcoe.testmodule/1.0.0/lib/support-compat-24.2.0.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/kroll-apt.jar:/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/lib/titanium-verify.jar:R.class:Abc_jar_issueActivity.class:Abc_jar_issueAppInfo.class:Abc_jar_issueApplication.class:AssetCryptImpl.class" "-d" "/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/build/android/bin/classes" "-proc:none" "-target" "1.6" "-source" "1.6" "@/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/build/android/java-sources.txt"
   [INFO] :   Running dexer: /Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home/bin/java "-Xmx1024M" "-XX:-UseGCOverheadLimit" "-Djava.ext.dirs=/Users/nmishra/Library/android-sdk-macosx/platform-tools" "-jar" "/Users/nmishra/Library/android-sdk-macosx/build-tools/23.0.1/lib/dx.jar" "--dex" "--multi-dex" "--output=/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/build/android/bin/dexfiles" "/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/build/android/bin/classes" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/lib/titanium-verify.jar" "/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/modules/android/com.abc.mcoe.testmodule/1.0.0/testmodule.jar" "/Users/nmishra/Documents/Appcelerator_Studio_Workspace/ABC_jar_issue/modules/android/com.abc.mcoe.testmodule/1.0.0/lib/support-compat-24.2.0.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/kroll-v8.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-analytics.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/aps-analytics.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-android.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/jaxen-1.1.1.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/ti-commons-codec-1.3.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/kroll-common.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/titanium.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/android-support-multidex.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-filesystem.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-app.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-ui.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/nineoldandroids-appc-2.4.0.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-media.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-appcompat.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/android-support-v4.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/android-support-v7-appcompat.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-cardview.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/cardview-v7-23.0.1.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-locale.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-network.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-xml.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-utils.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-geolocation.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-accelerometer.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-contacts.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-map.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-calendar.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-gesture.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-platform.jar" "/Users/nmishra/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android/modules/titanium-database.jar"
   [ERROR] :  Failed to run dexer:
   [ERROR] :  
   [ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/internal/view/SupportSubMenu;
   [ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/internal/view/SupportMenu;
   [ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/internal/view/SupportMenuItem;
   [ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/NotificationManagerCompat;
   [ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/NotificationCompat$Style;
   [ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/NotificationCompat$NotificationCompatImplJellybean;
   [ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/ShareCompat$ShareCompatImplJB;
   [ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/NotificationCompat$Action$1;
   [ERROR] :  Uncaught translation error: java.lang.IllegalArgumentException: already added: Landroid/support/v4/app/NotificationCompat$Builder;
   [ERROR] :  
   [ERROR] :  UNEXPECTED TOP-LEVEL EXCEPTION:
   [ERROR] :  java.lang.RuntimeException: Translation has been interrupted
   [ERROR] :  	at com.android.dx.command.dexer.Main.processAllFiles(Main.java:608)
   [ERROR] :  	at com.android.dx.command.dexer.Main.runMultiDex(Main.java:366)
   [ERROR] :  	at com.android.dx.command.dexer.Main.run(Main.java:275)
   [ERROR] :  	at com.android.dx.command.dexer.Main.main(Main.java:245)
   [ERROR] :  	at com.android.dx.command.Main.main(Main.java:106)
   [ERROR] :  Caused by: java.lang.InterruptedException: Too many errors
   [ERROR] :  	at com.android.dx.command.dexer.Main.processAllFiles(Main.java:600)
   [ERROR] :  	... 4 more
   </pre></code>
   
   
   
   </li>
<li>Jan Vennemann 2017-03-02

   [~nmishra], as Gary already pointed out, you do not need to explicitly add the Android Support Library to the module to use it. I tested it with both CLI and Studio and the build works just fine with <code>import android.support.v4.app.NotificationCompat;</code>.
   
   To remove the warning in Appcelerator Studio that the import cannot be resolved you can do the following: 
   
   1. Right-click the module project (root folder) and select *Properties* to open the project's properties dialog.
   2. In the left pane, select *Java Build Path*.
   3. In the right pane, click the *Libraries* tab.
   4. Click the *Add External JARs...* button to open the JAR Selection dialog.
   5. Navigate to <code>~/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA/android</code> folder and select the <code>android-support-v4</code> JAR.
   6. Click Open. The JAR should be added to the JARs list.
   7. Click OK to dismiss the dialog.
   
   If the issue still persists, please provide detailed steps to reproduce it.</li>
<li>Neeraj Mishra 2017-03-02

   [~jvennemann] : Thanks much. It really worked like charm. We just could not find what was the conflicting jar from sdk.</li>
</ol>


<p><a href="/TIMOB/TIMOB-24166.json">JSON Source</a></p>