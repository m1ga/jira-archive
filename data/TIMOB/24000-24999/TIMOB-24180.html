---
title: "[TIMOB-24180] Hyperloop: iOS - Swift files referencing each other break metabase generation"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Hyperloop 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Hyperloop, iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jan Vennemann</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2016-11-29T16:35:13.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:56.000+0000</td></tr>
</table>

<h3>Description</h3>

*Steps to reproduce the behavior*
1. Create a new Hyperloop enabled project
2. Add the following sample code under <code>src</code>:
<code>MySwift.swift</code>
<code><pre>
import Foundation

public class MySwift {
	init() {
		let test = Test()
	}
}

</pre></code>

<code>Test.swift</code>
<code><pre>
import Foundation

public class Test {
    public func sayHello() {
        print("Hello")
    }
}
</pre></code>
3. Add a <code>appc.js</code> to the project root with the following content:
<code><pre>
module.exports = {
	type: 'app',
	group: 'titanium',
	hyperloop: {
		ios: {
			thirdparty: {
				'MyFramework': {
					source: ['src'],
					header: 'src',
					resource: 'src'
				}
			}
		}
	}
};
</pre></code>
4. Add <code>var MySwift = require('MyFramework/MySwift');</code> to <code>app/controller/index.js</code> to trigger Hyperloop's metabase generation
5. Build the project with <code>appc run -p ios</code>

*Actual behavior*
Metabase generation fails with the following error:
<code><pre>
[INFO]  Generating metabase for swift MyFramework /Users/jvennemann/Development/appc/hyperloop-examples/src/MySwift.swift
[ERROR] /Users/jvennemann/Development/appc/hyperloop-examples/src/MySwift.swift:5:14: error: use of unresolved identifier 'Test'
</pre></code>

*Expected behavior*
Metabase generation succeeds and one can reference types from other Swift source files.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-24180.json">JSON Source</a></p>