---
title: "[TIMOB-24181] Parity: ListItem properties set to undefined/null have inconsistent results on iOS and Android"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-05-17T22:09:59.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>parity</td></tr>
<tr><th>Reporter</th><td>Shawn Lan</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2016-03-12T02:01:10.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-17T22:34:30.000+0000</td></tr>
</table>

<h3>Description</h3>

index.xml
<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container"&gt;
		&lt;ListView defaultItemTemplate="template"&gt;
            &lt;Templates&gt;
                &lt;ItemTemplate name="template" accessoryType="Ti.UI.LIST_ACCESSORY_TYPE_DISCLOSURE" backgroundColor="red"&gt;
                    &lt;Label bindId="title" /&gt;
                &lt;/ItemTemplate&gt;
            &lt;/Templates&gt;
			&lt;ListSection id="listsection1" /&gt;
		&lt;/ListView&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

index.js
<code><pre>
$.index.open();

var listitem = {
	properties:{
		accessoryType: undefined,
		backgroundColor:undefined
	},
	title:{text:'List Item Title'}
};
$.listsection1.setItems([listitem]);
</pre></code>

On iOS, the properties fall back to the values set in the template. On Android, the properties fall back to the default values.

This is inconvenient for cross-platform development.

<h3>Comments</h3>

<ol>
<li>Feon Sua Xin Miao 2016-11-29

   SDK 5.5.1.GA, 6.0.0.GA
   This is reproducible by the following classic app:
   
   <code><pre>
   var template = {
   	properties: {
           name: "template",
   		accessoryType: Ti.UI.LIST_ACCESSORY_TYPE_DISCLOSURE,
           backgroundColor: 'red'
   	},
   	childTemplates: [
   	{
   		type: 'Ti.UI.Label',
   		bindId: 'title',
   		properties: {
   			bindId: 'title'
   		}
   	}
   	]
   };
   
   var win = Ti.UI.createWindow({ title: 'Complex Templates' });
   var section = Ti.UI.createListSection();
   var listView = Ti.UI.createListView({
   	sections: [section],
   	templates: { 'template': template },
   	defaultItemTemplate: 'template'
   });
   var item = {
   	properties: {
   		accessoryType: undefined,
   		backgroundColor: undefined
   	},
   	title: {
   		text: "List Item Title"
   	}
   };
   section.setItems([item]);
   win.add(listView);
   win.open();
   </pre></code></li>
<li>Chee Kiat Ng 2016-11-30

   So the expected result is that android falls back to the values set in the template right?</li>
<li>Frankie Merzadyan 2016-12-09

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8670" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8670</a>
   6_1_0: <a href="https://github.com/appcelerator/titanium_mobile/pull/9017" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9017</a></li>
<li>Abir Mukherjee 2017-05-09

   FAILED FR with this environment:
   
   Node Version: 6.10.1
   NPM Version: 3.10.10
   Mac OS: 10.12.4
   Appc CLI: 6.2.0
   Appc CLI NPM: 4.2.9
   Titanium SDK versions: 6.1.0, 6.2.0 locally built (on appropriate branch)
   Appcelerator Studio, build: 4.8.1.201612050850
   Xcode 8.3.2
   Android device 6.0.1
   iOS Device 10.3 
   
   On iOS device, the background of the Title is red as expected. On the Android device it is black. Per the ticket, it should be red. I tested the demo code in the PR (classic version) and the Alloy version in the ticket.</li>
<li>Samir Mohammed 2017-05-17

   Verified fix in 6.2.0.v20170517150008 and 6.1.0.v20170517143931. Test and other information can be found at:
   Master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8670" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8670</a> 
   6_1_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/9017" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9017</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-24181.json">JSON Source</a></p>