---
title: "[TIMOB-24212] Android: run-on-main-thread - can not resume app"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2016-12-14T14:05:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0, Release 5.5.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, resume, run-on-main-thread</td></tr>
<tr><th>Reporter</th><td>Christoph Eck</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-12-12T10:13:21.000+0000</td></tr>
<tr><th>Updated</th><td>2017-01-20T19:13:44.000+0000</td></tr>
</table>

<h3>Description</h3>

*Problem*
Using an empty application with 
<code><property name="run-on-main-thread" type="bool">true</property></code>
set in tiapp.xml. It does not handle the resume properly. The application freezes after a resume of the application by pressing the back button on the android device and starting it again.

_Actual behaviour_: 
<h4>Start the application</h4>
<h4>Shows the startup screen </h4>
<h4>Shows the label "Hello world"</h4>
<h4>click on back button of the device</h4>
<h4>Application goes in background state and closes it</h4>
<h4>Start the application again</h4>
<h4>Shows the startup screen (Red titanium / appcelerator screen)</h4>
<h4>Keeps showing the startup screen, the label "Hello world" is not shown</h4>

_Expected behaviour_:
<h4>Start the application</h4>
<h4>Shows the startup screen </h4>
<h4>Shows the label "Hello world"</h4>
<h4>click on back button of the device</h4>
<h4>Application goes in background state and closes it</h4>
<h4>Start the application again</h4>
<h4>Shows the startup screen </h4>
<h4>Shows the label "Hello world"</h4>

*Test case*
[^tiapp.xml]: includes
<ti:app 
  xmlns:ti="<a href="http://ti.appcelerator.org" rel="nofollow" target="_blank">http://ti.appcelerator.org</a>">
...
  <property name="run-on-main-thread" type="bool">true</property>
...
</ti:app>

[^index.js]:
var win = Ti.UI.createWindow();
var label = Ti.UI.createLabel({ text: "Hello World" });
win.add(label);
win.open();

*Community Discussion*
In Jira AC-4588 is the same topic described.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24212_61058/index.js">index.js</td></td><td>2016-12-12T10:10:08.000+0000</td><td>116</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24212_61059/tiapp.xml">tiapp.xml</td></td><td>2016-12-12T10:03:34.000+0000</td><td>2043</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2016-12-14

   Duplicate of TIMOB-23901, already fixed in <code>6.0.0</code></li>
<li>Lokesh Choudhary 2017-01-20

   Closing as duplicate.</li>
</ol>


<p><a href="/TIMOB/TIMOB-24212.json">JSON Source</a></p>