---
title: "[TIMOB-24216] Icons on ti.map (Android) not fully working"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>android, annotation, engSchedule, image, map</td></tr>
<tr><th>Reporter</th><td>John Dalsgaard</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-12-09T11:16:12.000+0000</td></tr>
<tr><th>Updated</th><td>2019-09-24T15:48:28.000+0000</td></tr>
</table>

<h3>Description</h3>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24216_61040/Screen 1.png">Screen 1.png</td></td><td>2016-12-09T10:51:17.000+0000</td><td>328442</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24216_61039/Screen 2.png">Screen 2.png</td></td><td>2016-12-09T10:59:20.000+0000</td><td>327268</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24216_61038/Screen 3.png">Screen 3.png</td></td><td>2016-12-09T10:59:25.000+0000</td><td>332242</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24216_61037/Screen 4.png">Screen 4.png</td></td><td>2016-12-09T10:59:30.000+0000</td><td>330678</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24216_61036/Screen 5.png">Screen 5.png</td></td><td>2016-12-09T11:04:02.000+0000</td><td>328953</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24216_61035/Screen 6.png">Screen 6.png</td></td><td>2016-12-09T11:06:36.000+0000</td><td>329599</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24216_61034/Screen 7.png">Screen 7.png</td></td><td>2016-12-09T11:15:28.000+0000</td><td>327726</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-12-10

   Hello, I have tested your issue. Here are my observations
   
   <h4>Test 1: Using imageView blob, I can see the annotation. Which you said you can't. Here is my code:</h4>
   <code><pre>
   var annotationView = Ti.UI.createView({
   
       width : 50,
   
       height : 50,
   
       opacity : 0.8,
   
       borderRadius : 25,
       
       //backgroundColor : '#2a3b0a',
   
   });
   
   var imageView = Ti.UI.createImageView({
   
       width : 35,
   
       height : 35,
   
       opacity : 1,
   
       image : '/images/zeroTrip.png'
   
   });
   
   annotationView.add(imageView);
   
   var anno = Map.createAnnotation({
       latitude : "38.7334226",
       longitude : "-77.7719012",
       title : "Location Title",
       subtitle : "Location Subtitle",
       image : imageView.toImage(),
       //image : '/images/zeroTrip.png',
       //image : annotationView.toImage()
   });
   
   var map = Map.createView({
       width : Ti.UI.FILL,
       height : 250,
       mapType : Map.NORMAL_TYPE,
       regionFit : true,
       userLocation : true,
       annotations : [anno],
   
       region : {
           latitude : "38.7334226",
           latitudeDelta : 0.05,
           longitude : "-77.7719012",
           longitudeDelta : 0.05
       }
   });
   //map.add(annotationView);
   </pre></code>
   Side note: Adding annotationView to map cause the annotation disappear.
   
   <h4>Test 2: Using image reference (url), I see the annotation image slightly smaller than test 1. Changed code section:</h4>
   <code><pre>
   var anno = Map.createAnnotation({
       latitude : "38.7334226",
       longitude : "-77.7719012",
       title : "Location Title",
       subtitle : "Location Subtitle",
       //image : imageView.toImage(),
       image : '/images/zeroTrip.png',
       //image : annotationView.toImage()
   });
   </pre></code>
   <h4>Test 3: Rerun test 1(using image blob). Weirdly the annotainon image does not show for me. Which your case you said it does. Changed code section:</h4>
   <code><pre>
   var anno = Map.createAnnotation({
       latitude : "38.7334226",
       longitude : "-77.7719012",
       title : "Location Title",
       subtitle : "Location Subtitle",
       image : imageView.toImage(),
       //image : '/images/zeroTrip.png'
   });
   </pre></code>
   Side note: Adding annotationView to map cause the annotation appear.
   
   <h4>Test 4: Using image blob with background, I can reproduce the behavior you described. Changed code section:</h4>
   <code><pre>
   var imageView = Ti.UI.createImageView({
   
       width : 35,
   
       height : 35,
   
       opacity : 1,
       
       backgroundColor : '#2a3b0a',
   
       image : '/images/zeroTrip.png'
   
   });
   </pre></code>
   
   <h4>Test 5: Using image blob on top of a view with background. I can reproduce the behavior you described. Changed code section:</h4>
   <code><pre>
   var annotationView = Ti.UI.createView({
   
       width : 50,
   
       height : 50,
   
       opacity : 0.8,
   
       //borderRadius : 25,
   
       backgroundColor : '#2a3b0a',
   
   });
   
   var imageView = Ti.UI.createImageView({
   
       width : 35,
   
       height : 35,
   
       opacity : 1,
   
       image : '/images/zeroTrip.png'
   
   });
   
   annotationView.add(imageView);
   
   var anno = Map.createAnnotation({
       latitude : "38.7334226",
       longitude : "-77.7719012",
       title : "Location Title",
       subtitle : "Location Subtitle",
       //image : imageView.toImage(),
       //image : '/images/zeroTrip.png',
       image : annotationView.toImage()
   });
   </pre></code>
   Side note: using borderRadius in view causes the image to disappear also the background (Test 6).
   
   Thanks.
   
   
   
   
   
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-24216.json">JSON Source</a></p>