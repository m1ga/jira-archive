---
title: "[TIMOB-24223] Universal Windows App (UWP) not getting the correct source.id"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-02-03T16:27:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Windows, Windows phone</td></tr>
<tr><th>Labels</th><td>eng-priority, parity</td></tr>
<tr><th>Reporter</th><td>Neeraj Mishra</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2016-12-14T04:22:05.000+0000</td></tr>
<tr><th>Updated</th><td>2017-02-09T22:10:55.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue: </h4>
When wrapping inner views inside an outer view and adding a click event listener in the outer view, the feedback gotten from the click event object in regards to what the source of the click is, is incorrect IN WINDOWS.

<h4>REPRODUCE</h4>
1. Create a simple app like attached.
2. Run it on Windows, iOS and Android device.
3.  Click on any of the four red squares

<h4>ACTUAL RESULT</h4>
 See the console output prints _evt.source.id==win, even if you explicitly click within the red areas, whereas in iOS and Android, the console prints  _evt.source.id==innerWrapper1, _evt.source.id==innerWrapper2 _evt.source.id==innerWrapper3 and _evt.source.id==innerWrapper4, respectively.

<h4>EXPECT RESULT</h4>
It should work well like it shows output  on Android and iOS

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24223_61538/6.0.1.GA.PNG">6.0.1.GA.PNG</td></td><td>2017-02-09T22:04:13.000+0000</td><td>8879</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24223_61324/6.0.1.PNG">6.0.1.PNG</td></td><td>2017-01-25T22:41:22.000+0000</td><td>8996</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24223_61325/6.1.0.v20170125103400.PNG">6.1.0.v20170125103400.PNG</td></td><td>2017-01-25T22:41:22.000+0000</td><td>9077</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24223_61537/6.1.0.v20170209111025.PNG">6.1.0.v20170209111025.PNG</td></td><td>2017-02-09T22:04:13.000+0000</td><td>9118</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24223_61536/6.1.0.v20170209111025 n.PNG">6.1.0.v20170209111025 n.PNG</td></td><td>2017-02-09T22:04:13.000+0000</td><td>9231</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24223_61085/index.js">index.js</td></td><td>2016-12-14T04:21:24.000+0000</td><td>127</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24223_61086/index.tss">index.tss</td></td><td>2016-12-14T04:21:18.000+0000</td><td>358</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24223_61087/index.xml">index.xml</td></td><td>2016-12-14T04:21:14.000+0000</td><td>298</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24223_61472/Screen Shot 2017-02-07 at 1.58.31 PM.png">Screen Shot 2017-02-07 at 1.58.31 PM.png</td></td><td>2017-02-07T21:59:38.000+0000</td><td>28374</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2017-01-09

   I was able to reproduce this. I think this is a parity issue, I remember we had similar issue before: TIMOB-23352 </li>
<li>Kota Iguchi 2017-01-12

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/924" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/924</a></li>
<li>Samir Mohammed 2017-01-25

   Verified fixed with the test case provided in <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/924." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/924.</a> Was able to see the correct source.id on the multiple views included in the test case.
   Before:
   !6.0.1.PNG|thumbnail!
   After:
   !6.1.0.v20170125103400.PNG|thumbnail!
   
   *Environment*
   <code><pre>
   Lumia 640 LTE (RM-1073) (OS Build 10.0.14393.693)
   Mobile emulator 10.0.14393.0 1080p 6inch 2gb
   Operating System
   Name                        = Microsoft Windows 10 Pro
   Version                     = 10.0.14393
   Architecture                = 64bit
   <h4>CPUs                      = 4</h4>
   Memory                      = 17034395648
    
   Node.js
   Node.js Version             = 4.6.0 
   npm Version                 = 2.11.3
    
   Titanium SDK
   SDK Version                 =  6.1.0.v20170125103400
   </pre></code>
   </li>
<li>Kota Iguchi 2017-02-03

   Reopening this, confirmed that this does not work when <code>View</code> is nested. Here's a sample code (classic).
   
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: 'green',
       id: 'win',
       layout: 'vertical'
   });
   
   var view = Ti.UI.createView({
       backgroundColor: 'white',
       width: Ti.UI.FILL, height: Ti.UI.FILL,
       id: 'view',
       layout: 'vertical'
   });
   
   var view1 = Ti.UI.createView({
       backgroundColor: 'red',
       width: 100, height: 100,
       id: 'view1'
   }),
   view2 = Ti.UI.createView({
       backgroundColor: 'black',
       width: 100, height: 100,
       id: 'view2'
   }),
   view3 = Ti.UI.createView({
       backgroundColor: 'blue',
       width: 100, height: 100,
       id: 'view3'
   }),
   view4 = Ti.UI.createView({
       backgroundColor: 'yellow',
       width: 100, height: 100,
       id: 'view4'
   });
   
   win.addEventListener('click', function (e) {
       alert(e.source.id);
   });
   
   view.add(view1);
   view.add(view2);
   view.add(view3);
   view.add(view4);
   win.add(view);
   win.open();
   </pre></code></li>
<li>Kota Iguchi 2017-02-03

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/943" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/943</a></li>
<li>Samir Mohammed 2017-02-07

   Hey [~kota] with the test code provided in <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/943" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/943</a> I am still getting no source.id.
   
   !Screen Shot 2017-02-07 at 1.58.31 PM.png|thumbnail!
   
   <code><pre>
   
   Phone : Lumia 640 LTE (RM-1073)
   Operating System:
   Name                        = Microsoft Windows 10 Pro
   Version                     = 10.0.14393
   Architecture                = 32bit
   <h4>CPUs                      = 4</h4>
   Memory                      = 17034395648
    
   Node.js:
   Node.js Version             = 4.6.0 
   npm Version                 = 2.15.9
    
   Titanium SDK:
   SDK Version                 = 6.1.0.v20170206114448</pre></code>
   </li>
<li>Samir Mohammed 2017-02-09

   Verified fix with the test case provided in the description and with the test case provided in <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/943." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/943.</a> 
   
   With the test case provided in <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/943" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/943</a> I was able to see the <code>source.id</code> of a normal <code>view</code> and a nested <code>view</code>.
   
   Before: (6.0.1.GA)
   !6.0.1.GA.PNG|thumbnail!
   
   After: (6.1.0.v20170209111025)
   !6.1.0.v20170209111025.PNG|thumbnail! !6.1.0.v20170209111025 n.PNG|thumbnail!
   
   With the test case provided in the description I was able to see the following in the console: 
   <code><pre>
   [INFO] :   _evt.source.id==win
   [INFO] :   _evt.source.id==innerWrapper2
   [INFO] :   _evt.source.id==innerWrapper3
   [INFO] :   _evt.source.id==innerWrapper4
   [INFO] :   _evt.source.id==outerWrapper
   </pre></code>
   
   *Environment*
   <code><pre>
   Windows Emulator: 10.0.14393
   Phone : Lumia 640 LTE (RM-1073)
   Operating System:
   Name                        = Microsoft Windows 10 Pro
   Version                     = 10.0.14393
   Architecture                = 32bit
   <h4>CPUs                      = 4</h4>
   Memory                      = 17034395648
    
   Node.js:
   Node.js Version             = 4.6.0 
   npm Version                 = 2.15.9
    
   Titanium SDK:
   SDK Version                 = 6.1.0.v20170209111025
   </pre></code>
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-24223.json">JSON Source</a></p>