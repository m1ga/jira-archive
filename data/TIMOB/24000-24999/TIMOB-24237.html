---
title: "[TIMOB-24237] iOS: Add backgroundSelectedColor property (Parity)"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-01-03T15:39:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SDK5.5.0, qe-6.1.0</td></tr>
<tr><th>Reporter</th><td>Pankaj Goyal</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2016-12-15T07:05:42.000+0000</td></tr>
<tr><th>Updated</th><td>2017-01-03T15:40:00.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi,

There is no way of setting backgroundSelected Color for ios using Appcelerator. And if i tried to do acheive same by using touchStart and touchEnd Listeners, it sowing some weird behavior. On the tap of left side corner of the device, backgroundSelected color is getting reflected little late. Listeners are getting called, but background color is not changing quickly on iPhone 7 Only.

Please help
Thanks
Pankaj Goyal

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2016-12-15

   Hello, Thanks for the ticket. Can you share with how this is handled in native platform? We will consider your request. </li>
<li>Hans Knöchel 2016-12-17

   Feature request accepted, it sounds like a good idea for parity. What we can do is adding the property to buttons, where we natively can control the current state. Since iOS natively doesn't support the property, we use a hack to generate an image from the color set the <code>backgroundSelectedImage</code> property internally. The performance is great and there are no UI glitches.
   
   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8698" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8698</a>
   
   Test-case:
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: '#fff'
   });
   
   var btn = Ti.UI.createButton({
       title: 'Click me',
       backgroundColor: 'blue',
       backgroundSelectedColor: 'red',
       width: 300,
       height: 40
   });
   
   win.add(btn);
   win.open();
   </pre></code> </li>
<li>Chee Kiat Ng 2016-12-22

   CR and FT passed! PR APPROVED!</li>
<li>Harry Bryant 2017-01-03

   Discovered a minor issue when testing this improvement: when <code>backgroundSelectedColor</code> is present, the <code>tintColor</code> property no longer affects the color of the button's text. 
   
   Tested On:
   iPhone 6 Plus 10.2 Device & Simulator
   Mac OS Sierra (10.12.2)
   Ti SDK:6.1.0.v20170101113815
   Appc Studio: 4.8.0.201611121409
   Appc NPM: 4.2.8
   App CLI: 6.1.0-319
   Xcode 8.2.1
   Node v4.4.7
   </li>
<li>Hans Knöchel 2017-01-03

   No issue here. When setting the <code>backgroundColor</code>, <code>backgroundSelectedColor</code> or <code>backgroundImage</code> property on the button, the <code>UIButtonTypeCustom</code> button type is used internally. Otherwise, using <code>UIButtonTypeSystem</code> (default), the button's background would be half-translucent, which is not usable for the developer. This behavior is there since forever (the last change to that line was in 1.7.0 in 2010). I cleaned this up in [this line](<a href="https://github.com/appcelerator/titanium_mobile/pull/8698/files#diff-a555421929ad7fca502ddd144627bdaaR193)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8698/files#diff-a555421929ad7fca502ddd144627bdaaR193)</a> but it's still the same behavior.</li>
<li>Harry Bryant 2017-01-03

   Thanks for clarifying, in that case everything is working as intended, closing ticket. </li>
</ol>


<p><a href="/TIMOB/TIMOB-24237.json">JSON Source</a></p>