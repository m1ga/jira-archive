---
title: "[TIMOB-24242] iOS: Hyperloop does not pass search paths to metabase parser"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-03-02T14:56:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Hyperloop 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Hyperloop 2.0.1</td></tr>
<tr><th>Components</th><td>Hyperloop, iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2016-12-20T02:28:34.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-16T18:36:09.000+0000</td></tr>
</table>

<h3>Description</h3>

*Steps to reproduce the behavior*
1. Create a simple classic project
2. Add following Podfile into root dir
<code><pre>
install! 'cocoapods',
         :integrate_targets =&gt; false
platform :ios, '10.0'
use_frameworks!

target 'ClassicHyperloop' do
    pod 'GooglePlaces'
end
</pre></code>
3. Add following code into app.js
<code><pre>
var GooglePlaceClient = require('GooglePlaces/GMSPlacesClient');
</pre></code>
4.Run the app

*Actual behavior*
The app will lead to crash

*Expected behavior*
The GooglePlace should work well.

*Additional notes*
Tried example code (GooglePlace Demo) inside GooglePlace Pod folder, run it on Xcode, and works well.

Ref Link about GooglePlaces
<a href="https://developers.google.com/places/ios-api/start" rel="nofollow" target="_blank">https://developers.google.com/places/ios-api/start</a>

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2016-12-20

   [~jvennemann] Looks like a duplicate of supporting the "use_frameworks" to me, can you validate? Thx!</li>
<li>Jan Vennemann 2017-01-06

   [~hansknoechel], i think the <code>use_frameworks</code> is unrelated here since its not required to install the GooglePlaces pod. What i found is another block parsing issue in the Hyperloop metabase parser where a block argument gets resolved to the invalid type <code>int (*</code> causing the build to fail with the following error:
   <code><pre>
   [ERROR] ** BUILD FAILED **
   [ERROR] The following build commands failed:
   [ERROR]         CompileC build/Intermediates/googlevr.build/Debug-iphonesimulator/googlevr.build/Objects-normal/x86_64/googleplaces.o /Users/jvennemann/Development/appc/googlevr/build/hyperloop/ios/js/googleplaces/googleplaces.m normal x86_64 objective-c com.apple.compilers.llvm.clang.1_0.compiler
   [ERROR] (1 failure)
   </pre></code>
   [~sliang], is that the issue the customer is facing? I cannot view the linked issue and this ticket has no crash log attached.</li>
<li>Shuo Liang 2017-01-06

   [~jvennemann]
   Customer's error log
   <code><pre>
   [ERROR] ** BUILD FAILED **
   [ERROR] The following build commands failed:
   [ERROR]         CompileC build/Intermediates/Jasons\ Deli.build/Debug-iphonesimulator/Jasons\ Deli.build/Objects-normal/x86_64/googleplaces.o /Users/brianknorr/Dev/jd-express-app/build/hyperloop/ios/js/googleplaces/googleplaces.m normal x86_64 objective-c com.apple.compilers.llvm.clang.1_0.compiler
   [ERROR] (1 failure)
   </pre></code></li>
<li>Jan Vennemann 2017-02-02

   PR (master): <a href="https://github.com/appcelerator/hyperloop.next/pull/118" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/118</a>
   PR (2_0_X): <a href="https://github.com/appcelerator/hyperloop.next/pull/119" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/119</a></li>
<li>Jan Vennemann 2017-02-08

   The above PRs fix the compile error. Tried the example code but ran into TIMOB-24383 when trying to access Places from <code>GMSPlaceLikelihoodList</code>. I'll further investigate the issue there.</li>
<li>Jan Vennemann 2017-02-14

   This also affects third party framework configurations as mentioned in TIMOB-24390. I'll update the PRs to also pass extra frameworks search paths with the <code>-F</code> flag which works exactly like passing extra header search paths.</li>
<li>Jan Vennemann 2017-02-23

   [~hansknoechel], both of the above PRs were updated to also pass framework search paths. The steps in the description of this ticket and from TIMOB-24390 can be used for testing.</li>
<li>Abir Mukherjee 2017-03-16

   Validated fix using this environment:
   NPM Version: 2.15.9
   Node Version: 4.5.0
   Mac OS: 10.12.3
   Appc CLI: 6.1.0
   Appc CLI NPM: 4.2.8
   Appcelerator Studio, build: 4.8.1.201612050850
   Xcode 8.2.1
   iOS Device: 10
   Hyperloop version 2.0.1
   
   I built and ran the demo app that is written in the description. No crashes were seen, and no compilation or runtime errors were encountered. One note is that "use_frameworks!" is not yet supported, and was therefore removed from Podfile. </li>
</ol>


<p><a href="/TIMOB/TIMOB-24242.json">JSON Source</a></p>