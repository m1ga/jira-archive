---
title: "[TIMOB-24246] Android: Use SecureRandom for SSLContext"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-01-04T19:25:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Gary Mathews</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2016-12-20T19:19:06.000+0000</td></tr>
<tr><th>Updated</th><td>2017-01-26T18:01:35.000+0000</td></tr>
</table>

<h3>Description</h3>

A [SecureRandom](<a href="https://developer.android.com/reference/java/security/SecureRandom.html)" rel="nofollow" target="_blank">https://developer.android.com/reference/java/security/SecureRandom.html)</a> instance should be set in the constructor of  [SSLContext](<a href="https://developer.android.com/reference/javax/net/ssl/SSLContext.html)" rel="nofollow" target="_blank">https://developer.android.com/reference/javax/net/ssl/SSLContext.html)</a>, instead of the default implementation.

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2016-12-20

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8704" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8704</a></li>
<li>Andy Waldman 2017-01-25

   [~gmathews] Any chance you could make a test case for me to verify this ? </li>
<li>Gary Mathews 2017-01-26

   [~awaldman] Yes, check that HTTPS works (y)
   
   <code><pre>
   var http = Ti.Network.createHTTPClient({
       onload: function () {
           Ti.API.info('response: ' + this.responseText);
           Ti.API.info('success');
       }
   });
   http.open('GET', '<a href="https://httpbin.org/get" rel="nofollow" target="_blank">https://httpbin.org/get</a>');
   http.send();
   </pre></code></li>
<li>Andy Waldman 2017-01-26

   [~gmathews] Thank you!!</li>
<li>Andy Waldman 2017-01-26

   Thursday 26th January: 
   ENV:
   MacOS:10.12.1 
   XCODE: 8.2.1 GM (golden master) 
   APPC CLI Core: 6.1.0 
   APPC CLI NPM: 4.2.8 
   SDK: 6.1.0.v20170126073441
   Studio build: 4.8.1.201612050850 
   NPM: 2.15.9 
   Node: 4.5.0 
   Device: Google Pixel 
   Android Version: 7.1
   
   Step 1) Make classic app
   Step 2) Copy the following code into the app.js:
   
   <code><pre>
   var http = Ti.Network.createHTTPClient({
       onload: function () {
           Ti.API.info('response: ' + this.responseText);
           Ti.API.info('success');
       }
   });
   http.open('GET', '<a href="https://httpbin.org/get" rel="nofollow" target="_blank">https://httpbin.org/get</a>');
   http.send();
   </pre></code>
   
   Step 3) Run app and wait for response 
   Step 4) successful response returned:
   
   <code><pre>
   [INFO] :   response: {"args": {}, "headers": {"Accept-Encoding": "identity", "Host": "httpbin.org", "User-Agent": "Appcelerator Titanium/6.1.0 (Pixel; Android API Level: 25; en-US;)", "X-Requested-With": "XMLHttpRequest", "X-Titanium-Id": "cffa3bb1-e804-48ca-9eee-16bd32c2a01d"}, "origin": "96.90.253.33", "url": "<a href="https://httpbin.org/get" rel="nofollow" target="_blank">https://httpbin.org/get</a>"}
   [INFO] :   success
   </pre></code>
   
   I have verified that this works as of the current 6.1.0 SDK build and so will close the ticket </li>
</ol>


<p><a href="/TIMOB/TIMOB-24246.json">JSON Source</a></p>