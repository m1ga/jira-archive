---
title: "[TIMOB-24288] Deprecate \"onStopBlacklistedUrl\" WebView event in favor of cross-platform \"blacklisturl\" event"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-02-08T22:58:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Android, iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2017-01-10T09:13:45.000+0000</td></tr>
<tr><th>Updated</th><td>2019-11-21T18:46:51.000+0000</td></tr>
</table>

<h3>Description</h3>

In TIMOB-23327 (iOS) and TIMOB-23186 (Android) we added support for blacklisting URL's to fit some special use-cases using the <code>onStopBlacklistedUrl</code> url together with the <code>blacklistedUrls</code> property. While the changes work fine, the event does not our common event naming and causing some trouble when being assigned to Alloy (e.g. <code>onOnstopblacklistedurl="myHandler"</code>. Renaming it to <code>blacklisturl</code> would unify the naming and fix the possible Alloy issues.

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2017-01-10

   Putting in review for [~vijaysingh] (iOS), [~gmathews] (Android) and [~ewieber] (QE)</li>
<li>Vijay Singh 2017-01-10

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8736" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8736</a>
   
   Test code-
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor : 'black',
       layout : 'vertical'
   });
   var webview = Titanium.UI.createWebView({
       url : '<a href="https://developer.apple.com/library/" rel="nofollow" target="_blank">https://developer.apple.com/library/</a>'
   });
    
    webview.setBlacklistedURLs(['library']);
    
   webview.addEventListener('load', function(e) {
       Ti.API.warn("load = e.url=" + e.url);
   });
    
   webview.addEventListener('blacklisturl', function(e) {
           Ti.API.info(e);
   });
    
   win.add(webview);
   win.open();
   </pre></code></li>
<li>Vijay Singh 2017-01-10

   Working fine in iOS.</li>
<li>Lokesh Choudhary 2017-02-13

   Works as expected on both android & IOS. The blacklisturl event is fired successfully when a url is blocked.
   
   Closing.
   
   Appc Studio : 4.8.1.201612050850
   SDK Version : 6.1.0.v20170213093116
   Mac OS Version : 10.12.2
   Xcode Version : Xcode 8.2.1 Build version 8C1002
   Appc CLI AND Appc NPM : {"NPM":"4.2.9-1","CLI":"6.1.0"}
   Ti CLI : 5.0.11
   Alloy : 1.9.5
   Node : v4.6.0
   Device: running 7.1.1Pixel
   IOS simulator: iphone 7 IOS 10.2 </li>
</ol>


<p><a href="/TIMOB/TIMOB-24288.json">JSON Source</a></p>