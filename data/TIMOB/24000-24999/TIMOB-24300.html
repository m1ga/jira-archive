---
title: "[TIMOB-24300] iOS: Add ability to disallow custom keyboards (Data Leakage) via tiapp.xml"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-01-28T09:46:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2017-01-12T00:46:56.000+0000</td></tr>
<tr><th>Updated</th><td>2017-01-28T09:46:38.000+0000</td></tr>
</table>

<h3>Description</h3>

A security scan found a possible Information Leakage issue associated with this:

Apple introduces several new IPC (Inter Process Communication)/Extensions since the inception of iOS 8. One of the Extension Points is the ability for users to install "Custom Keyboards." Custom Keyboards can operate in 2 Open Access modes (On and Off).

They observed that application allows custom keyboard. The use of custom keyboards can have security implications, if the user allows the custom keyboard to have internet connectivity. If the custom keyboard can connect to the internet, it can send any keystroke to the custom keyboard maker's server, leading to potential data leakage.
```

Can you ensure if is there a way we can ensure this warning won't show up when building the app?

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2017-01-12

   *PR*: <a href="https://github.com/appcelerator/titanium_mobile/pull/8748" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8748</a>
   
   *To test*: 
   1. Download one of the custom-keyboard apps and install the custom keyboard
   2. Create a new Titanium project
   3. Paste the following content into the index.js / app.js file:
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: '#fff'
   });
   
   var field = Ti.UI.createTextField({
       width: 300,
       height: 40,
       backgroundColor: "#f0f0f0"
   });
   
   win.add(field);
   win.open();
   </pre></code>
   3. Add <code><property name="allow-custom-keyboards" type="bool">false</property></code>
   4. Run the Titanium app
   
   *Expected behavior*: The custom keyboard does not show up. Toggle the property to see different behaviors.
   
   Updated guide: <a href="https://wiki.appcelerator.org/display/guides2/tiapp.xml+and+timodule.xml+Reference#tiapp.xmlandtimodule.xmlReference-allow-custom-keyboards" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides2/tiapp.xml+and+timodule.xml+Reference#tiapp.xmlandtimodule.xmlReference-allow-custom-keyboards</a></li>
<li>Hans Knöchel 2017-01-13

   [~sliang] This should fit the customers requirements.</li>
<li>Eric Wieber 2017-01-26

   FR passed, using:
   MacOS 10.12 (16A323)
   Studio 4.8.1.201612050850
   Ti SDK 6.1.0
   Appc NPM 4.2.8
   Appc CLI 6.1.0
   Alloy 1.9.5
   Xcode 8.2 (8C38)
   Custom keyboards are not allowed when setting the allow-custom-keyboards property to false. They are allowed when the property is true. Tested using the provided test case and modified versions of it</li>
<li>Eric Wieber 2017-01-27

   Verified in SDK 6.1.0.v20170126150653</li>
</ol>


<p><a href="/TIMOB/TIMOB-24300.json">JSON Source</a></p>