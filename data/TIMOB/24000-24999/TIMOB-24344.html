---
title: "[TIMOB-24344] Android: hdpi is mapped to incorrect value 213 in DisplayCapsProxy.java"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-02-07T01:40:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2017-01-25T02:12:01.000+0000</td></tr>
<tr><th>Updated</th><td>2017-02-09T22:46:26.000+0000</td></tr>
</table>

<h3>Description</h3>

DisplayCapsProxy.getDensity() maps DisplayMetrics.densityDpi to density strings.

The value of 213 is incorrectly mapped to "high".  In google's android docs, 213 is "tvdpi", not "hdpi".

This can cause layout errors in cases where we have to explicitly deal with pixels and you are using getDensity() to determine the ratio of dp to px.  

For example, the ScrollView.scrollTo() function requires values in pixels.  To get pixels, we have to convert dp to px, and we use the density strings to perform this conversion.  If we get the value "high", we multiply by 1.5.  But on a device that has a densityDpi of 213, we should be using 1.33 instead.

We need a different value for density on devices that use tvdpi, like the LG G Pad 8.0 LG-V480.

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2017-01-31

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8808" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8808</a></li>
<li>Lokesh Choudhary 2017-02-09

   Verified the fix is present in SDK 6.1.0.v20170209111025.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-24344.json">JSON Source</a></p>