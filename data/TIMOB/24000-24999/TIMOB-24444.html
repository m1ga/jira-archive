---
title: "[TIMOB-24444] iOS: Using dist-certificates to create adhoc-builds fails with unclear error"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-03-17T15:43:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.3</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, merge-6.0.3</td></tr>
<tr><th>Reporter</th><td>Michael Landeck</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2017-03-01T14:51:32.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-17T15:43:37.000+0000</td></tr>
</table>

<h3>Description</h3>

After updating to 6.0.2 i am getting errors creating an ipa for adhoc distribution.

with 6.0.1 :
<code><pre>
 Invoking xcodebuild
[INFO] :   Packaging for Ad Hoc distribution
[INFO] :   Packaging complete
[INFO] :   Package location: /Users/ml/Desktop/cl/cl.ipa
[INFO] :   Finished building the application in 13s 703ms 

after switching to 6.0.2
 Packaging for Ad Hoc distribution
[ERROR] :  Failed to export archive to ipa
[ERROR] :  2017-03-01 15:44:09.151 xcodebuild[30483:4087946] [MT] IDEDistribution: -[IDEDistributionLogging _createLoggingBundleAtPath:]: Created bundle at path '/var/folders/ph/v2ph7nsn7332jd1bbjyshz400000gn/T/icl_2017-03-01_15-44-09.150.xcdistributionlogs'.
[ERROR] :  1.2.840.113635.100.1.61
[ERROR] :  2017-03-01 15:44:09.301 xcodebuild[30483:4087946] [MT] IDEDistribution: -[IDEDistributionProvisioning _itemToSigningInfoMap:]: Can't find any applicable signing identities for items: (
[ERROR] :      "&lt;IDEDistributionItem: 0x7ffa81265720 'de.cl.iviz' '&lt;DVTFilePath:0x7ffa817912b0:'/Users/ml/Documents/Appcelerator_Studio_Workspace/icl/build/iphone/cl.xcarchive/Products/Applications/cl.app'&gt;'&gt;"
[ERROR] :  )
[ERROR] :  Errors={
[ERROR] :      "&lt;DVTSigningCertificate: 0x7ffa811a8f20; name='iPhone Distribution: Cl GmbH', hash='6673A610C0D9551176898AE81AC423289F048C30', serialNumber='6B93B38E75152721', certificateKind='1.2.840.113635.100.6.1.4, issueDate='2016-08-29 11:30:28 +0000''&gt;" =     {
[ERROR] :          "&lt;IDEDistributionItem: 0x7ffa81265720 'de.cl.iviz' '&lt;DVTFilePath:0x7ffa817912b0:'/Users/ml/Documents/Appcelerator_Studio_Workspace/cl/build/iphone/iviz_cl.xcarchive/Products/Applications/cl.app'&gt;'&gt;" = "Error Domain=IDECodesignResolverErrorDomain Code=10 \"No matching provisioning profiles found\" UserInfo={NSLocalizedRecoverySuggestion=No valid 'ad-hoc' profiles were found., NSLocalizedDescription=No matching provisioning profiles found, IDECodesignResolverError_ResolutionInputsKey=&lt;IDECodesignResolutionInputs: 0x7ffa81236140; portalTeamID='95C6RZ2672', usingTeamBasedSigning='NO', bundleIdentifier='de.cl.iviz', targetName='(null)', provisioningProfilePurpose='2', requiresProvisioningProfile='YES', provisioningProfilePlatform='iOS', certificateKind='1.2.840.113635.100.6.1.4', requiredEntitlements='{\n    \"application-identifier\" = \"95C6RZ2672.de.cl.iviz\";\n    \"get-task-allow\" = 0;\n    \"keychain-access-groups\" =     (\n        \"95C6RZ2672.de.cl.iviz\"\n    );\n}', requiredCodesignableDevices='(null)', requiredFeatures='(null)'&gt;\n}";
[ERROR] :      };
[ERROR] :  }
[ERROR] :  2017-03-01 15:44:09.301 xcodebuild[30483:4087946] [MT] IDEDistribution: Step failed: &lt;IDEDistributionSigningAssetsStep: 0x7ffa817a02b0&gt;: Error Domain=IDEDistributionErrorDomain Code=3 "(null)" UserInfo={IDEDistributionErrorSigningIdentityToItemToUnderlyingErrorKey={
[ERROR] :      "&lt;DVTSigningCertificate: 0x7ffa811a8f20; name='iPhone Distribution: Cl GmbH', hash='6673A610C0D9551176898AE81AC423289F048C30', serialNumber='6B93B38E75152721', certificateKind='1.2.840.113635.100.6.1.4, issueDate='2016-08-29 11:30:28 +0000''&gt;" =     {
[ERROR] :          "&lt;IDEDistributionItem: 0x7ffa81265720 'de.cl.iviz' '&lt;DVTFilePath:0x7ffa817912b0:'/Users/ml/Documents/Appcelerator_Studio_Workspace/cl/build/iphone/cl.xcarchive/Products/Applications/cl.app'&gt;'&gt;" = "Error Domain=IDECodesignResolverErrorDomain Code=10 \"No matching provisioning profiles found\" UserInfo={NSLocalizedRecoverySuggestion=No valid 'ad-hoc' profiles were found., NSLocalizedDescription=No matching provisioning profiles found, IDECodesignResolverError_ResolutionInputsKey=&lt;IDECodesignResolutionInputs: 0x7ffa81236140; portalTeamID='95C6RZ2672', usingTeamBasedSigning='NO', bundleIdentifier='de.cl.iviz', targetName='(null)', provisioningProfilePurpose='2', requiresProvisioningProfile='YES', provisioningProfilePlatform='iOS', certificateKind='1.2.840.113635.100.6.1.4', requiredEntitlements='{\n    \"application-identifier\" = \"95C6RZ2672.de.cl.iviz\";\n    \"get-task-allow\" = 0;\n    \"keychain-access-groups\" =     (\n        \"95C6RZ2672.de.cl.iviz\"\n    );\n}', requiredCodesignableDevices='(null)', requiredFeatures='(null)'&gt;\n}";
[ERROR] :      };
[ERROR] :  }}
</pre></code>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-03-01

   Hello, Please let us know if this is happening when running through CLI? Also, attach the log of "app ti info" as a text file in here. Thanks.</li>
<li>Hans Kn√∂chel 2017-03-01

   Hy there, would you be able to test with Xcode 8.2? We are trying to align the latest SDK's with the latest Xcode versions and there have been changes made regarding that in 6.0.2. But anyway, it should work with Xcode 8.1 as well. Thanks in advance!</li>
<li>Victor Vazquez Montero 2017-03-01

   Hey everyone, I have another user running into the same issue on 6.0.2 with Xcode version 8.2
   
   <h4>Configuration </h4>
   
   Operating System
   Name = Mac OS X
   Version = 10.11.6
   Architecture = 64bit
   CPUs = 8
   Memory = 17179869184
   Node.js
   Node.js Version = 4.6.0
   npm Version = 2.15.9
   Titanium CLI
   CLI Version = 5.0.11
   Titanium SDK
   SDK Version = 6.0.2.GA
   SDK Path = /Users/rkdondap/Library/Application Support/Titanium/mobilesdk/osx/6.0.2.GA
   Target Platform = iphone
   Command
   
   <h4>Error</h4>
   <code><pre>
   [INFO] : Invoking xcodebuild
   [INFO] : Packaging for Ad Hoc distribution
   [ERROR] : Failed to export archive to ipa
   [ERROR] : 2017-03-01 13:32:12.202 xcodebuild[8997:51444] [MT] IDEDistribution: -[IDEDistributionLogging _createLoggingBundleAtPath:]: Created bundle at path '/var/folders/47/bhssszps5lv69v077f0vkf18hxf377/T/LV Dev2_2017-03-01_13-32-12.202.xcdistributionlogs'.
   [ERROR] : 2017-03-01 13:32:12.394 xcodebuild[8997:51444] [MT] IDEDistribution: -[IDEDistributionProvisioning _itemToSigningInfoMap:]: Can't find any applicable signing identities for items: (
   [ERROR] : "&lt;IDEDistributionItem: 0x7f979f9b3e90 'dev2.lv.sba' '&lt;DVTFilePath:0x7f979faf3190:'/Users/rkdondap/Documents/Appcelerator_Studio_Workspace/LV_iOS10/build/iphone/LV Dev2.xcarchive/Products/Applications/LV Dev2.app'&gt;'&gt;"
   [ERROR] : )
   [ERROR] : Errors={
   [ERROR] : "&lt;DVTSigningCertificate: 0x7f979f8b1c80; name='iPhone Distribution: United States XXXXXXXXXXXXXXXXXXXXXXXXXXXX', hash='BFC81552DA336E13ED6AC29C8034DA9F906CC0F7', serialNumber='BD4B85A30AAAF3D', certificateKind='1.2.840.113635.100.6.1.4, issueDate='2015-10-20 18:16:00 +0000''&gt;" = {
   [ERROR] : "&lt;IDEDistributionItem: 0x7f979f9b3e90 'dev2.lv.sba' '&lt;DVTFilePath:0x7f979faf3190:'/Users/rkdondap/Documents/Appcelerator_Studio_Workspace/LV_iOS10/build/iphone/LV Dev2.xcarchive/Products/Applications/LV Dev2.app'&gt;'&gt;" = "Error Domain=IDECodesignResolverErrorDomain Code=10 \"No matching provisioning profiles found\" UserInfo={NSLocalizedRecoverySuggestion=No valid 'ad-hoc' profiles were found., NSLocalizedDescription=No matching provisioning profiles found, IDECodesignResolverError_ResolutionInputsKey=&lt;IDECodesignResolutionInputs: 0x7f979fb342f0; portalTeamID='LEK528YB7P', usingTeamBasedSigning='NO', bundleIdentifier='dev2.lv.sba', targetName='(null)', provisioningProfilePurpose='2', requiresProvisioningProfile='YES', provisioningProfilePlatform='iOS', certificateKind='1.2.840.113635.100.6.1.4', requiredEntitlements='{\n \"application-identifier\" = \"LEK528YB7P.dev2.lv.sba\";\n \"get-task-allow\" = 0;\n \"keychain-access-groups\" = (\n \"LEK528YB7P.dev2.lv.sba\"\n );\n}', requiredCodesignableDevices='(null)', requiredFeatures='(null)'&gt;\n}";
   [ERROR] : };
   [ERROR] : }
   [ERROR] : 2017-03-01 13:32:12.395 xcodebuild[8997:51444] [MT] IDEDistribution: Step failed: &lt;IDEDistributionSigningAssetsStep: 0x7f979ae23cd0&gt;: Error Domain=IDEDistributionErrorDomain Code=3 "(null)" UserInfo={IDEDistributionErrorSigningIdentityToItemToUnderlyingErrorKey={
   [ERROR] : "&lt;DVTSigningCertificate: 0x7f979f8b1c80; name='iPhone Distribution: United States XXXXXXXXXXXXXXXXXXXXXXXXXXXX', hash='BFC81552DA336E13ED6AC29C8034DA9F906CC0F7', serialNumber='BD4B85A30AAAF3D', certificateKind='1.2.840.113635.100.6.1.4, issueDate='2015-10-20 18:16:00 +0000''&gt;" = {
   [ERROR] : "&lt;IDEDistributionItem: 0x7f979f9b3e90 'dev2.lv.sba' '&lt;DVTFilePath:0x7f979faf3190:'/Users/rkdondap/Documents/Appcelerator_Studio_Workspace/LV_iOS10/build/iphone/LV Dev2.xcarchive/Products/Applications/LV Dev2.app'&gt;'&gt;" = "Error Domain=IDECodesignResolverErrorDomain Code=10 \"No matching provisioning profiles found\" UserInfo={NSLocalizedRecoverySuggestion=No valid 'ad-hoc' profiles were found., NSLocalizedDescription=No matching provisioning profiles found, IDECodesignResolverError_ResolutionInputsKey=&lt;IDECodesignResolutionInputs: 0x7f979fb342f0; portalTeamID='LEK528YB7P', usingTeamBasedSigning='NO', bundleIdentifier='dev2.lv.sba', targetName='(null)', provisioningProfilePurpose='2', requiresProvisioningProfile='YES', provisioningProfilePlatform='iOS', certificateKind='1.2.840.113635.100.6.1.4', requiredEntitlements='{\n \"application-identifier\" = \"LEK528YB7P.dev2.lv.sba\";\n \"get-task-allow\" = 0;\n \"keychain-access-groups\" = (\n \"LEK528YB7P.dev2.lv.sba\"\n );\n}', requiredCodesignableDevices='(null)', requiredFeatures='(null)'&gt;\n}";
   [ERROR] : };
   [ERROR] : }}
   [ERROR] : error: exportArchive: The operation couldn‚Äôt be completed. (IDEDistributionErrorDomain error 3.)
   [ERROR] : 
   [ERROR] : Error Domain=IDEDistributionErrorDomain Code=3 "(null)" UserInfo={IDEDistributionErrorSigningIdentityToItemToUnderlyingErrorKey={
   [ERROR] : "&lt;DVTSigningCertificate: 0x7f979f8b1c80; name='iPhone Distribution: United States XXXXXXXXXXXXXXXXXXXXXXXXXXXX', hash='BFC81552DA336E13ED6AC29C8034DA9F906CC0F7', serialNumber='BD4B85A30AAAF3D', certificateKind='1.2.840.113635.100.6.1.4, issueDate='2015-10-20 18:16:00 +0000''&gt;" = {
   [ERROR] : "&lt;IDEDistributionItem: 0x7f979f9b3e90 'dev2.lv.sba' '&lt;DVTFilePath:0x7f979faf3190:'/Users/rkdondap/Documents/Appcelerator_Studio_Workspace/LV_iOS10/build/iphone/LV Dev2.xcarchive/Products/Applications/LV Dev2.app'&gt;'&gt;" = "Error Domain=IDECodesignResolverErrorDomain Code=10 \"No matching provisioning profiles found\" UserInfo={NSLocalizedRecoverySuggestion=No valid 'ad-hoc' profiles were found., NSLocalizedDescription=No matching provisioning profiles found, IDECodesignResolverError_ResolutionInputsKey=&lt;IDECodesignResolutionInputs: 0x7f979fb342f0; portalTeamID='LEK528YB7P', usingTeamBasedSigning='NO', bundleIdentifier='dev2.lv.sba', targetName='(null)', provisioningProfilePurpose='2', requiresProvisioningProfile='YES', provisioningProfilePlatform='iOS', certificateKind='1.2.840.113635.100.6.1.4', requiredEntitlements='{\n \"application-identifier\" = \"LEK528YB7P.dev2.lv.sba\";\n \"get-task-allow\" = 0;\n \"keychain-access-groups\" = (\n \"LEK528YB7P.dev2.lv.sba\"\n );\n}', requiredCodesignableDevices='(null)', requiredFeatures='(null)'&gt;\n}";
   [ERROR] : };
   [ERROR] : }}
   [INFO] : Finished building the application in 45s 113ms
   </pre></code>
   </li>
<li>Chris Barber 2017-03-01

   In Titanium SDK 6.0.1.GA we changed App Store builds to use <code>xcodebuild archive</code> to create the xcarchive. Then in 6.0.2.GA we did the same thing for Ad Hoc (i.e. <code>dist-adhoc</code>) builds.
   
   When you do an Ad Hoc build, <code>xcodebuild archive</code> creates the xcarchive, then we export it using <code>xcodebuild -exportArchive ...</code>. Turns out that when you do this, <code>xcodebuild</code> is super picky about the provisioning profile you select. I ran into your exact same error when trying to use an App Store distribution provisioning profile to do an Ad Hoc build. You need to make sure you are using an Ad Hoc distribution provisioning profile.</li>
<li>Eric Merriman  2017-03-01

   We are able to reproduce this only from Studio. Investigating a fix at the moment.
   
   Edit - We are able to reproduce this on one system so far. continuing investigation.
   
   </li>
<li>Abir Mukherjee 2017-03-02

   Eric, my earlier report to you about being able to reproduce this issue is actually a different problem. xcodebuild is also picky on the version of Ruby, and the installed version I had (2.2.2) was the cause of the error I saw. I agree with others that for this ticket, the issue is likely the selection of the provisioning profile.</li>
<li>Michael Landeck 2017-03-03

   My appc info:
   
   Appcelerator Command-Line Interface, version 6.1.0
   Copyright (c) 2014-2017, Appcelerator, Inc.  All Rights Reserved.
   
        
        [1mOperating System[22m
     Name                        = [35mMac OS X[39m
     Version                     = [35m10.12.3[39m
     Architecture                = [35m64bit[39m
     # CPUs                      = [35m4[39m
     Memory                      = [35m16.0GB[39m
   
   [1mNode.js[22m
     Node.js Version             = [35m6.10.0[39m
     npm Version                 = [35m3.10.10[39m
   
   [1mAppcelerator CLI
     Installer                   = 4.2.8
     Core Package                = 6.1.0
   
   Titanium CLI[22m
     CLI Version                 = [35m5.0.11[39m
     node-appc Version           = [35m0.2.39[39m
   
   [1mTitanium SDKs[22m
     [36m6.0.2.GA[39m
       Version                   = [35m6.0.2[39m
       Install Location          = [35m/Users/ml/Library/Application Support/Titanium/mobilesdk/osx/6.0.2.GA[39m
       Platforms                 = [35miphone, android, mobileweb[39m
       git Hash                  = [35m3c5806f[39m
       git Timestamp             = [35m2/24/2017 19:26[39m
       node-appc Version         = [35m0.2.39[39m
     [36m6.0.1.GA[39m
       Version                   = [35m6.0.1[39m
       Install Location          = [35m/Users/ml/Library/Application Support/Titanium/mobilesdk/osx/6.0.1.GA[39m
       Platforms                 = [35miphone, android, mobileweb[39m
       git Hash                  = [35m265db0d[39m
       git Timestamp             = [35m12/20/2016 00:55[39m
       node-appc Version         = [35m0.2.39[39m
     [36m5.5.1.GA[39m
       Version                   = [35m5.5.1[39m
       Install Location          = [35m/Users/ml/Library/Application Support/Titanium/mobilesdk/osx/5.5.1.GA[39m
       Platforms                 = [35mandroid, mobileweb, iphone[39m
       git Hash                  = [35mb18727f[39m
       git Timestamp             = [35m09/27/16 05:38[39m
       node-appc Version         = [35m0.2.36[39m
     [36m3.5.1.GA[39m
       Version                   = [35m3.5.1[39m
       Install Location          = [35m/Library/Application Support/Titanium/mobilesdk/osx/3.5.1.GA[39m
       Platforms                 = [35miphone, mobileweb, android, blackberry[39m
       git Hash                  = [35m96875c9[39m
       git Timestamp             = [35m03/05/15 10:08[39m
       node-appc Version         = [35m0.2.24[39m
     [36m3.5.0.GA[39m
       Version                   = [35m3.5.0[39m
       Install Location          = [35m/Library/Application Support/Titanium/mobilesdk/osx/3.5.0.GA[39m
       Platforms                 = [35miphone, mobileweb, android, blackberry[39m
       git Hash                  = [35m0014f83[39m
       git Timestamp             = [35m01/12/15 15:33[39m
       node-appc Version         = [35m0.2.17[39m
     [36m3.4.1.GA[39m
       Version                   = [35m3.4.1[39m
       Install Location          = [35m/Library/Application Support/Titanium/mobilesdk/osx/3.4.1.GA[39m
       Platforms                 = [35miphone, mobileweb, android, blackberry[39m
       git Hash                  = [35m5982e8f[39m
       git Timestamp             = [35m11/13/14 13:33[39m
       node-appc Version         = [35m0.2.17[39m
     [36m3.4.0.GA[39m
       Version                   = [35m3.4.0[39m
       Install Location          = [35m/Library/Application Support/Titanium/mobilesdk/osx/3.4.0.GA[39m
       Platforms                 = [35miphone, mobileweb, android, blackberry[39m
       git Hash                  = [35mb54c467[39m
       git Timestamp             = [35m09/25/14 16:41[39m
       node-appc Version         = [35m0.2.17[39m
    
   [1mMac OS X[22m
     Command Line Tools          = [35minstalled[39m
   
   [1mIntel¬Æ Hardware Accelerated Execution Manager (HAXM)[22m
     Installed                   = [35myes[39m
     Memory Limit                = [35m2 GB[39m
   
   [1mJava Development Kit[22m
     Version                     = [35m1.8.0_60[39m
     Java Home                   = [35m/Library/Java/JavaVirtualMachines/jdk1.8.0_60.jdk/Contents/Home[39m
   
   [1mGenymotion[22m
     Path                        = [35mnot found[39m
     Genymotion Executable       = [35mnot found[39m
     Genymotion Player           = [35mnot found[39m
     Home                        = [35mnot found[39m
   
   [1mVirtualBox[22m
     Executable                  = [35mnot found[39m
     Version                     = [35munknown[39m
   
   [1mAndroid SDK[22m
     Android Executable          = [35mnot found[39m
     ADB Executable              = [35mnot found[39m
     SDK Path                    = [35mnot found[39m
   
   [1mAndroid NDK[22m
     NDK Path                    = [35mnot found[39m
     NDK Version                 = [35mnot found[39m
   
   [1mAndroid Platforms[22m
     [90mNone[39m
   
   [1mAndroid Add-Ons[22m
     [90mNone[39m
   
   [1mAndroid Emulators[22m
     [90mNone[39m
   
   [1mGenymotion Emulators[22m
     [90mNone[39m
   
   [1mConnected Android Devices[22m
     [90mNone[39m
   
   [1mXcode[22m
     [36m8.1 (build 8B62) - Xcode default[39m
       Install Location          = [35m/Applications/Xcode.app/Contents/Developer[39m
       iOS SDKs                  = [35m10.1[39m
       iOS Simulators            = [35m10.1[39m
       Watch SDKs                = [35m3.1[39m
       Watch Simulators          = [35m3.1[39m
       Supported by TiSDK 6.0.2.GA = [35myes[39m
       EULA Accepted             = [35myes[39m
       Teams                     = [35mnone[39m
    
   [1miOS Keychains[22m
     login.keychain-db           = [35m/Users/ml/Library/Keychains/login.keychain-db[39m
     Microsoft_Intermediate_Certificates = [35m/Users/ml/Library/Keychains/Microsoft_Intermediate_Certificates[39m
     PrivateEncryptedDatak       = [35m/Users/ml/Library/Application Support/Adobe/AIR/ELS/ZinioReader4.9310D8F796442B71068C511E15D70529A702D19D.1/PrivateEncryptedDatak[39m
     System.keychain             = [35m/Library/Keychains/System.keychain[39m
   
   [1miOS Development Certificates[22m
   [90m/Users/ml/Library/Keychains/login.keychain-db[39m
     [36mMichael Landeck (M36K66SKVB)[39m
       Not valid before          = [35m5/20/2016 10:02 AM[39m
       Not valid after           = [35m5/20/2017 10:02 AM[39m
     [36mmlandeck@icon-is.de (YTX87RUAVP)[39m
       Not valid before          = [35m8/22/2016 4:59 PM[39m
       Not valid after           = [35m8/22/2017 4:59 PM[39m
   
   [1miOS Distribution Certificates[22m
   [90m/Users/ml/Library/Keychains/login.keychain-db[39m
     [36mArtdeco cosmetic GmbH[39m
       Not valid before          = [35m7/17/2014 7:48 AM[39m
       Not valid after           = [35m7/16/2017 7:48 AM[39m
     [36mClarins GmbH[39m
       Not valid before          = [35m8/29/2016 1:30 PM[39m
       Not valid after           = [35m8/29/2019 1:30 PM[39m
     [36mDennerle GmbH[39m
       Not valid before          = [35m11/2/2016 8:35 AM[39m
       Not valid after           = [35m11/2/2019 8:35 AM[39m
     [36mDennerle GmbH[39m
       Not valid before          = [35m11/2/2016 9:16 AM[39m
       Not valid after           = [35m11/2/2019 9:16 AM[39m
     [36mKarwendel-Werke Huber GmbH & Co. KG[39m
       Not valid before          = [35m4/5/2016 8:57 AM[39m
       Not valid after           = [35m4/5/2019 8:57 AM[39m
     [36mMack & Sch√ºhle AG[39m
       Not valid before          = [35m5/2/2016 10:01 AM[39m
       Not valid after           = [35m5/2/2019 10:01 AM[39m
     [36mMack & SchÔøΩhle AG[39m
       Not valid before          = [35m5/7/2015 2:32 PM[39m
       Not valid after           = [35m5/6/2018 2:32 PM[39m
     [36mRotkappchen Peter Julich GmbH & Co. KG[39m
       Not valid before          = [35m1/12/2016 3:39 PM[39m
       Not valid after           = [35m1/11/2019 3:39 PM[39m
     [36mSpax International GmbH & Co.KG[39m
       Not valid before          = [35m1/4/2016 10:50 AM[39m
       Not valid after           = [35m1/3/2019 10:50 AM[39m
   [90m/Users/ml/Library/Application Support/Adobe/AIR/ELS/ZinioReader4.9310D8F796442B71068C511E15D70529A702D19D.1/PrivateEncryptedDatak[39m
     [36mMack & SchÔøΩhle AG[39m
       Not valid before          = [35m5/7/2015 2:32 PM[39m
       Not valid after           = [35m5/6/2018 2:32 PM[39m
   [90m/Library/Keychains/System.keychain[39m
     [36mDennerle GmbH[39m
       Not valid before          = [35m11/2/2016 9:16 AM[39m
       Not valid after           = [35m11/2/2019 9:16 AM[39m
   
   [1mApple WWDR Certificate[22m
     Apple WWDR                  = [35minstalled[39m
   
   [1mDevelopment iOS Provisioning Profiles[22m
     [36miOSDevCert2016[39m
       UUID                      = [35mcc9b4bea-8fb2-49ba-a7d3-c0a06d7b8e8c[39m
       App Prefix                = [35m95C6RZ2672[39m
       App Id                    = [35mde.clarins.iviz[39m
       Date Created              = [35m5/20/2016 10:20 AM[39m
       Date Expired              = [35m5/20/2017 10:20 AM[39m
       Managed                   = [35mNo[39m
    
   [1mDistribution iOS Provisioning Profiles[22m
     [36mArtdeco2DistributionProfile2016-21.7.2017[39m
       UUID                      = [35m58acea8c-15bb-4ea1-ad8f-57dafcd3d6e0[39m
       App Prefix                = [35mPK5A23X2GD[39m
       App Id                    = [35mde.artdeco.iviz2[39m
       Date Created              = [35m7/22/2016 4:03 PM[39m
       Date Expired              = [35m7/16/2017 7:48 AM[39m
       Managed                   = [35mNo[39m
     [36mArtdecoDistributionProfile2016-21.6.2017[39m
       UUID                      = [35m27b0f34a-22ff-4101-9178-847d0b1e88fe[39m
       App Prefix                = [35mPK5A23X2GD[39m
       App Id                    = [35mde.artdeco.iviz[39m
       Date Created              = [35m6/21/2016 11:30 AM[39m
       Date Expired              = [35m6/21/2017 11:30 AM[39m
       Managed                   = [35mNo[39m
     [36miviz_Karwendel_Profile_2016[39m
       UUID                      = [35ma76b3df3-0c21-4c43-b7ea-389bdfe496a8[39m
       App Prefix                = [35m2E3753GFX8[39m
       App Id                    = [35mcom.exquisa.iviz[39m
       Date Created              = [35m4/5/2016 9:08 AM[39m
       Date Expired              = [35m4/5/2017 9:08 AM[39m
       Managed                   = [35mNo[39m
     [36mivizDennerleDistibutionProfile2016[39m
       UUID                      = [35m9fda25a3-4bc5-4ee0-98e2-4d29f1bb4c7c[39m
       App Prefix                = [35m6QNV23GU84[39m
       App Id                    = [35miviz.dennerle.com[39m
       Date Created              = [35m11/2/2016 9:27 AM[39m
       Date Expired              = [35m11/2/2017 9:27 AM[39m
       Managed                   = [35mNo[39m
     [36miVizRKProvisioningProfile2016[39m
       UUID                      = [35ma044731a-040f-4fd4-bf91-7e038e5df237[39m
       App Prefix                = [35m2K367TMG29[39m
       App Id                    = [35mcom.rotkaeppchen.iviz[39m
       Date Created              = [35m9/1/2016 10:46 AM[39m
       Date Expired              = [35m9/1/2017 10:46 AM[39m
       Managed                   = [35mNo[39m
     [36mMuSEnterprisePovisioningProfile2016[39m
       UUID                      = [35m9c0bcd43-10b8-4f32-aff7-b06cd96dd599[39m
       App Prefix                = [35m7UZD74E4EN[39m
       App Id                    = [35mde.mack-schuehle.iviz[39m
       Date Created              = [35m5/2/2016 10:15 AM[39m
       Date Expired              = [35m5/2/2017 10:15 AM[39m
       Managed                   = [35mNo[39m
     [36mSpax_Enterprise_Provisioning_Profile_2017[39m
       UUID                      = [35m45ada4e3-3c3d-4433-9977-b9526effd8bb[39m
       App Prefix                = [35mL87V69CWEC[39m
       App Id                    = [35mcom.spax.iviz[39m
       Date Created              = [35m12/23/2016 10:56 AM[39m
       Date Expired              = [35m12/23/2017 10:56 AM[39m
       Managed                   = [35mNo[39m
     [36mSpax_Enterprise_Provisioning_Profile_2017_iVizDocs[39m
       UUID                      = [35m56c7f39e-cb22-491a-af83-c0c3dfc490e0[39m
       App Prefix                = [35mL87V69CWEC[39m
       App Id                    = [35mcom.spax.ivizdocs[39m
       Date Created              = [35m12/23/2016 1:42 PM[39m
       Date Expired              = [35m12/23/2017 1:42 PM[39m
       Managed                   = [35mNo[39m
     [36mVissMobile2_DistrProfile_2017[39m
       UUID                      = [35mb540ee27-7ac4-4d78-9f25-fd00f72c08d7[39m
       App Prefix                = [35m95C6RZ2672[39m
       App Id                    = [35mde.clarins.iviz[39m
       Date Created              = [35m8/29/2016 1:44 PM[39m
       Date Expired              = [35m8/29/2017 1:44 PM[39m
       Managed                   = [35mNo[39m
     [36mWeinweltEnterprisePovisioningProfile2016[39m
       UUID                      = [35m92185289-1ff6-415f-8769-65bbfc7cd6e5[39m
       App Prefix                = [35m7UZD74E4EN[39m
       App Id                    = [35mde.weinwelt.iviz[39m
       Date Created              = [35m8/25/2016 12:11 PM[39m
       Date Expired              = [35m8/25/2017 12:11 PM[39m
       Managed                   = [35mNo[39m
    
   [1mAd Hoc iOS Provisioning Profiles[22m
     [90mNone[39m
   
   [1miOS Simulators[22m
   [90m10.1[39m
     [36miPad Air 2[39m[90m (ipad)[39m
       UDID                      = [35mB636A855-91F1-48C9-A80C-E0362FDC939A[39m
       Supports Watch Apps       = [35mno[39m
   
   [1mWatchOS Simulators[22m
     [90mNone[39m
   
   [1mConnected iOS Devices[22m
     [36miPad von Michael Landeck[39m
       UDID                      = [35md88459759e9b2d9034ab3ab906ae121f6a41f45e[39m
       Type                      = [35miPad (#3b3b3c)[39m
       iOS Version               = [35m10.2.1[39m
       CPU Architecture          = [35marm64[39m
   
   [1mAndroid Issues[22m
   [1m[33m  !  [39m[22m[33mUnable to locate an Android NDK.
        Without the NDK, you will not be able to build native Android Titanium modules.
        If you have already downloaded and installed the Android NDK, you can tell Titanium where the
        Android NDK is located by running '[1mtitanium config android.ndkPath /path/to/android-ndk[22m',
        otherwise you can install it by running '[1mtitanium setup android[22m' or manually downloading from
        [1m<a href="http://appcelerator.com/android-ndk" rel="nofollow" target="_blank">http://appcelerator.com/android-ndk</a>[22m.
   [39m
   [31m  ‚úï  Unable to locate an Android SDK.
        If you have already downloaded and installed the Android SDK, you can tell Titanium where the
        Android SDK is located by running '[1mtitanium config android.sdkPath /path/to/android-sdk[22m',
        otherwise you can install it by running '[1mtitanium setup android[22m' or manually downloading from
        [1m<a href="http://appcelerator.com/android-sdk" rel="nofollow" target="_blank">http://appcelerator.com/android-sdk</a>[22m.
   [39m
   [1miOS Issues[22m
   [1m[33m  !  [39m[22m[33mUnable to find any valid iOS adhoc provisioning profiles.
        This will prevent you from packaging apps for adhoc distribution.
        You will need to log in to [1m<a href="http://appcelerator.com/ios-dist-certs" rel="nofollow" target="_blank">http://appcelerator.com/ios-dist-certs</a>[22m with your Apple Developer
        account, then create, download, and install a profile.
   [39m
   </li>
<li>Hans Kn√∂chel 2017-03-03

   Hey Michael, thanks for the info! 
   
   Looking at the output, it's even more clear that you are trying to use a Distribution certificate for an Ad-Hoc build, which will cause an issue with the (official) build tool we now use. We used an internal library before that have been removed from Xcode in 8.3 (currently in Beta). By using the official one, we a) align to the native Xcode behavior and b) make the distribution process more future-proof.
   
   To resolve the issue: Just generate an Ad-Hoc certificate in the iOS Developer Center and use that one instead. We had the exact same issue when testing the 6.0.2 change internally and noticed that using the correct certificate type resolved it. 
   
   Anyway, we are already planning a 6.0.3 version that will take this ticket to improve the error message presented to the developer. The current error already includes the message that's shown to the Xcode users, so we will extract it and present it to the console. Look here:
   {quote}
   Error Domain=IDECodesignResolverErrorDomain Code=10 \"No matching provisioning profiles found\" 
   NSLocalizedRecoverySuggestion=No valid 'ad-hoc' profiles were found.
   NSLocalizedDescription=No matching provisioning profiles found
   {quote}
   
   I hope that helps. Please let us know if it works out for you, thx! </li>
<li>Michael Landeck 2017-03-06

   Hello Hans,
   thanks for your reply!
   Right now i don't use Ad Hoc Profiles, instead i am using Inhouse Profiles for our customers. 
   Should i generate new Inhouse Profiles as well?
   Thank you</li>
<li>Hans Kn√∂chel 2017-03-07

    Hey Michael, genau (:P)! Basically, generate new Ad-Hoc profiles in the iOS Developer Console by selecting "Ad Hoc" instead of "Distribution" right [here](<a href="https://developer.apple.com/account/ios/profile/production/create)" rel="nofollow" target="_blank">https://developer.apple.com/account/ios/profile/production/create)</a> (log-in first). Then select the App-ID and you should be ready to go. Read more about Ad-Hoc profiles [here](<a href="https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/TestingYouriOSApp/TestingYouriOSApp.html)." rel="nofollow" target="_blank">https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/TestingYouriOSApp/TestingYouriOSApp.html).</a>
    
    [~emerriman] Should the improved error message go into 6.0.3 or 6.1.0? All other 6.0.3 tickets are <code>In Review</code>, so if we don't find the time to parse the error message for the more descriptive message, we should not block the release with this one. </li>
<li>Michael Landeck 2017-03-08

    Hey Hans,
    sorry, this doesn't work for me. I don't need an Ad-Hoc Profile for testing. 
    I have a valid Enterprise certificate for Inhouse Distribution, which works fine with 6.0.1 and earlier (since 1.8.1 !) 
    I recreated it, but the error is still the same. 
    Thank you 
    </li>
<li>Hans Kn√∂chel 2017-03-08

    It worked for previous versions because those used the old Xcode library that was removed in Xcode 8.3, not by us. For testing, you would just use a device provisioning profile, for ad-hoc builds an adhoc-profile. For enterprise profiles, I'm not sure how there are handled, I think there was an issue to distinguish between those and production ones.
    
    **EDIT**: People are having same issues in the native world when using an Enterprise Dist one for Adhoc-builds: <a href="https://github.com/fastlane/fastlane/issues/7866" rel="nofollow" target="_blank">https://github.com/fastlane/fastlane/issues/7866</a></li>
<li>Chris Barber 2017-03-09

    Improved error output when exporting an Ad Hoc build fails. Now it says:
    
    <code><pre>
    [ERROR] Failed to export archive to ipa
    [ERROR] The selected provisioning profile "Chris Barber Testapp3 - 9a0798fa-4677-4b0b-84fd-ba79afb18d87" appears to be a Distribution provisioning profile and not an Ad Hoc provisioning profile.
    [ERROR] Please ensure you are using a valid Ad Hoc provisioning that is linked to the signing identity, then try again.
    </pre></code>
    
    Titanium SDK master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8873" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8873</a>
    Titanium SDK 6_0_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8874" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8874</a></li>
<li>Thomas Neerup 2017-03-09

    Hi Chriss..
    This is all good, but how do we create an inhouse/enterprise distribution? with a valid Enterprise certificate/provisioning profile ? 
    Thanks</li>
<li>Chris Barber 2017-03-10

    [~thomas.neerup@eg.dk] You apparently need an Enterprise Apple developer account. I don't have access to an enterprise account anymore and I'm  actively trying to get access to one.</li>
<li>Ben Bahrenburg 2017-03-11

    [~cbarber] in master the issue seems to be that it is using the a profile that is not the one selected.
    
    For example through Studio, I select the "test 1" profile, but for some reason it uses the default "XC Ad Hoc: *" profile.  This worked off master back on Jan 27th 2017.  
    
    Please note the same version of Xcode 8.3 was used for both the Jan 27 2017 testing and downloading from master on March 10th 2017.
    
    Looks like the primary issue is it is not taking my Enterprise cert instead taking the Ad Hoc.  In native this is all driven by the certificate selected. Could this be different in the Ti approach, i.e. we need to indicate "in house" vs "ad hoc"?</li>
<li>Thomas Neerup 2017-03-11

    Chris Barber I already got an Enterprise Apple developer account, but I fail to se how I can create an inhouse/enterprise distribution.
    From Studio the Package->Ad hoc/Enterprise results in the above Ad hoc error, but I use my Enterprise Account. Is there some other way I should do this ?</li>
<li>Ben Bahrenburg 2017-03-11

    Found a work around. You can create using the ad hoc one that Ti generates then Resign using your Enterprise certificate. Isn't the best from a productivity point of view but will get you back up and running.  This tool makes it pretty easy <a href="https://github.com/maciekish/iReSign" rel="nofollow" target="_blank">https://github.com/maciekish/iReSign</a></li>
<li>Chris Barber 2017-03-13

    [~ben.bahrenburg@gmail.com] I'm not sure about building from Studio, but if you build from the CLI, the provisioning profile you select is the one that is used throughout the build.
    
    We don't treat certs any different. We simply validate the cert exists, then inject it into the Xcode project.
    
    If you have time, it would be cool to jump on a hangout and you can show me what you mean by the build taking an ad hoc cert over an enterprise one. Let me know if you're interested. :)
    
    [~thomas.neerup@eg.dk] Titanium does not create certs or provisioning profiles. You need to do this manually on Apple's developer website, then install them on your computer. Once installed, then Studio/Titanium will present them for selection.</li>
<li>Eric Merriman  2017-03-13

    [~ben.bahrenburg@gmail.com] Studio has the concept of "run configurations" I wonder if the setting for the profile in the run configuration is accurate. Also wondering if this occurs via CLI. We are going to get an enterprise account and see if we can work this out. Also will create a new ticket related to enterprise provisioning and link it to this one.
    </li>
<li>Eric Merriman  2017-03-14

    Hello all,
    Initial reports on this seemed to indicate that they were related the previous method we used to build, meaning it was less stringent than the Apple recommended method we started using for 6.0.2. In these cases distribution provisions could be specified for the adhoc builds, and the system would allow it. Since the new method does not allow that, it was a simple case of providing an ad-hoc provision and the build would complete. 
    
    Now it seems like the bulk of users reporting this issue may be using enterprise developer accounts, and so far, only reporting failures through studio builds. This ticket is to improve the error reporting, and I have created a new ticket for what we think is occurring; adhoc builds fail with enterprise adhoc provisions. The new ticket is TIMOB-24483 and is linked to this ticket. Any information relating to build failures should go there so we can track the effort of fixing the build system.
    </li>
<li>Abir Mukherjee 2017-03-17

    Closing this ticket as it was replaced with TIMOB-24483</li>
</ol>


<p><a href="/TIMOB/TIMOB-24444.json">JSON Source</a></p>