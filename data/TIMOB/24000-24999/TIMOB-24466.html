---
title: "[TIMOB-24466] Hyperloop: Android - R classes not generated from AAR"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Hyperloop 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jan Vennemann</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2017-03-08T17:51:10.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T19:55:09.000+0000</td></tr>
</table>

<h3>Description</h3>

*Steps to reproduce the behavior*
1. Create a Hyperloop enabled classic project
2. Drop the attached .aar that contains resources into <code>platform/android</code> folder
3. Add the following code to <code>Resources/app.js</code>
<code><pre>
var R = require('com.example.testlibrary.R');
var helloText = currentActivity.getString(R.string.hello_world);
Ti.API.debug(helloText);
</pre></code>

*Actual behavior*
The following error is thrown
<code><pre>
[ERROR] TiExceptionHandler: (main) [107,107] ----- Titanium Javascript Runtime Error -----
[ERROR] TiExceptionHandler: (main) [0,107] - In ti:/module.js:303,2
[ERROR] TiExceptionHandler: (main) [0,107] - Message: Uncaught Error: Requested module not found: com.example.testlibrary.R
[ERROR] TiExceptionHandler: (main) [0,107] - Source: 	throw new Error("Requested module not found: " + request); // TODO Set 'code' property to 'MODULE_NOT_FOUND' to match Node?
[ERROR] V8Exception: Exception occurred at ti:/module.js:303: Uncaught Error: Requested module not found: com.example.testlibrary.R
</pre></code>

*Expected behavior*
The string "Hello World!" should be printed to debug log.

*Additional notes*
This is kind of an edge use-case and only occurs if you want to access the specific R class from an .aar file. The library itself still works because AAPT will create a new R class which contains the resource ids from the App and all .aar files. The same issue occurs if two .aar files depend on each other and use the other one's R class.

TIMOB-18565 introduces AAR handling for Ti modules which includes code that will generated the missing R files. The code from there should be reused and also be applied to Hyperloop.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24466_61805/testlibrary-debug.aar">testlibrary-debug.aar</td></td><td>2017-03-08T17:51:07.000+0000</td><td>15582</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-24466.json">JSON Source</a></p>