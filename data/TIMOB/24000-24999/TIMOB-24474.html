---
title: "[TIMOB-24474] iOS: Animate object's opacity with animate({}) method don't change the opacity property"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-03-13T20:45:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, ios</td></tr>
<tr><th>Reporter</th><td>nicolomonili</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2017-03-10T16:11:56.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-14T16:33:49.000+0000</td></tr>
</table>

<h3>Description</h3>

Animate view's opacity with animate({}) method don't change the opacity property of the view.
Test code and video attached
<code><pre>

var win = Ti.UI.createWindow({
    backgroundColor: "white"
});

var view = Ti.UI.createView({
	width : 100,
	height : 100,
	backgroundColor : "red",
	opacity : 1.0
});


var label = Ti.UI.createLabel({
	width : Ti.UI.FILL,
	top : 30,
	color : "red",
	textAlign : "center",
	font : {
		fontSize : 20
	}
});


var buttons = Ti.UI.iOS.createTabbedBar({
	bottom : 30,
	labels : ["Without animate","With animate"],
	index : 0,
	tintColor : "red"
});

var temp = true;
setInterval(function(e){
	
	if(temp){
		if(buttons.index == 0)
			view.opacity = 0.0;
		else
			view.animate({ opacity : 0.0 , duration : 0});
	}else{
		if(buttons.index == 0)
			view.opacity = 1.0;
		else
			view.animate({ opacity : 1.0 , duration : 0});
	}
	temp = !temp;
	
	label.text = "view opacity: " + view.opacity;
	
},200);



win.add(label,view,buttons);
win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24474_61826/testopacityanimate.mov">testopacityanimate.mov</td></td><td>2017-03-10T16:10:43.000+0000</td><td>2567287</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-03-10

   I can verify the issue with the given code in SDK 6.0.2.GA.</li>
<li>Hans Knöchel 2017-03-10

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/8880" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8880</a>
   
   Test-Case (modified from above, also fixing the "backgroundColor" one:
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: "white"
   });
   
   var view = Ti.UI.createView({
       width: 100,
       height: 100,
       backgroundColor: "red",
       opacity: 1.0
   });
   
   
   var label1 = Ti.UI.createLabel({
       top: 30,
       width: Ti.UI.FILL,
       textAlign: "center",
   });
   
   var label2 = Ti.UI.createLabel({
       top: 50,
       width: Ti.UI.FILL,
       textAlign: "center",
   });
   
   var buttons = Ti.UI.iOS.createTabbedBar({
       bottom: 30,
       labels: ["Without animate", "With animate"],
       index: 0,
       tintColor: "red"
   });
   
   var temp = true;
   setInterval(function(e) {
   
       if (temp) {
           if (buttons.index == 0) {
               view.opacity = 0.0;
               view.backgroundColor = "green";
               
               label1.text = "view opacity: " + view.opacity;
               label2.text = "view backgroundColor: " + view.backgroundColor;
           } else {
               view.animate({
                   opacity: 0.0,
                   backgroundColor: "green",
                   duration: 0
               }, function() {
                   label1.text = "view opacity: " + view.opacity;
                   label2.text = "view backgroundColor: " + view.backgroundColor;
               });
           }
       } else {
           if (buttons.index == 0) {
               view.opacity = 1.0;
               view.backgroundColor = "red";
               
               label1.text = "view opacity: " + view.opacity;
               label2.text = "view backgroundColor: " + view.backgroundColor;
           } else {
               view.animate({
                   opacity: 1.0,
                   backgroundColor: "red",
                   duration: 0
               }, function() {
                   label1.text = "view opacity: " + view.opacity;
                   label2.text = "view backgroundColor: " + view.backgroundColor;
               });
           }
       }
       temp = !temp;
   
   }, 200);
   
   win.add(label1, label2, view, buttons);
   win.open();
   </pre></code></li>
<li>Samir Mohammed 2017-03-13

   Fix is present in 6.1.0.v20170313134959, test steps can be found in <a href="https://github.com/appcelerator/titanium_mobile/pull/8880" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8880</a>
   
   *Environement*
   <code><pre>
   Appcelerator Command-Line Interface, version 6.1.0
   Iphone 6S OS: 10.0
   Operating System Name: Mac OS X El Capitan
   Operating System Version: 10.11.6
   Node.js Version: 4.6.0
   npm: 4.2.8
   Xcode: 8.2
   Appcelerator Studio: 4.8.1.201612050850
   </pre></code>
   </li>
<li>nicolomonili 2017-03-14

   On <a href="http://builds.appcelerator.com/" rel="nofollow" target="_blank">http://builds.appcelerator.com/</a> i see only the 6.1.0.v20170313171259 version</li>
<li>nicolomonili 2017-03-14

   Sorry for the last comment.
   The fix is also present in the newer version 6.1.0.v20170313171259 ?
   Thanks</li>
<li>Samir Mohammed 2017-03-14

   Hey [~nicolomonili] this fix should be present in 6.1.0.v20170313171259 as well</li>
</ol>


<p><a href="/TIMOB/TIMOB-24474.json">JSON Source</a></p>