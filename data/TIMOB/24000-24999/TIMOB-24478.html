---
title: "[TIMOB-24478] Android: postlayout function is called twice when the app starts"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-03-20T22:20:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>ILAY SENER</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2017-03-12T23:46:10.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-20T22:20:21.000+0000</td></tr>
</table>

<h3>Description</h3>

postlayout calls the linked function twice when the app starts for the first time. when the view/window called/loaded the second time, postlayout function gets called only once.

This is also the same with titanium.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24478_61838/bluewin.js">bluewin.js</td></td><td>2017-03-12T23:44:48.000+0000</td><td>787</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24478_61836/bluewin.xml">bluewin.xml</td></td><td>2017-03-12T23:44:56.000+0000</td><td>255</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24478_61847/index.js">index.js</td></td><td>2017-03-14T02:43:36.000+0000</td><td>156</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24478_61839/index.js">index.js</td></td><td>2017-03-12T23:44:46.000+0000</td><td>989</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24478_61846/index.xml">index.xml</td></td><td>2017-03-14T02:43:43.000+0000</td><td>192</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24478_61837/index.xml">index.xml</td></td><td>2017-03-12T23:44:53.000+0000</td><td>1646</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24478_61845/Screen Shot 2017-03-14 at 13.41.39.png">Screen Shot 2017-03-14 at 13.41.39.png</td></td><td>2017-03-14T02:43:57.000+0000</td><td>136349</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2017-03-13

   Hey Ilay! This is iOS right? We need to build a single-file example to simplify the testing. Let me know if we can help with that, thx! 
   
   And in addition to that: On Ti.UI.Window instances, you would rather choose the <code>open</code> or <code>focus</code> event that are specifically made for window lifetime-tracking. Anyway, the <code>postlayout</code> event should still only fire once.</li>
<li>ILAY SENER 2017-03-13

   HI Hans,
   
   Ran the app on Android simulator. Will send the single file tomorrow for testing.
   
   Is it any easier if I upload the file to github for future ?</li>
<li>Hans Knöchel 2017-03-13

   Thanks, changed the title! Just a simple app.js attached to this ticket, inline as JS or linked via Github is fine. Assigning to [~gmathews] for now, thx! </li>
<li>ILAY SENER 2017-03-14

   OK. Please find the single js & xml file, along with the console screengrab.
   
   </li>
<li>ILAY SENER 2017-03-14

   On load is called once, but the postlayout is called twice...</li>
<li>Gary Mathews 2017-03-14

   <code><pre>
   var win = Ti.UI.createWindow({backgroundColor: 'gray'});
   
   win.addEventListener('open', function() {
       Ti.API.info('open event fired.');
   });
   
   win.addEventListener('postlayout', function() {
       Ti.API.info('postlayout event fired.');
   });
   
   win.open();
   </pre></code></li>
<li>Gary Mathews 2017-03-14

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8887" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8887</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-24478.json">JSON Source</a></p>