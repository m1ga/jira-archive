{
	"id": "166586",
	"key": "TIMOB-24483",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "19275",
				"description": "Patch release for 6.0.x regressions or important fixes",
				"name": "Release 6.0.3",
				"archived": false,
				"released": true,
				"releaseDate": "2017-03-22"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2017-03-20T17:01:26.000+0000",
		"created": "2017-03-13T23:54:06.000+0000",
		"priority": {
			"name": "Critical",
			"id": "1"
		},
		"labels": [],
		"versions": [
			{
				"id": "18928",
				"name": "Release 6.0.2",
				"archived": false,
				"released": true,
				"releaseDate": "2017-02-27"
			}
		],
		"issuelinks": [
			{
				"id": "54568",
				"type": {
					"id": "10000",
					"name": "Blocks",
					"inward": "is blocked by",
					"outward": "blocks"
				},
				"outwardIssue": {
					"id": "166652",
					"key": "TISTUD-8729",
					"fields": {
						"summary": "Add support for enterprise ad hoc provisioning profiles",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "High",
							"id": "2"
						},
						"issuetype": {
							"id": "4",
							"description": "An improvement or enhancement to an existing feature or task.",
							"name": "Improvement",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "54559",
				"type": {
					"id": "10122",
					"name": "Gantt: start-finish",
					"inward": "is triggered by",
					"outward": "is triggering"
				},
				"outwardIssue": {
					"id": "166370",
					"key": "TIMOB-24444",
					"fields": {
						"summary": "iOS: Using dist-certificates to create adhoc-builds fails with unclear error",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "cbarber",
			"key": "cbarber",
			"displayName": "Chris Barber",
			"active": true,
			"timeZone": "America/Chicago"
		},
		"updated": "2017-05-15T14:36:24.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10206",
				"name": "iOS",
				"description": "iOS Platform"
			}
		],
		"description": "h5. Description:\r\nBased on some customer feedback I believe we have an issue packaging using enterprise adhoc provisions. We will get an enterprise developer account and validate as soon as possible.\r\n\r\nI am unsure if this is limited to Studio builds and not the CLI as we don't have data to show it works from the CLI.\r\n\r\nh5. Steps to reproduce:\r\n1) Attempt to package a project with an enterprise adhoc provision\r\n\r\nh5. Result:\r\nFailure as seen in TIMOB-24444\r\n\r\nh5. Expected Result:\r\nBuild completes successfully \r\n",
		"attachment": [],
		"flagged": false,
		"summary": "iOS: Unable to package with enterprise ad-hoc provision",
		"creator": {
			"name": "emerriman",
			"key": "emerriman",
			"displayName": "Eric Merriman ",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"subtasks": [],
		"reporter": {
			"name": "emerriman",
			"key": "emerriman",
			"displayName": "Eric Merriman ",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"environment": "NPM Version: 2.15.1\r\nNode Version: 4.6.2\r\nMac OS: 10.11.2\r\nAppc CLI: 6.1.0\r\nAppc CLI NPM: 4.2.8\r\nTitanium SDK version: 6.0.2.GA",
		"closedSprints": [
			{
				"id": 860,
				"state": "closed",
				"name": "2017 Sprint 06 Tooling",
				"startDate": "2017-03-12T19:12:08.578Z",
				"endDate": "2017-03-26T19:12:00.000Z",
				"completeDate": "2017-03-26T22:02:35.349Z",
				"originBoardId": 199
			}
		],
		"comment": {
			"comments": [
				{
					"id": "412018",
					"author": {
						"name": "thomas.neerup@eg.dk",
						"key": "thomas.neerup@eg.dk",
						"displayName": "Thomas Neerup",
						"active": true,
						"timeZone": "Europe/Copenhagen"
					},
					"body": "I can verify that using CLI results in the same error",
					"updateAuthor": {
						"name": "thomas.neerup@eg.dk",
						"key": "thomas.neerup@eg.dk",
						"displayName": "Thomas Neerup",
						"active": true,
						"timeZone": "Europe/Copenhagen"
					},
					"created": "2017-03-14T07:29:25.000+0000",
					"updated": "2017-03-14T07:29:25.000+0000"
				},
				{
					"id": "413445",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "Titanium SDK master PR: https://github.com/appcelerator/titanium_mobile/pull/8890\r\nTitanium SDK 6_0_X PR: https://github.com/appcelerator/titanium_mobile/pull/8891\r\n\r\nNote that you can no longer select ad hoc provisioning profiles for app store builds and vice versa.\r\n\r\nObserve that enterprise ad hoc provisioning profiles are now displayed in the {{ti info -t ios}} output.\r\n\r\nThere is a flaw that I chose not to fix at this time where you can select a distribution cert that is not listed in the provisioning profile. The build will fail when Xcode signs the app. In the future, we should properly identify certs and filter out provisioning profiles that aren't associated to that cert. Ticket: TIMOB-24494.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-03-16T22:56:44.000+0000",
					"updated": "2017-03-16T23:05:46.000+0000"
				},
				{
					"id": "413453",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "Note that Studio needs to properly handle enterprise provisioning profiles. Here's the ticket: TISTUD-8729.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-03-16T23:06:06.000+0000",
					"updated": "2017-03-16T23:06:06.000+0000"
				},
				{
					"id": "413501",
					"author": {
						"name": "amukherjee",
						"key": "amukherjee",
						"displayName": "Abir Mukherjee",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Passed FR using this environment:\r\nNPM Version: 2.15.9\r\nNode Version: 4.5.0\r\nMac OS: 10.12.3\r\nAppc CLI: 6.1.0\r\nAppc CLI NPM: 4.2.8\r\nAppcelerator Studio, build: 4.8.1.201612050850\r\nXcode 8.2.1\r\n\r\nPassed FR. I created an Adhoc build with an Apple Enterprise account using the CLI, and no errors were seen.",
					"updateAuthor": {
						"name": "amukherjee",
						"key": "amukherjee",
						"displayName": "Abir Mukherjee",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-03-17T16:58:05.000+0000",
					"updated": "2017-03-17T16:58:05.000+0000"
				},
				{
					"id": "413502",
					"author": {
						"name": "amukherjee",
						"key": "amukherjee",
						"displayName": "Abir Mukherjee",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Fixes are seen in this SDK:\r\nSDK 6.0.3.v20170317093820",
					"updateAuthor": {
						"name": "amukherjee",
						"key": "amukherjee",
						"displayName": "Abir Mukherjee",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-03-17T16:58:46.000+0000",
					"updated": "2017-03-17T16:58:46.000+0000"
				},
				{
					"id": "414177",
					"author": {
						"name": "mlandeck",
						"key": "mlandeck",
						"displayName": "Michael Landeck",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "I have still the same error with my enterprise profile, just a different error message \r\n(works fine with 6.0.1):\r\n\r\n[INFO] :   Packaging for Ad Hoc distribution\r\n[ERROR] :  Failed to export archive to ipa\r\n[ERROR] :  The selected provisioning profile doesn't appear to be a Ad Hoc provisioning profile or match the signing identity.\r\n[ERROR] :  Please ensure you are using a valid Ad Hoc provisioning that is linked to the signing identity, then try again.\r\n[INFO] :   Finished building the application in 38s 432ms\r\n\r\n\r\nOperating System\r\n  Name                        = Mac OS X\r\n  Version                     = 10.12.3\r\n  Architecture                = 64bit\r\n  # CPUs                      = 4\r\n  Memory                      = 17179869184\r\nNode.js\r\n  Node.js Version             = 6.10.0\r\n  npm Version                 = 3.10.10\r\nTitanium CLI\r\n  CLI Version                 = 5.0.11\r\nTitanium SDK\r\n  SDK Version                 = 6.0.3.v20170317093820\r\n  SDK Path                    = /Users/ml/Library/Application Support/Titanium/mobilesdk/osx/6.0.3.v20170317093820\r\n  Target Platform             = iphone\r\n\r\n",
					"updateAuthor": {
						"name": "mlandeck",
						"key": "mlandeck",
						"displayName": "Michael Landeck",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-03-21T08:11:06.000+0000",
					"updated": "2017-03-21T08:11:06.000+0000"
				},
				{
					"id": "414178",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "[~mlandeck] Did you use Studio or CLI?",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2017-03-21T08:17:26.000+0000",
					"updated": "2017-03-21T08:17:26.000+0000"
				},
				{
					"id": "414179",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~mlandeck] If you're building from Studio, then it's possible Studio isn't displaying the valid list of provisioning profiles. I created TISTUD-8729 to address this.\r\n\r\nIf you build using the CLI, then it should work.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-03-21T08:17:49.000+0000",
					"updated": "2017-03-21T08:17:49.000+0000"
				},
				{
					"id": "414184",
					"author": {
						"name": "mlandeck",
						"key": "mlandeck",
						"displayName": "Michael Landeck",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Hi Hans,\r\ni'm using Studio..",
					"updateAuthor": {
						"name": "mlandeck",
						"key": "mlandeck",
						"displayName": "Michael Landeck",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-03-21T10:07:01.000+0000",
					"updated": "2017-03-21T10:07:01.000+0000"
				},
				{
					"id": "414186",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "Ok, then it's what we suggested. You could use {{appc run -p ios -T dist-adhoc}} and select your correct profile from the CLI and we get the Studio fix ready asap. Sounds like a deal?",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2017-03-21T10:17:25.000+0000",
					"updated": "2017-03-21T10:17:25.000+0000"
				},
				{
					"id": "414188",
					"author": {
						"name": "mlandeck",
						"key": "mlandeck",
						"displayName": "Michael Landeck",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Ok, thanks, sounds good.",
					"updateAuthor": {
						"name": "mlandeck",
						"key": "mlandeck",
						"displayName": "Michael Landeck",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-03-21T11:00:52.000+0000",
					"updated": "2017-03-21T11:00:52.000+0000"
				},
				{
					"id": "419470",
					"author": {
						"name": "a.marcone",
						"key": "a.marcone",
						"displayName": "Alberto Marcone",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "this solution (and the update to 6.0.4) doesn't work on my install.\r\nI tried the \"appc run -p ios -T dist-adhoc\" and, after selecting identity and provisioning,  I get the error:\r\n\r\n[INFO]  Optimizing .plist and .png files\r\n[INFO]  Invoking xcodebuild\r\n[INFO]  Packaging for Ad Hoc distribution\r\n{color:red}[ERROR] Failed to export archive to ipa\r\n[ERROR] The selected provisioning profile \"xxx (xxx)\" is most likely not a valid Ad Hoc provisioning profile.\r\n[ERROR] Please ensure you are using a valid Ad Hoc provisioning that is linked to the signing identity, then try again.{color}\r\n[INFO]  Finished building the application in 49s 423ms\r\n\r\n\r\nThe provisioning is valid and it's linked to the signing identity, we used it before and I double checked it.\r\n\r\nmacOS 10.12.4, Xcode 8.3.1, TiSDK 6.0.4",
					"updateAuthor": {
						"name": "a.marcone",
						"key": "a.marcone",
						"displayName": "Alberto Marcone",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2017-05-10T16:13:31.000+0000",
					"updated": "2017-05-10T16:13:31.000+0000"
				},
				{
					"id": "419472",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~a.marcone] View the trace level log output and you'll see the exact command the build runs to export the IPA from the archive. You can copy and paste it to run it again and see the full error for yourself. The error is almost certainly a provisioning profile related problem.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-05-10T16:16:56.000+0000",
					"updated": "2017-05-10T16:16:56.000+0000"
				},
				{
					"id": "419673",
					"author": {
						"name": "a.marcone",
						"key": "a.marcone",
						"displayName": "Alberto Marcone",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "you were right, I put the trace level and this is the exact error:\r\n\r\n\r\n[TRACE] 2017-05-15 16:00:37.875 xcodebuild[26823:15650404] [MT] IDEDistribution: -[IDEDistributionLogging _createLoggingBundleAtPath:]: Created bundle at path '/var/folders/hq/km1drj0141v1bf195s13yq740000gp/T/xxx_2017-05-15_16-00-37.873.xcdistributionlogs'.\r\n[TRACE] 1.2.840.113635.100.1.61\r\n[TRACE] 2017-05-15 16:00:55.196 xcodebuild[26823:15650404] [MT] IDEDistribution: Step failed: <IDEDistributionThinningStep: 0x7ffbbd5b2c50>: Error Domain=IDEDistributionErrorDomain Code=14 \"No applicable devices found.\" UserInfo={NSLocalizedDescription=No applicable devices found.}\r\n[TRACE] error: exportArchive: No applicable devices found.\r\n[TRACE]   \r\n[TRACE] Error Domain=IDEDistributionErrorDomain Code=14 \"No applicable devices found.\" UserInfo={NSLocalizedDescription=No applicable devices found.}\r\n\r\nI found a thread on SO mentioning this ticket. I'm using TiSDK 6.0.4.",
					"updateAuthor": {
						"name": "a.marcone",
						"key": "a.marcone",
						"displayName": "Alberto Marcone",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2017-05-15T14:03:40.000+0000",
					"updated": "2017-05-15T14:03:40.000+0000"
				},
				{
					"id": "419678",
					"author": {
						"name": "a.marcone",
						"key": "a.marcone",
						"displayName": "Alberto Marcone",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "updating to Xcode 8.3.2 fixed this. Thank you",
					"updateAuthor": {
						"name": "a.marcone",
						"key": "a.marcone",
						"displayName": "Alberto Marcone",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2017-05-15T14:36:24.000+0000",
					"updated": "2017-05-15T14:36:24.000+0000"
				}
			],
			"maxResults": 16,
			"total": 16,
			"startAt": 0
		}
	}
}