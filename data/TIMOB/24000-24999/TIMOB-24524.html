---
title: "[TIMOB-24524] Android: module build fails for some native modules with 'mthodMap is not defined'"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-03-22T18:32:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.0.3</td></tr>
<tr><th>Components</th><td>Android, CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Christopher Williams</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2017-03-21T14:38:46.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T19:00:11.000+0000</td></tr>
</table>

<h3>Description</h3>

<code><pre>
07:14:00 [android] [INFO] :   Producing [ModuleName]Bootstrap files using /Users/build/jenkins/workspace/tor.encrypteddatabase_PR-19-X7JGISBVTNPBEH5ZK5CE6LTAG34IFQ6RMKRXFQOG3ENF4ZEGLVOQ/android/build/generated/json/org/appcelerator/titanium/bindings/encrypteddatabase.json
07:14:00 [android] 2017-03-21T14:13:01.519Z | ERROR  | An uncaught exception was thrown!
07:14:00 [android] mthodMap is not defined
07:14:00 [android] 2017-03-21T14:13:01.520Z | ERROR  | mthodMap is not defined
[Pipeline] [android] sh
</pre></code>

<h3>Comments</h3>

<ol>
<li>Christopher Williams 2017-03-21

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8898" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8898</a>
   6.0.x: <a href="https://github.com/appcelerator/titanium_mobile/pull/8899" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8899</a></li>
<li>Christopher Williams 2017-03-21

   The error is seen building the android side of the appcelerator.ecnrypteddatabase native module, as seen here: <a href="https://jenkins.appcelerator.org/job/modules/job/appcelerator.encrypteddatabase/view/change-requests/job/PR-19/1/console" rel="nofollow" target="_blank">https://jenkins.appcelerator.org/job/modules/job/appcelerator.encrypteddatabase/view/change-requests/job/PR-19/1/console</a></li>
<li>Abir Mukherjee 2017-03-21

   [~cwilliams] Do you have a testcase, or instructions on how to validate the fix?</li>
<li>Christopher Williams 2017-03-22

   <code><pre>
   git clone git@github.com:appcelerator-modules/appcelerator.encrypteddatabase.git
   cd appcelerator.encrypteddatabase/android
   app run -p android --build-only
   </pre></code></li>
<li>Abir Mukherjee 2017-03-22

   FR Passed with this environment:
   NPM Version: 2.15.9
   Node Version: 4.5.0
   Mac OS: 10.12.3
   Appc CLI: 6.1.0
   Appc CLI NPM: 4.2.8
   Xcode 8.2.1
   
   I tried building with this PR, and no error messages were there. I tried with 6.0.2.GA to see if I can repro the original failure, and I did see "mthodMap is not defined". FR passed on both 6.1.0 and 6.0.3.
   
   Closing this ticket as the fixes are seen in the following builds:
   SDK 6.0.3.v20170322110758
   SDK 6.1.0.v20170322113253</li>
</ol>


<p><a href="/TIMOB/TIMOB-24524.json">JSON Source</a></p>