---
title: "[TIMOB-24528] Android: Fails to load images that exceed GPU max texture size"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 6.0.3, Release 8.0.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>camera, engSchedule, imageView, photogallery</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2017-03-23T23:01:31.000+0000</td></tr>
<tr><th>Updated</th><td>2020-10-26T18:07:47.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
Android will fail to load an image or throw an exception if the image size:
* Exceeds the GPU's max texture size (aka: GL_MAX_TEXTURE_SIZE).
* Exceeds the canvas' max bitmap size of 100 MB (uncompressed, 32-bit color).

*Steps to reproduce:*
<h4>Create a 10,000x10,000 pixel PNG and name it "LargeImage.png".</h4>
<h4>Copy the image to a Titanium project's "Resources/assets/images" directory.</h4>
<h4>Run the below code on an Android device.</h4>
<h4>Observe the Android log.</h4>

<code><pre>
var window = Titanium.UI.createWindow();
var imageView = Ti.UI.createImageView(
{
	image:"/assets/images/LargeImage.png",
	height: Ti.UI.FILL,
	width: Ti.UI.FILL,
});
window.add(imageView);
window.open();
</pre></code>

*Result:*
The image either fails to load and keeps running or it will crash with an exception.

If the app doesn't crash, then you'll see the following warning message in the Android log...
* "Bitmap too large to be uploaded into a texture"

If it crashes, then you may see one of the following exceptions in the Android log...
* OutOfMemoryException
* java.lang.RuntimeException: Canvas: trying to draw too large(Xbytes) bitmap.

*Recommended Solution:*
Titanium should automatically downscale/down-sample the image to a size that the GPU can display onscreen.

*Notes:*
This issue can commonly happen on devices whose camera takes pictures larger than what the GPU can display. That is, the camera megapixel count exceeds the GPU max texture size, preventing camera shots from being displayed on the same device unless the image has been downscaled/down-sampled firs.
This particular issue can be reproduced on the following devices:
* Samsung Galaxy Nexus
* Samsung Galaxy S4


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2017-04-08

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/8951" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8951</a></li>
<li>Joshua Quick 2017-11-07

   Unfortunately, I don't see us working on this in the next couple of months. Other higher priority tasks are in the queue. No ETA yet.</li>
<li>Gary Mathews 2018-03-14

   Setting to <code>In Progress</code></li>
</ol>


<p><a href="/TIMOB/TIMOB-24528.json">JSON Source</a></p>