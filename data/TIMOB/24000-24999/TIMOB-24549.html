---
title: "[TIMOB-24549] TiAPI: Add support for Promises"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Epic</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-12-09T17:25:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.0.0</td></tr>
<tr><th>Components</th><td>Android, iOS, Windows, Windows phone</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2017-04-01T19:01:59.000+0000</td></tr>
<tr><th>Updated</th><td>2021-08-26T11:01:37.000+0000</td></tr>
</table>

<h3>Description</h3>

"The modern development world is highly asynchronous".

I agree, so we should add support for promises that can be used from the JS world to improve the general callback structure. On the native side, we should a new class "TiPromise" that can be used in the SDK, native modules and Hyperloop to allow promises.

I am not completely sure about the architecture so far, but we should definitely talk about it!

<h3>Comments</h3>

<ol>
<li>Chris Barber 2017-04-03

   +1 for replacing all callback-based functions with Promise-based signatures, but this is such a major change that I think we should tackle this when we tackle Alloy v2.</li>
<li>Rene Pot 2018-03-08

   This issue is resolved by TIMOB-24610</li>
<li>Sergey Volkov 2018-11-26

   I think this issue should be reopened, because it was not about general <code>Promise</code> support (native or polyfills).
   It was about promise-based APIs vs callback-based, currently we still can not create native method which will return Promise to js side, all we have is old-school callback.
   
   -I have prepared POC for creating promise-based APIs for Android native modules:-
   * -[Branch](<a href="https://github.com/drauggres/titanium_mobile/commits/feature/promise-api)-" rel="nofollow" target="_blank">https://github.com/drauggres/titanium_mobile/commits/feature/promise-api)-</a>
   * -[Builds](<a href="https://github.com/drauggres/titanium_mobile/releases/tag/v8.0.0.promise-preview)-" rel="nofollow" target="_blank">https://github.com/drauggres/titanium_mobile/releases/tag/v8.0.0.promise-preview)-</a>
   
   -This is just <code>proof-of-concept</code> so I will not create PR from it (but feel free to use it if you'll find it worth).-
   
   -P.S. I don't think <code>permissionRequest</code> should reject Promise that was done only to show both resolving and rejection.-
   
   ----
   
   
   
   I rethought everything above and cleaned up code: <a href="https://github.com/appcelerator/titanium_mobile/pull/10554" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10554</a></li>
<li>Hans Knöchel 2018-11-27

   +1. While I would rather like to see full async/await support, this is a good step in that direction!</li>
<li>Christopher Williams 2020-01-28

   Re-opening as the "duplicate" ticket doesn't actually resolve this.</li>
<li>Christopher Williams 2020-10-16

   <a href="https://github.com/appcelerator/titanium_mobile/pull/10554" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10554</a></li>
<li>Christopher Williams 2020-12-09

   merged to master for 10.0.0 target Note that QE did not formally FR this yet, but the test suite was modified to include some tests for a couple new Promise-based APIs</li>
</ol>


<p><a href="/TIMOB/TIMOB-24549.json">JSON Source</a></p>