---
title: "[TIMOB-24553] Android: Build breaks if <icon> contains a non-[a-z0-9_.] character"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Hold</td></tr>
<tr><th>Resolution Date</th><td>2019-06-04T15:34:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.3, Release 8.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android, Tooling</td></tr>
<tr><th>Labels</th><td>cb-tooling, engTriage</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2017-04-03T23:18:27.000+0000</td></tr>
<tr><th>Updated</th><td>2019-06-04T15:34:59.000+0000</td></tr>
</table>

<h3>Description</h3>

When building an app for Android and the <code>&lt;icon&gt;</code> in the tiapp.xml refers to a filename with a character that doesn't match the regex <code>a-z0-9_.</code>, then the build fails with:

<code><pre>
[ERROR] Failed to package application:
[ERROR]
[ERROR] res/drawable/appicon-76.png: Invalid file name: must contain only [a-z0-9_.]
</pre></code>

Workaround is to only use <code>a-z0-9_.</code> characters in the appicon filename.

This ticket is invalid if we get around to creating a universal asset management system.

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2017-04-11

   This is partly a native Android limitation. Google's Android build system (not Appcelerator) generates an "R.java" file where a Java constant gets created for each file under the APK's "res" folder. The "res" file names are used as-is during code generation. So, file names containing spaces, dashes, leading numbers, or Java keywords (if, for, where, etc.) would cause compiler errors on Google's end.
   
   Perhaps we should validate the files under the "res" folder first to provide a more useful build failure message to the developer? The validation code can be similar to what we use to validate a Titanium "Application Id", which gets turned into an Android package name.</li>
</ol>


<p><a href="/TIMOB/TIMOB-24553.json">JSON Source</a></p>