---
title: "[TIMOB-24636] ArrowDB - User's stats for Photos and Storage always 0"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>api</td></tr>
<tr><th>Reporter</th><td>Joseph Sachs</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2017-04-26T13:01:19.000+0000</td></tr>
<tr><th>Updated</th><td>2019-08-27T17:25:38.000+0000</td></tr>
</table>

<h3>Description</h3>

A User uploads a Photo to ArrowDB; 
When I query the User, the *stats* property for that User shows:

<code><pre>
"stats": {
      "photos": {
        "total_count": 0
      },
      "storage": {
        "used": 0
      }
    },
</pre></code>

Regardless of the number of Photos uploaded (even processed:true), the stats always show 0 for Photos and Storage.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24636_66892/Screen Shot 2019-08-27 at 11.22.02 AM.png">Screen Shot 2019-08-27 at 11.22.02 AM.png</td></td><td>2019-08-27T17:25:38.000+0000</td><td>134244</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24636_66891/Screen Shot 2019-08-27 at 11.22.02 AM.png">Screen Shot 2019-08-27 at 11.22.02 AM.png</td></td><td>2019-08-27T17:25:17.000+0000</td><td>134244</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-04-26

   Hello, I can verify the issue for stats in user query.</li>
<li>Eric Merriman  2017-04-27

   [~sdarda] If the curl and the SDK return the same result then it isn't the SDK. You should move the ticket to CLOUDSRV</li>
<li>Joseph Sachs 2019-08-14

   I am curious if the fix has been implemented?</li>
<li>Alan Hutton 2019-08-14

   Moving to CLOUDSRV off of HOLD. </li>
<li>Alan Hutton 2019-08-14

   [~underlabs] This issue was moved over to a non public facing Axway Jira. Comments/updates from that issue will be placed here.</li>
<li>Alan Hutton 2019-08-21

   The original query method generated a large number of db queries. This resulted in bad DB performance, and was removed. However, for querying photo stats per user ID please see : <a href="https://docs.appcelerator.com/arrowdb/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/arrowdb/latest/#</a>!/api/Photos-method-query</li>
<li>Joseph Sachs 2019-08-21

   I've tried the API in question, 
   
   
   and I've received this returned Obj:
   /photos/query.json
   {"page":1,"per_page":100,"user_id":"5ca24b6XXXX2dae94"}
   
   <code><pre>
   {
     "meta": {
       "code": 200,
       "status": "ok",
       "method_name": "queryPhoto",
       "count": 1224
     },
     "response": {
       "photos": [
         {
           "id": "5ca24b6XXXX2dae94",
           "filename": "0156yyy826.jpeg",
           "size": 146223,
           "md5": "b2caffb4c5b693ab58eb0d9bd9089026",
           "created_at": "2019-08-20T21:50:29+0000",
           "updated_at": "2019-08-20T21:50:29+0000",
           "processed": true,
           "urls": {
             "preview": "<a href="https://s3-us-west-1.amazonaws.com/storage-platform.cloud.appcelerator.com/.....jpeg" rel="nofollow" target="_blank">https://s3-us-west-1.amazonaws.com/storage-platform.cloud.appcelerator.com/.....jpeg</a>",
             "original": "<a href="https://s3-us-west-1.amazonaws.com/storage-platform.cloud.appcel....6_original.jpeg" rel="nofollow" target="_blank">https://s3-us-west-1.amazonaws.com/storage-platform.cloud.appcel....6_original.jpeg</a>"
           },
           "content_type": "image/jpeg",
           "user_id": "5ca24b6XXXX2dae94",
           "custom_fields": {
             "coordinates": [
               [
                 -xxx.04579162597656,
                 yy.10063934326172
               ]
             ]
           }
         }
       ]
     }
   }
   </pre></code>
   Note: I've trimmed the other 9 photos from the JSON above for simplification.
   
   I do see the count of images uploaded from that specific user: *1224*
   However, I don't see a *Stats* object for the *+total size+* or Storage consumed by that particular user. </li>
</ol>


<p><a href="/TIMOB/TIMOB-24636.json">JSON Source</a></p>