{
	"id": "167313",
	"key": "TIMOB-24636",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [],
		"resolution": null,
		"resolutiondate": null,
		"created": "2017-04-26T13:01:19.000+0000",
		"priority": {
			"name": "Critical",
			"id": "1"
		},
		"labels": [
			"api"
		],
		"versions": [],
		"issuelinks": [],
		"assignee": null,
		"updated": "2019-08-27T17:25:38.000+0000",
		"status": {
			"description": "This issue was once resolved, but the resolution was deemed incorrect. From here issues are either marked assigned or resolved.",
			"name": "Reopened",
			"id": "4",
			"statusCategory": {
				"id": 2,
				"key": "new",
				"colorName": "blue-gray",
				"name": "To Do"
			}
		},
		"components": [],
		"description": "A User uploads a Photo to ArrowDB; \r\nWhen I query the User, the *stats* property for that User shows:\r\n\r\n{code:javascript}\r\n\"stats\": {\r\n      \"photos\": {\r\n        \"total_count\": 0\r\n      },\r\n      \"storage\": {\r\n        \"used\": 0\r\n      }\r\n    },\r\n{code}\r\n\r\nRegardless of the number of Photos uploaded (even processed:true), the stats always show 0 for Photos and Storage.",
		"attachment": [
			{
				"id": "66892",
				"filename": "Screen Shot 2019-08-27 at 11.22.02 AM.png",
				"author": {
					"name": "ahutton",
					"key": "ahutton",
					"displayName": "Alan Hutton",
					"active": true,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-08-27T17:25:38.000+0000",
				"size": 134244,
				"mimeType": "image/png"
			},
			{
				"id": "66891",
				"filename": "Screen Shot 2019-08-27 at 11.22.02 AM.png",
				"author": {
					"name": "ahutton",
					"key": "ahutton",
					"displayName": "Alan Hutton",
					"active": true,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-08-27T17:25:17.000+0000",
				"size": 134244,
				"mimeType": "image/png"
			}
		],
		"flagged": false,
		"summary": "ArrowDB - User's stats for Photos and Storage always 0",
		"creator": {
			"name": "underlabs",
			"key": "underlabs",
			"displayName": "Joseph Sachs",
			"active": true,
			"timeZone": "America/Montreal"
		},
		"subtasks": [],
		"reporter": {
			"name": "underlabs",
			"key": "underlabs",
			"displayName": "Joseph Sachs",
			"active": true,
			"timeZone": "America/Montreal"
		},
		"environment": null,
		"comment": {
			"comments": [
				{
					"id": "418128",
					"author": {
						"name": "sdarda",
						"key": "sdarda",
						"displayName": "Sharif AbuDarda",
						"active": false,
						"timeZone": "Asia/Dhaka"
					},
					"body": "Hello, I can verify the issue for stats in user query.",
					"updateAuthor": {
						"name": "sdarda",
						"key": "sdarda",
						"displayName": "Sharif AbuDarda",
						"active": false,
						"timeZone": "Asia/Dhaka"
					},
					"created": "2017-04-26T19:05:28.000+0000",
					"updated": "2017-04-26T19:05:41.000+0000"
				},
				{
					"id": "418219",
					"author": {
						"name": "emerriman",
						"key": "emerriman",
						"displayName": "Eric Merriman ",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~sdarda] If the curl and the SDK return the same result then it isn't the SDK. You should move the ticket to CLOUDSRV",
					"updateAuthor": {
						"name": "emerriman",
						"key": "emerriman",
						"displayName": "Eric Merriman ",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-04-27T23:25:44.000+0000",
					"updated": "2017-04-27T23:25:44.000+0000"
				},
				{
					"id": "450483",
					"author": {
						"name": "underlabs",
						"key": "underlabs",
						"displayName": "Joseph Sachs",
						"active": true,
						"timeZone": "America/Montreal"
					},
					"body": "I am curious if the fix has been implemented?",
					"updateAuthor": {
						"name": "underlabs",
						"key": "underlabs",
						"displayName": "Joseph Sachs",
						"active": true,
						"timeZone": "America/Montreal"
					},
					"created": "2019-08-14T17:45:13.000+0000",
					"updated": "2019-08-14T17:45:13.000+0000"
				},
				{
					"id": "450487",
					"author": {
						"name": "ahutton",
						"key": "ahutton",
						"displayName": "Alan Hutton",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Moving to CLOUDSRV off of HOLD. ",
					"updateAuthor": {
						"name": "ahutton",
						"key": "ahutton",
						"displayName": "Alan Hutton",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-08-14T18:32:47.000+0000",
					"updated": "2019-08-14T18:32:47.000+0000"
				},
				{
					"id": "450489",
					"author": {
						"name": "ahutton",
						"key": "ahutton",
						"displayName": "Alan Hutton",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~underlabs] This issue was moved over to a non public facing Axway Jira. Comments/updates from that issue will be placed here.",
					"updateAuthor": {
						"name": "ahutton",
						"key": "ahutton",
						"displayName": "Alan Hutton",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-08-14T20:52:33.000+0000",
					"updated": "2019-08-14T20:52:33.000+0000"
				},
				{
					"id": "450684",
					"author": {
						"name": "ahutton",
						"key": "ahutton",
						"displayName": "Alan Hutton",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "The original query method generated a large number of db queries. This resulted in bad DB performance, and was removed. However, for querying photo stats per user ID please see : https://docs.appcelerator.com/arrowdb/latest/#!/api/Photos-method-query",
					"updateAuthor": {
						"name": "ahutton",
						"key": "ahutton",
						"displayName": "Alan Hutton",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-08-21T18:20:02.000+0000",
					"updated": "2019-08-21T18:20:02.000+0000"
				},
				{
					"id": "450687",
					"author": {
						"name": "underlabs",
						"key": "underlabs",
						"displayName": "Joseph Sachs",
						"active": true,
						"timeZone": "America/Montreal"
					},
					"body": "I've tried the API in question, \r\n\r\n\r\nand I've received this returned Obj:\r\n/photos/query.json\r\n{\"page\":1,\"per_page\":100,\"user_id\":\"5ca24b6XXXX2dae94\"}\r\n\r\n{code:javascript}\r\n{\r\n  \"meta\": {\r\n    \"code\": 200,\r\n    \"status\": \"ok\",\r\n    \"method_name\": \"queryPhoto\",\r\n    \"count\": 1224\r\n  },\r\n  \"response\": {\r\n    \"photos\": [\r\n      {\r\n        \"id\": \"5ca24b6XXXX2dae94\",\r\n        \"filename\": \"0156yyy826.jpeg\",\r\n        \"size\": 146223,\r\n        \"md5\": \"b2caffb4c5b693ab58eb0d9bd9089026\",\r\n        \"created_at\": \"2019-08-20T21:50:29+0000\",\r\n        \"updated_at\": \"2019-08-20T21:50:29+0000\",\r\n        \"processed\": true,\r\n        \"urls\": {\r\n          \"preview\": \"https://s3-us-west-1.amazonaws.com/storage-platform.cloud.appcelerator.com/.....jpeg\",\r\n          \"original\": \"https://s3-us-west-1.amazonaws.com/storage-platform.cloud.appcel....6_original.jpeg\"\r\n        },\r\n        \"content_type\": \"image/jpeg\",\r\n        \"user_id\": \"5ca24b6XXXX2dae94\",\r\n        \"custom_fields\": {\r\n          \"coordinates\": [\r\n            [\r\n              -xxx.04579162597656,\r\n              yy.10063934326172\r\n            ]\r\n          ]\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n{code}\r\nNote: I've trimmed the other 9 photos from the JSON above for simplification.\r\n\r\nI do see the count of images uploaded from that specific user: *1224*\r\nHowever, I don't see a *Stats* object for the *+total size+* or Storage consumed by that particular user. ",
					"updateAuthor": {
						"name": "underlabs",
						"key": "underlabs",
						"displayName": "Joseph Sachs",
						"active": true,
						"timeZone": "America/Montreal"
					},
					"created": "2019-08-21T18:52:04.000+0000",
					"updated": "2019-08-21T18:54:12.000+0000"
				}
			],
			"maxResults": 10,
			"total": 10,
			"startAt": 0
		}
	}
}