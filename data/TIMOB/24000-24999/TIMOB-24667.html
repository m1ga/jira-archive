---
title: "[TIMOB-24667] Android: borderRadius doesn't clip the backgroundColor on android 4.1.x, 4.2.x on SDK 6+"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-05-11T01:41:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.4</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, borderRadius, regression</td></tr>
<tr><th>Reporter</th><td>Dan Tamas</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2017-05-08T11:19:53.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-15T18:48:23.000+0000</td></tr>
</table>

<h3>Description</h3>

Adding a borderRadius on a view won't clip the backgroundColor, so the result will be  a square with a circle behind instead of a bordered circle. Please see screenshot.

This happens on android 4.1.x and 4.2.x, on 4.4.4+ works ok.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-24667_62189/Screen Shot 2017-05-08 at 13.18.26.png">Screen Shot 2017-05-08 at 13.18.26.png</td></td><td>2017-05-08T11:18:43.000+0000</td><td>17883</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-05-08

   Hello, Please provide a sample code that regenerates the issue. We will test it. Thanks.</li>
<li>Dan Tamas 2017-05-08

   Hi, thank you for the fast reply, here is how to replicate:
   
   For a new Alloy project, put this in index.xml
   
   <code><pre>
   <Alloy>
     <Window class="container">
       <View class="roundedWithBorder">
         <Label id="label" onClick="doClick">Hello, World</Label>
       </View>
     </Window>
   </Alloy>
   </pre></code>
   
   add this in index.tss:
   <code><pre>
   ".roundedWithBorder":{
   	width:100,
   	height:100,
   	borderWidth:3,
   	borderRadius:50,
   	borderColor:'red',
   	backgroundColor:'pink'
   }
   </pre></code></li>
<li>Hans Knöchel 2017-05-08

   Hey Dan, I moved it to Engineering, it looks valid. Your labels state that it's a <code>regression</code>, can you see in which Titanium SDK it used to work?
   
   Test-Case (classic):
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: '#fff'
   });
   
   var roundedWithBorder = Ti.UI.createView({
       width: 100,
       height: 100,
       borderWidth: 3,
       borderRadius: 50,
       borderColor: 'red',
       backgroundColor: 'pink'
   });
   
   roundedWithBorder.add(Ti.UI.createLabel({
       text: 'Hello, World'
   }));
   
   win.add(roundedWithBorder);
   win.open();
   </pre></code></li>
<li>Dan Tamas 2017-05-08

   Hi, 
   I jumped from 5.5.1 to 6.0.3, it was working ok with 5.5.1.</li>
<li>Dan Tamas 2017-05-08

   Could it be this: <a href="https://github.com/appcelerator/titanium_mobile/pull/8851" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/8851</a> ?</li>
<li>Hans Knöchel 2017-05-08

   Will be checked by the Android team asap. I also tried my above test-case and it indeed reproduces:
   - [Working on Android 7](<a href="https://abload.de/img/bildschirmfoto2017-050wug5.png)" rel="nofollow" target="_blank">https://abload.de/img/bildschirmfoto2017-050wug5.png)</a>
   - [Not Working on Android 4.2](<a href="https://abload.de/img/bildschirmfoto2017-05xlu2w.png)" rel="nofollow" target="_blank">https://abload.de/img/bildschirmfoto2017-05xlu2w.png)</a></li>
<li>Gary Mathews 2017-05-09

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/9037" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9037</a></li>
<li>Gary Mathews 2017-05-09

   6_1_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/9039" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9039</a></li>
<li>Lokesh Choudhary 2017-05-11

   FR passed for both master & backport PR.</li>
<li>Lokesh Choudhary 2017-05-15

    Verified the fix in  6.1.0.v20170514022959.
    
    Adding a <code>borderRadius</code> on a view clips the <code>backgroundColor</code> as expected.
    Closing.
    
    Studio Ver:     4.9.0.201705110256
    SDK Ver:        6.1.0.v20170514022959
    OS Ver:         10.12.3
    Xcode Ver:      Xcode 8.3.2
    Appc NPM:       4.2.9
    Appc CLI:       6.2.1
    Ti CLI Ver:     5.0.13
    Alloy Ver:      1.9.11
    Node Ver:       6.10.1
    Java Ver:       1.8.0_101
    Android Emulator: Android 4.2.2, Android 4.1.1 & android 5.1.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-24667.json">JSON Source</a></p>