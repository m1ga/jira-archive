---
title: "[TIMOB-24674] Windows: require call in node_modules directory fails to find module"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-06-20T15:53:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.0.3</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.2.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2017-05-10T15:45:50.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-16T16:54:55.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

Carrying over from, TIMOB-24642. The demo app at <a href="https://www.dropbox.com/s/m4wy91x92gxw63m/demo.zip?dl=1" rel="nofollow" target="_blank">https://www.dropbox.com/s/m4wy91x92gxw63m/demo.zip?dl=1</a> when built for windows will throw the error below, it seems to be unable to traverse back through to the top level node_modules to find bar

<code><pre>
-- Start application log -----------------------------------------------------
[ERROR] Application Error: {
[ERROR]   "line": 2,
[ERROR]   "column": 10,
[ERROR]   "message": "require: Error while require(/app) require: Error while require(foo) require: Error while require(./lib/foo) require: Could not load module bar",
[ERROR]   "native_stack": [
[ERROR]     "JSExportClass&lt;class Titanium::GlobalObject&gt;::CallNamedFunction"
[ERROR]   ]
[ERROR] }
-- End application log -------------------------------------------------------
</pre></code>

<h4>Steps to reproduce</h4>

<h4>Download the above app</h4>
<h4>Build it for Windows</h4>

<h4>Actual</h4>

Error is thrown

<h4>Expected</h4>

No error thrown, console should log the below

[INFO] boz index.js loaded
[INFO] boo boo.js loaded
[INFO] baz index.js loaded
[INFO] bar bar.js loaded
[INFO] foo lib/foo.js loaded
[INFO] foo index.js loaded

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2017-05-12

   Master PR: <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/998" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/998</a>
   
   [~emerriman] This is kinda a partner ticket to TIMOB-24642, but not as bad. Do we want to pull into 6.1.0 or am I too late?</li>
<li>Samir Mohammed 2017-08-16

   Verified fix in SDK Version 7.0.0.v20170815065413 and SDK Version: 6.2.0.v20170815130745
   
   Test and other information can be found at:
   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/998" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/998</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-24674.json">JSON Source</a></p>