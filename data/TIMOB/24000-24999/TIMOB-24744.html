---
title: "[TIMOB-24744] iOS: Error when using ES6 arrow function"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Do</td></tr>
<tr><th>Resolution Date</th><td>2019-07-18T14:34:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>ES6, titanium</td></tr>
<tr><th>Reporter</th><td>Brenton House</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2017-05-23T17:06:26.000+0000</td></tr>
<tr><th>Updated</th><td>2019-07-18T14:34:44.000+0000</td></tr>
</table>

<h3>Description</h3>

When I have the following code in my controller:


<code><pre>
// Some comments here
var toggleRight = e => {

	$.rightmenu.zIndex = 500;
	$.content.animate({
		duration: 500,
		left:     0,
	});
};
</pre></code>


I get this runtime error in iOS:


{noformat}
[ERROR]     message = "Unexpected token ')'";
{noformat}


Android works as expected.



<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-05-23

   Please share a full reproducible code/project for us to test the issue. Thanks.</li>
<li>Brenton House 2017-05-23

   Steps to reproduce:
   
   1. Create new Titanium project using CLI
   2. Open <code>index.js</code> and replace the following:
   
   
   <code><pre>
   function doClick(e) {
   	alert($.label.text);
   }
   </pre></code>
   
   with this code:
   
   <code><pre>
   const doClick = e => {
   	alert($.label.text);
   };
   </pre></code>
   
   3.  Run the app:  <code>appc ti build --platform ios --target simulator --log-level trace</code></li>
<li>Christopher Williams 2017-05-23

   </li>
<li>Brenton House 2017-05-23

   Thanks [~cwilliams]!  I've been going back and forth changing settings trying to recreate that I forgot to switch that back.
   
   I did set jscore to true and now I get this error:
   
   {noformat}
   [ERROR]     message = "Cannot access uninitialized variable.";
   {noformat}
   
   
   (if I use 'var' instead of 'const' it works fine)</li>
<li>Alan Hutton 2019-07-18

   Closing per developer comments,</li>
</ol>


<p><a href="/TIMOB/TIMOB-24744.json">JSON Source</a></p>