---
title: "[TIMOB-24798] iOS: Cannot Ad Hoc package with Xcode 9"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-08-28T20:58:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.2.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.2.0</td></tr>
<tr><th>Components</th><td>CLI, iOS</td></tr>
<tr><th>Labels</th><td>qe-6.2.0</td></tr>
<tr><th>Reporter</th><td>Eric Wieber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2017-06-08T20:58:54.000+0000</td></tr>
<tr><th>Updated</th><td>2017-12-05T10:14:57.000+0000</td></tr>
</table>

<h3>Description</h3>

When packaging for Ad Hoc, using Xcode 9, the following error is encountered:
<code><pre>
[ERROR] Failed to export archive to ipa

[ERROR] The selected provisioning profile "Explicit Profile (0257457f-5cf0-4147-b527-efce215115a4)" is most likely not a valid Ad Hoc provisioning profile.

[ERROR] Please ensure you are using a valid Ad Hoc provisioning that is linked to the signing identity, then try again.
</pre></code>

Looking at the Xcodebuild logs, the underlying error is:
<code><pre>
xcodebuild[24760:5096269] [MT] IDEDistribution: Step failed: <IDEDistributionSigningAssetsStep: 0x7f83b384adb0>: Error Domain=IDEDistributionSigningAssetStepErrorDomain Code=0 "Locating signing assets failed." UserInfo={NSLocalizedDescription=Locating signing assets failed., IDEDistributionSigningAssetStepUnderlyingErrors=(
    "Error Domain=IDEProvisioningErrorDomain Code=9 \"\"dashboardcheck.app\" requires a provisioning profile.\" UserInfo={NSLocalizedDescription=\"dashboardcheck.app\" requires a provisioning profile., NSLocalizedRecoverySuggestion=Select a provisioning profile for the \"Default\" build configuration in the project editor.}"
</pre></code>

*Steps to reproduce issue*
1. Create a new project
2. Package that project for Ad Hoc

*Expected Results*
The project is packaged without error

*Actual Results*
The above errors are encountered

<h3>Comments</h3>

<ol>
<li>Chris Barber 2017-06-22

   Ti SDK PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/9173" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9173</a></li>
<li>Eric Wieber 2017-07-12

   Verified fixed in SDK 6.2.0.v20170711165607.
   Able to build/package (adhoc and to store) with both explicit and wildcard IDs when using Xcode 9 (beta 2 and 3). No issues encountered.</li>
<li>Hans Kn√∂chel 2017-08-27

   Reopening based on the discussion on [Github](<a href="https://github.com/appcelerator/titanium_mobile/pull/9181#issuecomment-325012240)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9181#issuecomment-325012240).</a></li>
<li>Chris Barber 2017-08-28

   Regression fix:
   
   Master: <a href="https://github.com/appcelerator/titanium_mobile/pull/9364" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9364</a>
   6_2_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/9365" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9365</a></li>
<li>Eric Wieber 2017-08-28

   FR Passed, using:
   MacOS 10.12.6 (16G24b)
   Ti SDK 6.2.0.v20170828123537
   Appc NPM 4.2.9
   Appc CLI 6.2.3
   Alloy 1.9.13
   Xcode 8.3.3 (8E3004b)
   
   AdHoc builds do not clear the output directory but instead remove an old .ipa, if present on build. AdHoc builds succeed without error</li>
<li>Eric Wieber 2017-08-28

   Verified in SDK builds 6.2.0.v20170828145047 and 7.0.0.v20170828145704</li>
<li>Joshua A. Ceaser 2017-09-19

   Will this require all apps to be on 6.2 if using Xcode 9 or can you just install the updates without upgrading to SDK 6.2?</li>
<li>Chris Barber 2017-09-20

   [~jceaser] Yeah, there were a few Xcode 9 issues that were fixed in 6.2.0 and even more in 6.2.1.</li>
<li>Alberto Marcone 2017-12-05

   this is still happening with Xcode 9 and TiSDK 6.3.0, in a project importing a module with a dynamic library.
   
   These are fresh from few minutes ago:
   
   [ERROR] :  Failed to export archive to ipa
   [ERROR] :  The selected provisioning profile "xxx - adhoc (cadbd3a8-0801-4e2e-ab19-xxxx)" is most likely not a valid Ad Hoc provisioning profile.
   [ERROR] :  Please ensure you are using a valid Ad Hoc provisioning that is linked to the signing identity, then try again.
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-24798.json">JSON Source</a></p>