---
title: "[TIMOB-24813] different sub-variable names for optionDialog "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-08-28T03:36:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>ILAY SENER</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2017-05-19T16:04:27.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:37:03.000+0000</td></tr>
</table>

<h3>Description</h3>

I am using a simple optionDialog:

<OptionDialog id="selectOccupants"  title="Select Occupant Count" onClick="setOccupants" />

when running on iOS, I get the following error: 
message = "undefined is not an object (evaluating 'e.source.options[e.source.selectedIndex].toString')";

However, this works perfectly fine on Android. 

It looks like on Android, selectedIndex is available, but when running on iOS, same parameter is named differently, 'index'.

attached are the screenshots from debugging for both android and ios. 

This should be uniform across both platforms.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24813_62949/observeView.js">observeView.js</td></td><td>2017-07-31T13:17:32.000+0000</td><td>12399</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24813_62948/observeView.tss">observeView.tss</td></td><td>2017-07-31T13:15:42.000+0000</td><td>1338</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24813_62256/Screen Shot 2017-05-20 at 00.01.20.png">Screen Shot 2017-05-20 at 00.01.20.png</td></td><td>2017-05-19T16:04:22.000+0000</td><td>461261</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-24813_62255/Screen Shot 2017-05-20 at 00.02.47.png">Screen Shot 2017-05-20 at 00.02.47.png</td></td><td>2017-05-19T16:04:25.000+0000</td><td>640044</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vijay Singh 2017-07-31

   [~isener] Can you provide test code to reproduce this issue ? Thanks.
   </li>
<li>ILAY SENER 2017-07-31

   Sure. 
   
   Attached and below should suffice I believe to reproduce the error.
   
   observeView.js
   ---------------
   function setOccupants(e) {
       // $.occp.title = (e.source.options[e.source.selectedIndex]).toString();
   
       var selectedItem;
       if (OS_IOS) {
           selectedItem = e.index;
       } else {
           selectedItem = e.source.selectedIndex;
       }
   
       $.occp.title = selectedItem.toString();
   
       if ((e.source.options[selectedItem]) > 1) {
           $.classView.show();
           $.classView.height = 30;
           $.classView.top = '5';
       } else {
           $.classView.height = 0;
           $.classView.hide();
       }
   }
   
   
   </li>
<li>Vijay Singh 2017-08-01

   "index" is available in both platforms as mentioned [here](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.UI.OptionDialog-event-click). It is property of event. 
   "selectedIndex" is available with android only , as mentioned in doc [here](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.UI.OptionDialog-property-selectedIndex). It is property of option dialogue. So you can use in your code 
   
   var selectedItem = e.index ;
   
   rather 
   
   var selectedItem;
   if (OS_IOS)
   { selectedItem = e.index; }
   else
   { selectedItem = e.source.selectedIndex; }</li>
<li>Vijay Singh 2017-08-25

   [~isener] "index" is available in both platform as mentioned in above comment. Can you verify at your end if its working. Thanks.
   </li>
<li>ILAY SENER 2017-08-25

   it should. Cheers.</li>
<li>Vijay Singh 2017-08-28

   This is not an issue. In previous comments, it is explained in detail. So resolving it.</li>
<li>Eric Merriman  2018-08-06

   Closing as invalid. If incorrect, please reopen.</li>
</ol>


<p><a href="/TIMOB/TIMOB-24813.json">JSON Source</a></p>