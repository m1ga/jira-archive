---
title: "[TIMOB-24869] Windows: ShowCamera should not write image to photoGallery by default"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-08-17T14:43:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.1.0, Release 6.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.2.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>parity</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2017-06-21T11:40:17.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-21T10:37:13.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

Currently when using Ti.Media.showCamera, the photo will be saved to the users photo gallery by default, regardless of the saveToPhotoGallery setting. By default the file should not be saved to the photo gallery

<code><pre>
var win = Ti.UI.createWindow({ backgroundColor: 'green', layout: 'vertical' }),
    openButton = Ti.UI.createButton({ title: 'OPEN CAMERA', backgroundColor: 'blue', top: 25 });
openButton.addEventListener('click', function () {
    Ti.Media.showCamera({
        success: function (e) {
            var img = Ti.UI.createImageView({
                image: e.media
            });
            win.add(img);
        },
        error: function (e) {
            alert('showCamera() error: ' + JSON.stringify(e));
        }
    });
});
win.add(openButton);
win.open();
</pre></code>

<h4>Steps to reproduce</h4>

<h4>Add the code above to an existing app.js</h4>
<h4>Build for Windows</h4>
<h4>Tap the show camera button and take a photo</h4>
<h4>Add the following to your tiapp under the windows section</h4>
<code><pre>
<manifest>
    <Capabilities>
        <uap:Capability Name="picturesLibrary" />
        <uap:Capability Name="videosLibrary" />
    </Capabilities>
</manifest>
</pre></code>
5. Rebuild and repeat the steps

<h4>Actual</h4>

Without the capabilities, after taking the photo  the app will throw an access denied in the alert.

With the capabilities a photo will be added to the window, and to the devices photo gallery

<h4>Expected</h4>

A photo should be added in both cases, neither should add the photo to the photo gallery

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2017-07-07

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1036" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1036</a></li>
<li>Kota Iguchi 2017-08-18

   Merged to 6_2_X <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1079" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1079</a></li>
<li>Ewan Harris 2017-08-21

   Verified in 6.2.0.v20170821001430, closing ticket</li>
</ol>


<p><a href="/TIMOB/TIMOB-24869.json">JSON Source</a></p>