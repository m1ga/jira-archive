{
	"id": "167949",
	"key": "TIMOB-24884",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "19572",
				"description": "Important fixes for 6.1.0",
				"name": "Release 6.1.1",
				"archived": false,
				"released": true,
				"releaseDate": "2017-06-16"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2017-06-26T21:53:31.000+0000",
		"created": "2017-05-26T12:55:08.000+0000",
		"priority": {
			"name": "None",
			"id": "6"
		},
		"labels": [],
		"versions": [
			{
				"id": "17608",
				"name": "Release 6.1.0",
				"archived": false,
				"released": true,
				"releaseDate": "2017-05-26"
			}
		],
		"issuelinks": [
			{
				"id": "56128",
				"type": {
					"id": "10122",
					"name": "Gantt: start-finish",
					"inward": "is triggered by",
					"outward": "is triggering"
				},
				"outwardIssue": {
					"id": "169857",
					"key": "TIMOB-25328",
					"fields": {
						"summary": "CLI: Option \"Enable Javascript Minification\" break code from SDK >= 6.1.1.G.A",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "54973",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "167919",
					"key": "ALOY-1565",
					"fields": {
						"summary": "KitchenSink v2 errors out on iOS",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "None",
							"id": "6"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "55286",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "167478",
					"key": "TIMOB-24662",
					"fields": {
						"summary": "CLI: Build errors out with \"Couldn't find preset \"babili\" relative to directory\" when deploy type is test",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "None",
							"id": "6"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "cbarber",
			"key": "cbarber",
			"displayName": "Chris Barber",
			"active": true,
			"timeZone": "America/Chicago"
		},
		"updated": "2017-11-07T10:56:19.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [],
		"description": "h5.Description\r\n\r\nThe titanium SDK minification process is causing the following apps to error out when building to iOS\r\n\r\nhttps://github.com/appcelerator/appc-university-app\r\n{code}\r\n[ERROR] Script Error {\r\n[ERROR]     column = 697;\r\n[ERROR]     line = 1;\r\n[ERROR]     message = \"Can't find variable: populateSpotlightSearch\";\r\n[ERROR]     sourceURL = \"file:///Users/eharris/Library/Developer/CoreSimulator/Devices/DAE930F3-D384-42DE-B14D-F2EB6DDFE798/data/Containers/Bundle/Application/9D8A7184-ABA4-47AE-BCBC-F3C4957D859D/University.app/alloy/controllers/index.js\";\r\n[ERROR]     stack = \"file:///Users/eharris/Library/Developer/CoreSimulator/Devices/DAE930F3-D384-42DE-B14D-F2EB6DDFE798/data/Containers/Bundle/Application/9D8A7184-ABA4-47AE-BCBC-F3C4957D859D/University.app/alloy/controllers/index.js:1:697\\nonload@file:///Users/eharris/Library/Developer/CoreSimulator/Devices/DAE930F3-D384-42DE-B14D-F2EB6DDFE798/data/Containers/Bundle/Application/9D8A7184-ABA4-47AE-BCBC-F3C4957D859D/University.app/appcelerator-university-service.js:1:1725\";\r\n[ERROR] }\r\n{code}\r\n\r\nhttps://github.com/appcelerator/movies\r\n{code}\r\n[ERROR] Script Error {\r\n[ERROR]     column = 1680;\r\n[ERROR]     line = 1;\r\n[ERROR]     message = \"Can't find variable: cellImageOffset\";\r\n[ERROR]     sourceURL = \"file:///Users/eharris/Library/Developer/CoreSimulator/Devices/DAE930F3-D384-42DE-B14D-F2EB6DDFE798/data/Containers/Bundle/Application/75763034-2C6D-473F-96AA-9110B270C2B3/Movies.app/alloy/controllers/movies_list.js\";\r\n[ERROR]     stack = \"d@file:///Users/eharris/Library/Developer/CoreSimulator/Devices/DAE930F3-D384-42DE-B14D-F2EB6DDFE798/data/Containers/Bundle/Application/75763034-2C6D-473F-96AA-9110B270C2B3/Movies.app/alloy/controllers/movies_list.js:1:1680\\nfile:///Users/eharris/Library/Developer/CoreSimulator/Devices/DAE930F3-D384-42DE-B14D-F2EB6DDFE798/data/Containers/Bundle/Application/75763034-2C6D-473F-96AA-9110B270C2B3/Movies.app/alloy/controllers/movies_list.js:1:1343\\nloadJsonFile@file:///Users/eharris/Library/Developer/CoreSimulator/Devices/DAE930F3-D384-42DE-B14D-F2EB6DDFE798/data/Containers/Bundle/Application/75763034-2C6D-473F-96AA-9110B270C2B3/Movies.app/data.js:1:326\\nmovies_get_list@file:///Users/eharris/Library/Developer/CoreSimulator/Devices/DAE930F3-D384-42DE-B14D-F2EB6DDFE798/data/Containers/Bundle/Application/75763034-2C6D-473F-96AA-9110B270C2B3/Movies.app/data.js:1:548\\nb@file:///Users/eharris/Library/Developer/CoreSimulator/Devices/DAE930F3-D384-42DE-B14D-F2EB6DDFE798/data/Containers/Bundle/Application/75763034-2C6D-473F-96AA-9110B270C2B3/Movies.app/alloy/controllers/movies_list.js:1:1204\\na@file:///Users/eharris/Library/Developer/CoreSimulator/Devices/DAE930F3-D384-42DE-B14D-F2EB6DDFE798/data/Containers/Bundle/Application/75763034-2C6D-473F-96AA-9110B270C2B3/Movies.app/alloy/controllers/movies_list.js:1:790\";\r\n[ERROR] }\r\n{code}\r\n\r\n\r\nh5.Steps to reproduce\r\n\r\n# Obtain either of the above apps\r\n# Build with {{ti build -p ios --deploy-type test}}\r\n* Movies, click one of the images\r\n* University app, just let the app load\r\n\r\nh5.Actual\r\n\r\nApps will error out\r\n\r\nh5.Expected\r\n\r\nApps should not error out",
		"attachment": [],
		"flagged": false,
		"summary": "CLI: Minification produces invalid code",
		"creator": {
			"name": "eharris",
			"key": "eharris",
			"displayName": "Ewan Harris",
			"active": true,
			"timeZone": "Europe/Dublin"
		},
		"subtasks": [],
		"reporter": {
			"name": "eharris",
			"key": "eharris",
			"displayName": "Ewan Harris",
			"active": true,
			"timeZone": "Europe/Dublin"
		},
		"environment": "Ti SDK: 6.1.0.v20170525110442\r\nTi CLI: 5.0.14\r\nAlloy: 1.10.1",
		"closedSprints": [
			{
				"id": 897,
				"state": "closed",
				"name": "2017 Sprint 11 Tooling",
				"startDate": "2017-05-22T02:43:02.412Z",
				"endDate": "2017-06-05T02:43:00.000Z",
				"completeDate": "2017-06-05T00:19:07.105Z",
				"originBoardId": 199
			},
			{
				"id": 912,
				"state": "closed",
				"name": "2017 Sprint 13 Tooling",
				"startDate": "2017-06-18T16:15:17.914Z",
				"endDate": "2017-07-02T16:15:00.000Z",
				"completeDate": "2017-07-06T23:54:40.012Z",
				"originBoardId": 199
			}
		],
		"comment": {
			"comments": [
				{
					"id": "420494",
					"author": {
						"name": "eharris",
						"key": "eharris",
						"displayName": "Ewan Harris",
						"active": true,
						"timeZone": "Europe/Dublin"
					},
					"body": "This is fixed by applying the same fix in ALOY-1565, but I believe that probably isnt the fix we want to take as we will no longer be minifying fully\r\n\r\nhttps://github.com/appcelerator/node-titanium-sdk/pull/7",
					"updateAuthor": {
						"name": "eharris",
						"key": "eharris",
						"displayName": "Ewan Harris",
						"active": true,
						"timeZone": "Europe/Dublin"
					},
					"created": "2017-05-26T12:56:40.000+0000",
					"updated": "2017-05-26T13:02:36.000+0000"
				},
				{
					"id": "420520",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "Alloy PR: https://github.com/appcelerator/alloy/pull/827",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-05-26T17:13:21.000+0000",
					"updated": "2017-05-26T17:13:21.000+0000"
				},
				{
					"id": "420521",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "FYI, bug fix for the appc-university-app https://github.com/appcelerator/appc-university-app/pull/11",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-05-26T17:15:21.000+0000",
					"updated": "2017-05-26T17:15:21.000+0000"
				},
				{
					"id": "422610",
					"author": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~cbarber] - I've tried the latest Alloy (1.10.3) w/ the RC build of 6.1.1 and we are still seeing an issue with how underscore.js is getting minified.  It is causing an error when _.template is called.   Is there a patch to Titanium as well as Alloy for this issue?",
					"updateAuthor": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T12:32:34.000+0000",
					"updated": "2017-06-23T12:32:34.000+0000"
				},
				{
					"id": "422611",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "So, after this ticket's PR, Alloy no longer minifies. All minification is done in the TItanium SDK. The new minification process apparently shipped in 6.1.0.GA.\r\n\r\nIs there a chance you can whip up a small test case app and attach it to this ticket? That would really help.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T12:42:21.000+0000",
					"updated": "2017-06-23T12:42:21.000+0000"
				},
				{
					"id": "422612",
					"author": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "I have also tried with the latest SDK:    6.2.0.v20170622105148\r\n\r\nunderscore.js is still corrupted by the minification process.",
					"updateAuthor": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T12:43:31.000+0000",
					"updated": "2017-06-23T12:43:31.000+0000"
				},
				{
					"id": "422613",
					"author": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~cbarber] - yes, I will create a test case and post it.  I can also duplicate this by copying the underscore.js from the build folder and putting it in a node.js project and trying to use _.template as well.\r\n",
					"updateAuthor": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T12:45:27.000+0000",
					"updated": "2017-06-23T12:45:27.000+0000"
				},
				{
					"id": "422624",
					"author": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~cbarber] -- Here is a simple project that duplicates the issue:  https://github.com/brentonhouse/appc-minify-issue\r\n\r\nJust build this to an iOS device (with LiveView NOT enabled)  to test it. \r\n\r\nThe error you get is:\r\n\r\n{noformat}\r\n[ERROR] Script Error {\r\n[ERROR]     column = 13811;\r\n[ERROR]     line = 2;\r\n[ERROR]     message = \"Invalid escape in identifier: '\\\\'\";\r\n[ERROR]     source = \"var __t,__p=\\\\'\\\\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\\\\'\\\\');};\\\\nwith(obj||{}){\\n__p+='\\\\n<body>\\\\n  '+\\n((__t=( content ))==null?'':__t)+\\n'\\\\n</body>\\\\n';\\n}\\nreturn __p;\\n\";\r\n[ERROR]     sourceURL = \"file:///var/containers/Bundle/Application/8C2018E6-AE2B-417F-B684-A172A3263407/appc-minify-issue.app/alloy/underscore.js\";\r\n[ERROR] } \r\n{noformat}\r\n\r\n",
					"updateAuthor": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T15:41:45.000+0000",
					"updated": "2017-06-23T15:41:45.000+0000"
				},
				{
					"id": "422625",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~brentonhouse] Awesome! Thank you. I'll get started asap.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T15:43:07.000+0000",
					"updated": "2017-06-23T15:43:07.000+0000"
				},
				{
					"id": "422629",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "I tested your app with local builds of the Titanium SDK 6_1_X (6.1.1) and master (6.2.0) branches using Titanium CLI 5.0.14, Alloy 1.10.3, Xcode 8.3.3 (iOS 10.3.1), and Node.js 8.1.2 and it worked both times:\r\n\r\n{code}\r\n-- Start simulator log -------------------------------------------------------\r\n[DEBUG] Reading stylesheet from: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/stylesheet.plist\r\n[INFO]  appc-minify-issue/1.0 (6.1.1.d36d308)\r\n[TRACE] [HYPERLOOP] willStartNewContext <KrollContext: 0x60800007b800>\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/app.js, Resource: app_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy, Resource: alloy\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy.js, Resource: alloy_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/underscore, Resource: alloy/underscore\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/underscore.js, Resource: alloy/underscore_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/backbone, Resource: alloy/backbone\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/backbone.js, Resource: alloy/backbone_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/underscore, Resource: alloy/underscore\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/underscore.js, Resource: alloy/underscore_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/constants, Resource: alloy/constants\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/constants.js, Resource: alloy/constants_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/underscore, Resource: alloy/underscore\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/underscore.js, Resource: alloy/underscore_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/CFG, Resource: alloy/CFG\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/CFG.js, Resource: alloy/CFG_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/controllers/index, Resource: alloy/controllers/index\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/controllers/index.js, Resource: alloy/controllers/index_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy, Resource: alloy\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy.js, Resource: alloy_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/controllers/BaseController, Resource: alloy/controllers/BaseController\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy/controllers/BaseController.js, Resource: alloy/controllers/BaseController_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy, Resource: alloy\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/alloy.js, Resource: alloy_js\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/_app_props_.json, Resource: _app_props__json\r\n[DEBUG] Loading: /Users/chris/Library/Developer/CoreSimulator/Devices/068C81B5-63C9-466B-BE58-D44C527736FF/data/Containers/Bundle/Application/0A4A83DE-7867-4343-B09C-59BA1951621B/appc-minify-issue.app/test.html, Resource: test_html\r\n[ERROR]\r\n[ERROR] <body>\r\n[ERROR]   This is a test\r\n[ERROR] </body>\r\n[DEBUG] Application booted in 134.616971 ms\r\n[TRACE] [HYPERLOOP] didStartNewContext <KrollContext: 0x60800007b800>\r\n-- End simulator log ---------------------------------------------------------\r\n{code}\r\n\r\nIt didn't seem to matter whether I used the JSCore framework or the built-in TiJSCore. I did NOT use Studio, LiveView, or the Appc CLI.\r\n\r\nCan you give me some more details about your environment?",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T16:18:45.000+0000",
					"updated": "2017-06-23T16:18:45.000+0000"
				},
				{
					"id": "422640",
					"author": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "I tried with:\r\n\r\nTitanium SDKs 6.1.0.GA & 6.1.1.RC & 6.2.X \r\nAlloy 1.9.x and 1.10.3\r\n\r\nOS: Mac OS X 10.12.5\r\nNode.js: 6.10.3\r\nnpm: 3.10.10\r\nTitanium CLI: 5.0.14\r\n\r\nNo Studio or LiveView.\r\nDid use Appc CLI 6.2.2 -(but I will try with Ti CLI next)-  Same result with Ti CLI 5.0.14\r\n\r\nI did upload the generated underscore.js file from the build folder here:  https://raw.githubusercontent.com/brentonhouse/appc-minify-issue/master/underscore.min.js\r\n\r\nYou can try to compare it to the underscore.js file in your build folder to see if it is different.\r\n\r\nYou are building to a physical device, correct?",
					"updateAuthor": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T17:00:41.000+0000",
					"updated": "2017-06-23T17:11:41.000+0000"
				},
				{
					"id": "422641",
					"author": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "For what it's worth,  changing Titanium SDK to 6.0.4.GA (and no other changes) makes it work ok.\r\n\r\nHere is the minified underscore.js when using 6.0.4.GA:  https://raw.githubusercontent.com/brentonhouse/appc-minify-issue/master/underscore.min_6.0.4.js\r\n",
					"updateAuthor": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T17:18:00.000+0000",
					"updated": "2017-06-23T17:18:00.000+0000"
				},
				{
					"id": "422643",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "Oops, I was building for simulator. When I run {{ti build -p ios --deploy-type test}}, I can reproduce the error. Since I can reproduce the error in a Classic Titanium app, this is not an Alloy specific issue. I've reopened this ticket and moved it to TIMOB. Stay tuned.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T17:21:20.000+0000",
					"updated": "2017-06-23T17:21:20.000+0000"
				},
				{
					"id": "422644",
					"author": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "Thanks [~cbarber]!!",
					"updateAuthor": {
						"name": "brentonhouse",
						"key": "brentonhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T17:24:27.000+0000",
					"updated": "2017-06-23T17:24:27.000+0000"
				},
				{
					"id": "422648",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "The problem is due to Babili double escaping single quotes. This logic is in {{node-titanium-sdk}} which has many out-of-date NPM dependencies. I updated the NPM deps and the error goes away. I will update {{node-titanium-sdk}}'s deps and get a new version published, then we can update TiSDK master and 6_1_X.",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T17:44:50.000+0000",
					"updated": "2017-06-23T17:44:50.000+0000"
				},
				{
					"id": "422652",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "node-titanium-sdk PR: https://github.com/appcelerator/node-titanium-sdk/pull/9",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T17:59:37.000+0000",
					"updated": "2017-06-23T17:59:37.000+0000"
				},
				{
					"id": "422663",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "TiSDK master PR: https://github.com/appcelerator/titanium_mobile/pull/9176\r\nTiSDK 6_1_X PR: https://github.com/appcelerator/titanium_mobile/pull/9177\r\n\r\nTo test, create a classic Titanium app, drop {{underscore.js}} in the Resources directory, then add this to the {{app.js}}:\r\n\r\n{code}\r\nvar _ = require('underscore');\r\nvar template = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory + 'test.html').read().getText();\r\nvar data = { content: 'This is a test' };\r\nvar text = _.template(template)(data);\r\nconsole.error(text);\r\n{code}",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2017-06-23T19:23:17.000+0000",
					"updated": "2017-06-23T20:53:56.000+0000"
				},
				{
					"id": "422847",
					"author": {
						"name": "amukherjee",
						"key": "amukherjee",
						"displayName": "Abir Mukherjee",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Passed FR.\r\nNode Version: 6.10.3\r\nNPM Version: 3.10.10\r\nMac OS: 10.12.4\r\nAppc CLI: 6.2.2\r\nAppc CLI NPM: 4.2.9\r\nTitanium SDK version: 6.1.X locally built w/ pr/9177\r\nAppcelerator Studio, build: 4.9.0.201705302345\r\nXcode 8.3.2\r\niOS Device 10\r\n\r\nI tried the demo apps and there were no errors when launched. For the \"movies\" app I also pushed a button. No errors were seen, and a list of movies were shown.\r\n\r\nClosing ticket as changes were seen in 6.1.1.v20170626160851",
					"updateAuthor": {
						"name": "amukherjee",
						"key": "amukherjee",
						"displayName": "Abir Mukherjee",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2017-06-26T22:00:01.000+0000",
					"updated": "2017-06-28T04:10:01.000+0000"
				},
				{
					"id": "428245",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "Regression triggered by this ticket: TIMOB-25328",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2017-09-21T14:10:49.000+0000",
					"updated": "2017-09-21T14:10:49.000+0000"
				}
			],
			"maxResults": 21,
			"total": 21,
			"startAt": 0
		}
	}
}