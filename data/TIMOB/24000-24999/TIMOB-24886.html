---
title: "[TIMOB-24886] iOS: Can't package to iOS iTunes Store"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-06-23T20:17:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.1.0, Release 6.0.4</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>distribution, ios, xcode</td></tr>
<tr><th>Reporter</th><td>Jean-Sébastien GALLOO</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2017-06-22T20:57:40.000+0000</td></tr>
<tr><th>Updated</th><td>2017-07-12T15:20:08.000+0000</td></tr>
</table>

<h3>Description</h3>

Error happen when packaging to iOS iTunes Store.
Everything is ok when I launch in simulator.

I've got the following errors:

[ERROR] :  2017-06-22 22:51:17.491 xcodebuild[79215:3873019] CFPropertyListCreateFromXMLData(): Old-style plist parser: missing semicolon in dictionary on line 2997. Parsing will be abandoned. Break on _CFPropertyListMissingSemicolon to debug.
[ERROR] :  2017-06-22 22:51:17.505 xcodebuild[79215:3873019] CFPropertyListCreateFromXMLData(): Old-style plist parser: missing semicolon in dictionary on line 2997. Parsing will be abandoned. Break on _CFPropertyListMissingSemicolon to debug.
[ERROR] :  2017-06-22 22:51:17.507 xcodebuild[79215:3873019] Error Domain=NSCocoaErrorDomain Code=3840 "Unexpected character / at line 1" UserInfo={NSDebugDescription=Unexpected character / at line 1, kCFPropertyListOldStyleParsingError=Error Domain=NSCocoaErrorDomain Code=3840 "Missing ';' on line 2997" UserInfo={NSDebugDescription=Missing ';' on line 2997}}
[ERROR] :  xcodebuild: error: Unable to read project 'Pharmacien2017.xcodeproj'.
[ERROR] :  Reason: Project /Users/jean-sebastiengalloo/Documents/Appcelerator_Studio_Workspace/Pharmacien2017/build/iphone/Pharmacien2017.xcodeproj cannot be opened because the project file cannot be parsed.

Inside build/iphone, i have done "Display the content" (in french normally...)
then using a text editor, i have looked at project.pbxproj

On line 2997, I've got the code signing identity:

CODE_SIGN_IDENTITY = "iPhone Distribution: S.A Cooperative Giphar "Sogiphar" (XXXXXXXX)";

I guess that the bug come from the " around "Sogiphar" but there is no way to change it because linked to the provisioning profile. 
Or do I need to upgrade XCode ?
It should be added \" \" ?

What do you think about it ?

> 1 remark...i tried to package an other app with a different iPhone Distribution without " inside, and it was fine.

Thanks very much.

<h3>Comments</h3>

<ol>
<li>Jean-Sébastien GALLOO 2017-06-22

   I just packaged an app with an other certificate, which has no " inside and it was ok ... so i guess it comes from the Certificate name with "</li>
<li>Hans Knöchel 2017-06-23

   Thanks for the report, yeah, try to not use special-characters in your provisioning-profile. So everything works now?</li>
<li>Jean-Sébastien GALLOO 2017-06-23

   Hi,
   it's not working because with the official iOS Account named S.A Cooperative Giphar "Sogiphar" , I can't remove the ".
   
   I can ask Apple to modify the Team Name by removing the "" but as it's linked to the company, not sure it will be ok.
   Moreover, it's the first time I've got this issue with this client (7 years)
   
   We clearly see that in project.pbxproj, \" are not added ...
   
   How is the project.pbxproj generated with Ti Studio ?
   
   At the present time, I'm blocked with this...</li>
<li>Hans Knöchel 2017-06-23

   Thanks, we are looking into this. Can you add your Titanium SDK version to your environment as well?</li>
<li>Jean-Sébastien GALLOO 2017-06-23

   Hi, thanks
   
   Ti SDK 6.1.0 GA , 6.0.4 GA or 6.0.2 GA</li>
<li>Hans Knöchel 2017-06-23

   Thank you! Will hand this over to [~cbarber], but from what I see, we just need to escape the {{"} characters properly, like already done in some other parts of the build-script. I would suggest, something like replacing this:
   <code><pre>
   buildSettings.CODE_SIGN_IDENTITY = '"' + d.fullname + '"';
   </pre></code>
   with this:
   <code><pre>
   buildSettings.CODE_SIGN_IDENTITY = '"' + d.fullname.replace(/"/g, '\\"') + '"';
   </pre></code>
   could already solve it. You can try editing the build.js (<code>~/Library/Application Support/Titanium/mobilesdk/osx/6.1.0.GA/iphone/cli/commands/_build.js</code>) in line 3038 (device-builds) and line 3047 (dist/adhoc-builds) and try it again. Just some troubleshooting until we have a PR, thx!</li>
<li>Chris Barber 2017-06-23

   While yes this is a bug with 6.1.0.GA and older and yes it can be fixed by escaping the double quotes, I'm marking this ticket as invalid since the pending PR for TIMOB-24798 actually removes this offending line of code thus rendering this a non-issue.
   
   At this moment, TIMOB-24798 is scheduled for 6.2.0. We might need to escalate it to get it into 6.1.1 so that you're unblocked.</li>
<li>Jean-Sébastien GALLOO 2017-06-24

   Thanks you so much ! 
   It worked and produced build...nice that it could be directly changed !
   Thanks again ! You make a very good job !</li>
<li>Eric Wieber 2017-07-12

   Verified fixed in SDK 6.2.0.v20170711165607 as part of TIMOB-24798
   Able to build/package (adhoc and to store) with both explicit and wildcard IDs when using Xcode 9 (beta 2 and 3). No issues encountered.</li>
</ol>


<p><a href="/TIMOB/TIMOB-24886.json">JSON Source</a></p>