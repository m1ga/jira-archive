---
title: "[TIMOB-24892] CLI: ti setup check when run through appc cli returns incorrect node modules"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-07-28T19:39:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.1.0, Release 6.1.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>reprod</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2017-06-26T10:36:50.000+0000</td></tr>
<tr><th>Updated</th><td>2018-07-28T19:39:42.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When running <code>appc ti setup check</code>, the CLI dependencies listed in the output are for the appc cli and not the titanium cli, at first glance it appears to be due to the use of cwd in the lookup of the package.json [here](<a href="https://github.com/appcelerator/titanium/blob/b871ba474bc6f604f2681a2d850156503031c36b/lib/commands/setup.js#L669)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/blob/b871ba474bc6f604f2681a2d850156503031c36b/lib/commands/setup.js#L669)</a>

<code><pre>
Titanium CLI Dependencies
  √  adm-zip            up-to-date (v0.4.7)
  √  async              up-to-date (v2.1.2)
  √  colors             up-to-date (v1.1.2)
  √  fields             up-to-date (v0.1.24)
  √  fs-extra           up-to-date (v2.1.2)
  √  humanize           up-to-date (v0.0.9)
  √  longjohn           up-to-date (v0.2.11)
  √  moment             up-to-date (v2.16.0)
  √  node-appc          up-to-date (v0.2.41)
  √  request            up-to-date (v2.79.0)
  √  semver             up-to-date (v5.3.0)
  √  sprintf            up-to-date (v0.1.5)
  √  temp               up-to-date (v0.8.3)
  √  winston            up-to-date (v1.1.2)
</pre></code>

<code><pre>
Titanium CLI Dependencies
  √  acs                up-to-date (v2.0.5)
  √  alloy              up-to-date (v1.9.11)
  √  appc-cli-titanium  up-to-date (v4.3.6)
  √  appc-inquirer      up-to-date (v0.1.10)
  √  appc-logger        up-to-date (v1.1.27)
  √  appc-platform-sdk  up-to-date (v2.3.0)
  √  arrow              up-to-date (v2.0.2)
  √  async              up-to-date (v1.5.2)
  √  chalk              up-to-date (v1.1.3)
  √  char-spinner       up-to-date (v1.0.1)
  √  columnify          up-to-date (v1.5.4)
  √  commander          up-to-date (v2.9.0)
  √  debug              up-to-date (v2.6.8)
  √  ejs                up-to-date (v2.5.6)
  √  fields             up-to-date (v0.1.24)
  √  fs-extra           up-to-date (v0.26.7)
  ×  fsevents           missing
  √  inquirer           up-to-date (v0.11.4)
  √  ip                 up-to-date (v1.1.5)
  √  jwt-simple         up-to-date (v0.3.1)
  √  lodash             up-to-date (v3.10.1)
  √  mkdirp             up-to-date (v0.5.1)
  √  node-appc          up-to-date (v0.2.43)
  √  node-forge         up-to-date (v0.6.49)
  √  npmconf            up-to-date (v2.1.2)
  √  plural             up-to-date (v0.2.0)
  √  progress           up-to-date (v1.1.8)
  √  recursive-readdir  up-to-date (v2.2.1)
  √  request            up-to-date (v2.81.0)
  √  semver             up-to-date (v5.3.0)
  √  tar                up-to-date (v2.2.1)
  √  tar.gz             up-to-date (v1.0.5)
  √  tiapp.xml          up-to-date (v0.2.2)
  √  titanium           up-to-date (v5.0.14)
  √  which              up-to-date (v1.2.14)
  √  wrench             up-to-date (v1.5.9)
</pre></code>


<h4>Steps to reproduce</h4>

<h4>Run <code>ti setup check</code></h4>
<h4>Run <code>appc ti setup check</code></h4>

<h4>Actual</h4>

Titanium CLI Dependencies is different between the two

<h4>Expected</h4>

Titanium CLI Dependencies should be the same between the two

<h3>Comments</h3>

<ol>
<li>Lee Morris 2017-07-19

   I am able to reproduce this issue with the following environment;
   Ti SDK 6.1.1 GA
   Appc NPM 4.2.9
   Appc CLI 6.2.2
   Ti CLI 5.0.14</li>
<li>Ewan Harris 2018-07-12

   PR: <a href="https://github.com/appcelerator/titanium/pull/279" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium/pull/279</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-24892.json">JSON Source</a></p>