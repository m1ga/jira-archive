---
title: "[TIMOB-24959] Windows: Detect individual versions of Windows 10 SDKs"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Done</td></tr>
<tr><th>Resolution Date</th><td>2019-06-04T23:55:45.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Tooling, Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2017-07-14T12:48:59.000+0000</td></tr>
<tr><th>Updated</th><td>2019-06-04T23:55:45.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

Currently when detecting Windows 10 SDKs we look for a registry key and then assign a generic '10.0' SDK with some [info](<a href="https://github.com/appcelerator/windowslib/blob/3cc8f1aa20c4ba6eb4c65ffca520e7cf4e7d4e55/lib/windowsphone.js#L138-L171)" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/blob/3cc8f1aa20c4ba6eb4c65ffca520e7cf4e7d4e55/lib/windowsphone.js#L138-L171)</a>

We can improve the individual SDK detection by following a similar method to one of the utility scripts called by VsDevCmd, <code>C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\Common7\Tools\vsdevcmd\core\winsdk.bat</code>

That files basic flow when searching for an SDK is

<registry_hive_path> is one of HKCU\SOFTWARE\Wow6432Node, HKLM\SOFTWARE, or HKCU\SOFTWARE

<h4>Get the installation folder using  {{reg query <regsitry_hive_path>\Microsoft\Microsoft SDKs\Windows\v10.0 /v "InstallationFolder"}</h4>
<h4>Set to WindowsSdkDir</h4>
<h4>For each directory in <code><WindowsSdkDir>\include\</code></h4>
  - Look for <code><WindowsSdkDir>\include\<version>\um\Windows.h</code>, if it exists it's a valid SDK

I'm not sure what changes would be required to the SDK build process if we switched from using an generic 10.0 to individual SDKs

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2017-07-14

   We already do this [<a href="https://github.com/appcelerator/windowslib/blob/3cc8f1aa20c4ba6eb4c65ffca520e7cf4e7d4e55/lib/windowsphone.js#L173-L181" rel="nofollow" target="_blank">https://github.com/appcelerator/windowslib/blob/3cc8f1aa20c4ba6eb4c65ffca520e7cf4e7d4e55/lib/windowsphone.js#L173-L181</a>] but due to TIMOB-24958 I think we might need to expand upon this more and split the SDKs an underlying info out a bit more</li>
<li>Kota Iguchi 2017-10-19

   Can we close this since we have resolved TIMOB-24958?
   </li>
<li>Kota Iguchi 2019-06-04

   I think this can be closed for now because we already have this feature. Feel free to reopen if that's not the case.</li>
</ol>


<p><a href="/TIMOB/TIMOB-24959.json">JSON Source</a></p>