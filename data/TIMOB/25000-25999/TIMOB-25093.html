---
title: "[TIMOB-25093] Windows: Mocha test Titanium.Filesystem.File #createFile() and #deleteFile() test failure"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Resolved</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-09-06T15:09:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>failure-reviewed</td></tr>
<tr><th>Reporter</th><td>Eric Merriman </td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2017-08-11T16:21:11.000+0000</td></tr>
<tr><th>Updated</th><td>2017-10-04T14:35:15.000+0000</td></tr>
</table>

<h3>Description</h3>

Titanium.Filesystem.File #createFile() and #deleteFile() please investigate the failure. Please use <a href="https://github.com/ewanharris/titanium-mobile-mocha-suite/tree/TIMOB-24816" rel="nofollow" target="_blank">https://github.com/ewanharris/titanium-mobile-mocha-suite/tree/TIMOB-24816</a> to find the related testYou can use <a href="https://github.com/ewanharris/mocha-test" rel="nofollow" target="_blank">https://github.com/ewanharris/mocha-test</a> to quickly debug (most) mocha tests)

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2017-08-24

   Test case is incorrect, resourcesDirectory should be read only. So we shouldn't write here (unless we're testing that it's read only), test case should use applicationDataDirectory
   
   
   <code><pre>
   it('#createFile() and #deleteFile()', function () {
   		var newFile = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, 'myfile');
   		should(newFile.exists()).be.false;
   		newFile.createFile();
   		should(newFile.exists()).be.true;
   		newFile.deleteFile();
   		should(newFile.exists()).be.false;
   	});
   </pre></code></li>
<li>Ewan Harris 2017-08-24

   Raises the question of why this isn't failing iOS and Android</li>
<li>Kota Iguchi 2017-09-01

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1090" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1090</a></li>
<li>Ewan Harris 2017-09-01

   [~kiguchi] Sorry I think I forgot to give you a heads up on these. I've been working on and off now to get Windows using titanium-mobile-mocha-suite, you can see what I've got done so far over at TIMOB-24816. 6.2.0 took precedence but I'm hoping to get back on it soon. My current plan is 
   
   - finish up reviewing all the failures
   - finish my PR and get it merged into titanium-mobile-mocha-suite
   - update NMocha with the contents of that to get covered in the short term
   - bring in a similar process to titanium_mobile where we pull down titanium-mobile-mocha-suite and perform the tests in CI against that
   
   What do you think of that?</li>
<li>Kota Iguchi 2017-09-01

   [~eharris] That sounds good to me (y) I haven't checked your PR for titanium-mobile-mocha-suite...I will keep reviewing those failures and will push fixes (in titanium_mobile_windows) when necessary.</li>
</ol>


<p><a href="/TIMOB/TIMOB-25093.json">JSON Source</a></p>