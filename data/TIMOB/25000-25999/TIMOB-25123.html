---
title: "[TIMOB-25123] Windows: Mocha test Titanium.UI.Layout centerYPrecedence test failure"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2019-05-08T01:48:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>engSchedule, failure-reviewed</td></tr>
<tr><th>Reporter</th><td>Eric Merriman </td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2017-08-11T16:22:02.000+0000</td></tr>
<tr><th>Updated</th><td>2019-05-20T14:14:48.000+0000</td></tr>
</table>

<h3>Description</h3>

Titanium.UI.Layout centerYPrecedence please investigate the failure. Please use <a href="https://github.com/ewanharris/titanium-mobile-mocha-suite/tree/TIMOB-24816" rel="nofollow" target="_blank">https://github.com/ewanharris/titanium-mobile-mocha-suite/tree/TIMOB-24816</a> to find the related testYou can use <a href="https://github.com/ewanharris/mocha-test" rel="nofollow" target="_blank">https://github.com/ewanharris/mocha-test</a> to quickly debug (most) mocha tests)

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2017-09-01

   Error "error":{"name":"AssertionError","actual":150,"expected":100,"operator":"to equal","message":"expected 150 to equal 100","generatedMessage":true,"stack":"/should.js:1411:20\n/your-test.js:39:42","showDiff":true}}
   
   from <a href="https://github.com/ewanharris/titanium-mobile-mocha-suite/blob/TIMOB-24816/Resources/ti.ui.layout.test.js#L740" rel="nofollow" target="_blank">https://github.com/ewanharris/titanium-mobile-mocha-suite/blob/TIMOB-24816/Resources/ti.ui.layout.test.js#L740</a></li>
<li>Ewan Harris 2019-04-23

   Still valid, on desktop for me, now fails with <code>expected 59 to equal 100</code></li>
<li>Kota Iguchi 2019-05-08

   I would resolve this as "Need more info" for now as I was not able to reproduce this locally as well as on Jenkins. 
   
   Test Code:
   <code><pre>
   var view = Ti.UI.createView({
       height: 200,
       width: 200,
       backgroundColor: 'yellow'
   }),
       viewChild = Ti.UI.createView({
           backgroundColor: 'red',
           center: {
               y: 100,
           },
           bottom: 50
       });
   var win = Ti.UI.createWindow();
   viewChild.addEventListener('postlayout', function () {
       console.log(viewChild.size.height + ' should eql 100');
   });
   view.add(viewChild);
   win.add(view);
   win.open();
   </pre></code>
   </li>
<li>Abir Mukherjee 2019-05-09

   [~kiguchi] just to clarify that it is not reproducible on Jenkins as well, meaning that it no longer fails the Mocha test?</li>
<li>Kota Iguchi 2019-05-09

   [~amukherjee] Right. Jenkins no longer fails the test.</li>
<li>Kota Iguchi 2019-05-13

   [Center precedence layout tests are enabled now](<a href="https://github.com/appcelerator/titanium-mobile-mocha-suite/pull/157)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-mobile-mocha-suite/pull/157)</a> and [Jenkins passes them all](<a href="https://jenkins.appcelerator.org/blue/organizations/jenkins/titanium-sdk%2Ftitanium_mobile_windows/detail/master/77/pipeline)." rel="nofollow" target="_blank">https://jenkins.appcelerator.org/blue/organizations/jenkins/titanium-sdk%2Ftitanium_mobile_windows/detail/master/77/pipeline).</a></li>
<li>Samir Mohammed 2019-05-20

   Closing ticket as tests are running fine on Jenkins.</li>
</ol>


<p><a href="/TIMOB/TIMOB-25123.json">JSON Source</a></p>