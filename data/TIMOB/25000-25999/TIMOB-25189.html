---
title: "[TIMOB-25189] Windows: Throw better error when calling style.apply with an incorrect TargetType"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Do</td></tr>
<tr><th>Resolution Date</th><td>2021-02-11T12:14:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2017-08-23T09:40:55.000+0000</td></tr>
<tr><th>Updated</th><td>2021-02-11T12:14:57.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When calling apply with a style, where the TargetType in the XAML style doesn't match the correct underlying control used by Titanium the error message is currently the below, it would be nice if we could catch the error correctly and then report this back to the user

<code><pre>
[ERROR] ----- Titanium Javascript Runtime Error -----
[ERROR] In app.js: 6,12
[ERROR] Message: Uncaught Error: apply: unknown exception
</pre></code>

<code><pre>
var win = Ti.UI.createWindow({ backgroundColor: 'white' });
var lbl = Ti.UI.createLabel({
    text: 'label'
})
var style = Ti.UI.Windows.createStyle({ source: 'ms-appx:///Styles.xaml' });
style.apply(lbl, 'LabelStyle');
win.open();
</pre></code>

<code><pre>
&lt;ResourceDictionary
    xmlns="<a href="http://schemas.microsoft.com/winfx/2006/xaml/presentation" rel="nofollow" target="_blank">http://schemas.microsoft.com/winfx/2006/xaml/presentation</a>" 
    xmlns:x="<a href="http://schemas.microsoft.com/winfx/2006/xaml" rel="nofollow" target="_blank">http://schemas.microsoft.com/winfx/2006/xaml</a>"&gt;
    &lt;Style x:Key="LabelStyle" TargetType="TextBox"&gt;
        &lt;Setter Property="Foreground" Value="Plum"&gt;&lt;/Setter&gt;
    &lt;/Style&gt;
&lt;/ResourceDictionary&gt;
</pre></code>

<h4>Steps to reproduce</h4>

<h4>Copy the above app.js and styles.xaml into your project</h4>
<h4>Build for a Windows target</h4>

<h4>Actual</h4>

<code>Unknown exception</code> error is thrown

<h4>Expected</h4>

A nicer error that maybe just spits back the error returned from nativeland? <code>WinRT information: Cannot apply a Style with TargetType 'Windows.UI.Xaml.Controls.TextBox' to an object of type 'Windows.UI.Xaml.Controls.TextBlock'.</code>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-25189.json">JSON Source</a></p>