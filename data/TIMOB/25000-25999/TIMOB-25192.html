---
title: "[TIMOB-25192] Windows: Evaluating a null value from Hyperloop crashes the App"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-09-25T12:00:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Hyperloop 2.1.3</td></tr>
<tr><th>Fix Version/s</th><td>Hyperloop 2.2.0</td></tr>
<tr><th>Components</th><td>Hyperloop, Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Victor Vazquez Montero</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2017-08-24T17:55:27.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-07T01:23:02.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description </h4>
When evaluating a .NET's null value retrieved using Hyperloop (Windows; Hyperloop version 2.1.1) , the application crashes. Take for instance:
<code><pre>
var PopupMenu = require('Windows.UI.Popups.PopupMenu');
var UICommand = require('Windows.UI.Popups.UICommand');
var Point = require('Windows.Foundation.Point');

var menu = new PopupMenu();
var alertHiCommand = new UICommand("Hi!");
var alertByeCommend = new UICommand("Bye!");
	
var commands = menu.Commands;
commands.Add(alertHiCommand);
commands.Add(alertByeCommend);

function popupMenu(e)
{
	var p = new Point(e.y,e.x);
	menu.ShowAsync(p).then(function(selectedCommand)
	{
		alert(selectedCommand);
	}, function(err) {alert(err)});
}
</pre></code>

If no command was selected, the application crashes. Otherwise, it works as expected.

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2017-08-31

   <a href="https://github.com/appcelerator/hyperloop.next/pull/204" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/204</a></li>
<li>Kota Iguchi 2017-09-25

   </li>
<li>Ewan Harris 2017-10-03

   Verified ticket in Hyperloop 2.2.0 evaluating null no longer crashes the application
   
   Studio: 4.10.0.201709271713
   SDK: 6.2.2.GA, 6.3.0.v20170929040536
   Appc NPM: 4.2.9
   Appc CLI: 6.2.4
   Hyperloop: 2.2.0RC2</li>
<li>Kota Iguchi 2017-11-07

   [~vvazquezmontero] How about this? Expected: No crash when you click app window (popup appears) and then you should be able to click elsewhere to cancel popup.
   
   <code><pre>
   var win = Ti.UI.createWindow({ backgroundColor: 'green' });
   var PopupMenu = require('Windows.UI.Popups.PopupMenu');
   var UICommand = require('Windows.UI.Popups.UICommand');
   var Point = require('Windows.Foundation.Point');
   
   var menu = new PopupMenu();
   var alertHiCommand = new UICommand("Hi!");
   var alertByeCommend = new UICommand("Bye!");
   
   var commands = menu.Commands;
   commands.Add(alertHiCommand);
   commands.Add(alertByeCommend);
   
   function popupMenu(e) {
       var p = new Point(e.y, e.x);
       menu.ShowAsync(p).then(function (selectedCommand) {
           if (selectedCommand == null) {
               alert('nothing selected');
           } else {
               alert(selectedCommand.Label);
           }
       }, function (err) { alert(err) });
   }
   
   win.addEventListener('click', function (e) {
       popupMenu(e);
   });
   
   win.open();
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-25192.json">JSON Source</a></p>