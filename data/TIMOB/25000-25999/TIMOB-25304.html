---
title: "[TIMOB-25304] Scons: Errors and warnings when running npm install"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2018-11-16T15:29:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2017-09-16T20:40:23.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-16T15:59:52.000+0000</td></tr>
</table>

<h3>Description</h3>

When running <code>npm install</code> inside build/, the following errors and warnings are occurring:
<code><pre>
Hans-Macbook-Pro:build hknoechel$ npm install
npm WARN deprecated wrench@1.5.9: wrench.js is deprecated! You should check out fs-extra (<a href="https://github.com/jprichardson/node-fs-extra)" rel="nofollow" target="_blank">https://github.com/jprichardson/node-fs-extra)</a> for any operations you were using wrench for. Thanks for all the usage over the years.
npm WARN deprecated wrench@1.5.8: wrench.js is deprecated! You should check out fs-extra (<a href="https://github.com/jprichardson/node-fs-extra)" rel="nofollow" target="_blank">https://github.com/jprichardson/node-fs-extra)</a> for any operations you were using wrench for. Thanks for all the usage over the years.
titanium-mobile@7.0.0 /Users/hknoechel/Documents/titanium_mobile
├─┬ appc-aar-tools@1.1.3 
│ ├── fs-extra@1.0.0 
│ └── xmldom@0.1.27 
├─┬ appc-tasks@1.0.1 
│ ├─┬ file-state-monitor@1.0.0 
│ │ └─┬ fs-extra@4.0.2 
│ │   └── jsonfile@4.0.0 
│ └─┬ fs-extra@4.0.2 
│   ├── jsonfile@4.0.0 
│   └── universalify@0.1.1 
├─┬ archiver@1.3.0 
│ ├─┬ tar-stream@1.5.4 
│ │ └── xtend@4.0.1 
│ └── zip-stream@1.2.0 
├── buffer-equal@1.0.0 
├── clean-css@4.0.11 
├── css-parse@2.0.0 
├── ejs@2.5.6 
├─┬ fields@0.1.24 
│ └── colors@0.6.2 
├─┬ grunt-appc-js@2.0.1 
│ ├── UNMET PEER DEPENDENCY babel-eslint@7.x
│ ├── UNMET PEER DEPENDENCY eslint@4.x
│ ├── UNMET PEER DEPENDENCY eslint-plugin-jsx-a11y@6.x
│ ├── UNMET PEER DEPENDENCY eslint-plugin-react@7.x
│ └─┬ grunt-eslint@20.1.0 
│   ├─┬ chalk@2.1.0 
│   │ ├── ansi-styles@3.2.0 
│   │ └── supports-color@4.4.0 
│   └─┬ eslint@4.7.0 
│     ├── ajv@5.2.2 
│     ├─┬ concat-stream@1.6.0 
│     │ └─┬ readable-stream@2.3.3 
│     │   └── string_decoder@1.0.3 
│     ├─┬ cross-spawn@5.1.0 
│     │ └─┬ lru-cache@4.1.1 
│     │   └── yallist@2.1.2 
│     ├── debug@3.0.1 
│     ├── doctrine@2.0.0 
│     ├── espree@3.5.1 
│     ├─┬ file-entry-cache@2.0.0 
│     │ └─┬ flat-cache@1.2.2 
│     │   └─┬ write@0.2.1 
│     │     └── mkdirp@0.5.1 
│     ├── glob@7.1.2 
│     ├─┬ js-yaml@3.10.0 
│     │ └── esprima@4.0.0 
│     ├── mkdirp@0.5.1 
│     ├── pluralize@7.0.0 
│     └─┬ strip-ansi@4.0.0 
│       └── ansi-regex@3.0.0 
├─┬ grunt-clang-format@1.0.0 
│ └── async@2.5.0 
├── humanize@0.0.9 
├─┬ ioslib@1.5.0 
│ ├── async@2.5.0 
│ ├── debug@2.6.8 
│ ├── mkdirp@0.5.1 
│ └─┬ node-ios-device@1.4.0
│   ├─┬ node-pre-gyp@0.6.36 
│   │ ├── mkdirp@0.5.1 
│   │ └── rimraf@2.6.2 
│   └─┬ node-pre-gyp-init@1.0.0 
│     └─┬ node-pre-gyp@0.6.37 
│       ├── mkdirp@0.5.1 
│       ├── rimraf@2.6.2 
│       └─┬ tape@4.8.0 
│         ├── deep-equal@1.0.1 
│         ├── defined@1.0.0 
│         ├─┬ for-each@0.3.2 
│         │ └── is-function@1.0.1 
│         ├── glob@7.1.2 
│         ├── minimist@1.2.0 
│         ├── object-inspect@1.3.0 
│         ├── resumer@0.0.0 
│         └─┬ string.prototype.trim@1.1.2 
│           ├─┬ define-properties@1.1.2 
│           │ ├── foreach@2.0.5 
│           │ └── object-keys@1.0.11 
│           └─┬ es-abstract@1.8.2 
│             ├─┬ es-to-primitive@1.1.1 
│             │ ├── is-date-object@1.0.1 
│             │ └── is-symbol@1.0.1 
│             ├── function-bind@1.1.1 
│             ├── is-callable@1.1.3 
│             └── is-regex@1.0.4 
├── lodash.defaultsdeep@4.6.0 
├─┬ markdown@0.5.0 
│ └── nopt@2.1.2 
├── UNMET PEER DEPENDENCY  error: ENOENT: no such file or directory, open '/Users/hknoechel/Documents/titanium_mobile/node_modules/mocha/package.json
├── moment@2.18.1 
├─┬ node-appc@0.2.43 
│ └─┬ uglify-js@2.8.21 
│   └── yargs@3.10.0 
├─┬ node-titanium-sdk@0.4.3 
│ └── async@2.5.0 
├── pngjs@3.0.1 
├─┬ windowslib@0.5.5 
│ ├── async@1.5.2 
│ ├── moment@2.11.2 
│ ├── uuid@3.0.0 
│ └── wrench@1.5.8 
├── wrench@1.5.9 
├─┬ xcode@0.9.2 
│ ├─┬ simple-plist@0.1.4 
│ │ ├── bplist-parser@0.0.6 
│ │ └─┬ plist@1.2.0 
│ │   └─┬ xmlbuilder@4.0.0 
│ │     └── lodash@3.10.1 
│ └── uuid@3.0.1 
└── xmldom@0.1.22 

npm WARN enoent ENOENT: no such file or directory, open '/Users/hknoechel/Documents/titanium_mobile/node_modules/eslint/package.json'
npm WARN enoent ENOENT: no such file or directory, open '/Users/hknoechel/Documents/titanium_mobile/node_modules/node-pre-gyp/package.json'
npm WARN enoent ENOENT: no such file or directory, open '/Users/hknoechel/Documents/titanium_mobile/node_modules/mocha/package.json'
npm WARN enoent ENOENT: no such file or directory, open '/Users/hknoechel/Documents/titanium_mobile/node_modules/simple-plist/package.json'
npm WARN eslint-config-axway@2.0.1 requires a peer of babel-eslint@7.x but none was installed.
npm WARN eslint-config-axway@2.0.1 requires a peer of eslint@4.x but none was installed.
npm WARN eslint-config-axway@2.0.1 requires a peer of eslint-plugin-jsx-a11y@6.x but none was installed.
npm WARN eslint-config-axway@2.0.1 requires a peer of eslint-plugin-react@7.x but none was installed.
npm WARN eslint-plugin-import@2.7.0 requires a peer of eslint@2.x - 4.x but none was installed.
npm WARN eslint-plugin-mocha@4.11.0 requires a peer of eslint@^2.0.0 || ^3.0.0 || ^4.0.0 but none was installed.
npm WARN grunt-mocha-test@0.13.2 requires a peer of mocha@&gt;=1.20.0 but none was installed.
</pre></code>
When trying to run it anyways, it fails:
<code><pre>
Hans-Macbook-Pro:build hknoechel$ node scons.js cleanbuild ios
Building MobileSDK version 7.0.0, githash 7f81b9ee42
Generating parity report...
Generating JSCA...
[INFO] Parsing YAML files in /Users/hknoechel/Documents/titanium_mobile/apidoc...
[INFO] Parsing YAML files in /Users/hknoechel/Documents/titanium_mobile/apidoc...
[INFO] Processing YAML data...
[INFO] Processing YAML data...
[INFO] Annotating JSCA-specific attributes...
[INFO] Generating PARITY output...
Generated output at ../dist/parity.html
[INFO] Generating JSCA output...
Generated output at /Users/hknoechel/Documents/titanium_mobile/dist/api.jsca
Zipping Mobile SDK...
Cleaning previous zipfile and tmp dir...
Writing manifest.json
Pruning to production npm dependencies
{ Error: Command failed: node bin/download-all.js
/Users/hknoechel/Documents/titanium_mobile/dist/ziptmp/mobilesdk/osx/7.0.0/node_modules/node-ios-device/bin/download-all.js:26
const moduleName = pkgJson.binary.module_name;
                                 ^

TypeError: Cannot read property 'module_name' of undefined
    at Object.&lt;anonymous&gt; (/Users/hknoechel/Documents/titanium_mobile/dist/ziptmp/mobilesdk/osx/7.0.0/node_modules/node-ios-device/bin/download-all.js:26:34)
    at Module._compile (module.js:570:32)
    at Object.Module._extensions..js (module.js:579:10)
    at Module.load (module.js:487:32)
    at tryModuleLoad (module.js:446:12)
    at Function.Module._load (module.js:438:3)
    at Module.runMain (module.js:604:10)
    at run (bootstrap_node.js:389:7)
    at startup (bootstrap_node.js:149:9)
    at bootstrap_node.js:502:3

    at ChildProcess.exithandler (child_process.js:198:12)
    at emitTwo (events.js:106:13)
    at ChildProcess.emit (events.js:191:7)
    at maybeClose (internal/child_process.js:920:16)
    at Process.ChildProcess._handle.onexit (internal/child_process.js:230:5)
  killed: false,
  code: 1,
  signal: null,
  cmd: 'node bin/download-all.js' }
</pre></code>

<h3>Comments</h3>

<ol>
<li>Christopher Williams 2018-11-16

   This is now invalid as there is no package.json inside the build folder, it's top-level, and as far as I know we're working fine now...</li>
<li>Hans Knöchel 2018-11-16

   Thanks Chris! We'll also test it and let you know if errors occur. Otherwise we should be good here.</li>
</ol>


<p><a href="/TIMOB/TIMOB-25304.json">JSON Source</a></p>