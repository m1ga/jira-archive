---
title: "[TIMOB-25330] iOS 11: Sections in grouped Ti.Ui.ListView not properly spaced"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-09-22T11:25:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>xcode9</td></tr>
<tr><th>Reporter</th><td>Matt Berg</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2017-09-21T18:02:25.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:41:11.000+0000</td></tr>
</table>

<h3>Description</h3>

Since upgrading to Xcode 9, the Titanium.UI.iOS.TableViewStyle of GROUPED no longer has the correct spacing. As you can see in the screenshots, the top spacing is correct, but subsequent "sections" are not spaced properly from the previous section.

This is happening in my app, but also happening in the KitchenSink app (screenshot included also)

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25330_63337/Bildschirmfoto 2017-09-21 um 22.32.09.png">Bildschirmfoto 2017-09-21 um 22.32.09.png</td></td><td>2017-09-21T20:32:42.000+0000</td><td>212169</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25330_63336/j23-table-grouped-broken.png">j23-table-grouped-broken.png</td></td><td>2017-09-21T18:00:08.000+0000</td><td>114497</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25330_63335/j23-table-grouped-expected.jpeg">j23-table-grouped-expected.jpeg</td></td><td>2017-09-21T18:00:15.000+0000</td><td>247114</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25330_63334/kitchensink-table-grouped-broken.png">kitchensink-table-grouped-broken.png</td></td><td>2017-09-21T18:00:18.000+0000</td><td>68322</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2017-09-21

   Looks valid, see screenshot (iOS 10.3.1 / 11):
   
    !Bildschirmfoto 2017-09-21 um 22.32.09.png|thumbnail! 
   
   Does not happen with native Xcode, so we'll investigate it!</li>
<li>Matt Berg 2017-09-21

   For what it's worth, this doesn't seem to be specifically an iOS 11 issue. It has only happened since I have done new builds after installing the new Xcode.
   
   For example, the current version of my app that is in the App Store has the correct TableView.GROUPED spacing on my device, which is running iOS 11.</li>
<li>Hans Knöchel 2017-09-22

   I checked it. It's actually a behavioral change when building for iOS 11 with Xcode 9: We return a section-header-height of 0 if the section does not have a header title in it. Previous to iOS 11, this still applied spacing to the section, but iOS 11 will actually put a 0px spacing between them. 
   
   There is a property called <code>UITableViewAutomaticDimension</code> which is recommended as the default-value these days. Using that one, we get a proper spacing again (although it still looks a bit less then what you had before - around 3-5px). Not sure if we should restore the old behavior  (custom height for iOS 11+), or apply the <code>UITableViewAutomaticDimension</code> constant instead of 0 to align with the native behavior.
   
   From a developer's perspective, what do you think? I prefer option b).</li>
<li>Hans Knöchel 2017-09-22

   Solved it! It's related to TIMOB-25332 which is caused by the UITableView changes on iOS 11. It's a three-line fix that set's the "estimated height" to it's default, so it has parity with iOS < 11. We will provide a fix for both tickets today, so please follow the other ticket for updates, thanks!</li>
<li>Matt Berg 2017-09-22

   Thank you so much Hans! Worked great for me.</li>
<li>Hans Knöchel 2017-09-22

   :-)</li>
<li>Eric Merriman  2018-08-06

   Closing as a duplicate. If this is in error, please reopen.</li>
</ol>


<p><a href="/TIMOB/TIMOB-25330.json">JSON Source</a></p>