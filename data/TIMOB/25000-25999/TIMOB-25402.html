---
title: "[TIMOB-25402] Hyperloop: iOS - Framework handling regressions"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-10-17T21:16:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Hyperloop 2.2.0</td></tr>
<tr><th>Components</th><td>Hyperloop, iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jan Vennemann</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2017-10-17T11:36:52.000+0000</td></tr>
<tr><th>Updated</th><td>2017-10-19T18:19:48.000+0000</td></tr>
</table>

<h3>Description</h3>

Configuring third-party sources in appc.js causes the FRAMEWORK_SEARCH_PATHS build setting to be overwritten without inheriting other paths. Also pulling in additional system frameworks via the <code>frameworks</code> setting in <code>appc.js</code> doesn't work anymore. This is a regression to Hyperloop 2.1.3.

*Steps to reproduce the issue*
<h4>Follow the instructions in TIMOB-25393 by placing the Contentful SDK inside the hyperloop-examples project and make sure to select a SDK build that already includes the fix from that ticket</h4>
<h4>Add the following system frameworks to the <code>frameworks</code> configuration option in <code>appc.js</code></h4>
#* SystemConfiguration
#* MobileCoreServices
#* CoreData
<h4>Add the following sample code to <code>app/controllers/index.js</code></h4>
<code><pre>
var CDAClient = require('ContentfulDeliveryAPI/CDAClient');
var client = CDAClient.alloc().initWithSpaceKeyAccessToken('foo', 'bar');
</pre></code>
<h4>Build and run the hyperloop-examples application</h4>

*Actual behavior*
The build fails with the following linker error due to not linking against CoreData framework:
<code><pre>
[TRACE] Undefined symbols for architecture x86_64:
[TRACE]   "_OBJC_CLASS_$_NSManagedObject", referenced from:
[TRACE]       _OBJC_CLASS_$_CDALocalizablePersistedEntry in ContentfulDeliveryAPI(CDALocalizablePersistedEntry.o)
[TRACE]   "_OBJC_METACLASS_$_NSManagedObject", referenced from:
[TRACE]       _OBJC_METACLASS_$_CDALocalizablePersistedEntry in ContentfulDeliveryAPI(CDALocalizablePersistedEntry.o)
[TRACE] ld: symbol(s) not found for architecture x86_64
[TRACE] clang: error: linker command failed with exit code 1 (use -v to see invocation)
[ERROR] ** BUILD FAILED **
[ERROR] The following build commands failed:
[ERROR]         Ld build/Products/Debug-iphonesimulator/Hyperloop_Sample.app/Hyperloop_Sample normal x86_64
[ERROR] (1 failure)
</pre></code>

*Expected behavior*
The build links against the specified system frameworks and is successful. The app loads without a crash.

<h3>Comments</h3>

<ol>
<li>Jan Vennemann 2017-10-17

   PR (master): <a href="https://github.com/appcelerator/hyperloop.next/pull/233" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/233</a>
   PR (2_2_X): <a href="https://github.com/appcelerator/hyperloop.next/pull/234" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/234</a></li>
<li>Eric Wieber 2017-10-19

   Verified. Configured a project to use third party frameworks and as described in the ticket. Both configurations were able to build and run without error.</li>
</ol>


<p><a href="/TIMOB/TIMOB-25402.json">JSON Source</a></p>