---
title: "[TIMOB-25424] iOS: Unnecessary symbols compiled to the app"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-12-14T15:58:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.0.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2017-10-21T22:13:20.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-30T16:07:26.000+0000</td></tr>
</table>

<h3>Description</h3>

When using 6.3.x, there were some reports of rejected apps because of the missing NSAppleMusicUsageDescription which we fixed a while ago but popped up with some other changes the last month. This ticket should solve those issues as well as wrapping other API's that were currently compiled although not used (e.g. Ti.WatchSession). 

<h3>Comments</h3>

<ol>
<li>Eric Merriman  2017-11-01

   Due to the schedule for 7.0.0 versus the remaining work, moving to 7.1.0</li>
<li>Hans Knöchel 2017-11-06

   Moving into 7.0.0 again, since the PR was already ready but not submitted and it may block developers.
   
   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/9586" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9586</a>
   PR (7_0_X): <a href="https://github.com/appcelerator/titanium_mobile/pull/9665" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9665</a>
   
   Test-Case:
   <h4>Use a Ti.Media related API like <code>Ti.Media.showCamera(args)</code> but no music-related one</h4>
   <h4>Submit the App to the store</h4>
   
   Expected behavior: The <code>NSAppleMusicUsageDescription</code> is not required, the app will not be rejected.</li>
<li>Hans Knöchel 2017-11-15

   Moving out of 7.0.0 again as the latest PR still seems to contain a disallowed symbol. I am in contact with Apple to clear what they are really complaining about.</li>
<li>Thomas Lemaitre 2017-11-23

   Do you have a quick fix ? I can't publish my app because of this. I use Ti.Media to file but not to music. If i upload a new binary without "NSAppleMusicUsageDescription" key in tiapp, my binary is refused and if i include it, Apple saiys i didn't use Apple Music on my app, so the app didn't pass the validation process.
   
   The message from Apple i've got :
   
   Guideline 4.5.2 - Design - Apple Sites and Services
   
   Your app uses the Apple Music API but does not display or appropriately use standard media controls, such as "play," "pause," and "skip." Specifically, the app does not include any Apple Music API controls. »</li>
<li>Hans Knöchel 2017-11-23

   [~thomas.webgo@gmail.com] You can describe to them that you do not use them and that it will not pop-up. The fix can be taken from the above pull-request and be patched with your local SDK. Please try that and let us know. Worst case, I'll try to create a custom build for you!</li>
<li>Hans Knöchel 2017-11-23

   I've decided to provide a build for the ones interested - it's a 6.3.0.GA + the above patch, nothing more. I cherry-picked the commits but also needed to resolve a few merge conflicts. Please test it wisely before uploading it again, thx!
   
   Download: <a href="https://www.dropbox.com/s/2q4vfn2x581oibr/mobilesdk-6.3.1-media.zip?dl=0" rel="nofollow" target="_blank">https://www.dropbox.com/s/2q4vfn2x581oibr/mobilesdk-6.3.1-media.zip?dl=0</a></li>
<li>Eric Wieber 2017-12-14

   Verified in SDK builds: 7.0.1.v20171214075504 & 7.1.0.v20171214080308</li>
<li>kosso 2018-08-30

   Today I had a rejection from an SDK 7.1.1.GA build for a missing "NSPhotoLibraryUsageDescription" key. 
   
   My app does not use the photo library. 
   </li>
<li>Hans Knöchel 2018-08-30

   [~kosso] Did you try with 7.3.0? We had some additional fixes for Ti.Media in it.</li>
<li>kosso 2018-08-30

    I did not. 
    I didn't want to try too many times, and have to keep bumping up the version number.
    
    To get it submitted, I just added the key to tiapp.xml with a "To Save Images" value and it processed OK. 
    
    I will have a try with 7.3.0 for the next beta update. 
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-25424.json">JSON Source</a></p>