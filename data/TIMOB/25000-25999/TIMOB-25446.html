---
title: "[TIMOB-25446] iOS: ListView itemclick event issues with SearchBar"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-10-26T17:39:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 6.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios</td></tr>
<tr><th>Reporter</th><td>Suraj Datta</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2017-10-26T14:22:53.000+0000</td></tr>
<tr><th>Updated</th><td>2017-10-30T11:59:13.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi All,

My app gets crashed during itemclick event of Listview in IOS,* while a list item is clicked &  search bar is active.*
On click of item i'm closing the current window.
Same code works perfectly in Android.

Scenario 1:
- On click on item, window gets closed as expected.
- In this case search bar is inactive.

Scenario 2:
- Search for an item in search bar & on click of that particular item the app gets freezed & clicking anywhere makes app crashed.
- Expected result was to close the current window.
- alert & console logs get executed though.

Have attached dummy code & some screenshots for testing.

Thanks.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25446_63482/Image1 with search bar inactive.png">Image1 with search bar inactive.png</td></td><td>2017-10-26T14:14:27.000+0000</td><td>56872</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25446_63481/Image2 with search bar active.png">Image2 with search bar active.png</td></td><td>2017-10-26T14:15:58.000+0000</td><td>70972</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25446_63484/index.js">index.js</td></td><td>2017-10-26T13:07:05.000+0000</td><td>400</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25446_63483/index.xml">index.xml</td></td><td>2017-10-26T13:07:27.000+0000</td><td>572</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2017-10-26

   I am not able to reproduce the issue with the following test-case (the provided one seems incomplete and only has the window opened):
   <code><pre>
   
   var win = Ti.UI.createWindow({
       backgroundColor: '#fff'
   });
   
   var btn = Ti.UI.createButton({
     title: 'Trigger'
   });
   
   btn.addEventListener('click', function(e) {
     openWindow();
   });
   
   win.add(btn);
   
   win.add(btn);
   win.open();
   
   function openWindow() {
     var win2 = Ti.UI.createWindow({
         backgroundColor: '#fff'
     });
   
     var list = Ti.UI.createListView({
       searchView: Ti.UI.createSearchBar(),
       sections: [Ti.UI.createListSection({
         items: [{
           properties: {
             title: 'Test Row',
             searchableText: 'Test Row'
           }
         }]
       })]
     });
     
     list.addEventListener('itemclick', function(e) {
       win2.close();
     });
   
     win2.add(list);
     win2.open();
   </pre></code>
   Can you adjust that one to actually crash? I want to keep the test-case simple and limited to the actual issue.</li>
<li>Hans Knöchel 2017-10-26

   I am able to reproduce it on 6.2.x but not on 6.3.0+ and master (7.0.0), so it was very likely fixed already. Please try out the 6.3.0 RC (GA soon) by using <code>appc ti sdk install -b 6_3_X</code>, thx!</li>
<li>Suraj Datta 2017-10-30

   Hello Hans,
   
   Installing SDK 6.3.0.v20171026154532 manually has solved the above issue & i'm able to get the expected result in simulator.
   
   Now i was about to generate a new build for itunes using above SDK but i'm getting following error.
   
   {color:red}[ERROR] :  Invalid "--pp-uuid" value "c75fd452-e580-4577-b77f-3917915c2586"
   For help, run: titanium.js help build
   {color}
   
   If i change the SDK back to 6.2.2 GA i'm able to generate the ipa.
   
   Certificates & provisioning profiles are valid for my project.
   
   Other details:
   Operating System
     Name                        = Mac OS X
     Version                     = 10.12.6
     Architecture                = 64bit
     # CPUs                      = 4
     Memory                      = 8589934592
   Node.js
     Node.js Version             = 6.9.5
     npm Version                 = 3.10.10
   Titanium CLI
     CLI Version                 = 5.0.14
   Titanium SDK
     SDK Version                 = 6.3.0.v20171026154532
     SDK Path                    = /Users/nileshsatpute/Library/Application Support/Titanium/mobilesdk/osx/6.3.0.v20171026154532
     Target Platform             = iphone
   
   
   Awaiting your reply.
   
   Thanks.
   </li>
<li>Hans Knöchel 2017-10-30

   The reason for that is that the CLI now handled invalid certificates more strict. The reason for the error is because you have invalid / expired developer certificates in your keychain and (even if there is a valid one as well), the CLI will mark it as invalid. TIMOB-25416 improves that behavior and will also be part of the final GA version of 6.3.0. Thank you!</li>
<li>Suraj Datta 2017-10-30

   Hi Hans,
   
   I've just removed all invalid/expired certificates from my keychain & restarted my mac. Still i'm getting the same error. I've also refreshed certificates from Appcelerator Studio -> Preferences but the issue still persists.
   
   Anything else i need to perform in settings?
   
   Thanks.
   </li>
<li>Suraj Datta 2017-10-30

   Also do i need to remove existing provisioning profiles as well?</li>
</ol>


<p><a href="/TIMOB/TIMOB-25446.json">JSON Source</a></p>