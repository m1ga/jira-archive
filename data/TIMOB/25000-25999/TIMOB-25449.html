---
title: "[TIMOB-25449] iOS: WebView content offset of 20 pixels when positioned at the top"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-11-08T16:17:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, ios11</td></tr>
<tr><th>Reporter</th><td>Matt Mendick</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2017-10-27T18:01:52.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-08T16:17:32.000+0000</td></tr>
</table>

<h3>Description</h3>

A "fullscreen" Titanium.UI.WebView in 6.2.2.GA (older versions too, at least 6.1.2.GA) will contain a dead zone at the top which is 20dip tall (top bar sized). The bar disappears upon scrolling a page that scrolls, but if a full-screen mapping application which manages its own touches and navigation is used, the bar is constant. This does not appear on Android.

Code to reproduce:
<code><pre>
// blue to illustrate the white is not from this window
var win = Ti.UI.createWindow({backgroundColor: 'blue'});

// full screen webview, background green to show the "dead" area at the top
var webview = Ti.UI.createWebView({
	// a webpage that has enough content to scroll and has a gray background color
    url: '<a href="http://daringfireball.net" rel="nofollow" target="_blank">http://daringfireball.net</a>',
    top: 0,
    bottom: 0,
    left: 0,
    right: 0,
    backgroundColor: '#00cc00'
});

win.add(webview);
win.open();
</pre></code>

See screenshot for example. The green area (#00cc00) is the backgroundColor of the webview. If that color is unset, it defaults to white.

I'm working around this by hiding the webview inside another view container and setting the top property to -20, but this shouldn't be necessary in my mind.

The issue _does not_ seem to happen if you set the top property to something farther down the page by at least 20 dips:
<code><pre>
// blue to illustrate the white is not from this window
var win = Ti.UI.createWindow({backgroundColor: 'blue'});

// full screen webview, background green to show the "dead" area at the top
var webview = Ti.UI.createWebView({
	// a webpage that has enough content to scroll and has a gray background color
    url: '<a href="http://daringfireball.net" rel="nofollow" target="_blank">http://daringfireball.net</a>',
    top: 20,
    bottom: 0,
    left: 0,
    right: 0,
    backgroundColor: '#00cc00'
});

win.add(webview);
win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25449_63488/Screen Shot 2017-10-27 at 1.58.47 PM.png">Screen Shot 2017-10-27 at 1.58.47 PM.png</td></td><td>2017-10-27T18:01:43.000+0000</td><td>127782</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2017-10-27

   This seems to be a breaking change in iOS 11+ only, iOS 8/9/10 behave correctly. See more details [here](<a href="https://stackoverflow.com/a/45973538/5537752)." rel="nofollow" target="_blank">https://stackoverflow.com/a/45973538/5537752).</a> The fix is to set the content-inset-adjustment-behavior to "never". Unfortunately, 6.3.0 is already in prerelease stage and no tickets can be added to the version anymore, but it will then go into 7.0.0 for sure. To fix it today, add the following to your "TiUIWebView.m" inside the <code>-(UIWebView*)webview </code> method in <code>~/Library/Application Support/Titanium/mobilesdk/osx/6.2.2.GA/iphone/classes</code>:
   <code><pre>
   #if __IPHONE_OS_VERSION_MAX_ALLOWED &gt;= __IPHONE_11_0
       if ([TiUtils isIOSVersionOrGreater:@"11.0"]) {
         webview.scrollView.contentInsetAdjustmentBehavior = UIScrollViewContentInsetAdjustmentNever;
       }
   #endif
   </pre></code></li>
<li>Matt Mendick 2017-10-27

   Hans, that seems to be the issue and the fix did the trick - thanks very much for your help!</li>
<li>Hans Knöchel 2017-10-28

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/9569" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9569</a>
   
   Test-Case: See above</li>
<li>Eric Wieber 2017-11-08

   Verified in SDK build 7.0.0.v20171107142411</li>
</ol>


<p><a href="/TIMOB/TIMOB-25449.json">JSON Source</a></p>