---
title: "[TIMOB-25450] Hyperloop: iOS - Cannot run likely due to outdated dependency"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-11-15T17:40:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Hyperloop 2.2.2</td></tr>
<tr><th>Components</th><td>Hyperloop</td></tr>
<tr><th>Labels</th><td>hyperloop</td></tr>
<tr><th>Reporter</th><td>Jacob Budin</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2017-10-27T20:45:41.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-15T17:40:21.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm attempting to enable Hyperloop in an existing Titanium iOS project. I couldn't find documentation on how to do this via the CLI, so I did enabled it using Appcelerator Studio. Enabling it there, it added the Hyperloop module and the plugin to the project's <code>tiapp.xml</code>.

On building the project, now with Hyperloop, this error appears:

<code><pre>
[INFO]  Alloy compiler completed successfully
[TRACE] Starting third-party framework detection
[TRACE] Scanning /Users/jacobbudin/Sites/madlibs-ios/platforms/titanium/madlibs/platform/ios for frameworks
(node:46624) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): SyntaxError: Unexpected token ]
</pre></code>

I suspect the cause of this error is this file and line in Hyperloop plugin: <code>hyperloop/2.2.1/hooks/ios/node_modules/acorn/dist/acorn.js:3339</code>:

<code><pre>
$ node hyperloop.js 
/Users/somebody/Library/Application Support/Titanium/plugins/hyperloop/2.2.1/hooks/ios/node_modules/acorn/dist/acorn.js:3339
},{}]]]]]]]]]]]]]]]]]
     ^

SyntaxError: Unexpected token ]
    at createScript (vm.js:74:10)
    at Object.runInThisContext (vm.js:116:10)
    at Module._compile (module.js:588:28)
    at Object.Module._extensions..js (module.js:635:10)
    at Module.load (module.js:545:32)
    at tryModuleLoad (module.js:508:12)
    at Function.Module._load (module.js:500:3)
    at Module.require (module.js:568:17)
    at require (internal/module.js:11:18)
    at Object.&lt;anonymous&gt; (/Users/somebody/Library/Application Support/Titanium/plugins/hyperloop/2.2.1/hooks/ios/node_modules/hyperloop-metabase/lib/generate/custom.js:5:13)
</pre></code>

My initial suspicion is that the <code>acorn</code> module is no longer compatible with more modern versions of Node.js. The <code>acorn</code> module installed is version <code>2.7.0</code> (released [January 2016](<a href="https://github.com/ternjs/acorn/releases/tag/2.7.0))" rel="nofollow" target="_blank">https://github.com/ternjs/acorn/releases/tag/2.7.0))</a> whereas [the most recent release is <code>5.1.2</code>](<a href="https://www.npmjs.com/package/acorn)." rel="nofollow" target="_blank">https://www.npmjs.com/package/acorn).</a>

I could not find instructions on updating Hyperloop manually. I believe Hyperloop 2.2.1 to be the most recent version publicly available.

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2017-10-28

   Thanks for reporting this issue! When using Node 6 LTS, does the error occur as well? </li>
<li>Jacob Budin 2017-10-30

   I tried replacing my toolchain with Node.js v6.11.5 and receive the same error.
   
   <code><pre>
   $ node -v
   v6.11.5
   $ node hyperloop.js 
   /Users/somebody/Library/Application Support/Titanium/plugins/hyperloop/2.2.1/hooks/ios/node_modules/acorn/dist/acorn.js:3339
   },{}]]]]]]]]]]]]]]]]]
        ^
   
   SyntaxError: Unexpected token ]
       at createScript (vm.js:56:10)
       at Object.runInThisContext (vm.js:97:10)
       at Module._compile (module.js:542:28)
       at Object.Module._extensions..js (module.js:579:10)
       at Module.load (module.js:487:32)
       at tryModuleLoad (module.js:446:12)
       at Function.Module._load (module.js:438:3)
       at Module.require (module.js:497:17)
       at require (internal/module.js:20:19)
       at Object.&lt;anonymous&gt; (/Users/jacobbudin/Library/Application Support/Titanium/plugins/hyperloop/2.2.1/hooks/ios/node_modules/hyperloop-metabase/lib/generate/custom.js:5:13)
   </pre></code></li>
<li>Jacob Budin 2017-11-09

   Is anyone else able to recreate this issue with Hyperloop using the most recent Titanium toolkit? If so, please post here.</li>
<li>Jan Vennemann 2017-11-15

   [~jacobkettle], this was caused by a corrupted Hyperloop 2.2.1 distribution zip and was fixed with Hyperloop 2.2.2.  Did you check with the updated version?</li>
<li>Jacob Budin 2017-11-15

   @jvennemann Confirmed. Hyperloop 2.2.2 resolves this issue. I appreciate it. Thanks.</li>
</ol>


<p><a href="/TIMOB/TIMOB-25450.json">JSON Source</a></p>