---
title: "[TIMOB-25504] -2436h@3x Images on iPhone X are not used when -736h@3x exists"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-11-13T20:59:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>images, iphone, iphoneX</td></tr>
<tr><th>Reporter</th><td>Thomas Neerup</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2017-11-13T07:59:27.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-13T21:33:15.000+0000</td></tr>
</table>

<h3>Description</h3>

When using image-2436h@3x.jpg images are not picked up when running on iPhone X if
an image-736h@3x.jpg exists.
It works fine with splash screens but not on other images.

The code below should be checking if running on iPhone X or iPhone 6/7 Plus and choose file accordingly.

<code><pre>
	if ([TiUtils isRetinaHDDisplay]) {
		// first try -736h@3x iPhone 6 Plus specific
		NSString *testpath = [NSString stringWithFormat:@"%@-736h@3x.%@",partial,ext];
		if ([fm fileExistsAtPath:testpath]) {
			return [NSURL fileURLWithPath:testpath];
		}
    
    		// second try -2436h@3x iPhone X specific
    		testpath = [NSString stringWithFormat:@"%@-2436h@3x.%@", partial, ext];
    		if ([fm fileExistsAtPath:testpath]) {
    			return [NSURL fileURLWithPath:testpath];
   		}

    		// third try plain @3x
		testpath = [NSString stringWithFormat:@"%@@3x.%@",partial,ext];
		if ([fm fileExistsAtPath:testpath]) {
			return [NSURL fileURLWithPath:testpath];
		}
	}
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25504_63580/iPhoneXTest.zip">iPhoneXTest.zip</td></td><td>2017-11-13T08:46:33.000+0000</td><td>8337414</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mostafizur Rahman 2017-11-13

   Hello [~thomas.neerup@eg.dk],
   
   Thanks for sharing with us. We are not clear about your issue.  Are you using Appcerelerator  Titanium or objective C?  It would be better if you can share the complete test code  and test case so that we can reproduce the issue on our end.
   
   Best</li>
<li>Thomas Neerup 2017-11-13

   Hi Mostafizur
   
   I'm using Appcelerator studio.. 
   The code included is from Github titanium_mobile/iphone/Classes/TiUtils.m and illustrates where I think the problem is.
   I'm just setting creating a Window with a backgroundImage and the wrong image is picked up by titanium..
   </li>
<li>Thomas Neerup 2017-11-13

   Test case added..
   When running on iPhone X I would expect the background image without the top border to be picked up... But the image with the border is picked up.
   
   I'm not using app thinning.
    <use-app-thinning>false</use-app-thinning></li>
<li>Hans Knöchel 2017-11-13

   This is a valid issue! And sorry for not seeing that earlier. We'll provide a patch today and it will be part of the next release (7.0.0).</li>
<li>Hans Knöchel 2017-11-13

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/9592" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9592</a>
   
   Test-case: See the original tests in TIMOB-25269.</li>
<li>Eric Wieber 2017-11-13

   Verified in SDK build 7.0.0.v20171113113154</li>
</ol>


<p><a href="/TIMOB/TIMOB-25504.json">JSON Source</a></p>