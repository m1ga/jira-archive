---
title: "[TIMOB-25528] iOS: ListView with SearchBar issue with Ti SDK 6.3.0.GA"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-11-21T08:25:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td> Ricardo Ramirez</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2017-11-17T20:59:09.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-28T20:31:26.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue Description </h4>

We are having an issue with ListViews with SearchBar hiding behind the Navigation Bar when cancelling the search. Please see the details below for steps to re-create, screenshots, and a sample app. Note that this issue exists only with version 6.3.0.GA. App works without any issues with previous versions of the SDK. 

Steps to recreate: 

1) Launch the sample app with Ti SDK 6.3.0.GA 
2) Enter a search text in the search bar. For example, enter 'L' 
3) Click on one of the list items to go to second window 
4) On the second window, click on the back arrow to go to previous window 
5) On the first window, notice that search text is still populated and search bar is visible 
6) Click the cancel button on the search bar 
7) Notice that search bar is hidden behind the navigation bar - This is the issue. Expected behavior is the search bar should be fully visible just below the navigation bar. 



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25528_63640/ListViewSearch-SampleApp2.zip">ListViewSearch-SampleApp2.zip</td></td><td>2017-11-17T20:59:03.000+0000</td><td>10001129</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25528_63639/Screen_Shot_2017-11-17_at_10.55.32_AM.png">Screen_Shot_2017-11-17_at_10.55.32_AM.png</td></td><td>2017-11-17T20:59:02.000+0000</td><td>90034</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25528_63638/Screen_Shot_2017-11-17_at_10.55.38_AM.png">Screen_Shot_2017-11-17_at_10.55.38_AM.png</td></td><td>2017-11-17T20:59:01.000+0000</td><td>90482</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25528_63637/Screen_Shot_2017-11-17_at_10.55.44_AM.png">Screen_Shot_2017-11-17_at_10.55.44_AM.png</td></td><td>2017-11-17T20:59:02.000+0000</td><td>84399</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25528_63636/Screen_Shot_2017-11-17_at_10.56.00_AM.png">Screen_Shot_2017-11-17_at_10.56.00_AM.png</td></td><td>2017-11-17T20:59:02.000+0000</td><td>92521</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vijay Singh 2017-11-21

   
   Test Case 1 (TiUIListView) :
   
   <code><pre>
   var rows = [];
   for (var i = 0; i < 20; i++) {
       rows.push({ properties: { title: 'Row '+ i , backgroundColor: 'red', searchableText:'Row '+i}});
   }
    
   var win = Ti.UI.createWindow({
     title: 'TEST',
     backgroundColor: '#ffffff',
   });
    
   var nav = Ti.UI.iOS.createNavigationWindow({ 
     window: win,
    });
    
    var testView = Ti.UI.createView({
       left : 20,
       right : 40
    });
   var sb = Ti.UI.createSearchBar();
    
   var ls = Ti.UI.createListSection({
     items: rows
   });
    
    var lv = Ti.UI.createListView({
       dimBackgroundForSearch: true,
       sections: [ls],
       searchView: sb,
   });
    
    testView.add(lv);
    
   sb.setHintText("test");
    sb.addEventListener('change', function(e){
     Ti.API.info(e.value);
   });
    
   sb.addEventListener('return', function(e){
     sb.blur();
   });
   lv.addEventListener('itemclick', function(e) {
     Ti.API.info('click at index: ' + e.itemIndex);
     var win1 = Ti.UI.createWindow({
     title: 'SecondWindow',
     backgroundColor: 'blue',
   });
   nav.openWindow(win1);
   });
    
   win.add(testView);
   nav.open();
   </pre></code>
   
   Test Case 2. (TiUITableView)
   
   <code><pre>
   var rows = [];
   for (var i = 0; i < 20; i++) {
       rows.push({ title: 'Row '+ i});
   }
   
   var win = Ti.UI.createWindow({
     backgroundColor: '#ffffff',
     layout : 'vertical'
   });
   
   var nav = Ti.UI.iOS.createNavigationWindow({ 
     window: win,
    });
   
   var sb = Ti.UI.createSearchBar();
    
   var lv = Ti.UI.createTableView({
       data: rows,
       search: sb,
   });
    
    sb.setHintText("test");
    sb.addEventListener('change', function(e){
     Ti.API.info(e.value);
   });
    
   sb.addEventListener('return', function(e){
   sb.blur();
   });
    
   sb.addEventListener('cancel', function(e){
   });
   lv.addEventListener('click', function(e) {
       Ti.API.info('click at index: ' + e.index);
    var win1 = Ti.UI.createWindow({
     title: 'SecondWindow',
     backgroundColor: 'blue',
   });
       nav.openWindow(win1); 
   })
    
   win.add(lv);
   nav.open();
   </pre></code></li>
<li>Hans Kn√∂chel 2017-11-21

   Fixed as part of TIMOB-25491</li>
<li>Eric Wieber 2017-11-28

   Closing as duplicate and fix verified in SDK build 7.0.0.v20171128115332</li>
</ol>


<p><a href="/TIMOB/TIMOB-25528.json">JSON Source</a></p>