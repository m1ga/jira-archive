---
title: "[TIMOB-25532] iOS: ListView - controller.open doesn't come to front when using searchbar "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2017-11-27T08:44:27.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 6.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>searchBar</td></tr>
<tr><th>Reporter</th><td>dbenhenni</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2017-11-17T18:21:21.000+0000</td></tr>
<tr><th>Updated</th><td>2017-11-28T20:31:43.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to Reproduce</h4>
Inside of my ListView I have an onItemclick event which opens a new detailcontroller. After updating to 4.10.0 the detailcontroller doesn't come to front when using the search before. It appears hidden in the back. Just after canceling the search the detail controller appears.

<h4>Actual Result</h4>
controller.open() -> controller is hidden by searchbar

<h4>Expected Result</h4>
controller.open() should come to front.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25532_63632/.log">.log</td></td><td>2017-11-17T18:21:42.000+0000</td><td>8899951</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25532_63633/diagnostic4660596753765271736.log">diagnostic4660596753765271736.log</td></td><td>2017-11-17T18:21:55.000+0000</td><td>352382</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-11-17

   Hello, Please share the full reproducible sample code. Also, SDK CLI and testing platform info. Thanks.</li>
<li>dbenhenni 2017-11-18

   Axway Appcelerator Studio, build: 4.10.0.201709271713
   Testing Platform: iPad 2 Mini A1490 iOS 10.3.2 
   SDK: Tested with 6.2.1, 6.2.2 and latest 6.3.0
   --> with 6.2.1 and 6.2.2 the searchbar appears on absolutely top of the controller when getting focus. Also in 6.2.2. In 6.3.0 this behaviour disappeared and it stays on correct position but, as I mentioned before, the searchbar on focus stays focused in front, the onItemclick Event is executed and the controller is opened but is hidden by the searchbar unless I click cancel at the searchbar.
   I will upload an example</li>
<li>dbenhenni 2017-11-18

   Sample View:
   
   <code><pre>
   &lt;Alloy&gt;
   	&lt;Window id="win1" layout="absolute"&gt;
   		&lt;View id="view1" layout="vertical" height="Ti.UI.FILL" width="Ti.UI.FILL" top="25"&gt;
   			&lt;View height="36" top="10" left="10" right="10" layout="absolute" width="Ti.UI.FILL"&gt;
   				&lt;Button icon="fa-chevron-left" title=" Close" left="0" ...&gt;&lt;/Button&gt;
   				
   				&lt;View layout="horizontal" left="28%" width="Ti.UI.FILL"&gt;
   					...
   				&lt;/View&gt;
   				&lt;Button title=" Refresh" icon="fa-refresh" right="0"  ...&gt;&lt;/Button&gt;	
   			&lt;/View&gt;
   			
   			&lt;ListView id="listview" defaultItemTemplate="template" onItemclick="openItem" left="1%" right="1%" top="5"&gt;
   				&lt;SearchBar id="search" showCancel="true" backgroundColor="white" barColor="white"&gt;&lt;/SearchBar&gt;
   				&lt;Templates&gt;
   ....
   </pre></code>
   
   View Controller:
   
   
   <code><pre>
   function openItem(e) {
   	try {
   		var item = $.listview.sections[e.sectionIndex].getItemAt(e.itemIndex);
   		var unid = item.properties.c_unid;
   		if (!unid) {
   			log.exception("Doc not found!");
   			return;
   		} else {
   			var arg = { id: unid };
   			var detail = Alloy.createController("tickets/show_item", arg).getView();
   			detail.open();			
   		}
   	} catch(e) {
   		log.exception("openItem",e);
   		return;
   	}
   }
   </pre></code>
   </li>
<li>Sharif AbuDarda 2017-11-18

   Hello, This is not the full sample code. Please provide a sample app of full reproducible code that we can directly use. Thanks.</li>
<li>dbenhenni 2017-11-20

   Hi, I've created a sample app. How can I provide you the zipped file?</li>
<li>Vijay Singh 2017-11-21

   [~dbenhenni] Is it not possible for you to attach in ticket ?</li>
<li>dbenhenni 2017-11-21

   No, I can't attach a file to the ticket. I'm just seeing 
   - Create Zephyr Test  - Stop watching and - Remote Copy</li>
<li>Vijay Singh 2017-11-21

   [~sdarda] Can you help in getting test app from [~dbenhenni]. Thanks!
   </li>
<li>Hans Kn√∂chel 2017-11-22

   [~vijaysingh] Can you validate this ticket as part of TIMOB-25491? [~dbenhenni] Should be fine to just link it via Dropbox / Google Drive!</li>
<li>Vijay Singh 2017-11-23

    [~dbenhenni] In app.js file of attached example code , I do not see anything related ListView or SearchBar. I think you attached wrong example code. Can you please check it. Thanks!</li>
<li>dbenhenni 2017-11-23

    You are right. This is the correct source code:
    [Example Code](<a href="https://www.dropbox.com/s/kt1ndhnzqu5v870/example_code.zip?dl=0)" rel="nofollow" target="_blank">https://www.dropbox.com/s/kt1ndhnzqu5v870/example_code.zip?dl=0)</a></li>
<li>Vijay Singh 2017-11-23

    Thanks [~dbenhenni]. We will look in this.
    Test Case 1 -
    
    <code><pre>
    var rows = [];
    for (var i = 0; i &lt; 20; i++) {
        rows.push({ title: 'Row '+ i});
    }
     
     
    var win = Ti.UI.createWindow({
      backgroundColor: '#ffffff',
      extendSafeArea : false
    });
     
     var button = Titanium.UI.createButton({
        title: 'Close Window',
    });
     
    win.add(button);
     
    var win2 = Titanium.UI.createWindow({
      backgroundColor: 'blue'
    });
     
    var sb = Ti.UI.createSearchBar();
     
    var lv = Ti.UI.createTableView({
        hideSearchOnSelection: false,
        data: rows,
        search: sb,
    });
     sb.setHintText("test");
      
    win2.add(button);
     
    lv.addEventListener('click', function(e) {
        Ti.API.info('click at index: ' + e.index); 
        win2.open();
    })
     
     button.addEventListener('click', function(){
      win2.close();
    });
    win.add(lv);
    win.open();
    </pre></code>
    
    Test Case 2 -
    
    
    <code><pre>
    
    var win1 = Titanium.UI.createWindow({
        backgroundColor: 'red',
        title: 'Red Window',
        extendSafeArea : false
    });
     
    var win2 = Titanium.UI.createWindow({
      backgroundColor : 'blue'
    });
     
     var button = Titanium.UI.createButton({
        title: 'Close Window',
    });
    var rows = [];
    for (var i = 0; i &lt; 5; i++) {
        rows.push({ properties: { title: 'Row '+ i , backgroundColor: 'red', searchableText:'Row '+i}});
    }
     
    var sb = Ti.UI.createSearchBar();
    var ls = Ti.UI.createListSection({
      items: rows
    });
     
     var lv = Ti.UI.createListView({
        top : 0,
        sections: [ls],
        searchView: sb,
    });
     
    sb.addEventListener('return', function(e){
      sb.blur();
    });
    lv.addEventListener('itemclick', function(e) {
        Ti.API.info('click at index: ' + e.itemIndex);
        win2.open();
    }); 
    win2.add(button);
    
    win1.add(lv);
     
    button.addEventListener('click', function(){
      win2.close();
    });
    
    win1.open();
    </pre></code></li>
<li>Vijay Singh 2017-11-27

    Fixed as part of TIMOB-25491.</li>
<li>Eric Wieber 2017-11-28

    Closing as duplicate and fix verified in SDK build 7.0.0.v20171128115332</li>
</ol>


<p><a href="/TIMOB/TIMOB-25532.json">JSON Source</a></p>