---
title: "[TIMOB-25582] Windows: Support for dp in ti.ui.defaultunit"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-11-20T01:52:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>breaking-change</td></tr>
<tr><th>Reporter</th><td>Kota Iguchi</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2017-12-04T04:38:47.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-20T11:54:27.000+0000</td></tr>
</table>

<h3>Description</h3>

According to the document, 

{quote}
You can specify the default unit type to use with untyped values. To the tiapp.xml file, you would add
<property name="ti.ui.defaultunit" type="string">value</property>

Where value is one of px, mm, cm, in, dp, dip, or system. The "system" value corresponds to the platform-dependent system unit as described above. 
{quote}

Current default units are hard-coded to <code>"px"</code>.

See also: [Setting default units in tiapp.xml](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/guide/Layouts,_Positioning,_and_the_View_Hierarchy-section-src-29004895_safe-id-TGF5b3V0cyxQb3NpdGlvbmluZyxhbmR0aGVWaWV3SGllcmFyY2h5LVNldHRpbmdkZWZhdWx0dW5pdHNpbnRpYXBwLnhtbA)


<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2017-12-04

   It turns out TIMOB-19350 should have taken care of this but it was not actually working. I also noticed that the default <code>tiapp.xml</code> that CLI produces with <code>appc new</code> sets <code>dp</code> for default <code>ti.ui.defaultunit</code>, which will cause problem because we have been using <code>px</code> for default unit for Windows. 
   
   So if you implement this feature, you should see breaking changes regarding view size (<code>px</code> to <code>dp</code>) for most of apps. For instance when you have a view with <code>width: 100</code>, we have treated it as <code>100px</code>, but because you have <code>ti.ui.defaultunit=dp</code> in default template, it will be treated it as <code>100dp</code>. I'm not sure how we should treat this without causing breaking change.
   </li>
<li>Kota Iguchi 2018-10-31

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1300" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1300</a></li>
<li>Samir Mohammed 2018-11-19

   FR passed, waiting on Jenkins build.</li>
<li>Kota Iguchi 2018-11-20

   Could someone update customers about this breaking change in 8.0.0? [~aislam] 
   
   This is adding support for *dp* in *ti.ui.defaultunit*. This means this will introduce breaking change on view sizes because our tiapp.xml default unit has been set to dp but we've been using px implicitly for Windows default unit. So in order to keep consistency between previous versions, you will need to set ~<property name="ti.ui.defaultunit" type="string">px</property>~ explicitly in tiapp.xml.</li>
<li>Samir Mohammed 2018-11-20

   Closing ticket. Verified fix in SDK version 8.0.0.v20181120013506.
   
   Test and other information can be found at: 
   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1300" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1300</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-25582.json">JSON Source</a></p>