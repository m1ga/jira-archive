---
title: "[TIMOB-25600] Android : SDK 7.0.0.GA not applying custom theme attributes properly on TableViewRow, but SDK 5.5.1 or below works properly"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-03-01T00:24:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Prashant Saini</td></tr>
<tr><th>Assignee</th><td>Yordan Banev</td></tr>
<tr><th>Created</th><td>2017-12-11T15:05:31.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-06T23:16:54.000+0000</td></tr>
</table>

<h3>Description</h3>

When using custom theme to change the *touch-ripple* colour on *tableview rows*, *touch-ripple* colour is not applied using *SDK 7.0.0.GA*, however it works as expected while using *5.5.1.GA* or below.

It makes impossible to change the ripple-effect colour using *7.0.0.GA* & even it's behaving odd if I use *touchFeedbackColor* on tableview rows.

Here's a sample code to test this:


<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor : 'black',
	theme : 'GalleryTheme'
});

var table = Ti.UI.createTableView({
	width : Ti.UI.FILL,
	height : Ti.UI.FILL
});

table.appendRow(createRow("Camera Test"));
table.appendRow(createRow("Multi Image Picker"));
table.appendRow(createRow("Image Compression Test"));
table.appendRow(createRow("Get Current Location"));

win.add(table);

win.open();

function createRow(_text) {
	var label = Ti.UI.createLabel({
		color: 'white',
		text: _text,
		left : 20,
		width: Ti.UI.SIZE, height: Ti.UI.SIZE
	});

	var row = Ti.UI.createTableViewRow({
		height: 50,
	        width: Ti.UI.FILL
	});

	row.add(label);
	return row;
}

// theme used in this sample to change ripple effect
&lt;style name="GalleryTheme" parent="Theme.AppCompat.Light"&gt;
        &lt;item name="colorPrimary"&gt;#ffbc77&lt;/item&gt;
        &lt;item name="colorPrimaryDark"&gt;#cf9458&lt;/item&gt;
        &lt;item name="colorAccent"&gt;#4064ff&lt;/item&gt;
	&lt;item name="colorControlHighlight"&gt;#2eba4d&lt;/item&gt;
&lt;/style&gt;
</pre></code>

As expected, *<code>colorControlHighlight</code>* colour should be used to show ripple-colour effect. 

Also find attached screenshot for both SDKs.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25600_63756/sdk6_3_0.png">sdk6_3_0.png</td></td><td>2017-12-11T15:03:50.000+0000</td><td>76491</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25600_63757/sdk7_0_0.png">sdk7_0_0.png</td></td><td>2017-12-11T15:03:50.000+0000</td><td>71646</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-12-11

   Hello, I tried to test the issue. But not quiet able to reproduce it. I hve created a sample app with custom theme.xml in platform/android/res/values/ and I used your theme code section above. Now I define the theme in tiapp.xml. also, use theme property in the window as your code. I see the orange action bar but The row selection color is not changing now even for 6.3.0.GA as you mentioned. So, there might be a problem. Can you compile a sample app for us and send it here. so we can testit. Are you testing on device? </li>
<li>Prashant Saini 2017-12-12

   Hi Sharif, I just re-checked my SDK & it was 5.5.1 on which it's working fine. I had deleted 6.3.0 this Saturday when I installed 7.0.0. But I am sure that I was able to see that green ripple color earlier when I was using 6.3.0. 
   
   Yes, I tested it on 4 different devices as I mentioned in Environments.
   
   Could you please recheck it with SDK 5.5.1 because I can clearly see green-ripple colour in 5.5.1 but not in 7.0.0?</li>
<li>Prashant Saini 2017-12-20

   Hi Sharif, few more important things I found today about this bug are:
   <h4>Theme is not getting applied to very first window of the app, i.e., *index.xml*</h4>
   <h4>If we <Require /> the same TableView in another window, theme works properly.</h4>
   <h4>Adding to above point, if we open another window right after index.xml window, it doesn't work.</h4>
   <h4>If we delay opening the another window with same TableView, theme works properly.</h4>
   <h4>In any case, theme is not applying only on TableView, however I can see it applied properly on Button.</h4>
   
   So from above points, it looks like that theme is somehow getting delayed in being applied to TableView only on first window.</li>
<li>Yordan Banev 2018-01-08

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/9701" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9701</a>
   7_1_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/9874" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9874</a></li>
<li>Lokesh Choudhary 2018-02-23

   FR Passed for master & backport.
   Waiting for CR to merge.</li>
<li>Lokesh Choudhary 2018-02-28

   Backport PR merged.
   Waiting for master merge to get enabled.
   </li>
<li>Lokesh Choudhary 2018-03-01

   Master PR merged.</li>
<li>Lokesh Choudhary 2018-03-06

   Verified the fix in SDK 7.2.0.v20180305152636 & 7.1.0.v20180306061214.
   
   Closing.
   
   Studio Ver: 5.0.0.201712081732
   OS Ver: 10.13.2
   Xcode Ver: Xcode 9.2
   Appc NPM: 4.2.12
   Appc CLI: 7.0.2
   Daemon Ver: 1.0.1
   Ti CLI Ver: 5.0.14
   Alloy Ver: 1.11.0
   Node Ver: 8.9.1
   NPM Ver: 5.5.1
   Java Ver: 1.8.0_101
   Devices: ⇨ google Nexus 5 — Android 6.0.1
   ⇨ google Nexus 6P — Android 8.0.0</li>
</ol>


<p><a href="/TIMOB/TIMOB-25600.json">JSON Source</a></p>