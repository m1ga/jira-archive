---
title: "[TIMOB-25601] Android: Remove \"ti.cloudpush\" module's \"com.google.android.gms.version\" metadata tag"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2017-12-14T22:25:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, cloudpush</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2017-12-12T20:01:36.000+0000</td></tr>
<tr><th>Updated</th><td>2017-12-19T23:13:57.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
The Android "ti.cloudpush" module has a hardcoded Google Play Services version reference (ie:  "com.google.android.gms.version") that it'll inject into the AndroidManifest.xml file in it's "timodule.xml" file.
<a href="https://github.com/appcelerator-modules/ti.playservices/blob/master/android/timodule.xml" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.playservices/blob/master/android/timodule.xml</a>

This metadata tag needs to be deleted from the "timodule.xml". It is no longer needed since it'll be automatically injected by Titanium 7.0.0's new "ti.playservices" module.

*Note:*
This issue will cause a crash on app startup if the "ti.playerservices" module has been manually added above the "ti.cloudpush" module in the "tiapp.xml" file. This is because the last metadata tag ends up being the one read by the Google Play Services library and it'll throw an exception due to a version mismatch.


<h3>Comments</h3>

<ol>
<li>Gary Mathews 2017-12-13

   cloudpush: <a href="https://github.com/appcelerator-modules/cloudpush/pull/35" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/cloudpush/pull/35</a>
   5.0.1: <a href="https://github.com/appcelerator-modules/cloudpush/releases/tag/android-5.0.1" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/cloudpush/releases/tag/android-5.0.1</a></li>
<li>Lokesh Choudhary 2017-12-14

   FR Passed. PR merged.</li>
<li>Gary Mathews 2017-12-15

   *titanium_mobile*
   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/9690" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9690</a>
   7_0_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/9691" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9691</a></li>
<li>Lokesh Choudhary 2017-12-19

   Verified the fix with SDK 7.0.1.v20171218104141 & 7.1.0.v20171218101353.
   
   Closing.
   
   Studio Ver: 5.0.0.201712081732
   SDK Ver: 7.0.1.v20171218104141, 7.1.0.v20171218101353
   OS Ver: 10.12.3
   Xcode Ver: Xcode 8.3.3
   Appc NPM: 4.2.11
   Appc CLI: 7.0.1-master.5
   Daemon Ver: 1.0.1
   Ti CLI Ver: 5.0.14
   Alloy Ver: 1.10.10
   Node Ver: 8.9.1
   Java Ver: 1.8.0_101
   Devices: ⇨ google Pixel — Android 7.1.1
   ⇨ google Nexus 5 — Android 6.0.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-25601.json">JSON Source</a></p>