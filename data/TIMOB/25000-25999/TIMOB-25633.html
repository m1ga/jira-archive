---
title: "[TIMOB-25633] Android: Add \"androidback\" callback property to camera overlay"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-08-14T18:10:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, back, camera</td></tr>
<tr><th>Reporter</th><td>Rainer Schleevoigt</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2017-12-23T21:17:48.000+0000</td></tr>
<tr><th>Updated</th><td>2020-08-14T18:10:01.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
When showing a camera overlay on Android (ie: use camera in-app instead of 3rd party camera app), you are unable to override the Back button. We should support his by adding a new "androidback" callback property like this.


<code><pre>
Ti.Media.showCamera({
	overlay: Ti.UI.createView(),
	androidback: function() {
		// This callback only applies when using "overlay" property.
		// Back button won't close camera window unless you hide it yourself.
		// Ti.Media.hideCamera();
	}
});
</pre></code>


<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2017-12-24

   Hello, Can you create a PR and assign to this ticket?</li>
<li>Rainer Schleevoigt 2017-12-27

   I have created a new version of TiCameraActivity.java. In core this updated function:
   
   @Override
   	public void onBackPressed() {
   		if (androidbackCallback != null) {
   			KrollDict response = new KrollDict();
   			response.putCodeAndMessage(-1, "User pressed androidback");
   			androidbackCallback.callAsync(callbackContext, response);
   		} else {
   			if (cancelCallback != null) {
   				KrollDict response = new KrollDict();
   				response.putCodeAndMessage(-1, "User cancelled the request");
   				cancelCallback.callAsync(callbackContext, response);
   			}
   			super.onBackPressed();
   		}
   	} 
   
   Now I try to PR this both files (+ MediaModule.java)</li>
<li>Rainer Schleevoigt 2017-12-27

   Changes:
   
   Modifying 'onBackPressed' callback in Ti.CameraActivity and some little modifications in module (adding callback)</li>
<li>Rainer Schleevoigt 2017-12-28

   Unfort. I have linted the source code,  I hope the PR can still be done.</li>
<li>Michael Gangolf 2019-10-09

   new PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/11270" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11270</a></li>
<li>Samir Mohammed 2020-04-29

   FR Passed, waiting on Jenkins build.</li>
<li>Christopher Williams 2020-04-29

   merged to master for 9.1.0 target</li>
<li>Samir Mohammed 2020-08-14

   *Closing ticket*, Fix verified in SDK Version <code>9.1.0.v20200814072027</code>
   
   *Test and other information can be found at:*
   <a href="https://github.com/appcelerator/titanium_mobile/pull/11270" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11270</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-25633.json">JSON Source</a></p>