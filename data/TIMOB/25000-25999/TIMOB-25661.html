---
title: "[TIMOB-25661] Android: Glitchy rotation animation occurs with views with borders in Android 7.0 and above"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Motiur Rahman</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-01-11T09:54:30.000+0000</td></tr>
<tr><th>Updated</th><td>2020-08-17T19:12:38.000+0000</td></tr>
</table>

<h3>Description</h3>

I am using Circular progress widget(<a href="https://github.com/manumaticx/circularprogress)" rel="nofollow" target="_blank">https://github.com/manumaticx/circularprogress)</a>, in that as per my project requirement I need to rotate the view for that I have added the below code:

<code><pre>
var animation = Ti.UI.createAnimation({

duration : 0,

transform : Ti.UI.create2DMatrix().rotate(-90)

});

$.container.animate(animation);

</pre></code>

this is working fine in all the Android and iOS devices except Android OS version 7. Please see the attachment file, Android 7 should work as like that.

If I just add this property *autoreverse : true* then the Circular view is showing but not the correct position.

*Actual Behaviour:* Android v7.0.0  Circular view and animation is not working properly.

*Expected Behaviour:* Need's to support the Android 7.0.0 as well.

Test Code: 

I have attached the "App" folder please run it on Android 7.0.0 and other devices for the difference. 

Let me know if you need anything else.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25661_63976/actual.png">actual.png</td></td><td>2018-01-18T21:31:03.000+0000</td><td>52393</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25661_63946/app.zip">app.zip</td></td><td>2018-01-11T09:51:27.000+0000</td><td>9301158</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25661_63977/expected.png">expected.png</td></td><td>2018-01-18T21:31:03.000+0000</td><td>58423</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25661_63948/Screen Shot 2018-01-11 at 3.26.00 PM.png">Screen Shot 2018-01-11 at 3.26.00 PM.png</td></td><td>2018-01-11T09:43:41.000+0000</td><td>42079</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25661_63947/Screen Shot 2018-01-11 at 3.30.06 PM.png">Screen Shot 2018-01-11 at 3.30.06 PM.png</td></td><td>2018-01-11T09:43:54.000+0000</td><td>49428</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2018-01-18

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/9751" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9751</a></li>
<li>Gary Mathews 2018-01-18

   7_0_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/9752" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9752</a></li>
<li>Lokesh Choudhary 2018-01-18

   FR Passed.
   Waiting for merge to get enabled.</li>
<li>Lokesh Choudhary 2018-01-19

   Master PR merged.</li>
<li>Lokesh Choudhary 2018-01-24

   Backport PR merged.</li>
<li>Lokesh Choudhary 2018-01-24

   Verified the fix with SDK 7.1.0.v20180124063413 & 7.0.2.v20180123170142.
   
   Closing.
   
   Studio Ver:     5.0.0.201712081732
   SDK Ver:        7.0.2.v20180123170142, 7.1.0.v20180124063413 
   OS Ver:         10.13.2
   Xcode Ver:      Xcode 9.2
   Appc NPM:       4.2.11
   Appc CLI:       7.0.1
   Daemon Ver:     1.0.1
   Ti CLI Ver:     5.0.14
   Alloy Ver:      1.10.10
   Node Ver:       8.9.1
   NPM Ver:        5.5.1
   Java Ver:       1.8.0_101
   Devices:        ⇨ google Pixel --- Android 7.1.1
                   ⇨ google Nexus 5 --- Android 6.0.1</li>
<li>Joshua Quick 2018-01-31

   This is a Google bug that was introduced in Android 7.0 (aka: API Level 24):
   <a href="https://issuetracker.google.com/issues/37123819" rel="nofollow" target="_blank">https://issuetracker.google.com/issues/37123819</a>
   
   </li>
<li>Joshua Quick 2018-02-01

   We are reverting the above code change in Titanium 7.0.2.GA.
   
   We're doing this because it's causing large views with borders to disappear (ie: fails to render) for other Titanium developers, such as the issue mentioned here: [TIMOB-25733]
   
   We have discovered that this is a bug on Google's end which was introduced as of Android 7.0 and it hasn't been fixed yet (as of the time of this comment). The Google bug report can be seen via the link below. It's an issue with circular clipping and animation.
   <a href="https://issuetracker.google.com/issues/37123819" rel="nofollow" target="_blank">https://issuetracker.google.com/issues/37123819</a>
   
   [~morahman], I recommend that you use Titanium's Ti.UI.createActivityIndicator() feature instead. That will display the native animated circular progress indicator.
   
   <code><pre>
   var window = Ti.UI.createWindow({ backgroundColor: "gray" });
   var indicator = Ti.UI.createActivityIndicator(
   {
   	visible: true,
   //	message: "Optional message goes here.",
   	style: Ti.UI.ActivityIndicatorStyle.BIG,
   });
   indicator.show();
   window.add(indicator);
   window.open();
   </pre></code>
   </li>
<li>Joshua Quick 2018-09-05

   Note that we've added radial gradient support on Android as of Titanium 7.1.0.
   
   The radial gradient feature can be used to draw a solid circle or ring, which is what the app developer wants. This is a better solution than using rounded borders to "clip" the view into a circle, because the rounded clipping is what's buggy on Google's end. Also, radial gradient is hardware accelerated and can render faster as well. See...
   <a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.UI.View-property-backgroundGradient
   </li>
<li>Srinivasan Pulipakkam 2018-10-17

    Fixed in 7.1.0</li>
</ol>


<p><a href="/TIMOB/TIMOB-25661.json">JSON Source</a></p>