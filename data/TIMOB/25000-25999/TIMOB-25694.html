---
title: "[TIMOB-25694] Hyperloop: Android- Cannot start native media Player."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2018-01-24T12:20:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.0.1, Hyperloop 3.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Motiur Rahman</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2018-01-23T02:44:27.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:37:06.000+0000</td></tr>
</table>

<h3>Description</h3>

Issue: Can not start native media player. It throws an error like Uncaught TypeError: Cannot read property 'start' of null

Steps to Reproduce:

1. Create a new Alloy project.
2. Place the attached .mp3 file to the assets folder.
3. Then run the following test code.

<code><pre>
var MediaPlayer = require('android.media.MediaPlayer');
var Activity = require('android.app.Activity'),
    am = require('android.content.res.AssetManager'),
    fis = require('java.io.FileInputStream');

var View = require('android.view.View');
var activity = new Activity(Ti.Android.currentActivity);
var context = activity.getApplicationContext();
var mPlayer = new MediaPlayer(activity);

var mPlayer = MediaPlayer.create(context, "five.mp3");

function doClick() {
	mPlayer.start();

}

$.containerWin.open();

</pre></code>

<code><pre>
<Alloy>
	<Window id='containerWin' class="container">
		<Label id="label" onClick="doClick">
			Hello, World
		</Label>
	</Window>
</Alloy>
</pre></code>

<code><pre>
[ERROR] :  TiExceptionHandler: (main) [692901,692901] ----- Titanium Javascript Runtime Error -----
[ERROR] :  TiExceptionHandler: (main) [0,692901] - In undefined:69,11
[ERROR] :  TiExceptionHandler: (main) [0,692901] - Message: Uncaught TypeError: Cannot read property 'start' of null
[ERROR] :  TiExceptionHandler: (main) [0,692901] - Source: 		mPlayer.start();
[ERROR] :  V8Exception: Exception occurred at undefined:69: Uncaught TypeError: Cannot read property 'start' of null
</pre></code>

Thanks

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25694_64727/five.mp3">five.mp3</td></td><td>2018-01-23T02:44:23.000+0000</td><td>36216</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2018-01-24

   First of all, there are quite a few issues with the above code.
   <code><pre>
   var mPlayer = new MediaPlayer(activity);
   var mPlayer = MediaPlayer.create(context, "five.mp3");
   </pre></code>
   The <code>mPlayer</code> variable is declared twice, which doesn't make much sense. Also, the second parameter of the "create" method is from the type <code>Uri</code> or <code>int</code>, not <code>String</code>. Finally, the URL of the player item has to be constructed natively, which is not as simple as providing the file name as in Titanium. Please follow the native Android docs to do this, as this is no Titanium- or Hyperloop related issue.</li>
<li>Eric Merriman  2018-08-06

   Closing as invalid. If incorrect, please reopen.</li>
</ol>


<p><a href="/TIMOB/TIMOB-25694.json">JSON Source</a></p>