---
title: "[TIMOB-25731] Android: Glitch on backgroundColor animation with borderRadius"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2018-03-09T18:32:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, animation, backgroundColor, rounded</td></tr>
<tr><th>Reporter</th><td>Sandro Lain</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2018-01-26T13:18:32.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-09T18:32:13.000+0000</td></tr>
</table>

<h3>Description</h3>

Background color animation in rounded-angle views changes the color to the rectangle behind the view, but the shape with rounded corners does not animate.

I enclose two comparison videos on iOS and Android.

Example code:


<code><pre>

// $.win is the Window View in index.xml Alloy controller

var view1 = $.UI.create('View', {
	width: 100,
	height: 100,
	top: 110,
	backgroundColor: "#FF0000",
	borderRadius: 50
});

$.win.add(view1);


var view2 = $.UI.create('View', {
	width: 100,
	height: 100,
	top: 220,
	backgroundColor: "#FF0000",
	borderRadius: 50
});

$.win.add(view2);


$.win.addEventListener('open', function()
{
	var ani1up = function()
	{
		view1.animate({
			backgroundColor: '#0000FF',
			duration: 500
		}, function()
		{
			ani1down();
		});
	};
	var ani1down = function()
	{
		view1.animate({
			backgroundColor: '#FF0000',
			duration: 500
		}, function()
		{
			ani1up();
		});
	};
	
	var ani2up = function()
	{
		view2.animate({
			backgroundColor: '#0000FF',
			duration: 2000
		}, function()
		{
			ani2down();
		});
	};
	var ani2down = function()
	{
		view2.animate({
			backgroundColor: '#FF0000',
			duration: 2000
		}, function()
		{
			ani2up();
		});
	};
	
	ani1up();
	ani2up();
});


$.win.open();

</pre></code>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25731_64760/android.mov">android.mov</td></td><td>2018-01-26T13:16:12.000+0000</td><td>796413</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25731_64759/ios.mov">ios.mov</td></td><td>2018-01-26T13:16:14.000+0000</td><td>755131</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2018-01-27

   Hello, I have tested the issue with SDK 7.0.1.GA, I was able to reproduce the issue as described with Android. "Background color animation in rounded-angle views changes the color to the rectangle behind the view, but the shape with rounded corners does not animate." this works fine in iOS. Thanks.</li>
<li>Joshua Quick 2018-02-03

   [~sdarda], can you test this on Android 6.x or older OS versions please?
   
   I ask because this might be a bug on Google's end. See the following Google bug report. It affects Android 7.0 and higher and they haven't fixed it yet. It'll affect any views that have rounded borders and are animated.
   <a href="https://issuetracker.google.com/issues/37123819" rel="nofollow" target="_blank">https://issuetracker.google.com/issues/37123819</a>
   </li>
<li>Gary Mathews 2018-03-09

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/9900" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9900</a></li>
<li>Gary Mathews 2018-03-09

   Closing, duplicate of TIMOB-25835</li>
</ol>


<p><a href="/TIMOB/TIMOB-25731.json">JSON Source</a></p>