---
title: "[TIMOB-25791]  Android:  getTime issue with 7.0.2 sdk in android"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2018-05-05T12:47:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.0.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Aminul Islam</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-02-20T19:43:12.000+0000</td></tr>
<tr><th>Updated</th><td>2018-05-16T21:45:22.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi,
There is an issue in the SDK 7.0.2 with the getTime() function in Android.
Issue:-
new Date("2018-02-20T11:30:00").getTime() has discrepancy with the old sdk's (
same function is returning different values(milliseconds) in old sdk and new sdk.
1519104600000 - new sdk (7.0.2.GA)
1519126200000 - old sdk (6.3.0.GA)

steps to recreate:-
1)calculate the milliseconds using new Date("2018-02-20T11:30:00").getTime() in 7.0.2 and 6.3.0.
2)copy that in check the local time and UTC in <a href="http://currentmillis.com." rel="nofollow" target="_blank">http://currentmillis.com.</a>
3) you should see the difference in two SDK's.

Test Code:
<code><pre>
var win = Ti.UI.createWindow({
 backgroundColor : '#fff'
});
var sf=new Date("2018-02-20T11:30:00").getTime();
Ti.API.info(sf);
alert(sf);
win.open();
</pre></code>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2018-02-20

   This is an intentional breaking change Google has made in their V8 JavaScript engine. Google has made this breaking change back in 2015.
   <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=543320" rel="nofollow" target="_blank">https://bugs.chromium.org/p/chromium/issues/detail?id=543320</a>
   
   The issue is that the V8 JavaScript <code>Date</code> constructor and <code>parse()</code> method will interpret "YYYY-MM-DDTHH:MM:SS" as local time instead of UTC/GMT time as of 2015. This change can be seen in Google's Chrome browser and in node.js (which uses V8). Titanium upgraded to a newer version of V8 on Android as of Titanium 7.0.0, which is why you're now seeing this breaking change.
   
   Unfortunately, Apple's JavaScripCore scripting engine does not have the same behavior and interprets that same datetime string as UTC, not local time. This difference can be seen in the Safari web browser. (It's a bummer I know.)
   
   Now, here's what you can do to make it work on all platforms. According to the ISO-8601 datetime spec, you are supposed to append a capital 'Z' to the end of this datetime string which tells the system to interpret it as UTC, not local time. I've tested this and it works on both Android and iOS.
   <a href="https://www.w3.org/TR/NOTE-datetime" rel="nofollow" target="_blank">https://www.w3.org/TR/NOTE-datetime</a>
   
   For example, try this...
   <code>"2018-02-20T11:30:00Z"</code>
   
   Note that it must be a capital 'Z', not a lowercase 'z'. Apple does not support the lowercase form.</li>
<li>Hans Kn√∂chel 2018-05-05

   Resolving as per previous comments - it is nothing Titanium influences. In case the old behavior should be restored (it was during a major release which expects API's to change in behavior), guidance is given above.</li>
<li>Abir Mukherjee 2018-05-16

   Closing as ticket was resolved (and not Titanium related)</li>
</ol>


<p><a href="/TIMOB/TIMOB-25791.json">JSON Source</a></p>