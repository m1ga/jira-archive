---
title: "[TIMOB-25810] Android: ActionBar height won't resize on screen rotation"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-10-25T14:06:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>ActionBar, actionbar, android, bug, orientation</td></tr>
<tr><th>Reporter</th><td>Guillermo Figueras</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-02-22T10:17:47.000+0000</td></tr>
<tr><th>Updated</th><td>2018-10-25T17:37:58.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
The ActionBar on Android won't resize when the device rotates. 

[As seen in Material Design guidelines](<a href="https://material.io/guidelines/layout/structure.html#structure-app-bar)" rel="nofollow" target="_blank">https://material.io/guidelines/layout/structure.html#structure-app-bar)</a>, when a mobile is on landscape, ActionBar's height is 48dp, while on portrait it's 56dp.

Attached is a video demonstrating the issue.

*Steps to reproduce:*
<h4>Position an Android device in portrait.</h4>
<h4>Build and run a default Classic app project on that Android device.</h4>
<h4>Note the height of the top titlebar.</h4>
<h4>Rotate the device to landscape.</h4>
<h4>Notice the titlebar height does not shrink. _(This is the bug.)_</h4>
<h4>Keep holding the device at landscape and back out of the app.</h4>
<h4>Launch the app in landscape form.</h4>
<h4>Notice that the titlebar height is smaller upon launch.</h4>
<h4>Rotate the device to portrait.</h4>
<h4>Notice that the titlebar height has not increased. _(This is the bug.)_</h4>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25810_64885/bug_height_actionbar_orientation.mov">bug_height_actionbar_orientation.mov</td></td><td>2018-02-22T09:58:23.000+0000</td><td>9355377</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25810_64884/BugHeightActionbar.zip">BugHeightActionbar.zip</td></td><td>2018-02-22T10:17:17.000+0000</td><td>3743835</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Guillermo Figueras 2018-03-15

   By the way, I've noticed this also happens if you use a Toolbar.</li>
<li>Yordan Banev 2018-03-26

   [~gfigueras] This is happening because of the way Titanium is dealing with applications' configuration changes after switching orientation. 
   
   I have some concerns that addressing this may introduce major problems. I will be back at it with update/information once I discuss the matter with the team.  </li>
<li>Joshua Quick 2018-10-18

   A fix for this is needed to calculate the <code>safeAreaPadding</code> (see [TIMOB-26427]).
   Especially for Android P notch support (see [TIMOB-26246]).
   
   The reason is because Google's AppCompat support library incorrectly hardcodes the *inset* height of the top <code>ActionBar</code> to what is defined in their XML instead of reading the actual <code>ActionBar</code> pixel height. This can cause issues with any native Android views which calls the Java [View.setFitsSystemWindows(boolean)](<a href="https://developer.android.com/reference/android/view/View.html#setFitsSystemWindows(boolean))" rel="nofollow" target="_blank">https://developer.android.com/reference/android/view/View.html#setFitsSystemWindows(boolean))</a> set to <code>false</code> because such views will be positioned wrong. This can happen with Titanium's DrawerLayouts which use a <code>Toolbar</code> with "extendBackground" set to <code>true</code>.</li>
<li>Joshua Quick 2018-10-18

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10383" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10383</a></li>
<li>Josh Longton 2018-10-25

   *FR Passed*
   
   Waiting on Jenkins to merge</li>
<li>Keerthi Mahalingam 2018-10-25

   Verified the fix on SDK 7.5.0.v20181025085349. Actionbar works as expected. Closing
   <code><pre>
   Operating System
     Name                        = Mac OS X
     Version                     = 10.13.6
     Architecture                = 64bit
   Node.js
     Node.js Version             = 8.12.0
     npm Version                 = 6.4.1
   Titanium CLI
     CLI Version                 = 5.1.1
   Studio			      =5.1.2.201810080801
   Titanium SDK
     SDK Version                 = 7.5.0.v20181025085349
   Device                         =Samsung s5 Android 6,pixel android 9 
   Emulator			    = Samsung galaxy s6 android 6
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-25810.json">JSON Source</a></p>