---
title: "[TIMOB-25832] Android: Setting Ti.UI.SearchBar \"hintText\" property after creation causes a crash as of 7.0.0"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-04-25T10:28:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SearchBar, android, hintText, regression</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-03-02T19:45:01.000+0000</td></tr>
<tr><th>Updated</th><td>2019-04-25T10:28:10.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
Assigning a string to <code>Ti.UI.SearchBar</code> property "hintText" after it has been created will cause a crash on Android as of Titanium 7.0.0.

*Steps to reproduce:*
<h4>Build and run the below code on Android.</h4>
<h4>Notice the app crashes on startup.</h4>

<code><pre>
var window = Ti.UI.createWindow();
var searchBar = Ti.UI.createSearchBar({
	barColor: "white",
	top: 0,
	width: Ti.UI.FILL,
	height: "50dp",
});
window.add(searchBar);
window.add(Ti.UI.createLabel({ text: "SearchBar Test" }));
window.addEventListener("open", function(e) {
	searchBar.hintText = "Hint Text";
});
window.open();
</pre></code>

*Recommended Fix:*
When Titanium's "TiUIText.java" class reads property <code>PROPERTY_HINT_TYPE</code> via <code>TiConvert.toInt()</code>, the code needs to set the default value to <code>UIModule.HINT_TYPE_STATIC</code> in the following places in the code.
[TiUIText.java#L350](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/src/java/ti/modules/titanium/ui/widget/TiUIText.java#L350)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/src/java/ti/modules/titanium/ui/widget/TiUIText.java#L350)</a>
[TiUIText.java#L924](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/src/java/ti/modules/titanium/ui/widget/TiUIText.java#L924)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/src/java/ti/modules/titanium/ui/widget/TiUIText.java#L924)</a>

*Work-Around 1:*
Set the "hintText" property when creating the <code>SearchBar</code>, but never afterwards.
<code><pre>
var searchBar = Ti.UI.createSearchBar({
	hintText: "Hint Text",
});
</pre></code>

*Work-Around 2:*
Set <code>SearchBar</code> property "hintType" to <code>Ti.UI.HINT_TYPE_STATIC</code>. This is an undocumented feature of <code>SearchBar</code> but it supports on Android since it internally uses <code>Ti.UI.TextField</code> within the <code>SearchBar</code>.
<code><pre>
var window = Ti.UI.createWindow();
var searchBar = Ti.UI.createSearchBar({
	hintType: Ti.UI.HINT_TYPE_STATIC,  // &lt;- This works-around the issue.
});
window.add(searchBar);
window.addEventListener("open", function() {
	searchBar.hintText = "Hint Text";
});
window.open();
</pre></code>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2019-04-13

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10848" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10848</a>
   PR (8.0.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/10849" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10849</a></li>
<li>Keerthi Mahalingam 2019-04-23

   FR Passed. PR merged.</li>
<li>Samir Mohammed 2019-04-25

   Closing ticket, fix verified in SDK version <code>8.1.0.v20190423134840</code> and SDK version <code>8.0.1.v20190423123234</code>. 
   
   Test and other information can be found at: 
   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10848" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10848</a>
   PR (8.0.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/10849" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10849</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-25832.json">JSON Source</a></p>