---
title: "[TIMOB-25833] Android: Support percent based radius for android backgroundGradient"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-03-02T19:54:27.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-03T02:23:17.000+0000</td></tr>
</table>

<h3>Description</h3>

1. Use the code below in your app.js:
<code><pre>
var win1 = Titanium.UI.createWindow({
    title:'Tab 1',
    backgroundColor:'#fff',
    layout: 'vertical'
});
var radialGradient = Ti.UI.createView({
    top: 10,
    width: 100,
    height: 100,
    backgroundGradient: {
        type: 'radial',
        startPoint: { x: 50, y: 50 },
        endPoint: { x: 50, y: 50 },
        colors: [ 'red', 'blue'],
        startRadius: '50%',
        endRadius: 0,
        backfillStart: true
    }
});
win1.add(radialGradient);
win1.open();
</pre></code>

2. Build for android device.
3. After the app launches you do not see the backgroundGradient.
4. Change the startRadius to a number.
5. Rebuild the app for the device.
6. You see the backgroundGradient.

We need to support percent based radius for backgroundGradient.

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2018-03-02

   Note that this is an undocumented feature in Titanium. Currently, <code>startRadius</code> and <code>endRadius</code> are documented to only support the <code>Number</code> type.
   <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Gradient-property-startRadius
   
   The docs would need to be updated to indicate support for <code>Number/String</code>. We also need to clearly indicate what the percentage is relative to or make it settable.
   
   _*Edit:* The sample code documented here shows that <code>startRadius</code> supports a percentage string. This is the only documentation discrepancy I've found._
   <a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.UI.View-property-backgroundGradient
   
   On iOS, this percentage is relative to the distance from the center of the view to the corner. The way iOS is doing it (setting the radius to the view's corner) makes it impossible to draw a circle because it'll be clipped by the view's sides.
   <a href="https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/TiGradient.m#L225" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/iphone/Classes/TiGradient.m#L225</a>
   
   There are 2 major use-cases here:
   <h4>Completely fill the view with a radial gradient effect. In this case, the percent should be relative to one of the corners like iOS is doing it now. {quote}sqrt(width^2, height^2) / 2{quote}</h4>
   <h4>Draw a circle/ring that fills the view with transparency outside the circle. In this case, the percent should be relative to the shortest dimension. {quote}min(width, height) / 2{quote}</h4>
   
   We may want to make this settable so that we can satisfy both cases above.</li>
</ol>


<p><a href="/TIMOB/TIMOB-25833.json">JSON Source</a></p>