---
title: "[TIMOB-25847] iOS: Accessibility support for Dynamic Type"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-01-07T14:41:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>2019-cl</td></tr>
<tr><th>Reporter</th><td>Victor Vazquez Montero</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2018-03-07T17:28:02.000+0000</td></tr>
<tr><th>Updated</th><td>2020-01-07T14:41:44.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Feature Request:</h4>
Trying to use the accessibility options in iOS: Specifically the option to use larger text (Dynamic Type) but the changes are not applied to the app.

Setting the font size to use "sp" as unit identifier for the font size which works on Android but not in iOS. 
font: { 
fontSize: '16sp' 
} 

In the fontSize documentation it says: "iOS ignores any unit specifier after the size value." 

when changing font size in accessibility options the alert dialogs have the font size change but nothing else.

Can we implement Dynamic Type support so that font size is also changed within the app? 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-25847_67149/app.zip">app.zip</td></td><td>2019-11-22T19:10:42.000+0000</td><td>5125641</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Victor Vazquez Montero 2018-03-07

   Hey [~nderzhak] would you be the write person to assign for this? 
   </li>
<li>Hans Knöchel 2018-03-08

   Some notes here:
   * We already support one portion of it - the [textStyle](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Font-property-textStyle) properties that scale automatically
   * Since iOS, native developers can listen to the [<code>UIContentSizeCategoryDidChangeNotification</code>](<a href="https://developer.apple.com/documentation/uikit/uicontentsizecategorydidchangenotification)" rel="nofollow" target="_blank">https://developer.apple.com/documentation/uikit/uicontentsizecategorydidchangenotification)</a> notification that notifies developers about font-size changes. We could expose the same on the Ti.UI.Label namespace, e.g. as an event like this:
   <code><pre>
   Ti.App.iOS.addEventListener('fontchange', function(e) {
     // See size-category with: e.sizeCategory, one of <a href="https://developer.apple.com/documentation/uikit/uicontentsizecategory" rel="nofollow" target="_blank">https://developer.apple.com/documentation/uikit/uicontentsizecategory</a>
   });
   </pre></code>
   * For iOS 10+, iOS started to realize the dynamic font management is bad, so they came up with [<code>adjustsFontForContentSizeCategory</code>](<a href="https://developer.apple.com/documentation/uikit/uicontentsizecategoryadjusting/1771731-adjustsfontforcontentsizecategor?language=objc)" rel="nofollow" target="_blank">https://developer.apple.com/documentation/uikit/uicontentsizecategoryadjusting/1771731-adjustsfontforcontentsizecategor?language=objc)</a> which is a boolean that can be set for each label instead of globally.
   
   Read more about this [here](<a href="https://useyourloaf.com/blog/auto-adjusting-fonts-for-dynamic-type/)" rel="nofollow" target="_blank">https://useyourloaf.com/blog/auto-adjusting-fonts-for-dynamic-type/)</a> and let us know what of these should be implemented.</li>
<li>Hans Knöchel 2018-03-09

   Side-note: It can already be used today, is the <code>textStyle</code> property in the <code>font</code> object is set to <code>Ti.UI.TEXT_STYLE_BODY</code>, e.g.:
   <code><pre>
   var label = Ti.UI.createLabel({
     text: 'Hello World!',
     font: {
       textStyle: Ti.UI.TEXT_STYLE_BODY
     }
   });
   </pre></code>
   After changing the accessibility size in the settings, it will adopt it automatically when reopening the app. And again, make sure to check the [other constants](<a href="http://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/platform/latest/#</a>!/api/Font-property-textStyle) as well - they are meant to cover all kind of native layout sizes, e.g. headline, subtitle, different title sizes, captions and callouts.</li>
<li>Hans Knöchel 2018-03-14

   For using custom fonts with <code>textStyles</code> the iOS 11+ <code>UIFontMetrics</code> API can be used. If you use Hyperloop, the following could be done today:
   <code><pre>
   // Import the native classes
   var UILabel = require('UIKit/UILabel');
   var UIFont = require('UIKit/UIFont');
   var UIFontMetrics = require('UIKit/UIFontMetrics');
   var UIFontTextStyleBody = require('UIKit').UIFontTextStyleBody;
   
   // Cast your Ti.UI.Label to a UILabel
   var myLabel = Ti.UI.createLabel({ text: 'Hello World' });
   var nativeLabel = UILabel.cast(myLabel);
   
   // Create the iOS 11+ font-metrics
   var font = UIFont.fontWithNameSize('<custom-font-name>', 15);
   var fontMetrics = UIFontMetrics.metricsForTextStyle(UIFontTextStyleBody);
   
   // Assign the font-metrics to the native label
   nativeLabel.font = fontMetrics.scaledFontForFont(font);
   </pre></code>
   This could eventually also be done in Titanium, but please note that it would still be iOS 11+ due to the Apple limitations in earlier versions. Road more about the API [here](<a href="https://useyourloaf.com/blog/using-a-custom-font-with-dynamic-type/)." rel="nofollow" target="_blank">https://useyourloaf.com/blog/using-a-custom-font-with-dynamic-type/).</a>
   
   Once approved by product management, we can scope and implement the change.</li>
<li>Vijay Singh 2019-11-22

   PR - <a href="https://github.com/appcelerator/titanium_mobile/pull/11364" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11364</a>
   
   Test Case 1- 
   
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: '#fff'
   });
   
   var label = Ti.UI.createLabel({
      text: 'Hello World!',
     font: {
     	fontFamily: 'American Typewriter',
       textStyle: Ti.UI.TEXT_STYLE_BODY
     }
   });
   
   win.add(label);
   win.open();
   </pre></code>
   
   Test Case 2 -
    Use attached app.zip with new alloy app.
   
   Steps to test - 
   1. Launch the app. See the font type and text size.
   2. Close app.
   3. Open Settings->Accessibility->Display & Text Size-> Large Text. Increase text size from slider.
   4. Open app. See the font type and text size. It should vary.</li>
<li>Satyam Sekhri 2019-12-16

   FR Passed. Waiting on Jenkins build.</li>
<li>Christopher Williams 2019-12-18

   merged to master for 9.0.0</li>
<li>Samir Mohammed 2020-01-07

   Closing ticket, fix verified in SDK version <code>9.0.0.v20200103081513</code>. 
   
   Test and other information can be found at:
   <a href="https://github.com/appcelerator/titanium_mobile/pull/11364" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11364</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-25847.json">JSON Source</a></p>