---
title: "[TIMOB-25849] Android: openPhotoGallery - width and height = 0 in 7.1.0 RC"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-03-08T23:01:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.1.0, Release 7.0.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>7.1.0RC, android, regression</td></tr>
<tr><th>Reporter</th><td>Luc-Edmond Gaspard </td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2018-03-08T04:22:31.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-14T18:00:35.000+0000</td></tr>
</table>

<h3>Description</h3>

After choosing a photo from the gallery, e.media.width and e.media.height are set to 0 in the success callback. Theses values were available in 7.0.2 and before.

<code><pre>
var win = Ti.UI.createWindow();

var button = Ti.UI.createButton({
    title: "open gallery",        
});

button.addEventListener("click", function(){
    Ti.Media.openPhotoGallery({
        mediaTypes: [Titanium.Media.MEDIA_TYPE_PHOTO],
        success: function(e) {
            var msg = "media.width: " + e.media.width
                + "\nmedia.height: " + e.media.height
                + "\nmedia.length: " + e.media.length
                + "\nmedia.mimeType: " + e.media.mimeType
                + "\nmedia.nativePath: " + e.media.nativePath;
            alert(msg);
        },
        error: function(e) {
            alert('Error opening image: ' + e.error);
        }
    });
});
win.add(button);
win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Mostafizur Rahman 2018-03-08

   Hello [~gaspard.le],
   
   Thanks for sharing this. Do you experience this on all android devices or specific one? </li>
<li>Luc-Edmond Gaspard  2018-03-08

   All the ones I tested. Emulator, Galaxy S5 ,Galaxy S8, Moto G.</li>
<li>Gary Mathews 2018-03-08

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/9918" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9918</a>
   7_1_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/9919" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9919</a></li>
<li>Lokesh Choudhary 2018-03-08

   FR Passed.
   PR's merged.</li>
<li>Lokesh Choudhary 2018-03-14

   Verified the fix in SDK 7.1.0.v20180308150545 & 7.2.0.v20180313125304.
   
   Closing.
   
   Studio Ver:     5.0.0.201712081732
   OS Ver:         10.13.2
   Xcode Ver:      Xcode 9.2
   Appc NPM:       4.2.12
   Appc CLI:       7.0.2
   Daemon Ver:     1.0.1
   Ti CLI Ver:     5.0.14
   Alloy Ver:      1.11.0
   Node Ver:       8.9.1
   NPM Ver:        5.5.1
   Java Ver:       1.8.0_101
   Devices:        ⇨ google Nexus 5 --- Android 6.0.1
                   ⇨ google Nexus 6P --- Android 8.0.0</li>
</ol>


<p><a href="/TIMOB/TIMOB-25849.json">JSON Source</a></p>