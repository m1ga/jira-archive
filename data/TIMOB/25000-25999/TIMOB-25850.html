---
title: "[TIMOB-25850] iOS: SearchBar doesn't show Bookmark button when set on creation in TableView"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-08-24T17:30:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-7.1.0</td></tr>
<tr><th>Reporter</th><td>Eric Wieber</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2018-03-08T20:48:57.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-24T17:30:48.000+0000</td></tr>
</table>

<h3>Description</h3>

When showBookmark is set to true on creation of the searchbar and it is in a TableView, the bookmark button does not show.

*Steps to reproduce issue*
1. Create a new project with the below code
2. Run the project

*Expected Results*
The searchbar has the bookmark button shown

*Actual Results*
The searchbar does not have the bookmark button shown

*Notes*
The bookmark button can be toggled to show it, but the toggle has to be tapped twice, since it thinks it is being shown.
Also, if you just create a searchbar with showBookmark = true, then the button will show. Having the searchbar in the tableview does not show the bookmark button.

*Code*
Classic:
<code><pre>
var win = Ti.UI.createWindow();

var searchBar = Titanium.UI.createSearchBar({
    showBookmark: true
});

var table = Ti.UI.createTableView({
    data: [{
        title: "Toggle Bookmark button"
    }],
    search: searchBar
});

table.addEventListener('click', function(e){
	searchBar.showBookmark = !searchBar.showBookmark;
});

win.add(table);
win.open();
</pre></code>

Alloy:
index.xml
<code><pre>
&lt;Alloy&gt;
  &lt;Window&gt;
    &lt;TableView&gt;
      &lt;SearchBar id="search" showBookmark="true"/&gt;
      &lt;TableViewRow onClick="toggle" title="Toggle bookmark button"/&gt;
    &lt;/TableView&gt;
  &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

index.js:
<code><pre>
function toggle() {
	$.search.showBookmark = !$.search.showBookmark;
}

$.index.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Vijay Singh 2018-03-13

   PR - <a href="https://github.com/appcelerator/titanium_mobile/pull/9932" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9932</a>
   
   Test Case - 
   
   
   <code><pre>
   var win = Ti.UI.createWindow();
    
   var searchBar = Titanium.UI.createSearchBar({
       showBookmark: true,
       hintText: 'Search text',
       hintTextColor: 'red',
       showCancel: true,
       color : 'blue',
       keyboardType:  Ti.UI.KEYBOARD_TYPE_NUMBER_PAD,
   });
    
   var table = Ti.UI.createTableView({
       data: [{
           title: "Toggle Bookmark button"
       }],
       search: searchBar
   });
    
   table.addEventListener('click', function(e){
   	searchBar.showBookmark = !searchBar.showBookmark;
   });
    
   win.add(table);
   win.open();
   </pre></code>
   
   *EDIT* - Changes of this PR is included in PR of TIMOB-25866. </li>
<li>Samir Mohammed 2018-07-19

   *Closing ticket*, Verified fix in SDK Version: <code>7.4.0.v20180717131401</code>
   
   *FR Passed (Test Steps):*
   
   <h4>Created a titanium Application</h4>
   <h4>Added the following code above in to the app.js</h4>
   <h4>Ran the program</h4>
   <h4>Able to see Bookmark button on creation </h4>
   <h4>Pressed the toggle button</h4>
   <h4>Able to see the bookmark toggle on/off</h4>
   
   *Test Environment*
   <code><pre>
   APPC Studio: 5.0.0.201712081732
   APPC CLI: 7.0.4
   iPhone 6 simulator (11.2)
   Operating System Name: Mac OS High Sierra
   Operating System Version: 10.13
   Node.js Version: 8.9.1
   Xcode 9.2
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-25850.json">JSON Source</a></p>