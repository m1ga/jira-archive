---
title: "[TIMOB-25877] Android: "Ti.Platform.ostype" wrongly returns "32bit" on a 64-bit OS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-11-19T18:41:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>analytics, android, architecture</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2018-03-17T02:48:29.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-19T18:41:25.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
The <code>Ti.Platform.ostype</code> property is currently hardcoded to return "32bit" on Android.
[APSAnalyticcsHelper.java#L235](<a href="https://github.com/appcelerator/aps_sdk/blob/195633dd10a37d96ecf52be35c0c712dff5ef331/android/analytics/APSAnalytics/src/main/java/com/appcelerator/aps/APSAnalyticsHelper.java#L235)" rel="nofollow" target="_blank">https://github.com/appcelerator/aps_sdk/blob/195633dd10a37d96ecf52be35c0c712dff5ef331/android/analytics/APSAnalytics/src/main/java/com/appcelerator/aps/APSAnalyticsHelper.java#L235)</a>

Now that Titanium supports building Android apps for ARM64, it should return "64bit" when running on a 64-bit Android device like how it works for iOS here...
[APSUtility.m#L15](<a href="https://github.com/appcelerator/aps_sdk/blob/195633dd10a37d96ecf52be35c0c712dff5ef331/ios/support/analytics/APSAnalytics/APSUtility.m#L15)" rel="nofollow" target="_blank">https://github.com/appcelerator/aps_sdk/blob/195633dd10a37d96ecf52be35c0c712dff5ef331/ios/support/analytics/APSAnalytics/APSUtility.m#L15)</a>

*Steps to Reproduce:*
<h4>Build an run the below code on a 64-bit Android device, such as a Pixel XL phone.</h4>
<h4>Observe the log for an "ostype:" entry.</h4>

<code><pre>
Ti.API.info("@@@ ostype: " + Ti.Platform.ostype);
</pre></code>

*Note:*
We had to do something similar for iOS as can be seen here: [TIMOB-18193]

*Recommended Solution:*
Check if array returned by <code>android.os.Build.SUPPORTED_64_BIT_ABIS</code> contains at least 1 element.
<a href="https://developer.android.com/reference/android/os/Build.html#SUPPORTED_64_BIT_ABIS" rel="nofollow" target="_blank">https://developer.android.com/reference/android/os/Build.html#SUPPORTED_64_BIT_ABIS</a>

Note that Google added 64-bit support as of Android 5.0 (aka: API Level 21). So, you can't use Google's <code>Process.is64Bit()</code> method since it is only supported on Android 6.0 and higher.
<a href="https://developer.android.com/reference/android/os/Process.html#is64Bit()" rel="nofollow" target="_blank">https://developer.android.com/reference/android/os/Process.html#is64Bit()</a>


<h3>Comments</h3>

<ol>
<li>Gary Mathews 2018-04-19

   aps_sdk: <a href="https://github.com/appcelerator/aps_sdk/pull/314" rel="nofollow" target="_blank">https://github.com/appcelerator/aps_sdk/pull/314</a></li>
<li>Joshua Quick 2018-08-29

   [~gmathews], this is done, right? I can see that it was already merged.</li>
</ol>


<p><a href="/TIMOB/TIMOB-25877.json">JSON Source</a></p>