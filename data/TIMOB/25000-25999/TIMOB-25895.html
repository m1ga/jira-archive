---
title: "[TIMOB-25895] Windows: Rename HAL"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-04-05T00:26:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.1.1, Hyperloop 3.0.4</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Kota Iguchi</td></tr>
<tr><th>Assignee</th><td>Abir Mukherjee</td></tr>
<tr><th>Created</th><td>2018-03-22T12:30:37.000+0000</td></tr>
<tr><th>Updated</th><td>2018-05-16T23:37:55.000+0000</td></tr>
</table>

<h3>Description</h3>

Apparently Microsoft starts rejecting our <code>HAL.DLL</code> in WACK (Windows Apps Certification Kit) just because Windows system has <code>HAL.DLL</code> in system library. We need to rename it in order to pass the cert.

<code><pre>
I had the same issue and i wrote to Microsoft in order to discover what was the real problem and i finally find out: the problem is that the app package includes the HAL.dll library which has unfortunately the name of a Windows system library, so they told me to rename it if it is a different library because the current WACK (Windows Apps Certification Kit) which now is used for the store certification doesn’t accept it.
The reason why the local WACK certification doesn’t detect this problem is that the new WACK is not yet available, it will be released with the next Windows update.
Conclusion: i think the HAL library needs to be renamed.
</pre></code>


<h3>Comments</h3>

<ol>
<li>Ewan Harris 2018-03-23

   [~emerriman] [~amukherjee] I think this is something we should get into 7.1.1 if we can. What do you think [~kiguchi]?
   </li>
<li>Kota Iguchi 2018-03-24

   [~eharris] I have mixed feeling about this. Internally this is a major change regarding DLL linkage and this will require all modules re-compiled using new DLL. This will require new <code>apiversion</code> in modules and I would think this is a breaking change so theoretically this should go for major release. I would also think this is not a regression in our side but this is caused by a "bug" in new Microsoft review system and the people who don't submit to Store (such as users who develop/deploy apps locally/directly to the device) are not affected by this. I think Appcelerator have experienced similar cases before on iOS/Android platform (such as store rejection that requires major changes) I guess, how did we treat them, did we push the major changes in minor release in that cases?
   </li>
<li>Kota Iguchi 2018-03-24

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1213" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1213</a>
   <a href="https://github.com/appcelerator/titanium_mobile/pull/9956" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9956</a>
   </li>
<li>Kota Iguchi 2018-03-26

   Modules need re-compiled, targeting 7.1.1.
   
   <a href="https://github.com/appcelerator-archive/ti.paint/pull/29" rel="nofollow" target="_blank">https://github.com/appcelerator-archive/ti.paint/pull/29</a>
   <a href="https://github.com/appcelerator-modules/ti.xaml.listview/pull/4" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.xaml.listview/pull/4</a>
   <a href="https://github.com/appcelerator/hyperloop.next/pull/277" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/277</a></li>
<li>Kota Iguchi 2018-03-26

   For 7_1_X branch;
   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1214" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1214</a>
   <a href="https://github.com/appcelerator/titanium_mobile/pull/9958" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9958</a>
   </li>
<li>Ewan Harris 2018-03-26

   [~kiguchi] Thanks for the clarification, I definitely overlooked how breaking this would be. I'm not sure how we've handled changes like this in the past ([~emerriman] do you have any recollection of things like this?). It's a rock and a hard place situation</li>
<li>Kota Iguchi 2018-04-02

   Update: we already have nightly build for this fix;
   
   <code><pre>
   appc ti sdk install --branch 7_1_X 7.1.1.v20180329233702
   </pre></code></li>
<li>Kota Iguchi 2018-04-02

   Modules needs to be updated in order to add 7.1.1 compatibility.
   
   <a href="https://github.com/appcelerator-archive/ti.paint/releases/tag/windows-3.1.0" rel="nofollow" target="_blank">https://github.com/appcelerator-archive/ti.paint/releases/tag/windows-3.1.0</a>
   <a href="https://github.com/appcelerator-modules/ti.xaml.listview/releases/tag/v1.1.0" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.xaml.listview/releases/tag/v1.1.0</a>
   <a href="https://github.com/appcelerator-modules/hyperloop-builds/releases/tag/v3.0.4-beta.1" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/hyperloop-builds/releases/tag/v3.0.4-beta.1</a>
   </li>
<li>Josh Longton 2018-04-05

   *FR passed.*
   
   <code>HAL.dll</code> has now been renamed to <code>AXWAYHAL.dll</code>
   
   *ENV*
   
   {noformat}
   Windows 10 Pro (1709)
   Appc NPM: 4.2.13-2
   Appc SDK: 7.1.1.v20180329233702
   Hyperloop 3.0.4
   Ti.paint 3.1.0
   Appc CLI:7.0.3-master.27
   Node Ver: 8.9.1
   NPM Ver: 5.7.1
   {noformat}
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-25895.json">JSON Source</a></p>