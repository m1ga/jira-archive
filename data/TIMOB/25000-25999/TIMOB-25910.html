---
title: "[TIMOB-25910] Android: Memory leak when using TextFields in TableView rows"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-06-19T13:45:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2018-03-28T11:48:07.000+0000</td></tr>
<tr><th>Updated</th><td>2018-07-09T20:21:10.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Reproduce steps</h4>
1. Run the attached simple Alloy app. (Just an Alloy project that opens a modal window which has a TableView with rows containing Textfields. )
2. Click the "Open Window" 
3. Hit the Android "back" button to dismiss the window with the tableview textfield rows 
4. Repeat steps 2 & 3 repeatedly until you start seeing messages such as the following: 
<code><pre>
[INFO] : zygote64: Background concurrent copying GC freed 302993(13MB) AllocSpace objects, 31(496KB) LOS objects, 44% free, 30MB/54MB, paused 214us total 258.736ms
</pre></code>
Attached screenshot for that as well.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25910_65005/index.js">index.js</td></td><td>2018-03-28T11:49:51.000+0000</td><td>140</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25910_65003/index.xml">index.xml</td></td><td>2018-03-28T11:49:42.000+0000</td><td>100</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25910_65006/ListViewPage.js">ListViewPage.js</td></td><td>2018-03-28T11:49:52.000+0000</td><td>260</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25910_65004/ListViewPage.xml">ListViewPage.xml</td></td><td>2018-03-28T11:49:42.000+0000</td><td>95</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25910_65002/MemLeak3.png">MemLeak3.png</td></td><td>2018-03-28T11:48:06.000+0000</td><td>523047</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Shuo Liang 2018-04-06

   Any update?</li>
<li>Ingo Muschenetz 2018-05-23

   [~sliang] What is the customer name here?</li>
<li>Gary Mathews 2018-05-23

   This is not a memory leak, the messages are routine logs from the GC after doing a cleanup.
   
   If after running for some time, the customers app crashes with an <code>Out of memory</code> exception, then I would consider that a memory leak or mismanagement of memory.</li>
<li>Shuo Liang 2018-05-24

   [~gmathews]
   
   Using the example code and repeat 2&3 steps, the app will crash eventually. It might take 5 -10 mins to repeat those steps. 
   but customer confirmed that app will crash for sure. </li>
<li>Gary Mathews 2018-05-29

   *TEST CASE*
   <code><pre>
   const root = Ti.UI.createWindow({ backgroundColor: 'gray' }),
         btn = Ti.UI.createButton({ title: 'OPEN TABLE WINDOW' });
   
   btn.addEventListener('click', () =&gt; {
       const win = Ti.UI.createWindow({ backgroundColor: 'red' }),
             tableView = Ti.UI.createTableView();
   
       let rows = [];
   
       for (let i = 0; i &lt; 64; i++) {
       	const row = Ti.UI.createTableViewRow();
       	const textField = Ti.UI.createTextField();
   
       	row.add(textField);
       	rows.push(row);
       }
   
       tableView.data = rows;
   
       win.add(tableView);
       win.open();
   });
   
   root.add(btn);
   root.open();
   </pre></code></li>
<li>Gary Mathews 2018-05-30

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/10081" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10081</a></li>
<li>Gary Mathews 2018-06-01

   Here's the builds for <code>7_1_0</code>
   <a href="https://jenkins.appcelerator.org/blue/organizations/jenkins/titanium-sdk%2Ftitanium_mobile/detail/7_1_0-TIMOB-25910/3/artifacts" rel="nofollow" target="_blank">https://jenkins.appcelerator.org/blue/organizations/jenkins/titanium-sdk%2Ftitanium_mobile/detail/7_1_0-TIMOB-25910/3/artifacts</a></li>
<li>Lokesh Choudhary 2018-07-09

   Verified the fix in SDK 7.4.0.v20180709112648 & 7.3.0.v20180703051211.
   Closing.
   
   Studio Ver:     5.1.0.201806291005
   OS Ver:         4.2.13
   Xcode Ver:      7.0.4
   Appc NPM:       1.1.3
   Appc CLI:       10.13.5
   Daemon Ver:     Xcode 9.4.1
   Ti CLI Ver:     5.1.1
   Alloy Ver:      1.12.0
   Node Ver:       8.9.1
   NPM Ver:        5.5.1
   Java Ver:       1.8.0_131
   Devices:        ⇨ google Nexus 5 --- Android 6.0.1
                   ⇨ google Nexus 6P --- Android 8.1.0
   Emulator:       ⇨ Android 4.1.2
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-25910.json">JSON Source</a></p>