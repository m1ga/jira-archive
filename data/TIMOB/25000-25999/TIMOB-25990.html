---
title: "[TIMOB-25990] Android apps crash when trying to add views to Titanium.Media.VideoPlayer objects if fullscreen property is set to true."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-07-26T23:50:27.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.3.0, Release 7.2.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>Android, VideoPlayer</td></tr>
<tr><th>Reporter</th><td>Aminul Islam</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2018-04-25T18:42:18.000+0000</td></tr>
<tr><th>Updated</th><td>2018-07-26T23:50:34.000+0000</td></tr>
</table>

<h3>Description</h3>

Android apps crash when trying to add views to Titanium.Media.VideoPlayer objects if fullscreen property is set to true. The sample code in the documentation exhibits the crash (see snippet under Android Fullscreen Video Player here, <a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Media.VideoPlayer). 

See attached for example project. When the block that adds the closeButton is removed there is no crash.

<code><pre>
[INFO] :   APSAnalyticsService: Stopping Analytics Service
[WARN] :   MediaPlayer: Couldn't open file on client side; trying server side: java.io.FileNotFoundException: No content provider: <a href="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" rel="nofollow" target="_blank">http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4</a>
[INFO] :   MediaPlayer: It's not a proxy project.
[ERROR] :  TiApplication: (main) [109667,109667] Sending event: exception on thread: main msg:java.lang.ClassCastException: ti.modules.titanium.media.TiVideoActivity cannot be cast to org.appcelerator.titanium.TiBaseActivity; Titanium 7.1.0,2018/03/14 13:40,undefined
[ERROR] :  TiApplication: java.lang.ClassCastException: ti.modules.titanium.media.TiVideoActivity cannot be cast to org.appcelerator.titanium.TiBaseActivity
[ERROR] :  TiApplication:  at org.appcelerator.titanium.proxy.TiViewProxy.handleGetView(TiViewProxy.java:562)
[ERROR] :  TiApplication:  at org.appcelerator.titanium.proxy.TiViewProxy.getOrCreateView(TiViewProxy.java:549)
[ERROR] :  TiApplication:  at org.appcelerator.titanium.proxy.TiViewProxy.realizeViews(TiViewProxy.java:593)
[ERROR] :  TiApplication:  at ti.modules.titanium.media.VideoPlayerProxy.setVideoViewFromActivity(VideoPlayerProxy.java:136)
[ERROR] :  TiApplication:  at ti.modules.titanium.media.VideoPlayerProxy.access$200(VideoPlayerProxy.java:51)
[ERROR] :  TiApplication:  at ti.modules.titanium.media.VideoPlayerProxy$1.handleMessage(VideoPlayerProxy.java:224)
[ERROR] :  TiApplication:  at android.os.Handler.dispatchMessage(Handler.java:98)
[ERROR] :  TiApplication:  at android.os.Looper.loop(Looper.java:168)
[ERROR] :  TiApplication:  at android.app.ActivityThread.main(ActivityThread.java:5885)
[ERROR] :  TiApplication:  at java.lang.reflect.Method.invoke(Native Method)
[ERROR] :  TiApplication:  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:797)
[ERROR] :  TiApplication:  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:687)
</pre></code>

Environment:
<code><pre>
Operating System
  Name                        = Microsoft Windows 10 Pro
  Version                     = 10.0.16299
  Architecture                = 32bit
  # CPUs                      = 4
  Memory                      = 17091956736
Node.js
  Node.js Version             = 8.9.1
  npm Version                 = 5.5.1
Titanium CLI
  CLI Version                 = 5.0.14
Titanium SDK
  SDK Version                 = 7.1.0.GA
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-25990_65087/test-android-fullscreen.zip">test-android-fullscreen.zip</td></td><td>2018-04-25T18:44:26.000+0000</td><td>5542361</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2018-05-15

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/10048" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10048</a></li>
<li>Samir Mohammed 2018-05-17

   FR Passed, Waiting on Jenkins build to merge.</li>
<li>Samir Mohammed 2018-06-11

   Closing ticket. Fix can be seen in SDK Version: 7.3.0.v20180607210411
   
   Test and other information can be found at: 
   <a href="https://github.com/appcelerator/titanium_mobile/pull/10048" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10048</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-25990.json">JSON Source</a></p>