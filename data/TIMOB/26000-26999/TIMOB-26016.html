---
title: "[TIMOB-26016] iOS 11: Expose \"showsBackgroundLocationIndicator\" property on Ti.Geolocation"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-05-19T13:46:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.1.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.3.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>demo_app, geolocation</td></tr>
<tr><th>Reporter</th><td>Emmanuel Francis</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2018-05-06T04:49:59.000+0000</td></tr>
<tr><th>Updated</th><td>2018-06-21T17:51:42.000+0000</td></tr>
</table>

<h3>Description</h3>

Is this flag showsBackgroundLocationIndicator in Ti.Geolocation available?

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26016_65150/Bildschirmfoto 2018-05-09 um 17.00.24.png">Bildschirmfoto 2018-05-09 um 17.00.24.png</td></td><td>2018-05-10T07:43:03.000+0000</td><td>1072683</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26016_65280/Screen Shot 2018-06-21 at 18.47.59.png">Screen Shot 2018-06-21 at 18.47.59.png</td></td><td>2018-06-21T17:50:28.000+0000</td><td>1526873</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2018-05-06

   Currently not, but it should be easy to implement for iOS 11+. Not sure if Android has something related that could be used for parity.</li>
<li>Emmanuel Francis 2018-05-06

   Hyperloop helped for now
   var CLLocationManager = require('CoreLocation/CLLocationManager');
   CLLocationManager.showsBackgroundLocationIndicator = true/false;</li>
<li>Hans Knöchel 2018-05-09

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/10034" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10034</a>
   
   Test-case:
   <code><pre>
   /*
   
   Required plist entries:
   
   	&lt;key&gt;UIBackgroundModes&lt;/key&gt;
   	&lt;array&gt;
   		&lt;string&gt;location&lt;/string&gt;
       &lt;/array&gt;
       
       &lt;!-- For iOS 11+, you need "Always and When in Use" even when requesting "Always" --&gt;
       &lt;key&gt;NSLocationAlwaysAndWhenInUseUsageDescription&lt;/key&gt;
       &lt;string&gt;Can we access your location?&lt;/string&gt;
       
       &lt;!-- Required for general background location monitoring --&gt;
   	&lt;key&gt;NSLocationAlwaysUsageDescription&lt;/key&gt;
   	&lt;string&gt;Can we always access your location&lt;/string&gt;
       
       &lt;!-- For iOS 11+, you need "Always and When in Use" even when requesting "Always" --&gt;
       &lt;key&gt;NSLocationWhenInUseUsageDescription&lt;/key&gt;
   	&lt;string&gt;Can we access your location when using the app?&lt;/string&gt;
   
   */
   
   Ti.Geolocation.showBackgroundLocationIndicator = true;
   
   Ti.Geolocation.addEventListener('location', function(e) {
       Ti.API.info(e);
   })
   
   var win = Ti.UI.createWindow({
       backgroundColor: '#fff'
   });
   
   var btn = Ti.UI.createButton({
       title: 'Start location updates'
   });
   
   btn.addEventListener('click', function() {
       if (!Ti.Geolocation.hasLocationPermissions(Ti.Geolocation.AUTHORIZATION_ALWAYS)) {
           Ti.Geolocation.requestLocationPermissions(Ti.Geolocation.AUTHORIZATION_ALWAYS, function (e) {
               if (!e.success) {
                   Ti.API.error('Permissions denied!');
                   return;
               } else {
                   updatePosition();
               }
           });
       } else {
           updatePosition();
       }
   });
   
   win.add(btn);
   win.open();
   
   function updatePosition() {
       Ti.Geolocation.getCurrentPosition(function (e) {
           Ti.API.info(e);
       });
   }
   </pre></code></li>
<li>Samir Mohammed 2018-06-21

   *Closing ticket*. New feature can be seen in SDK Version: <code>7.3.0.v20180618182516</code>
   
   *FR (Passed) Test Steps:*
   <h4>Created an application using the code above</h4>
   <h4>Ran the program</h4>
   <h4>Accepted all required permissions </h4>
   <h4>Pressed <code>Start Location Updates</code></h4>
   <h4>Minimised the application </h4>
   <h4>Able to see <code>showsBackgroundLocationIndicator</code></h4>
    !Screen Shot 2018-06-21 at 18.47.59.png|thumbnail! 
   
   *Test Environment*
   <code><pre>
   APPC Studio: 5.0.0.201712081732
   APPC CLI: 7.0.4
   iphone 6 11.2 emulator
   Operating System Name: Mac OS High Sierra
   Operating System Version: 10.13
   Node.js Version: 8.9.1
   Xcode 9.2
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-26016.json">JSON Source</a></p>