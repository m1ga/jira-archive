---
title: "[TIMOB-26035] Android: Application freezes when using \"useSpinner\" in Ti.UI.Picker"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 7.1.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Gilberto Lopez Velazco</td></tr>
<tr><th>Assignee</th><td>Abir Mukherjee</td></tr>
<tr><th>Created</th><td>2018-05-11T19:52:04.000+0000</td></tr>
<tr><th>Updated</th><td>2018-05-16T21:58:11.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to Reproduce</h4>
Create a picker in android project

<h4>Actual Result</h4>
When using the Picker element we are receiving the following warning:"PickerProxy: the useSpinner property is deprecated, see the documentation for more information". At any time we are establishing this property and it is causing the application to freeze

<h4>Expected Result</h4>
--

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26035_65153/.log">.log</td></td><td>2018-05-11T19:52:19.000+0000</td><td>4132455</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26035_65154/diagnostic6285184800303355054.log">diagnostic6285184800303355054.log</td></td><td>2018-05-11T19:52:34.000+0000</td><td>341548</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Abir Mukherjee 2018-05-11

   [~lchoudhary] Can you please see if you can reproduce with GA components?</li>
<li>Lokesh Choudhary 2018-05-11

   [~amukherjee], I am not able to reproduce the issue. I see no app freeze.
   Used the code below:
   <code><pre>
   Ti.UI.backgroundColor = 'white';
   var win = Ti.UI.createWindow({
     exitOnClose: true,
     layout: 'vertical'
   });
   
   var picker = Ti.UI.createPicker({
   	useSpinner: true,
     top:50
   });
   
   var data = [];
   data[0]=Ti.UI.createPickerRow({title:'Bananas'});
   data[1]=Ti.UI.createPickerRow({title:'Strawberries'});
   data[2]=Ti.UI.createPickerRow({title:'Mangos'});
   data[3]=Ti.UI.createPickerRow({title:'Grapes'});
   
   picker.add(data);
   picker.selectionIndicator = true;
   
   win.add(picker);
   win.open();
   
   // must be after picker has been displayed
   picker.setSelectedRow(0, 2, false); // select Mangos
   </pre></code>
   
   Studio Ver:     5.1.0.201804230827
   SDK Ver:        7.1.1.GA
   OS Ver:         10.13.4
   Xcode Ver:      Xcode 9.3
   Appc NPM:       4.2.13
   Appc CLI:       7.0.3
   Daemon Ver:     1.1.1
   Ti CLI Ver:     5.1.0
   Alloy Ver:      1.12.0
   Node Ver:       8.9.1
   NPM Ver:        5.5.1
   Java Ver:       10
   Devices:        ⇨ google Nexus 6P --- Android 8.1.0
                   ⇨ google Nexus 5 --- Android 6.0.1
   Emulator:       ⇨ Android 4.1.2
   </li>
<li>Abir Mukherjee 2018-05-11

   [~glvelazco] do you have testcode or a test case we may use to reproduce the issue you see?</li>
<li>Joshua Quick 2018-05-16

   If I set the picker type to <code>Ti.UI.PICKER_TYPE_DATE_AND_TIME</code>, then the app will hang on Android and the following warning will be logged...
   <code><pre>
   [WARN] :   PickerProxy: Date+Time timer not supported in Titanium for Android
   </pre></code>
   
   For example:
   <code><pre>
   var window = Ti.UI.createWindow();
   var picker = Ti.UI.createPicker({
   	type: Ti.UI.PICKER_TYPE_DATE_AND_TIME,
   });
   window.add(picker);
   window.open();
   </pre></code>
   
   [~glvelazco], is this what you're doing?</li>
<li>Gilberto Lopez Velazco 2018-05-16

   That is not what he is doing. I have a form that we need 5 pickers each with 100 numerical data. When the application is generated, I receive the warning "PickerProxy: the useSpinner property is deprecated, check the documentation for more information", but the useSpinner property is never set, the warning is cycled and the application freezes.
   The data is like this : [100,105,110, .... ]</li>
<li>Joshua Quick 2018-05-16

   [~glvelazco], we still can't reproduce this issue. I've tried the below which creates 5 pickers, each containing 200 rows. It doesn't hang. The app runs fine.
   
   <code><pre>
   function createPicker() {
   	var maxItems = 200;
   	var rows = new Array(maxItems);
   	for (var index = 0; index &lt; maxItems; index++) {
   		rows[index] = Ti.UI.createPickerRow({ title: index.toString() });
   	}
   	var picker = Ti.UI.createPicker({
   		top: "40dp",
   		width: "50%",
   //		useSpinner: true,
   		useSpinner: false,
   	});
   	picker.add(rows);
   	return picker;
   }
   
   var window = Ti.UI.createWindow({ layout: "vertical" });
   window.add(createPicker());
   window.add(createPicker());
   window.add(createPicker());
   window.add(createPicker());
   window.add(createPicker());
   window.open();
   </pre></code>
   
   Note that you will get a "useSpinner property is deprecated" warning message if <code>useSpinner</code> is set <code>false</code> as well. To avoid this message, simply omit the <code>useSpinner</code> property since it defaults to <code>false</code> anyways. That said, I think the <code>useSpinner</code> warning message is a red herring and not the cause of your issue.
   
   Can you provide us a reproducible test case please?
   
   </li>
<li>Gilberto Lopez Velazco 2018-05-16

   I will try this, it is difficult to show how it is happening unless I send you a video</li>
<li>Gilberto Lopez Velazco 2018-05-16

   As a comment, this did not happen before updating appcelerator</li>
<li>Joshua Quick 2018-05-16

   If you comment out the picker, then does the issue go away?
   I say this because I suspect something else is the cause here. The logged warning message may be sending us on a wild goose chase.
   
   Are you updating a UI from the same UI's "change" event, which might cause it to be put into an infinite loop? I've tried this with a picker (select a different item within a picker's "change" event), but picker's don't have this issue. You may want to add logging messages in your listeners to isolate where the infinite loop is happening. That's the best advise I can give. Other than that, we're at a loss on how to reproduce your issue.</li>
<li>Gilberto Lopez Velazco 2018-05-16

    Exactly! Comment on the part where the selector is shown works correctly.
    
    Added screenshots.
    
    [without picker](<a href="https://drive.google.com/open?id=1cW0areq9QF9TE8_OT7yP5M7bcyXojOCI)" rel="nofollow" target="_blank">https://drive.google.com/open?id=1cW0areq9QF9TE8_OT7yP5M7bcyXojOCI)</a>
    [with pickers](<a href="https://drive.google.com/open?id=1XbnKn8JMbyt-mCglEFerQqrkAZdksGie)" rel="nofollow" target="_blank">https://drive.google.com/open?id=1XbnKn8JMbyt-mCglEFerQqrkAZdksGie)</a>
    [with pickers, 4 minutes later](<a href="https://drive.google.com/open?id=1pY_tiiprSh-wUFFwD58Y-YljfMUosRuG)" rel="nofollow" target="_blank">https://drive.google.com/open?id=1pY_tiiprSh-wUFFwD58Y-YljfMUosRuG)</a></li>
<li>Joshua Quick 2018-05-16

    Okay. I see you're using Alloy. Can you give us the XML you're using to set up the window and its pickers? Any code to go with it?
    
    At the moment, we can't reproduce your issue.
    And nobody else (as far as we've seen) is having this issue either.
    We need something or else we won't be able to help you.
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-26035.json">JSON Source</a></p>