---
title: "[TIMOB-26040] onActivityResult dont called"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Hyperloop</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Yanko Valera</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2018-02-06T17:30:58.000+0000</td></tr>
<tr><th>Updated</th><td>2018-05-15T09:13:25.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm launching Google Fit permissions window but once the user has accepted there's no way know the result, onActivityResult is never called.

Here is my code

<code><pre>
   var windowActivity = new Activity(activity);

    windowActivity.onActivityResult = function(requestCode, resultCode, intent) {
        console.log("result: " + requestCode);
    };

    if (!GoogleSignIn.hasPermissions(GoogleSignIn.getLastSignedInAccount(windowActivity), fitnessOptions)) {
        GoogleSignIn.requestPermissions(
            windowActivity,
            REQUEST_OAUTH_REQUEST_CODE,
            GoogleSignIn.getLastSignedInAccount(windowActivity),
            fitnessOptions
        );
    } else {
        //google fit ready to access
    }
</pre></code>

No error happens, it's just being ignored

Environment: SDK7.0.1, Hyperloop 3.0.1/3.0.2. Google Play Fitness API 11.8.0. Testing in Google Nexus 5X running Android 8.1.0 let me know if you need more details


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26040_64822/googlefittest.zip">googlefittest.zip</td></td><td>2018-02-07T21:34:22.000+0000</td><td>5183082</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2018-02-06

   Hello, Please provide a full reproducible code/sample project that we can use to reproduce the issue. Thanks.</li>
<li>Yanko Valera 2018-02-07

   </li>
<li>Sharif AbuDarda 2018-02-07

   Hello, Please attach the sample code here and details steps to follow for successful reproduction. Also, your environment details are missing. Please provide. Thanks.</li>
<li>Yanko Valera 2018-02-07

   Environment details are in description: Environment: SDK7.0.1, Hyperloop 3.0.1/3.0.2. Google Play Fitness API 11.8.0. Testing in Google Nexus 5X running Android 8.1.0 let me know if you need more details
   
   Code attached, to reproduce just run the app, it'll show the google auth window, and returning should trigger the onActivityResult for the Activity but it's not working.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26040.json">JSON Source</a></p>