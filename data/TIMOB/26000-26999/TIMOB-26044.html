---
title: "[TIMOB-26044] Android: Time picker \"value\" property does not retain assigned year/month/day like iOS"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, engReviewed, parity, picker</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-05-16T01:39:25.000+0000</td></tr>
<tr><th>Updated</th><td>2019-05-21T16:55:06.000+0000</td></tr>
</table>

<h3>Description</h3>

{color:red}After thinking about it, perhaps this behavior is okay. If you want the year/month/day parts preserved, then you should be using the <code>Ti.UI.PICKER_TYPE_DATE_AND_TIME</code> type. Especially since one problem with preserving the date in a <code>Ti.UI.PICKER_TYPE_TIME</code> is it has a daylight savings time issue where 2 AM cannot be selected on a spring-forward day (such as 2018/03/11), which is currently the case for both Android and iOS. This behavior would be okay in a date-time picker, but perhaps not in a time-only picker.{color}

*Summary:*
A <code>Ti.UI.Picker</code> of type <code>PICKER_TYPE_TIME</code> does not retain the originally assigned year, month, day, and seconds assigned to its <code>value</code> property. The date returned by <code>value</code> is always set to the current date (this is wrong), with the hour and minute components set to what's selected in the picker (this last part is fine).

On iOS, all other date components (year, month, day, seconds) are preserved. Android should do the same.

*Test:*
<h4>Build and run the below code on Android.</h4>
<h4>Tap the "Get Selected Time" button.</h4>
<h4>An alert dialog displays the picker's current date and time. Note that the date is set to current day instead of the hardcoded 2018/01/01.</h4>

<code><pre>
var window = Ti.UI.createWindow();
var picker = Ti.UI.createPicker({
	type: Ti.UI.PICKER_TYPE_TIME,
	value: new Date(2018, 0, 1, 12),
});
window.add(picker);
var button = Ti.UI.createButton({
	title: "Get Selected Time Value",
	bottom: "20dp",
});
button.addEventListener("click", function(e) {
	var date = picker.value;
	var dialog = Ti.UI.createAlertDialog({
		title: "Selected Time",
		message: date.toString(),
	});
	dialog.show();
});
window.add(button);
window.open();
</pre></code>

*Note:*
This is an issue with Titanium's "TiUITimeSpinner" Java class...
[TiUITimeSpinner.java](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/src/java/ti/modules/titanium/ui/widget/picker/TiUITimeSpinner.java)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/modules/ui/src/java/ti/modules/titanium/ui/widget/picker/TiUITimeSpinner.java)</a>

*Work-Around:*
You can extract the hour and minute selected from the picker and recreate a date object with the correct time like this...
<code><pre>
var originalDate = new Date(2018, 0, 1, 12);
picker.value = originalDate;
picker.addEventListener("change", function(e) {
	var newDate = new Date(originalDate.getTime());
	newDate.setHours(picker.value.getHours());
	newDate.setMinutes(picker.value.getMinutes());
});
</pre></code>


<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-26044.json">JSON Source</a></p>