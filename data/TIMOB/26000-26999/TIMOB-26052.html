---
title: "[TIMOB-26052] iOS: ImageView within ListVIew with defaultImage and load event"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 8.0.0, Release 7.1.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>engSchedule, imageView, ios, listview</td></tr>
<tr><th>Reporter</th><td>Sergey Volkov</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2018-05-15T11:50:15.000+0000</td></tr>
<tr><th>Updated</th><td>2019-04-16T16:18:20.000+0000</td></tr>
</table>

<h3>Description</h3>

There are six cases about ImageView with remote image in attached file:
1. image could be cached: ImageView is not resized on first load, but resized correctly when loaded from cache
2. image always loaded from remote server (just to show difference with previous)
3. image could be cached: wrapper view is not resized to imageView size on first load, but resized correctly when loaded from cache
4. image always loaded from remote server (just to show difference with previous)
5. image could be cached: load event fired only on first load, when image is loaded from cache - *+application crashed+*
6. image always loaded from remote server (just to show difference with previous)

Case 5 result on second run:
{noformat}
[ERROR] *** -[__NSDictionaryM setObject:forKey:]: object cannot be nil (key: section)
[ERROR] Script Error {
[ERROR]     column = 11;
[ERROR]     line = 251;
[ERROR]     message = "*** -[__NSDictionaryM setObject:forKey:]: object cannot be nil (key: section)";
[ERROR]     sourceURL = "file:///Users/volkov/Library/Developer/CoreSimulator/Devices/B051A778-9061-4413-9386-5B605E2C60BA/data/Containers/Bundle/Application/205D7705-E4E7-4214-B526-D761104274BB/timob19523.app/app.js";
[ERROR] } 
[ERROR] The application has crashed with an uncaught exception 'NSInvalidArgumentException'.
[ERROR] Reason:
[ERROR] *** -[__NSDictionaryM setObject:forKey:]: object cannot be nil (key: section)
[ERROR] Stack trace:
[ERROR] 0   CoreFoundation                      0x0000000114da41b3 __exceptionPreprocess + 147
[ERROR] 1   libobjc.A.dylib                     0x0000000114025f41 objc_exception_throw + 48
[ERROR] 2   CoreFoundation                      0x0000000114de3e8c _CFThrowFormattedException + 194
[ERROR] 3   CoreFoundation                      0x0000000114cb8b91 -[__NSDictionaryM setObject:forKey:] + 929
[ERROR] 4   timob19523                          0x000000010ca823aa -[TiUIListItemProxy overrideEventObject:forEvent:fromViewProxy:] + 362
[ERROR] 5   timob19523                          0x000000010c843af9 -[TiViewProxy fireEvent:withObject:propagate:reportSuccess:errorCode:message:] + 297
[ERROR] 6   timob19523                          0x000000010c8e21eb -[TiProxy fireEvent:withObject:] + 139
[ERROR] 7   timob19523                          0x000000010c8ca7f8 -[TiUIImageViewProxy propagateLoadEvent:] + 408
[ERROR] 8   timob19523                          0x000000010c8cd5e2 -[TiUIImageView fireLoadEventWithState:] + 66
[ERROR] 9   timob19523                          0x000000010c8cf81a -[TiUIImageView loadUrl:] + 2090
[ERROR] 10  timob19523                          0x000000010c8d05f5 -[TiUIImageView setImage_:] + 677
[ERROR] 11  timob19523                          0x000000010c8de03e __DoProxyDelegateChangedValuesWithProxy_block_invoke.54 + 46
[ERROR] 12  timob19523                          0x000000010c920afd TiThreadPerformOnMainThread + 77
[ERROR] 13  timob19523                          0x000000010c8ddf36 DoProxyDelegateChangedValuesWithProxy + 838
[ERROR] 14  timob19523                          0x000000010c86b8c4 -[TiUIView propertyChanged:oldValue:newValue:proxy:] + 68
[ERROR] 15  timob19523                          0x000000010c8e3a9a -[TiProxy replaceValue:forKey:notification:] + 1082
[ERROR] 16  timob19523                          0x000000010c8cb3d2 -[TiUIImageViewProxy setImage:] + 114
[ERROR] 17  Foundation                          0x000000010e8601e3 -[NSObject(NSKeyValueCoding) setValue:forKey:] + 292
[ERROR] 18  timob19523                          0x000000010ca80cce __28-[TiUIListItem setDataItem:]_block_invoke_3 + 46
[ERROR] 19  timob19523                          0x000000010ca813db -[TiUIListItem recordChangeValue:forKeyPath:withBlock:] + 571
[ERROR] 20  timob19523                          0x000000010ca80c93 __28-[TiUIListItem setDataItem:]_block_invoke_2 + 387
[ERROR] 21  CoreFoundation                      0x0000000114d28f72 -[__NSDictionaryM enumerateKeysAndObjectsWithOptions:usingBlock:] + 226
[ERROR] 22  timob19523                          0x000000010ca80add __28-[TiUIListItem setDataItem:]_block_invoke.277 + 381
[ERROR] 23  CoreFoundation                      0x0000000114d28f72 -[__NSDictionaryM enumerateKeysAndObjectsWithOptions:usingBlock:] + 226
[ERROR] 24  timob19523                          0x000000010ca7fdc8 -[TiUIListItem setDataItem:] + 2872
[ERROR] 25  timob19523                          0x000000010ca940bd -[TiUIListView tableView:heightForRowAtIndexPath:] + 653
[ERROR] 26  UIKit                               0x000000010efcacb5 -[UITableView _dataSourceHeightForRowAtIndexPath:] + 106
[ERROR] 27  UIKit                               0x000000010f275970 __66-[UISectionRowData refreshWithSection:tableView:tableViewRowData:]_block_invoke + 333
[ERROR] 28  UIKit                               0x000000010f275178 -[UISectionRowData refreshWithSection:tableView:tableViewRowData:] + 3090
[ERROR] 29  UIKit                               0x000000010f27b385 -[UITableViewRowData rectForFooterInSection:heightCanBeGuessed:] + 487
[ERROR] 30  UIKit                               0x000000010f27b4eb -[UITableViewRowData heightForTable] + 61
[ERROR] 31  UIKit                               0x000000010ef7870b -[UITableView _updateContentSize] + 372
[ERROR] 32  UIKit                               0x000000010ef9fba4 -[UITableView setTableHeaderView:] + 479
[ERROR] 33  timob19523                          0x000000010ca887fe __33-[TiUIListView proxyDidRelayout:]_block_invoke + 302
[ERROR] 34  libdispatch.dylib                   0x0000000115f82273 _dispatch_call_block_and_release + 12
[ERROR] 35  libdispatch.dylib                   0x0000000115f832b5 _dispatch_client_callout + 8
[ERROR] 36  libdispatch.dylib                   0x0000000115f8d496 _dispatch_main_queue_callback_4CF + 1260
[ERROR] 37  CoreFoundation                      0x0000000114d66ef9 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
[ERROR] 38  CoreFoundation                      0x0000000114d2b662 __CFRunLoopRun + 2402
[ERROR] 39  CoreFoundation                      0x0000000114d2aa89 CFRunLoopRunSpecific + 409
[ERROR] 40  GraphicsServices                    0x0000000117bee9c6 GSEventRunModal + 62
[ERROR] 41  UIKit                               0x000000010ee62d30 UIApplicationMain + 159
[ERROR] 42  timob19523                          0x000000010c802274 main + 100
[ERROR] 43  libdyld.dylib                       0x0000000115ff7d81 start + 1
[ERROR] 44  ???                                 0x0000000000000001 0x0 + 1
{noformat}


related to TIMOB-19523

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26052_65167/1.1.jpeg">1.1.jpeg</td></td><td>2018-05-15T11:40:48.000+0000</td><td>33200</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26052_65166/1.2.jpeg">1.2.jpeg</td></td><td>2018-05-15T11:40:53.000+0000</td><td>127288</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26052_65165/2.jpeg">2.jpeg</td></td><td>2018-05-15T11:43:07.000+0000</td><td>33214</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26052_65164/3.1.jpeg">3.1.jpeg</td></td><td>2018-05-15T11:46:18.000+0000</td><td>37683</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26052_65163/3.2.jpeg">3.2.jpeg</td></td><td>2018-05-15T11:46:19.000+0000</td><td>129306</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26052_65162/4.jpeg">4.jpeg</td></td><td>2018-05-15T11:46:20.000+0000</td><td>37683</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26052_65161/5.jpeg">5.jpeg</td></td><td>2018-05-15T11:46:24.000+0000</td><td>496652</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26052_65168/app.js">app.js</td></td><td>2018-05-15T12:17:26.000+0000</td><td>5373</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Alberto Marcone 2019-04-11

   any way of fixing this? we'd been wondering for a long while if it was something wrong on our code, but apparently it's not.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26052.json">JSON Source</a></p>