---
title: "[TIMOB-26063] iOS: Implement WebView.onlink callback"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-07-28T15:44:51.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Victor Vazquez Montero</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2018-05-23T17:38:01.000+0000</td></tr>
<tr><th>Updated</th><td>2018-10-09T17:09:04.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>description</h4>
Costumer is attempting to load a pdf for android using intents with webview. 
in the mobile app they are using webview control for displaying the remote web site by binding a URL. The web pages in the web site contains few pdf links. On click of normal hyperlinks, respective web page is being shown in the web view. Whereas, on tapping a pdf links, a blank window is getting opened in Android devices. In iOS it’s working fine and a PDF is showing.

Per Jira WebView cannot disply PDF documents on Android. So they are using intents as a workaround to open the PDF link. The issue is that on click of the pdf link in the web view, they are unable to get the exact PDF url with any of Titanium WebView API methods or events

The customer was able to do it natively and open the PDF's with intents. 

<h4>Request</h4>
The customer wants to know how to get the exact PDF link using the webview API or if there is a workaround they could use.

<h4>additional information </h4>
attached are two apps. One is a titanium app and one is an android native application.
[titanium app](<a href="https://axwaysoftware-my.sharepoint.com/personal/vvazquezmontero_axway_com/_layouts/15/guestaccess.aspx?guestaccesstoken=rsxSxfm51VH5t8MRm7YpDX1bHDfJfDfaycmtpKrlAEE%3d&docid=2_11a957eab95234b6ab84003e12f7b0b41&rev=1)" rel="nofollow" target="_blank">https://axwaysoftware-my.sharepoint.com/personal/vvazquezmontero_axway_com/_layouts/15/guestaccess.aspx?guestaccesstoken=rsxSxfm51VH5t8MRm7YpDX1bHDfJfDfaycmtpKrlAEE%3d&docid=2_11a957eab95234b6ab84003e12f7b0b41&rev=1)</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26063_65198/app.js">app.js</td></td><td>2018-05-23T17:38:02.000+0000</td><td>826</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26063_65197/app (1).js">app (1).js</td></td><td>2018-05-23T17:38:02.000+0000</td><td>826</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26063_65196/MyApplication_Android.zip">MyApplication_Android.zip</td></td><td>2018-05-23T17:38:02.000+0000</td><td>947392</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2018-07-16

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/10180" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10180</a>
   
   Test-Case:
   <code><pre>
   var window = Ti.UI.createWindow(),
       webView = Ti.UI.createWebView({
           url: '<a href="https://india.gov.in/website-ministry-commerce-and-industry" rel="nofollow" target="_blank">https://india.gov.in/website-ministry-commerce-and-industry</a>',
           onlink: function(e) {
               if (e.url.endsWith('.pdf')) {
                   alert('PDF: ' + e.url);
                   return false;
               }
               return true;
           }
       });
   
   window.add(webView);
   window.open();
   </pre></code></li>
<li>Samir Mohammed 2018-09-11

   Verified fix with SDK version <code>7.5.0.v20180906093938.</code> Able to get the exact link of a PDF when clicking on a link. 
   
   *FR Passed (Test Steps):*
   <h4>Created a new Titanium application</h4>
   <h4>Added the code above in to the application</h4>
   <h4>Installed app on to the device</h4>
   <h4>Ran the app</h4>
   <h4>Clicked on a .PDF link </h4>
   <h4>able to see the exact link of the PDF which was clicked</h4>
   
   *Environment*
   <code><pre>
   APPC Studio:  5.1.0.201808080937
   APPC CLI: 7.0.6
   iphone 6 (12.0)
   Operating System Name: Mac OS High Sierra
   Operating System Version: 10.13.6
   Node.js Version: 8.9.1
   Xcode 10.0 beta 6
   </pre></code>
   </li>
<li>Keerthi Mahalingam 2018-10-09

   Verified the fix on SDK 7.5.0.v20181005164109. PDF link works fine. Closing
   {CODE}
   Operating System
     Name                        = Mac OS X
     Version                     = 10.13.6
     Architecture                = 64bit
   Node.js
     Node.js Version             = 8.9.1
     npm Version                 = 5.5.1
   Titanium CLI
     CLI Version                 = 5.1.1
   Titanium SDK
     SDK Version                 =7.5.0.v20181005164109
   Device			      =Iphone 62 iOS 12
   					iPhone 6 iOS 11 simulator
   {CODE}</li>
</ol>


<p><a href="/TIMOB/TIMOB-26063.json">JSON Source</a></p>