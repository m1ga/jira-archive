---
title: "[TIMOB-26109] Xcode 10: Cannot build modules with the new (default) build system"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-07-16T09:52:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>applebug, new-build-system, xcode10</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2018-06-07T17:11:10.000+0000</td></tr>
<tr><th>Updated</th><td>2018-09-27T21:03:58.000+0000</td></tr>
</table>

<h3>Description</h3>

When using Xcode 10 and the new build system, which is now default, the linked core-classes (TiProxy.h, TiBase.h, ..) cannot be found anymore. I opened a [Radar](<a href="https://openradar.appspot.com/radar?id=5621620265713664)" rel="nofollow" target="_blank">https://openradar.appspot.com/radar?id=5621620265713664)</a> for this.

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2018-06-08

   Talked to the Apple engineers during WWDC. It is an actual bug in the new build system and they are handling it. The related radar I filed is <a href="https://openradar.appspot.com/40906817" rel="nofollow" target="_blank">https://openradar.appspot.com/40906817</a></li>
<li>Hans Knöchel 2018-06-20

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/10123" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10123</a></li>
<li>Hans Knöchel 2018-07-16

   [~cbarber] After being in dialog with Apple, I found a better solution that actually fixes the issue while running the new build system: We simply need the <code>-scheme</code> argument passed to the <code>xcodebuild clean</code> command and it will work like magic. Setting up a PR now.
   
   *EDIT*: Permanent fix for this is added as part of TIMOB-25226.</li>
<li>Christopher Williams 2018-08-27

   cherry picked fix to 7_4_X branch: <a href="https://github.com/appcelerator/titanium_mobile/commit/5694af1348fd49a2e6c22f135968bfccc76a2425" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/5694af1348fd49a2e6c22f135968bfccc76a2425</a></li>
<li>Samir Mohammed 2018-09-03

   *Closing ticket.* Verified fix in SDK version <code>7.4.0.v20180829013317</code> and <code>7.5.0.v20180829030547</code>. Able to create a new module and then build it with the new default build system. 
   
   *Environment*
   <code><pre>
   APPC CLI: 7.0.6
   Operating System Name: Mac OS High Sierra
   Operating System Version: 10.13.6
   Node.js Version: 8.9.1
   Xcode 10.0 beta 6
   </pre></code>
   </li>
<li>alejandro_capel 2018-09-27

   Hi ,
   
   I have reproduced the error again. I don´t know the reason, this is my log. Its seems all its ok. Any ideas?
   
   Thanks in advance.
   
   2018-9-27 22:48:21
   
   Operating System
     Name                        = Mac OS X
     Version                     = 10.13.6
     Architecture                = 64bit
     # CPUs                      = 8
     Memory                      = 8589934592
   
   Node.js
     Node.js Version             = 9.2.1
     npm Version                 = 5.5.1
   
   Titanium CLI
     CLI Version                 = 5.1.1
   
   Titanium SDK
     SDK Version                 = 7.4.0.GA
     SDK Path                    = /Users/user1/Library/Application Support/Titanium/mobilesdk/osx/7.4.0.GA
     Target Platform             = iphone
   
   Command
     /Users/user1/.nvm/versions/node/v9.2.1/bin/node /Users/user1/.appcelerator/install/7.0.6/package/node_modules/titanium/lib/titanium.js build --platform ios --log-level trace --sdk 7.4.0.GA --project-dir /Users/user1/Documents/app  --target simulator --ios-version 12.0 --device-family universal --deploy-type development --device-id 53FAF1A3-224E-4BE5-8315-7D04DA01E8BE --skip-js-minify --no-colors --no-progress-bars --no-prompt --prompt-type socket-bundle --prompt-port 49199 --config-file /var/folders/jq/rlqcc3v10_9_y__l4fsmjvkh0000gn/T/build-1538081291744.json --no-banner --project-dir /Users/user1/Documents/app
   
   [TRACE]  [ioslib] Validating iOS Simulator UDID 53FAF1A3-........
   [TRACE]  [ioslib] Found iOS Simulator UDID 53FAF1A3.........
   [TRACE]  [ioslib] Selected iOS Simulator: iPhone 6
   [TRACE]  [ioslib]   UDID    = 53FAF1A3-...........
   [TRACE]  [ioslib]   iOS     = 12.0
   
   
   error:
   
   [INFO] :   Cleaning Xcode derived data
   [ERROR] :  note: Using new build system
   [ERROR] :  error: Could not delete <code>/Users/user1/Documents/app/build/iphone/build</code> because it was not created by the build system and it is not a subfolder of derived data.
   [ERROR] :  ** CLEAN FAILED **
   
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-26109.json">JSON Source</a></p>