---
title: "[TIMOB-26148] Add support for \"android.intent.action.SEND_MULTIPLE\" in android intent filters."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>android, images, intent-filter, intents, share</td></tr>
<tr><th>Reporter</th><td>Muhammad Qasim</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2018-05-31T10:26:51.000+0000</td></tr>
<tr><th>Updated</th><td>2018-06-22T09:15:54.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently Titanium SDK only supports receiving single shared image using sharing intent and intent-filters. I couldn't find any way to receive multiple images from shared intent EXTRA_STRAM. It would be good if Titanium support this feature.

Steps to reproduce:

1. Follow this guide to setup intent filters show our app in share dialog: [<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/guide/Android_Intent_Filters](<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/guide/Android_Intent_Filters)

2. Add the following intent filter to the main activity inside manifest section in tiapp.xml:

<code><pre>
&lt;intent-filter&gt;
	&lt;data android:mimeType="image/*"/&gt;
	&lt;category android:name="android.intent.category.DEFAULT"/&gt;
	&lt;action android:name="android.intent.action.SEND_MULTIPLE"/&gt;
&lt;/intent-filter&gt;
</pre></code>

3. Add this code to index.js to get shared images from launchIntent:

<code><pre>
if(OS_ANDROID){
	var launchIntent = Ti.App.Android.launchIntent;
	var extra;
	if(launchIntent.hasExtra(Ti.Android.EXTRA_STREAM) && (extra = launchIntent.getBlobExtra(Ti.Android.EXTRA_STREAM))){
	    console.log('Recieved external image in intent',extra);
	}
}
</pre></code>

4. Run the project and once app is launched open gallery application.
5. Select multiple images and tap share button.
6. From share dialog select our Titanium app.

Actual result:
Nothing happens except the following warning in console:

<code><pre>
[WARN] :   Bundle: Key android.intent.extra.STREAM expected Parcelable but value was a java.util.ArrayList.  The default value &lt;null&gt; was returned.
[WARN] :   Bundle: Attempt to cast generated internal exception:
[WARN] :   Bundle: java.lang.ClassCastException: java.util.ArrayList cannot be cast to android.os.Parcelable
[WARN] :   Bundle: 	at android.os.Bundle.getParcelable(Bundle.java:810)
[WARN] :   Bundle: 	at org.appcelerator.titanium.proxy.IntentProxy.getBlobExtra(IntentProxy.java:379)
[WARN] :   Bundle: 	at org.appcelerator.kroll.runtime.v8.V8Object.nativeFireEvent(Native Method)
[WARN] :   Bundle: 	at org.appcelerator.kroll.runtime.v8.V8Object.fireEvent(V8Object.java:62)
[WARN] :   Bundle: 	at org.appcelerator.kroll.KrollProxy.doFireEvent(KrollProxy.java:936)
[WARN] :   Bundle: 	at org.appcelerator.kroll.KrollProxy.handleMessage(KrollProxy.java:1159)
[WARN] :   Bundle: 	at org.appcelerator.titanium.proxy.TiViewProxy.handleMessage(TiViewProxy.java:363)
[WARN] :   Bundle: 	at org.appcelerator.titanium.proxy.TiWindowProxy.handleMessage(TiWindowProxy.java:116)
[WARN] :   Bundle: 	at dk.napp.drawer.DrawerProxy.handleMessage(DrawerProxy.java:96)
[WARN] :   Bundle: 	at android.os.Handler.dispatchMessage(Handler.java:107)
[WARN] :   Bundle: 	at android.os.Looper.loop(Looper.java:179)
[WARN] :   Bundle: 	at android.app.ActivityThread.main(ActivityThread.java:5537)
[WARN] :   Bundle: 	at java.lang.reflect.Method.invoke(Native Method)
[WARN] :   Bundle: 	at java.lang.reflect.Method.invoke(Method.java:372)
[WARN] :   Bundle: 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:955)
[WARN] :   Bundle: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:750)
</pre></code>

Expected Result:
The app should receive array of images from launch intent and print the array on console.

This link can be helpful in implementing this feature:  [<a href="https://stackoverflow.com/questions/13378108/androidselecting-multiple-images-in-gallery-and-starting-implicit-intent" rel="nofollow" target="_blank">https://stackoverflow.com/questions/13378108/androidselecting-multiple-images-in-gallery-and-starting-implicit-intent</a>](<a href="https://stackoverflow.com/questions/13378108/androidselecting-multiple-images-in-gallery-and-starting-implicit-intent)" rel="nofollow" target="_blank">https://stackoverflow.com/questions/13378108/androidselecting-multiple-images-in-gallery-and-starting-implicit-intent)</a>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2018-06-02

   Hello, Can you please share native docs on this feature? Our engineers will look into it. Thanks.</li>
<li>Sharif AbuDarda 2018-06-19

   Hello [~appsol], We can't move this ticket you if don't provide the sufficient information that is needed. Please share the native docs on this feature. Thanks.</li>
<li>Muhammad Qasim 2018-06-20

   @Sharif AbuDarda The StackOverFlow link I attached has an example. Here is the link to native docs that has an example of *ACTION_SEND_MULTIPLE*: [<a href="https://developer.android.com/training/sharing/receive" rel="nofollow" target="_blank">https://developer.android.com/training/sharing/receive</a>](<a href="https://developer.android.com/training/sharing/receive)" rel="nofollow" target="_blank">https://developer.android.com/training/sharing/receive)</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-26148.json">JSON Source</a></p>