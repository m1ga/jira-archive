---
title: "[TIMOB-26221] iOS : ScrollView content scrolling vertically in bigger iPads when using percent-based layout"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Done</td></tr>
<tr><th>Resolution Date</th><td>2018-07-20T14:53:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Riduanul Islam</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2018-07-20T13:24:49.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-06T17:34:44.000+0000</td></tr>
</table>

<h3>Description</h3>

Hello,

The customer is using the scrollView with Horizontal layout and adding the required UI elements to a main view and adding it back to the actual scrollview. Even after fixing the height of scrollView equal to that of main view inside it, its still scrolling vertically which is not an expected behaviour. 

The sample code to replicate the issue in iPAD pro 12.9 inch (2nd generation) and other bigger iPAD's. 

*Sample code:*
<code><pre>
var window = Ti.UI.createWindow();

var osname = Ti.Platform.osname;
function pixelsToDipUnits(pixels) {
	if ((osname === 'iphone') || (osname === 'ipad')) {
		return pixels;
	}
	if (Titanium.Platform.displayCaps.dpi &gt; 160)
		return (pixels / (Titanium.Platform.displayCaps.dpi / 160));
	else
		return pixels;
};
Ti.App.PLATFORM_HT = pixelsToDipUnits(Ti.Platform.displayCaps.platformHeight);
Ti.App.PLATFORM_WD = pixelsToDipUnits(Ti.Platform.displayCaps.platformWidth);

var scrollView = Ti.UI.createScrollView({
	height : 0.09 * Ti.App.PLATFORM_HT,
	top : 8,
	verticalBounce : false,
	width : Ti.UI.FILL,
	layout : 'horizontal',
	bubbleParent : false,
	borderColor : 'green',
	backgroundColor : 'white',
	scrollType : 'horizontal'
});
for (var i = 0; i &lt; 10; i++) {
	var mainSubView = Ti.UI.createView({
		height : 0.09 * Ti.App.PLATFORM_HT,
		backgroundColor : 'white',
		width : 0.22 * Ti.App.PLATFORM_WD,
		borderColor : 'red'
	});
	var subView = Ti.UI.createView({
		width : 0.22 * Ti.App.PLATFORM_WD,
		layout : 'vertical',
		height : Ti.UI.SIZE,
		borderColor : 'blue'
	});

	subView.add(Ti.UI.createImageView({
		image : '/clock.png',
		touchEnabled : false,
		height : Ti.UI.SIZE
	}));

	mainSubView.add(subView);
	scrollView.add(mainSubView);
}
window.add(scrollView);
window.open();
</pre></code>

*Test Environment:*
Appcelerator Command-Line Interface, version 7.0.4
SDK: 7.2.0.GA, 7.1.1 GA
iOS device: iPAD pro 12.9 inch (2nd generation)

Thanks

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26221_65366/clock.png">clock.png</td></td><td>2018-07-20T13:24:24.000+0000</td><td>2048</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26221_65368/TIMOB-26221.mp4">TIMOB-26221.mp4</td></td><td>2018-07-20T14:06:23.000+0000</td><td>261140</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2018-07-20

   It works fine for me, no vertical scrolling occurs. See the video attached. Using iOS 11.4 and Xcode 9.4.
   
   *EDIT*: That was on a 9.7" one. I can reproduce it on a 12.9" one, which leads me to the thought that the scale factor and/or dpi's may be different and therefore need to be respected in calculating the height.</li>
<li>Hans Knöchel 2018-07-20

   Ok, found the issue - and not really an issue. The problem is that iOS is not really the biggest friend of percentage based calculations (does not support it), but we do. But if a percentage based calculation results in a floating number (in this case 122.94), it cannot pass it to the layout system properly and uses CGSizeZero instead. 
   
   Long story short, you just need to round the number and it works fine, e.g. <code>Math.ceil(0.09 * Ti.App.PLATFORM_HT)</code>.</li>
<li>Eric Merriman  2018-08-06

   Closed as completed. If this is in error, please reopen.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26221.json">JSON Source</a></p>