---
title: "[TIMOB-26250] Android: Allow activity "android:launchMode" attribute to be set in "tiapp.xml""
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-08-03T00:11:08.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>activity, android, build, xml</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-08-02T01:38:40.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-03T18:23:34.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
In Titanium 6.1.0, our build tools ignore the activity "android:launchMode" setting in "tiapp.xml" and log the following build warning. This was to avoid confusion over how Google's "singleTask" feature works and to favor Titanium's "intent-filter-new-task" property instead.
<code><pre>
[WARN] : android:launchMode should not be used. Ignoring definition from <ActivityName>
</pre></code>

We should change the behavior to allow developers to set "android:launchMode" again, but keep the build warning. Some developers already know how to deal with the repercussions of the "singleTask" setting where all child activity windows are automatically closed upon app resume.

*Test:*
<h4>Add the below Android xml settings to your "tiapp.xml" file.</h4>
<h4>In the XML, change the <code><activity></code> element's "name" attribute's <code><ProjectName></code> part to the name of your Titanium project where only the 1st letter is capitalized. (Ex: "MyProject" would become "Myproject".)</h4>
<h4>Build the application for Android.</h4>
<h4>Note the build warning that appears regarding "android:launchMode".</h4>

*tiapp.xml*
<code><pre>
<?xml version="1.0" encoding="UTF-8"?>
<ti:app xmlns:ti="<a href="http://ti.appcelerator.org" rel="nofollow" target="_blank">http://ti.appcelerator.org</a>">
	<android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">
		<manifest>
			<application>
				<activity android:name=".<ProjectName>Activity" android:launchMode="singleTask">
					<intent-filter>
						<action android:name="android.intent.action.MAIN"/>
						<category android:name="android.intent.category.LAUNCHER"/>
					</intent-filter>
				</activity>
			</application>
		</manifest>
	</android>
</ti:app>
</pre></code>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2018-08-02

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10225" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10225</a>
   PR (7.3.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/10226" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10226</a>
   
   The PR for master includes sample code on how to deal with the "singleTask" launch mode.</li>
<li>Lokesh Choudhary 2018-08-03

   FR Passed. PR's merged.</li>
<li>Lokesh Choudhary 2018-08-03

   Verified the fix in SDK 7.4.0.v20180803013445 & 7.3.0.v20180803101103.
   
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26250.json">JSON Source</a></p>