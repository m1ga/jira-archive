---
title: "[TIMOB-26267] LiveView: Calling "liveview server stop" causes exception, but stops connections"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-06-11T14:11:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.1.0</td></tr>
<tr><th>Components</th><td>LiveView</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hans Kn√∂chel</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2018-08-04T14:20:45.000+0000</td></tr>
<tr><th>Updated</th><td>2020-06-11T14:11:39.000+0000</td></tr>
</table>

<h3>Description</h3>

When using <code>liveview server stop</code> to stop all connections, the following error occurs:
<code><pre>
[LiveView]  Closing file/event server process id: 39542
 [LiveView]  Error closing server { Error: kill ESRCH
    at Object._errnoException (util.js:992:11)
    at process.kill (internal/process.js:183:18)
    at /Users/hknoechel/Documents/dev/liveview/lib/fserver.js:97:12
    at Array.forEach (&lt;anonymous&gt;)
    at Object.FServer.stop (/Users/hknoechel/Documents/dev/liveview/lib/fserver.js:92:7)
    at Object.&lt;anonymous&gt; (/Users/hknoechel/Documents/dev/liveview/bin/liveview-server:45:25)
    at Module._compile (module.js:652:30)
    at Object.Module._extensions..js (module.js:663:10)
    at Module.load (module.js:565:32)
    at tryModuleLoad (module.js:505:12) code: 'ESRCH', errno: 'ESRCH', syscall: 'kill' }
</pre></code>
It seems to error out, but after checking with <code>liveview server status</code>, they have been killed properly.

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2018-08-04

   Liveview doesn't always clean up after itself properly, so the liveview process will be killed but the pid file will not be removed which causes an ESRCH error (no such process). We should squash those errors so they don't get logged. 
   
   I'd love to do a refactor on the liveview command line before it sees any proper usage, it's kinda crufty right now. Personally I wouldn't view changing the commands as a breaking change we've never advertised them for usage (due to shipping in Studio), with shipping in the appc cli/as a separate module they will be part of our "API contract" so we should do it before the transition happens.</li>
<li>Ewan Harris 2018-08-07

   PR: <a href="https://github.com/appcelerator/liveview/pull/115" rel="nofollow" target="_blank">https://github.com/appcelerator/liveview/pull/115</a></li>
<li>Samir Mohammed 2020-06-11

   </li>
</ol>


<p><a href="/TIMOB/TIMOB-26267.json">JSON Source</a></p>