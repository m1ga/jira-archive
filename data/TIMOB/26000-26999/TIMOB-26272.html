---
title: "[TIMOB-26272] Android: Building 7_3_X from source fails due to Android NDK error"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2018-08-08T18:31:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.3.1</td></tr>
<tr><th>Components</th><td>Android, CLI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hans Kn√∂chel</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-08-07T12:49:40.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-13T17:33:16.000+0000</td></tr>
</table>

<h3>Description</h3>

Not sure why, but building 7_3_X locally with <code>node scons.js cleanbuild</code> currently failed. Initially reported by [~rlustemberg] [via Slack](<a href="https://ti-slack.slack.com/archives/C1BT2PKU3/p1533645190000091)" rel="nofollow" target="_blank">https://ti-slack.slack.com/archives/C1BT2PKU3/p1533645190000091)</a>, I was just able to reproduce it.

*EDIT*: It may be because of a recent Android Studio update, because it tries to build with API 14?! I have 26 and 27 installed.
<code><pre>
[exec] Android NDK: Found platform level in /Users/hknoechel/Documents/titanium_mobile/android/runtime/v8/project.properties. Setting APP_PLATFORM to android-10.
[exec] Android NDK: android-10 is unsupported. Using minimum supported version android-14.
[exec] Android NDK: WARNING: APP_PLATFORM android-14 is higher than android:minSdkVersion 13 in /Users/hknoechel/Documents/titanium_mobile/android/runtime/v8/AndroidManifest.xml. NDK binaries will *not* be compatible with devices older than android-14. See <a href="https://android.googlesource.com/platform/ndk/+/master/docs/user/common_problems.md" rel="nofollow" target="_blank">https://android.googlesource.com/platform/ndk/+/master/docs/user/common_problems.md</a> for more information.
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26272_65417/log.txt">log.txt</td></td><td>2018-08-07T12:52:17.000+0000</td><td>332575</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2018-08-07

   Right. Setting the target to 10 is too low.
   
   The Android NDK built "project.properties" files should have their "target" changed to the min API Level we support, which is 16. This tells the Android NDK system which version of Android system .so libraries to link with.</li>
<li>Joshua Quick 2018-08-08

   We've isolated the issue. We need to back-port the following to 7.3.1. That'll solve it.
   <a href="https://github.com/appcelerator/titanium_mobile/commit/9efc6658510979171cad22fe17d84fd8e172db65#diff-3e4393dccf58a1d208359bc5823e0ace" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/9efc6658510979171cad22fe17d84fd8e172db65#diff-3e4393dccf58a1d208359bc5823e0ace</a>
   </li>
<li>Joshua Quick 2018-08-08

   Flagging as duplicate of [TIMOB-26130] which fixed it in 7.4.0.
   Scheduled back-port of fix to 7.3.1.</li>
<li>Richard Lustemberg 2018-08-13

   I've noticed that the fix from 7.4.0 was backported and then reverted. If I build from the backported merged commit, the build is successful. Where there side effects which caused the reversal? 
   </li>
<li>Joshua Quick 2018-08-13

   The plan is to backport this change into 7.3.1, not 7.3.0.
   We got a little ahead of ourselves and merged it in too early before the 7.3.0 release.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26272.json">JSON Source</a></p>