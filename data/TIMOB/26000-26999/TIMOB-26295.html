---
title: "[TIMOB-26295] Android: Listview with template causes a nullpointer on itemclick"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-09-01T13:49:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android</td></tr>
<tr><th>Reporter</th><td>Zaedy Dantas Sayão</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2018-08-13T17:47:30.000+0000</td></tr>
<tr><th>Updated</th><td>2018-09-05T10:14:20.000+0000</td></tr>
</table>

<h3>Description</h3>

When you click on a listitem, using a Listview with template, it causes a nullpointer.
It happens when you try to manipulate the items of a section.

*Test case:*

*index.xml*

<code><pre>
&lt;Alloy&gt;
    &lt;Window id="win"&gt;
        &lt;ListView id="listView" backgroundColor="#fff"&gt;
            &lt;Templates&gt;
                &lt;ItemTemplate name="menuItem"&gt;
                    &lt;View bindId="item" height="50" backgroundColor="#24292e" color="#fff" onClick="onMenuItemClick"&gt;
                        &lt;Label bindId="name" color="#fff"&gt;&lt;/Label&gt;
                    &lt;/View&gt;
                &lt;/ItemTemplate&gt;
            &lt;/Templates&gt;
            &lt;ListSection /&gt;
        &lt;/ListView&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

-------------------

*index.js*

<code><pre>
function onMenuItemClick(e) {
    $.listView.sections[0].items = [];
}

var menuItems = [];

menuItems.push({
    name: {
        text: "A"
    },
    template: 'menuItem'
}, {
    name: {
        text: 'B'
    },
    template: 'menuItem'
}, {
    name: {
        text: "C"
    },
    template: 'menuItem'
}, {
    name: {
        text: "D"
    },
    template: 'menuItem'
});

$.listView.sections[0].items = menuItems;

$.win.open();
</pre></code>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26295_65435/Screen Shot 2018-08-13 at 14.45.32.png">Screen Shot 2018-08-13 at 14.45.32.png</td></td><td>2018-08-13T17:45:51.000+0000</td><td>49254</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Zaedy Dantas Sayão 2018-08-13

   I have a fix to the problem.
   I'll submit a PR after the issue has been moved to the correct project.</li>
<li>Sharif AbuDarda 2018-08-13

   Hello, I have tested the issue and was able to reproduce it as described. I will forward this to our engineering. Please submit the PR. Thanks.</li>
<li>Gary Mathews 2018-08-14

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/10251" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10251</a></li>
<li>Josh Longton 2018-09-05

   *Closing ticket.*
   
   A nullpoint error is no longer thrown when an item in the listView is clicked.
   
   The fix is present in SDK:
   
   {noformat}
   7.5.0.v20180904155047
   {noformat}
   
   *ENV*
   
   {noformat}
   Pixel 2 XL (9.0)
   Emulator (8.1, 7.1.1)
   Appc NPM: 4.2.13
   Appc CLI: 7.0.6
   Ti CLI: 5.1.1
   Node: 8.9.4
   NPM: 6.3.0
   {noformat}</li>
</ol>


<p><a href="/TIMOB/TIMOB-26295.json">JSON Source</a></p>