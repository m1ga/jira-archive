---
title: "[TIMOB-26329] Hyperloop: Android - Can't instantiate a CoordinatorLayout in SDK 7.3.0"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-08-23T23:48:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.3.1</td></tr>
<tr><th>Components</th><td>Android, Hyperloop</td></tr>
<tr><th>Labels</th><td>android, hyperloop</td></tr>
<tr><th>Reporter</th><td>Luc-Edmond Gaspard </td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-08-20T22:16:11.000+0000</td></tr>
<tr><th>Updated</th><td>2018-08-24T09:30:27.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi, since 7.3.0 this example does not work anymore. <a href="https://github.com/appcelerator/hyperloop-examples/blob/master/app/controllers/android/nativelayout.js" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop-examples/blob/master/app/controllers/android/nativelayout.js</a>
	
And if I try to create a CoordinatorLayout directly in hyperloop or in a java module I get this exception:

<code><pre>
(main) [222,5668] Exception during instantiation of class 'android.support.design.widget.CoordinatorLayout'
java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/coreui/R$attr;
</pre></code>

<h3>Comments</h3>

<ol>
<li>Rakhi Mitro 2018-08-21

   Hello,
   
   Thanks for sharing with us. It would be great if you can share a simple test case to reproduce this on our end.
   </li>
<li>Luc-Edmond Gaspard  2018-08-21

   <code><pre>
   const Activity = require('android.app.Activity');
   const CoordinatorLayout = require("android.support.design.widget.CoordinatorLayout");
   const Color = require('android.graphics.Color');
   
   const win = Ti.UI.createWindow();
   const activity = new Activity(Ti.Android.currentActivity);
   
   const layout = new CoordinatorLayout(activity);
   layout.setBackgroundColor(Color.YELLOW);
   win.add(layout);
   
   win.open();
   </pre></code>
   
   When running with 7.3.0.GA :
   {noformat}
   (main) [83,149] Exception during instantiation of class 'android.support.design.widget.CoordinatorLayout'
   java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/coreui/R$attr;
           at android.support.design.widget.CoordinatorLayout.<init>(CoordinatorLayout.java:202)
           at android.support.design.widget.CoordinatorLayout.<init>(CoordinatorLayout.java:198)
           at java.lang.reflect.Constructor.newInstance0(Native Method)
           at java.lang.reflect.Constructor.newInstance(Constructor.java:334)
           at hyperloop.ClassProxy.newInstance(ClassProxy.java:89)
           at org.appcelerator.kroll.runtime.v8.V8Runtime.nativeRunModule(Native Method)
           at org.appcelerator.kroll.runtime.v8.V8Runtime.doRunModule(V8Runtime.java:183)
           at org.appcelerator.kroll.KrollRuntime.runModule(KrollRuntime.java:247)
           at org.appcelerator.titanium.TiLaunchActivity.loadActivityScript(TiLaunchActivity.java:135)
           at org.appcelerator.titanium.TiLaunchActivity.windowCreated(TiLaunchActivity.java:190)
           at org.appcelerator.titanium.TiRootActivity.windowCreated(TiRootActivity.java:171)
           at org.appcelerator.titanium.TiBaseActivity.onCreate(TiBaseActivity.java:675)
           at org.appcelerator.titanium.TiLaunchActivity.onCreate(TiLaunchActivity.java:176)
           at org.appcelerator.titanium.TiRootActivity.onCreate(TiRootActivity.java:160)
           at android.app.Activity.performCreate(Activity.java:6975)
           at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)
           at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)
           at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)
           at android.app.ActivityThread.-wrap11(Unknown Source:0)
           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)
           at android.os.Handler.dispatchMessage(Handler.java:105)
           at android.os.Looper.loop(Looper.java:164)
           at android.app.ActivityThread.main(ActivityThread.java:6541)
           at java.lang.reflect.Method.invoke(Native Method)
           at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)
           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)
   Caused by: java.lang.ClassNotFoundException: Didn't find class "android.support.coreui.R$attr" on path: DexPathList[[zip file "/data/app/test.test.test-PaJox8-SBb_08twvLLYZMA==/base.apk"],nativeLibraryDirectories=[/data/app/test.test.test-PaJox8-SBb_08twvLLYZMA==/lib/x86, /data/app/test.test.test-PaJox8-SBb_08twvLLYZMA==/base.apk!/lib/x86, /system/lib, /system/vendor/lib]]
           at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)
           at java.lang.ClassLoader.loadClass(ClassLoader.java:379)
           at java.lang.ClassLoader.loadClass(ClassLoader.java:312)
           ... 26 more
   {noformat}
   </li>
<li>Hans Kn√∂chel 2018-08-21

   Your issue is different to what your comments state. The issue above is about missing <code>attr</code> values in your project that are required to instantiate a <code>CoordinatorLayout</code> programmatically. But if the example from the hyperloop-examples repo does not work anymore, it'd be an actual regression. We need to investigate in that direction.
   
   *EDIT*: Here is the actual error:
   <code><pre>
   [ERROR] TiExceptionHandler: (main) [30081,30386] /hyperloop/android.view.LayoutInflater.js:390
   [ERROR] TiExceptionHandler: 	var result = this.$native.callNativeFunction({
   [ERROR] TiExceptionHandler:                            ^
   [ERROR] TiExceptionHandler: Error: Binary XML file line #2: Binary XML file line #2: Error inflating class android.support.design.widget.CoordinatorLayout
   [ERROR] TiExceptionHandler:     at LayoutInflater.inflate (/hyperloop/android.view.LayoutInflater.js:390:28)
   [ERROR] TiExceptionHandler:     at /alloy/controllers/nativelayout.js:51:806
   [ERROR] TiExceptionHandler:     at new Controller (/alloy/controllers/nativelayout.js:51:882)
   [ERROR] TiExceptionHandler:     at Object.exports.createController (/alloy.js:339:9)
   [ERROR] TiExceptionHandler:     at ListView.onListViewItemclick (/alloy/controllers/index.js:114:31)
   [ERROR] TiExceptionHandler:     at ListView.value (ti:/events.js:49:21)
   [ERROR] TiExceptionHandler:     at ListView.value (ti:/events.js:101:19)
   [ERROR] TiExceptionHandler:
   [ERROR] V8Exception: Exception occurred at /hyperloop/android.view.LayoutInflater.js:390: Uncaught Error: Binary XML file line #2: Binary XML file line #2: Error inflating class android.support.design.widget.CoordinatorLayout
   </pre></code>
   It may be related to the support-library update we did in 7.3.0? Renaming the support library could fix it. cc [~jquick] for a 2nd thought.</li>
<li>Christopher Williams 2018-08-22

   Just to confirm, I was able to use the example in question with 7.2.0.GA and it is broken on 7.3.0.GA and the latest 7_3_X builds of the SDK. The error message is not very helpful, but certainly Hans' suggestion regarding the updated support libraries is also my suspicion:
   * <a href="https://github.com/appcelerator/titanium_mobile/commit/53da13c4fe" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/53da13c4fe</a>
   * <a href="https://github.com/appcelerator/titanium_mobile/commit/86e84eeb39" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/86e84eeb39</a>
   </li>
<li>Joshua Quick 2018-08-23

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10279" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10279</a></li>
<li>Joshua Quick 2018-08-23

   PR (7.4.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/10281" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10281</a>
   PR (7.3.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/10282" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10282</a></li>
<li>Lokesh Choudhary 2018-08-23

   FR Passed.
   PR's merged.</li>
<li>Samir Mohammed 2018-08-24

   *Closing ticket.* verified fix in SDK version <code>7.5.0.v20180823165211</code>, <code>7.4.0.v20180823165354</code> and <code>7.3.1.v20180823165225</code>.
   
   Test and other information can be found at: 
   Master: <a href="https://github.com/appcelerator/titanium_mobile/pull/10279" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10279</a>
   7.4.X: <a href="https://github.com/appcelerator/titanium_mobile/pull/10281" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10281</a>
   7.3.X: <a href="https://github.com/appcelerator/titanium_mobile/pull/10282" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10282</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-26329.json">JSON Source</a></p>