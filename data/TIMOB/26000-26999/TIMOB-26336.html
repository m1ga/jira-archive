---
title: "[TIMOB-26336] Android: Cursor issue when textfield inside view, which is under tableview "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2019-01-11T02:29:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2018-08-24T09:25:27.000+0000</td></tr>
<tr><th>Updated</th><td>2019-01-11T02:29:55.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Reproduce</h4>
1.Run the following code in an Alloy project. (Simple structure, textfield is under view, and view is under tableviewRow).
2.Click different Rows (basically card type in the example). 
3 There will be a textfield to input.
4.Try #2 and #3 serval times.

<h4>Problem</h4>
5. You will see, some times, there is no cursor display in textfield. 
6. The other problem is, some times, if you click the textfield, which is focused already. The cursor will disappear.

<h4>Note</h4>
Mainly code about focus and cursor is around line 471 - 478 in index.js file

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26336_65504/Curser Record.mov">Curser Record.mov</td></td><td>2018-09-07T02:28:11.000+0000</td><td>6607796</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26336_65474/index.js">index.js</td></td><td>2018-08-24T09:22:52.000+0000</td><td>12996</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26336_65475/index.tss">index.tss</td></td><td>2018-08-24T09:22:40.000+0000</td><td>783</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26336_65476/index.xml">index.xml</td></td><td>2018-08-24T09:22:27.000+0000</td><td>141</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26336_65500/TIMOB-26336-i.mov">TIMOB-26336-i.mov</td></td><td>2018-09-06T18:01:04.000+0000</td><td>9911827</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Shuo Liang 2018-09-06

   Any update on this?</li>
<li>Feon Sua Xin Miao 2018-09-06

   [~sliang] I don't see the cursor disappearing. Please check out the attached screen recording of what I see, also I changed the text field background color to yellow to make the text field area visible.
   
    
   
    </li>
<li>Shuo Liang 2018-09-07

   [~fmiao]
   Changed background color like you did. Still can see the problem. Please check the record I made. (Android 6 Emulator)
   </li>
<li>Gary Mathews 2018-09-07

   I highly recommend they use ListView and a template for this:
   
   *index.js*
   <code><pre>
   const cardDetails = [{
   	"carddigits" : "0000",
   	"cardtype" : "VISA",
   	"cardexpiry" : "2018-12-31",
   	"validfrom" : "2018-08-09",
   	"tokenid" : "10293170401"
   }, {
   	"carddigits" : "0012",
   	"cardtype" : "MASTERCARD",
   	"cardexpiry" : "2018-12-31",
   	"validfrom" : "2018-08-09",
   	"tokenid" : "10293172201"
   }, {
   	"carddigits" : "0000",
   	"cardtype" : "VISA",
   	"cardexpiry" : "2018-12-31",
   	"validfrom" : "2018-08-09",
   	"tokenid" : "10293170401"
   }, {
   	"carddigits" : "0000",
   	"cardtype" : "VISA",
   	"cardexpiry" : "2018-12-31",
   	"validfrom" : "2018-08-09",
   	"tokenid" : "10293170401"
   }];
   
   function populateCards () {
   	const section = Ti.UI.createListSection();
   
   	let items = [];
   	for (let details of cardDetails) {
   		items.push({
   			type: { text: details.cardtype },
   			number: { text: details.carddigits },
   			date: { text: details.cardexpiry }
   		});
   	}
   	section.setItems(items);
   
   	$.cardList.setSections([section]);
   }
   
   function onClick (e) {
   	alert(JSON.stringify(e, null, 1));
   }
   
   populateCards(); 
   $.cardWindow.open();
   </pre></code>
   
   *index.xml*
   <code><pre>
   &lt;Alloy&gt;
       &lt;Window id="cardWindow"&gt;
           &lt;ListView id="cardList" defaultItemTemplate="template"&gt;
               &lt;Templates&gt;
                   &lt;ItemTemplate name="template" onClick="onClick"&gt;
                       &lt;View layout="vertical" width="Ti.UI.FILL" height="Ti.UI.SIZE"&gt;
                           &lt;View layout="horizontal" width="Ti.UI.FILL" height="Ti.UI.SIZE"&gt;
                               &lt;ImageView bindId="check" id="checkImage" /&gt;
                               &lt;Label bindId="type" id="typeLabel" /&gt;
                               &lt;Label bindId="number" id="numberLabel" /&gt;
                               &lt;Label bindId="date" id="dateLabel" /&gt;
                           &lt;/View&gt;
                           &lt;TextField bindId="cvc" id="cvcField" visible="false" /&gt;
                       &lt;/View&gt;
                   &lt;/ItemTemplate&gt;
               &lt;/Templates&gt;
           &lt;/ListView&gt;
       &lt;/Window&gt;
   &lt;/Alloy&gt;
   </pre></code>
   
   *index.tss*
   <code><pre>
   "#cardWindow":{
   	width: Titanium.UI.FILL,
   	height: Titanium.UI.FILL,
   	backgroundColor: "#09357a"
   }
   "#cardWindow[platform=android]":{
   	theme: "Theme.NoActionBar"
   }
   "#cardWindow[platform=ios]":{
   	statusBarStyle: Titanium.UI.iOS.StatusBar.LIGHT_CONTENT
   }
   ".WindowClass[platform=android]":{
   	windowSoftInputMode: Ti.UI.Android.SOFT_INPUT_ADJUST_PAN
   }
   
   "#cardList": {
   	width: Ti.UI.FILL,
   	height: Ti.UI.FILL
   }
   "#checkImage": {
   	left: 10,
   	width: 30,
   	height: 30,
   	borderRadius: 15,
   	backgroundColor: "white"
   }
   "#typeLabel": {
   	left: 10,
   	width: 100
   }
   "#numberLabel": {
   	left: 10,
   	width: 100
   }
   "#dateLabel": {
   	left: 10,
   	width: 100
   }
   "#cvcField": {
   	right: 10,
   	keyboardType: Ti.UI.KEYBOARD_TYPE_NUMBER_PAD,
   	passwordMask: true,
   	maxLength : 4,
   	textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
   	hintText: "CVC"
   }
   </pre></code></li>
<li>Shuo Liang 2018-09-19

   Informed customer about that listview suggestion week ago, no reply at all. Will push it again.Â </li>
</ol>


<p><a href="/TIMOB/TIMOB-26336.json">JSON Source</a></p>