---
title: "[TIMOB-26344] iOS: Applications Shortcuts crash on SDK 7.3.0+ when triggered from background"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-09-20T10:36:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.3.0, Release 7.3.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.4.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>crash, ios, shortcuts</td></tr>
<tr><th>Reporter</th><td>Andreas Pingas</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2018-08-29T22:27:24.000+0000</td></tr>
<tr><th>Updated</th><td>2018-09-20T10:37:03.000+0000</td></tr>
</table>

<h3>Description</h3>

Please check out the following:

<code><pre>
var windowA = Ti.UI.createWindow();
var windowB = Ti.UI.createWindow();

var tabA = Ti.UI.createTab({
	window:windowA,
	title:'Tab A'
});

var tabB = Ti.UI.createTab({
	window:windowB,
	title:'Tab B'
});
	
var tabGroup = Titanium.UI.createTabGroup({
	tabs:[tabA, tabB]
});

tabGroup.open();

var label = Ti.UI.createLabel({
    text: ''
});

windowA.add(label);

if (Ti.UI.iOS.forceTouchSupported) {
		
		Ti.App.iOS.addEventListener('shortcutitemclick', function(e) {	
			Ti.API.info('shortcutitemclick');
			label.text = 'Shortcut icon clicked, with title = ' + e.title;	
		});
		
		var appShortcuts = Ti.UI.iOS.createApplicationShortcuts();
		
		appShortcuts.removeAllDynamicShortcuts();
		
		appShortcuts.addDynamicShortcut({
		    itemtype:'itemt_a',
		    title:'Itemt A',
		    icon:Titanium.UI.iOS.SHORTCUT_ICON_TYPE_MESSAGE
		});

		appShortcuts.addDynamicShortcut({
		    itemtype:'itemt_b',
		    title:'Itemt B',
		    icon:Titanium.UI.iOS.SHORTCUT_ICON_TYPE_ADD
		});
			
	}
</pre></code>


1) Open the app from shortcut 
2) Take the app to run on background
 3) Open the app from shortcut again
The app terminates instantly

<h3>Comments</h3>

<ol>
<li>Rakhi Mitro 2018-08-30

   Hello,
   
   Thanks for sharing this. Are you experiencing this on device? Have you seen any crash logs during your app termination? If yes, please share the logs here.</li>
<li>Andreas Pingas 2018-08-30

   I test it on TestFlight for iPhone 6s on iOS 11.4.1</li>
<li>Hans Knöchel 2018-08-30

   This looks like a valid issue! We refactored big parts of the <code>UIApplicationDelegate</code> handling in 7.3.0 and this may be a side-effect of doing it. Fixing today, patching for the next release (likely 7.3.2 as 7.3.1 will be released today already and finished QE-testing by now). 
   
   *EDIT*: I am able to reproduce it and it indeed is triggered by the queued application delegates from cold boots. </li>
<li>Hans Knöchel 2018-08-30

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10296" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10296</a>
   PR (7_4_X): <a href="https://github.com/appcelerator/titanium_mobile/pull/10297" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10297</a>
   PR (7_3_X): <a href="https://github.com/appcelerator/titanium_mobile/pull/10298" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10298</a>
   
   Test-Case: See above!
   
   [~andreas.pingas] You can patch the change today and go for it!</li>
<li>Keerthi Mahalingam 2018-09-06

   Verified the fix on 7.4.0.v20180906093302 and 7.5.0.v20180906093938. No Crashing occurs. Closing.
   <code><pre>
   Operating system
   Name                        = Mac OS X
     Version                     = 10.13.6
   Node.js
     Node.js Version             = 8.9.1
     npm Version                 = 5.5.1
   Titanium CLI
     CLI Version                 = 5.1.1
   </pre></code></li>
<li>Keerthi Mahalingam 2018-09-13

   [~amukherjee], the fix is not in 7.3.1 GA version.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26344.json">JSON Source</a></p>