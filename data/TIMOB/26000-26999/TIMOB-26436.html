---
title: "[TIMOB-26436] iOS: VIdeoPlayer time in seconds"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-10-19T18:41:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Sergey Volkov</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2018-10-01T11:48:50.000+0000</td></tr>
<tr><th>Updated</th><td>2018-10-19T18:41:07.000+0000</td></tr>
</table>

<h3>Description</h3>

Since 7.0.0 VideoPlayer on iOS treats time in seconds instead of milliseconds.
Affected properties: "currentPlaybackTime", "duration" (probably also "playableDuration" and "endPlaybackTime"), events: "durationavailable".


<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2018-10-02

   Hello, Can you please provide a standalone code that displays the issue? Thanks.</li>
<li>Sergey Volkov 2018-10-03

   </li>
<li>Vijay Singh 2018-10-04

   In 7.0.0, we have moved from MPMoviePlayerController to latest api AVPlayerViewController given by apple. Which was a huge change. In that I guess we missed this. I'll look in this. Thanks for reporting!</li>
<li>Sergey Volkov 2018-10-05

   bq. In 7.0.0, we have moved from MPMoviePlayerController to latest api AVPlayerViewController given by apple. Which was a huge change. In that I guess we missed this. I'll look in this. Thanks for reporting!
   Yeah, I've been watching TIMOB-19040 since 2016 :-)
   
   Also documentation on VideoPlayer is broken: you've labeled many properties as deprecated-removed, but they are still exists on Android.
   And there was no need to remove (even no need to rename) Titanium.Media.VIDEO_SCALING_* properties: new ones have same meaning as old before, but currently I have to use different values for iOS and Android (and new have "string" type, where old was "number"). It will be nice to have old "VIDEO_SCALING_*" back on iOS.
   </li>
<li>Vijay Singh 2018-10-08

   PR - <a href="https://github.com/appcelerator/titanium_mobile/pull/10373" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10373</a>
   Test Case (Time in log should be in milliseconds )- 
   
   <code><pre>
   var win = Ti.UI.createWindow({
     backgroundColor: '#fff'
   });
   var player = Ti.Media.createVideoPlayer({
     url: '<a href="http://techslides.com/demos/sample-videos/small.mp4" rel="nofollow" target="_blank">http://techslides.com/demos/sample-videos/small.mp4</a>',
     showsControls: false,
     autoplay: true,
     height: 200
   });
   win.add(player);
    
   function onDurationAvailable(e) {
     console.log(e.type, 'e.duration', e.duration);
     console.log('player.duration', e.source.duration);
   }
   player.addEventListener('durationavailable', onDurationAvailable);
    
   var i = 0;
   var interval = setInterval(function() {
     if (i++ &gt; 10) {
       clearInterval(interval);
     }
     console.log(player.currentPlaybackTime);
     console.log('playableDuration is' +player.playableDuration);
   }, 500);
    
   win.open();
   </pre></code></li>
<li>Vijay Singh 2018-10-08

   [~s.volkov] For broken doc and Scaling property I will file a different ticket and will check what can be done. Or if you wish you can file a bug. I'll go from there. Thanks!</li>
<li>Keerthi Mahalingam 2018-10-09

   FR done.</li>
<li>Christopher Williams 2018-10-12

   Closing since FR was done.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26436.json">JSON Source</a></p>