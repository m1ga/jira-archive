---
title: "[TIMOB-26460] Android: Toolbar height set to Ti.UI.SIZE won't resize when changing orientation"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-10-25T14:06:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, orientation, toolbar</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-10-18T01:23:25.000+0000</td></tr>
<tr><th>Updated</th><td>2018-10-25T18:02:53.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
Android Toolbars (and ActionBars) are supposed to use a height of <code>56dp</code> for portrait orientation and <code>48dp</code> for landscape. If a Toolbar's "height" is set to <code>Ti.UI.SIZE</code> (the default), then the height and its font size should automatically change when the orientation changes. It currently does *not*.

*Steps to reproduce:*
<h4>Position an Android device in portrait.</h4>
<h4>Build and run the below code on that Android device.</h4>
<h4>Note the height of the top toolbar.</h4>
<h4>Rotate the device to landscape.</h4>
<h4>Notice that toolbar height does not shrink. _(This is the bug.)_</h4>
<h4>Keep holding the device at landscape and back out of the app.</h4>
<h4>Launch the app in landscape form.</h4>
<h4>Notice that the toolbar height is smaller upon launch.</h4>
<h4>Rotate the device to portrait.</h4>
<h4>Notice that the toolbar height has not increased. _(This is the bug.)_</h4>

<code><pre>
var window = Ti.UI.createWindow({
	theme: "Theme.AppCompat.NoTitleBar",
});
var toolbar = Ti.UI.createToolbar({
	title: "My Toolbar",
	top: 0,
	width: Ti.UI.FILL,
	height: Ti.UI.SIZE,
});
window.activity.supportToolbar = toolbar;
window.add(toolbar);
window.open();
</pre></code>

*Cause:*
The height is not changing because Titanium override the activity's "configChanges" for orientation in the "AndroidManifest.xml". This is needed to prevent the UI from being torn down upon orientation change. Google designed it to reload UI from XML, but since Titanium's UI is generated dynamically via code, this is not an option. We have to resize the height ourselves.


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2018-10-18

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10383" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10383</a></li>
<li>Josh Longton 2018-10-25

   *FR Passed*
   
   Waiting on Jenkins to merge</li>
<li>Keerthi Mahalingam 2018-10-25

   Verified the fix on sdk 7.5.0.v20181025085349. Toolbar height resized on orientation change. Closing.
   <code><pre>
   Operating System
     Name                        = Mac OS X
     Version                     = 10.13.6
     Architecture                = 64bit
   Node.js
     Node.js Version             = 8.12.0
     npm Version                 = 6.4.1
   Titanium CLI
     CLI Version                 = 5.1.1
   Studio			      =5.1.2.201810080801
   Titanium SDK
     SDK Version                 = 7.5.0.v20181025085349
   Device               = Samsung s5 Android 6,pixel android 9 
   Emulator				= Samsung galaxy s6 android 6
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-26460.json">JSON Source</a></p>