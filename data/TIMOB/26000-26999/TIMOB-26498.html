---
title: "[TIMOB-26498] Windows: ListView item template support CommonJS modules and Alloy widgets"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-12-11T14:05:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>parity</td></tr>
<tr><th>Reporter</th><td>Feon Sua Xin Miao</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2018-10-30T07:06:26.000+0000</td></tr>
<tr><th>Updated</th><td>2019-01-03T12:12:44.000+0000</td></tr>
</table>

<h3>Description</h3>

The ListView item template only supports a limited set of view classes from the Ti.UI namespace. In addition to using one of the predefined view classes, you should be able to also pass module views to your list item template. For example, use <code>ImageView</code> on <code>AvImageview</code> module in your list view:
  
<code><pre>
&lt;ListView id="Images" defaultItemTemplate="template"&gt;
    &lt;Templates&gt;
        &lt;ItemTemplate name="template" height="160"&gt;
            &lt;ImageView ns="AvImageview" bindId="photo" height="160" width="Ti.UI.FILL" /&gt;
        &lt;/ItemTemplate&gt;
    &lt;/Templates&gt;
    &lt;ListSection&gt;
        &lt;ListItem template="template" photo:image="<a href="http://www.nationalgeographic.com/content/dam/photography/photos/000/060/6018.ngsversion.1467254523217.adapt.1900.1.jpg" rel="nofollow" target="_blank">http://www.nationalgeographic.com/content/dam/photography/photos/000/060/6018.ngsversion.1467254523217.adapt.1900.1.jpg</a>"&gt;&lt;/ListItem&gt;
        &lt;ListItem template="template" photo:image="<a href="http://www.italiangoodnews.com/wp-content/uploads/2014/11/italy-04.jpg" rel="nofollow" target="_blank">http://www.italiangoodnews.com/wp-content/uploads/2014/11/italy-04.jpg</a>"&gt;&lt;/ListItem&gt;
    &lt;/ListSection&gt;
&lt;/ListView&gt;
</pre></code>

where <code>&lt;ImageView ns="AvImageview"&gt;</code> will be expanded into <code>type: 'AvImageview.ImageView'</code> in ListView ItemTemplate. In this case ListView should call <code>AxImageview.createImageView</code> behind the scenes eventually.

We also need support for Alloy <code>Widget</code> tag like below.

<code><pre>
&lt;ListView id="listView" defaultItemTemplate="template"&gt;
    &lt;Templates&gt;
        &lt;ItemTemplate name="template"&gt;
            &lt;Widget src="test.widget" bindId="testWidget" id="testWidget"/&gt;
        &lt;/ItemTemplate&gt;
    &lt;/Templates&gt;

    &lt;ListSection headerTitle="WIDGETS"&gt;
        &lt;ListItem testWidget:backgroundColor="red" /&gt;
        &lt;ListItem testWidget:backgroundColor="blue" /&gt;
        &lt;ListItem testWidget:backgroundColor="orange" /&gt;
    &lt;/ListSection&gt;
&lt;/ListView&gt;
</pre></code>

In this case <code>&lt;Widget src="test.widget"&gt;</code> will be expanded into <code>type: 'test.widget'</code> in ListView ItemTemplate. In this case ListView should create Alloy widget <code>test.widget</code> behind the scenes eventually.

So, ListView should search template class in following order:

<h4>If there's a class in global namespace such as <code>Ti.UI.View</code>, use <code>\[namespace\].create\[Classname\]</code> function such as <code>Ti.UI.createView</code>.</h4>
<h4>If there's a CommonJS module with given name, <code>require</code> it and then use its <code>getView</code> function.</h4>
<h4>If there's a Alloy widget with given name, <code>require</code> <code>Resources/windows/alloy/widgets/WIDGET_NAME/controllers/widget.js</code> and then use its <code>getView</code> function</h4>


<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2018-11-07

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1310" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1310</a></li>
<li>Josh Longton 2018-12-11

   *FR Passed*</li>
<li>Samir Mohammed 2019-01-03

   Closing ticket. Fix verified in SDK version <code>8.0.0.v20190102142454</code>
   
   Test and other information can be found at:
   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1310" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1310</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-26498.json">JSON Source</a></p>