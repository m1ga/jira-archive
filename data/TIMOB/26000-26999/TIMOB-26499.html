---
title: "[TIMOB-26499] iOS: Third-party modules cannot be referenced anymore in Alloy templates"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-10-31T18:24:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jan Vennemann</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2018-10-30T15:55:52.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-06T10:19:55.000+0000</td></tr>
</table>

<h3>Description</h3>

*Steps to reproduce the behavior*
<h4>Setup a new Alloy project and install the [av.imageview](<a href="https://github.com/AndreaVitale/av.imageview)" rel="nofollow" target="_blank">https://github.com/AndreaVitale/av.imageview)</a> module.</h4>
<h4>Change <code>app/views/index.xml</code> to the following template that uses the module inside a list view:</h4>
<code><pre>
&lt;Alloy&gt;
    &lt;Window&gt;
        &lt;ListView defaultItemTemplate="custom"&gt;
            &lt;Templates&gt;
                &lt;ItemTemplate name="custom"&gt;
                    &lt;ImageView ns="AvImageview" image="<a href="https://via.placeholder.com/150" rel="nofollow" target="_blank">https://via.placeholder.com/150</a>" /&gt;
                &lt;/ItemTemplate&gt;
            &lt;/Templates&gt;
            &lt;ListSection&gt;
                &lt;ListItem&gt;&lt;/ListItem&gt;
            &lt;/ListSection&gt;
        &lt;/ListView&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>
<h4>Add the following to <code>app/alloy.js</code></h4>
<code><pre>
var AvImageview = require("av.imageview");
</pre></code>

*Actual behavior*
The app boots with an JS error:
<code><pre>
[ERROR] Failed to load Alloy widget / CommonJS module "AvImageview.ImageView" to be used as template
[ERROR] Script Error {
[ERROR]     column = 1036;
[ERROR]     line = 58;
[ERROR]     message = "Invalid item template type provided";
[ERROR]     nativeLocation = "+[TiViewProxy unarchiveFromTemplate:inContext:] (TiViewProxy.m:2994)";
[ERROR]     nativeReason = "The item template type provided cannot be resolved.";
[ERROR]     nativeStack = "3   global-test-alloy    0x00000001006a0294 global-test-alloy + 590484\n4   global-test-alloy    0x0000000100651b48 global-test-alloy + 269128\n5   global-test-alloy    0x00000001006514dc global-test-alloy + 267484\n6   CoreFoundation  0x00000001a8e6fb0c &lt;redacted&gt; + 216\n7   global-test-alloy    0x00000001006510e8 global-test-alloy + 266472\n8   global-test-alloy    0x0000000100785420 global-test-alloy + 1528864\n9   global-test-alloy    0x000000010078ce20 global-test-alloy + 1560096\n10  global-test-alloy    0x000000010079eae4 global-test-alloy + 1632996\n11  global-test-alloy    0x00000001006bf5dc global-test-alloy + 718300\n12  global-test-alloy    0x000000010079e968 global-test-alloy + 1632616\n13  Foundation 0x00000001a99344ac &lt;redacted&gt; + 272\n14  global-test-alloy    0x000000010069ff64 global-test-alloy + 589668\n15  global-test-alloy    0x000000010069c0b8 global-test-alloy + 573624\n16  global-test-alloy    0x0000000100649420 global-test-alloy + 234528\n17  global-test-alloy    0x000000010079d454 global-test-alloy + 1627220\n18  global-test-alloy    0x000000010069c2d8 global-test-alloy + 574168\n19  global-test-alloy    0x00000001006a2dfc global-test-alloy + 601596";
[ERROR]     sourceURL = "file:///var/containers/Bundle/Application/1690C6F2-C45D-41D3-9311-6B917582242A/global-test-alloy.app/alloy/controllers/index.js";
[ERROR]     stack = "    at [native code]\n    at Controller(/alloy/controllers/index.js:58:1036)\n    at createController(/alloy.js:339:48)\n    at (/app.js:61:23)\n    at global code(/app.js:62:70)\n    at require@[native code]\n    at (/ti.main.js:27:8)\n    at loadAsync(/ti.internal/bootstrap.loader.js:148:186)\n    at global code(/ti.main.js:24:52)";
[ERROR]     toJSON = "&lt;KrollCallback: 0x280108840&gt;";
[ERROR] } 
[ERROR] Script Error Module "app.js" failed to leave a valid exports object
</pre></code>

*Expected behavior*
The app works as expected and the image is displayed using the module.

*Additional notes*
This works in 7.4.1 and is broken in 7.5.0 due to this change: <a href="https://github.com/appcelerator/titanium_mobile/pull/10131" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10131</a>

<h3>Comments</h3>

<ol>
<li>Jan Vennemann 2018-10-30

   PR (7_5_X): <a href="https://github.com/appcelerator/titanium_mobile/pull/10410" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10410</a></li>
<li>Jan Vennemann 2018-11-01

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10415" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10415</a></li>
<li>Samir Mohammed 2018-11-05

   </li>
<li>Samir Mohammed 2018-11-06

   </li>
</ol>


<p><a href="/TIMOB/TIMOB-26499.json">JSON Source</a></p>