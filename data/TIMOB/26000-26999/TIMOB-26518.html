---
title: "[TIMOB-26518] Android: Webview FireEvent not get fired in correct sequence"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-11-06T18:00:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.4.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Aminul Islam</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2018-11-05T12:40:30.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-16T11:59:48.000+0000</td></tr>
</table>

<h3>Description</h3>

Hi team,
For Android Platform, I have added "evenlistener" in webview local html file. The event is fired from app.js. The issue is, fireEvent get fired in reverse order for Android.
For iOS, the sequence is right and for Android, the sequence is wrong.

App.js
<code><pre>
var win = Ti.UI.createWindow({

});

var webView = Ti.UI.createWebView({
	visible : false,
	url : 'index.html'

});

win.add(webView);
webView = null;

win.open();

setTimeout(function() {

	for (var i = 0; i &lt; 5; i++) {
		var data = {
			value : i
		};

		Ti.API.info("value passed:" + i);
		Ti.App.fireEvent('testevent', data);
	}
}, 5000);
</pre></code>
index.html
<code><pre>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
"<a href="http://www.w3.org/TR/html4/strict.dtd" rel="nofollow" target="_blank">http://www.w3.org/TR/html4/strict.dtd</a>"&gt;
&lt;html&gt;
	&lt;head&gt;

	&lt;/head&gt;
	&lt;body&gt;

		&lt;script type="text/javascript"&gt;
			function passdatatoserver(e) {

				Ti.API.info("testevent:" + e.value);

			}


			Ti.App.addEventListener('testevent', passdatatoserver);

		&lt;/script&gt;
	&lt;/body&gt;
&lt;/html&gt;
</pre></code>


Log for adroid:
<code><pre>
[INFO] :   value passed:0
[INFO] :   value passed:1
[INFO] :   value passed:2
[INFO] :   value passed:3
[INFO] :   value passed:4
[WARN] :   TiVerify: (Timer-0) [4992,4993] Verifying module licenses...
[INFO] :   I/System.out: Thread-63102(ApacheHTTPLog):Reading from variable values from setDefaultValuesToVariables
[INFO] :   I/System.out: Thread-63102(ApacheHTTPLog):isSBSettingEnabled false
[INFO] :   I/System.out: Thread-63102(ApacheHTTPLog):isShipBuild true
[INFO] :   I/System.out: Thread-63102(ApacheHTTPLog):getDebugLevel 0x4f4c
[INFO] :   I/System.out: Thread-63102(ApacheHTTPLog):Smart Bonding Setting is false
[INFO] :   I/System.out: Thread-63102(ApacheHTTPLog):SmartBonding Setting is false, SHIP_BUILD is true, log to file is false, DBG is false, DEBUG_LEVEL (1-LOW, 2-MID, 3-HIGH) is 1
[INFO] :   I/System.out: Timer-0 calls detatch()
[INFO] :   TiVerify: (Timer-0) [838,5831] Succesfully verified module licenses
[INFO] :   testevent:4
[INFO] :   testevent:3
[INFO] :   testevent:2
[INFO] :   testevent:1
[INFO] :   testevent:0
</pre></code>

Test Environment:
<code><pre>
Operating System
  Name                        = Microsoft Windows 10 Pro
  Version                     = 10.0.17134
  Architecture                = 32bit
  # CPUs                      = 4
  Memory                      = 17091956736
Node.js
  Node.js Version             = 8.9.1
  npm Version                 = 5.5.1
Titanium CLI
  CLI Version                 = 5.1.1
Titanium SDK
  SDK Version                 = 7.4.1.GA
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26518_65806/androidlogs.png">androidlogs.png</td></td><td>2018-11-05T12:41:00.000+0000</td><td>12668</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-26518_65807/ioslogs.png">ioslogs.png</td></td><td>2018-11-05T12:41:00.000+0000</td><td>13278</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2018-11-05

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/10422" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10422</a></li>
<li>Samir Mohammed 2018-11-16

   *Closing ticket*. Fix verified in SDK Version <code>8.0.0.v20181114074027</code> Webview FireEvent now gets fired in correct sequence.
   
   *Test steps (FR passed):*
   <h4>Created a new titanium project </h4>
   <h4>Added the test case from <a href="https://github.com/appcelerator/titanium_mobile/pull/10422" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10422</a></h4>
   <h4>Ran the program</h4>
   <h4>Following output was seen (Correct sequence):</h4>
   <code><pre>
   [INFO] :   value passed:0
   [INFO] :   value passed:1
   [INFO] :   value passed:2
   [INFO] :   value passed:3
   [INFO] :   value passed:4
   [INFO] :   TiVerify: (Timer-0) [5000,5000] Verifying module licenses...
   [INFO] :   testevent:0
   [INFO] :   testevent:1
   [INFO] :   testevent:2
   [INFO] :   testevent:3
   [INFO] :   testevent:4
   </pre></code>
   
   *Test Environment* 
   <code><pre>
   APPC Studio: 5.1.1.201809051655
   Nexus 5X 7.1 (Sim)
   APPC CLI: 7.0.8-5
   Operating System Name: Mac OS Mojave
   Operating System Version: 10.14.1
   Node.js Version: 8.9.1
   Xcode 10.1
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-26518.json">JSON Source</a></p>