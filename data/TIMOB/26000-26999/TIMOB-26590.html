---
title: "[TIMOB-26590] iOS: Animation never rotates counter-clockwise when set to -180 degrees"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-11-29T14:39:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>animation, ios, rotation</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2018-11-22T05:08:14.000+0000</td></tr>
<tr><th>Updated</th><td>2018-11-30T12:21:56.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
When attempting to rotate a view via an animation set to <code>-180</code>, it will wrongly rotate clockwise instead of counter-clockwise. Only <code>180</code> should rotate clockwise.

Also, when setting up animation property "autoreverse" to <code>true} and with a rotation of {{180</code>, the initial animation will correctly rotate clockwise, but incorrectly autoreverse clockwise as well (doing a 360) instead of rotating backwards counter-clockwise. If "repeat" is set, then this autoreverse rotation bug will only happen on the final rotation. All of the other auto-reversed rotation will rotate in the correct direction.

This is not an issue on Android. This is only an iOS issue.

*Steps to reproduce:*
<h4>Build and run the below code on iOS.</h4>
<h4>Note that blue square rotate clockwise instead of counter-clockwise.</h4>

<code><pre>
var SQUARE_SIZE = 160;
var window = Ti.UI.createWindow({
	backgroundColor: "white",
	fullscreen: true,
});
var squareView = Ti.UI.createLabel({
	text: "Test",
	textAlign: Ti.UI.TEXT_ALIGNMENT_CENTER,
	color: "white",
	backgroundColor: "blue",
	width: SQUARE_SIZE,
	height: SQUARE_SIZE,
});
window.add(squareView);
window.addEventListener("postlayout", function onLayout() {
	window.removeEventListener("postlayout", onLayout);
	var animation = Ti.UI.createAnimation({
		transform: Ti.UI.create2DMatrix().rotate(-180),
//		transform: Ti.UI.create2DMatrix().rotate(180),
		duration: 2000,
		autoreverse: true,
//		repeat: 2,
	});
	squareView.animate(animation);
});
window.open();
</pre></code>

*Note:*
This is an issue on Apple's end. Their animation feature will always take the shortest route to the animation's destination. Since the rotation range is -180 to 180 on iOS, this becomes a boundary issue and iOS will always choose to rotate clockwise instead of counter-clockwise.

*Work-around:*
Instead of setting rotation to <code>-180</code>, set it to <code>-180 + 0.01</code> instead. This makes counter-clockwise the shortest route. This appear to be the only solution natively as well when using a transformation matrix for rotation.


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2018-11-22

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10486" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10486</a></li>
<li>Samir Mohammed 2018-11-30

   *Closing ticket*. Fix verified in SDK Version <code>8.0.0.v20181129161342</code>.
   
   Test and other information can be found at: 
   <a href="https://github.com/appcelerator/titanium_mobile/pull/10486" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10486</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-26590.json">JSON Source</a></p>