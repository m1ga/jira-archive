---
title: "[TIMOB-26625] Android: Can't open Titanium app through intent (7.5.0 regression)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-12-06T00:24:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>Android, Intent, SafeArea</td></tr>
<tr><th>Reporter</th><td>Jorge Macias Garcia</td></tr>
<tr><th>Assignee</th><td>Yordan Banev</td></tr>
<tr><th>Created</th><td>2018-12-04T08:33:05.000+0000</td></tr>
<tr><th>Updated</th><td>2019-01-08T03:17:48.000+0000</td></tr>
</table>

<h3>Description</h3>

After 7.5.0.GA release it is not possible to launch a Titanium app through an intent. It hangs on the startup.

It seems related with new safeArea feature implemented on 7.5.0 SDK. Why is happening this? I don't know but it should not influence in the communication between apps.

I've attached a sample app and the logcat error trace.

Steps to reproduce:

1. Compile both apps and deploy it.
2. Launch SourceApp
3. Click "Open Target"
4. TargetApp hangs at startup due to Ti exception

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26625_65943/app-test-classic.zip">app-test-classic.zip</td></td><td>2018-12-04T08:29:41.000+0000</td><td>6266740</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26625_65942/log.txt">log.txt</td></td><td>2018-12-04T08:29:45.000+0000</td><td>5223</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2018-12-04

   Same here. We really hope to see a quick 7.5.1 with this one and a backport of <a href="https://github.com/appcelerator/titanium_mobile/pull/10479." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10479.</a> Otherwise people are quite unable to use this SDK in production.</li>
<li>Yordan Banev 2018-12-04

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/10507" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10507</a></li>
<li>Jorge Macias Garcia 2018-12-04

   8.0.0? Really?</li>
<li>Gary Mathews 2018-12-04

   7_5_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/10508" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10508</a></li>
<li>Lokesh Choudhary 2018-12-04

   Encountered some issues on android 4.1.Commented in the PR.</li>
<li>Lokesh Choudhary 2018-12-06

   FR Passed.
   PR's merged.</li>
<li>Lokesh Choudhary 2018-12-10

   Verified the fix in SDK 7.5.1.v20181210141225 & 8.0.0.v20181210140414.
   Closing.</li>
<li>Gertjan Smits 2019-01-06

   I'm pretty sure it isn't fixed. Or I encountered another issue. I have a reproducible test project which I can upload (but I can't because the ticket is closed I think).
   
   I want to be able to open my app by registering a url to it. My main activity looks like this:
   
   {noformat}
   <activity android:configChanges="keyboardHidden|orientation|screenSize" android:label="@string/app_name" android:name=".TestappActivity" android:resizeableActivity="false" android:screenOrientation="sensorLandscape" android:launchMode="standard">
      <intent-filter>
         <action android:name="android.intent.action.MAIN"/>
         <category android:name="android.intent.category.LAUNCHER"/>
      </intent-filter>
      <intent-filter android:autoVerify="true">
         <action android:name="android.intent.action.VIEW"/>
         <category android:name="android.intent.category.DEFAULT"/>
         <category android:name="android.intent.category.BROWSABLE"/>
         <data android:host="api-dev.ocomondo.com" android:scheme="https"/>
      </intent-filter>
   </activity>
   {noformat}
   
   This worked perfectly fine in *7.4.1.GA*. app.js is executed again when the app is opened from the url, in this case <code>api-dev.ocomondo.com</code>. This is also where I've setup the <code>assetlinks.json</code> file.
   
   It's broken in *7.5.0.GA* and also in *7.5.1.v20181218070137*.</li>
<li>Joshua Quick 2019-01-08

   [~gertjans], this ticket fixes a very specific issue where launching the app with a data intent will cause a "crash" in Titanium 7.5.0. It was a regression that was solved in Titanium 7.5.1.
   
   What exactly is not working for you?
   When you launch your app via a URL intent, does your app look like it gets stuck at the splash screen?
   
   If so, then that's not a new issue. That's been an issue for a long while. It happens when you already have an app window instance in the background and you try to launch a new instance via a different intent. Unfortunately, Titanium doesn't support multiple activity instances through different intents. Titanium has never supported this. The issue is that a JavaScript runtime is already running in the background and all JavaScript files that have already been required-in by the 1st instance can't be executed a 2nd time because they're already cached.
   
   The behavior that has changed in 7.5.0 is that Titanium will no longer execute the "app.js" a second time if it's already currently running in the background. That was a caching issue only with "app.js". But even in 7.4.0 when it executed "app.js" a 2nd time, any JS files you have required in before wouldn't have been executed a 2nd time anyways. The require() functions would have returned the cached JS modules instead.
   
   So, with the current and older versions of Titanium, what you're supposed to do is one of the following:
   <h4>Use Android <code>launchMode</code> "singleTask". But note that this will automatically close all child activity windows upon resume (this is Google's behavior, not Titanium's).</h4>
   <h4>Use "tiapp.xml" property "intent-filter-new-task" as documented [here](<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/guide/tiapp.xml_and_timodule.xml_Reference-section-src-29004921_tiapp.xmlandtimodule.xmlReference-intent-filter-new-task).</h4>
   
   Or wait for Titanium 8.0.0 where we've completely refactored the intent handling code. In that version, Titanium will replicate "singleTask" like behavior but without the child activities from being destroyed. If an Android app window is already in the background, then it will be resumed, and a  "newIntent" event will be fired. It will effectively work just like iOS does which is the behavior everyone is after.
   Please see [TIMOB-26075] for more details.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26625.json">JSON Source</a></p>