---
title: "[TIMOB-26628] iOS 11.0: App crashes on launch"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-12-05T20:06:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 7.5.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>core, defect, ios, regression</td></tr>
<tr><th>Reporter</th><td>Joe Finnigan</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2018-12-04T09:11:11.000+0000</td></tr>
<tr><th>Updated</th><td>2018-12-10T23:38:20.000+0000</td></tr>
</table>

<h3>Description</h3>

When launching any app on iOS 11.0 specifically, the app crashes with the following exception:

<code><pre>
[ERROR] The application has crashed with an uncaught exception 'NSInvalidArgumentException'.
[ERROR] Reason:
[ERROR] -[TiRootViewController setNeedsUpdateOfHomeIndicatorAutoHidden]: unrecognized selector sent to instance 0x102814e00
[ERROR] Stack trace:
[ERROR] 0   CoreFoundation                      0x0000000182bc4d74 <redacted> + 148
[ERROR] 1   libobjc.A.dylib                     0x00000001820d8528 objc_exception_throw + 56
[ERROR] 2   CoreFoundation                      0x0000000182bd2218 <redacted> + 0
[ERROR] 3   UIKit                               0x000000018ca9e874 <redacted> + 296
[ERROR] 4   CoreFoundation                      0x0000000182bca708 <redacted> + 1380
[ERROR] 5   CoreFoundation                      0x0000000182ab035c _CF_forwarding_prep_0 + 92
</pre></code>

This is re-produceable using an empty app using 'ti create'.

Launches fine on iOS 10, iOS 11.2/11.4, and iOS 12+. Only crashes on iOS 11.0 as far as we can test.

This is quite an urgent issue for us, as it is blocking us from releasing a new version to the stores.


<h3>Comments</h3>

<ol>
<li>Joe Finnigan 2018-12-04

   I think I've managed to patch this issue using the following in TiRootViewController.m
   
   <code><pre>
   #if IS_XCODE_9
     if ([TiUtils isIOS11OrGreater]) {
       if ([self respondsToSelector:@selector(setNeedsUpdateOfHomeIndicatorAutoHidden)]) {
           [self setNeedsUpdateOfHomeIndicatorAutoHidden];
       }
     }
   </pre></code>
   
   It no longer crashes on iOS 11 and works on all our test devices we have here. Based on this fix: <a href="https://github.com/lionheart/openradar-mirror/issues/18762" rel="nofollow" target="_blank">https://github.com/lionheart/openradar-mirror/issues/18762</a></li>
<li>Ewan Harris 2018-12-04

   [~jfinnigan], Does this only occur on a physical device or do you know if it's specifically 11.0.0? I'm using an 11.0.1 simulator (it's the closest I can get from XCode), and can't reproduce the issue. I'll ask the team to try if they have an iOS 11.0.0 device</li>
<li>Gary Mathews 2018-12-04

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/10510" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10510</a></li>
<li>Gary Mathews 2018-12-05

   7_5_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/10511" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10511</a></li>
<li>Lokesh Choudhary 2018-12-10

   Verified the fix in SDK 7.5.1.v20181210141225 & 8.0.0.v20181210140414.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26628.json">JSON Source</a></p>