---
title: "[TIMOB-26648] Windows: ability to override global functions"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-12-13T15:17:08.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>parity</td></tr>
<tr><th>Reporter</th><td>Kota Iguchi</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2018-12-13T11:22:20.000+0000</td></tr>
<tr><th>Updated</th><td>2019-01-03T12:26:28.000+0000</td></tr>
</table>

<h3>Description</h3>

Relates to <a href="https://github.com/appcelerator/HAL/pull/86" rel="nofollow" target="_blank">https://github.com/appcelerator/HAL/pull/86</a> , <a href="https://github.com/appcelerator/titanium-mobile-mocha-suite/blob/master/Resources/timers.test.js#L170-L176" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium-mobile-mocha-suite/blob/master/Resources/timers.test.js#L170-L176</a> and <a href="https://github.com/appcelerator/titanium_mobile/blob/master/common/Resources/ti.internal/extensions/binding.js" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/common/Resources/ti.internal/extensions/binding.js</a>

We already modified this behavior on iOS to allow to override global functions like <code>setTimeout</code>, which is typical of an environment like Node and is assumed by some of the popular JS testing frameworks.

I also ran into issues in overriding the standard require function in an effort to introduce cross-platform JS implementations of node-compatible "core" modules.

iOS PR: appcelerator/titanium_mobile#10155
unit tests we're skipping on Windows due to this

<code><pre>
var originalRequire = global.require;

global.require = function (moduleId) {
    Ti.API.info('Overridden require');
    return originalRequire(moduleId);
}

require('require_test');
</pre></code>

Expected: <code>Overridden require</code> should be shown before requiring files.


<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2018-12-13

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1334" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1334</a></li>
<li>Samir Mohammed 2019-01-03

   Closing ticket. Fix verified in SDK version <code>8.0.0.v20190102142454</code>.
   <code><pre>
   [INFO] Overridden require
   </pre></code>
   Is shown before the module is required. 
   
   Test and other information can be found at:
   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1334" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1334</a>
   
   *Test Environment*
   <code><pre>
   Operating System
     Name                        = Microsoft Windows 10 Pro
     Version                     = 10.0.17134
     Architecture                = 64bit
     # CPUs                      = 4
     Memory                      = 32.0GB
   
   Node.js
     Node.js Version             = 8.9.1
     npm Version                 = 5.5.1
   
   Appcelerator CLI
     Installer                   = 4.2.13
     Core Package                = 7.0.9-3
   
   Titanium CLI
     CLI Version                 = 5.1.1
     node-appc Version           = 0.2.44
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-26648.json">JSON Source</a></p>