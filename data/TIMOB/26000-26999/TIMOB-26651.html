---
title: "[TIMOB-26651] Windows: Ti.Locale.setLangauge result is delayed"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-01-02T21:37:59.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Christopher Williams</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2018-12-13T18:02:17.000+0000</td></tr>
<tr><th>Updated</th><td>2019-05-09T06:52:57.000+0000</td></tr>
</table>

<h3>Description</h3>

In our unit tests, we attempt to change languages and ensure we end up pulling the correct translation strings. Windows behaves oddly in that the language does get changed immediately in our model, but it still pulls the translation strings from the old language for a little while.

So ~3 tests fail in order by using the wrong language's strings, and it appears to be using the previous test's language. I'm not sure if there's some caching going on, or overriding the language is really done async - or maybe when we ask for the ResourceLoader for the current view it's outdated because it needs to load async when primary language changes?

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2018-12-19

   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1337" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1337</a></li>
<li>Keerthi Mahalingam 2019-01-02

   FR Passed.
   </li>
<li>Keerthi Mahalingam 2019-01-02

   PR merged.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26651.json">JSON Source</a></p>