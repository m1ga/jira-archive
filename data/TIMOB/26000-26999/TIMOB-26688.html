---
title: "[TIMOB-26688] iOS: Proxy objects created in timers aren't released properly"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-01-18T18:46:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.4.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.0, Release 7.5.1</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>ios</td></tr>
<tr><th>Reporter</th><td>John Staunton</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2018-12-19T11:10:01.000+0000</td></tr>
<tr><th>Updated</th><td>2019-01-23T21:45:56.000+0000</td></tr>
</table>

<h3>Description</h3>

Simplest case (iOS): Create an extremely simple app which just opens a controller containing a ListView with a headerView and a View inside that, and then close that  controller again after a couple of seconds - the View inside the HeaderView is not destroyed / memory is not released, so the View remains, its proxy remains, the header proxy remains, the list proxy remains and the window proxy remains in memory... every time you reopen the controller the allocations grow until eventually the app freezes and refuses to respond.

[Sample app attached - 'assets' folder is empty, as they're just the standard assets in any new project created via studio and take up over 13Mb so won't fit on the ticket!]

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26688_66035/Screen Shot 2019-01-02 at 5.49.05 PM.png">Screen Shot 2019-01-02 at 5.49.05 PM.png</td></td><td>2019-01-02T11:59:49.000+0000</td><td>108934</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26688_65994/TestMemory.zip">TestMemory.zip</td></td><td>2018-12-19T11:09:19.000+0000</td><td>723521</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Rakhi Mitro 2018-12-20

   Hello,
   
   Thanks for sharing with us. It would be great if you can share a screenshot(using device and simulator both) which displays the issue.</li>
<li>John Staunton 2018-12-20

   Hi @Rakhi Mitro, what do you want a screenshot of? The only thing I can send is the Apple Instruments Allocations window, showing the memory not being released... but not sure how much this can add to your investigation, since a snapshot will just show one instance of the memory that is there. Let me know, and can provide it as necessary...</li>
<li>Jan Vennemann 2019-01-08

   For the proxies this is normal behavior. A proxy is the native side of a JS object and remains in memory until the JS runtime runs its garbage collection.
   
   The view instance however should be deallocated every time the list view closes. Something in the in the list view keeps it around. Gonna take a closer look tomorrow.</li>
<li>Jan Vennemann 2019-01-17

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10629" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10629</a>
   PR (8_0_X): <a href="https://github.com/appcelerator/titanium_mobile/pull/10630" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10630</a></li>
<li>Keerthi Mahalingam 2019-01-18

   FR Passed. Waiting for CR to merge</li>
<li>Lokesh Choudhary 2019-01-23

   Verified the fix in SDK 8.0.0.v20190123061938.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26688.json">JSON Source</a></p>