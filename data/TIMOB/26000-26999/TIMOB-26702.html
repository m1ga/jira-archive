---
title: "[TIMOB-26702] Windows: Make HAL more lightweight"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Do</td></tr>
<tr><th>Resolution Date</th><td>2019-05-20T01:26:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Windows</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Kota Iguchi</td></tr>
<tr><th>Assignee</th><td>Kota Iguchi</td></tr>
<tr><th>Created</th><td>2019-01-08T01:12:02.000+0000</td></tr>
<tr><th>Updated</th><td>2019-05-20T01:26:16.000+0000</td></tr>
</table>

<h3>Description</h3>

 HAL is heavy weight framework that is not quite efficient. We might be able to make it more lightweight.

<h3>Comments</h3>

<ol>
<li>Kota Iguchi 2019-05-20

   Resolving this as "Won't Do" for now, because based on the results from related PRs above we don't see big improvements despite a fundamental changes on the internal framework. 
   
   PRs:
   
   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1365" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1365</a>
   <a href="https://github.com/appcelerator/titanium_mobile_windows/pull/1366" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile_windows/pull/1366</a>
   
   Results:
   
   * No gain on application startup/rendering time (mostly no difference compared to 8.0.0)
   * Lightweight HAL uses 16MB (18%) less application memory
   * Lightweight HAL uses 15% less CPU
   
   BEFORE
   <a href="https://user-images.githubusercontent.com/1661068/53779246-d1195300-3f42-11e9-8e20-838ce7cf1d50.png" rel="nofollow" target="_blank">https://user-images.githubusercontent.com/1661068/53779246-d1195300-3f42-11e9-8e20-838ce7cf1d50.png</a>
   
   AFTER
   <a href="https://user-images.githubusercontent.com/1661068/53779242-c959ae80-3f42-11e9-96be-791d9782aa74.png" rel="nofollow" target="_blank">https://user-images.githubusercontent.com/1661068/53779242-c959ae80-3f42-11e9-96be-791d9782aa74.png</a>
   
   However, because this is quite big internal change in our basic framework, I'm not sure if we should apply these changes to our master branch. 
   
   * We don't have no difference on our startup/rendering time.
   * This may work with less CPU/memory, but I think most users don't care about it because latest PC machines often work with rich CPU/memory compared to mobile devices. Because our performance gain on #1345 is pretty significant (up to 45% improvement), I'm not sure lightweight HAL is really worth it now.
   
   I would like to keep related PRs open hoping to give community a chance to review our current state.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26702.json">JSON Source</a></p>