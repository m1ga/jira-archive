---
title: "[TIMOB-26705] iOS: Ti.App._restart() crashes application"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-01-09T18:42:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2019-01-08T16:44:11.000+0000</td></tr>
<tr><th>Updated</th><td>2019-01-09T18:42:10.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

Calling the hidden <code>Ti.App._restart();</code> method on iOS crashes with the below, this is bad as it's used in liveview to restart the app.

<code><pre>
[ERROR] The application has crashed with an uncaught exception 'NSInvalidArgumentException'.
[ERROR] Reason:
[ERROR] -[TiRootViewController shutdownUi:]: unrecognized selector sent to instance 0x7fbee0023400
[ERROR] Stack trace:
[ERROR] 0   CoreFoundation                      0x00000001160651bb __exceptionPreprocess + 331
[ERROR] 1   libobjc.A.dylib                     0x0000000114e6f735 objc_exception_throw + 48
[ERROR] 2   CoreFoundation                      0x0000000116083f44 -[NSObject(NSObject) doesNotRecognizeSelector:] + 132
[ERROR] 3   UIKitCore                           0x0000000121f66b4a -[UIResponder doesNotRecognizeSelector:] + 287
[ERROR] 4   CoreFoundation                      0x0000000116069ed6 ___forwarding___ + 1446
[ERROR] 5   CoreFoundation                      0x000000011606bda8 _CF_forwarding_prep_0 + 120
[ERROR] 6   ticreateapp                         0x000000010f8804ae __22-[AppModule _restart:]_block_invoke + 94
[ERROR] 7   libdispatch.dylib                   0x000000011847c4e1 _dispatch_call_block_and_release + 12
[ERROR] 8   libdispatch.dylib                   0x000000011847d54b _dispatch_client_callout + 8
[ERROR] 9   libdispatch.dylib                   0x0000000118489380 _dispatch_main_queue_callback_4CF + 1290
[ERROR] 10  CoreFoundation                      0x0000000115fca3e9 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9
[ERROR] 11  CoreFoundation                      0x0000000115fc4a76 __CFRunLoopRun + 2342
[ERROR] 12  CoreFoundation                      0x0000000115fc3e11 CFRunLoopRunSpecific + 625
[ERROR] 13  GraphicsServices                    0x000000011a5f31dd GSEventRunModal + 62
[ERROR] 14  UIKitCore                           0x0000000121f3881d UIApplicationMain + 140
[ERROR] 15  ticreateapp                         0x000000010f78d156 main + 950
[ERROR] 16  libdyld.dylib                       0x00000001184ed575 start + 1
</pre></code>

<h4>Steps to reproduce</h4>

1. Add the code below to and app.js
<code><pre>
var win = Ti.UI.createWindow();
win.addEventListener('click', function () {
    Ti.App._restart();
});
win.open()
</pre></code>
2. Click the window

<h4>Actual</h4>

Above crash

<h4>Expected</h4>

App should restart back to the clean state

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2019-01-08

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/10582" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10582</a></li>
<li>Keerthi Mahalingam 2019-01-08

   FR passed.Waiting for CR to merge.</li>
<li>Gary Mathews 2019-01-08

   8_0_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/10587" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10587</a></li>
<li>Christopher Williams 2019-01-09

   [~gmathews] Was this fixed by [~vijaysingh]'s fix for TIMOB-26694? Can we resolve/close it (since that was merged)?</li>
<li>Christopher Williams 2019-01-09

   Fixed by [~vijaysingh] in his fix for the related TIMOB-26694. PRs were:
   PR (master) - <a href="https://github.com/appcelerator/titanium_mobile/pull/10593" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10593</a>
   PR (8_0_X) - <a href="https://github.com/appcelerator/titanium_mobile/pull/10594" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10594</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-26705.json">JSON Source</a></p>