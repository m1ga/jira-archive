---
title: "[TIMOB-26716] Android: 'Error while reading asset' Can be seen intermittently when running certain Android applications"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-01-18T19:30:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Samir Mohammed</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2019-01-11T17:14:58.000+0000</td></tr>
<tr><th>Updated</th><td>2019-01-18T19:30:46.000+0000</td></tr>
</table>

<h3>Description</h3>

The following error can be seen intermittently when running certain Android applications on the latest SDK in 8_0_x. The application seems to work without any issues but the error is logged in the console.
<code><pre>
[ERROR] :  TiAssetHelper: Error while reading asset "Resources/node_modules/core-js/modules/web.dom.iterable.js":
[ERROR] :  TiAssetHelper: java.io.FileNotFoundException: Resources/node_modules/core-js/modules/web.dom.iterable.js
[ERROR] :  TiAssetHelper: 	at android.content.res.AssetManager.nativeOpenAsset(Native Method)
[ERROR] :  TiAssetHelper: 	at android.content.res.AssetManager.open(AssetManager.java:744)
[ERROR] :  TiAssetHelper: 	at android.content.res.AssetManager.open(AssetManager.java:721)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.kroll.util.KrollAssetHelper.readAsset(KrollAssetHelper.java:165)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.kroll.runtime.v8.V8Runtime.nativeRunModule(Native Method)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.kroll.runtime.v8.V8Runtime.doRunModule(V8Runtime.java:162)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.kroll.KrollRuntime.runModule(KrollRuntime.java:207)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.titanium.TiLaunchActivity.loadScript(TiLaunchActivity.java:97)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.titanium.TiRootActivity.loadScript(TiRootActivity.java:414)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.titanium.TiLaunchActivity.windowCreated(TiLaunchActivity.java:174)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.titanium.TiRootActivity.windowCreated(TiRootActivity.java:283)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.titanium.TiBaseActivity.onCreate(TiBaseActivity.java:767)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.titanium.TiLaunchActivity.onCreate(TiLaunchActivity.java:167)
[ERROR] :  TiAssetHelper: 	at org.appcelerator.titanium.TiRootActivity.onCreate(TiRootActivity.java:260)
[ERROR] :  TiAssetHelper: 	at android.app.Activity.performCreate(Activity.java:7136)
[ERROR] :  TiAssetHelper: 	at android.app.Activity.performCreate(Activity.java:7127)
[ERROR] :  TiAssetHelper: 	at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)
[ERROR] :  TiAssetHelper: 	at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2893)
[ERROR] :  TiAssetHelper: 	at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3048)
[ERROR] :  TiAssetHelper: 	at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)
[ERROR] :  TiAssetHelper: 	at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)
[ERROR] :  TiAssetHelper: 	at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)
[ERROR] :  TiAssetHelper: 	at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)
[ERROR] :  TiAssetHelper: 	at android.os.Handler.dispatchMessage(Handler.java:106)
[ERROR] :  TiAssetHelper: 	at android.os.Looper.loop(Looper.java:193)
[ERROR] :  TiAssetHelper: 	at android.app.ActivityThread.main(ActivityThread.java:6669)
[ERROR] :  TiAssetHelper: 	at java.lang.reflect.Method.invoke(Native Method)
[ERROR] :  TiAssetHelper: 	at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
[ERROR] :  TiAssetHelper: 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)
</pre></code>

*A test scenario:* *Note* The error can also be shown using the kitchenSink-V2 application 
<h4>Clone the repo <a href="https://github.com/appcelerator-modules/titanium-web-dialog" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/titanium-web-dialog</a></h4>
<h4>Build the module for android (CD in to the android directory of the module and run <code>appc run --build-only</code>)</h4>
<h4>Add the module into the Titanium modules directory </h4>
<h4>Create a new Titanium application </h4>
<h4>Add the following in to the <code>app.js</code></h4>
<code><pre>
var WebDialog = require('ti.webdialog');

var win = Ti.UI.createWindow({
  backgroundColor: '#fff'
});

var btnOpenDialog = Ti.UI.createButton({
  title: 'Open Web Dialog'
});

win.add(btnOpenDialog);

btnOpenDialog.addEventListener('click', function () {
  WebDialog.open({
    url: '<a href="https://appcelerator.com" rel="nofollow" target="_blank">https://appcelerator.com</a>',
    title: 'Hello World',

    // iOS 10+
    tintColor: 'red',
    barColor: 'green',

    // iOS 11+
    barCollapsingEnabled: false,
    dismissButtonStyle: WebDialog.DISMISS_BUTTON_STYLE_CLOSE
  });
});

WebDialog.addEventListener('open', function (event) {
  console.log('open: ' + JSON.stringify(event));
});

WebDialog.addEventListener('close', function (event) {
  console.log('close: ' + JSON.stringify(event));
});

win.open();
</pre></code>
<h4>Run the program using the latest SDK from 8_0_x</h4>
<h4>Theirs a chance the above error will be shown in the console </h4>

*Actual result*
Sometimes the application logs the above error but application still works as expected. 

*Expected result*
Application should run without any issues and console should not log any errors. 


<h3>Comments</h3>

<ol>
<li>Christopher Williams 2019-01-15

   I'd treat this as a blocker, as the app will fail to load altogether when this does happen.
   
   There's a couple PRs that could possibly "fix" this:
   - <a href="https://github.com/appcelerator/titanium_mobile/pull/10613" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10613</a> - This updates our fs-extra dependency to the latest release. Maybe that'll fix the issue it has in not always copying everything over during app builds?
   - <a href="https://github.com/appcelerator/titanium_mobile/pull/10567" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10567</a> - This is where we'd "pre-ship" the polyfills when we built the SDK. I didn't intend to ship this in 8.0.0 originally, but it could "fix" the issue by doing the copy of the polyfills in our SDK build and we can then do some sort of enforced sanity check that the expected files exist or fail our own build. The "con" here is that there's potentially an app startup performance hit since the polyfills would be loaded during startup (rather than as they're used within the app).</li>
<li>Christopher Williams 2019-01-15

   [~jvennemann] just noted in our standup that this seems to work fine on first clean build, but subsequent builds exhibit this bug.</li>
<li>Christopher Williams 2019-01-16

   Assigning to Jan since he can fairly reliably reproduce on Android simulator. I'll also be trying to reproduce/fix, but hopefully Jan can nail this one.</li>
<li>Jan Vennemann 2019-01-16

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10622" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10622</a>
   PR (8_0_X): <a href="https://github.com/appcelerator/titanium_mobile/pull/10623" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10623</a></li>
<li>Lokesh Choudhary 2019-01-17

   FR Passed.
   PR's merged.</li>
<li>Keerthi Mahalingam 2019-01-18

   Verified the fix on SDK 8.1.0.v20190117115327 and 8.0.0.v20190117115226.No error displayed.works fine. Closing
   <code><pre>
    Name                        = Mac OS X
     Version                     = 10.13.6
     Memory                      = 17179869184
   Node.js
     Node.js Version             = 8.12.0
     npm Version                 = 6.4.1
   Titanium CLI
     CLI Version                 = 5.1.1
   Titanium SDK
     SDK Version                 = 8.1.0.v20190117115327 and 8.0.0.v20190117115226
   App CLI                          =7.0.10.master 5
   Device                           =Samsung s5 android 6
   Emulator                       =Pixel 3 xl android 9
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-26716.json">JSON Source</a></p>