---
title: "[TIMOB-26729] TiAPI: Ship baseline polyfills in built SDK"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-02-27T19:01:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.1.0</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Christopher Williams</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2019-01-15T17:38:04.000+0000</td></tr>
<tr><th>Updated</th><td>2019-06-13T12:50:29.000+0000</td></tr>
</table>

<h3>Description</h3>

As part of our ES6/7/8 support we now use babel transpilation via preset-env and polyfills. Currently, we are injecting polyfills based on usage during the transpiration process. The avoids unnecessary polyfills, but may lead to the same polyfills being required across many files.

We can potentially move the polyfills into the app bootstrapping core js code we ship in the SDK itself so that the polyfills are required only once at startup.

Pros:
- potential speed boost when making use of polyfills by only loading them once (though also a potential startup perf hit!)
- make use of polyfills in our core js bootstrap code
- remove special polyfill copying done in node-titanium-sdk during app builds

Cons:
- shipping polyfills twice in built SDK right now (under node-titanium-sdk and in the bootstrap code) - can be fixed by removing from node-titanium-sdk
- no gain (but instead a perf hit!) if these polyfills are't actually being used

<h3>Comments</h3>

<ol>
<li>Christopher Williams 2019-02-27

   Merged to master for 8.1.0 eventual release. Also includes upgrade to node-titanium-sdk 3.0.0.</li>
<li>Christopher Williams 2019-06-11

   Here's the relevant PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/10567" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10567</a></li>
<li>Samir Mohammed 2019-06-13

   Closing ticket, tested against KitchenSink-v2 using <code>8.1.0.v20190612160220</code> and <code>8.2.0.v20190612155743</code>
   
   Test and other information can be found at: <a href="https://github.com/appcelerator/titanium_mobile/pull/10567" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10567</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-26729.json">JSON Source</a></p>