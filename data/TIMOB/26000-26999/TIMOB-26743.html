---
title: "[TIMOB-26743] Ti SDK not able to recognize usb-device tag. Making it disappears after build"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2019-11-07T17:33:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Motiur Rahman</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2019-01-17T16:40:04.000+0000</td></tr>
<tr><th>Updated</th><td>2019-11-07T17:33:48.000+0000</td></tr>
</table>

<h3>Description</h3>

I have created xml file in platform/android/res/xml/device_filter.xml (refer to the first screenshot) but in not get applied after building an App.
device_filter.xml (in platform/android/res/xml/device_filter.xml)

<code><pre>
<?xml version="1.0" encoding="utf-8"?>

<resources>

<!-- 0x0403 / 0x6001: FTDI FT232R UART -->

<usb-device vendor-id="1027" product-id="24577" />

<!-- 0x2341 / Arduino -->

<usb-device vendor-id="9025" />

<!-- 0x16C0 / 0x0483: Teensyduino -->

<usb-device vendor-id="5824" product-id="1155" />

</resources>
</pre></code>

After building the Appcelerator project, it becomes blank in the build folder. (refer second screenshot)

<code><pre>
<?xml version="1.0" encoding="UTF-8"?>

<resources>

</resources>

</pre></code>


<code><pre>
<intent-filter>
<action android:name="android.hardware.usb.action.USB_DEVICE_ATTACHED" />
</intent-filter>
<meta-data
android:name="android.hardware.usb.action.USB_DEVICE_ATTACHED" 
android:resource="@xml/device_filter" />
</pre></code>


Please find below download link for test code
- <a href="https://we.tl/t-UafUiEAun1" rel="nofollow" target="_blank">https://we.tl/t-UafUiEAun1</a>

You can check device_filter.xml in Platform folder.
And after building the project it becomes blank in build folder.

The functionality I have to achieve is

1) When I connect the specific device to USB port of android box(mentioning its vendor id , product id in Xml file)
then it's not asking permission again & again for device connection.

Otherwise, it's asking me for permission again & again.

We tried this with native, it is working as per expected but in Appcelerator, it's not working because it is not processing xml file in XML folder.

Thanks!



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26743_66100/first.png">first.png</td></td><td>2019-01-17T16:37:31.000+0000</td><td>9767</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-26743_66099/second.png">second.png</td></td><td>2019-01-17T16:37:32.000+0000</td><td>67778</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sharif AbuDarda 2019-01-17

   Hello, I was able to verify the issue with the sample code provided. During build the xml file becomes blank in the build folder. What seems to be the issue here? Tested in Android with SDK 7.5.0.GA. Thanks.</li>
<li>sandeep 2019-01-31

   issue is  usb-device tag become blank after build . due to which my connected usb devices is not getting auto permission. it asking me permission again again after each device launch in appcelerator.
   
   
   
   
   In native, with above code  usb-device tag  not becoming blank. Usb connected device will get auto permission & not asking me permission again & again
   
   device_filter.xml is contain vendor id & product id device. as per android functionality. This devices become whitelist for my app then it should not asking  permission again & again.
   
   but in applecelerator, this usb-device tag are not processing during build and it become blank after build. hence this usb device not become whitelist for app & asking permission again & again.
   @Sharif AbuDarda ad
   
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-26743.json">JSON Source</a></p>