---
title: "[TIMOB-26746] Android: Ti.App wrongly fires pause/resume event when opening/closing child windows"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-03-26T11:03:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 7.5.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, app, engSchedule, event, parity, pause, resume</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2019-01-18T04:08:24.000+0000</td></tr>
<tr><th>Updated</th><td>2019-03-26T11:03:17.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
<code>Ti.App</code> events "pause" and "paused" must only be fired when the app is put into the background. Events "resume" and "resumed" are to be fired when the app is returned to the foreground (include cold app startup).

Android correctly does the above when put into the background and foreground.

However, Android will also fire a "pause" and "resume" event when opening or closing a child window. This does not follow iOS' behavior and is a parity issue.

*Note:*
To be fair, the current pause/resume event behavior is how it natively works with Android's individual activities. However, app developers need these events to disable sensors when backgrounded and re-enable them when put back into the foreground, which is currently difficult to do in Titanium for the moment.

*Steps to reproduce:*
<h4>Build and run the below code on Android.</h4>
<h4>Tap the "Open Child" button.</h4>
<h4>Observe the log.</h4>
<h4>Notice that pause and resume events were logged. _(This is the bug.)_</h4>

<code><pre>
function appEventHandler(e) {
	Ti.API.info("@@@ '" + e.type + "' event received.");
	if ((Ti.Platform.name === "android") || (Ti.Platform.name === "windows")) {
		Ti.UI.createNotification({
			message: e.type,
			duration: Ti.UI.NOTIFICATION_DURATION_SHORT,
		}).show();
	}
}

Ti.App.addEventListener("resume", appEventHandler);
Ti.App.addEventListener("resumed", appEventHandler);
Ti.App.addEventListener("pause", appEventHandler);
Ti.App.addEventListener("paused", appEventHandler);
Ti.App.addEventListener("close", appEventHandler);

var rootWindow = Ti.UI.createWindow({ title: "Parent Window" });
var openButton = Ti.UI.createButton({ title: "Open Child" });
openButton.addEventListener("click", function() {
	var childWindow = Ti.UI.createWindow({ title: "Child Window" });
	var closeButton = Ti.UI.createButton({ title: "Close Child" });
	closeButton.addEventListener("click", function() {
		childWindow.close();
	});
	childWindow.add(closeButton);
	childWindow.open();
});
rootWindow.add(openButton);
rootWindow.open();
</pre></code>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2019-01-18

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10634" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10634</a></li>
<li>Joshua Quick 2019-01-30

   PR (8.0.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/10658" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10658</a></li>
<li>Satyam Sekhri 2019-03-20

   FR Passed. Waiting on Jenkins build. </li>
<li>Christopher Williams 2019-03-25

   merged to master, 8_0_X</li>
<li>Samir Mohammed 2019-03-26

   *Closing ticket.* Fix verified in SDK version  <code>8.0.1.v20190325125116</code> and SDK Version <code>8.1.0.v20190325115012</code>.
   
   Test and other information can be found at: 
   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/10634" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10634</a>
   PR (8.0.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/10658" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10658</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-26746.json">JSON Source</a></p>