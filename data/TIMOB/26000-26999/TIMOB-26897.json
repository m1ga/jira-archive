{
	"id": "173121",
	"key": "TIMOB-26897",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [],
		"resolution": {
			"id": "10000",
			"description": "",
			"name": "Done"
		},
		"resolutiondate": "2019-10-13T04:34:33.000+0000",
		"created": "2019-03-13T11:48:06.000+0000",
		"priority": {
			"name": "None",
			"id": "6"
		},
		"labels": [],
		"versions": [
			{
				"id": "20429",
				"name": "Release 7.5.1",
				"archived": false,
				"released": true,
				"releaseDate": "2019-02-26"
			}
		],
		"issuelinks": [],
		"assignee": {
			"name": "vijaysingh",
			"key": "vijaysingh",
			"displayName": "Vijay Singh",
			"active": true,
			"timeZone": "America/Los_Angeles"
		},
		"updated": "2019-10-13T04:34:33.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10206",
				"name": "iOS",
				"description": "iOS Platform"
			}
		],
		"description": "The customer has an issue regarding to add third-Party iOS Framework which causes build error. The module is packaged successfully on SDK 7.5.1.GA.\r\n\r\n*Sample Test module*: https://www.dropbox.com/s/fz79its9l8w1kt6/iosTestModule1.zip?dl=0 \r\n\r\n*Steps to reproduce:*\r\n\r\n1. Download and unzip the attached iosTestModule file. \r\n2. Open titanium.xcconfig file,update Titanium SDK path in titanium.xcconfig file. \r\n\r\n{code}\r\n\r\nTITANIUM_SDK_VERSION = 7.5.1.GA\r\n\r\n//\r\n// THESE SHOULD BE OK GENERALLY AS-IS\r\n//\r\nTITANIUM_SDK = /............./Library/Application Support/Titanium/mobilesdk/osx/7.5.1.GA\r\nTITANIUM_BASE_SDK = \"$(TITANIUM_SDK)/iphone/include\"\r\nTITANIUM_BASE_SDK2 = \"$(TITANIUM_SDK)/iphone/include/TiCore\"\r\nTITANIUM_BASE_SDK3 = \"$(TITANIUM_SDK)/iphone/include/JavaScriptCore\"\r\nHEADER_SEARCH_PATHS= $(TITANIUM_BASE_SDK) $(TITANIUM_BASE_SDK2) $(TITANIUM_BASE_SDK3)\r\n\r\n{code}\r\n\r\n3. Now package the module and bind to a sample Appc project. \r\n4. Try to run the sample project and observe the error. \r\n\r\n{code}\r\n[ERROR] :  ** BUILD FAILED **\r\n[ERROR] :  The following build commands failed:\r\n[ERROR] :  \tLd /Users/sharifabudarda/Documents/Appcelerator_Studio_Workspace/AC6068/build/iphone/build/Intermediates/AC6068.build/Debug-iphoneos/AC6068.build/Objects-normal/armv7/AC6068 normal armv7\r\n[ERROR] :  (1 failure\r\n\r\n{code}",
		"attachment": [
			{
				"id": "66262",
				"filename": "iOS Device Trace.txt",
				"author": {
					"name": "fhaque",
					"key": "fhaque",
					"displayName": "Fazlul Haque",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-03-14T17:33:37.000+0000",
				"size": 1927611,
				"mimeType": "text/plain"
			},
			{
				"id": "66344",
				"filename": "KofaxMobileSDKDevelopersGuide_EN.pdf",
				"author": {
					"name": "fhaque",
					"key": "fhaque",
					"displayName": "Fazlul Haque",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-03-25T14:31:16.000+0000",
				"size": 1307071,
				"mimeType": "application/pdf"
			},
			{
				"id": "66329",
				"filename": "log.txt",
				"author": {
					"name": "rmitro",
					"key": "rmitro",
					"displayName": "Rakhi Mitro",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-03-20T08:32:46.000+0000",
				"size": 4579853,
				"mimeType": "text/plain"
			},
			{
				"id": "66261",
				"filename": "tracelog.txt",
				"author": {
					"name": "fhaque",
					"key": "fhaque",
					"displayName": "Fazlul Haque",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-03-14T15:57:58.000+0000",
				"size": 1615290,
				"mimeType": "text/plain"
			}
		],
		"flagged": false,
		"summary": "iOS Module: Adding Third-Party iOS Framework causes build error",
		"creator": {
			"name": "rmitro",
			"key": "rmitro",
			"displayName": "Rakhi Mitro",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"subtasks": [],
		"reporter": {
			"name": "rmitro",
			"key": "rmitro",
			"displayName": "Rakhi Mitro",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"environment": null,
		"closedSprints": [
			{
				"id": 1123,
				"state": "closed",
				"name": "2019 Sprint 7",
				"startDate": "2019-03-18T17:27:25.993Z",
				"endDate": "2019-03-30T17:27:00.000Z",
				"completeDate": "2019-03-29T18:02:37.441Z",
				"originBoardId": 114
			}
		],
		"comment": {
			"comments": [
				{
					"id": "446839",
					"author": {
						"name": "vijaysingh",
						"key": "vijaysingh",
						"displayName": "Vijay Singh",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~fhaque] \r\n1. I am not able to get module from shared link. Please share the module again.\r\n2. Is error happening for running the module for device and simulator both?",
					"updateAuthor": {
						"name": "vijaysingh",
						"key": "vijaysingh",
						"displayName": "Vijay Singh",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-03-14T17:00:25.000+0000",
					"updated": "2019-03-14T17:00:25.000+0000"
				},
				{
					"id": "446927",
					"author": {
						"name": "fhaque",
						"key": "fhaque",
						"displayName": "Fazlul Haque",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "We have some update from the customer about their module. They are planning to integrate Kofax iOS mobile SDK with our Appcelerator mobile app. Kofax offers data capture module for mobile apps to capture images, process and extract data correctly (from physical documents/papers) with device camera. To call kofax native iOS APIs from JavaScript, they are creating a custom module for iOS (integrating Kofax Mobile SDK). Please find below some useful links. \r\n\r\nhttps://www.kofax.com/Products/Mobile-Capture/Mobile-SDK/Features \r\n\r\nhttps://knowledge.kofax.com/Mobile_Capture \r\n\r\nhttps://www.kofax.com/-/media/Files/Datasheets/EN/ps_kofax-mobile-sdk_en.pdf ",
					"updateAuthor": {
						"name": "fhaque",
						"key": "fhaque",
						"displayName": "Fazlul Haque",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-03-15T20:12:51.000+0000",
					"updated": "2019-03-15T20:12:51.000+0000"
				},
				{
					"id": "446929",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "Real issue:\r\n{code}\r\n[TRACE] :    \"_vDSP_dotprD\", referenced from:\r\n[TRACE] :        tesseract::WeightMatrix::MatrixDotVector(double const*, double*) const in MobileSDK(weightmatrix.o)\r\n[TRACE] :        tesseract::WeightMatrix::MatrixDotVectorInternal(GENERIC_2D_ARRAY<double> const&, bool, bool, double const*, double*) in MobileSDK(weightmatrix.o)\r\n[TRACE] :        tesseract::WeightMatrix::VectorDotMatrix(double const*, double*) const in MobileSDK(weightmatrix.o)\r\n[TRACE] :        tesseract::WeightMatrix::SumOuterTransposed(tesseract::TransposedArray const&, tesseract::TransposedArray const&, bool) in MobileSDK(weightmatrix.o)\r\n[TRACE] :        tesseract::WeightMatrix::DotProduct(double const*, double const*, int) in MobileSDK(weightmatrix.o)\r\n[TRACE] :  ld: symbol(s) not found for architecture armv7\r\n{code}\r\nProbably linking thee {{AudioToolbox}}  framework correctly will fix this. This is no Titanium bug.",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2019-03-15T21:49:57.000+0000",
					"updated": "2019-03-15T21:49:57.000+0000"
				},
				{
					"id": "447010",
					"author": {
						"name": "rmitro",
						"key": "rmitro",
						"displayName": "Rakhi Mitro",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~vijaysingh],Here is the response from the customer:\r\n{code}\r\n\r\nThis Kofax framework needs other Apple frameworks/libraries to be added in the module. So we have added them to the module and the framework names are updated in the module.xcconfig file. \r\nBelow are the list of dependencies for kofax: \r\n1. Accelerate.framework \r\n2. MobileCoreServices.framework \r\n3. CoreMotion.framework \r\n4. AssetsLibrary.framework \r\n5. AudioToolbox.framework \r\n6. SystemConfiguration.framework \r\n7. CoreMedia.framework \r\n8. CoreLocation.framework \r\n9. Foundation.framework \r\n10. libz.tbd \r\n11. libxml2.tbd \r\n12. libsqlite3.tbd \r\n13. libc++.tbd \r\n\r\nAfter packaging the module with the above changes and target to a sample app. When running the sample app still produces an error. Attached the sample module in below dropboxlink. \r\n\r\nURL: https://www.dropbox.com/sh/nab40u3sb7as9rw/AAALdv16SxrC9qMPQpLjrdpka?dl=0 \r\n\r\nAfter adding all the above frameworks, we are unable to see the mentioned error “_vDSP_dotprD” in the build log file. Attached is the sample app’s build log file. \r\n{code}",
					"updateAuthor": {
						"name": "rmitro",
						"key": "rmitro",
						"displayName": "Rakhi Mitro",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-03-20T08:32:05.000+0000",
					"updated": "2019-03-20T08:32:05.000+0000"
				}
			],
			"maxResults": 22,
			"total": 22,
			"startAt": 0
		}
	}
}