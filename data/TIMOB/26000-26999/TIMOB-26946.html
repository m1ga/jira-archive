---
title: "[TIMOB-26946] iOS: Launch screen shows last screen when quickly relaunching the app"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-04-25T12:53:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>engSchedule</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2019-03-28T08:01:54.000+0000</td></tr>
<tr><th>Updated</th><td>2019-04-25T12:53:29.000+0000</td></tr>
</table>

<h3>Description</h3>

To be reproducible easily on KitchenSink-v2: Launch the app, kill it from multitasking and quickly reopen it. On native apps, the launch screen is shown again. On Titanium, it shows a screenshot of the last screen visible. Most interesting: If you wait a few seconds, it's not showing the last screen and behaves correctly. I suspect this being related to the kroll-cleanup taking longer than expected, but if this could be investigates, we'd greatly appreciate it!

*EDIT*: Busted! [This](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/iphone/TitaniumKit/TitaniumKit/Sources/API/TiApp.m#L1014-L1016)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/iphone/TitaniumKit/TitaniumKit/Sources/API/TiApp.m#L1014-L1016)</a> will cause  it. I suspect now that kroll-thread is fully removed, it could either be removed completely or be replaced by less harming dispatch-queues

*EDIT 2*: Removing it indeed fixed the issue for our test-app. No crashes detected either.

*EDIT 3*: The code was added 9 (!) years ago ([here](<a href="https://github.com/appcelerator/titanium_mobile/commit/cfa5485bc08af28fd6213b8f74fd681f6b43bfd2#diff-3808dfd4ad9381dd993eae7568b09ac4R341))" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/cfa5485bc08af28fd6213b8f74fd681f6b43bfd2#diff-3808dfd4ad9381dd993eae7568b09ac4R341))</a> and was related to kroll stability. Filing a PR now.

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2019-03-28

   Pull: <a href="https://github.com/appcelerator/titanium_mobile/pull/10812" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10812</a></li>
<li>Keerthi Mahalingam 2019-04-22

   FR passed. waiting on Jenkins.</li>
<li>Keerthi Mahalingam 2019-04-22

   PR merged. </li>
<li>Samir Mohammed 2019-04-25

   Closing ticket, fix verified in SDK Version 8.1.0.v20190423134840
   
   Test and other information can be found at: 
   <a href="https://github.com/appcelerator/titanium_mobile/pull/10812" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/10812</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-26946.json">JSON Source</a></p>