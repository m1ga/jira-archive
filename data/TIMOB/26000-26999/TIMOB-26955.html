---
title: "[TIMOB-26955] Android: Test location collection without \"ACCESS_BACKGROUND_LOCATION\" permission on Android Q"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-09-09T17:22:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, geolocation, location, permission</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2019-03-30T00:57:12.000+0000</td></tr>
<tr><th>Updated</th><td>2019-09-09T17:22:12.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
Android Q introduces the following new "AndroidManifest.xml" permission...
<code><pre>
&lt;uses-permission android:name="android.permission.ACCESS_BACKGROUND_LOCATION"/&gt;
</pre></code>

This permission is needed to collect "location" data while the app is in the background. This permission is not needed if the app is currently running a "foreground" service.
<a href="https://developer.android.com/preview/privacy/device-location#request-background-location" rel="nofollow" target="_blank">https://developer.android.com/preview/privacy/device-location#request-background-location</a>

*To Do:*
<h4>Verify what happens when collecting "location" data from <code>Ti.Geolocation</code> in a backgrounded Titanium app without this permission defined in the "AndroidManifest.xml". _(Should not crash. Should log an error instead.)_</h4>
<h4>Verify what happens when calling <code>Ti.Geolocation.requestLocationPermissions()</code> without the above <code>ACCESS_BACKGROUND_LOCATION</code> and attempt to collection "location" data in the background.</h4>
<h4>Verify what happens when calling <code>Ti.Android.requestPermissions()</code> with both <code>ACCESS_BACKGROUND_LOCATION</code> and <code>ACCESS_COURSE_LOCATION</code> defined... and the end-user taps "no" for backgrounding.</h4>


<h3>Comments</h3>

<ol>
<li>Gary Mathews 2019-09-09

   Provided a detailed example for obtaining location in the background as part of:
   8_3_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/11197" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11197</a>
   
   <code>android.permission.ACCESS_BACKGROUND_LOCATION</code> is required for background location logging.</li>
</ol>


<p><a href="/TIMOB/TIMOB-26955.json">JSON Source</a></p>