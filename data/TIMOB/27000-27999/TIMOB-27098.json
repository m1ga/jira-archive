{
	"id": "173552",
	"key": "TIMOB-27098",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "20841",
				"name": "node-titanium-sdk 3.2.0",
				"archived": false,
				"released": true,
				"releaseDate": "2019-06-19"
			},
			{
				"id": "20412",
				"name": "Release 8.1.0",
				"archived": false,
				"released": true,
				"releaseDate": "2019-08-13"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2019-07-02T21:00:36.000+0000",
		"created": "2019-04-29T12:55:28.000+0000",
		"epic": {
			"id": 173613,
			"key": "TISTUD-9169",
			"name": "Fix Debugging",
			"summary": "Fix miscellaneous debugger issues",
			"color": {
				"key": "color_1"
			},
			"done": false
		},
		"priority": {
			"name": "Critical",
			"id": "1"
		},
		"labels": [
			"engSchedule"
		],
		"versions": [],
		"issuelinks": [
			{
				"id": "57652",
				"type": {
					"id": "10002",
					"name": "Duplicate",
					"inward": "is duplicated by",
					"outward": "duplicates"
				},
				"outwardIssue": {
					"id": "172903",
					"key": "TIMOB-26813",
					"fields": {
						"summary": "iOS: Debugging  using Webkit inspector not exposing  the right javaScript context",
						"status": {
							"description": "The issue is open and ready for the assignee to start work on it.",
							"name": "Open",
							"id": "1",
							"statusCategory": {
								"id": 2,
								"key": "new",
								"colorName": "blue-gray",
								"name": "To Do"
							}
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "57701",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "173735",
					"key": "ALOY-1691",
					"fields": {
						"summary": "Source maps report incorrect \"file\" value",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "High",
							"id": "2"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "57700",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "173670",
					"key": "ALOY-1690",
					"fields": {
						"summary": "sourcemaps not being generated for files under lib",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "None",
							"id": "6"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "57699",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "171402",
					"key": "ALOY-1612",
					"fields": {
						"summary": "CLI: Be able to use Alloy source-maps in Safari Debugger / Chrome Dev-Tools",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "None",
							"id": "6"
						},
						"issuetype": {
							"id": "4",
							"description": "An improvement or enhancement to an existing feature or task.",
							"name": "Improvement",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "cwilliams",
			"key": "cwilliams",
			"displayName": "Christopher Williams",
			"active": true,
			"timeZone": "America/New_York"
		},
		"updated": "2019-07-02T21:00:37.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [],
		"description": "For a while now I have only been able to debug using Safari on version 7.4.1GA. When I use 7.5.X or 8.0.X then the Safari Web Inspector doesn't seem to be wired up correctly anymore. \r\n\r\nPlease see the screenshot of what I see in Web Inspector. It seems to be displaying appcelerator Kroll type files rather than my apps files.\r\n\r\nAfter quite a few re-deploys of the app to Simulator a breakpoint in Studio may hit and I can temporarily debug but it's not very stable. Deploying to a device seems to be better especially on Android.\r\n\r\nSteps to reproduce:\r\n- Create a new blank classic project (I don't use Alloy)\r\n- Deploy in Debug mode to Simulator (I used iPhone XS as it was a new emulator type to be a fair test)\r\n- Open Safari > Go to Developer > Simulator iPhone XS > JSContext\r\n- I see Titanium internal js files not my app code (see screenshot)\r\n",
		"attachment": [
			{
				"id": "66579",
				"filename": "Web_Inspector_—_iPhone_Xs_Max_—_testAttach_—_JSContext.png",
				"author": {
					"name": "mark.henderson@snagr.co.uk",
					"key": "mark.henderson@snagr.co.uk",
					"displayName": "Mark Henderson",
					"active": true,
					"timeZone": "Europe/London"
				},
				"created": "2019-04-29T12:52:22.000+0000",
				"size": 584337,
				"mimeType": "image/png"
			}
		],
		"flagged": false,
		"summary": "iOS: debugger does not show all app files loaded",
		"creator": {
			"name": "mark.henderson@snagr.co.uk",
			"key": "mark.henderson@snagr.co.uk",
			"displayName": "Mark Henderson",
			"active": true,
			"timeZone": "Europe/London"
		},
		"subtasks": [],
		"reporter": {
			"name": "mark.henderson@snagr.co.uk",
			"key": "mark.henderson@snagr.co.uk",
			"displayName": "Mark Henderson",
			"active": true,
			"timeZone": "Europe/London"
		},
		"environment": "iOS Simulator. (Latest everything: Latest XCode, AppC Studio, CLI, 8.0.0GA SDK)",
		"comment": {
			"comments": [
				{
					"id": "448118",
					"author": {
						"name": "sdarda",
						"key": "sdarda",
						"displayName": "Sharif AbuDarda",
						"active": false,
						"timeZone": "Asia/Dhaka"
					},
					"body": "Hello, Can you share the full steps to reproduce the issue on our end? We will try it with the latest SDK and the previous once to see whether the difference is reproducible or not. Thanks.",
					"updateAuthor": {
						"name": "sdarda",
						"key": "sdarda",
						"displayName": "Sharif AbuDarda",
						"active": false,
						"timeZone": "Asia/Dhaka"
					},
					"created": "2019-05-01T17:14:07.000+0000",
					"updated": "2019-05-01T17:14:07.000+0000"
				},
				{
					"id": "448140",
					"author": {
						"name": "mark.henderson@snagr.co.uk",
						"key": "mark.henderson@snagr.co.uk",
						"displayName": "Mark Henderson",
						"active": true,
						"timeZone": "Europe/London"
					},
					"body": "ok added the steps, see above..",
					"updateAuthor": {
						"name": "mark.henderson@snagr.co.uk",
						"key": "mark.henderson@snagr.co.uk",
						"displayName": "Mark Henderson",
						"active": true,
						"timeZone": "Europe/London"
					},
					"created": "2019-05-02T05:56:18.000+0000",
					"updated": "2019-05-02T05:56:18.000+0000"
				},
				{
					"id": "448143",
					"author": {
						"name": "rmitro",
						"key": "rmitro",
						"displayName": "Rakhi Mitro",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~mark.henderson@snagr.co.uk],\r\nDid you experience the issue on iOS simulator/device both?",
					"updateAuthor": {
						"name": "rmitro",
						"key": "rmitro",
						"displayName": "Rakhi Mitro",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-05-02T08:31:23.000+0000",
					"updated": "2019-05-02T08:31:23.000+0000"
				},
				{
					"id": "448145",
					"author": {
						"name": "mark.henderson@snagr.co.uk",
						"key": "mark.henderson@snagr.co.uk",
						"displayName": "Mark Henderson",
						"active": true,
						"timeZone": "Europe/London"
					},
					"body": "I'm experiencing the same between iOS simulator, device and Android both.",
					"updateAuthor": {
						"name": "mark.henderson@snagr.co.uk",
						"key": "mark.henderson@snagr.co.uk",
						"displayName": "Mark Henderson",
						"active": true,
						"timeZone": "Europe/London"
					},
					"created": "2019-05-02T09:20:01.000+0000",
					"updated": "2019-05-02T09:20:01.000+0000"
				},
				{
					"id": "448212",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "So debugging in Studio vs Safari/Chrome are entirely separate issues. There are known issues with Studio debugging in various configurations/OS versions and we're working on those issues. (e.g. TISTUD-9161, TISTUD-9166) One of the bigger ones recently was that with iOS 11.3+ Apple modified how the debugger connects to simulators - TISTUD-9159\r\n\r\nDebugging in Safari/Chrome should work fine, and the screenshot does not indicate an \"issue\" here. In SDK 8+ we use polyfilling on the platforms to \"fill in\" support for ES6+ language features that the underlying JS engine may not yet support. Those files in the screenshot are a result of that polyflling and technically *are* baked into your app/the SDK. The set of files that get included varies by the platform/JS engine, but iOS has much more than Android due to our support back to iOS 8.x (which effectively has no native ES6 support).\r\n\r\nAlso note that as of 8.1 we \"bundle\" all the polyfills/internal JS code we bake in to a single file (ti.main.js), so the file listing will be less \"busy\".",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2019-05-07T15:33:56.000+0000",
					"updated": "2019-05-07T15:35:47.000+0000"
				},
				{
					"id": "448213",
					"author": {
						"name": "mark.henderson@snagr.co.uk",
						"key": "mark.henderson@snagr.co.uk",
						"displayName": "Mark Henderson",
						"active": true,
						"timeZone": "Europe/London"
					},
					"body": "Hi Christopher,\r\n\r\nThanks for the update, I will check each issue out tomorrow.\r\n\r\nWith iOS I wasn't able to locate my files but I will check again tomorrow. Chrome seems to be working great, there are extra files but they are nicely segregated and I can see my own files and debug etc,, Safari / Appcelerator Studio is struggling at the moment.\r\n\r\nThanks!",
					"updateAuthor": {
						"name": "mark.henderson@snagr.co.uk",
						"key": "mark.henderson@snagr.co.uk",
						"displayName": "Mark Henderson",
						"active": true,
						"timeZone": "Europe/London"
					},
					"created": "2019-05-07T15:36:53.000+0000",
					"updated": "2019-05-07T15:36:53.000+0000"
				},
				{
					"id": "448554",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "Ok, I'm actually seeing this oddball behavior under Safari/iOS as well - I can see *some* of the polyfilled scripts, but can't see the app.js file itself in the list of scripts. I don't really get why it likes some files but not others here...",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2019-05-21T15:55:01.000+0000",
					"updated": "2019-05-21T15:55:01.000+0000"
				},
				{
					"id": "448557",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "Looks like Safari may have an issue with files that contain inlined source maps in a trailing comment? Seems to me that only the files returning a sourceMapURL value are \"missing\" in the listings.\r\n\r\nAccording to this, they've had support for this since 2016: https://bugs.webkit.org/show_bug.cgi?id=154303\r\n\r\nSo I'm not really sure exactly what's going wrong here. I guess I'll have to fiddle with not generating source maps or tweaking settings to try and figure it out.",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2019-05-21T16:53:28.000+0000",
					"updated": "2019-05-21T17:02:17.000+0000"
				},
				{
					"id": "448917",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "For a first pass, I think turning off source-maps by default on development builds for iOS would help.\r\n\r\nI'm going to expose a --source-maps flag to the CLI build, so we can explicitly turn it on for builds (say from Studio), as right now it's a tiapp property (so source mapping will be turned on if you have the property set to true or pass the flag to the CLI for iOS - it will remain on by default for non-production builds on Android)",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2019-06-07T13:51:29.000+0000",
					"updated": "2019-06-07T13:51:29.000+0000"
				},
				{
					"id": "449000",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "https://github.com/appcelerator/node-titanium-sdk/pull/106",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2019-06-11T20:08:39.000+0000",
					"updated": "2019-06-11T20:08:39.000+0000"
				},
				{
					"id": "449083",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "Thanks for handling this Chris! Curious if Alloy files finally show up properly as well (not the generated files but the ones that actually include ES6+ etc).",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2019-06-14T15:33:14.000+0000",
					"updated": "2019-06-14T15:33:26.000+0000"
				},
				{
					"id": "449135",
					"author": {
						"name": "rlustemberg",
						"key": "rlustemberg",
						"displayName": "Richard Lustemberg",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "Hi Chris. I've pulled the module from your repo, but didn't manage yet to get all source code to show up in the Webkit inspector.\r\nI've build using the command from VSC:\r\n\r\n{noformat}\r\nappc \"run\" \"--platform\" \"ios\" \"--log-level\" \"debug\" \"--project-dir\" \"/Users/richard/Code/Titanium/Drawing App\" \"--target\" \"simulator\" \"--device-id\" \"xxx\"\r\n{noformat}\r\n\r\nIs there. anything else I should do? I've used your branch, latest commit from today (17-6-19)\r\nThanks for taking care of this!",
					"updateAuthor": {
						"name": "rlustemberg",
						"key": "rlustemberg",
						"displayName": "Richard Lustemberg",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2019-06-17T17:14:17.000+0000",
					"updated": "2019-06-17T17:15:14.000+0000"
				},
				{
					"id": "449201",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "PR to roll this fix up into SDK 8.1.0: https://github.com/appcelerator/titanium_mobile/pull/10981",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2019-06-19T15:16:30.000+0000",
					"updated": "2019-06-19T15:16:30.000+0000"
				},
				{
					"id": "449213",
					"author": {
						"name": "ssekhri",
						"key": "ssekhri",
						"displayName": "Satyam Sekhri",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "FR Passed. The app.js (main and child) are both shown during debug using safari web inspector and chrome dev-tools. Also the breakpoints are hit as expected.",
					"updateAuthor": {
						"name": "ssekhri",
						"key": "ssekhri",
						"displayName": "Satyam Sekhri",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-06-19T20:44:26.000+0000",
					"updated": "2019-06-19T20:44:26.000+0000"
				},
				{
					"id": "449217",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "merged to master and 8_1_X",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2019-06-19T22:02:22.000+0000",
					"updated": "2019-06-19T22:02:22.000+0000"
				},
				{
					"id": "449566",
					"author": {
						"name": "kmahalingam",
						"key": "kmahalingam",
						"displayName": "Keerthi Mahalingam",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Verified the fix on sdk 8.1.0.v20190702104421 and 8.2.0.v20190702103948.Debugger shows all app files. works as expected\r\n{code}\r\nName                        = Mac OS X\r\n  Version                     = 10.14.5\r\n  Architecture                = 64bit\r\n  # CPUs                      = 12\r\n  Memory                      = 17179869184\r\nNode.js\r\n  Node.js Version             = 10.13.0\r\n  npm Version                 = 6.4.1\r\nTitanium CLI\r\n  CLI Version                 = 5.2.1\r\nTitanium SDK\r\n  SDK Version                 = 8.2.0.v20190702103948  and 8.1.0.v20190702104421\r\nDevice = iPhone X iOS 11\r\nSimulator = iPhone XS iOS 12\r\n{code}\r\n",
					"updateAuthor": {
						"name": "kmahalingam",
						"key": "kmahalingam",
						"displayName": "Keerthi Mahalingam",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-07-02T21:00:33.000+0000",
					"updated": "2019-07-02T21:00:33.000+0000"
				}
			],
			"maxResults": 17,
			"total": 17,
			"startAt": 0
		}
	}
}