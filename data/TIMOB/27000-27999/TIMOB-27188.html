---
title: "[TIMOB-27188] Android: TabGroup crashes if tab "title" property is not set as of 8.0.2"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-07-02T22:09:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.0.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>TabGroup, android, engSchedule, regression, tab, title</td></tr>
<tr><th>Reporter</th><td>Andreas Pingas</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2019-06-26T21:28:59.000+0000</td></tr>
<tr><th>Updated</th><td>2019-07-02T22:09:22.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
As of Titanium 8.0.2, setting up a <code>TabGroup</code> tab without setting the "title" property will cause a crash. This happens to both the top and bottom tab styles.

*Use-Case:*
Apps which want to show icon-only tab groups.

*Steps to reproduce:*
<h4>Create a Classic "Default Project".</h4>
<h4>Set up the project to build with Titanium 8.0.2.GA.</h4>
<h4>Replace the project's "app.js" with the code below.</h4>
<h4>Build and run on Android</h4>

<code><pre>
function createTab(title) {
	var window = Ti.UI.createWindow({ title: title });
	window.add(Ti.UI.createLabel({ text: title + " View" }));
	var tab = Ti.UI.createTab({
// Setting "title" property to empty string works-around the problem.
//		title: "",
		icon: "/assets/images/tab1.png",
		window: window,
	});
	return tab;
}

var tabGroupSettings = {
	tabs: [createTab("Tab 1"), createTab("Tab 2"), createTab("Tab 3")],
};
if (Ti.Android) {
//	tabGroupSettings.style = Ti.UI.Android.TABS_STYLE_BOTTOM_NAVIGATION;
}
var tabGroup = Ti.UI.createTabGroup(tabGroupSettings);
tabGroup.open();
</pre></code>

*Result:*
App crashes with the following stack trace when using the top bar style.
<code><pre>
[ERROR] :  TiExceptionHandler: (main) [122,122] Unable to start activity ComponentInfo{com.appcelerator.testing/org.appcelerator.titanium.TiActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.lang.Object.toString()' on a null object reference
[ERROR] :  TiExceptionHandler:
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.widget.tabgroup.TiUITabLayoutTabGroup.updateTabTitle(TiUITabLayoutTabGroup.java:222)
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.widget.tabgroup.TiUITabLayoutTabGroup.addTabItemInController(TiUITabLayoutTabGroup.java:155)
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.widget.tabgroup.TiUIAbstractTabGroup.addTab(TiUIAbstractTabGroup.java:241)
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.TabGroupProxy.handlePostOpen(TabGroupProxy.java:448)
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.TabGroupProxy.onWindowActivityCreated(TabGroupProxy.java:430)
[ERROR] :  TiExceptionHandler:     org.appcelerator.titanium.TiBaseActivity.onCreate(TiBaseActivity.java:752)
[ERROR] :  TiExceptionHandler:     org.appcelerator.titanium.TiActivity.onCreate(TiActivity.java:47)
[ERROR] :  TiExceptionHandler:     android.app.Activity.performCreate(Activity.java:7144)
[ERROR] :  TiExceptionHandler:     android.app.Activity.performCreate(Activity.java:7135)
[ERROR] :  TiExceptionHandler:     android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)
[ERROR] :  TiExceptionHandler:     android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2894)
[ERROR] :  TiExceptionHandler:     android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049)
[ERROR] :  TiExceptionHandler:     android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)
[ERROR] :  TiExceptionHandler:     android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)
[ERROR] :  TiExceptionHandler:     android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)
[ERROR] :  TiExceptionHandler:     android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)
[ERROR] :  TiExceptionHandler:     android.os.Handler.dispatchMessage(Handler.java:106)
[ERROR] :  TiExceptionHandler:     android.os.Looper.loop(Looper.java:193)
[ERROR] :  TiExceptionHandler:     android.app.ActivityThread.main(ActivityThread.java:6680)
[ERROR] :  TiExceptionHandler:     java.lang.reflect.Method.invoke(Native Method)
[ERROR] :  TiExceptionHandler:     com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
[ERROR] :  TiExceptionHandler:     com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)
</pre></code>

When using the bottom tab style, it crashes with the following stack trace...
<code><pre>
[ERROR] :  TiExceptionHandler: (main) [114,114] Unable to start activity ComponentInfo{com.appcelerator.testing/org.appcelerator.titanium.TiActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String java.lang.Object.toString()' on a null object reference
[ERROR] :  TiExceptionHandler:
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.widget.tabgroup.TiUIBottomNavigationTabGroup.updateTabTitle(TiUIBottomNavigationTabGroup.java:262)
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.widget.tabgroup.TiUIBottomNavigationTabGroup.updateDrawablesAfterNewItem(TiUIBottomNavigationTabGroup.java:162)
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.widget.tabgroup.TiUIBottomNavigationTabGroup.addTabItemInController(TiUIBottomNavigationTabGroup.java:150)
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.widget.tabgroup.TiUIAbstractTabGroup.addTab(TiUIAbstractTabGroup.java:241)
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.TabGroupProxy.handlePostOpen(TabGroupProxy.java:448)
[ERROR] :  TiExceptionHandler:     ti.modules.titanium.ui.TabGroupProxy.onWindowActivityCreated(TabGroupProxy.java:430)
[ERROR] :  TiExceptionHandler:     org.appcelerator.titanium.TiBaseActivity.onCreate(TiBaseActivity.java:752)
[ERROR] :  TiExceptionHandler:     org.appcelerator.titanium.TiActivity.onCreate(TiActivity.java:47)
[ERROR] :  TiExceptionHandler:     android.app.Activity.performCreate(Activity.java:7144)
[ERROR] :  TiExceptionHandler:     android.app.Activity.performCreate(Activity.java:7135)
[ERROR] :  TiExceptionHandler:     android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1271)
[ERROR] :  TiExceptionHandler:     android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2894)
[ERROR] :  TiExceptionHandler:     android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3049)
[ERROR] :  TiExceptionHandler:     android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)
[ERROR] :  TiExceptionHandler:     android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)
[ERROR] :  TiExceptionHandler:     android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)
[ERROR] :  TiExceptionHandler:     android.app.ActivityThread$H.handleMessage(ActivityThread.java:1809)
[ERROR] :  TiExceptionHandler:     android.os.Handler.dispatchMessage(Handler.java:106)
[ERROR] :  TiExceptionHandler:     android.os.Looper.loop(Looper.java:193)
[ERROR] :  TiExceptionHandler:     android.app.ActivityThread.main(ActivityThread.java:6680)
[ERROR] :  TiExceptionHandler:     java.lang.reflect.Method.invoke(Native Method)
[ERROR] :  TiExceptionHandler:     com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)
[ERROR] :  TiExceptionHandler:     com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)
</pre></code>

*Work-around:*
Set tab title to empty string like this...
<code><pre>
var tab = Ti.UI.createTab({
	title: "",    // &lt;- This works-around issue.
	icon: "/assets/images/tab1.png",
	window: window,
});
</pre></code>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2019-06-27

   I am able to reproduce this issue.
   It happens because the tabs are missing titles.
   
   You can work-around it by setting the titles to empty strings like this...
   
   <code><pre>
   var tab1 = Ti.UI.createTab({
   	title: "",
   	window: window1
   });
   var tab2 = Ti.UI.createTab({
   	title: "",
   	window: window2
   });
   </pre></code>
   </li>
<li>Joshua Quick 2019-06-27

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/11001" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11001</a></li>
<li>Andreas Pingas 2019-06-27

   thanks :)</li>
<li>Joshua Quick 2019-06-27

   Thanks for reporting this [~andreas.pingas].
   We've added a unit test to help make sure this issue never happens again.</li>
<li>Joshua Quick 2019-06-27

   PR (8.1.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/11004" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11004</a></li>
<li>Keerthi Mahalingam 2019-06-27

   FR Passed.Waiting on Jenkins</li>
<li>Christopher Williams 2019-07-01

   Merged to 8_1_X, waiting on build against master to merge that PR...</li>
<li>Keerthi Mahalingam 2019-07-02

   Verified the fix on sdk 8.2.0.v20190702112137 and 8.1.0.v20190702104421. no crashes seen .Works as expected.Closing
   
   <code><pre>
   Operating System
     Name                        = Mac OS X
     Version                     = 10.14.5
     Architecture                = 64bit
     # CPUs                      = 12
     Memory                      = 17179869184
   Node.js
     Node.js Version             = 10.13.0
     npm Version                 = 6.4.1
   Titanium CLI
     CLI Version                 = 5.1.1
   Titanium SDK
     SDK Version                 = 8.2.0.v20190702112137 and  8.1.0.v20190702104421
   Device =Oneplus 5t android 9,Samsung s5 android 6
   Emulator = PIXEL android 9.
   </pre></code></li>
</ol>


<p><a href="/TIMOB/TIMOB-27188.json">JSON Source</a></p>