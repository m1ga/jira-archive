---
title: "[TIMOB-27190] Android NavigationWindow back-button UI issue on close"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-10-04T10:09:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Prashant Saini</td></tr>
<tr><th>Assignee</th><td>Yordan Banev</td></tr>
<tr><th>Created</th><td>2019-06-23T08:09:54.000+0000</td></tr>
<tr><th>Updated</th><td>2019-10-04T10:09:33.000+0000</td></tr>
</table>

<h3>Description</h3>

Recently we added the support to show the Android back-button or home-button as a part of the NavigationWindow. It automatically closes its window.

However, when we press the back-button, sometimes it first hides itself and then closes the window. This is leaving an improper visual effect where the back-button is hidden first and after few milli-seconds, the window is closed.

<code><pre>
---- index.xml ----
&lt;Alloy&gt;
    &lt;NavigationWindow id="nav"&gt;
        &lt;Window title="Titanium Samples"&gt;
            &lt;Button title="Open Window" onClick="openWindow" /&gt;
       &lt;/Window&gt;
    &lt;/NavigationWindow&gt;
&lt;/Alloy&gt;

---- index.js ----
function openWindow() {
    $.nav.openWindow(Alloy.createController('/window_1').getView());
}

--- window_1.xml ---
&lt;Alloy&gt;
	&lt;Window title="Horizontal Scrolling"&gt;		
		&lt;Label text="Press the back button and notice that the whole window is closed instantly." /&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>



However, when we add the back-button using *ActionBar* as below, it works fine and closes the entire window altogether and hence doesn't create any lacks.

<code><pre>
---- window_2.xml ----
&lt;Alloy&gt;
	&lt;Window title="Horizontal Scrolling"&gt;
		&lt;ActionBar displayHomeAsUp="true" platform="android" onHomeIconItemSelected="close" /&gt;
		
		&lt;Label text="Press the back button and notice that the whole window is closed instantly." /&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

Watch the attached video and notice the lag when the back-button hides itself and the window is closed later. In this duration, the title of the window is also shift to left once the back-button is closed first.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27190_66719/Back_button.mp4">Back_button.mp4</td></td><td>2019-06-23T08:09:09.000+0000</td><td>2411840</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Yordan Banev 2019-06-27

   I was able to reproduce the issue.
   
   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/11003" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11003</a></li>
<li>Yordan Banev 2019-08-19

   PR (8_3_X): <a href="https://github.com/appcelerator/titanium_mobile/pull/11157" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11157</a></li>
<li>Satyam Sekhri 2019-08-19

   FR Passed.
   No flicker when closing the Nav window using the Nav window back button or android's back button.</li>
<li>Christopher Williams 2019-09-09

   merged to master. 8_3_x PR was closed as master is now 8.3.0 target.</li>
<li>Ebenezer Boateng 2019-10-04

   Bug fixed in SDK version 8.3.0.v20191003144543</li>
</ol>


<p><a href="/TIMOB/TIMOB-27190.json">JSON Source</a></p>