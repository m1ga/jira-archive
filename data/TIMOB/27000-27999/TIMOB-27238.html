---
title: "[TIMOB-27238] Android: Allow \"onlink\" property to be set for first time after creating WebView"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-10-03T13:22:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>WebView, android, callback, link, parity</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Yordan Banev</td></tr>
<tr><th>Created</th><td>2019-07-11T23:02:09.000+0000</td></tr>
<tr><th>Updated</th><td>2019-10-03T13:22:26.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
On Android, the <code>WebView</code> "onlink" callback property currently must be assigned upon creation in order for it to work. It cannot be set after creation. (However, the "onlink" property can be changed after assigned upon creation.)

Note that iOS supports setting "onlink" for the 1st time after creation and our API docs do not document it as a creation-only property. We should do this for convenience and parity.
<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.UI.WebView-property-onlink

*Test case:*
<h4>Build and run the below code on Android.</h4>
<h4>Tap on the WebView's "Show Alert" link.</h4>
<h4>Notice that a "Webpage not available" appears onscreen.</h4>
<h4>Build and run on iOS.</h4>
<h4>Tap on the WebView's "Show Alert" link.</h4>
<h4>Notice that an alert dialog is displayed. (The "onlink" callback was invoked.)</h4>

<code><pre>
var htmlText =
		'&lt;!DOCTYPE html&gt;\n' +
		'&lt;html&gt;\n' +
		'	&lt;head&gt;\n' +
		'		&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;\n' +
		'	&lt;/head&gt;\n' +
		'	&lt;body&gt;\n' +
		'		&lt;p&gt;WebView "onlink" Test&lt;/p&gt;\n' +
		'		&lt;br/&gt;\n' +
		'		&lt;br/&gt;\n' +
		'		&lt;a href="mylink://show/alert"&gt;Show Alert&lt;/a&gt;\n' +
		'	&lt;/body&gt;\n' +
		'&lt;/html&gt;\n';

function onLinkHandler(e) {
	if (e.url === "mylink://show/alert") {
		alert("'onlink' callback invoked.");
		return false;
	}
	return true;
}

var window = Ti.UI.createWindow();
var webView = Ti.UI.createWebView({
	html: htmlText,
//	onlink: onLinkHandler,  // &lt;- Must be set upon creation to work.
});
webView.onlink = onLinkHandler;
window.add(webView);
window.open();
</pre></code>


<h3>Comments</h3>

<ol>
<li>Yordan Banev 2019-08-26

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/11176" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11176</a></li>
<li>Samir Mohammed 2019-09-24

   FR passed, Waiting on Jenkins build.</li>
<li>Christopher Williams 2019-10-02

   merged to master</li>
<li>Ebenezer Boateng 2019-10-03

   Improvement verified in SDK version 8.3.0.v20191002165629</li>
</ol>


<p><a href="/TIMOB/TIMOB-27238.json">JSON Source</a></p>