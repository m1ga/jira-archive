---
title: "[TIMOB-27295] When distributing iOS app via testflight certain core js files are missing"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 8.0.0, Release 8.0.1, Release 8.0.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Nick Kemp</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2019-05-08T02:13:24.000+0000</td></tr>
<tr><th>Updated</th><td>2019-07-29T19:34:51.000+0000</td></tr>
</table>

<h3>Description</h3>

When running on the device over cable, the build is fine
When building for distribution and then installing to iOS over test flight we get app hangs and the following in the console:

<code><pre>
[ERROR] Application received error: Couldn't find module: core-js/modules/es6.date.to-json for architecture: arm64
[ERROR] Application received error: Module "ti.internal/extensions/Error.js" failed to leave a valid exports object
</pre></code>

If we to an appc ti clean, it works fine on testflight builds. It seems like something is being left behind/ not being rebuilt when doing a build for distribution.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27295_66690/voicemail.log">voicemail.log</td></td><td>2019-06-12T22:06:13.000+0000</td><td>16723</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sandro Lain 2019-05-13

   Hello
   I see the same problem but with the App-Store build.
   Direct execution on physical device or ad-hoc builds have no problems, the builds loaded on the app-store present this problem.
   The Apple reviewers blocked me the app once showing the app blocked in the splash screen, but not understanding the problem I re-sent the build showing in video the operation on physical device with development build and they published it, but actually the build from app-store does not work.
   The console log of the iPhone shows the same error reported in the description.</li>
<li>Motiur Rahman 2019-05-13

   [~nickkemp], Can you attach the full console log when running on the device over a cable? Also, attached the full device crash log after running from the test flight.
   
   Thanks!</li>
<li>Nick Kemp 2019-06-12

   No Crash log, as it doesn't crash. App name is "Voicemail". Attached is device log. Relevant log entry:
   
   <code><pre> [^voicemail.log] 
   [ERROR] Application received error: Couldn't find module: ./app for architecture: arm64
   
   TitaniumKit 0x0000000102f03528 -[KrollBridge evalFileOnThread:context:] + 884
   libobjc.A.dylib 0x000000019415b760 &lt;redacted&gt; + 76
   TitaniumKit 0x0000000102f39138 -[KrollInvocation invoke:] + 88
   TitaniumKit 0x0000000102f39d94 -[KrollContext invoke:] + 116
   TitaniumKit 0x0000000102f03fc0 -[KrollBridge didStartNewContext:] + 1556
   libobjc.A.dylib 0x000000019415b454 &lt;redacted&gt; + 68
   TitaniumKit 0x0000000102f3a5d0 -[KrollContext main] + 1160
   libdispatch.dylib 0x0000000194968304 &lt;redacted&gt; + 32
   libdispatch.dylib 0x0000000194969884 &lt;redacted&gt; + 20
   libdispatch.dylib 0x000000019497573c _dispatch_main_queue_callback_4CF + 1012
   CoreFoundation 0x0000000194eea024 &lt;redacted&gt; + 16
   CoreFoundation 0x0000000194ee4cd4 &lt;redacted&gt; + 1888
   CoreFoundation 0x0000000194ee4254 CFRunLoopRunSpecific + 452
   GraphicsServices 0x0000000197123d8c GSEventRunModal + 108
   UIKitCore 0x00000001c222c4c0 UIApplicationMain + 216
   Voicemail 0x00000001027414c8 Voi&lt;…&gt;
   </pre></code>
   
   This is a symptom to what was reported, but the failure mechanism seems to be the same.</li>
<li>Sharif AbuDarda 2019-06-18

   </li>
<li>Rakhi Mitro 2019-07-25

   Hello,
   Just passing as update here.Are you able to get that sorted out?  Please let us know if you need more help with this issue.</li>
</ol>


<p><a href="/TIMOB/TIMOB-27295.json">JSON Source</a></p>