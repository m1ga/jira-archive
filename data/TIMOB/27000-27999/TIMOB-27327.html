---
title: "[TIMOB-27327] Add support for SSL/TLS in Ti.Network.Socket.TCP"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>In Progress</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android, iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jan Vennemann</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2019-08-09T21:55:23.000+0000</td></tr>
<tr><th>Updated</th><td>2019-09-26T12:22:59.000+0000</td></tr>
</table>

<h3>Description</h3>

Using a <code>Ti.Network.Socket.TCP</code> socket for connections protected with TLS currently doesn't work. No TLS handshake will be started although the underlying socket implementations support this.

Support for TLS protected socket connections should be added.

- Introduce new option <code>useTls</code> when creating a new TCP socket to manually enable TLS.

*Steps to reproduce the behavior*
<code><pre>
let httpHeader = <code>GET /html HTTP/1.1\r\n</code>;
httpHeader += <code>Host: httpbin.org\r\n</code>;
httpHeader += '\r\n';
const data = Ti.createBuffer({
  value: httpHeader
});
const socket = Ti.Network.Socket.createTCP({
  host: 'httpbin.org',
  port: 443,
  connected: e =&gt; {
    Ti.Stream.pump(socket, (e) =&gt; {
      if (e.bytesProcessed === -1 || e.bytesProcessed === "-1") {
        throw new Error('Socket EOF / Error')
      }

      const response = e.buffer.toString();
      console.log(response);
    }, 64 * 1024, true);
    socket.write(data, () =&gt; {});
  },
  error: e =&gt; {
    console.error(e.error);
  }
});
socket.connect();
</pre></code>

*Actual behavior*
The connection cannot be established and a socket error is thrown.

*Epected behavior*
The connection via TLS works without issues and the response is printed to the console.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-27327.json">JSON Source</a></p>