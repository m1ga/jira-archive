{
	"id": "174005",
	"key": "TIMOB-27330",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [],
		"resolution": {
			"id": "11",
			"description": "Is not a bug in our product",
			"name": "Not Our Bug"
		},
		"resolutiondate": "2019-08-22T08:50:33.000+0000",
		"created": "2019-08-12T06:45:45.000+0000",
		"priority": {
			"name": "Critical",
			"id": "1"
		},
		"labels": [],
		"versions": [
			{
				"id": "20827",
				"name": "Release 8.2.0",
				"archived": false,
				"released": true,
				"releaseDate": "2019-09-19"
			}
		],
		"issuelinks": [
			{
				"id": "57828",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "174066",
					"key": "TIMOB-27358",
					"fields": {
						"summary": "iOS: Support Apple Developer certificates",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "High",
							"id": "2"
						},
						"issuetype": {
							"id": "4",
							"description": "An improvement or enhancement to an existing feature or task.",
							"name": "Improvement",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "cbarber",
			"key": "cbarber",
			"displayName": "Chris Barber",
			"active": true,
			"timeZone": "America/Chicago"
		},
		"updated": "2019-12-02T23:06:32.000+0000",
		"status": {
			"description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
			"name": "Resolved",
			"id": "5",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10206",
				"name": "iOS",
				"description": "iOS Platform"
			}
		],
		"description": "When using Xcode 11 B5, I cannot build for device anymore. Production builds work fine. The following error is shown, indicating certificate issues, which is not true since all certs are valid and can be used with Xcode 10:\r\n\r\n{code}\r\n[TRACE] error: Signing certificate is invalid. Signing certificate \"Apple Development: ORG_NAME (TEAM_ID)\", serial number \"SERIAL_NO\", is not valid for code signing. It may have been revoked or expired. (in target 'test_app' from project 'test_app')\r\n{code}\r\n\r\nTo reproduce, build a simple app for device in Xcode 10 and then Xcode 11.",
		"attachment": [],
		"flagged": false,
		"summary": "Xcode 11: Cannot build to device",
		"creator": {
			"name": "hknoechel",
			"key": "hansknoechel",
			"displayName": "Hans Knöchel",
			"active": true,
			"timeZone": "Europe/Berlin"
		},
		"subtasks": [],
		"reporter": {
			"name": "hknoechel",
			"key": "hansknoechel",
			"displayName": "Hans Knöchel",
			"active": true,
			"timeZone": "Europe/Berlin"
		},
		"environment": "Xcode 11 B5",
		"closedSprints": [
			{
				"id": 1169,
				"state": "closed",
				"name": "2019 Sprint 22",
				"startDate": "2019-10-21T15:38:21.747Z",
				"endDate": "2019-11-03T15:38:00.000Z",
				"completeDate": "2019-11-04T18:36:57.022Z",
				"originBoardId": 114
			},
			{
				"id": 1170,
				"state": "closed",
				"name": "2019 Sprint 23",
				"startDate": "2019-11-04T18:38:14.526Z",
				"endDate": "2019-11-17T18:38:00.000Z",
				"completeDate": "2019-11-18T16:38:18.423Z",
				"originBoardId": 114
			},
			{
				"id": 1171,
				"state": "closed",
				"name": "2019 Sprint 24",
				"startDate": "2019-11-18T16:40:09.114Z",
				"endDate": "2019-12-01T16:40:00.000Z",
				"completeDate": "2019-12-02T23:06:24.654Z",
				"originBoardId": 114
			},
			{
				"id": 1172,
				"state": "closed",
				"name": "2019 Sprint 25",
				"startDate": "2019-12-02T23:08:39.644Z",
				"endDate": "2019-12-15T23:08:00.000Z",
				"completeDate": "2019-12-16T05:54:54.518Z",
				"originBoardId": 114
			},
			{
				"id": 1160,
				"state": "closed",
				"name": "2019 Sprint 17",
				"startDate": "2019-08-12T07:59:28.950Z",
				"endDate": "2019-08-25T07:59:00.000Z",
				"completeDate": "2019-08-26T15:35:29.980Z",
				"originBoardId": 114
			},
			{
				"id": 1161,
				"state": "closed",
				"name": "2019 Sprint 18",
				"startDate": "2019-08-26T21:46:26.269Z",
				"endDate": "2019-09-08T21:46:00.000Z",
				"completeDate": "2019-09-09T20:39:58.761Z",
				"originBoardId": 114
			},
			{
				"id": 1163,
				"state": "closed",
				"name": "2019 Sprint 19",
				"startDate": "2019-09-09T20:43:13.091Z",
				"endDate": "2019-09-22T20:43:00.000Z",
				"completeDate": "2019-09-23T15:37:35.874Z",
				"originBoardId": 114
			},
			{
				"id": 1165,
				"state": "closed",
				"name": "2019 Sprint 20",
				"startDate": "2019-09-23T15:38:43.949Z",
				"endDate": "2019-10-06T15:38:00.000Z",
				"completeDate": "2019-10-07T18:33:11.953Z",
				"originBoardId": 114
			},
			{
				"id": 1168,
				"state": "closed",
				"name": "2019 Sprint 21",
				"startDate": "2019-10-07T18:35:57.052Z",
				"endDate": "2019-10-20T18:35:00.000Z",
				"completeDate": "2019-10-21T15:38:00.182Z",
				"originBoardId": 114
			}
		],
		"comment": {
			"comments": [
				{
					"id": "450392",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "After some investigation, it seems like the provisioning profile itself is fine, but the CLI injects \"iPhone Developer\" instead of the actual signing identity, e.g. \"iPhone Developer: Hans Knoechel (TEAM_ID)\" to the field \"CODE_SIGN_IDENTITY\". For Xcode 10, it works as expected.\r\n\r\nIt is injected in [these lines|https://github.com/appcelerator/titanium_mobile/blob/master/iphone/cli/commands/_build.js#L3125-L3129], indicating that earlier it worked automatically. I think changing it to the actual signing identity behind the used profile will fix this immediately.\r\n\r\n*EDIT*: I just confirmed that changing the \"CODE_SIGN_IDENTITY\" to the actual signing identity, it works fine. The only tricky part will be how to to this automatically. I hope there is some reference to that signing identity in the build already, so it can be reused.",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2019-08-12T11:23:18.000+0000",
					"updated": "2019-08-12T11:31:25.000+0000"
				},
				{
					"id": "450393",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "Pull (timob/master): https://github.com/appcelerator/titanium_mobile/pull/11133\r\nPull  (ioslib/1_7_X): https://github.com/appcelerator/ioslib/pull/91",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2019-08-12T12:52:07.000+0000",
					"updated": "2019-08-12T12:52:07.000+0000"
				},
				{
					"id": "450404",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "I cannot reproduce this with Xcode 11 beta 5 and Titanium SDK 8.2.0 (master). I don't mind adding the {{teamId}} to the cert info in ioslib.\r\n\r\nThe {{CODE_SIGN_IDENTITY}} should be set to {{\"iPhone Developer\"}} so that Xcode will select the correct certificate. We used to append the certificate name, but that was removed [Nov 2017|https://github.com/appcelerator/titanium_mobile/commit/3749f14383f24499e51b599d16544948b465f8c0].\r\n\r\nSo given I can't reproduce and this issue occurs for a beta Xcode release, I would like to A) have someone from QE try to reproduce and B) see if the issue persists with Xcode 11 RC. I'm fine with the ioslib addition.\r\n\r\n[~lchoudhary] could you please try building a new app for iOS device with Xcode 11 beta 5? Thank you!",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2019-08-12T18:15:08.000+0000",
					"updated": "2019-08-12T18:15:08.000+0000"
				},
				{
					"id": "450405",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "Thanks for the feedback! Btw: There is a new cert type in Xcode 11 called \"Apple Developer\" which will be default / top positioned in the list of available certificate types. It's used to be able to develop both iOS and macOS apps",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2019-08-12T18:19:04.000+0000",
					"updated": "2019-08-12T18:19:04.000+0000"
				},
				{
					"id": "450406",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "Hmm, interesting. I'll look into it. Thanks!",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2019-08-12T18:21:21.000+0000",
					"updated": "2019-08-12T18:21:21.000+0000"
				},
				{
					"id": "450407",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "This might be a good motivation to move to automatic signing btw. Looking at the required pbxproj diff to use it, it doesn't seem too complicated",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2019-08-12T18:32:01.000+0000",
					"updated": "2019-08-12T18:32:01.000+0000"
				},
				{
					"id": "450712",
					"author": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "See my comment in the Git repo.",
					"updateAuthor": {
						"name": "hknoechel",
						"key": "hansknoechel",
						"displayName": "Hans Knöchel",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2019-08-22T08:50:33.000+0000",
					"updated": "2019-08-22T08:50:33.000+0000"
				},
				{
					"id": "450953",
					"author": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "[~hknoechel] FYI, TIMOB-27358 for Apple developer cert support!",
					"updateAuthor": {
						"name": "cbarber",
						"key": "cbarber",
						"displayName": "Chris Barber",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2019-08-29T17:31:35.000+0000",
					"updated": "2019-08-29T17:31:35.000+0000"
				}
			],
			"maxResults": 8,
			"total": 8,
			"startAt": 0
		}
	}
}