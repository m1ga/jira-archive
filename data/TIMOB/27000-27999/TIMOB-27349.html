---
title: "[TIMOB-27349] Android scroll both directions"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>n/a</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>android</td></tr>
<tr><th>Reporter</th><td>Nathan Martin</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2019-05-22T16:27:57.000+0000</td></tr>
<tr><th>Updated</th><td>2019-08-23T14:55:32.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently implementing a spreadsheet viewer. In iOS, I am able to scroll the spreadsheet both vertically and horizontally:

<code><pre>
&lt;ScrollView id="main" onScroll="dataScroll" top="0" layout="vertical" height="100%" width="Ti.UI.SIZE" platform='ios'&gt;
	&lt;View id="rows" left="0" layout="vertical" height="Ti.UI.SIZE" onClick="dataClick" borderColor="Alloy.CFG.Colors.grayMedium" 
         borderWidth="1"&gt;&lt;/View&gt;
&lt;/ScrollView&gt;
</pre></code>


For Android, I can only choose a single scroll direction. 

My current workaround is to wrap the scrollview in a "sensorView" so that I have touch sensor stacked on top of the scrollview. 

<code><pre>
&lt;View id="sensorView"&gt;
   &lt;ScrollView id="main" top="0" scrollingEnabled="false" layout="vertical" height="100%" width="Ti.UI.SIZE" platform='android'&gt;
      &lt;View id="rows" left="0" top="0" layout="vertical" height="Ti.UI.SIZE" onClick="dataClick" borderColor="Alloy.CFG.Colors.grayMedium" 
      borderWidth="1"&gt;&lt;/View&gt;
   &lt;/ScrollView&gt;
   &lt;View id="sensor" borderColor="maroon" borderWidth="2" backgroundColor="transparent" onTouchstart="dataTouchstart" 
   onTouchmove="dataTouchmove" onTouchend="dataTouchend"&gt;&lt;/View&gt;
&lt;/View&gt;
</pre></code>


<code><pre>
function dataTouchstart(e) {
   e.x = Ti.UI.convertUnits(e.x + "px", "dip");
   e.y = Ti.UI.convertUnits(e.y + "px", "dip");
   startX = e.x;
   startY = e.y;
   initialLeft = $.rows.left;
   initialTop = $.rows.top;
}

function dataTouchmove(e) {
   e.x = Ti.UI.convertUnits(e.x + "px", "dip");
   e.y = Ti.UI.convertUnits(e.y + "px", "dip");
   deltaX = (e.x - startX);
   deltaY = (e.y - startY);
   newXPos = initialLeft + deltaX;
   newYPos = initialTop + deltaY;
   var widthDif = ($.main.rect.width - $.rows.width);
   var heightDif = ($.main.rect.height - $.rows.rect.height);
   $.rows.left = (newXPos &gt; 0) ? 0 : (newXPos &lt; widthDif) ? widthDif : newXPos;
   $.rows.top = (newYPos &gt; 0) ? 0 : (newYPos &lt; heightDif) ? heightDif : newYPos;
}
</pre></code>

dataTouchstart/dataTouchmove will move rows view both horizontally and vertically. 

Is there possibly a better way to do this for Android? In iOS, I am able to perform touch events on the rows view. In Android, the "sensor" sibling view covers the rows view so that I can no longer perform touch events on rows view. 


<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-27349.json">JSON Source</a></p>