---
title: "[TIMOB-27350] iOS: httpClient returning image response as undefined."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-01-06T16:00:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.3.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>engSchedule, escalation</td></tr>
<tr><th>Reporter</th><td>Motiur Rahman</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2019-08-23T15:09:27.000+0000</td></tr>
<tr><th>Updated</th><td>2020-07-03T08:41:25.000+0000</td></tr>
</table>

<h3>Description</h3>

*Customer issue:* As part of Titanium SDK migration from 7.5.2.GA to 8.1.0.GA titanium SDK, we are encountering an issue when we are fetching image from server and checking if the response is Blob or not by converting to .toString(). 
It is returning “undefined” with 8.1.0.GA but returning blob object with 8.0.2.GA, 7.5.2.GA. 

Steps to reproduce: 
1. Create a classic mobile app with 8.1.0 SDK. 
2. Replace app.js file content with attached app.js. 
3. Run on iOS device. 
4. check the info in the console. 

Thanks

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27350_66882/app.js">app.js</td></td><td>2019-08-23T15:07:02.000+0000</td><td>885</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Motiur Rahman 2019-08-23

   [~vijaysingh] Could you please investigate it? I am getting the same with the Ti SDK 8.1.0.GA. But it works on the lower SDK version.</li>
<li>Alan Hutton 2019-08-26

   Reproducible with 8.1.0.GA SDK. [INFO] :   Received Data: undefined.
   
   8.0.2.GA SDK returns: [INFO] :   Received Data: [object TiBlob]</li>
<li>Vijay Singh 2019-09-25

   I can see that from SDK 8.1.0.GA,  toString() API is broken for TiBlob. I'll look in this.
   But if concern is logging, then please use - 
   Ti.API.info("Received Data: ",  this.responseData);
   
   instead of 
   Ti.API.info("Received Data: "  +this.responseData);
   
   and use SDK 8.1.1.GA+ .</li>
<li>Vijay Singh 2019-11-20

   PR - <a href="https://github.com/appcelerator/titanium_mobile/pull/11354" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11354</a></li>
<li>Christopher Williams 2019-11-21

   This is something we can easily add unit tests for, and there's some old code that got migrated over for TiBlob that no longer is used and should be removed. See PR comments.</li>
<li>Samir Mohammed 2019-12-12

   FR Passed, waiting on Jenkins build.</li>
<li>Christopher Williams 2019-12-16

   merged to master for 9.0.0</li>
<li>Samir Mohammed 2020-01-06

   Closing ticket, fix verified in SDK version <code>9.0.0.v20200103081513</code>. 
   
   Test and other information can be found at:
   <a href="https://github.com/appcelerator/titanium_mobile/pull/11354" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11354</a></li>
<li>Vijay Singh 2020-01-09

   PR (8_3_X) - <a href="https://github.com/appcelerator/titanium_mobile/pull/11421" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11421</a></li>
<li>Samir Mohammed 2020-01-09

    FR Passed for 8_3_X.</li>
<li>Christopher Williams 2020-01-09

    merged to 8_3_X for 8.3.1</li>
<li>Samir Mohammed 2020-01-10

    Verified fix in SDK version 8.3.1.v20200110021712
    
    </li>
<li>Ewan Harris 2020-02-26

    Removing from fixVersion 9.0.0 as this shipped in 8.3.1.GA</li>
</ol>


<p><a href="/TIMOB/TIMOB-27350.json">JSON Source</a></p>