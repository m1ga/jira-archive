---
title: "[TIMOB-27358] iOS: Support Apple Developer certificates"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-09-09T10:05:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.2.0</td></tr>
<tr><th>Components</th><td>CLI, iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2019-08-27T10:44:05.000+0000</td></tr>
<tr><th>Updated</th><td>2019-09-09T10:05:09.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

Apple has introduced a new "Apple Developer" certificate that encompasses signing for iOS, MacOS, tvOS, and WatchOS applications. I believe this was the root cause of TIMOB-27330.

Places we need to update:

Titanium CLI/SDK:

ioslib@v1 - update cert.js to also scan for "Apple Development" and "Apple Distribution"

Daemon:

ioslib@v2 & v3: Update the regex to include "Apple Development" and "Apple Distribution"

Studio:

Might need to update the property it uses from the cert object to display in the UI, currently it's possible for two certs to share an identical <code>name</code> i.e. <code>Ewan Harris (EH123J4ST56)</code>, so only one appears to be added to the cert list, the only way to differentiate is via the <code>fullname</code> i.e. <code>Apple Distribution: Ewan Harris (EH123J4ST56)} vs {{iPhone Distribution: Ewan Harris (EH123J4ST56)</code>

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2019-08-27

   This might have an impact on Studio as it might need to use a different name on the certs</li>
<li>Ewan Harris 2019-08-27

   ioslib 1_7_X (included in SDK): <a href="https://github.com/appcelerator/ioslib/pull/93" rel="nofollow" target="_blank">https://github.com/appcelerator/ioslib/pull/93</a>
   ioslib 2_X (included in appc cli): <a href="https://github.com/appcelerator/ioslib/pull/94" rel="nofollow" target="_blank">https://github.com/appcelerator/ioslib/pull/94</a>
   ioslib master: <a href="https://github.com/appcelerator/ioslib/pull/95" rel="nofollow" target="_blank">https://github.com/appcelerator/ioslib/pull/95</a>
   
   Once 1_7_X is merged work can start on the SDK support.
   Once 2_X is merged a new CLI will need to be published</li>
<li>Ewan Harris 2019-08-29

   titanium_mobile: <a href="https://github.com/appcelerator/titanium_mobile/pull/11188" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11188</a>
   
   Need to file a ticket to have Studio prefer "fullname"</li>
<li>Chris Barber 2019-08-29

   Published ioslib 1.7.12, 2.5.1, and 3.2.2.</li>
<li>Samir Mohammed 2019-09-03

   FR Passed, waiting on Jenkins build. </li>
<li>Christopher Williams 2019-09-03

   Merged to master for 8.2.0</li>
<li>Lokesh Choudhary 2019-09-03

   Verified the fix in SDK 8.2.0.v20190903100931.
   Closing.
   </li>
<li>Samir Mohammed 2019-09-05

   Re-opening. When distributing with an iPhone cert the apple cert seems to be used instead. 
   
   <code><pre>
   [TRACE] error: Provisioning profile "Any App AppStore Distribution" doesn't include signing certificate "Apple Distribution: Michael Asher (WY35J6ST95)". (in target 'aaaa' from project 'aaaa')
   </pre></code>
   
   *Test Steps*
   <h4>Have both iphone and Apple Certs</h4>
   <h4>Run the following command </h4>
   <code><pre>
   appc run -p ios -T dist-appstore -I 13.0 -l trace
   </pre></code>
   <h4>Select the iphone distribution cert</h4>
   
   </li>
<li>Chris Barber 2019-09-05

   [~smohammed] It sounds like you need to add the Apple Distribution cert to the provisioning profile.</li>
<li>Ewan Harris 2019-09-05

    Ok lets try this again
    
    PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/11198" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11198</a>
    
    I need to file a PR to update the watchos sample as that is outdated and doesn't have the required things to pass along provisioning profiles correctly</li>
<li>Samir Mohammed 2019-09-06

    PR merged for Master, will be merged in 8_3_X at a later date. </li>
<li>Samir Mohammed 2019-09-09

    *Closing ticket* Improvement verified in SDK version <code>8.2.0.v20190906140307</code>.
    
    *Test and other information can be found at:*
    <a href="https://github.com/appcelerator/titanium_mobile/pull/11198" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11198</a>
    <a href="https://github.com/appcelerator/titanium_mobile/pull/11188" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11188</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-27358.json">JSON Source</a></p>