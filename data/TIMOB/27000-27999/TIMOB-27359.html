---
title: "[TIMOB-27359] iOS: Unable to open modal controller in swift module"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 8.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Brian Garc√≠a</td></tr>
<tr><th>Assignee</th><td>Jan Vennemann</td></tr>
<tr><th>Created</th><td>2019-08-01T16:13:41.000+0000</td></tr>
<tr><th>Updated</th><td>2019-08-27T12:34:39.000+0000</td></tr>
</table>

<h3>Description</h3>

Trying to implement Stripe in iOS with swift I'm not able to show a modal view controller.

In order to isolate the cause I've implemented the following call with the same result, the controller does not show up.


<code><pre>
@available(iOS 9.0, *)
    @objc(openSafari:)
    func openSafari(args: Array<Any>?) -> Void {
        let safariVC = SFSafariViewController(url: NSURL(string: "<a href="https://google.es" rel="nofollow" target="_blank">https://google.es</a>") as! URL)
         safariVC.delegate=self
         TiApp().showModalController(safariVC, animated: true)
       
    }
</pre></code>



<h3>Comments</h3>

<ol>
<li>Jan Vennemann 2019-08-27

   Hey [~bgarcia],
   
   there is a slight error in your code, but unfortunately also a bug that prevents you from easily using the correct code.
   
   You are using <code>TiApp()</code> which will create a new <code>TiApp</code> instance. <code>TiApp.app()</code> to access the singleton instance of <code>TiApp</code> that's properly initialized would be the correct way. However, due to the naming of that method Swift won't correctly recognize it as the singleton getter it is and mark it as unavailable. To access it you need to go through the Objective-C route:
   
   <code><pre>
   let safariVC = SFSafariViewController(url: NSURL(string: "<a href="https://google.es" rel="nofollow" target="_blank">https://google.es</a>") as! URL)
   let tiApp: TiApp = TiApp.perform(NSSelectorFromString("app"))!.takeUnretainedValue() as! TiApp
   tiApp.showModalController(safariVC, animated: false)
   </pre></code>
   
   This should do the trick and open the <code>SFSafariViewController</code>.
   
   Moving this ticket to TIMOB to address the naming issue and making the singleton properly accessible from Swift.</li>
</ol>


<p><a href="/TIMOB/TIMOB-27359.json">JSON Source</a></p>