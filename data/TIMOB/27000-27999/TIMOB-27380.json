{
	"id": "174099",
	"key": "TIMOB-27380",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [],
		"resolution": {
			"id": "7",
			"description": "",
			"name": "Invalid"
		},
		"resolutiondate": "2019-10-21T16:02:18.000+0000",
		"created": "2019-09-05T11:12:41.000+0000",
		"priority": {
			"name": "None",
			"id": "6"
		},
		"labels": [
			"engSchedule"
		],
		"versions": [],
		"issuelinks": [],
		"assignee": null,
		"updated": "2019-10-21T20:39:40.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10206",
				"name": "iOS",
				"description": "iOS Platform"
			}
		],
		"description": "Selecting a video from PhotoGallery does not work properly in *ios13.1 beta device*.The customer is facing this on latest sdk (ti sdk 8.1.1.GA). There is no problem for still images.There are no errors in the trace log. \r\n\r\n*Test project:* Click [here| https://drive.google.com/file/d/1El4E6UTvTwFuu9R6V2J1pk3_SVEF4YUC/view?usp=sharing] to download or check attachment sections.\r\n\r\n*Test steps:*\r\n\r\n1) Download the project and integrate it via studio\r\n2) Add the following into tiapp.xml:\r\n{code}\r\n    <key>NSCameraUsageDescription</key>\r\n        <string>To allow you to take photos of documents for uploading</string>\r\n        <key>NSMicrophoneUsageDescription</key>\r\n        <string>Can we use your microphone?</string>\r\n        <key>NSPhotoLibraryAddUsageDescription</key>\r\n        <string>To allow you to upload photos of documents</string>\r\n        <key>NSPhotoLibraryUsageDescription</key>\r\n        <string>To allow you to upload photos of documents</string>\r\n{code}\r\n3)Run the project\r\n4) After run, will get two buttons\r\n\t*Open camera*:Click openCamera to shoot and use a video, provides success result.\r\n        *Open Photogallery*:Clicking openPhotoGallery and selecting a video from the photo gallery will fail.\r\n\r\n\r\n*Note:* We tested this on ti sdk 8.1.1.GA and IOS ios12.3.1,iphone 5s v12.4\r\n and unable to reproduce the issue.Clicking openPhotoGallery and selecting a video from the photo gallery is working expected on our end. Check attachment section for the testing output *(IMG_0076(1).jpg)*.\r\n\r\n*Console logs*:\r\n{code}\r\n[INFO] :   Finished building the application in 31s 453ms\r\n\r\n[INFO] :   Installing app on device: Mostafizur Rahman’s iPhone\r\n\r\n[INFO] :   App successfully installed on device: Mostafizur Rahman’s iPhone\r\n\r\n[INFO] :   symbols: /Users/macbookpro/Documents/Appcelerator_Studio_Workspace/alloyTest/build/iphone/build/Products/Debug-iphoneos/alloyTest.app.dSYM\r\n\r\nPlease manually launch the application\r\n\r\n[INFO] :   alloyTest 1.0 (Powered by Titanium 8.1.1.0148ee6e79)\r\n\r\n[INFO] :   Click openCamera to shoot and use a video, succeed.\r\n\r\n[INFO] :   Clicking openPhotoGallery and selecting a video from the photo gallery is also working.\r\n{code}\r\n",
		"attachment": [
			{
				"id": "66920",
				"filename": "app.zip",
				"author": {
					"name": "rmitro",
					"key": "rmitro",
					"displayName": "Rakhi Mitro",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-09-05T11:15:35.000+0000",
				"size": 5502804,
				"mimeType": "application/zip"
			},
			{
				"id": "66919",
				"filename": "IMG_0076 (1).jpg",
				"author": {
					"name": "rmitro",
					"key": "rmitro",
					"displayName": "Rakhi Mitro",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-09-05T11:11:44.000+0000",
				"size": 110674,
				"mimeType": "image/jpeg"
			},
			{
				"id": "66950",
				"filename": "trace_log.rtf",
				"author": {
					"name": "nsalahin",
					"key": "nsalahin",
					"displayName": "Nazmus Salahin",
					"active": true,
					"timeZone": "Asia/Dhaka"
				},
				"created": "2019-09-17T03:06:15.000+0000",
				"size": 2661900,
				"mimeType": "text/rtf"
			},
			{
				"id": "66921",
				"filename": "UNADJUSTEDNONRAW_thumb_2.jpg",
				"author": {
					"name": "rmitro",
					"key": "rmitro",
					"displayName": "Rakhi Mitro",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-09-05T11:19:46.000+0000",
				"size": 35433,
				"mimeType": "image/jpeg"
			},
			{
				"id": "66922",
				"filename": "UNADJUSTEDNONRAW_thumb_3.jpg",
				"author": {
					"name": "rmitro",
					"key": "rmitro",
					"displayName": "Rakhi Mitro",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-09-05T11:19:46.000+0000",
				"size": 72172,
				"mimeType": "image/jpeg"
			},
			{
				"id": "66923",
				"filename": "UNADJUSTEDNONRAW_thumb_4.jpg",
				"author": {
					"name": "rmitro",
					"key": "rmitro",
					"displayName": "Rakhi Mitro",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-09-05T11:19:46.000+0000",
				"size": 51408,
				"mimeType": "image/jpeg"
			},
			{
				"id": "66924",
				"filename": "UNADJUSTEDNONRAW_thumb_5.jpg",
				"author": {
					"name": "rmitro",
					"key": "rmitro",
					"displayName": "Rakhi Mitro",
					"active": false,
					"timeZone": "America/Los_Angeles"
				},
				"created": "2019-09-05T11:19:46.000+0000",
				"size": 19885,
				"mimeType": "image/jpeg"
			}
		],
		"flagged": false,
		"summary": "iOS: Selecting a video from PhotoGallery does not work properly in ios13.1 beta device",
		"creator": {
			"name": "rmitro",
			"key": "rmitro",
			"displayName": "Rakhi Mitro",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"subtasks": [],
		"reporter": {
			"name": "rmitro",
			"key": "rmitro",
			"displayName": "Rakhi Mitro",
			"active": false,
			"timeZone": "America/Los_Angeles"
		},
		"environment": "8.1.1.GA, ios13.1 beta device",
		"comment": {
			"comments": [
				{
					"id": "451149",
					"author": {
						"name": "vijaysingh",
						"key": "vijaysingh",
						"displayName": "Vijay Singh",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "[~rmitro] I tried with attached test code from app.zip. It is working fine for me. Can you please give access to the attached project on link? Thanks!",
					"updateAuthor": {
						"name": "vijaysingh",
						"key": "vijaysingh",
						"displayName": "Vijay Singh",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-09-05T22:39:55.000+0000",
					"updated": "2019-09-05T22:39:55.000+0000"
				},
				{
					"id": "451286",
					"author": {
						"name": "rmitro",
						"key": "rmitro",
						"displayName": "Rakhi Mitro",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Hello,\r\nThe customer is asking for update.The official version of ios13 will be released soon.",
					"updateAuthor": {
						"name": "rmitro",
						"key": "rmitro",
						"displayName": "Rakhi Mitro",
						"active": false,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-09-11T10:51:58.000+0000",
					"updated": "2019-09-11T10:51:58.000+0000"
				},
				{
					"id": "451316",
					"author": {
						"name": "ssekhri",
						"key": "ssekhri",
						"displayName": "Satyam Sekhri",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"body": "Tried the provided test project on iPhone XR (v13.1 beta) and titanium SDK 8.1.1.GA as well as 8.2.0.v20190905150915 build. Could not reproduce the issue.\r\nApp functionality through \"OpenCamera\" and \"OpenPhotoGallery\" buttons works fine.\r\nRecording of video, playing a video from photo gallery and selection of a video from photo gallery all works fine.",
					"updateAuthor": {
						"name": "ssekhri",
						"key": "ssekhri",
						"displayName": "Satyam Sekhri",
						"active": true,
						"timeZone": "America/Los_Angeles"
					},
					"created": "2019-09-11T22:23:17.000+0000",
					"updated": "2019-09-11T22:23:17.000+0000"
				},
				{
					"id": "452171",
					"author": {
						"name": "mpoole_tp",
						"key": "mpoole_tp",
						"displayName": "Matt Poole",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "@rmitro Were you able to determine what the issue was here in your tests?  I'm running into a similar issue when I go to send the video to my server, though I'm still trying to track down the exact reason why.  Only seems to be an issue on 13.1 or 13.2 and not 12.4 or below for me\r\n\r\nSDK 8.0.3 (i realize you are on newer, but again, same symptoms)\r\niOS SDK 12.1 or 13.1 (tried both)\r\n\r\nI also realize this has been closed, just trying to figure out what my potential environmental/build/permission issue is here",
					"updateAuthor": {
						"name": "mpoole_tp",
						"key": "mpoole_tp",
						"displayName": "Matt Poole",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2019-10-21T19:29:51.000+0000",
					"updated": "2019-10-21T19:29:51.000+0000"
				},
				{
					"id": "452173",
					"author": {
						"name": "mpoole_tp",
						"key": "mpoole_tp",
						"displayName": "Matt Poole",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "FWIW, I have narrowed down my issue to code we had to move the video file after choosing it from the gallery.  For a long time we have been moving it from the tmp directory into our Documents directory.  As of iOS 13.1 we get this making that call (moveItemAtPath).\r\n\r\nAs a test, I changed it to copyItemAtPath and that seems to work OK.  Though I don't want to leave files around in tmp.\r\n\r\n{noformat}\r\nError moving file (/private/var/mobile/Containers/Data/PluginKitPlugin/072A2C49-2387-4385-A67B-9CBB8D61A0B1/tmp/trim.C04B7472-1D2A-4CEB-8959-A910B16C84E8.MOV) to (/var/mobile/Containers/Data/Application/0488532F-D13A-44EB-8443-97C4C07BA15E/Documents/trim.C04B7472-1D2A-4CEB-8959-A910B16C84E8.MOV): \"trim.C04B7472-1D2A-4CEB-8959-A910B16C84E8.MOV\" couldn't be moved because you don't have permission to access \"Documents\". - You don't have permission.\r\n{noformat}\r\n",
					"updateAuthor": {
						"name": "mpoole_tp",
						"key": "mpoole_tp",
						"displayName": "Matt Poole",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2019-10-21T20:39:40.000+0000",
					"updated": "2019-10-21T20:39:40.000+0000"
				}
			],
			"maxResults": 15,
			"total": 15,
			"startAt": 0
		}
	}
}