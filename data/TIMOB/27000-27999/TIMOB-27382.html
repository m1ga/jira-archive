---
title: "[TIMOB-27382] iOS: CORS Issue, origin of header is always null since SDK 8"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2019-10-28T18:26:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.0.2, Release 8.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Shuo Liang</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2019-09-06T10:48:24.000+0000</td></tr>
<tr><th>Updated</th><td>2019-12-04T00:41:46.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description:</h4>

As of SDK 8, any XMLHttpRequest performed inside a WebView from a file has a header of origin: null. This is a behavior that was not present in SDK 7 and only affects IOS. (It seems to be due to the change to WKWebview.)

We use the WebView in an authentication workflow where we have an intermediate HTML file with the necessary javascript to perform the redirections/progress the sign in. This is an HTML page in resources/www.

Due to the fact this header is now 
A) Being set for seemingly all requests, even GET 
B) is always null 
This is breaking our authentication process and we cannot continue developing our application until it is fixed.

There does not appear to be any way to currently set this via titanium, there is also nothing in the documentation. We cannot set Access-Control-Allow-Origin * / null as this would pose a security risk server-side.

We need to be able to switch back to using UIWebview in the new SDK, the origin header dropped, or, the origin header has a correct value (https://localhost/.....).

<h4>Reproduce</h4>
1. Create a new alloy projet.
2. Add attached file.
3. Run the app to iOS device
4. Monitor network traffic so you can see the request headers (as per screenshot attached).

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27382_66928/index.tss">index.tss</td></td><td>2019-09-06T10:50:35.000+0000</td><td>238</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27382_66927/index.xml">index.xml</td></td><td>2019-09-06T10:50:20.000+0000</td><td>99</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27382_66926/localfile.html">localfile.html</td></td><td>2019-09-06T10:50:10.000+0000</td><td>725</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27382_66929/Screenshot_2019-09-06_at_10.08.41.png">Screenshot_2019-09-06_at_10.08.41.png</td></td><td>2019-09-06T10:53:40.000+0000</td><td>263941</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-27382.json">JSON Source</a></p>