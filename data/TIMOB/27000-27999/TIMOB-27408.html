---
title: "[TIMOB-27408] Titanium CLI is improperly parsing hex color codes for dark mode"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 8.2.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>cb-tooling, engSchedule</td></tr>
<tr><th>Reporter</th><td>Brenton House</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2019-09-17T13:51:39.000+0000</td></tr>
<tr><th>Updated</th><td>2020-01-31T16:47:37.000+0000</td></tr>
</table>

<h3>Description</h3>

It looks like the hexToRgb code in <code>/iphone/cli/commands/_build.js</code> is incorrectly parsing the alpha value of the hex color and thus breaking the build for iOS apps on 8.2.0


{noformat}
(node:25015) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'r' of null
    at iOSBuilder.generateSemanticColors (/Users/brentonhouse/Library/Application Support/Titanium/mobilesdk/osx/8.2.0.RC/iphone/cli/commands/_build.js:5862:29)
{noformat}



<h3>Comments</h3>

<ol>
<li>Ewan Harris 2019-09-17

   [~bhouse], to make it easier could you attach the value you're supplying in the file. For now I guess you could workaround this by setting the alpha in the file directly</li>
<li>Rene Pot 2019-09-18

   [~eharris] that would be <code>#55000000</code> or something similar to that. <code>#argb</code> mode</li>
<li>Chris Barber 2020-01-31

   I believe this issue to be valid. <code>hexToRgb()</code> can return <code>null</code>, but the code doesn't handle the scenario where the value is null.
   
   Commit: <a href="https://github.com/appcelerator/titanium_mobile/commit/1a8ae85c90c8a3a9be08744bae0b154bc125fd25#diff-f430483233aa01af5b10df8390f9635dR5826" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/1a8ae85c90c8a3a9be08744bae0b154bc125fd25#diff-f430483233aa01af5b10df8390f9635dR5826</a>
   
   This could be fixed in 3 if statements.</li>
</ol>


<p><a href="/TIMOB/TIMOB-27408.json">JSON Source</a></p>