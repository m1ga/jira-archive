---
title: "[TIMOB-27490] iOS: Cannot build to iOS with latest 8.2.1 build"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-10-24T13:29:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.2.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.2.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>engSchedule</td></tr>
<tr><th>Reporter</th><td>Satyam Sekhri</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2019-10-21T23:57:08.000+0000</td></tr>
<tr><th>Updated</th><td>2019-10-24T13:29:47.000+0000</td></tr>
</table>

<h3>Description</h3>

When trying to build a default classic or alloy project to iOS simulator or device it errors out during with the latest 8.2.1 SDK build.

Steps to Reproduce
1. Create a default classic/alloy project
2. Build to iOS

Actual Result:
An error is shown
<code><pre>
2019-10-21T23:38:34.255Z | ERROR  | An uncaught exception was thrown!
xc is not defined
2019-10-21T23:38:34.255Z | ERROR  | xc is not defined
2019-10-21T23:38:34.255Z | TRACE  | ReferenceError: xc is not defined
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simulator.js:237:20
    at Array.forEach (&lt;anonymous&gt;)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simulator.js:231:19
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simulator.js:1879:5
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:473:16
    at replenish (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:1006:25)
    at iterateeCallback (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:995:17)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:969:16
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simulator.js:1873:5
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simctl.js:244:4
---------------------------------------------
    at Object.run (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/node-appc/lib/subprocess.js:60:8)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simctl.js:602:20
    at Object.whilst (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:5227:5)
    at trySimctl (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simctl.js:596:8)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simctl.js:198:4
    at Object.whilst (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:5227:5)
    at Object.list (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simctl.js:193:8)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simulator.js:1835:11
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:3110:16
---------------------------------------------
    at magik (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/utilities.js:51:13)
    at Object.detect (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/xcode.js:171:27)
    at list (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simulator.js:1818:8)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/simulator.js:216:4
    at fireCallbacks (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/xcode.js:178:5)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/xcode.js:629:11
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:3888:9
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:473:16
    at replenish (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:1006:25)
---------------------------------------------
    at Object.run (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/node-appc/lib/subprocess.js:60:8)
    at find (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/node-appc/lib/subprocess.js:97:13)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:4096:9
    at Object.process (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:2344:17)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:2252:19
    at Immediate.&lt;anonymous&gt; (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:119:16)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
---------------------------------------------
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:118:9
    at _insert (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:2250:13)
    at Object.push (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:2303:13)
    at Object.findExecutable (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/node-appc/lib/subprocess.js:114:8)
    at findTeams (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/xcode.js:505:21)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:3880:24
    at replenish (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:1011:17)
    at iterateeCallback (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:995:17)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:969:16
---------------------------------------------
    at Object.run (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/node-appc/lib/subprocess.js:60:8)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/xcode.js:497:22
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:3110:16
    at replenish (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:1011:17)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:1016:9
    at eachLimit$1 (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:3196:24)
    at Object.&lt;anonymous&gt; (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:1046:16)
    at loadXcodeInfo (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/xcode.js:339:11)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:3880:24
---------------------------------------------
    at Object.run (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/node-appc/lib/subprocess.js:60:8)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/xcode.js:302:22
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/env.js:98:4
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:3888:9
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:473:16
    at iterateeCallback (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:992:24)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:969:16
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:3885:13
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/env.js:92:6
---------------------------------------------
    at Object.run (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/node-appc/lib/subprocess.js:60:8)
    at find (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/node-appc/lib/subprocess.js:97:13)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:4096:9
    at Object.process (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:2344:17)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:2252:19
    at Immediate.&lt;anonymous&gt; (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:119:16)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
---------------------------------------------
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:118:9
    at _insert (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:2250:13)
    at Object.push (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/async/dist/async.js:2303:13)
    at Object.findExecutable (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/node-appc/lib/subprocess.js:114:8)
    at xcodeSelect (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/lib/env.js:81:21)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:3880:24
    at replenish (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:1011:17)
    at /Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:1016:9
    at eachOfLimit (/Users/satyamsekhri/Library/Application Support/Titanium/mobilesdk/osx/8.2.1.v20191021132318/node_modules/ioslib/node_modules/async/dist/async.js:1041:24)
</pre></code>

Expected Result:
The build to iOS simulator and device should be successful.

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2019-10-22

   <a href="https://github.com/appcelerator/ioslib/pull/103" rel="nofollow" target="_blank">https://github.com/appcelerator/ioslib/pull/103</a></li>
<li>Ewan Harris 2019-10-22

   I can't repro this, it's down to global sim runtimes so maybe it's something around when people have upgraded in place? I'm trying to install an additional runtime from xcode 11 to see if I can repro it</li>
<li>Ewan Harris 2019-10-22

   [~smohammed] can repro this, I got him to log the simruntime variable and it looks to be down to a super old iOS simruntime being installed (left over from an old xcode version probably)
   
   <code><pre>
   { bundlePath:
   
      '/Library/Developer/CoreSimulator/Profiles/Runtimes/iOS 8.4.simruntime',
   
     availabilityError:
   
      'The iOS 8.4 simulator runtime is not supported on hosts after macOS 10.14.99.',
   
     buildversion: '12H141',
   
     isAvailable: false,
   
     identifier: 'com.apple.CoreSimulator.SimRuntime.iOS-8-4',
   
     version: '8.4',
   
     name: 'iOS 8.4' }
   </pre></code></li>
<li>Chris Barber 2019-10-22

   ioslib@1.7.16 published. Need PRs for Ti SDK master/8_2_X.</li>
<li>Chris Barber 2019-10-22

   Ti SDK master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/11292" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11292</a>
   Ti SDK 8_2_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/11293" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11293</a></li>
<li>Chris Barber 2019-10-22

   ioslib fix <a href="https://github.com/appcelerator/ioslib/pull/104" rel="nofollow" target="_blank">https://github.com/appcelerator/ioslib/pull/104</a></li>
<li>Satyam Sekhri 2019-10-22

   FR Passed. Build to iOS device and sims successful.</li>
<li>Satyam Sekhri 2019-10-22

   Waiting for master build on Jenkins to pass</li>
<li>Christopher Williams 2019-10-23

   merged to master and 8_2_X</li>
<li>Samir Mohammed 2019-10-24

    Closing ticket. Able to build to ios sims using <code>8.2.1.v20191023131524</code> and SDK version <code>8.3.0.v20191023125529</code>.
    
    Test and other information can be found at:
    Ti SDK master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/11292" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11292</a>
    Ti SDK 8_2_X PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/11293" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11293</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-27490.json">JSON Source</a></p>