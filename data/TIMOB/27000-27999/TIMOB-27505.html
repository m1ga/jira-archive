---
title: "[TIMOB-27505] Android: Configuration change not saved in context for API < 26"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-05-05T13:44:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.0.2, Release 9.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>activity, android, configuration, engSchedule</td></tr>
<tr><th>Reporter</th><td>Sergey Volkov</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2019-09-27T09:52:07.000+0000</td></tr>
<tr><th>Updated</th><td>2020-05-05T13:44:05.000+0000</td></tr>
</table>

<h3>Description</h3>

One of configuration parameters than not being saved is activity orientation.
In my case this affects layout used by Date Picker Dialog (see attached gifs):
- when orientation is vertical day of week and month should be above the calendar
- when orientation is horizontal - left of the calendar

It works fine on API >= 26, but is broken for <26.

Sample application is in the attachment.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66991/1569750810528.JPEG">1569750810528.JPEG</td></td><td>2019-09-29T10:17:19.000+0000</td><td>23126</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66992/1569750969144.JPEG">1569750969144.JPEG</td></td><td>2019-09-29T10:17:19.000+0000</td><td>18608</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66983/24_H.gif">24_H.gif</td></td><td>2019-09-27T09:49:10.000+0000</td><td>2066196</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66984/24_V.gif">24_V.gif</td></td><td>2019-09-27T09:49:01.000+0000</td><td>2200926</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66981/25_H.gif">25_H.gif</td></td><td>2019-09-27T09:49:19.000+0000</td><td>2168428</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66982/25_V.gif">25_V.gif</td></td><td>2019-09-27T09:49:17.000+0000</td><td>2270634</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66979/26_H.gif">26_H.gif</td></td><td>2019-09-27T09:49:28.000+0000</td><td>2116927</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66980/26_V.gif">26_V.gif</td></td><td>2019-09-27T09:49:23.000+0000</td><td>2230997</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66986/app.js">app.js</td></td><td>2019-09-27T09:41:23.000+0000</td><td>724</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66985/fix(android)__configuration_change_not_saved_in_current_context.patch">fix(android)__configuration_change_not_saved_in_current_context.patch</td></td><td>2019-09-27T09:48:48.000+0000</td><td>875</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66993/landscape_7.png">landscape_7.png</td></td><td>2019-09-29T10:18:00.000+0000</td><td>59046</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_66994/potrait_7.png">potrait_7.png</td></td><td>2019-09-29T10:17:59.000+0000</td><td>56118</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-27505_67090/Screen Shot 2019-10-26 at 10.49.20 PM.png">Screen Shot 2019-10-26 at 10.49.20 PM.png</td></td><td>2019-10-26T19:51:02.000+0000</td><td>98056</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Rakhi Mitro 2019-09-29

   Hello [~s.volkov],
   We tested the issue you reported. The calendar is working as expected with horizontal and vertical mode on device Huawei y9 2018 (android 8) and  Huawei Gr3 2017 (android 7).
   
   *Android 8:*
    !1569750810528.JPEG|thumbnail!  !1569750969144.JPEG|thumbnail! 
   
   
   *Android 7:*
   !potrait_7.png|thumbnail!  !landscape_7.png|thumbnail!  
   
   Which device are you using?</li>
<li>Sergey Volkov 2019-09-30

   Hi.
   Screenshots in the attachment are from the official emulators.
   Problem is reproduced on your screenshots:
   - !1569750969144.JPEG|thumbnail!: in horizontal orientation date and month should be left of the calendar
   - !potrait_7.png|thumbnail!: normally, when there is enough space, date-picker mode should be "calendar", not "spinner" (but that could be vendor modifications or some other bug, not related to this).
   
   Steps to reproduce (nn_V.gif):
   1. While holding device in vertical orientation, launch the application
   2. Click button, verify that month and date are above calendar, press back
   3. Turn device horizontally
   4. Click button, verify that month and date are left of the calendar (broken on API < 26)
   </li>
<li>Rakhi Mitro 2019-09-30

   [~s.volkov],
   Can you please share the (nn_V.gif) image to us?</li>
<li>Sergey Volkov 2019-09-30

   By "nn_V.gif" I meant any of 24_V.gif, 25_V.gif and 26_v.gif.</li>
<li>Sharif AbuDarda 2019-10-26

   Hello [~s.volkov], I was able to reproduce the issue on our end using SDK 8.2.0.GA. I do see the behavior in the Android API<26.  !Screen Shot 2019-10-26 at 10.49.20 PM.png|thumbnail! The attached screenshot shows the difference in ANdroi d8.0 and Android 7.1 emulators. Moving to TIMOB. Thanks.</li>
<li>Samir Mohammed 2020-04-07

   FR Passed: Waiting on Jenkins build</li>
<li>Christopher Williams 2020-04-17

   merged to master for 9.1.0. cherry-picked to 9_0_X for 9.0.2.</li>
<li>Samir Mohammed 2020-05-05

   *Closing ticket.* Fix verified in SDK version 9.1.0.v20200501090150 and 9.0.2.v20200430111828 
   
   Test and other information can be found at:
   <a href="https://github.com/appcelerator/titanium_mobile/pull/11300" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11300</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-27505.json">JSON Source</a></p>