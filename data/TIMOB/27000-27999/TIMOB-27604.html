---
title: "[TIMOB-27604] Android: Build to android on windows fails with issue related to Ti.Cloak"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2019-11-18T18:19:08.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 8.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>engSchedule, regression</td></tr>
<tr><th>Reporter</th><td>Satyam Sekhri</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2019-11-14T20:03:15.000+0000</td></tr>
<tr><th>Updated</th><td>2019-11-18T18:19:08.000+0000</td></tr>
</table>

<h3>Description</h3>

When trying to build a default classic or alloy project to android device or emulator on windows OS it fails.
This is a regression as the issue is not seen when build using 8.2.1.GA

Steps to Reproduce:
1. Create a project
2. Build to android

Actual Result:
Following error is shown:
<code><pre>
[ERROR] Application Installer abnormal process termination. Process exit value was 1
2019-11-14T19:49:15.835Z | ERROR  | An uncaught exception was thrown!
\\?\C:\ProgramData\Titanium\mobilesdk\win32\8.3.0.v20191114073239\node_modules\ti.cloak\lib\native\ti.cloak-win32-ia32-v8.node is not a valid Win32 application.
\\?\C:\ProgramData\Titanium\mobilesdk\win32\8.3.0.v20191114073239\node_modules\ti.cloak\lib\native\ti.cloak-win32-ia32-v8.node
2019-11-14T19:49:15.837Z | ERROR  | \\?\C:\ProgramData\Titanium\mobilesdk\win32\8.3.0.v20191114073239\node_modules\ti.cloak\lib\native\ti.cloak-win32-ia32-v8.node is not a valid Win32 application.
\\?\C:\ProgramData\Titanium\mobilesdk\win32\8.3.0.v20191114073239\node_modules\ti.cloak\lib\native\ti.cloak-win32-ia32-v8.node
2019-11-14T19:49:15.837Z | TRACE  | Error: \\?\C:\ProgramData\Titanium\mobilesdk\win32\8.3.0.v20191114073239\node_modules\ti.cloak\lib\native\ti.cloak-win32-ia32-v8.node is not a valid Win32 application.
\\?\C:\ProgramData\Titanium\mobilesdk\win32\8.3.0.v20191114073239\node_modules\ti.cloak\lib\native\ti.cloak-win32-ia32-v8.node
    at Object.Module._extensions..node (module.js:682:18)
    at Module.load (module.js:566:32)
    at tryModuleLoad (module.js:506:12)
    at Function.Module._load (module.js:498:3)
    at Module.require (module.js:597:17)
    at require (internal/module.js:11:18)
    at Object.&lt;anonymous&gt; (C:\ProgramData\Titanium\mobilesdk\win32\8.3.0.v20191114073239\node_modules\ti.cloak\lib\bindings.js:39:90)
    at Module._compile (module.js:653:30)
    at Object.Module._extensions..js (module.js:664:10)
    at Module.load (module.js:566:32)

</pre></code>

Expected Result: The project should build successfully for android.

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2019-11-15

   8_3_X: <a href="https://github.com/appcelerator/titanium_mobile/pull/11340" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11340</a></li>
<li>Christopher Williams 2019-11-15

   merged to 8_3_X, cherry-picked to master.</li>
<li>Satyam Sekhri 2019-11-18

   FR Passed</li>
<li>Satyam Sekhri 2019-11-18

   Verified on:
   Win OS 10
   SDK: 8.3.0.v20191115162504, 9.0.0.v20191117201259
   Appc CLI: 7.1.2-master.7
   Node: 10.17.0
   Studio: 5.1.4.201909061933
   Device: Nexus 4(5.1.1),  Android emulator v9.0</li>
</ol>


<p><a href="/TIMOB/TIMOB-27604.json">JSON Source</a></p>