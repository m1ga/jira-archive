---
title: "[TIMOB-27625] Android: Setting picker's minDate/maxDate after opening window not correctly applied"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-05-04T12:58:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.0.2</td></tr>
<tr><th>Components</th><td>n/a</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Teun Klijn</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2019-11-22T15:10:14.000+0000</td></tr>
<tr><th>Updated</th><td>2020-05-04T12:58:06.000+0000</td></tr>
</table>

<h3>Description</h3>

When you set maxDate twice on a Ti.UI.Picker the first maxDate is still the maximum date I can set.

*To reproduce*
<h4>Press "Set Max Date"</h4>
<h4>Try to set the picker to the new maxDate</h4>

<code><pre>
var maxDate = new Date();

var window = Ti.UI.createWindow({
  layout: "vertical",
  backgroundColor: "#454441"
});

var picker = Ti.UI.createPicker({
  type: Ti.UI.PICKER_TYPE_DATE,
  maxDate: maxDate
});
window.add(picker);

var button = Ti.UI.createButton({
  title: "Set Max Date"
});
button.addEventListener("click", function() {
  picker.maxDate = new Date(maxDate.getFullYear() + 1, maxDate.getMonth(), maxDate.getDate());
});
window.add(button);

window.open();
</pre></code>

*Expected behavior*
The user is able to set the date to the new maxDate.

*Actual behavior*
The picker keeps resetting to the first maxDate.

*Note*
I think this is because the TiUIDatePicker class is using a maxDate variable (I think minDate has the same problem) to check if a date change is allowed (line 165), but it's only updating this property in processProperties and not in propertyChanged. 

I'm able to work around this issue by setting a high maxDate at initialization before I start updating the maxDate. This confirms my suspicion above.

<h3>Comments</h3>

<ol>
<li>Yordan Banev 2019-11-25

   I have confirmed this is a valid issue and can be reproduced. Moving to TIMOB.</li>
<li>Yordan Banev 2019-11-26

   -PR:- <a href="https://github.com/appcelerator/titanium_mobile/pull/11369" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11369</a>
   
   Closing in favor of below PR.</li>
<li>Joshua Quick 2020-04-11

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/11621" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11621</a>
   PR (9.0.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/11622" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11622</a></li>
<li>Samir Mohammed 2020-04-27

   FR Passed for Master and 9_0_X, waiting on Jenkins build</li>
<li>Christopher Williams 2020-04-28

   merged to master and 9_0_X</li>
<li>Samir Mohammed 2020-05-04

   *Closing ticket.* Fix verified in SDK version 9.1.0.v20200501090150 and 9.0.2.v20200430111828 
   
   Test and other information can be found at:
   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/11621" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11621</a>
   PR (9.0.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/11622" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11622</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-27625.json">JSON Source</a></p>