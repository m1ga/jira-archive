---
title: "[TIMOB-27719] Android: Remove python dependency from SDK build"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-06-30T14:53:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, build, python, sdk</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Christopher Williams</td></tr>
<tr><th>Created</th><td>2020-01-17T00:04:13.000+0000</td></tr>
<tr><th>Updated</th><td>2020-06-30T14:53:47.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
When building the Titanium SDK, the Android side currently uses python scripts to do some code generation. We should replace python scripts with node.js scripts so that we can get rid of our python dependency, thus simplifying the SDK build.

Apple will not pre-install "python" on the next version of macOS in the year 2020
<a href="https://developer.apple.com/documentation/macos_release_notes/macos_catalina_10_15_release_notes" rel="nofollow" target="_blank">https://developer.apple.com/documentation/macos_release_notes/macos_catalina_10_15_release_notes</a>

*Note:*
Titanium's app and module builds do not require python. This is only an issue with SDK builds.

*Recommended Changes:*
In Titanium 9.0.0, we only run 2 python scripts via our "prebuild.js" script. These are the scripts we need to replace.
[titanium_mobile/android/titanium/prebuild.js](<a href="https://github.com/appcelerator/titanium_mobile/blob/70c16f7ca213f39791330758489be4f951dfa1ab/android/titanium/prebuild.js)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/70c16f7ca213f39791330758489be4f951dfa1ab/android/titanium/prebuild.js)</a>

Once the above is done, we should be able to delete all python scripts from the following folder...
[titanium_mobile/android/runtime/v8/tools](<a href="https://github.com/appcelerator/titanium_mobile/tree/70c16f7ca213f39791330758489be4f951dfa1ab/android/runtime/v8/tools)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/tree/70c16f7ca213f39791330758489be4f951dfa1ab/android/runtime/v8/tools)</a>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2020-05-20

   Our module build system has a "generate-cpp-files.js" script that does something extremely similar to what our SDK's python script does.
   <a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/templates/module/generated/generate-cpp-files.js" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/templates/module/generated/generate-cpp-files.js</a>
   
   Although the best solution may be to have our kroll-apt annotation processor do 100% of the code generation instead of splitting the code generation between it and these JS/python scripts. Doing this is a much bigger task.</li>
<li>Christopher Williams 2020-05-20

   <a href="https://github.com/appcelerator/titanium_mobile/pull/11723" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11723</a></li>
<li>Christopher Williams 2020-06-04

   merged to master for 9.1.0 target</li>
</ol>


<p><a href="/TIMOB/TIMOB-27719.json">JSON Source</a></p>