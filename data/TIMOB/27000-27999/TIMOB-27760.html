---
title: "[TIMOB-27760] ScrollView: add contentInset support"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android, iOS</td></tr>
<tr><th>Labels</th><td>scrollview</td></tr>
<tr><th>Reporter</th><td>Rene Pot</td></tr>
<tr><th>Assignee</th><td>Abir Mukherjee</td></tr>
<tr><th>Created</th><td>2020-02-11T14:52:24.000+0000</td></tr>
<tr><th>Updated</th><td>2020-02-12T19:54:28.000+0000</td></tr>
</table>

<h3>Description</h3>

The ScrollView currently doesn't have <code>contentInset</code> support. Adding this feature would greatly improve UI/UX on apps that don't have NavigationWindow as their main element.

iOS documentation: <a href="https://developer.apple.com/documentation/uikit/uiscrollview/1619406-contentinset" rel="nofollow" target="_blank">https://developer.apple.com/documentation/uikit/uiscrollview/1619406-contentinset</a>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27760_67273/Example-Android.png">Example-Android.png</td></td><td>2020-02-11T20:00:04.000+0000</td><td>63049</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27760_67274/Example-iOS.png">Example-iOS.png</td></td><td>2020-02-11T20:00:09.000+0000</td><td>87029</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27760_67272/ScrollViewInsetTest.js">ScrollViewInsetTest.js</td></td><td>2020-02-11T19:56:11.000+0000</td><td>874</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2020-02-11

   [~topener], you can already do this "today" by settings up a container view with the padding/insets you want. When you set a view's <code>width</code> and <code>height</code> properties, the view's <code>left</code>/<code>right</code>/<code>top</code>/<code>bottom</code> properties are used as padding. For example...
   <code><pre>
   var containerView = Ti.UI.createView({
   	layout: "vertical",
   	left: "5dp",
   	right: "5dp", 
   	top: "5dp",
   	bottom: "5dp",
   	width: Ti.UI.FILL,
   	height: Ti.UI.SIZE,
   });
   </pre></code>
   
   You can use the above as a container. The idea is you add the above view to the <code>ScrollView</code>. You would put the child content into that container, so the container view's padding effectively become the insets you want. Try out the below test code. It works on both Android and iOS.
    [^ScrollViewInsetTest.js] 
    !Example-Android.png|thumbnail!  !Example-iOS.png|thumbnail! 
   </li>
<li>Marcus Olovsson 2020-02-11

   @Joshua Quick The padding workaround doesn't work in all cases. For example if you would want to set a native Ti.UI.RefreshControl on the scrollview, you'd notice that on a device with a notch the refresh indicator always appears behind the notch, as it's unaffected by the views inside the scrollview.</li>
<li>Joshua Quick 2020-02-12

   </li>
<li>Marcus Olovsson 2020-02-12

   Sorry but that doesn't solve the problem, as it wouldn't make the contents of the scrollview appear behind other components *while* scrolling, which is a common design pattern.
   
   I could use the safeAreaPadding to add a fake inset with views, like you mentioned before, however this doesn't work very well if you use a RefreshControl (which doesn't have any layout properties) on the scrollview as it still would appear behind the notch or any other view that overlays the scrollview.</li>
<li>Joshua Quick 2020-02-12

   Okay. I see the disconnect here.
   
   You don't need the ability to set arbitrary view insets. The real issue (from what I can see) is that the <code>RefreshControl</code> is not automatically compensating for the system/device insets and it ends up being overlapped. I'm going to close this ticket and rewrite it as that... because you wouldn't get the solution you want from the way this ticket is written.
   
   *Side Note:*
   Don't discount the "safeAreaPadding" feature. It's not a "fake" feature. It actually does fetch from the native APIs/classes needed to implement the design guidelines you are talking about. Note that Titanium's "safeAreaPadding" name mirrors Apple's "safe-area" name. This is not a coincidence. And it allows you to easily set up a safe-area container that Apple recommends in their own guidelines, with the added benefit is that this strategy is portable on Android as well.
   <a href="https://developer.apple.com/documentation/uikit/uiview/2891103-safeareainsets" rel="nofollow" target="_blank">https://developer.apple.com/documentation/uikit/uiview/2891103-safeareainsets</a>
   <a href="https://developer.android.com/reference/android/view/WindowInsets" rel="nofollow" target="_blank">https://developer.android.com/reference/android/view/WindowInsets</a>
   <a href="https://developer.apple.com/documentation/uikit/uiview/positioning_content_relative_to_the_safe_area" rel="nofollow" target="_blank">https://developer.apple.com/documentation/uikit/uiview/positioning_content_relative_to_the_safe_area</a>
   </li>
<li>Marcus Olovsson 2020-02-12

   Sorry but I disagree. I don't see why contentInset shouldn't be something you can set yourself. The documentation for it even says: "By default, UIKit automatically adjusts the content inset to account for overlapping bars. You use this property to extend that distance even further, perhaps to *accommodate your own custom content*". <a href="https://developer.apple.com/documentation/uikit/uiscrollview/1619406-contentinset" rel="nofollow" target="_blank">https://developer.apple.com/documentation/uikit/uiscrollview/1619406-contentinset</a>
   
   There are also cases where contentInsetAdjustmentBehavior isn't applied correctly, because the app is using custom content.
   
   The RefreshControl is, from my understanding, also placing itself automatically based on the contentInset, since it's build to be used with scrolling views. It works as intended as long as contentInsetAdjustmentBehavior can be applied correctly (when for example building an app with a Ti.UI.NavigationWindow with a visible navbar). <a href="https://developer.apple.com/documentation/uikit/uirefreshcontrol" rel="nofollow" target="_blank">https://developer.apple.com/documentation/uikit/uirefreshcontrol</a>
   
   Regarding your side note: I never said that safeAreaPadding itself is "fake", I'm very well aware that this is the safe distance reported by the system and I'm using it a lot. I was referring to putting empty views into a scrollview to emulate the effect that contentInset is supposed to do.</li>
</ol>


<p><a href="/TIMOB/TIMOB-27760.json">JSON Source</a></p>