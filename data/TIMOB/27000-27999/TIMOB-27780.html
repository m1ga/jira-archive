---
title: "[TIMOB-27780] Android: Hyperloop builds fail if JDK 12 or higher is installed"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-04-10T22:27:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.0.1</td></tr>
<tr><th>Components</th><td>Android, Hyperloop</td></tr>
<tr><th>Labels</th><td>android, build, hyperloop, jdk</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2020-02-26T04:28:28.000+0000</td></tr>
<tr><th>Updated</th><td>2020-04-10T22:27:18.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
If you have JDK 12 or higher installed on your machine, then Titanium apps using the Hyperloop module will fail to build.

*Steps to reproduce:*
<h4>Install JDK 12 or higher on your machine.</h4>
<h4>Build [hyperloop-example](<a href="https://github.com/appcelerator/hyperloop-examples)" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop-examples)</a> for Android.</h4>
<h4>Notice the build *fails* with the following error message.</h4>

<code><pre>
[ERROR] hyperloop:generateMetabase: Failed to generated metabase: warning: [options] bootstrap class path not set in conjunction with -source 6
error: Source option 6 is no longer supported. Use 7 or later.
error: Target option 6 is no longer supported. Use 7 or later.
</pre></code>

*Cause:*
As of JDK 12, Oracle has dropped support for the Java 6 language.
<a href="https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8028563" rel="nofollow" target="_blank">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8028563</a>

Hyperloop currently hardcodes its usage of the <code>javac</code> command line tool during the build to Java 1.6, which is why it fails when using the newest JDK.
[android/hooks/metabase/metabase.js#L41](<a href="https://github.com/appcelerator/hyperloop.next/blob/24feb99f719da5e3df279452526638d46fa0043a/android/hooks/metabase/metabase.js#L41)" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/blob/24feb99f719da5e3df279452526638d46fa0043a/android/hooks/metabase/metabase.js#L41)</a>

*Solution:*
Update <code>javac</code> usage to use Java 1.8 instead.

*Note:*
For JDK 13 support, we'll likely need to update Titanium's gradle template to 6.x.x as well, which means updating our Android build tools to 3.6.x via [TIMOB-27778].


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2020-02-29

   PR (hyperloop.next): <a href="https://github.com/appcelerator/hyperloop.next/pull/336" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/336</a>
   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/11507" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11507</a>
   PR (9.0.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/11510" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11510</a>
   </li>
<li>Sohail Saddique 2020-03-20

   </li>
<li>Lokesh Choudhary 2020-04-10

   Verified the fix with NDK 13.0.2 & SDK 9.0.1.v20200409133209.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-27780.json">JSON Source</a></p>