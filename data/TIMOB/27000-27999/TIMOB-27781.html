---
title: "[TIMOB-27781] Android: App/Module builds fail with JDK 13 as of 9.0.0"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-04-10T22:26:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 9.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, build, gradle, jdk, regression</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2020-02-26T19:38:11.000+0000</td></tr>
<tr><th>Updated</th><td>2020-04-16T01:20:25.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
When building an app or module with Titanium 9.0.0, the build will fail if JDK 13 is installed.

Titanium 8.3.x builds fine with JDK 13... except for Hyperloop builds: [TIMOB-27780]

*Steps to reproduce:*
<h4>Install JDK 13.</h4>
<h4>Create a Titanium app project.</h4>
<h4>Build with Titanium 9.0.0 for Android.</h4>

*Result:*
<code><pre>
[ERROR] [GRADLE] FAILURE: Build failed with an exception.
[ERROR] [GRADLE] 
[ERROR] [GRADLE] * Where:
[ERROR] [GRADLE] Settings file '/Users/jquick2/Documents/Appcelerator_Studio_Workspace/kitchensink-v2/build/android/settings.gradle'
[ERROR] [GRADLE] 
[ERROR] [GRADLE] * What went wrong:
[ERROR] [GRADLE] Could not compile settings file '/Users/jquick2/Documents/Appcelerator_Studio_Workspace/kitchensink-v2/build/android/settings.gradle'.
[ERROR] [GRADLE] &gt; startup failed:
[ERROR] [GRADLE]   General error during semantic analysis: Unsupported class file major version 57
[ERROR] [GRADLE]   
[ERROR] [GRADLE]   java.lang.IllegalArgumentException: Unsupported class file major version 57
[ERROR] [GRADLE]   	at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:184)
[ERROR] [GRADLE]   	at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)
[ERROR] [GRADLE]   	at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:152)
[ERROR] [GRADLE]   	at groovyjarjarasm.asm.ClassReader.&lt;init&gt;(ClassReader.java:273)
</pre></code>

*Cause:*
As of Titanium 9.0.0, we now build with gradle. We're currently using gradle v5.4.1 which does not support JDK 13. We'll need to upgrade to gradle v6.0.x (released January 2020) which supports JDK 13.
<a href="https://docs.gradle.org/6.0/release-notes.html#java-13" rel="nofollow" target="_blank">https://docs.gradle.org/6.0/release-notes.html#java-13</a>

*Note:*
You can have multiple JDK installations on Mac. You can list the JDK versions installed by entering the following at the command line.
<code><pre>
/usr/libexec/java_home -V
</pre></code>

You can select which installed JDK version to use by entering the following at the command line. You'll need to set the <code>&lt;JavaVersion&gt;</code> to what's installed, which the above command line will list. The below can be set in your <code>.bash_profile</code> file.
<code><pre>
export JAVA_HOME=$(/usr/libexec/java_home -v &lt;JavaVersion&gt;)
</pre></code>

*Work-Around:*
Downgrade to JDK 12 or lower.
(JDK 8 is the min version needed.)

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27781_67308/ti.imagefactory_errors.rtf">ti.imagefactory_errors.rtf</td></td><td>2020-03-20T12:08:29.000+0000</td><td>13092</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2020-02-29

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/11507" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11507</a>
   PR (9.0.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/11510" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11510</a>
   </li>
<li>Sohail Saddique 2020-03-20

   </li>
<li>Sohail Saddique 2020-03-20

   *Test Environment*
   SDK Ver:        8.3.1.GA & 9.0.0.GA & 9.0.1 & 9.1.0
   OS Ver:         10.14.6
   Appc NPM:       5.0.0
   Appc CLI:       8.0.0
   Daemon Ver:     3.2.0
   Ti CLI Ver:     5.2.2
   Alloy Ver:      1.14.6
   Node Ver:       10.17.0
   Java Ver:       1.8.0 & 12.0.2 & 13.0.2
   Emulator:       â‡¨ Android 10 (API 29)
   </li>
<li>Joshua Quick 2020-03-20

   [~ssaddique], the module still builds fine, right?
   
   The issue we are having as of 9.0.0 is that the Java compiler "warnings" are being reported via "stderr", which our CLI reports as errors. We don't have a good work-around for this at the moment since "warnings" are reported inconsistently via the different gradle tools.</li>
<li>Sohail Saddique 2020-03-20

   [~jquick] Yep, the module still builds fine. In light of this information, I can therefore pass this ticket and merge the PR's.</li>
<li>Joshua Quick 2020-03-20

   [~ssaddique], thanks for the detailed investigation. That's what I like to see. :)
   </li>
<li>Lokesh Choudhary 2020-04-10

   Verified the fix with JDK 13.0.2 & SDK 9.0.1.v20200409133209.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-27781.json">JSON Source</a></p>