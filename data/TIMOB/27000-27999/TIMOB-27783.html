---
title: "[TIMOB-27783] iOS: Compiling app with watchOS app included forces rebuild every time"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 9.0.0, Release 8.3.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hans Knöchel</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2020-02-28T20:10:44.000+0000</td></tr>
<tr><th>Updated</th><td>2020-05-27T15:42:32.000+0000</td></tr>
</table>

<h3>Description</h3>

Compiling an iOS app with a watchOS app included forces a full rebuild every time. The reason is a file which seems to be either rewritten every time or not properly added to the build index:
<code><pre>
[INFO]  Forcing rebuild: build/iphone/extensions/MyAppWatchApp/WatchApp/WatchApp.entitlements has changed since last build
</pre></code>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2020-02-28

   I quickly tried to reproduce by doing a sim and device build, but I don't see any entitlements file in my watch app or ext directory (in the build dir). Does your watch app have its own custom entitlements file?
   
   I'm curious if you could make a backup of that file, run another build, then diff the two to see what changed. Maybe a timestamp?</li>
<li>Hans Knöchel 2020-05-17

   Hi Chris, sorry for the delayed reply! It's the same file, but it seems like the build flushes / rewrites it to disk. I think you also have access to our project on Github, so could you maybe try it out there? It becomes worse every day with incremental builds being broken, so I hope this can be prioritized at some point. Thank you!</li>
<li>Jan Vennemann 2020-05-27

   There is a simple workaround for now: Make sure that your .<code>entitlements</code> files *DO NOT* contain new lines at the end. Xcode may add them automatically after you edit the file. Just remove them with another Editor and the incremental build is happy again.</li>
</ol>


<p><a href="/TIMOB/TIMOB-27783.json">JSON Source</a></p>