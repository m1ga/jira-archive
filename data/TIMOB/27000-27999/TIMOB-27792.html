---
title: "[TIMOB-27792] iOS: Remove python dependency from SDK build"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-05-26T15:29:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>build, ios, python, sdk</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2020-03-06T07:03:00.000+0000</td></tr>
<tr><th>Updated</th><td>2020-07-27T13:13:06.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When building the iOS portion of the SDK, we use [a python script](<a href="https://github.com/appcelerator/titanium_mobile/blob/cc1b0554a72c271ed2050b3e7ee4ce27627804e3/support/dev/localecompiler.py)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/cc1b0554a72c271ed2050b3e7ee4ce27627804e3/support/dev/localecompiler.py)</a> to do some handling of i18n files. We should rewrite this in the same timeframe as the Android changes (TIMOB-27719) to allow us to remove the python dependency at the same time

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2020-03-09

   [~jquick] question for you. This script appears to only be used by iOS right now, but it looks like it also could/used to [handle android](<a href="https://github.com/appcelerator/titanium_mobile/blob/05db45790d457cb41783b46f5e95ba4bb1571339/support/dev/localecompiler.py#L131-L134)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/05db45790d457cb41783b46f5e95ba4bb1571339/support/dev/localecompiler.py#L131-L134)</a>, should that be kept? Would having this script be of use to an Android dev?</li>
<li>Joshua Quick 2020-03-09

   We don't need this on Android. If we were to localize SDK strings, we would do it the native way.
   
   I'm questioning if we need this for iOS SDK builds. It looks like this python script is used to localize the following folder's i18n files, but it only contains a "Hello World" string as a test.
   [titanium_mobiile/iphone/i18n](<a href="https://github.com/appcelerator/titanium_mobile/tree/master/iphone/i18n)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/tree/master/iphone/i18n)</a>
   
   I'm thinking we should just delete this python script and remove it from the Xcode prebuild step. Our app build script "_build.js" for both Android and iOS already have separate code for converting i18n files to their native equivalents.
   [Android - _build.js - generateI18N()](<a href="https://github.com/appcelerator/titanium_mobile/blob/9950ccec933d716ee96c0272031f26999d595ea9/android/cli/commands/_build.js#L3221)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/9950ccec933d716ee96c0272031f26999d595ea9/android/cli/commands/_build.js#L3221)</a>
   [iOS - _build.js - writeI18NFiles()](<a href="https://github.com/appcelerator/titanium_mobile/blob/9950ccec933d716ee96c0272031f26999d595ea9/iphone/cli/commands/_build.js#L6299)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/9950ccec933d716ee96c0272031f26999d595ea9/iphone/cli/commands/_build.js#L6299)</a>
   </li>
<li>Ewan Harris 2020-03-09

   I'm kind of in agreement, if it reused the code from the SDK to do the building of the files to kind of act as a test of that then I'd see value in it but right now it doesn't seem super useful to me. [~vijaysingh] what do you think?</li>
<li>Vijay Singh 2020-03-09

   I think we can remove the python script. But we have to write a function in  '[scons-xcode-project-build.js](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/build/scons-xcode-project-build.js)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/build/scons-xcode-project-build.js)</a>'  similar to ['writeI18NFiles'](<a href="https://github.com/appcelerator/titanium_mobile/blob/9950ccec933d716ee96c0272031f26999d595ea9/iphone/cli/commands/_build.js#L6299)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/9950ccec933d716ee96c0272031f26999d595ea9/iphone/cli/commands/_build.js#L6299)</a> which will create .lproj files and copy it in app directory (Titanium.app/) .</li>
<li>Ewan Harris 2020-05-21

   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/11725" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11725</a></li>
<li>Christopher Williams 2020-05-26

   Merged to master for 9.1.0 target (though this is really an internal dev ticket)</li>
<li>Samir Mohammed 2020-07-27

   Closing ticket. Fix verified in SDK version <code>9.1.0.v20200724110711</code>, <code>9.2.0.v20200724112452</code> and <code>9.3.0.v20200724114100</code>.
   
   Test and other information can be found at: 
   <a href="https://github.com/appcelerator/titanium_mobile/pull/11725" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11725</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-27792.json">JSON Source</a></p>