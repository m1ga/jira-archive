---
title: "[TIMOB-27822] Ti.UI.iPad.Popover including arrow in content view on iOS 13"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-04-16T01:39:56.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.0.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Justin Tickner </td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2020-03-18T04:27:47.000+0000</td></tr>
<tr><th>Updated</th><td>2020-06-11T07:39:48.000+0000</td></tr>
</table>

<h3>Description</h3>

As of iOS 13, Ti.UI.iPad.Popover's "arrow" is included as part of the content area. This was not the case in previous versions of iOS, and is causing content to be pushed outside the bounds of what is visible in the Popover on iOS 13 devices. It's probably an issue with safe area implementation in iOS 13.

See  !popover_ios13_issue.png|thumbnail!  for the difference between how it is working on iOS 13 and iOS 12.

Reproduction code:

<code><pre>
var win = Ti.UI.createWindow({backgroundColor: 'white'});
var button = Ti.UI.createButton({title: 'Open Popover Up', top: 100});
var button2 = Ti.UI.createButton({title: 'Open Popover Left', top: 200});
button.addEventListener('click', function(e){
    popover.show({ view: button });
})
button2.addEventListener('click', function(e){
    popover2.show({ view: button2 });
})
win.add(button);
win.add(button2);
var contentWindow = Ti.UI.createWindow({ title: 'Window title' });
contentWindow.add(Ti.UI.createLabel({text: "Example text."}));
var popover = Ti.UI.iPad.createPopover({
	backgroundColor: 'black',
	arrowDirection: Titanium.UI.iPad.POPOVER_ARROW_DIRECTION_UP,
    contentView: Ti.UI.createNavigationWindow({
        width: 450,
        height: 300,
		window: contentWindow,
    })
});
var popover2 = Ti.UI.iPad.createPopover({
	backgroundColor: 'black',
	arrowDirection: Titanium.UI.iPad.POPOVER_ARROW_DIRECTION_LEFT,
    contentView: Ti.UI.createNavigationWindow({
        width: 450,
        height: 300,
		window: contentWindow,
    })
});
win.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27822_67335/iPad9.7_alignmentIssue.png">iPad9.7_alignmentIssue.png</td></td><td>2020-04-14T16:56:14.000+0000</td><td>192449</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27822_67305/popover_ios13_issue.png">popover_ios13_issue.png</td></td><td>2020-03-18T04:26:32.000+0000</td><td>319664</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mark Henderson 2020-03-26

   I have this issue as well, it completely ruins the UI of my app unfortunately as popovers are used extensively and dynamically. My app is like a map app with pins.
   
   I cannot find a way around this, but it seems that the SDK is implementing the iOS 13 change wrong as everything is clearly shifted up/down/left/right depending on the arrow direction.</li>
<li>Mark Henderson 2020-04-06

   Hi, just wondering if there is any update on this issue in terms of when a fix to this may appear in the CI builds so I can test it? 
   
   This bug is preventing me from releasing my app as I make heavy use of Popovers for iPad. Thanks!</li>
<li>Vijay Singh 2020-04-06

   [~mark.henderson@snagr.co.uk] 
   I am working on this. I'll update progress here.</li>
<li>Vijay Singh 2020-04-07

   PR (master) - <a href="https://github.com/appcelerator/titanium_mobile/pull/11598" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11598</a>
   
   PR (9_0_X) - <a href="https://github.com/appcelerator/titanium_mobile/pull/11599" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11599</a></li>
<li>Mark Henderson 2020-04-08

   @Vijay Singh I have tested the PR manually in my 9.0.0SDK and it works perfectly! Many thanks for the fast response at this difficult time!</li>
<li>Justin Tickner  2020-04-08

   @Vijay Singh ditto to Mark's sentiment â€”really appreciate the fast response on this! Have tested this in 8.3.0.SDK and it also works fine there</li>
<li>Satyam Sekhri 2020-04-13

   FR Passed</li>
<li>Satyam Sekhri 2020-04-14

   Noticed an issue with the fix. When testing on an iPad simulator in portrait mode the text is not centrally aligned in the case of popover left. The text alignment issue is more noticeable on smaller screen like ipad pro 9.7 inch simulator whereas on on larger screen sim like iPad pro 12.9 inch the issue is not noticeable at all.
   Check the attached screenshot for 9.7 inch iPad pro.
    !iPad9.7_alignmentIssue.png|thumbnail! </li>
<li>Vijay Singh 2020-04-14

   Looking in this.</li>
<li>Vijay Singh 2020-04-15

    PR (9_0_X) - <a href="https://github.com/appcelerator/titanium_mobile/pull/11633" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11633</a>
    PR (master) - <a href="https://github.com/appcelerator/titanium_mobile/pull/11632" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11632</a></li>
<li>Satyam Sekhri 2020-04-15

    FR Passed. 
    The iPad popover are shown correctly and the title text is centrally aligned.</li>
<li>Satyam Sekhri 2020-04-16

    Verified on:
    Mac OS: 10.15.4
    SDK: 9.0.1.v20200415143120, 9.1.0.v20200415140515
    Appc CLI: 8.0.0
    JDK: 11.0.4
    Node: 10.17.0
    Studio: 6.0.0.202003181504
    Xcode: 11.4
    iOS simulator: iPad Air3(v13.4, 12.2), iPad Pro 9.7-inch(v13.4, 12.2), iPad Pro 11-inch(v13.4, 12.2), iPad Pro 12.9-inch(v13.4, 12.2)</li>
</ol>


<p><a href="/TIMOB/TIMOB-27822.json">JSON Source</a></p>