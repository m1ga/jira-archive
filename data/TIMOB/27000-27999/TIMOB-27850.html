---
title: "[TIMOB-27850] Android: App/Module builds fail with JDK 14 as of 9.0.0"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-05-04T23:52:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 9.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.0.2</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, build, gradle, jdk</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2020-04-16T01:04:57.000+0000</td></tr>
<tr><th>Updated</th><td>2020-05-04T23:52:00.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
When building an app or module with Titanium 9.0.0, the build will fail if JDK 14 is installed.

Titanium 8.3.x builds fine with JDK 14... except for Hyperloop builds: [TIMOB-27780]

*Steps to reproduce:*
<h4>Install JDK 14.</h4>
<h4>Create a Titanium app project.</h4>
<h4>Build with Titanium 9.0.1 for Android. (9.0.1 supports JDK 13.)</h4>

*Result:*
<code><pre>
[ERROR] [GRADLE] 
[ERROR] [GRADLE] FAILURE: Build failed with an exception.
[ERROR] [GRADLE] 
[ERROR] [GRADLE] * What went wrong:
[ERROR] [GRADLE] Could not initialize class org.codehaus.groovy.runtime.InvokerHelper
[ERROR] [GRADLE] 
[ERROR] [GRADLE] * Try:
[ERROR] [GRADLE] Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.
[ERROR] [GRADLE] 
[ERROR] [GRADLE] * Get more help at <a href="https://help.gradle.org" rel="nofollow" target="_blank">https://help.gradle.org</a>
[ERROR] [GRADLE] 
[ERROR] [GRADLE] BUILD FAILED in 597ms
[ERROR] "gradlew" tool returned exit code: 1
</pre></code>

*Cause:*
As of Titanium 9.0.0, we now build with gradle.
We need to upgrade gradle to v6.3.0 which recently added JDK 14 support.
<a href="https://docs.gradle.org/6.3/release-notes.html" rel="nofollow" target="_blank">https://docs.gradle.org/6.3/release-notes.html</a>

*To-Do:*
In folder <code>titanium_mobile/android</code>, execute below command line to upgrade gradle wrapper files.
<code><pre>
./gradlew wrapper --distribution-type all --gradle-version 6.3
</pre></code>

We should also update our <code>com.android.tools.build:gradle</code> tool to version <code>3.6.2</code> for files...
<a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/build.gradle" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/build.gradle</a>
<a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/templates/build/root.build.gradle" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/templates/build/root.build.gradle</a>

*Note:*
You can have multiple JDK installations on Mac. You can list the JDK versions installed by entering the following at the command line.
<code><pre>
/usr/libexec/java_home -V
</pre></code>

You can select which installed JDK version to use by entering the following at the command line. You'll need to set the <code><JavaVersion></code> to what's installed, which the above command line will list. The below can be set in your <code>.bash_profile</code> file.
<code><pre>
export JAVA_HOME=$(/usr/libexec/java_home -v <JavaVersion>)
</pre></code>

*Work-Around:*
Downgrade to JDK 13 for Titanium 9.0.1.
Downgrade to JDK 12 for Titanium 9.0.0. (See [TIMOB-27781])
(JDK 8 is the min version needed.)


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2020-04-16

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/11636" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11636</a>
   PR (9.0.x): <a href="https://github.com/appcelerator/titanium_mobile/pull/11637" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11637</a>
   </li>
<li>Satyam Sekhri 2020-04-28

   FR Passed. App and module builds fine with different java versions(11,13,14)</li>
<li>Satyam Sekhri 2020-04-28

   Waiting for Jenkins build on master.</li>
<li>Christopher Williams 2020-04-29

   merged to master</li>
<li>Satyam Sekhri 2020-05-04

   Verified on:
   Mac OS: 10.15.4
   SDK: 9.0.2.v20200504063604, 9.1.0.v20200504090422
   Appc CLI: 8.0.0
   JDK: 11.0.6, 13.0.2, 14.0.1
   Node: 10.17.0
   Device: Pixel3(v10.0) emulator</li>
</ol>


<p><a href="/TIMOB/TIMOB-27850.json">JSON Source</a></p>