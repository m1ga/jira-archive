---
title: "[TIMOB-27861] iOS: openURL() callback not invoked if missing options dictionary as of 8.1.0"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-05-06T11:54:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.0.2</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>callback, ios, openUrl, regression</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2020-04-21T23:59:20.000+0000</td></tr>
<tr><th>Updated</th><td>2020-05-06T11:54:24.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
The <code>Ti.Platform.openURL()</code> method supports 2 optional arguments, an "options" dictionary and a callback. If you omit the "options" dictionary argument and only supply a callback argument, then the callback will not be invoked. It ignores the callback argument.
<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Platform-method-openURL

This regression was introduced as of Titanium 8.1.0.

The URL will still be opened (if possible), but you cannot receive the result of the open operation to know if it was successful or not in code.

*Test:*
<h4>Build and run the below on iOS 10 or higher.</h4>
<h4>Tap on the "Open URL" button.</h4>
<h4>Look in the log. Notice the callback never logged: <code>### openURL() callback...</code></h4>
<h4>Note that the URL was still opened, but you can't receive any indication it was successful.</h4>

<code><pre>
var window = Ti.UI.createWindow();
var button = Ti.UI.createButton({ title: "Async Open URL" });
button.addEventListener("click", function() {
	Ti.Platform.openURL("<a href="https://www.google.com" rel="nofollow" target="_blank">https://www.google.com</a>", function(e) {
		Ti.API.info("### openURL() callback event.success: " + e.success);
	});
});
window.add(button);
window.open();
</pre></code>

*Note:*
Notice the last test case in [TIMOB-23888] tests it without the "options" argument, suggesting that this once worked.

*Work-Around:*
Add the "options" dictionary argument as shown below.
<code><pre>
Ti.Platform.openURL("<a href="https://www.google.com" rel="nofollow" target="_blank">https://www.google.com</a>", {}, function(e) {
	Ti.API.info("### openURL() callback event.success: " + e.success);
});
</pre></code>


<h3>Comments</h3>

<ol>
<li>Vijay Singh 2020-04-22

   PR(9_0_X) - <a href="https://github.com/appcelerator/titanium_mobile/pull/11655" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11655</a>
   PR(master) - <a href="https://github.com/appcelerator/titanium_mobile/pull/11654" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11654</a>
   
   @QE Please verify test cases from TIMOB-23888 as well.</li>
<li>Samir Mohammed 2020-05-05

   FR Passed on Master and 9_0_X, waiting on Jenkins build.</li>
<li>Christopher Williams 2020-05-05

   merged to master for 9.1.0 target and 9_0_X for 9.0.2 target</li>
<li>Samir Mohammed 2020-05-06

   *Closing ticket.* Fix verified in SDK version 9.1.0.v20200505112143 and 9.0.2.v20200505111803
   
   Test and other information can be found at:
   PR(9_0_X) - <a href="https://github.com/appcelerator/titanium_mobile/pull/11655" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11655</a>
   PR(master) - <a href="https://github.com/appcelerator/titanium_mobile/pull/11654" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11654</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-27861.json">JSON Source</a></p>