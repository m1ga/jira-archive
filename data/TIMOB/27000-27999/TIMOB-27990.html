---
title: "[TIMOB-27990] Android: Ti.UI.ShortcutItem has lot of issues"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2020-07-17T21:18:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, api, defect</td></tr>
<tr><th>Reporter</th><td>Prashant Saini</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2020-06-27T04:20:44.000+0000</td></tr>
<tr><th>Updated</th><td>2020-07-17T21:18:29.000+0000</td></tr>
</table>

<h3>Description</h3>

Ti.UI.ShortcutItem class needs lot of refactoring and improvements as listed below:

*Issues:*
<h4>_icon_ property does not accept _Ti.File.nativePath_ string to create downloaded remote icons, it supports only the bundled icons as of now in the form of drawable which limits its usage.</h4>
<h4>While adding two shortcut items with same icon, one of the item does not shown icon (shown in attached screenshot)</h4>
<h4>Adding multiple shortcuts (out of maximum allowed) throw error. It should check and provide a support for knowing maximum shortcuts allowed as described [HERE](<a href="https://developer.android.com/reference/android/content/pm/ShortcutManager#getMaxShortcutCountPerActivity())" rel="nofollow" target="_blank">https://developer.android.com/reference/android/content/pm/ShortcutManager#getMaxShortcutCountPerActivity())</a> (shown in attached screenshot)</h4>
<h4>Before creating icon in proxy-class, it should be checked for their maximum dimension allowed as per [getIconMaxWidth() and getIconMaxHeight()](<a href="https://developer.android.com/reference/android/content/pm/ShortcutManager#getIconMaxWidth())." rel="nofollow" target="_blank">https://developer.android.com/reference/android/content/pm/ShortcutManager#getIconMaxWidth()).</a></h4>

*Feature Request:*
<h4>Add feature to remove shortcut by just passing the ID since the current way to remove shortcut is to first create it & then calling its hide() method which seems odd.</h4>
<h4>Add feature to remove all shortcuts with a single call using [removeAllDynamicShortcuts() method](<a href="https://developer.android.com/reference/android/content/pm/ShortcutManager#removeAllDynamicShortcuts())" rel="nofollow" target="_blank">https://developer.android.com/reference/android/content/pm/ShortcutManager#removeAllDynamicShortcuts())</a> from native side. A common method for Titanium can be used for this point and the one above.</h4>
<h4>Return a list of all shortcuts added so we don't need to keep a track in app. Refer [getShortcuts()](<a href="https://developer.android.com/reference/android/content/pm/ShortcutManager#getShortcuts(int))" rel="nofollow" target="_blank">https://developer.android.com/reference/android/content/pm/ShortcutManager#getShortcuts(int))</a> or the [getDynamicShortcuts()](<a href="https://developer.android.com/reference/android/content/pm/ShortcutManager#getDynamicShortcuts())" rel="nofollow" target="_blank">https://developer.android.com/reference/android/content/pm/ShortcutManager#getDynamicShortcuts())</a> method.</h4>
# 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27990_67462/shortcut-2.png">shortcut-2.png</td></td><td>2020-06-27T04:19:59.000+0000</td><td>821843</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-27990_67461/shortcut-max.png">shortcut-max.png</td></td><td>2020-06-27T04:19:57.000+0000</td><td>218421</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Michael Gangolf 2020-06-27

   Issue 3 can be fixed like this: <a href="https://github.com/appcelerator/titanium_mobile/pull/11798" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11798</a>
   
   It would be nicer to have ShortcutManager and not just the items. Then you could expose the other parts (like the maxLimit, catch errors, get existing shortcuts)</li>
<li>Prashant Saini 2020-06-27

   Using try-catch is not an ideal fix, rather checking about maximum allowed shortcuts is.</li>
<li>Michael Gangolf 2020-06-27

   Tried that: max returned 10 for me but I was only able to create 5! Not sure why there was a difference. That's why I went with the try/catch one</li>
<li>Prashant Saini 2020-06-27

   Perhaps that's because the count is a sum of STATIC & DYNAMIC shortcuts. It is recommended on [Android Docs](<a href="https://developer.android.com/guide/topics/ui/shortcuts/best-practices)" rel="nofollow" target="_blank">https://developer.android.com/guide/topics/ui/shortcuts/best-practices)</a> to use only upto 4 shortcuts due to the device's launcher's restrictions.
   
   Maybe we should log a warning not to create more than 4 shortcuts as it's also not visually appealing.</li>
<li>Gary Mathews 2020-06-29

   This will be fixed by <a href="https://github.com/appcelerator/titanium_mobile/pull/11759" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11759</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-27990.json">JSON Source</a></p>