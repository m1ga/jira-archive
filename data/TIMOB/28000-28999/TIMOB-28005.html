---
title: "[TIMOB-28005] Android: Unable to reinstall on apk using adb on Android 23"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2020-07-08T18:33:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.0.3</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Samir Mohammed</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2020-07-07T17:36:05.000+0000</td></tr>
<tr><th>Updated</th><td>2020-07-08T21:49:13.000+0000</td></tr>
</table>

<h3>Description</h3>

When reinstalling an APK on an android 23 emulator using adb the following error can be seen <code>Failure [INSTALL_FAILED_ALREADY_EXISTS]</code> but if you use an android 29 emulator, the issue can not be seen. 

*Test Steps:*
<h4>Build a titanium application </h4>
<h4>Find the generated .apk e.g. <code>build/android/app/build/outputs/apk/debug/app-debug.apk</code></h4>
<h4>Open an android 23 emulator </h4>
<h4>Run <code>adb install %Path_to_apk_goes_here%</code> e.g. <code>adb install /Users/samir/Desktop/Appc/Repos/Masterss/yeti/Modules/Activity_Indicator/Acceptance/App/temporaryApp/build/android/app/build/outputs/apk/debug/app-debug.apk</code></h4>
<h4>Run the same command again</h4>

*Actual result*
Following error is shown: 
<code>Failure [INSTALL_FAILED_ALREADY_EXISTS]</code>

*Expected result*
For app to reinstall like on Android29

*Potential related issue in the appium Yeti suite the following error is also sometimes seen when installing the app using adb on Android23 (Android29 works fine).*

<code><pre>
 [ERROR] Error: [init({"platformName":"Android","platformVersion":"6.0","deviceName":"android-23-x86","app":"/Users/samir/Desktop/Appc/
Repos/Masterss/yeti/Modules/Activity_Indicator/Acceptance/App/temporaryApp/build/android/app/build/outputs/apk/debug/app-debug.apk","avdArgs":"-wipe-data","avd":"android-2
3-x86","avdReadyTimeout":180000,"avdLaunchTimeout":120000,"autoGrantPermissions":true,"appPackage":"com.appcelerator.Acceptance","appActivity":".AcceptanceActivity","uiaut
omator2ServerLaunchTimeout":60000,"uiautomator2ServerInstallTimeout":60000,"automationName":"UiAutomator2","deviceReadyTimeout":60,"newCommandTimeout":600})] The environme
nt you requested was unavailable.
An unknown server-side error occurred while processing the command. Original error: pkg: /data/local/tmp/appium_cache/40f9c7c8ed2607f2e8d6338b9ab41b299111c72c.apk
Failure [INSTALL_PARSE_FAILED_NO_CERTIFICATES]
</pre></code>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2020-07-07

   When using Google's "adb" tool, you need to pass it the "-r" command line argument to tell it to replace/re-install an existing installation. This is documented by Google here...
   <a href="https://developer.android.com/studio/command-line/adb" rel="nofollow" target="_blank">https://developer.android.com/studio/command-line/adb</a>
   
   So, just do this...
   <code><pre>
   ./adb install -r &lt;PathToApk&gt;
   </pre></code>
   
   Note that it's always safe to use the "-r" argument, even if the APK hasn't been installed yet. So, you should always use the "-r" argument.
   
   FYI: When you do "appc run" with our CLI, it always sets the "-r" as well.</li>
<li>Samir Mohammed 2020-07-08

   Closing ticket, above suggestion worked and was able to fix the <code>[INSTALL_PARSE_FAILED_NO_CERTIFICATES]</code> error by doing an Environment reset and running <code>Zip - d %APK_Path% 'META-INF/.SF' 'META-INF/.RSA' 'META-INF/*SF'</code></li>
<li>Joshua Quick 2020-07-08

   If the META-INF files in the APK are causing an issue, then you can have the gradle build system exclude them.
   
   Create a <code>build.gradle</code> file under the project's <code>./platform/android</code> directory.
   <code><pre>
   android {
   	packagingOptions {
   		exclude 'META-INF/*'
   	}
   }
   </pre></code>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-28005.json">JSON Source</a></p>