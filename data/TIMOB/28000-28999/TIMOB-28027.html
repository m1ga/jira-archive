---
title: "[TIMOB-28027] Android: Build fails as duplicate string with \"app_name\" in i18n strings.xml file"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-11-23T22:08:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 9.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, i18n, localization, regression</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2020-07-16T23:43:44.000+0000</td></tr>
<tr><th>Updated</th><td>2020-11-23T22:08:16.000+0000</td></tr>
</table>

<h3>Description</h3>

Note: This is an undocumented way of doing it. But,we need to put in a check for this.

<h4>Steps to reproduce:</h4>
1. Create an app.
2. Create a folder & a string.xml file for each locale as <code>./i18n/en/strings.xml</code> & <code>./i18n/es/strings.xml</code>
3. In strings.xml in en folder add:
<code><pre>
&lt;resources&gt;
  &lt;string name="app_name"&gt;Cat&lt;/string&gt;
&lt;/resources&gt;
</pre></code>
4. In strings.xml in es folder add:
<code><pre>
&lt;resources&gt;
  &lt;string name="app_name"&gt;Catana&lt;/string&gt;
&lt;/resources&gt;
</pre></code>
5. In the tiapp.xml add this in the android section:
<code><pre>
&lt;manifest android:versionCode="1" xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
          &lt;application android:label="@string/app_name"/&gt;
&lt;/manifest&gt;
</pre></code>
6. Build for android device/emulator.

<h4>Actual result:</h4>
The build fails with :
<code><pre>
[ERROR] :  [GRADLE] 
[ERROR] :  [GRADLE] FAILURE: Build failed with an exception.
[ERROR] :  [GRADLE] 
[ERROR] :  [GRADLE] * What went wrong:
[ERROR] :  [GRADLE] Execution failed for task ':app:mergeDebugResources'.
[ERROR] :  [GRADLE] &gt; /Users/lchoudhary/Desktop/workspaces/workspace_2020/AppName_i18n/build/android/app/src/main/res/values/ti_i18n_strings.xml: Error: Found item String/app_name more than one time
[ERROR] :  [GRADLE] 
[ERROR] :  [GRADLE] * Try:
[ERROR] :  [GRADLE] Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.
[ERROR] :  [GRADLE] 
[ERROR] :  [GRADLE] * Get more help at <a href="https://help.gradle.org" rel="nofollow" target="_blank">https://help.gradle.org</a>
[ERROR] :  [GRADLE] 
[ERROR] :  [GRADLE] BUILD FAILED in 770ms
</pre></code>

<h4>Expected result:</h4>
The build should not fail.

<h4>Recommended Solution:</h4>
The official cross-platform way of localizing app name is via an i18n "app.xml" file as documented here...
<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/guide/Internationalization-section-src-29004892_Internationalization-Appnamelocalization



<h3>Comments</h3>

<ol>
<li>Joshua Quick 2020-07-24

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/11841" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11841</a></li>
<li>Satyam Sekhri 2020-10-07

   FR Passed
   Waiting for Jenkins build</li>
<li>Satyam Sekhri 2020-11-23

   Verified on:
   Mac OS: 10.15.4
   SDK: 9.3.0.v20201123121926
   Appc CLI: 8.1.1
   JDK: 11.0.6
   Node: 12.16.1
   Studio: 6.0.0.202005141803
   Device: Pixel 3 XL(v11.0) emulator</li>
</ol>


<p><a href="/TIMOB/TIMOB-28027.json">JSON Source</a></p>