{
	"id": "175359",
	"key": "TIMOB-28037",
	"fields": {
		"issuetype": {
			"id": "1",
			"description": "A problem which impairs or prevents the functions of the product.",
			"name": "Bug",
			"subtask": false
		},
		"project": {
			"id": "10153",
			"key": "TIMOB",
			"name": "Titanium SDK/CLI",
			"projectCategory": {
				"id": "10100",
				"description": "Titanium and related SDKs used in application development",
				"name": "Client"
			}
		},
		"fixVersions": [
			{
				"id": "21050",
				"name": "Release 10.0.0",
				"archived": false,
				"released": true,
				"releaseDate": "2021-05-17"
			}
		],
		"resolution": {
			"id": "1",
			"description": "A fix for this issue is checked into the tree and tested.",
			"name": "Fixed"
		},
		"resolutiondate": "2021-03-10T16:05:16.000+0000",
		"created": "2020-07-22T22:26:03.000+0000",
		"priority": {
			"name": "Medium",
			"id": "3"
		},
		"labels": [
			"griffin-app",
			"ios",
			"node_modules",
			"require"
		],
		"versions": [],
		"issuelinks": [
			{
				"id": "58746",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"outwardIssue": {
					"id": "174997",
					"key": "TIMOB-27888",
					"fields": {
						"summary": "iOS: circular references in require don't work",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "None",
							"id": "6"
						},
						"issuetype": {
							"id": "1",
							"description": "A problem which impairs or prevents the functions of the product.",
							"name": "Bug",
							"subtask": false
						}
					}
				}
			},
			{
				"id": "59293",
				"type": {
					"id": "10003",
					"name": "Relates",
					"inward": "relates to",
					"outward": "relates to"
				},
				"inwardIssue": {
					"id": "176238",
					"key": "TIMOB-28491",
					"fields": {
						"summary": "iOS: Setter not called properly anymore",
						"status": {
							"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
							"name": "Closed",
							"id": "6",
							"statusCategory": {
								"id": 3,
								"key": "done",
								"colorName": "green",
								"name": "Done"
							}
						},
						"priority": {
							"name": "Critical",
							"id": "1"
						},
						"issuetype": {
							"id": "4",
							"description": "An improvement or enhancement to an existing feature or task.",
							"name": "Improvement",
							"subtask": false
						}
					}
				}
			}
		],
		"assignee": {
			"name": "cwilliams",
			"key": "cwilliams",
			"displayName": "Christopher Williams",
			"active": true,
			"timeZone": "America/New_York"
		},
		"updated": "2021-06-16T15:45:25.000+0000",
		"status": {
			"description": "The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.",
			"name": "Closed",
			"id": "6",
			"statusCategory": {
				"id": 3,
				"key": "done",
				"colorName": "green",
				"name": "Done"
			}
		},
		"components": [
			{
				"id": "10206",
				"name": "iOS",
				"description": "iOS Platform"
			}
		],
		"description": "On iOS, when doing a relative path require from within a file that exists in node_modules, a runtime error occurs:  [ERROR]     message = \"Couldn't find module: ./subdir/test3 for architecture: x86_64\";\r\n\r\nI've created a standalone test project for this issue here:  https://github.com/brentonhouse/TIMOB-28037\r\n",
		"attachment": [],
		"flagged": false,
		"summary": "iOS: Relative path require not working with node_modules",
		"creator": {
			"name": "bhouse",
			"key": "bhouse",
			"displayName": "Brenton House",
			"active": true,
			"timeZone": "America/Chicago"
		},
		"subtasks": [],
		"reporter": {
			"name": "bhouse",
			"key": "bhouse",
			"displayName": "Brenton House",
			"active": true,
			"timeZone": "America/Chicago"
		},
		"environment": null,
		"closedSprints": [
			{
				"id": 1217,
				"state": "closed",
				"name": "2021 Sprint 4",
				"startDate": "2021-02-16T00:52:00.000Z",
				"endDate": "2021-02-27T00:52:00.000Z",
				"completeDate": "2021-02-28T18:56:28.465Z",
				"originBoardId": 114
			},
			{
				"id": 1219,
				"state": "closed",
				"name": "2021 Sprint 5",
				"startDate": "2021-03-01T19:02:00.000Z",
				"endDate": "2021-03-12T19:02:00.000Z",
				"completeDate": "2021-03-15T03:30:49.472Z",
				"originBoardId": 114
			},
			{
				"id": 1220,
				"state": "closed",
				"name": "2021 Sprint 6",
				"startDate": "2021-03-15T03:31:12.088Z",
				"endDate": "2021-03-27T03:31:00.000Z",
				"completeDate": "2021-03-26T19:18:15.760Z",
				"originBoardId": 114
			},
			{
				"id": 1221,
				"state": "closed",
				"name": "2021 Sprint 7",
				"startDate": "2021-03-29T19:18:00.000Z",
				"endDate": "2021-04-09T19:18:00.000Z",
				"completeDate": "2021-04-12T21:26:15.427Z",
				"originBoardId": 114
			},
			{
				"id": 1222,
				"state": "closed",
				"name": "2021 Sprint 8",
				"startDate": "2021-04-12T21:26:41.532Z",
				"endDate": "2021-04-23T21:26:00.000Z",
				"completeDate": "2021-04-28T15:13:56.824Z",
				"originBoardId": 114
			},
			{
				"id": 1203,
				"state": "closed",
				"name": "2020 Sprint 16",
				"startDate": "2020-08-03T20:57:55.114Z",
				"endDate": "2020-08-14T20:57:00.000Z",
				"completeDate": "2020-08-14T15:19:51.647Z",
				"originBoardId": 114
			},
			{
				"id": 1204,
				"state": "closed",
				"name": "2020 Sprint 17",
				"startDate": "2020-08-17T15:48:00.000Z",
				"endDate": "2020-08-28T15:48:00.000Z",
				"completeDate": "2020-08-31T15:36:28.040Z",
				"originBoardId": 114
			},
			{
				"id": 1208,
				"state": "closed",
				"name": "2020 Sprint 21",
				"startDate": "2020-10-12T16:34:00.000Z",
				"endDate": "2020-10-23T16:34:00.000Z",
				"completeDate": "2020-10-23T02:32:43.674Z",
				"originBoardId": 114
			},
			{
				"id": 1209,
				"state": "closed",
				"name": "2020 Sprint 22",
				"startDate": "2020-10-27T02:33:00.000Z",
				"endDate": "2020-11-07T02:33:00.000Z",
				"completeDate": "2020-11-06T17:45:42.610Z",
				"originBoardId": 114
			},
			{
				"id": 1210,
				"state": "closed",
				"name": "2020 Sprint 23",
				"startDate": "2020-11-09T17:49:00.000Z",
				"endDate": "2020-11-20T17:49:00.000Z",
				"completeDate": "2020-11-20T17:46:00.641Z",
				"originBoardId": 114
			},
			{
				"id": 1211,
				"state": "closed",
				"name": "2020 Sprint 24",
				"startDate": "2020-11-23T18:12:00.000Z",
				"endDate": "2020-12-07T18:12:00.000Z",
				"completeDate": "2020-12-04T22:07:24.313Z",
				"originBoardId": 114
			},
			{
				"id": 1212,
				"state": "closed",
				"name": "2020 Sprint 25",
				"startDate": "2020-12-07T22:11:00.000Z",
				"endDate": "2020-12-18T22:11:00.000Z",
				"completeDate": "2020-12-18T16:35:34.544Z",
				"originBoardId": 114
			},
			{
				"id": 1213,
				"state": "closed",
				"name": "2020 Sprint 26",
				"startDate": "2020-12-21T16:40:00.000Z",
				"endDate": "2021-01-08T16:40:00.000Z",
				"completeDate": "2021-01-08T17:37:31.799Z",
				"originBoardId": 114
			}
		],
		"comment": {
			"comments": [
				{
					"id": "456200",
					"author": {
						"name": "jvennemann",
						"key": "jvennemann",
						"displayName": "Jan Vennemann",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "This seems to be a general issue when doing lazy requires of relative paths in subfolders on iOS. We only store one global \"working directory\" which we update while evaluating files, and reset it once done. Requires that are evaluated later, e.g. calling require in a function exported by a module, will then use a wrong base dir to resolve the relative path.",
					"updateAuthor": {
						"name": "jvennemann",
						"key": "jvennemann",
						"displayName": "Jan Vennemann",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2020-07-22T23:13:24.000+0000",
					"updated": "2020-07-22T23:13:24.000+0000"
				},
				{
					"id": "456694",
					"author": {
						"name": "bhouse",
						"key": "bhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "FYI - I am able to workaround this issue using a babel plugin in Turbo that resolves static relative paths for all require statements to the absolute path of the module that is being loaded.   This fixes a majority of the cases and should serve as a solid workaround until this issue is resolved.",
					"updateAuthor": {
						"name": "bhouse",
						"key": "bhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2020-09-02T21:40:04.000+0000",
					"updated": "2020-09-02T21:40:04.000+0000"
				},
				{
					"id": "456695",
					"author": {
						"name": "bhouse",
						"key": "bhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"body": "It seems that files in the node_modules directory are skipped from babel processing.  I can fix that in Turbo as well but I am not sure what the original intention was with skipping these. ",
					"updateAuthor": {
						"name": "bhouse",
						"key": "bhouse",
						"displayName": "Brenton House",
						"active": true,
						"timeZone": "America/Chicago"
					},
					"created": "2020-09-02T22:07:46.000+0000",
					"updated": "2020-09-02T22:07:46.000+0000"
				},
				{
					"id": "456912",
					"author": {
						"name": "jvennemann",
						"key": "jvennemann",
						"displayName": "Jan Vennemann",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"body": "[~bhouse], not 100% sure right now if we specifically exclude {{node_modules}} or babel does it on its own, but files inside {{node_modules}} are generally expected to be ready-to-use without any transpilation needs. That's because {{node_modules}} can get pretty huge and processing all files in there would unnecessarily slow down the build ",
					"updateAuthor": {
						"name": "jvennemann",
						"key": "jvennemann",
						"displayName": "Jan Vennemann",
						"active": true,
						"timeZone": "Europe/Berlin"
					},
					"created": "2020-09-16T15:01:04.000+0000",
					"updated": "2020-09-16T15:01:04.000+0000"
				},
				{
					"id": "458309",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "https://github.com/appcelerator/titanium_mobile/pull/11447",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2021-02-25T19:15:39.000+0000",
					"updated": "2021-02-25T19:15:39.000+0000"
				},
				{
					"id": "458374",
					"author": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"body": "Fixed in https://github.com/appcelerator/titanium_mobile/pull/11693",
					"updateAuthor": {
						"name": "cwilliams",
						"key": "cwilliams",
						"displayName": "Christopher Williams",
						"active": true,
						"timeZone": "America/New_York"
					},
					"created": "2021-03-10T16:05:09.000+0000",
					"updated": "2021-03-10T16:05:09.000+0000"
				}
			],
			"maxResults": 12,
			"total": 12,
			"startAt": 0
		}
	}
}