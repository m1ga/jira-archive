---
title: "[TIMOB-28067] iOS: swipe down gallery photo picker does not fire cancel callback "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-08-25T00:40:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>Ti.SDK, ios, ios13, media, openPhotoGallery</td></tr>
<tr><th>Reporter</th><td>Caio Perdona</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2020-08-04T15:03:44.000+0000</td></tr>
<tr><th>Updated</th><td>2021-01-18T09:08:19.000+0000</td></tr>
</table>

<h3>Description</h3>

Create a component that picks photos from gallery with Ti.Media.openPhotoGallery().
When photo picker modal shows up, dispose it, dragging it down. It does not fire the "cancel" callback from method.
If you try to open gallery picker again right after completing the above, it opens error callback.
There's still no working around this.

Is this a known bug? I would appreciate any help.
Thanks in advance!

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-28067_67482/SampleApp.zip">SampleApp.zip</td></td><td>2020-08-04T15:03:12.000+0000</td><td>8752258</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vijay Singh 2020-08-05

   [~perdona] Thanks for reporting. I'll check it.</li>
<li>Vijay Singh 2020-08-05

   PR - <a href="https://github.com/appcelerator/titanium_mobile/pull/11868" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11868</a>
   
   How To Test -
   1. Run test code,  mentioned below, on iOS 13.0+ iPhone/iPad simulator.
   2. Click on button 'Open Photo Gallery'.
   3. In iPhone, swipe down the gallery screen to close. In iPad click outside of gallery screen. 
   4. Observe log message. It should show ' Photo gallery selection canceled.'
   
   Test Case -
   <code><pre>
   var win = Ti.UI.createWindow({
       backgroundColor: '#fff'
   });
   
   var btn = Ti.UI.createButton({
       title: 'Open Photo Gallery'
   });
   
   btn.addEventListener('click', function() {
       Ti.Media.openPhotoGallery({
   		success: function(e) {
   		    Ti.API.info("Photo gallery selection successful.");
   		},
   		cancel: function() {
   			Ti.API.info(" Photo gallery selection canceled.");
   		},
   		error: function() {
   			Ti.API.info("Photo gallery selection error.");
   		}
   	})
   });
   
   win.add(btn);
   win.open();
   </pre></code>
   </li>
<li>Caio Perdona 2020-08-05

   Thanks a lot, @Vijay Singh</li>
<li>Samir Mohammed 2020-08-20

   FR Passed, waiting for Jenkins build and backport.</li>
<li>Christopher Williams 2020-08-21

   merged to master and 9_1_X.
   
   [~lchoudhary][~amukherjee] Note: that if we change the version to deploy for 9.1.0 GA from the RC, then this may get picked up.</li>
<li>Abir Mukherjee 2020-08-21

   [~cwilliams] thanks; I changed the fix version to 9.1.0.</li>
<li>Lokesh Choudhary 2020-08-25

   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-28067.json">JSON Source</a></p>