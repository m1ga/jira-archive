---
title: "[TIMOB-28079] Android: ACA module no longer loaded first on startup as of 8.1.0"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-10-27T22:44:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 8.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.3.0, Release 9.2.2</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>ACA, analytics, android, crash</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2020-08-11T22:12:41.000+0000</td></tr>
<tr><th>Updated</th><td>2020-10-27T22:44:11.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
The ACA (AMPLIFY Crash Analytics) module, if included, was intended to be loaded on app startup before requiring/importing any other JS file on app startup. This way, if a crash occurs in any of the operations that happen before the "app.js" gets loaded, it will be handled by the ACA module. This is no longer happening as of Titanium 8.1.0.

*Cause:*
Most of the JS files loaded in our "ti.main.js" were switched over from using <code>require()</code> to <code>import</code> statements as of Titanium 8.1.0. JavaScript's <code>import</code> statements are "hoisted", which means they are effectively executed at the top of the source file and not where they're actually written.
<a href="https://github.com/appcelerator/titanium_mobile/blob/master/common/Resources/ti.main.js" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/common/Resources/ti.main.js</a>

When you do a build of the SDK, you can see the babel transpiled/polyfilled result in the following directories. Here you can see the actual load order.
<code><pre>
titanium_mobile/dist/tmp/common/Resources/<Platform>/ti.main.js
</pre></code>


<h3>Comments</h3>

<ol>
<li>Gary Mathews 2020-10-22

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/12205" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12205</a></li>
<li>Lokesh Choudhary 2020-10-26

   FR Passed.
   Waiting for jenkins.</li>
<li>Christopher Williams 2020-10-26

   merged to master for 9.3.0 target. Backport PR for 9_2_X merged for 9.2.2 target.</li>
<li>Lokesh Choudhary 2020-10-27

   Verified the fix in SDK 9.2.2.v20201026120850 & 9.3.0.v20201027120230.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-28079.json">JSON Source</a></p>