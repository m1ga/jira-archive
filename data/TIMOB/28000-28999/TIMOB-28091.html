---
title: "[TIMOB-28091] LiveView: App running on iOS 14 device with live view enabled is failing"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-09-10T13:34:08.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.2.0</td></tr>
<tr><th>Components</th><td>LiveView</td></tr>
<tr><th>Labels</th><td>liveview</td></tr>
<tr><th>Reporter</th><td>Vijay Singh</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2020-08-20T00:23:09.000+0000</td></tr>
<tr><th>Updated</th><td>2020-09-10T13:34:08.000+0000</td></tr>
</table>

<h3>Description</h3>

Steps to reproduce -
1. Create a new app.
 2. Run it on iOS 14 device (not simulator) with live view enabled (appc run -p iOS -T device --liveview)
3. It will show a prompt to ask user's permission and fail (screenshot attached).

What to fix -
1. Make change to show more contextual message instead of default generic message in prompt.
2. While waiting for user's permission, request get immediately failed. Make changes so that request can wait until user's permission is available.

Reason -
In iOS 14, Apple has made changes to access local network. It shows a prompt to ask user's permission. More detail can be found in WWDC video <a href="https://developer.apple.com/videos/play/wwdc2020/10110/." rel="nofollow" target="_blank">https://developer.apple.com/videos/play/wwdc2020/10110/.</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-28091_67495/IMG_8258764B3E6C-1.jpeg">IMG_8258764B3E6C-1.jpeg</td></td><td>2020-08-20T00:24:06.000+0000</td><td>2230609</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2020-08-25

   [~vijaysingh], I'm planning to update my macbook to catalina tonight so I can try tackle this later this week, do you have an indication of what the changes here might be? Based off my understanding of the linked ticket it could be as simple as adding <code>waitsForConnectivity: true</code> to the HTTP request in liveview? Then potentially try to figure out if liveview can somehow stuff in the plist entry to add context as to why it's needed? (not feeling hopeful about that)</li>
<li>Vijay Singh 2020-08-25

   [~eharris]  Yes,
   <code><pre>
   waitsForConnectivity: true
   </pre></code>
     should work. 
    
   LiveView is used by developers not by app users, I think documenting the behavior should be fine for prompt message. </li>
<li>Ewan Harris 2020-08-27

   PR to get liveview working: <a href="https://github.com/appcelerator/liveview/pull/185" rel="nofollow" target="_blank">https://github.com/appcelerator/liveview/pull/185</a>
   
   We could probably improve the flow of when there's a connection error but I think it's best to get a working liveview in asap</li>
<li>Ewan Harris 2020-08-28

   titanium_mobile PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/11976" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11976</a></li>
<li>Satyam Sekhri 2020-08-31

   FR Passed.
   Waiting for Jenkins build</li>
<li>Samir Mohammed 2020-09-10

   *Closing ticket*. Fix verified in SDK version <code>9.2.0.v20200908050955</code>, and <code>9.3.0.v20200908051946</code>.
   
   *Test and other information can be found at:*
   <a href="https://github.com/appcelerator/liveview/pull/185" rel="nofollow" target="_blank">https://github.com/appcelerator/liveview/pull/185</a>
   <a href="https://github.com/appcelerator/titanium_mobile/pull/11976" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11976</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-28091.json">JSON Source</a></p>