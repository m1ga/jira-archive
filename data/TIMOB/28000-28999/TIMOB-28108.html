---
title: "[TIMOB-28108] iOS - Ti.UI.RefreshControl crashes when passing a tintColor from TI.UI.fetchSemanticColor"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-09-09T11:49:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.2.0, Release 9.1.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ygor Lemos</td></tr>
<tr><th>Assignee</th><td>Rene Pot</td></tr>
<tr><th>Created</th><td>2020-09-02T04:37:00.000+0000</td></tr>
<tr><th>Updated</th><td>2020-09-09T11:49:03.000+0000</td></tr>
</table>

<h3>Description</h3>

On Ti 9.0.3.GA, on iOS only, if we pass a valid <code>Ti.UI.fetchSemanticColor("xxx")</code> to the <code>tintColor</code> of a <code>Ti.UI.RefreshControl</code>, it crashes the app with a message that the view received an instance of TiColor instead of a string.

On Android, passing a semantic color to the <code>tintColor</code> parameter of the <code>RefreshControl</code> works fine.

Tested on both iOS 13 and iOS 14 on <code>9.0.3.GA</code>

<h3>Comments</h3>

<ol>
<li>Rene Pot 2020-09-02

   Confirmed as bug on my side. 
   
   PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/12002" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12002</a></li>
<li>Satyam Sekhri 2020-09-02

   Test Case:
   
   *Resources/semantic.colors.json*
   <code><pre>
   {
   	"primaryBackground": {
   		"light": "#efece3",
   		"dark": "#001900"
   	}
   }
   </pre></code>
   
   *Resources/app.js*
   <code><pre>
   const primaryBackground = Ti.UI.fetchSemanticColor('primaryBackground');
   
   var win = Ti.UI.createWindow({
       fullscreen:true
   });
   var counter = 0;
   function genData()
   {
       var data = [];
       var i=1;
       for (i=1;i&lt;=3;i++) {
           data.push({properties:{title:'ROW '+(counter+i)}});
       }
       counter += 3;
       return data;
   }
   var section = Ti.UI.createListSection();
   section.setItems(genData());
   var control = Ti.UI.createRefreshControl({
       tintColor:primaryBackground
   });
   var listView = Ti.UI.createListView({
       sections:[section],
       refreshControl:control
   });
   control.addEventListener('refreshstart',function(e){
       Ti.API.info('refreshstart');
       setTimeout(function(){
           Ti.API.debug('Timeout');
           section.appendItems(genData());
           control.endRefreshing();
       }, 2000);
   });
   win.add(listView);
   win.open();
   </pre></code></li>
<li>Satyam Sekhri 2020-09-02

   FR Passed
   Waiting for Jenkins build</li>
<li>Hans Kn√∂chel 2020-09-03

   Workaround for current 9.2.0: Pass the name of the semantic color directly, e.g. <code>tintColor: 'primaryBackground'</code></li>
<li>Samir Mohammed 2020-09-09

   *Closing ticket*. Fix verified in SDK version <code>9.2.0.v20200908050955</code>, and <code>9.3.0.v20200908051946</code>.
   
   *Test and other information can be found at:*
   <a href="https://github.com/appcelerator/titanium_mobile/pull/12002" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12002</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-28108.json">JSON Source</a></p>