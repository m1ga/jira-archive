---
title: "[TIMOB-28161] Android: Modules built with 9.1.0 and using deprecated getter/setter property methods will crash on 9.0.x apps"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 9.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, build, module, regression</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2020-10-03T05:16:27.000+0000</td></tr>
<tr><th>Updated</th><td>2020-11-23T16:38:14.000+0000</td></tr>
</table>

<h3>Description</h3>

*Steps to reproduce:*
<h4>Download the [ti.map](<a href="https://github.com/appcelerator-modules/ti.map)" rel="nofollow" target="_blank">https://github.com/appcelerator-modules/ti.map)</a> module.</h4>
<h4>CD to folder: <code>./ti.map/android</code></h4>
<h4>Do an <code>appc ti sdk select 9.1.0</code> or higher Titanium version.</h4>
<h4>Build via: <code>appc run -p android --build-only</code></h4>
<h4>Set up an app with Titanium 9.0.3.GA and built "ti.map" module.</h4>
<h4>Build and run on Android.</h4>
<h4>Notice the app crashes on startup with a linker error.</h4>

*Cause:*
If a module's Java method is assigned both a <code>Kroll.method</code> annotation and <code>Kroll.getProperty</code>/<code>Kroll.setProperty</code> annotation, then the code generation will inject a C++ <code>logDeprecation()</code> function whose signature has changed as of 9.1.0 (we've added a 3rd argument).
<a href="https://github.com/appcelerator/titanium_mobile/pull/11049/files" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11049/files</a>

*Work-Around:*
If you are using both <code>Kroll.getProperty</code> and <code>Kroll.method</code> annotations on the same Java method, then remove the <code>Kroll.method</code> since support for this is deprecated. You must also do the same for setters.
<code><pre>
@Kroll.getProperty
@Kroll.method  // &lt;- Remove this annotation
public String getName() {
	return "";
}

@Kroll.setProperty
@Kroll.method  // &lt;- Remove this annotation
public void setName(String value) {
	mName = value;
}
</pre></code>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2020-11-10

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/12259" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12259</a></li>
<li>Christopher Williams 2020-11-23

   merged to master and backport PR merged to 98_3_X for 9.3.0 target.</li>
</ol>


<p><a href="/TIMOB/TIMOB-28161.json">JSON Source</a></p>