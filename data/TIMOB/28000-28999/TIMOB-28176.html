---
title: "[TIMOB-28176] Android: createTempDirectory() does not create a directory"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-11-20T14:37:31.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, directory, filesystem, parity</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2020-10-07T19:38:22.000+0000</td></tr>
<tr><th>Updated</th><td>2020-11-20T14:37:31.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
The [Ti.Filesystem.createTempDirectory()](<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Filesystem-method-createTempDirectory) method does not create the referenced directory by default on Android. It correctly returns a <code>Ti.Filesystem.File</code> object referencing a new directory, but the Titanium developer is forced to create it manually afterwards, which doesn't match iOS' behavior or what's implied by the method name.

*Steps to reproduce:*
<h4>Build and run the below on Android.</h4>
<h4>Notice in the log that "exists" returns <code>false</code>. _(This is the bug.)_</h4>

<code><pre>
var tempDir = Ti.Filesystem.createTempDirectory();
console.log("@@@ nativePath: " + tempDir.nativePath);
console.log("@@@ exists: " + tempDir.exists());
</pre></code>

*Note:*
Android should also be changed to create the temp directory under the <code>Ti.Filesystem.tempDirectory</code> like iOS. Currently, Android puts the temp directory in a radically different location that Titanium does not offer a directory constant for.

*Work-Around:*
You must create the directory manually like the below.
<code><pre>
var tempDir = Ti.Filesystem.createTempDirectory();
if (OS_ANDROID) {
	tempDir.createDirectory();
}
console.log("@@@ exists: " + tempDir.exists());
</pre></code>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2020-10-07

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/12161" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12161</a></li>
<li>Satyam Sekhri 2020-10-19

   FR Passed.
   Waiting for Jenkins build.</li>
<li>Christopher Williams 2020-10-19

   Merged to master for 9.3.0 target</li>
<li>Samir Mohammed 2020-11-20

   *Closing ticket*. Fix verified in SDK version <code>9.3.0.v20201119063936</code>.
   
   Test and other information can be found at:
   <a href="https://github.com/appcelerator/titanium_mobile/pull/12161" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12161</a>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-28176.json">JSON Source</a></p>