---
title: "[TIMOB-28183] Android: Add Ti.Media.requestPhotoGalleryPermissions() support"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-10-22T22:22:28.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.3.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, media, parity, permission, photo, photogallery</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2020-10-09T03:03:48.000+0000</td></tr>
<tr><th>Updated</th><td>2020-10-22T22:22:28.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
We should add the following methods on Android for parity with iOS...
* [Ti.Media.requestPhotoGalleryPermissions()](<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Media-method-requestPhotoGalleryPermissions)
* [Ti.Media.hasPhotoGalleryPermissions()](<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Media-method-hasPhotoGalleryPermissions)

*Functionality:*
On Android 9 and below, these methods should check if the app has <code>WRITE_EXTERNAL_STORAGE</code> permission.

On Android 10 and above, these methods should always return <code>true</code> since we do not need write permission to save a photo/video to the gallery once [TIMOB-28059] has been implemented. Google documents this here...
<a href="https://developer.android.com/training/camera/photobasics#TaskPath" rel="nofollow" target="_blank">https://developer.android.com/training/camera/photobasics#TaskPath</a>

*Note:*
Currently, Titanium app developers must use the [Ti.Filesystem.requestStoragePermissions()](<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Filesystem-method-requestStoragePermissions) and [Ti.Filesystem.hasStoragePermissions()](<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Filesystem-method-hasStoragePermissions) methods before saving to the gallery. This is okay, but we don't need to check for <code>WRITE_EXTERNAL_STORAGE</code> permission on Android 10 and above when saving to the gallery. We also don't want to change the [Ti.Filesystem.requestStoragePermissions()](<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.Filesystem-method-requestStoragePermissions) method's implementation since it's still needed in case you want to write to other locations on external storage.


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2020-10-10

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/12143" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12143</a>
   
   See commits...
   <a href="https://github.com/appcelerator/titanium_mobile/pull/12143/commits/b8e5f150b012ac81b4ac6543f5845a09707d9d29" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12143/commits/b8e5f150b012ac81b4ac6543f5845a09707d9d29</a>
   <a href="https://github.com/appcelerator/titanium_mobile/pull/12143/commits/5d0a7b42d36f1479353c7ab1eaf79d90a958a8ae" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12143/commits/5d0a7b42d36f1479353c7ab1eaf79d90a958a8ae</a></li>
<li>Lokesh Choudhary 2020-10-22

   Verified the fix with SDK 9.3.0.v20201022111908.
   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-28183.json">JSON Source</a></p>