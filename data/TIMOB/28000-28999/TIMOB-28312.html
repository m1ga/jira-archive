---
title: "[TIMOB-28312] Android: Can't enter decimal comma in TextField on some devices"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 9.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.3.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>TextField, android, decimal, locale, localization</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2021-01-13T00:52:43.000+0000</td></tr>
<tr><th>Updated</th><td>2021-01-19T21:10:31.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
Some Android devices such as Samsung and Huawei do not have localized decimal keyboards. They only support a decimal point '.' which makes it impossible to enter a decimal separator into a <code>TextField</code> for locales that use a decimal comma ',' character.

This never happens in the Android emulator or Google's own devices.

This is actually a bug with some 3rd party devices, not in Titanium. We can't control the localization of the virtual keyboard. But that said, we need a work-around of some kind.

*Steps to reproduce:*
<h4>Acquire a Samsung or Huawei Android device.</h4>
<h4>Go to: <code>Settings -> System -> Languages & Input -> Languages</code></h4>
<h4>Select a European language such as French or German.</h4>
<h4>Build and run the below code.</h4>
<h4>Tap on the <code>TextField</code>.</h4>
<h4>Notice keyboard has a "," button but not a "." button. _(We can't fix this.)_</h4>
<h4>Attempt to enter a decimal value such as <code>1,5</code> or <code>1.5</code>.</h4>
<h4>Notice you can't enter a decimal separator. _(This is only an issue on some devices.)_</h4>

<code><pre>
const value = 1234.5;
const window = Ti.UI.createWindow();
const textField = Ti.UI.createTextField({
	value: value.toLocaleString(Ti.Locale.currentLocale),
	keyboardType: Ti.UI.KEYBOARD_TYPE_DECIMAL_PAD,
	width: "80%",
});
textField.addEventListener("change", (e) => {
	console.log("@@@ value: " + Ti.Locale.parseDecimal(e.value));
});
window.add(textField);
window.open();
</pre></code>

*Recommended Solution:*
For locales that do not use a decimal point, we should automatically substitute the "." character as it's typed in. This would also mean we won't allow user's to enter a thousands separator for European locales, but unfortunately there doesn't appear to be any other solution to this issue.


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-01-13

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/12382" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12382</a></li>
<li>Christopher Williams 2021-01-19

   merged to master, backport PR to 9_3_X merged for 9.3.1 target.</li>
</ol>


<p><a href="/TIMOB/TIMOB-28312.json">JSON Source</a></p>