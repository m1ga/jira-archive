---
title: "[TIMOB-28323] iOS: Gap between top UI element and and status bar on iPhone 12 mini with extendSafeArea set to false"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 9.3.0, Release 9.2.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 9.3.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Vijay Singh</td></tr>
<tr><th>Created</th><td>2021-01-19T14:17:41.000+0000</td></tr>
<tr><th>Updated</th><td>2021-01-22T20:49:03.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

When running the below code on an iPhone 12 mini there is a gap between the status bar and the toolbar element. This is only seen on a iPhone 12 mini and is most likely due to that device having a differing status bar and safe area top inset size (see [here](<a href="https://useyourloaf.com/blog/iphone-12-screen-sizes/)" rel="nofollow" target="_blank">https://useyourloaf.com/blog/iphone-12-screen-sizes/)</a> and [here](<a href="https://twitter.com/steipete/status/1316482397312090118?lang=en))" rel="nofollow" target="_blank">https://twitter.com/steipete/status/1316482397312090118?lang=en))</a>

<code><pre>
var win = Ti.UI.createWindow({
	title : "test",
	backgroundColor : '#fff',
	extendSafeArea : false
});
Ti.UI.iOS.setStatusBarBackgroundColor("#00AEE0");
var toolbar = Ti.UI.createToolbar({
	barColor : 'blue',
	title : "Toolbar",
	top : 0
});
win.add(toolbar);
win.open(); 
</pre></code>

<h4>Steps to reproduce</h4>

1. Add the code above to an existing app.js
2. Build to an iPhone 12 mini simulator or device

<h4>Actual</h4>

Gap between statusbar and top UI element

<h4>Expected</h4>

No gap

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-28323_67771/Simulator Screen Shot - iPhone 12 mini - 2021-01-19 at 14.20.09.png">Simulator Screen Shot - iPhone 12 mini - 2021-01-19 at 14.20.09.png</td></td><td>2021-01-19T14:20:28.000+0000</td><td>61994</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vijay Singh 2021-01-19

   This is native issue from Apple side. The height of statusbar is 44 while top of safearea is 50. 
   For supporting property Ti.UI.iOS.statusBarBackgroundColor in iOS 13+, we are using a view(TIMOB-27609 / <a href="https://github.com/appcelerator/titanium_mobile/pull/11370)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/11370)</a> . I think we can manage the height of view to top of safearea if it is  not equal to height of statusbar. </li>
<li>Vijay Singh 2021-01-20

   PR - <a href="https://github.com/appcelerator/titanium_mobile/pull/12402" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12402</a></li>
<li>Hans Kn√∂chel 2021-01-20

   Is there a reference that it's an Apple issue? I have not heard about this bug so far and would like to prevent the manual top-margin hack if possible and fix it where it's actually happening.</li>
<li>Vijay Singh 2021-01-20

   1. Apart from 2 links added in ticket description , see [this](<a href="https://developer.apple.com/forums/thread/662466)" rel="nofollow" target="_blank">https://developer.apple.com/forums/thread/662466)</a> where people are talking about it.
   2.  In all other devices (except iPhone 12 mini) the top of safearea insets is same as height of status bar . e.g iPhone 12, status bar height is 47 and top of safe area insets is 47.
   3. In titanium, from iOS 13+ to support Ti.UI.iOS.statusBarBackgroundColor, we are using view to be backward compatible. So setting the proper frame of view is necessary. In case if someone is not using Ti.UI.iOS.statusBarBackgroundColor, no need to adjust anything.</li>
<li>Satyam Sekhri 2021-01-22

   FR Passed.
   Waiting for Jenkins build.</li>
<li>Christopher Williams 2021-01-22

   Merged to master and backport PR merged to 9_3_X for 9.3.1 release.</li>
</ol>


<p><a href="/TIMOB/TIMOB-28323.json">JSON Source</a></p>