---
title: "[TIMOB-28367] TiAPI: Ti.UI.ProgressBar should smoothly animate value changes"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-06-10T17:17:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.0.1</td></tr>
<tr><th>Components</th><td>Android, iOS, Mac</td></tr>
<tr><th>Labels</th><td>android, animate, iOS, progressbar</td></tr>
<tr><th>Reporter</th><td>Michael Gangolf</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2020-12-22T17:28:26.000+0000</td></tr>
<tr><th>Updated</th><td>2021-06-10T17:17:39.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
Our [Ti.UI.ProgressBar](<a href="https://docs.appcelerator.com/platform/latest/#" rel="nofollow" target="_blank">https://docs.appcelerator.com/platform/latest/#</a>!/api/Titanium.UI.ProgressBar) should animate by default when changing the progress value. This will make the UI widget look more modern.

We should provide a new "animated" property which allows developers to enable/disable the animation. By default it should be <code>true</code>.

*To-Do on iOS:*
iOS (/iphone/Classes/TiUIProgressBar.m):  *animated:YES*
<code><pre>
- (void)setValue_:(id)value
{
  CGFloat newValue = ([TiUtils floatValue:value] - min) / (max - min);
  [[self progress] setProgress:newValue animated:YES];
}
</pre></code>

*To-Do on Android:*
When we switch over to the material [LinearProgressIndicator](<a href="https://developer.android.com/reference/com/google/android/material/progressindicator/LinearProgressIndicator)" rel="nofollow" target="_blank">https://developer.android.com/reference/com/google/android/material/progressindicator/LinearProgressIndicator)</a>, we can easily animate progress value changes via its [setProgressCompat()](<a href="https://developer.android.com/reference/com/google/android/material/progressindicator/BaseProgressIndicator#setProgressCompat(int" rel="nofollow" target="_blank">https://developer.android.com/reference/com/google/android/material/progressindicator/BaseProgressIndicator#setProgressCompat(int</a>,%20boolean)) method. We can do this once ticket [TIMOB-28351] is implemented.

Note that the way to do this with the old Android [ProgressBar](<a href="https://developer.android.com/reference/android/widget/ProgressBar)" rel="nofollow" target="_blank">https://developer.android.com/reference/android/widget/ProgressBar)</a> class is to do the below.
<code><pre>
ObjectAnimator.ofInt(progressBar, "progress", progressValue)
    .setDuration(300)
    .start();
</pre></code>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-28367_67824/ProgressBarAnimatedTest.js">ProgressBarAnimatedTest.js</td></td><td>2021-02-24T05:28:12.000+0000</td><td>1661</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-02-24

   The material <code>LinearProgressIndicator</code> makes this easy to add on Android and looks nice and smooth.
   
   I'm thinking progress should be animated by default and we should add an "animated" property (like you were thinking) so you can turn it on or off. What do you think?</li>
<li>Joshua Quick 2021-02-24

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/12353" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12353</a></li>
<li>Samir Mohammed 2021-03-02

   FR Passed, Waiting on Jenkins build and backport (as well as FR on related on tickets) </li>
<li>Christopher Williams 2021-03-05

   merged to master and 10_0_X for 10.0.0 release target.</li>
<li>Joshua Quick 2021-06-09

   This change didn't get back-ported and is missing in the 10_0_X branch. We'll have to back-port the following commit.
   <a href="https://github.com/appcelerator/titanium_mobile/pull/12353/commits/243810833dff6f199e9cc414a58440153b1e0a72" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12353/commits/243810833dff6f199e9cc414a58440153b1e0a72</a>
   </li>
<li>Joshua Quick 2021-06-09

   PR (10_0_X): <a href="https://github.com/appcelerator/titanium_mobile/pull/12876" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12876</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-28367.json">JSON Source</a></p>