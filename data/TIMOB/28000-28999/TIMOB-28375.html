---
title: "[TIMOB-28375] Android: Hyperloop fails to access enum types with JDK 12"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-03-11T14:41:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.0.0</td></tr>
<tr><th>Components</th><td>Android, Hyperloop</td></tr>
<tr><th>Labels</th><td>android, enum, hyperloop</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2021-03-05T04:32:34.000+0000</td></tr>
<tr><th>Updated</th><td>2021-03-11T14:41:44.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
If JDK 12 or higher is installed, Hyperloop fails to generate a working proxy for Java enum types which will cause a runtime error when used.

*Steps to reproduce:*
<h4>Set up the system with JDK 12 or higher.</h4>
<h4>Build and run [hyperloop-examples](<a href="https://github.com/appcelerator/hyperloop-examples)" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop-examples)</a> on Android.</h4>
<h4>Tap on "Blur" in the list.</h4>
<h4>Notice the below exception occurs.</h4>

<code><pre>
[ERROR] TiExceptionHandler: (main) [3565,4127] ti:/module.js:297
[ERROR] TiExceptionHandler: 	throw new Error('Requested module not found: ' + request); // TODO Set 'code' property to 'MODULE_NOT_FOUND' to match Node?
[ERROR] TiExceptionHandler:  ^
[ERROR] TiExceptionHandler: Error: Requested module not found: ./java.lang.Enum
[ERROR] TiExceptionHandler:     at Module.require (ti:/module.js:297:8)
[ERROR] TiExceptionHandler:     at Module.global.Module.require (&lt;embedded&gt;:5050:34)
[ERROR] TiExceptionHandler:     at require (ti:/module.js:550:15)
[ERROR] TiExceptionHandler:     at /hyperloop/android.graphics.Bitmap$Config.js:36:18
</pre></code>

*Note:*
If the above error did not occur, then that means a valid Java class metabase file was generated by JDK 11 or older and hyperloop is re-using it. Search for the following line in the build log and delete the file it references.
<code><pre>
[Hyperloop] Using system metabase cache file at &lt;/path/to/file.json.gz&gt;
</pre></code>

*How to change JDK version on Mac:*
Entering the following at the command line will list all JDK versions installed on Mac...
<code><pre>
/usr/libexec/java_home -V
</pre></code>

You can switch JDK versions used on Mac by entering the following.
_(Make sure to replace <JdkVersion> below.)_
<code><pre>
export JAVA_HOME=$(/usr/libexec/java_home -v &lt;JdkVersion&gt;)
</pre></code>

*Work-around:*
Use JDK 11 instead.


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-03-05

   PR (hyperloop.next): <a href="https://github.com/appcelerator/hyperloop.next/pull/349" rel="nofollow" target="_blank">https://github.com/appcelerator/hyperloop.next/pull/349</a></li>
<li>Joshua Quick 2021-03-10

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/12540" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12540</a></li>
<li>Satyam Sekhri 2021-03-11

   FR Passed.
   Waiting for Jenkins build</li>
<li>Christopher Williams 2021-03-11

   merged hyper loop update to master and 10_0_X for 10.0.0 target</li>
</ol>


<p><a href="/TIMOB/TIMOB-28375.json">JSON Source</a></p>