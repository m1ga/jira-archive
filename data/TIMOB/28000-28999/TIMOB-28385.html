---
title: "[TIMOB-28385] Android ListView crash error on SDK 9.3.X"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-05-18T18:15:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 9.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.0.0, Release 9.3.3</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>ListView, android, regression</td></tr>
<tr><th>Reporter</th><td>Cristina Avila</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2021-02-13T19:24:44.000+0000</td></tr>
<tr><th>Updated</th><td>2021-05-18T18:15:42.000+0000</td></tr>
</table>

<h3>Description</h3>

*Platform* Android only
*SDK*  9.3.0.GA, 9.3.1.GA and 9.3.2.GA

ListView is crashing while scrolling. This is reproducible if the ListItem has an ImageView that should load an image from url. If I roll back to 9.2.2.GA the ListView is working as expected.

*Crash error*
[{{ERROR] TiExceptionHandler: (main) [30297,30666] Attempt to invoke virtual method 'android.app.Activity org.appcelerator.kroll.KrollProxy.getActivity()' on a null object reference
[ERROR] TiExceptionHandler:
[ERROR] TiExceptionHandler:     org.appcelerator.titanium.view.TiDrawableReference.fromUrl(TiDrawableReference.java:163)
[ERROR] TiExceptionHandler:     ti.modules.titanium.ui.widget.TiUIImageView$1.downloadTaskFinished(TiUIImageView.java:105)
[ERROR] TiExceptionHandler:     org.appcelerator.titanium.util.TiDownloadManager.handleFireDownloadMessage(TiDownloadManager.java:284)
[ERROR] TiExceptionHandler:     org.appcelerator.titanium.util.TiDownloadManager.handleMessage(TiDownloadManager.java:355)
[ERROR] TiExceptionHandler:     android.os.Handler.dispatchMessage(Handler.java:103)
[ERROR] TiExceptionHandler:     android.os.Looper.loop(Looper.java:214)
[ERROR] TiExceptionHandler:     android.app.ActivityThread.main(ActivityThread.java:7356)
[ERROR] TiExceptionHandler:     java.lang.reflect.Method.invoke(Native Method)
[ERROR] TiExceptionHandler:     com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)
[ERROR] TiExceptionHandler:     com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)}}

*Example Code*

Example code in attachments

<code><pre>
&lt;Alloy&gt;
	&lt;Window class="container" onOpen="setupList"&gt;
		&lt;ListView id="listView" defaultItemTemplate="template"&gt;
			&lt;Templates&gt;
				&lt;ItemTemplate name="customtemplate"&gt;
					&lt;View class="card"&gt;
						&lt;ImageView bindId="image" class="pic" defaultImage="/images/defaultimg.png" /&gt;
						&lt;Label bindId="title" class="title" /&gt;
					&lt;/View&gt;
				&lt;/ItemTemplate&gt;
			&lt;/Templates&gt;
			&lt;ListSection id="section" /&gt;
		&lt;/ListView&gt;
	&lt;/Window&gt;
&lt;/Alloy&gt;
</pre></code>

<code><pre>
function setupList() {
	var items = []

	for (var x = 0; x &lt; 50; x++) {
		items.push({
			template: 'customtemplate',
			image: {
				image: '<a href="https://picsum.photos/200" rel="nofollow" target="_blank">https://picsum.photos/200</a>'
			},
			title: {
				text: 'Item no.' + x
			}
		});
	}

	$.section.items = items;
}

$.index.open();
</pre></code>







<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-28385_67792/source-app.zip">source-app.zip</td></td><td>2021-02-13T19:22:47.000+0000</td><td>94040</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Kn√∂chel 2021-03-07

   Can someone from the team please validate this? Thx!</li>
<li>Cristina Avila 2021-03-11

   Just created a PR for this <a href="https://github.com/appcelerator/titanium_mobile/pull/12541" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12541</a></li>
<li>Samir Mohammed 2021-03-12

   FR Passed, waiting on Jenkins build</li>
<li>Christopher Williams 2021-03-12

   merged to 9_3_X, master and 10_0_X for 10.0.0 target</li>
</ol>


<p><a href="/TIMOB/TIMOB-28385.json">JSON Source</a></p>