---
title: "[TIMOB-28392] iOS: Building the source .xcodeproj fails every 2nd time"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 10.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hans Kn√∂chel</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2021-03-13T13:54:09.000+0000</td></tr>
<tr><th>Updated</th><td>2021-03-13T14:02:27.000+0000</td></tr>
</table>

<h3>Description</h3>

Since a while, the Titanium source project runs a ["scons.js"](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/build/scons-xcode-project-build.js)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/build/scons-xcode-project-build.js)</a> on every build step, which is (a) slowing down the build <code>*</code> and (b) causing a build failure every 2nd time:
<code><pre>
CodeSign /Users/user/Library/Developer/Xcode/DerivedData/Titanium-gvpsqrupwkgnlndxeebdrcxjaktk/Build/Products/Debug-iphonesimulator/Titanium.app/Frameworks/TitaniumKit.framework (in target 'Titanium' from project 'Titanium')
    cd /Users/user/Documents/dev/titanium/titanium_mobile/iphone/iphone
    export CODESIGN_ALLOCATE\=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/codesign_allocate
    
Signing Identity:     "-"

    /usr/bin/codesign --force --sign - --timestamp\=none --preserve-metadata\=identifier,entitlements,flags /Users/user/Library/Developer/Xcode/DerivedData/Titanium-gvpsqrupwkgnlndxeebdrcxjaktk/Build/Products/Debug-iphonesimulator/Titanium.app/Frameworks/TitaniumKit.framework

/Users/user/Library/Developer/Xcode/DerivedData/Titanium-gvpsqrupwkgnlndxeebdrcxjaktk/Build/Products/Debug-iphonesimulator/Titanium.app/Frameworks/TitaniumKit.framework: bundle format unrecognized, invalid, or unsuitable
Command CodeSign failed with a nonzero exit code
</pre></code>

This is a regression from earlier versions. Not sure when this was broken, but Chris changed a lot last year for the macOS support.

<code>*</code> The build time on a recurring build is 500ms without the scons script and 6-8s with it. This is really bad, especially when no JS or resources changed at all, which is the normal case for native app debugging

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-28392.json">JSON Source</a></p>