---
title: "[TIMOB-28393] CLI: Building with -C option will fail with \"ENOENT: no such file or directory, open\" error"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>None</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-04-07T15:32:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 10.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.0.0</td></tr>
<tr><th>Components</th><td>CLI</td></tr>
<tr><th>Labels</th><td>regression</td></tr>
<tr><th>Reporter</th><td>Ewan Harris</td></tr>
<tr><th>Assignee</th><td>Ewan Harris</td></tr>
<tr><th>Created</th><td>2021-03-15T12:41:22.000+0000</td></tr>
<tr><th>Updated</th><td>2021-04-07T15:32:43.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Description</h4>

*This is blocking CI builds on Jenkins, we should revert the node-ios-device update*

When building with <code>-C</code> the build will error with an error like below, this is because node-pre-gyp is parsing our <code>-C</code> flag and assuming it's meant for itself and changing the directory which is then causing the error.

I think node-pre-gyp-init needs to maybe try and force node-pre-gyp to not do this.

<code><pre>
 Error: ENOENT: no such file or directory, open 'foooo/Users/awam/Library/Application Support/Titanium/mobilesdk/osx/10.0.0.v20210312130708/node_modules/node-ios-device/package.json'
    at Object.openSync (fs.js:462:3)
    at Object.readFileSync (fs.js:364:35)
    at Run.parseOpts [as parseArgv] (/Users/awam/Library/Application Support/Titanium/mobilesdk/osx/10.0.0.v20210312130708/node_modules/@mapbox/node-pre-gyp/lib/node-pre-gyp.js:176:37)
    at new Run (/Users/awam/Library/Application Support/Titanium/mobilesdk/osx/10.0.0.v20210312130708/node_modules/@mapbox/node-pre-gyp/lib/node-pre-gyp.js:85:8)
    at exports.find (/Users/awam/Library/Application Support/Titanium/mobilesdk/osx/10.0.0.v20210312130708/node_modules/@mapbox/node-pre-gyp/lib/pre-binding.js:21:16)
    at Immediate.&lt;anonymous&gt; (/Users/awam/Library/Application Support/Titanium/mobilesdk/osx/10.0.0.v20210312130708/node_modules/node-pre-gyp-init/index.js:21:21)
    at processImmediate (internal/timers.js:461:21) {
  errno: -2,
  syscall: 'open',
  code: 'ENOENT',
  path: 'foooo/Users/awam/Library/Application Support/Titanium/mobilesdk/osx/10.0.0.v20210312130708/node_modules/node-ios-device/package.json'
}
</pre></code>

<h4>Steps to reproduce</h4>

1. With a 10.0.0 build pass in the <code>-C</code> option when building to ios

<h4>Actual</h4>

Above error

<h4>Expected</h4>

No error

<h3>Comments</h3>

<ol>
<li>Ewan Harris 2021-03-15

   10_0_X revert: <a href="https://github.com/appcelerator/titanium_mobile/pull/12577" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12577</a>
   master revert : <a href="https://github.com/appcelerator/titanium_mobile/pull/12578" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12578</a></li>
<li>Ewan Harris 2021-03-15

   node-pre-gyp-init PR to clear process.argv before calling @mapbox/node-pre-gyp <a href="https://github.com/cb1kenobi/node-pre-gyp-init/pull/3" rel="nofollow" target="_blank">https://github.com/cb1kenobi/node-pre-gyp-init/pull/3</a></li>
<li>Ewan Harris 2021-03-15

   master PR to update node-pre-gyp-init dependency: <a href="https://github.com/appcelerator/titanium_mobile/pull/12579" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12579</a> </li>
<li>Samir Mohammed 2021-04-07

   FR Passed error no longer seen when running <code>appc run -p ios -C &lt;ios uuid&gt;</code> Tested using SDK Version <code>10.1.0.v20210407072202</code> and <code>10.0.0.v20210407072525</code>. </li>
</ol>


<p><a href="/TIMOB/TIMOB-28393.json">JSON Source</a></p>