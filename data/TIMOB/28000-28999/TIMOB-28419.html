---
title: "[TIMOB-28419] iOS: Handling native stack causes app crash"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2021-06-25T01:22:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 10.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Hans Kn√∂chel</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2021-04-13T18:06:33.000+0000</td></tr>
<tr><th>Updated</th><td>2021-06-25T01:22:15.000+0000</td></tr>
</table>

<h3>Description</h3>

We added a new feature to catch uncaught exceptions and log them to our server. But this turned out to actually cause more crashes than caught. The crash log is attached to this ticket. It seems like a simple missing nil check on the stack trace processing.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-28419_67869/Screenshot 2021-04-13 at 20.05.56.png">Screenshot 2021-04-13 at 20.05.56.png</td></td><td>2021-04-13T18:06:01.000+0000</td><td>207047</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-04-13

   I'm pretty sure I fixed this issue with the following commit, but it's on my personal branch which was never merged. My memory is a little fuzzy, but I think it handles the case where a native exception is turned into a JS exception and is unhandled.
   <a href="https://github.com/jquick-axway/titanium_mobile/commit/41ae2a943316d942cd907730ad6c8403838c7ff1#diff-a7f7445c15f7cad956189cefe654bbfbce35fda276155b36efeb983524b3e9d8" rel="nofollow" target="_blank">https://github.com/jquick-axway/titanium_mobile/commit/41ae2a943316d942cd907730ad6c8403838c7ff1#diff-a7f7445c15f7cad956189cefe654bbfbce35fda276155b36efeb983524b3e9d8</a>
   </li>
<li>Joshua Quick 2021-04-14

   [~hknoechel], I created separate ticket [TIMOB-28420] which fixes how a "native" stack trace is read as shown in above link (although above link's fix was missing a <code>retain</code>). This fix also allows native stack traces to be shown via an error dialog like how it works for unhandled JS exceptions. I "think" this will resolve the issue you're talking about as well.</li>
<li>Joshua Quick 2021-06-25

   Closing as duplicate of [TIMOB-28420], which will be resolved in Titanium 10.0.1.</li>
</ol>


<p><a href="/TIMOB/TIMOB-28419.json">JSON Source</a></p>