---
title: "[TIMOB-28438] Android: TableViewSection header displays the first header text for all other headers"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-05-07T18:42:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 10.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>TableView, android, regression</td></tr>
<tr><th>Reporter</th><td>Lokesh Choudhary</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2021-05-05T21:49:21.000+0000</td></tr>
<tr><th>Updated</th><td>2021-05-07T18:42:30.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Steps to reproduce:</h4>
1. Use the below code in your app.js:
<code><pre>
var win = Ti.UI.createWindow();

var RED = 'Red',
    GREEN = 'Green',
    PURPLE = 'Purple';

var table = Ti.UI.createTableView({
});

var tableSection1 = createSectionForGroup(RED);
var tableSection2 = createSectionForGroup(GREEN);
var tableSection3 = createSectionForGroup(PURPLE);
var tableSection4 = createSectionForGroup(PURPLE);
var tableSection5 = createSectionForGroup(RED);
var tableSection6 = createSectionForGroup(GREEN);
var tableSection7 = createSectionForGroup(PURPLE);
var tableSection8 = createSectionForGroup(PURPLE);
var tableSection9 = createSectionForGroup(RED);
var tableSection10 = createSectionForGroup(GREEN);
var tableSection11 = createSectionForGroup(PURPLE);
var tableSection12 = createSectionForGroup(PURPLE);

var tableRow = Ti.UI.createTableViewRow({
    title: 'Row'
});

var rows = 7;
var i;
for (i = 0; i &lt;= rows; i++) {
    tableSection1.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection2.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection3.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection4.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection5.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection6.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection7.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection8.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection9.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection10.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection11.add(tableRow);
}

for (i = 0; i &lt;= rows; i++) {
    tableSection12.add(tableRow);
}

table.setData([tableSection1, tableSection2, tableSection3, tableSection4, tableSection5, tableSection6, tableSection7, tableSection8,
    tableSection9, tableSection10, tableSection11, tableSection12
]);

function createSectionForGroup(group) {
    var headerContainerOpts, headerBottomBorderOpts, headerViewOpts;

    headerViewOpts = {
        color: 'white',
        height: Ti.UI.SIZE,
        font: {
            fontSize: '17sp',
            fontWeight: 'bold'
        },
        left: 11,
        text: group
    };

    if (group === RED) {
        headerContainerOpts = {
            backgroundGradient: {
                endPoint: {
                    x: 0,
                    y: '100%'
                },
                startPoint: {
                    x: 0,
                    y: 0
                },
                type: 'linear',
                colors: ['#C53019', '#B32D14']
            },
            height: 32
        };
    }
    if (group === GREEN) {
        headerContainerOpts = {
            backgroundGradient: {
                endPoint: {
                    x: 0,
                    y: '100%'
                },
                startPoint: {
                    x: 0,
                    y: 0
                },
                type: 'linear',
                colors: ['#2B781E', '#195010']
            },
            height: 32
        };
    }
    if (group === PURPLE) {
        headerContainerOpts = {
            backgroundGradient: {
                endPoint: {
                    x: 0,
                    y: '100%'
                },
                startPoint: {
                    x: 0,
                    y: 0
                },
                type: 'linear',
                colors: ['#873DA6', '#612A7D']
            },
            height: 32
        };
    }

    var container = Ti.UI.createView(headerContainerOpts);
    container.add(Ti.UI.createLabel(headerViewOpts));
    return Ti.UI.createTableViewSection({
        headerView: container,
        title: group
    });
}

win.add(table);
win.open();
</pre></code>
2. Build for android device.
3. After the app launches observe the header text.

<h4>Actual results:</h4>
1. All the following header text's are "Purple".

<h4>Expected results:</h4>
1. The headers should Red ,Green,Purple, Purple,Red ,Green,Purple, Purple,Red ,Green,Purple, Purple.

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-05-05

   [~gmathews], the unusual thing in the above code is that same <code>TableViewRow</code> instance is being added multiple times to the <code>TableView</code> under different sections. That's likely the root cause. Probably a cloning issue.
   
   I doubt this issue would happen if every section had its own row instances like how it's normally set up.</li>
<li>Gary Mathews 2021-05-06

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/12778" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12778</a></li>
<li>Christopher Williams 2021-05-07

   merged to master and 10_0_X branches</li>
</ol>


<p><a href="/TIMOB/TIMOB-28438.json">JSON Source</a></p>