---
title: "[TIMOB-28525] iOS: Cannot run apps with non-arm64 modules on Apple Silicon (even with Rosetta)"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-09-06T11:14:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>M1, build, iOS, module</td></tr>
<tr><th>Reporter</th><td>Hans Kn√∂chel</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2021-08-17T09:08:33.000+0000</td></tr>
<tr><th>Updated</th><td>2021-09-06T11:14:09.000+0000</td></tr>
</table>

<h3>Description</h3>

This will become a very common issue over the next few months as more Macs will run on the M1/MX chips: The build fails due to the <code>arm64</code> architecture. In the native world, Apple resolves this by providing Rosetta, an architecture bridge that allows apps to be started in <code>x86_64</code> (Intel) mode.

So practically, users can just start their VSCode or Terminal with Rosetta (right click > Info > "Use Rosetta") and the app would compile with x86_64. But currently, the Titanium CLI uses <code>process.arch</code> to detect the architecture, which causes a problem, because it still detects <code>arm64</code> and therefore fails early, although the build would run through.

To fix this, the command <code>uname -a</code> can be used and returns the actual used process architecture. And since iOS apps don't run on Windows anyway, we don't have to fear Windows compatibility for the command.

<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-28525.json">JSON Source</a></p>