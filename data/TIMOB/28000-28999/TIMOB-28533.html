---
title: "[TIMOB-28533] Android: ListView scrollToItem always uses first section"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-09-10T09:28:34.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 9.3.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>ListView, android, regression</td></tr>
<tr><th>Reporter</th><td>Michael Gangolf</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2021-09-08T09:21:28.000+0000</td></tr>
<tr><th>Updated</th><td>2021-09-10T09:28:34.000+0000</td></tr>
</table>

<h3>Description</h3>

The current <code>ListView.scrollToItem</code> always scrolls to the first section if there are multiple.

I've tested 10.1.0 after <a href="https://github.com/appcelerator/titanium_mobile/pull/12762" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12762</a> was merged with this code:

<code><pre>
const win = Ti.UI.createWindow();
const animation = { animated: true };
const toggle_animation = Ti.UI.createButton({ bottom: 20, title: <code>animated: ${animation.animated}</code> });

function createSection(sectionId, rows) {
	const section = Ti.UI.createListSection({
		headerTitle: <code>Section ${sectionId}</code>
	});
	const items = [];

	for (let i = 0; i &lt; rows; i++) {
		items.push({
			properties: {
				title: <code>${sectionId} Row #${i}</code>,
				searchableText: <code>Row #${i}</code>
			}
		});
	}
	section.items = items;

	return section;
}
const listView = Ti.UI.createListView({ sections: [ createSection(0, 40),createSection(1, 40),createSection(2, 40) ] });

toggle_animation.addEventListener('click', e =&gt; {
	animation.animated = !animation.animated;
	toggle_animation.title = <code>animated: ${animation.animated}</code>;
});

setInterval(_ =&gt; {
	const i = Math.floor(Math.random() * listView.sections[0].itemCount);
	listView.scrollToItem(1, i, animation);  // use second section
	console.log(<code>scrollToItem: ${i}</code>);
}, 2000);

win.add([ listView, toggle_animation ]);
win.open();
</pre></code>
(almost the same as in the ticket but with 3 sections and scrollToItem(1, random)

It should scroll to the 2nd section, so rows with "1 - row..." should be the targets. But it is always going to "0 - row ..." items.

SDK: 10.1.0 (compiled 9/8/2021)
Android 11, Pixel 4 (device)

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-09-08

   [~michael], I'm pretty sure this is fixed in the following PR since we internally use <code>scrollToItem()</code> to handle tap-and-hold to start item selection. I'll need to double check.
   <a href="https://github.com/appcelerator/titanium_mobile/pull/12769" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12769</a>
   </li>
<li>Gary Mathews 2021-09-08

   [~michael] I pushed a fix for this into <a href="https://github.com/appcelerator/titanium_mobile/pull/12769" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/12769</a>, thanks for reporting this</li>
<li>Michael Gangolf 2021-09-08

   [~gmathews] Awesome, thanks for the quick fix. Works fine (y)</li>
</ol>


<p><a href="/TIMOB/TIMOB-28533.json">JSON Source</a></p>