---
title: "[TIMOB-28539] Android: Update V8 runtime to 9.4"
---
<table>
<tr><th>Type</th><td>Improvement</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-10-19T17:01:59.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Gary Mathews</td></tr>
<tr><th>Assignee</th><td>Gary Mathews</td></tr>
<tr><th>Created</th><td>2021-09-22T03:54:28.000+0000</td></tr>
<tr><th>Updated</th><td>2021-10-23T15:55:25.000+0000</td></tr>
</table>

<h3>Description</h3>

- Upgrade V8 to the latest stable version <code>9.4.146.16</code>
<a href="https://omahaproxy.appspot.com/" rel="nofollow" target="_blank">https://omahaproxy.appspot.com/</a>
<a href="https://github.com/v8/v8/tree/9.4-lkgr" rel="nofollow" target="_blank">https://github.com/v8/v8/tree/9.4-lkgr</a>

- Maintain backwards compatibility

<h3>Comments</h3>

<ol>
<li>Gary Mathews 2021-09-24

   <a href="https://github.com/appcelerator/v8_titanium/tree/9.4-lkgr" rel="nofollow" target="_blank">https://github.com/appcelerator/v8_titanium/tree/9.4-lkgr</a></li>
<li>Gary Mathews 2021-09-30

   master: <a href="https://github.com/appcelerator/titanium_mobile/pull/13097" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/13097</a></li>
<li>Michael Gangolf 2021-10-23

   Is there anything special I'll need to update? When I build the latest master it will stop with:
   <code><pre>
   Found architectures arm, arm64, x86, x86_64
   Generating snapshot blob for arm...
   Error: Command failed: /titanium_mobile/dist/android/libv8/9.4.146.16/release/libs/arm/mksnapshot --turbo_instruction_scheduling --embedded_src=/titanium_mobile/dist/android/libv8/9.4.146.16/release/libs/arm/embedded.S --embedded_variant=Default --no-native-code-counters --startup_blob=/titanium_mobile/dist/android/libv8/9.4.146.16/release/libs/arm/blob.bin /titanium_mobile/dist/tmp/startup.js
   /titanium_mobile/dist/android/libv8/9.4.146.16/release/libs/arm/mksnapshot: error while loading shared libraries: libatomic.so.1: cannot open shared object file: No such file or directory
   
       at ChildProcess.exithandler (child_process.js:383:12)
       at ChildProcess.emit (events.js:400:28)
       at maybeClose (internal/child_process.js:1058:16)
       at Socket.&lt;anonymous&gt; (internal/child_process.js:443:11)
       at Socket.emit (events.js:400:28)
       at Pipe.&lt;anonymous&gt; (net.js:686:12) {
     killed: false,
     code: 127,
     signal: null,
     cmd: '/titanium_mobile/dist/android/libv8/9.4.146.16/release/libs/arm/mksnapshot --turbo_instruction_scheduling --embedded_src=/titanium_mobile/dist/android/libv8/9.4.146.16/release/libs/arm/embedded.S --embedded_variant=Default --no-native-code-counters --startup_blob=/titanium_mobile/dist/android/libv8/9.4.146.16/release/libs/arm/blob.bin /titanium_mobile/dist/tmp/startup.js',
     stdout: '',
     stderr: '/titanium_mobile/dist/android/libv8/9.4.146.16/release/libs/arm/mksnapshot: error while loading shared libraries: libatomic.so.1: cannot open shared object file: No such file or directory\n'
   }
   [Error: ENOENT: no such file or directory, unlink '/titanium_mobile/dist/android/libv8/9.4.146.16/release/libs/arm/blob.bin'] {
     errno: -2,
     code: 'ENOENT',
     syscall: 'unlink',
     path: '/titanium_mobile/dist/android/libv8/9.4.146.16/release/libs/arm/blob.bin'
   }
   
   &gt; Task :titanium:snapshotTiCommonFiles FAILED
   
   FAILURE: Build failed with an exception.
   
   * Where:
   Build file '/titanium_mobile/android/titanium/build.gradle' line: 202
   
   * What went wrong:
   Execution failed for task ':titanium:snapshotTiCommonFiles'.
   </pre></code>
   
   When I switch back to 8.8.278.17 it works fine. I've installed libatomic (it will create a libatomic.so so l've linked libatomic.so.1 to it) but it didn't help either</li>
<li>Michael Gangolf 2021-10-23

   Never mind! I saw the <a href="https://github.com/appcelerator/titanium_mobile/commit/59db7bf8bed2a41cc5ca891a1f8a3bb58c20dc2a" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/59db7bf8bed2a41cc5ca891a1f8a3bb58c20dc2a</a> commit and it has to be the 32bit version of libatomic. Then it worked (y)</li>
</ol>


<p><a href="/TIMOB/TIMOB-28539.json">JSON Source</a></p>