---
title: "[TIMOB-28547] Android: Menu item icon ignores theme if assigned a resource ID"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-10-29T03:39:10.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, drawable, menu, menuitem, resource, theme</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2021-10-06T23:49:56.000+0000</td></tr>
<tr><th>Updated</th><td>2021-10-29T03:39:10.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
When assigning a <code>MenuItem</code> "icon" property a res drawable integer ID, the app's theme is wrongly ignored. This is only an issue if the drawable uses a color attribute/style.

*Notes:*
This is not an issue if the resource drawable has hard-coded colors.

*Steps to reproduce:*
<h4>Use the below code as the "app.js".</h4>
<h4>Copy  [^ic_baseline_delete_24.xml] to folder: <code>./platform/android/res/drawable</code></h4>
<h4>Build and run on Android.</h4>

<code><pre>
const window = Ti.UI.createWindow();
window.activity.onCreateOptionsMenu = (e) =&gt; {
	const menuItem = e.menu.add({
		icon: Ti.App.Android.R.drawable.ic_baseline_delete_24,
		showAsAction: Ti.Android.SHOW_AS_ACTION_ALWAYS,
	});
	menuItem.addEventListener("click", () =&gt; {
		alert("Menu item clicked on.");
	});
};
window.open();
</pre></code>

*Result:*
In the top-right corner, notice the delete/trash icon is always displayed white. When the "light" theme is shown, the menu item can't be seen. It shouldn't be shown as white in the dark theme either and should be gray like bottom navigation icons.
 !MenuIconLight-Bad.png|thumbnail!  !MenuItemDark-Bad.png|thumbnail! 

*Expected Result:*
For the default Titanium light theme, the icon should be gray.
 !MenuIconLight-Good.png|thumbnail!  !MenuItemDark-Good.png|thumbnail! 


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-28547_68021/ic_baseline_close_24.xml">ic_baseline_close_24.xml</td></td><td>2021-10-27T20:40:03.000+0000</td><td>420</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-28547_67992/ic_baseline_delete_24.xml">ic_baseline_delete_24.xml</td></td><td>2021-10-06T23:42:56.000+0000</td><td>402</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-28547_67993/MenuIconLight-Bad.png">MenuIconLight-Bad.png</td></td><td>2021-10-06T23:52:20.000+0000</td><td>397133</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-28547_67994/MenuIconLight-Good.png">MenuIconLight-Good.png</td></td><td>2021-10-06T23:52:20.000+0000</td><td>398571</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-28547_67995/MenuItemDark-Bad.png">MenuItemDark-Bad.png</td></td><td>2021-10-06T23:57:34.000+0000</td><td>401287</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-28547_67996/MenuItemDark-Good.png">MenuItemDark-Good.png</td></td><td>2021-10-06T23:57:34.000+0000</td><td>401203</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-10-07

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/13106" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/13106</a></li>
<li>Joshua Quick 2021-10-27

   There's still an issue where menu icon wrongly uses the activity context's theme, when it should use the ActionBar context theme instead. This is an issue if you use the <code>Theme.Titanium.Light</code> theme because it uses the <code>Theme.MaterialComponents.Light.DarkActionBar</code> which sets the "attr/colorControlNormal" differently than the activity.</li>
<li>Joshua Quick 2021-10-27

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/13147" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/13147</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-28547.json">JSON Source</a></p>