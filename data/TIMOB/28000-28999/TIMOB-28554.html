---
title: "[TIMOB-28554] Android: TableView "move" event returns wrong "row" and "index""
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-10-20T03:13:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 9.3.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>TableView, android, editing, move, parity</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2021-10-14T00:59:16.000+0000</td></tr>
<tr><th>Updated</th><td>2021-10-20T03:13:05.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
<code>TableView</code> "move" event properties "row" and "index" return the wrong values when dragging it. These properties should return the row that's being dragged, but instead returns the last row that was dragged over.

*Steps to reproduce:*
<h4>Build and run the below on Android.</h4>
<h4>Tap and hold the top most row. (Named "Row 1".)</h4>
<h4>Drag and drop it all the way to the bottom of the TableView in Section 2.</h4>
<h4>Observe the log and notice it returns the wrong row name and index.</h4>

<code><pre>
function createTableViewSection(sectionTitle) {
	const section = Ti.UI.createTableViewSection({ headerTitle: sectionTitle });
	section.add(Ti.UI.createTableViewRow({ title: "Row 1", editable: false, moveable: true }));
	section.add(Ti.UI.createTableViewRow({ title: "Row 2", editable: false, moveable: true }));
	section.add(Ti.UI.createTableViewRow({ title: "Row 3", editable: false, moveable: true }));
	section.add(Ti.UI.createTableViewRow({ title: "Row 4", editable: false, moveable: true }));
	return section;
}

const window = Ti.UI.createWindow();
const tableView = Ti.UI.createTableView({
	data: [
		createTableViewSection("Section 1"),
		createTableViewSection("Section 2"),
	],
	allowsSelectionDuringEditing: false,
	allowsMultipleSelectionDuringEditing: false,
	editing: true,
});
tableView.addEventListener("move", (e) =&gt; {
	const data = {
		sectionTitle: e.section.headerTitle,
		rowTitle: e.row.title,
		index: e.index,
	};
	console.log(<code>@@@ "move" event: ${JSON.stringify(data)}</code>);
});
window.add(tableView);
window.open();
</pre></code>

*Result:*
The above "Steps to reproduce" logs the following. This is wrong since you dragged "Row 1", not "Row 4". Also, "index" should be <code>7</code> which is the last position in the TableView, not <code>6</code> which is the 2nd to last position. The issue is the event always contains info if the last row dragged over.
<code><pre>
 @@@ "move" event: {"sectionTitle":"Section 2","rowTitle":"Row 4","index":6}
</pre></code>


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-10-14

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/13120" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/13120</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-28554.json">JSON Source</a></p>