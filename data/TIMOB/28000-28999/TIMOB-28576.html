---
title: "[TIMOB-28576] Android: ProgressIndicator dialog does not use material "colorPrimary""
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2021-11-05T23:55:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 10.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>ProgressIndicator, android, progress, theme</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2021-11-05T04:54:01.000+0000</td></tr>
<tr><th>Updated</th><td>2021-11-05T23:55:14.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
As of Titanium 10.0.0, all UI was changed to use the material theme/widgets. The [Ti.UI.Android.ProgressIndicator](<a href="https://titaniumsdk.com/api/titanium/ui/android/progressindicator.html)" rel="nofollow" target="_blank">https://titaniumsdk.com/api/titanium/ui/android/progressindicator.html)</a> dialog still wrongly uses a dark green color from the Holo Dark theme when it should use <code>colorPrimary</code> according to Google's material theme guidelines.
<a href="https://material.io/components/progress-indicators/android#using-progress-indicators" rel="nofollow" target="_blank">https://material.io/components/progress-indicators/android#using-progress-indicators</a>

*Note:*
This is not an issue with the [Ti.UI.ProgressBar](<a href="https://titaniumsdk.com/api/titanium/ui/progressbar.html)" rel="nofollow" target="_blank">https://titaniumsdk.com/api/titanium/ui/progressbar.html)</a> view.

*Steps to reproduce:*
<h4>Build and run the below code on Android.</h4>
<h4>Tap on the "Show Determinate Progress" button.</h4>
<h4>Notice the progress bar is green instead of blue.</h4>
<h4>Tap on the "Show Indeterminate Progress" button.</h4>
<h4>Notice the progress circle is green instead of blue.</h4>

<code><pre>
const window = Ti.UI.createWindow({ layout: "vertical" });
const button1 = Ti.UI.createButton({
	title: "Show Determinant Progress",
	top: 40,
});
button1.addEventListener("click", () => {
	const dialog = Ti.UI.Android.createProgressIndicator({
		message: "Loading...",
		value: 0,
		min: 0,
		max: 100,
		location: Ti.UI.Android.PROGRESS_INDICATOR_DIALOG,
		type: Ti.UI.Android.PROGRESS_INDICATOR_DETERMINANT,
	});
	dialog.show();
	const timerId = setInterval(() => {
		if (dialog.value < dialog.max) {
			dialog.value++;
		} else {
			dialog.hide();
			clearInterval(timerId);
		}
	}, 50);
});
window.add(button1);
const button2 = Ti.UI.createButton({
	title: "Show Indeterminant Progress",
	top: 40,
});
button2.addEventListener("click", () => {
	const dialog = Ti.UI.Android.createProgressIndicator({
		message: "Loading...",
		location: Ti.UI.Android.PROGRESS_INDICATOR_DIALOG,
		type: Ti.UI.Android.PROGRESS_INDICATOR_INDETERMINANT,
	});
	dialog.show();
	setTimeout(() => {
		dialog.hide();
	}, 2000);
});
window.add(button2);
window.open();
</pre></code>

*Result:*
Progress bar wrongly uses the color green from the Holo Dark's theme.
 !Determinate-Bad.png|thumbnail!  !Indeterminate-Bad.png|thumbnail! 

*Expected Result:*
Progress bar should use theme's "colorPrimary" instead.
 !Determinate-Good.png|thumbnail!  !Indeterminate-Good.png|thumbnail! 

*Work-Around:*
Set the following color styles in your custom theme to change the dialog's progress bar color.
<code><pre>
<?xml version="1.0" encoding="utf-8"?>
<resources>
	<style name="MyTheme" parent="@style/Theme.Titanium.DayNight">
		<item name="android:indeterminateTint">?attr/colorPrimary</item>
		<item name="android:progressTint">?attr/colorPrimary</item>
	</style>
</resources>
</pre></code>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-28576_68031/Determinate-Bad.png">Determinate-Bad.png</td></td><td>2021-11-05T04:52:53.000+0000</td><td>432322</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-28576_68033/Determinate-Good.png">Determinate-Good.png</td></td><td>2021-11-05T04:52:53.000+0000</td><td>432372</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-28576_68030/Indeterminate-Bad.png">Indeterminate-Bad.png</td></td><td>2021-11-05T04:52:53.000+0000</td><td>429130</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-28576_68032/Indeterminate-Good.png">Indeterminate-Good.png</td></td><td>2021-11-05T04:52:51.000+0000</td><td>429379</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-11-05

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/13167" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/13167</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-28576.json">JSON Source</a></p>