---
title: "[TIMOB-28577] Android: StatusBar/NavBar icons may be wrongly dark if window \"theme\" is set and app uses Titanium \"Solid\" light theme"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>In Review</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 10.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 10.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, theme</td></tr>
<tr><th>Reporter</th><td>Joshua Quick</td></tr>
<tr><th>Assignee</th><td>Joshua Quick</td></tr>
<tr><th>Created</th><td>2021-11-06T03:05:40.000+0000</td></tr>
<tr><th>Updated</th><td>2021-11-06T03:21:12.000+0000</td></tr>
</table>

<h3>Description</h3>

*Summary:*
When setting a <code>Ti.UI.Window</code> "theme" property to a dark theme, the status bar and navigation bar icons may wrongly be dark if app uses the <code>Theme.Titanium.DayNight.Solid</code> or <code>Theme.Titanium.Light.Solid</code>. This means dark icons may appear on a dark background, making them hard to see.

Titanium's "Solid" themes are used by default as of Titanium 10.1.0.

*Steps to reproduce:*
<h4>Set up an Android device to "Light" mode. (Not dark mode.)</h4>
<h4>Build and run the below code on that device.</h4>
<h4>Tap on the "Theme.Titanium.Dark" button.</h4>
<h4>Notice status bar and nav bar icons are wrongly dark on a dark black background.</h4>
<h4>Navigate back to parent window.</h4>
<h4>Tap on the "Theme.Titanium.Dark.Solid" button.</h4>
<h4>Notice status bar and nav bar icons are wrongly dark on a dark gray background.</h4>
<h4>Navigate back to parent window.</h4>
<h4>Tap on the "Theme.Titanium.Light" button.</h4>
<h4>Notice status bar and nav bar icons are wrongly dark on a dark blue background.</h4>

<code><pre>
const parentWindow = Ti.UI.createWindow({
	title: "Select Child Theme",
	extendSafeArea: false,
});
const tableView = Ti.UI.createTableView({
	data: [
		Ti.UI.createTableViewRow({ title: "Theme.Titanium.Dark" }),
		Ti.UI.createTableViewRow({ title: "Theme.Titanium.Dark.Solid" }),
		Ti.UI.createTableViewRow({ title: "Theme.Titanium.Light" }),
		Ti.UI.createTableViewRow({ title: "Theme.Titanium.Light.Solid" }),
	],
});
tableView.addEventListener("click", (e) =&gt; {
	const childWindow = Ti.UI.createWindow({
		title: e.row.title,
		theme: e.row.title,
	});
	const closeButton = Ti.UI.createButton({ title: "Close" });
	closeButton.addEventListener("click", () =&gt; {
		childWindow.close();
	});
	childWindow.add(closeButton);
	childWindow.open();
});
parentWindow.add(tableView);
parentWindow.open();
</pre></code>

*Cause:*
The <code>Ti.UI.Window</code> "theme" property acts like an "overlay" and copies the theme's setting on top of the application's theme settings. The above test case's themes that have this dark icon issue do not set the <code>android:windowLightStatusBar</code> and <code>android:windowLightNavigationBar</code> attributes to <code>false</code> and end up wrongly inheriting the app's theme which sets these attributes to <code>true</code>. The solution is to set this attribute in all Titanium themes to avoid this issue.


<h3>Comments</h3>

<ol>
<li>Joshua Quick 2021-11-06

   PR (master): <a href="https://github.com/appcelerator/titanium_mobile/pull/13168" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/13168</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-28577.json">JSON Source</a></p>