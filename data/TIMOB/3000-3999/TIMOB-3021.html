---
title: "[TIMOB-3021] Android: Build fails with svn in the source tree"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-09-02T14:41:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-35, Release 1.8.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jon Alter</td></tr>
<tr><th>Assignee</th><td>Vikramjeet Singh</td></tr>
<tr><th>Created</th><td>2011-04-15T03:34:55.000+0000</td></tr>
<tr><th>Updated</th><td>2011-09-13T10:00:39.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Hi,</p>
<p>I was playing around with the 1.6 SDK today and tried to build
one of my projects against it. Much to my surprise, I got an error
the first time out. After playing around, I discovered that it was
my version control system (Subversion) that was causing the
crashes. It seems that builder.py is querying all files and
directories and not excluding certain one's like .svn Anyways, I
deleted all of my .svn directories and everything worked fine.
Below is the trace output from my build error. To reproduce this
error, all you have to do is check out a titanium project from
subversion, touch the tiapp.xml file to get a full re-build and
presto, here it is!</p>
<p><a href="/projects/32238/changesets/INFO" title=
"Changeset [INFO]">[INFO]</a> Building Health Watch for Android ...
one moment <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a>
C:\ProgramData\Android\android-sdk-windows\platform-tools\adb.exe
start-server <a href="/projects/32238/changesets/INFO" title=
"Changeset [INFO]">[INFO]</a> Titanium SDK version: 1.6.0 (02/01/11
17:45 a632082...) <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> Waiting for device to be ready ...
<a href="/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> adb devices returned 2
devices/emulators <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> Device connected... (waited 0
seconds) <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> waited 0.058000 seconds on emulator
to get ready <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a>
C:\ProgramData\Android\android-sdk-windows\platform-tools\adb.exe
-e shell ls /data/app/org.rarely.apps.healthwatch.apk <a href=
"/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> org.rarely.apps.healthwatch
installed? False <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a>
C:\ProgramData\Android\android-sdk-windows\platform-tools\adb.exe
-e shell ls
/sdcard/Ti.debug/org.rarely.apps.healthwatch/Resources/app.js
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> org.rarely.apps.healthwatch
resources installed? False <a href=
"/projects/32238/changesets/INFO" title=
"Changeset [INFO]">[INFO]</a> Copying project resources.. <a href=
"/projects/32238/changesets/INFO" title=
"Changeset [INFO]">[INFO]</a> Detected tiapp.xml change, forcing
full re-build... <a href="/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> COPYING CREATED FILE:
C:\Projects\Health Watch\Resources\android\appicon.png =&gt;
C:\Projects\Health
Watch\build\android\bin\assets\Resources\appicon.png <a href=
"/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> COPYING CREATED FILE:
C:\Projects\Health Watch\Resources\android\default.png =&gt;
C:\Projects\Health
Watch\build\android\bin\assets\Resources\default.png <a href=
"/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> COPYING CREATED FILE:
C:\Projects\Health Watch\Resources\app.js =&gt; C:\Projects\Health
Watch\build\android\bin\assets\Resources\app.js <a href=
"/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> COPYING CREATED FILE:
C:\Projects\Health Watch\Resources\default_app_logo.png =&gt;
C:\Projects\Health
Watch\build\android\bin\assets\Resources\default_app_logo.png
<a href="/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> COPYING CREATED FILE:
C:\Projects\Health Watch\Resources\KS_nav_ui.png =&gt;
C:\Projects\Health
Watch\build\android\bin\assets\Resources\KS_nav_ui.png <a href=
"/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> COPYING CREATED FILE:
C:\Projects\Health Watch\Resources\KS_nav_views.png =&gt;
C:\Projects\Health
Watch\build\android\bin\assets\Resources\KS_nav_views.png <a href=
"/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> Generating Java Classes <a href=
"/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module analytics, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-analytics.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module android, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-android.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> adding required library:
titanium.jar <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> adding required library:
ti-commons-codec-1.3.jar <a href="/projects/32238/changesets/DEBUG"
title="Changeset [DEBUG]">[DEBUG]</a> adding required library:
smalljs.jar <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> adding required library:
jaxen-1.1.1.jar <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module ui, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-ui.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module app, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-app.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module api, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-api.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module filesystem, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-filesystem.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module media, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-media.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module json, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-json.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module locale, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-locale.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> Detecting modules in
C:\Projects\Health Watch\modules <a href=
"/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> Detecting modules in
C:\ProgramData\Titanium\modules <a href=
"/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> Generating C:\Projects\Health
Watch\build\android\gen\org\rarely\apps\healthwatch\HealthWatchAppInfo.java
<a href="/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> Generating C:\Projects\Health
Watch\build\android\AndroidManifest.xml <a href=
"/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> Generating C:\Projects\Health
Watch\build\android\gen\org\rarely\apps\healthwatch\HealthWatchApplication.java
<a href="/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> Generating C:\Projects\Health
Watch\build\android\gen\org\rarely\apps\healthwatch\HealthWatchActivity.java
<a href="/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> Generating C:\Projects\Health
Watch\build\android.classpath <a href=
"/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> Generating C:\Projects\Health
Watch\build\android.project <a href=
"/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> Generating C:\Projects\Health
Watch\build\android\default.properties <a href=
"/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> Skipping copying gitignore -&gt;
.gitignore because already exists <a href=
"/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module analytics, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-analytics.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module android, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-android.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> adding required library:
titanium.jar <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> adding required library:
ti-commons-codec-1.3.jar <a href="/projects/32238/changesets/DEBUG"
title="Changeset [DEBUG]">[DEBUG]</a> adding required library:
smalljs.jar <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> adding required library:
jaxen-1.1.1.jar <a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module ui, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-ui.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module app, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-app.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module api, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-api.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module filesystem, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-filesystem.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module media, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-media.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module json, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-json.jar
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> detected module locale, path =
C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\modules\titanium-locale.jar
<a href="/projects/32238/changesets/INFO" title=
"Changeset [INFO]">[INFO]</a> Compiling Javascript Resources ...
<a href="/projects/32238/changesets/DEBUG" title=
"Changeset [DEBUG]">[DEBUG]</a> Processing Android resource
drawables <a href="/projects/32238/changesets/TRACE" title=
"Changeset [TRACE]">[TRACE]</a> COPYING FILE: C:\Projects\Health
Watch\Resources\android\images\res-long-land-hdpi.svn\all-wcprops
=&gt; C:\Projects\Health
Watch\build\android\res\drawable-long-land-hdpi_20f791a761.svn/all-wcprops
<a href="/projects/32238/changesets/ERROR" title=
"Changeset [ERROR]">[ERROR]</a> Error in compiler. , [Errno 2] No
such file or directory: 'C:\Projects\Health
Watch\build\android\res\drawable-long-land-hdpi\<em>20f791a761.svn/all-wcprops';
Traceback (most recent call last): File
"C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\builder.py",
line 1626, in s.build_and_run(False,avd_id) File
"C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\builder.py",
line 1392, in build_and_run self.copy_resource_drawables() File
"C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\builder.py",
line 501, in copy_resource_drawables copy_resource_drawable(f) File
"C:\ProgramData\Titanium\mobilesdk\win32\1.6.0\android\builder.py",
line 481, in copy_resource_drawable shutil.copy(orig, dest) File
"C:\Python25\lib\shutil.py", line 85, in copy copyfile(src, dst)
File "C:\Python25\lib\shutil.py", line 52, in copyfile fdst =
open(dst, 'wb') IOError: [Errno 2] No such file or directory:
'C:\Projects\Health
Watch\build\android\res\drawable-long-land-hdpi\</em>20f791a761.svn/all-wcprops'</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-3021_22325/android (2).zip">android (2).zip</td></td><td>2011-08-08T10:47:32.000+0000</td><td>1617862</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>newgen 2011-04-15

   <div><p>i had the same problem here.</p>
   <p>can be fixed by adding the following lines in the file
   "android\builder.py", function "copy_resource_drawable" after the
   line 468:</p>
   <p>if '.svn' in orig:<br></p>
   <pre>
   <code>return</code>
   </pre></div></li>
<li>Jon Alter 2011-08-08

   I have attached and archive named "android (2).zip" that you can use to reproduce this error.
   
   Step 1: replace the android folder in your project with the one in the archive.
   Step 2: run your application
   Step 3: see the build fail (console log below)
   
   <code><pre>
   [DEBUG] Processing Android resource drawables 
   [TRACE] COPYING FILE: /Users/wizard/Documents/development/svn/products/eventsentry/mobile/Resources/android/images/res-long-land-hdpi/KS_nav_networkstatus.png =&gt; /Users/wizard/Documents/development/svn/products/eventsentry/mobile/build/android/res/drawable-long-land-hdpi/ks_nav_networkstatus_d1a7f6f713.png 
   [TRACE] COPYING FILE: /Users/wizard/Documents/development/svn/products/eventsentry/mobile/Resources/android/images/res-long-land-hdpi/.svn/all-wcprops =&gt; /Users/wizard/Documents/development/svn/products/eventsentry/mobile/build/android/res/drawable-long-land-hdpi/_20f791a761.svn/all-wcprops [ERROR] Exception occured while building Android project: 
   [ERROR] Traceback (most recent call last): [ERROR] File "/Users/wizard/Library/Application Support/Titanium/mobilesdk/osx/1.7.2/android/builder.py", line 1958, in &lt;module&gt; 
   [ERROR] s.build_and_run(False, avd_id, debugger_host=debugger_host) 
   [ERROR] File "/Users/wizard/Library/Application Support/Titanium/mobilesdk/osx/1.7.2/android/builder.py", line 1729, in build_and_run 
   [ERROR] self.resource_drawables_changed = self.copy_resource_drawables() 
   [ERROR] File "/Users/wizard/Library/Application Support/Titanium/mobilesdk/osx/1.7.2/android/builder.py", line 563, in copy_resource_drawables 
   [ERROR] copy_resource_drawable(f) 
   [ERROR] File "/Users/wizard/Library/Application Support/Titanium/mobilesdk/osx/1.7.2/android/builder.py", line 538, in copy_resource_drawable 
   [ERROR] shutil.copy(orig, dest) 
   [ERROR] File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py", line 116, in copy [ERROR] copyfile(src, dst) 
   [ERROR] File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/shutil.py", line 82, in copyfile 
   [ERROR] with open(dst, 'wb') as fdst: 
   [ERROR] IOError: [Errno 2] No such file or directory: '/Users/wizard/Documents/development/svn/products/eventsentry/mobile/build/android/res/drawable-long-land-hdpi/_20f791a761.svn/all-wcprops'
   </pre></code>
   
   <h4>Tested using</h4>
   TiSDK 1.7.2
   Android Emulator 2.2
   
   <h4>Workaround</h4>
   Confirmed above workaround works
   Add the following lines to "android/build.py" at line 526 for SDK 1.7.2
   <code><pre>
   if '.svn' in orig:
   	return
   </pre></code>
   
   <h4>Associated Helpdesk Ticket</h4>
   <a href="http://appc.me/c/APP-826844" rel="nofollow" target="_blank">http://appc.me/c/APP-826844</a></li>
<li>Jon Alter 2011-09-01

   <h4>Associated Helpdesk Ticket</h4>
   <a href="http://appc.me/c/APP-959943" rel="nofollow" target="_blank">http://appc.me/c/APP-959943</a></li>
<li>Jon Alter 2011-09-01

   Confirmed fixed with: 
   TiSDK 1.8.0.v20110828131421
   Android Emulator 2.2</li>
<li>Don Thorp 2011-09-02

   Updating status to confirm fixed.</li>
<li>Vikramjeet Singh 2011-09-13

   Resolved.
   
   Tested on:
   Mac OSX Lion
   TiMob: 1.8.0.v20110906155354
   TiStud: 1.0.5.201109091616
   
   Devices Used:
   Android Emulator 2.2
   Droid3
   Google Nexus S</li>
</ol>


<p><a href="/TIMOB/TIMOB-3021.json">JSON Source</a></p>