---
title: "[TIMOB-3109] Blur & MODAL_PRESENTATION_FORMSHEET == Keyboard not hiding."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Hold</td></tr>
<tr><th>Resolution Date</th><td>2011-07-05T16:05:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-27</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>blur, defect, ios, keyboard, modalstyle, reported-1.5.1, reported-1.6.0</td></tr>
<tr><th>Reporter</th><td>Sam Jordan</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-04-15T03:37:13.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T21:16:08.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>I've found out that when a textField is on a modal window, with
a modalStyle set to the constant of
<strong>Titanium.UI.iPhone.MODAL_PRESENTATION_FORMSHEET</strong>
the keyboard is not able to loose focus properly.</p>
<p>What happens when blur() is called is cursor focus is lost from
the textField yet the keyboard remains on the screen and is
unresponsive to touch events. I have written a small app.js so that
this bug can be reproduced.</p>
<p>Running Titanium Developer v1.2.2 on OSX 10.6.6 and Titanium SDK
v1.5.1 on an iPad Project (simulator and device). I'm 99.9% sure
it's this line<br>
<em>"modalStyle:
Titanium.UI.iPhone.MODAL_PRESENTATION_FORMSHEET"</em> as removing
it fixes the problem.</p>
<pre>
<code class="javascript">var window = Titanium.UI.createWindow({
    backgroundColor: '#eee'
});

var textField = Titanium.UI.createTextField({
    height:35,
    top:300,
    width:350,
    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED
});

textField.addEventListener('return', function(e) {
    textField.blur();
});

window.add(textField);
window.open({
    modal:true,
    modalTransitionStyle: Titanium.UI.iPhone.MODAL_TRANSITION_STYLE_FLIP_HORIZONTAL,
    modalStyle: Titanium.UI.iPhone.MODAL_PRESENTATION_FORMSHEET
});</code>
</pre></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-3109_21629/Modality.zip">Modality.zip</td></td><td>2011-07-05T16:03:04.000+0000</td><td>28791</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>kosso 2011-04-15

   <div><p>I'm also seeing this on the iPad using the current 1.7.0 SDK in
   github with textFields on a MODAL_PRESENTATION_FORMSHEET modal
   window.</p>
   <p>textfield.blur() removes the caret, but the keyboard is still
   up.</p></div></li>
<li>Pedro Enrique 2011-05-02

   We have a Helpdesk ticket that needs this fixed as well.
   
   <a href="http://support.appcelerator.com/tickets/ZKE-13322-962/homepage" rel="nofollow" target="_blank">http://support.appcelerator.com/tickets/ZKE-13322-962/homepage</a>
   
   Ti SDK 1.6.2 and iOS 4.3</li>
<li>Alan Leard 2011-06-30

   Here is another HD ticket waiting for resolution: <a href="http://support-admin.appcelerator.com/display/APP-714669" rel="nofollow" target="_blank">http://support-admin.appcelerator.com/display/APP-714669</a></li>
<li>Blain Hamon 2011-07-05

   This XCode project demonstrates how the behavior is designed by Apple even outside of Titanium.</li>
<li>Blain Hamon 2011-07-05

   Turns out this is by Apple's design. I was successfully able to recreate the behavior natively (Not using Titanium) and indeed the OS keeps the keyboard up when the modal is a form sheet.</li>
<li>Blain Hamon 2013-07-17

   6060 is a feature request to allow for the nonstandard functionality of keyboard hiding on a formsheet.</li>
<li>Lee Morris 2017-03-21

   Closing ticket due to the time that has passed since it was filed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-3109.json">JSON Source</a></p>