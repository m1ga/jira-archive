---
title: "[TIMOB-3123] Android: webview link with new or blank target (ie \"popup\") does not open"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-04-02T10:53:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.0.0, Sprint 2012-06</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>klist, module_webview, parity, qe-testadded, reported-1.6.0, rplist</td></tr>
<tr><th>Reporter</th><td>Paul Dowsett</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-04-15T03:37:29.000+0000</td></tr>
<tr><th>Updated</th><td>2012-04-02T10:53:33.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Android "APIs 2.2" / Titanium 1.6.0 (11 Feb 2011)</p>
<p>It isn't surprising that this does not work, but I am creating
the ticket in the interests of completeness, as the issue has been
opened for iOS in ticket <a href="/projects/32238/tickets/1603"
title="Ticket #1603">#1603</a> and seems to be confirmed by core
devs. Note that the iOS ticket claims that these types of links can
be browsed on iOS 4.</p>
<p>Clicking a link in a webview that has a target (new, blank) that
would ordinarily open a new window in a standard browser is
ignored. The following code demonstrates the behavior:</p>
<pre>
<code class="javascript">var win = Ti.UI.createWindow({
    backgroundColor: 'white',
    exitOnClose:true
});

Titanium.UI.setBackgroundColor('#000');

var webView = Ti.UI.createWebView({
    url: "<a href="http://www.cnn.com/2010/TECH/social.media/08/12/delta.facebook.ticket.window/index.html" rel="nofollow" target="_blank">http://www.cnn.com/2010/TECH/social.media/08/12/delta.facebook.ticket.window/index.html</a>",
    top: 0,
    left: 0,
    width: '100%',
    height: '100%'  
});

webView.addEventListener('load',function(e) {
    Ti.API.info("Load event caught with: " + e.url);
});

webView.addEventListener('beforeload',function(e) {
    Ti.API.info("beforeload event caught with: " + e.url);
});

win.add(webView);

win.open();</code>
</pre>
<p>The built-in browser <strong>does</strong> recognize the
link:</p>
<pre>
<code class="javascript">var win = Ti.UI.createWindow({
    backgroundColor: 'white',
    exitOnClose:true
});


Titanium.UI.setBackgroundColor('#000');

win.open();
Ti.Platform.openURL('<a href="http://www.cnn.com/2010/TECH/social.media/08/12/delta.facebook.ticket.window/index.html" rel="nofollow" target="_blank">http://www.cnn.com/2010/TECH/social.media/08/12/delta.facebook.ticket.window/index.html</a>');</code>
</pre></div>

<h3>Comments</h3>

<ol>
<li>Rick Blalock 2011-04-15

   <div><p>I've confirmed this as well. target _blank will not open at all
   in our webView. On iOS it opens in the current webView in which it
   was clicked.</p>
   <p>HD ticket: <a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/76367" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/76367</a>"><a href="http://developer.appcelerator.com/helpdesk/view/76367" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/76367</a></a></p></div></li>
<li>Dawson Toth 2011-04-15

   <div><p>rplist'd, klist'd, added TBS Milestone</p></div></li>
<li>Wilson Luu 2011-11-01

   Bug is still valid, occurs in:
   TiMOB sdk version: 1.8.0.v20111031173855
   Studio version: 1.0.6.201110251616
   OS version: Mac OS X Lion
   Devices tested on: Droid 2.2.2, Galaxy Tab 3.1</li>
<li>Devang Gandhi 2012-01-30

   Another case here:
   <a href="http://support-admin.appcelerator.com/display/APP-871916" rel="nofollow" target="_blank">http://support-admin.appcelerator.com/display/APP-871916</a>
   
   The web view is loaded on iOS, but not on android.
   </li>
<li>Daniel Urstoeger 2012-01-31

   you can temporary fix it like this:
   <code><pre>
   webview.addEventListener('load',function(e)
   {
    var content = webview.evalJS("document.body.innerHTML = document.body.innerHTML.replace(/target=\"_blank\"/gi,'');");
   });
   </pre></code></li>
<li>Wilson Luu 2012-03-21

   Reopening bug. Still persists on:
   
   SDK build: 2.0.0.v20120321071752
   Runtime: v8, rhino
   Titanium Studio, build: 2.0.0.201203202130
   Device: Droid 1 (2.2.3)
   
   Note:
   * Above code still works on iOS
   * I noticed some interesting logs in logcat. But, not sure if it's related:
   <code><pre>
   I/TiWebChromeClient.console( 1823): (main) [1303,48838] Uncaught illegal access (1:<a href="https://s-static.ak.facebook.com/xd_localstorage/v2)" rel="nofollow" target="_blank">https://s-static.ak.facebook.com/xd_localstorage/v2)</a>
   I/TiAPI   ( 1823): Load event caught with: <a href="http://www.cnn.com/2010/TECH/social.media/08/12/delta.facebook.ticket.window/index.html" rel="nofollow" target="_blank">http://www.cnn.com/2010/TECH/social.media/08/12/delta.facebook.ticket.window/index.html</a>
   I/TiWebChromeClient.console( 1823): (main) [1167,50005] Uncaught illegal access (1:<a href="https://s-static.ak.facebook.com/xd_localstorage/v2)" rel="nofollow" target="_blank">https://s-static.ak.facebook.com/xd_localstorage/v2)</a>
   </pre></code></li>
<li>Wilson Luu 2012-03-22

   </li>
<li>Michael Pettiford 2012-04-02

   Reopening/closing to add/remove labels</li>
</ol>


<p><a href="/TIMOB/TIMOB-3123.json">JSON Source</a></p>