---
title: "[TIMOB-3163] Tooling: Android Built-in Modules Need Native Resource Support"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-05-06T10:13:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-11</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, enterprise, feature, release-1.7.0, reported-1.6.0, rplist, tooling</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:38:25.000+0000</td></tr>
<tr><th>Updated</th><td>2011-05-06T10:13:38.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Ticket <a href="/projects/32238/tickets/3161" title=
"Ticket #3161">#3161</a> needs support added to the Android build
to allow native resources to be used in components. For example the
cancel icon on searchbar needs to be density aware. I can also
forsee needing localization support as well.</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/ff2481b711104cb7726133642b3b6268ab1f39e8"
   title=
   "Changeset [ff2481b711104cb7726133642b3b6268ab1f39e8]">[ff2481b711104cb7726133642b3b6268ab1f39e8]</a>)
   Oops, forgot to actually add the button pngs themselves. [<a href=
   "/projects/32238/tickets/3163" title="Ticket #3163">#3163</a>]
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/ff2481b711104cb7726133642b3b6268ab1f39e8" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/ff2481b711104cb7726133642b3b6268ab1f39e8</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/ff2481b71110..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/ff2481b71110...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/87c5438f84f8469f790b2e3e41b9e4a731596b40"
   title=
   "Changeset [87c5438f84f8469f790b2e3e41b9e4a731596b40]">[87c5438f84f8469f790b2e3e41b9e4a731596b40]</a>)
   Eliminate zip task warnings that were occurring for each module
   that didn't have a res file. [<a href=
   "/projects/32238/tickets/3163" title="Ticket #3163">#3163</a>]
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/87c5438f84f8469f790b2e3e41b9e4a731596b40" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/87c5438f84f8469f790b2e3e41b9e4a731596b40</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/87c5438f84f8..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/87c5438f84f8...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/0dc764d5d260b291e6423b4aecf6afb66696ea69"
   title=
   "Changeset [0dc764d5d260b291e6423b4aecf6afb66696ea69]">[0dc764d5d260b291e6423b4aecf6afb66696ea69]</a>)
   Move the facebook login/logout buttons also into the facebook
   module res folder, and change the LoginButton.java's handling of
   the button images to use these resources. [<a href=
   "/projects/32238/tickets/3163" title="Ticket #3163">#3163</a>]
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/0dc764d5d260b291e6423b4aecf6afb66696ea69" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/0dc764d5d260b291e6423b4aecf6afb66696ea69</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/0dc764d5d260..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/0dc764d5d260...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/17444de26227b98acb48863da827a5b21bf551fc"
   title=
   "Changeset [17444de26227b98acb48863da827a5b21bf551fc]">[17444de26227b98acb48863da827a5b21bf551fc]</a>)
   Remove "close.png",which is not used anywhere [<a href=
   "/projects/32238/tickets/3163" title="Ticket #3163">#3163</a>]
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/17444de26227b98acb48863da827a5b21bf551fc" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/17444de26227b98acb48863da827a5b21bf551fc</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/17444de26227..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/17444de26227...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>Also these commits. Lord only knows how the agent decides to not
   list some commits.</p>
   <p><a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/17444de26227b98acb48863da827a5b21bf551fc" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/17444de26227b98acb48863da827a5b21bf551fc</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/17444de26227..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/17444de26227...</a></a></p>
   <p><a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/14b5ed3c21c12180a575ecc3ea3f9c5cd5b1f046" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/14b5ed3c21c12180a575ecc3ea3f9c5cd5b1f046</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/14b5ed3c21c1..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/14b5ed3c21c1...</a></a></p>
   <p><a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/26a407c3c16430966fcbd597f3769973b87a0fdd" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/26a407c3c16430966fcbd597f3769973b87a0fdd</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/26a407c3c164..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/26a407c3c164...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>QE testing:</p>
   <p>Use this app.js:</p>
   <pre>
   <code class="javascript">Titanium.UI.setBackgroundColor('#000');
   var win = Titanium.UI.createWindow({  
       title:'Test', backgroundColor:'#000', exitOnClose: true
   });
   
   // This just ensures our Facebook module gets included 
   // when the app is built.
   Ti.Facebook.appid=1; 
   
   win.add( Ti.UI.createImageView({
       image: Ti.App.Android.R.drawable.facebook_icon,
       width: 'auto', height: 'auto'
   }));
   
   win.open();</code>
   </pre>
   <p>When you run it, you should see the small Facebook icon. What is
   this proving?? That facebook resources are included in your
   application (you accessed them with the
   <code>Ti.App.Android.R.drawable.facebook_icon</code> line of code).
   The facebook resources got included in your app because you have a
   line of code that accesses the facebook module:
   <code>Ti.Facebook.appid=1</code>.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/fe5dc17191186669f6118f91db37311fb50c6bbf"
   title=
   "Changeset [fe5dc17191186669f6118f91db37311fb50c6bbf]">[fe5dc17191186669f6118f91db37311fb50c6bbf]</a>)
   Drillbit test for module resource packaging [<a href=
   "/projects/32238/tickets/3163" title="Ticket #3163">#3163</a>]
   <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/fe5dc17191186669f6118f91db37311fb50c6bbf" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/fe5dc17191186669f6118f91db37311fb50c6bbf</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/fe5dc1719118..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/fe5dc1719118...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>Need to re-open this because it fails on Windows. Apparently
   Python ZipFile module as packaged in Windows does not include the
   <code>extractall</code> method, which I'm using for this.</p></div></li>
<li>Bill Dawson 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/03daaf2fb140055184a57a0c7c14bb70c35f25b8"
   title=
   "Changeset [03daaf2fb140055184a57a0c7c14bb70c35f25b8]">[03daaf2fb140055184a57a0c7c14bb70c35f25b8]</a>)
   In builder.py, when using python zipfile to get module resources,
   extract them manually since extractall() is not available in python
   2.5. [<a href="/projects/32238/tickets/3163" title=
   "Ticket #3163">#3163</a>] <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/03daaf2fb140055184a57a0c7c14bb70c35f25b8" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/03daaf2fb140055184a57a0c7c14bb70c35f25b8</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/03daaf2fb140..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/03daaf2fb140...</a></a></p></div></li>
<li>Bill Dawson 2011-04-15

    <div><p>QE: Same testing instructions above (March 22nd, 2011 @ 05:35 PM
    comment). But you may want to run it on Windows as well just to be
    sure.</p></div></li>
<li>Bill Dawson 2011-04-15

    <div><p>(from <a href=
    "/projects/32238/changesets/659ed91cdb000cb8cdc4ed0f5c86d3c0d69e9a53"
    title=
    "Changeset [659ed91cdb000cb8cdc4ed0f5c86d3c0d69e9a53]">[659ed91cdb000cb8cdc4ed0f5c86d3c0d69e9a53]</a>)
    Use the file-by-file zipfile extract on all platforms, not just
    windows. [<a href="/projects/32238/tickets/3163" title=
    "Ticket #3163">#3163</a>] <a href=
    "<a href="https://github.com/appcelerator/titanium_mobile/commit/659ed91cdb000cb8cdc4ed0f5c86d3c0d69e9a53" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/659ed91cdb000cb8cdc4ed0f5c86d3c0d69e9a53</a>">
    <a href="https://github.com/appcelerator/titanium_mobile/commit/659ed91cdb00..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/659ed91cdb00...</a></a></p></div></li>
<li>Don Thorp 2011-05-06

    Tested on Nexus One 2.3.4</li>
</ol>


<p><a href="/TIMOB/TIMOB-3163.json">JSON Source</a></p>