---
title: "[TIMOB-3180] Android: JAVA_HOME not recognized when launching some Android applications"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-12-19T18:27:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 23, 2013 Sprint 23 Core, 2013 Sprint 26, 2013 Sprint 26 Core, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android, Tooling</td></tr>
<tr><th>Labels</th><td>androidbuild, cb-verified, core</td></tr>
<tr><th>Reporter</th><td>Jonathan Knapp</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2011-04-15T03:38:57.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-19T19:04:11.000+0000</td></tr>
</table>

<h3>Description</h3>

Googled and found that spaces in the Java paths would create complications: <a href="http://developer.appcelerator.com/question/34701/error-jdk-version-javac-is-not-recognized-as-an-internal-or-external-command-testing-on-android" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/34701/error-jdk-version-javac-is-not-recognized-as-an-internal-or-external-command-testing-on-android</a>

We moved the JDK location to C:\Java\java-jdk-folder and it appeared to work fine after updating JAVA_HOME and the Path environment variables to the new location.

<h3>Comments</h3>

<ol>
<li>Jonathan Knapp 2011-04-15

   <div><p>This problem appeared when compiling the app from within
   Titanium, so I'm guessing it doesn't play nice with path names with
   spaces in them.</p></div></li>
<li>Chris Barber 2013-11-11

   Pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/4930" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4930</a></li>
<li>Chris Barber 2013-11-11

   To test, try setting JAVA_HOME to nothing, a path that is not the Java JDK home dir, and a path that is the Java JDK home dir. For each JAVA_HOME value, do a Android device build which will encrypt the JS and trigger "titanium_prep".</li>
<li>Samuel Dowse 2013-12-18

   Reopening based on conversation with [~cbarber].
   
   JAVA_HOME if set in incorrect location will throw an error.
   JAVA_HOME if set in correct location will build successfully.
   JAVA_HOME if not set at all will throw an error.
   
   <code><pre>C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\longjohn\dist\longjohn.js:184
           throw e;
                 ^
   TypeError: Arguments to path.resolve must be strings
       at exports.resolve (path.js:116:15)
       at Object.realpathSync (fs.js:1207:18)
       at C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\node-appc\lib\jdk.js:108:28
       at Array.forEach (native)
       at C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\node-appc\lib\jdk.js:107:29
       at C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:530:17
       at C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:116:25
       at C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:24:16
       at C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:527:21
       at C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\node-appc\lib\jdk.js:98:6
   ---------------------------------------------
       at C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:693:21
       at Array.forEach (native)
       at _each (C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:32:24)
       at _insert (C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:678:11)
       at q.push (C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:705:15)
       at findExecutable (C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\node-appc\lib\subprocess.js:113:8)
       at tasks.(anonymous function) (C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\node-appc\lib\jdk.js:97:5)
       at C:\Users\tester\AppData\Roaming\npm\node_modules\titanium\node_modules\async\lib\async.js:521:25</pre></code></li>
<li>Chris Barber 2013-12-18

   node-appc master pull request: <a href="https://github.com/appcelerator/node-appc/pull/77" rel="nofollow" target="_blank">https://github.com/appcelerator/node-appc/pull/77</a>
   node-appc 3.2.x pull request: <a href="https://github.com/appcelerator/node-appc/pull/79" rel="nofollow" target="_blank">https://github.com/appcelerator/node-appc/pull/79</a></li>
<li>Lokesh Choudhary 2013-12-19

   Uninstalled CLI 3.2.0-cr3 & reinstalled it but still can see the issue. I think it does not have the new changes in node-appc which fixes this issue.
   Reopening.
   
   Environment:
   Appcel Studio : 3.2.0.201312181652
   Ti SDK : 3.2.0.v20131218153242
   Mac OSX : 10.8.5
   Alloy : 1.3.0-cr2	
   CLI - 3.2.0-cr3</li>
<li>Chris Barber 2013-12-19

   @Lokesh, you have to install the Titanium CLI from git:
   
   <code><pre>
   sudo npm install -g git://github.com/appcelerator/titanium.git#3_2_X
   </pre></code></li>
<li>Lokesh Choudhary 2013-12-19

   Pulled CLI from <code><pre>sudo npm install -g git://github.com/appcelerator/titanium.git#3_2_X</pre></code> & could not reproduce the issue.
   tested by setting:
   JAVA_HOME to invalid path
   JAVA_HOME to none
   In both cases the jdk was successfully detected.
   
   Closing.
   
   Environment:
   Ti sdk : 3.2.0.v20131218153242
   Appc studio :  3.2.0.201312181652
   CLI : from sudo npm install -g git://github.com/appcelerator/titanium.git#3_2_X
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-3180.json">JSON Source</a></p>