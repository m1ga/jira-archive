---
title: "[TIMOB-3202] Android Bug: height or width set to 'auto' not available to reference"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-05-17T14:06:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, auto, defect, height, klist, label, reported-1.6.0, rplist, width</td></tr>
<tr><th>Reporter</th><td>Alan Leard</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:39:19.000+0000</td></tr>
<tr><th>Updated</th><td>2011-05-17T14:06:44.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>If a label width or height is set to 'auto' on android you can
not reference label.width or label.size.with. Both work on iOS.</p></div>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>Fixed title, fixed tags, Please provide code that demonstrates
   the example. If this came from Helpdesk, you need to include that
   link and add the rplist tag.</p>
   <p>Also this behavior is going to be addressed in 1.7.0 as the API
   is inconsistent on both platforms.</p></div></li>
<li>Alan Leard 2011-04-15

   <div><p>Here is some testing code:</p>
   <pre>
   <code>var win = Ti.UI.createWindow();
   
   var label = Titanium.UI.createLabel({
       text:'Text',
       color:'#000000',
       font:{ fontFamily:'Helvetica Neue', fontSize:18, fontWeight:'bold'},
       textAlign:'left',
       left:15,
       top:2,
       height:26,
       width:'auto'
   });
   
   win.add(label);
   
   alert('label.width: '+label.width);
   
   alert('label.height: '+label.height);
   
   alert('label.size.width: '+label.size.width);
   
   alert('label.size.height: '+label.size.height);
   
   win.open();</code>
   </pre>
   <p>Reference HD Ticket: <a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/74851" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/74851</a>"><a href="http://developer.appcelerator.com/helpdesk/view/74851" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/74851</a></a></p></div></li>
<li>Dawson Toth 2011-04-15

   <div><h1>Simpler Sample Code</h1>
   <pre>
   <code class="javascript">var label = Ti.UI.createLabel();
   label.height = 'auto';
   alert(label.height);</code>
   </pre>
   <h1>Tested On</h1>
   <p>Titanium SDK version: 1.6.0 (02/23/11 12:34 9882e81)<br>
   WORKS on iPhone Simulator 4.2<br>
   BROKEN on Android Device EPIC 4G 2.1</p>
   <h2>2nd Helpdesk Ticket</h2>
   <p><a href=
   "<a href="http://developer.appcelerator.com/helpdesk/view/75481" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/75481</a>"><a href="http://developer.appcelerator.com/helpdesk/view/75481" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/75481</a></a></p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>In 1.7.0 that should return the layout setting on both iOS and
   Android. Having configuration properties doubling as dynamic values
   causes all sorts of problems like this. The correct response from
   this is 'auto'</p></div></li>
<li>Dawson Toth 2011-04-15

   <div><h1>Workaround</h1>
   <p>While we fix this, the following workaround will allow you to
   achieve the same results with only a little bit more work.</p>
   <pre>
   <code class="javascript">var label = Ti.UI.createLabel();
   label.rawHeight = label.height = 'auto';
   alert(label.rawHeight);</code>
   </pre></div></li>
<li>Paul Dowsett 2011-04-25

   For the above usecase to work, the label's <code>size</code> property must be queried after the window has been opened, using the window <code>open</code> eventListener:
   
   <code><pre>
   win.addEventListener("open", function(){
   	Ti.API.info("label.size.width = " + label.size.width);
   	Ti.API.info("label.size.height = " + label.size.height);
   });
   </pre></code>
   
   Doesn't iOS require this?</li>
<li>Eric Merriman  2011-05-17

   On iOS, the test app reports: "2"
   On Android, the test app reports: "auto"
   
   I slightly modified the code:
   
   var label = Ti.UI.createLabel();
   label.height = 'auto';
    alert('Label height is: '+label.height);</li>
<li>Eric Merriman  2011-05-17

   Closing as this is correctly reporting "auto". Created new iOS bug to attempt parity. The bug is TIMOB-4123.</li>
</ol>


<p><a href="/TIMOB/TIMOB-3202.json">JSON Source</a></p>