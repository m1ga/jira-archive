---
title: "[TIMOB-3238] Android: UI - A problem with dimensions defined as percentage in nested views"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-01-10T11:49:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.6.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_views, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Ivan Skugor</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-04-15T03:40:09.000+0000</td></tr>
<tr><th>Updated</th><td>2013-11-07T05:46:28.000+0000</td></tr>
</table>

<h3>Description</h3>

I'm using latest Titanium mobile (1.6.1) and Android emulator (Galaxy Tab addon 2.2). I have problem with dimensions defined as
percentage when I put view in another view. Here is test case:

<code><pre>
  var win = Ti.UI.createWindow({
  layout: 'vertical', 
  fullscreen: true, 
  height : Ti.Platform.displayCaps.platformHeight,
  width : Ti.Platform.displayCaps.platformWidth
});

var view = Ti.UI.createView({
  layout: 'horizontal',
  height: 50,
  backgroundColor: '#ccf',
  width: '50%'
});
var nested_view = Ti.UI.createView({
  height: 50,
  backgroundColor: '#cfc',
  width: '50%'
});

view.add(nested_view);
win.add(view);
win.open();
</pre></code>

Second view, "nested_view", doesn't show at all, but I think it should and it should have half of "view" width.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-3238_24797/screenshot_458.png">screenshot_458.png</td></td><td>2011-12-21T02:53:04.000+0000</td><td>8641</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ivan Skugor 2011-04-15

   <div><p>Same problem applies to TableView. I haven't checked for other
   "views".</p></div></li>
<li>tonylukasavage1 2011-04-15

   <div><p>I'm also having the same problem as Ivan. With the following
   code I am unable to see the viewInputs view. This is the case even
   is viewInputs contains other components as well.</p>
   <p>var win = Titanium.UI.createWindow();<br>
   win.backgroundColor = '#dddddd';<br>
   win.layout = 'vertical';</p>
   <p>var viewTop = Titanium.UI.createView({<br>
   borderRadius:10, backgroundColor:'#ffffff', borderColor:'#000000',
   borderWidth:2, width:'95%', height:'20%', top:'2.5%',
   layout:'horizontal' }); win.add(viewTop);</p>
   <p>var viewInputs = Titanium.UI.createView({<br></p>
   <pre>
   <code>width:'50%',
   height:'100px',
   backgroundColor:'#ff0000',
   top:5,
   left:5,
   layout:'vertical'</code>
   </pre>
   <p>}); viewTop.add(viewInputs);</p>
   <p>win.open();</p></div></li>
<li>Joe iEntry 2011-04-15

   <div><p>I am having same issue with Ti Mobile 1.6.1 and Android 1.6
   attempting percentage width on a view (just plain view).</p></div></li>
<li>Joe iEntry 2011-04-15

   <div><h3>Workaround</h3>
   <p>To calculate percentage dimensions one can:</p>
   <pre>
   <code class=
   "javascript">var width = Math.round(Ti.Platform.displayCaps.platformWidth*0.9); // 90%
   var height = Math.round(Ti.Platform.displayCaps.platformHeight*0.9); // 90%</code>
   </pre>
   <p>Source: <a href=
   "<a href="http://developer.appcelerator.com/question/116905/subscribed" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/116905/subscribed</a>">Appcelerator
   Q&amp;A</a></p></div></li>
<li>Ivan Skugor 2011-04-15

   <div><p>That works for elements which parent element has
   "Ti.Platform.displayCaps.platformWidth" width.</p>
   <p>In general, parent's width/height can be whatever, percentages
   are there so you don't need to calculate it manually, they are
   calculated automatically depending on parent element size.</p></div></li>
<li>tonylukasavage1 2011-04-15

   <div><p>Dimensions calculated like Joe iEntry suggests don't get
   recalculated on orientation change. Dimensions specified with a
   percentage value do. This is a major problem for me in my current
   project. I can't get horizontal layouts to work with percentage
   dimensions (iPad if that matters). Instead I'm using hacks and
   custom code to do something pretty basic.<br></p>
   <p>What's going on here?</p></div></li>
<li>Joe iEntry 2011-04-15

   <div><p>I understand this is not meant for discussion, but Tony, I
   haven't tested my app with orientation change. This will be a must.
   Can you post your workaround?</p></div></li>
<li>tonylukasavage1 2011-04-15

   <div><p>I don't have code I can post right now, but the idea is to set
   dimensions like this (similar to how you stated above):</p>
   <p>child.width = parent.width * 0.5;</p>
   <p>Keep a reference to this child in an array, and then resize it
   in a Titanium.Gesture.orientationchange event handler. It sucks,
   but it works.</p></div></li>
<li>Ivan Skugor 2011-12-20

   This has been fixed a long time ago so it can be closed.
   
   
   Also, it wrongly states it's iOS issue.</li>
<li>Paul Dowsett 2011-12-21

    Reporter has indicated that this issue is fixed. The included test case proves this, using 1.8.0.1 RC3 + v8. See the attached screenshot.
    
    Please close</li>
<li>Marshall Culpepper 2011-12-21

    This was noted as fixed by Paul</li>
<li>Michael Pettiford 2012-01-10

    Closing issue
    
    Tested with Ti Studio 1.0.8.201201091758
    Ti Mob SDK 1.8.0.1
    OSX Lion
    Nexus One 2.2.2 v8 and rhino
    
    Verified expected behavior as per the test app.js and attached screentshot</li>
<li>Dustin Hyde 2012-01-10

    Added Label: qe-testadded.</li>
<li>Shameer Jan 2013-11-07

    Anvil testcase PR <a href="https://github.com/appcelerator/titanium_mobile/pull/4887" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4887</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-3238.json">JSON Source</a></p>