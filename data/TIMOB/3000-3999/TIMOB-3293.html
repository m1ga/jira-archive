---
title: "[TIMOB-3293] Ti Android architecture does not support background service invocation"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2012-09-05T15:49:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, reported-1.6.0</td></tr>
<tr><th>Reporter</th><td>Daniel Cameron</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-04-15T03:41:37.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-27T18:26:47.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Version: Titanium 1.6.0</p>
<p>The titanium mobile codebase assumes that a root activity always
exists. This assumption is not true in all scenarios (such as when
a service is started from native code) and causes titanium to
crash.</p>
<p>For example:</p>
<p>TitaniumModule.require() crashes on TiContext ctx =
invocation.getTiContext().getRootActivity().getTiContext().<br>
Background javascript services are thus unable use native android
modules (a significant issue since this is the only supported way
to extend Titanium functionality)</p></div>

<h3>Comments</h3>

<ol>
<li>Daniel Cameron 2011-04-15

   <div><p>Assigning to hopefully the correct person.</p></div></li>
<li>Daniel Cameron 2011-04-15

   <div><p>Reproduction steps (see <a href=
   "<a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/3292-js-service-does-not-start-when-called-from-android-background-service" rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/3292-js-service-does-not-start-when-called-from-android-background-service</a>">
   <a href="https://appcelerator.lighthouseapp.com/projects/32238/tickets/3292-..." rel="nofollow" target="_blank">https://appcelerator.lighthouseapp.com/projects/32238/tickets/3292-...</a></a>
   attachment for full source):</p>
   <p>Start "Ticket3292 invoker" app<br>
   Kill "Ticket3292" app<br>
   Select the "Notification from another app"<br>
   -&gt; service crashes executing requires(). (the app does not crash
   when executing the same requires() from app.js)</p>
   <p>Note: the ticket title is misleading as it's just the assumption
   that getRootActivity() will actually return something that is false
   but the issue tracking system won't let me update the title to a
   more apt one.</p>
   <p>My initial ticket had another error (app.js crashing after a
   background service was started) but as I have been unable to
   reproduce in test apps I submitted I've edited the ticket to drop
   that component as I can't be sure it's a problem with Titanium and
   not my module.</p></div></li>
<li>Junaid Younus 2012-09-05

   No test case provided, unable to reproduce, ticket marked as invalid.</li>
<li>Lee Morris 2017-03-27

   Closing ticket as Cannot Reproduce with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-3293.json">JSON Source</a></p>