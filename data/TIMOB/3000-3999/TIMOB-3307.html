---
title: "[TIMOB-3307] Android: Expose onNewIntent on Activities"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-04-26T10:26:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-11</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, feature, release-1.7.0, reported-1.7.0</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-04-15T03:41:48.000+0000</td></tr>
<tr><th>Updated</th><td>2011-04-26T10:26:42.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>create a callback for <code>newIntent</code> that's called
synchronously on <code>Ti.Android.currentActivity</code>. Similar
to <code>pause</code> and <code>resume</code>.</p>
<p>See the <a href=
"<a href="http://developer.android.com/reference/android/app/Activity.html#onNewIntent(android.content.Intent" rel="nofollow" target="_blank">http://developer.android.com/reference/android/app/Activity.html#onNewIntent(android.content.Intent</a>">
Android Docs</a>) make sure <code>setIntent</code> is also exposed
so an Activities intent can be updated if needed.</p></div>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-3307_18300/newintent.zip">newintent.zip</td></td><td>2011-04-15T03:41:49.000+0000</td><td>3061229</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/576b6298029ec8b4e67de3f2feb1c4d665f8ca89"
   title=
   "Changeset [576b6298029ec8b4e67de3f2feb1c4d665f8ca89]">[576b6298029ec8b4e67de3f2feb1c4d665f8ca89]</a>)
   [<a href="/projects/32238/tickets/3307" title=
   "Ticket #3307">#3307</a> state:fixed-in-qa] Added support. A test
   app will be attached <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/576b6298029ec8b4e67de3f2feb1c4d665f8ca89" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/576b6298029ec8b4e67de3f2feb1c4d665f8ca89</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/576b6298029e..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/576b6298029e...</a></a></p></div></li>
<li>Don Thorp 2011-04-15

   <div><p>This one is a fun one to test. You'll need the attached app.
   After you import it once and launch it, you'll need to edit the
   <code>theme.xml</code> file and remove <code>.Fullscreen</code>
   from the Theme. After you do that <em>don't</em> touch tiapp.xml
   because there is a couple of bugs where it won't properly honor the
   flags in tiapp.xml and if you edit tiapp.xml it wipes out the
   edits. You need to be able to see the status bar to test.</p>
   <p>This feature centers around this <a href=
   "<a href="http://developer.android.com/reference/android/app/Activity.html#onNewIntent(android.content.Intent" rel="nofollow" target="_blank">http://developer.android.com/reference/android/app/Activity.html#onNewIntent(android.content.Intent</a>">
   method</a>). There are several variations that need to be performed
   to test all of the combinations.</p>
   <h2>App Already in Foreground</h2>
   <p>1) Launch the app<br>
   2) Click the <code>Notify</code> button, you should see an icon
   appear in the status bar<br>
   3) Pull down the status bar, select the notification and you should
   see a <code>Toast</code> pop up saying a new intent was
   received.</p>
   <h2>App In Background</h2>
   <p>1) Launch the app<br>
   2) Click the <code>Notify</code> button, you should see an icon
   appear in the status bar<br>
   3) Press the <code>Home</code> button<br>
   4) Pull down the status bar, select the notification and you should
   see the application brought to front and a <code>Toast</code> pop
   up saying a new intent was received.</p>
   <h2>App Closed</h2>
   <p>1) Launch the app<br>
   2) Click the <code>Notify</code> button, you should see an icon
   appear in the status bar<br>
   3) Press the <code>Back</code> button to exit the app.<br>
   3) Pull down the status bar, select the notification and you should
   <em>NOT</em> see a <code>Toast</code> pop up</p></div></li>
</ol>


<p><a href="/TIMOB/TIMOB-3307.json">JSON Source</a></p>