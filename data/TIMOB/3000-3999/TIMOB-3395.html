---
title: "[TIMOB-3395] Android: JS source remains in APK after production build."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-03-30T14:26:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-13</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Don Thorp</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-04-15T03:43:46.000+0000</td></tr>
<tr><th>Updated</th><td>2012-03-31T11:56:40.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>See <a href=
"<a href="http://developer.appcelerator.com/helpdesk/view/74171#c363433" rel="nofollow" target="_blank">http://developer.appcelerator.com/helpdesk/view/74171#c363433</a>">Helpdesk
74171</a></p>
<p>JS source should not be available in production apk if
compilation is turned on.</p></div>

<h3>Comments</h3>

<ol>
<li>Marshall Culpepper 2011-04-15

   <div><p>(from <a href=
   "/projects/32238/changesets/1f28139158d5517c9801bb84d6e93af188f6bcbd"
   title=
   "Changeset [1f28139158d5517c9801bb84d6e93af188f6bcbd]">[1f28139158d5517c9801bb84d6e93af188f6bcbd]</a>)
   don't include js source files when compiling for production mode.
   also remove binding JSON files from the generated APK<br>
   [<a href="/projects/32238/tickets/3395" title=
   "Ticket #3395">#3395</a> state:fixed-in-qa] <a href=
   "<a href="https://github.com/appcelerator/titanium_mobile/commit/1f28139158d5517c9801bb84d6e93af188f6bcbd" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/1f28139158d5517c9801bb84d6e93af188f6bcbd</a>">
   <a href="https://github.com/appcelerator/titanium_mobile/commit/1f28139158d5..." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/1f28139158d5...</a></a></p></div></li>
<li>Marshall Culpepper 2011-04-15

   <div><p>To test this, build an application for Distribution, and open or
   extract the resulting APK with an unzipping program. Under the
   "assets/Resources" folder, there should be no .js files.</p></div></li>
<li>connysvensson 2011-09-15

   But it also removes potential JavaScript files that you're using in a local webview. You might even include big JavaScript libraries/frameworks that you use inside your webview, for example jQuery Mobile. These JavaScript files should not be deleted. Is there an option to ignore deletion of JavaScripts files for certain directory paths?</li>
<li>Don Thorp 2011-09-15

   just rename the files you don't want converted to .jsx. There is no ignore option at them moment.</li>
<li>Eric Merriman  2011-11-10

   Currently occurs with both Rhino and v8 packaged .apks. SDK 1.8.0.1.v20111109152300</li>
<li>Marshall Culpepper 2011-11-11

   With V8, things work a little differently -- we actually bundle the obfuscated JS files directly instead of compiling to classes like we did with Rhino (there is no need for immediate bytecode form w/ V8). We'll probably need to change the test plan..</li>
<li>Marshall Culpepper 2011-11-11

   FWIW, Rhino bytecode compilation is currently known to be disabled as well (we plan on re-enabling it soon, and with that we can remove JS for Rhino APKs)</li>
<li>Marshall Culpepper 2011-12-07

   We need to revisit this when we re-enable bytecode compilation for rhino</li>
<li>Marshall Culpepper 2012-03-30

   Forgot to mark this as resolved</li>
<li>Wilson Luu 2012-03-30

    Closing bug. Verified fix on:
    
    SDK build: 2.0.0.v20120329191102
    Runtime: v8, rhino
    Titanium Studio, build: 2.0.0.201203291340
    Device: LG Slate (3.1)</li>
</ol>


<p><a href="/TIMOB/TIMOB-3395.json">JSON Source</a></p>