---
title: "[TIMOB-3412] Android: Auto width/height resource drawables should be sized as they are in native Android"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-06-08T23:29:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, defect, reported-1.6.0</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2011-04-15T03:44:00.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-08T23:29:21.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Given a native android project (non-titanium) with the
following:</p>
<ul>
<li>This layout xml:</li>
</ul>
<pre>
<code>&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"
    android:layout_width="fill_parent" 
    android:layout_height="fill_parent" 
    android:orientation="vertical" &gt;
&lt;ImageView 
    android:src="@drawable/test" 
    android:id="@+id/iv" 
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content"
/&gt;
&lt;/LinearLayout&gt;</code>
</pre>
<ul>
<li>
<p>A file, test.png, in <code>res/drawable-mdpi</code>. The file is
a 50 pixel by 50 pixel graphic.</p>
</li>
<li>
<p>The application running on a high-density device.</p>
</li>
</ul>
<p>When rendered, the image view will be 75 x 75 pixels (50 * 1.5),
because the graphic file was in the <strong>mdpi</strong> (medium
density) drawable folder and the device is a high density device,
so Android automatically scales it up.</p>
<hr>
<p>Given a <strong>Titanium</strong> project with the
following:</p>
<ul>
<li>
<p>The same test.png from above (50x50) in the project's
<code>platform/android/res/drawable-mdpi</code> folder.</p>
</li>
<li>
<p>The following app.js:</p>
</li>
</ul>
<pre>
<code class="javascript">Titanium.UI.setBackgroundColor('#000');
var win = Titanium.UI.createWindow({  
    title:'Test',
    backgroundColor:'#000',
    exitOnClose: true
});

var iv = Ti.UI.createImageView({
    left: 0, top: 0, height: 'auto', width: 'auto',
    image: Ti.App.Android.R.drawable.test
});
win.add(iv);

var btn = Ti.UI.createButton({
    top: '50%', height: 'auto', width: 'auto', left: 0,
    title: 'Get dimensions'
});
btn.addEventListener('click', function(){
    var size = iv.size;
    Ti.API.info("ImageView dimensions: " + size.width + "x" + size.height);
});
win.add(btn);
win.open();</code>
</pre>
<p>When run, and when clicking the "Get dimensions" button, the
logcat output will show that the rendered width and height remain
at 50x50, so the image was <strong>not</strong> scaled up
automatically. I believe it should have been.</p>
<p><strong>Expected outcome</strong>: The logcat output from the
above Titanium project should show "ImageView dimensions:
<strong>75x75</strong>".</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   <div><p>The reason: TiDrawableReference (responsible for fetching and
   scaling images), when it gets images that are resource drawables,
   uses Resources.openRawResource() and checks the bounds of that raw
   drawable -- which are 50x50. It doesn't know where the resource
   comes from (i.e., from which drawable-?dpi resource folder it comes
   from), so even if it tried to scale it (which it doesn't even try),
   it wouldn't know whether it should scale it and by how much to
   scale it.</p></div></li>
<li>Lee Morris 2017-06-08

   Closing ticket as there has been no input for the last 6 years. Any problems, please file a new ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-3412.json">JSON Source</a></p>