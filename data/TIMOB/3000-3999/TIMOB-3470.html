---
title: "[TIMOB-3470] Android: timodule.xml contents do not get copied into generated AndroidManifest.xml"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-05-06T09:46:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-15</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, build, module, release-1.7.0, reported-1.7.0, rplist</td></tr>
<tr><th>Reporter</th><td>ctredway</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-04-15T03:45:34.000+0000</td></tr>
<tr><th>Updated</th><td>2011-05-06T09:46:07.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>The timodule.xml contents do not get added to the generated
AndroidManifest.xml at build time. This is happening in Master.</p></div>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-04-15

   [<a href="https://github.com/appcelerator/titanium_mobile/commit/4a487322088deb07bd8f305afdde5451a1e6749e" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/4a487322088deb07bd8f305afdde5451a1e6749e</a>]</li>
<li>Bill Dawson 2011-04-15

   I believe this is just a misunderstanding caused by the template timodule.xml not getting updated after we settled on our standard for putting the <code><android></code> section into tiapp.xml (somewhere around 1.5.0, probably).  So the entries in timodule.xml should be structured the same way entries in tiapp.xml are.  But the comment inside the template timodule.xml shows the manifest element looking like this: <code><android:manifest></code>, which is wrong.  So perhaps the customer was following that wrong advice and thus it wasn't working.
   
   Instead the section should look just like it would in a tiapp.xml:
   
   <code><pre>
   <android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">
       <manifest>
       </manifest>
   </android>
   </pre></code>
   
   If it's done that way, it already works (I didn't need to make any programming changes, though I did update timodule.xml template to reflect this.)
   
   If QA wants to test this:
   
   * Create a new [Android module](<a href="http://wiki.appcelerator.org/display/guides/Module+Developer+Guide+for+Android)" rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/Module+Developer+Guide+for+Android)</a> or use an existing Android module.
   * Open the module's timodule.xml file and change the <code><android></code> section to look like this:
   
   <code><pre>
   <android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">
       <manifest>
           <uses-permission android:name="android.permission.READ_CONTACTS"/>
       </manifest>
   </android>
   </pre></code>
   
   * Build the module.
   * Copy the packaged module ZIP file to a Titanium Mobile project's root folder.
   * In the Titanium Mobile project's tiapp.xml file, be sure to add the <code><module></code> section to specify that the module should be used in the project.
   * Build the Titanium Mobile project.
   * Open <code>build/android/AndroidManifest.xml</code> and go down near the bottom, and you should see the <code>READ_CONTACTS</code> permission in there -- that came from the timodule.xml
   
   
   </li>
<li>Don Thorp 2011-05-06

   Device not needed for testing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-3470.json">JSON Source</a></p>