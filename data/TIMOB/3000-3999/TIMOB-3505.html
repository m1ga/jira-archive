---
title: "[TIMOB-3505] Re-opening a window breaks all event handlers (iOS)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-06-07T22:57:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>defect, ios</td></tr>
<tr><th>Reporter</th><td>John Johnson</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-04-15T03:46:01.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-07T22:57:21.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Hi</p>
<p>Please see the following code: <a href=
"<a href="http://pastie.org/1755281" rel="nofollow" target="_blank">http://pastie.org/1755281</a>"><a href="http://pastie.org/1755281" rel="nofollow" target="_blank">http://pastie.org/1755281</a></a></p>
<p>iOS SDK 4.2, Titanium SDK 1.6.1, Xcode 3.2.5, tested on both the
simulator and physical device</p>
<p>I'm trying to create a window that implements a webview with a
pageflipper.</p>
<p>My pageflipper fires some custom events using Ti.App.fireEvent(
'nextPage' ); etc., which works amazingly well.</p>
<p>... until I close the window and try to open the window again.
Now, my custom events don't get fired. This happens randomly.
Sometimes it works the first time, second time, not the third time
etc. It always works the first time though.</p>
<p>I think it has something to do with the webview doing a reload()
when the window is opening again, which breaks the listener
connection (#2641).</p>
<p>My app is ready to be submitted to the App Store but this bug is
stalling me. I really need this to be fixed ASAP with some kind of
workaround.</p>
<p>Thank you.</p></div>

<h3>Comments</h3>

<ol>
<li>hal 2011-04-15

   <div><p>John - please state your environment - what Ti / iOS SDK / XCode
   versions are you using? Have you tested it in the simulator and/or
   a physical device? Please amend your ticket, adding this
   information.</p>
   <p>Note the issue does <em>not</em> exist on Android Ti 1.6.1,
   Android 2.2.</p>
   <p>As the code is short, I've pasted it below (errors fixed):</p>
   <p><strong>app.js:</strong></p>
   <pre>
   <code>var win = Ti.UI.createWindow({backgroundColor:"white"});
   
   var label = Ti.UI.createLabel({
       text: 'Click me',
       color: '#fff',
       width: 'auto',
       height: 'auto'
   });
   
   label.addEventListener( 'click', function() {
   
       var win2 = Ti.UI.createWindow({
           url: 'win2.js',
           zIndex: 2,
           backgroundColor: '#000'
       });
   
       win2.open({
           modal: true
       }); 
   
   });
   
   win.add( label );
   win.open();</code>
   </pre>
   <p><strong>win2.js:</strong></p>
   <pre>
   <code>var webview = Ti.UI.createWebView({
       url:"webview.html"
   });
   
   Ti.App.addEventListener("close", function(){
       Ti.UI.currentWindow.close();
   });
   
   Ti.UI.currentWindow.add( webview );</code>
   </pre>
   <p><strong>webview.html:</strong></p>
   <pre>
   <code>&lt;html&gt;
   &lt;body&gt;
   &lt;button onClick="Ti.App.fireEvent('close');"&gt;Click me to close the window&lt;/button&gt;
   &lt;/body&gt;
   &lt;/html&gt;</code>
   </pre></div></li>
<li>John Johnson 2011-04-15

   <div><p>Hi hal,</p>
   <p>I've updated my ticket to reflect my environment. Is it possible
   to create a workaround or is it indeed a bug?</p></div></li>
<li>John Johnson 2011-04-15

   <div><p>Anything new?</p></div></li>
<li>Lee Morris 2017-06-07

   Closing ticket due to time passed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-3505.json">JSON Source</a></p>