---
title: "[TIMOB-3512] Android: vertical layout incorrect order when window opened before adding children"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-05-30T14:50:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>core, module_window, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Paul Dowsett</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-04-15T03:46:07.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-13T12:22:42.000+0000</td></tr>
</table>

<h3>Description</h3>

<div><p>Tested using Titanium SDK 1.6.1 (15 Mar 2011), Android emulator
2.2</p>
<p>When a window is opened with a vertical layout, and labels (or
presumably any view or widget, although this has not been
explicitly tested) are added to it, they are displayed in the
incorrect order. The following code demonstrates the issue:</p>
<pre>
<code>var win1 = Ti.UI.createWindow({
  title: "Main Window",
  exitOnClose: true,
  layout: 'vertical',
  navBarHidden: false
});     
 
var btnNewWin = Ti.UI.createButton({
  top:5,
  width:301,
  height:57,
  title: "New Win"
});
win1.add(btnNewWin);
win1.open();
 
btnNewWin.addEventListener('click', function() {
  var win2 = Ti.UI.createWindow({
    title: "Second Window",
    layout: 'vertical',
    navBarHidden: false
  });    
  win2.open();
  
  for(var i=0; i &lt; 10; i++) {
    var lbl = Ti.UI.createLabel({
        text: 'Label: ' + i,
        textAlign:'left'
    });
    win2.add(lbl);
  }
//  win2.open(); // moving open() to here resolves the issue
});</code>
</pre>
<p>Note that opening the window <em>after</em> the labels have been
added works around the issue.</p>
<p>Using the code above, the labels are laid out in the incorrect
order:<br>
<img src=
"<a href="http://img845.imageshack.us/img845/2923/screenshot218.png" rel="nofollow" target="_blank">http://img845.imageshack.us/img845/2923/screenshot218.png</a>" alt=
"before"></p>
<p>After the workaround is used, labels are correctly
displayed:<br>
<img src=
"<a href="http://img703.imageshack.us/img703/1285/screenshot217.png" rel="nofollow" target="_blank">http://img703.imageshack.us/img703/1285/screenshot217.png</a>" alt=
"after"></p></div>

<h3>Comments</h3>

<ol>
<li>Max Stepanov 2012-05-30

   Cannot reproduce with 2.1.0 master builds (05/30/12).</li>
<li>Neeraj Gupta 2012-05-30

   Fixed as part of composite layout enhancements.</li>
<li>Olga Romero 2012-06-26

   Verified fix with
   
   Titanium Studio, build: 2.1.0.201206251749
   Titanium SDK: 2.1.0.v20120626104306
   Device:
   LG VS910 4G
   Android version 2.3.6
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-3512.json">JSON Source</a></p>