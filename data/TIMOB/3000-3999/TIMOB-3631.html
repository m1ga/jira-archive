---
title: "[TIMOB-3631] Crashing after continued use"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-05-26T17:34:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-21</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>crash</td></tr>
<tr><th>Reporter</th><td>Rick Blalock</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-04-20T11:35:12.000+0000</td></tr>
<tr><th>Updated</th><td>2011-10-06T17:08:03.000+0000</td></tr>
</table>

<h3>Description</h3>

After continued use of the app it will crash.  All crashes result in a kill 9 with no further logs or crash statements.

Tested on 1.6.3, 1.6.1, 1.7CI.

The general design of the app:  The app is One universal scrollableView.  When a section (i.e. Entertainment, Local, World, etc.) gets loaded the views array gets flushed out (set to null) and repopulated with the new data.  Reproducing the crash is as easy as refreshing a section 20 or so times or the following....

Reproducible Steps:
Test Case One:
Refresh the home page 20 times

Test Case Two:
Click the section button next to refresh -> Select a new section -> repeat selecting different sections -> refresh a section or two -> will result in crash after so many times.

Test Case Three:
Tap Section button next to refresh -> Select Entertainment -> Refresh 4-5 times to crash.

Test Case Four:
Load a section -> Tap on an article -> scroll through other articles -> Load a section -> repeat

---

Also, there is an issue with scrollableViews and 1.6.3.  You cannot set the views array to null or it will throw:

~~~
message = "Invalid type passed to function. expected: NSArray, was: (null) in -[TiUIScrollableViewProxy setViews:] (TiUIScrollableViewProxy.m:32)";
sourceId = 202632936;
~~~

Note that setting the views array to null in 1.6.1 doesn't resolve the kill 9 crash.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-3631_18571/Preferences-2011-05-24-174632.crash">Preferences-2011-05-24-174632.crash</td></td><td>2011-05-24T18:20:28.000+0000</td><td>85605</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-3631_18395/Resources.zip">Resources.zip</td></td><td>2011-04-25T12:46:42.000+0000</td><td>1659405</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-3631_18393/Resources.zip">Resources.zip</td></td><td>2011-04-22T11:39:16.000+0000</td><td>1573436</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Rick Blalock 2011-04-22

   Attached is a reproducible case.</li>
<li>Rick Blalock 2011-04-22

   If you comment the part that removes it from the window, sets it to null, and recreates it, and only set the views array to [], memory is released:  
   
   <a href="https://img.skitch.com/20110422-cuti158wy8uwu3g8ibi6ms29fe.jpg" rel="nofollow" target="_blank">https://img.skitch.com/20110422-cuti158wy8uwu3g8ibi6ms29fe.jpg</a>
   <a href="https://img.skitch.com/20110422-qctgt2e8kh9bdwjk119r9h4b4h.jpg" rel="nofollow" target="_blank">https://img.skitch.com/20110422-qctgt2e8kh9bdwjk119r9h4b4h.jpg</a>
   
   But if you remove it from the window it never gets collected:
   
   <a href="https://img.skitch.com/20110422-rggc9ytpnqr57h7pgmenam9ira.jpg" rel="nofollow" target="_blank">https://img.skitch.com/20110422-rggc9ytpnqr57h7pgmenam9ira.jpg</a>
   <a href="http://www.screencast.com/users/XiDScreencasts/folders/Jing/media/540e663a-8015-4072-a2d5-ce2aca6abca4" rel="nofollow" target="_blank">http://www.screencast.com/users/XiDScreencasts/folders/Jing/media/540e663a-8015-4072-a2d5-ce2aca6abca4</a></li>
<li>Rick Blalock 2011-04-22

   Just as an update:  I tried the sample code but instead of a scrollableView, made it a TiUIView.  Everything releases fine from the TiUIView - but not the SV.</li>
<li>Blain Hamon 2011-04-25

   Among other commits, this should be the last of the proxy issues.</li>
<li>Rick Blalock 2011-04-25

   </li>
<li>Rick Blalock 2011-04-26

   The issue is still happening in 1.7CI from today April 26th.</li>
<li>Natalie Huynh 2011-05-18

   Crash log</li>
<li>Natalie Huynh 2011-05-24

   new crash files</li>
</ol>


<p><a href="/TIMOB/TIMOB-3631.json">JSON Source</a></p>