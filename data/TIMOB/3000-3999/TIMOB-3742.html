---
title: "[TIMOB-3742] Android: Date toLocaleString Doesn't Respect 24-hour Format"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-06-22T12:37:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-25, Release 1.8.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Dawson Toth</td></tr>
<tr><th>Assignee</th><td>Natalie Huynh</td></tr>
<tr><th>Created</th><td>2011-04-26T11:00:03.000+0000</td></tr>
<tr><th>Updated</th><td>2011-08-25T11:02:48.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>The Problem</h4>
On Android, the JavaScript "Date" object's "toLocaleString" function doesn't respect the "Use 24-hour format" setting in the "Date & time settings".

<h4>Code Sample</h4>
For example, place the following in an app.js.
* It will create a new Date on October 1st, 2011 at 1pm.
* Go in to the device's Settings app, then Date & time settings, and check "Use 24-hour format".
* When you run the app, it will alert if the first 2 characters of theDate.toLocaleString() are 13, and thus if the 24-hour format is being used.

<code><pre>
var time = new Date(2011, 10, 1, 13, 0, 0).toLocaleTimeString();
var is24HourTime = time.substring(0, 2) == '13';
alert(time + ': Is 24 Hour Time? ' + (is24HourTime ? 'Yes!' : 'No...'));
</pre></code>

<h4>Associated Helpdesk Ticket</h4>
<a href="http://appc.me/c/WPP-21246-756" rel="nofollow" target="_blank">http://appc.me/c/WPP-21246-756</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-3742_21226/TIMOB-3742.js">TIMOB-3742.js</td></td><td>2011-06-21T14:10:14.000+0000</td><td>934</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Marshall Culpepper 2011-06-21

   Run the attached manual test case to verify this fix works</li>
<li>Bill Dawson 2011-06-22

   <a href="https://github.com/appcelerator/titanium_mobile/pull/139" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/139</a> was merged.  No 1.7.2 label is on this, so resolving.</li>
<li>Natalie Huynh 2011-08-25

   Tested with 1.8.0.v20110819142548
   iPhone 4.3.4
   iPad2 4.3.2
   Motorola Xoom 3.2
   Nexus One 2.2.2</li>
</ol>


<p><a href="/TIMOB/TIMOB-3742.json">JSON Source</a></p>