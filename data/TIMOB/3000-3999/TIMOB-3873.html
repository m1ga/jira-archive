---
title: "[TIMOB-3873] iOS: file.open(Ti.Filesystem.MODE_WRITE) crashes simulator if file doesn't exist"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-05-11T18:36:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.7.0, Sprint 2011-18</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Jacob Relkin</td></tr>
<tr><th>Created</th><td>2011-05-02T17:02:59.000+0000</td></tr>
<tr><th>Updated</th><td>2011-05-11T18:36:42.000+0000</td></tr>
</table>

<h3>Description</h3>

If a file doesn't yet exist, it should still be able to be open()'d writable.  This fails:

<code><pre>
var f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory, 'not_exist.xx');
var stream = f.open(Ti.Filesystem.MODE_WRITE); // crash
</pre></code>

Problem is "handle = \[NSFileHandle fileHandleForUpdatingAtPath:filePath\];" which requires the file to exist.

<h3>Comments</h3>

<ol>
<li>Natalie Huynh 2011-05-11

   Tested with 1.7.0.879871b...(05/10/11 19:34)
   optionalArgAPIs	true	10	Success
   readWriteText	true	31	Success
   blobNativeFile	true	49	Success
   dotSlash	true	59	Success
   fileStreamBasicTest	true	108	Success
   fileStreamWriteTest	true	132	Success
   fileStreamAppendTest	true	171	Success
   fileStreamPumpTest	true	200	Success
   fileStreamWriteStreamTest	true	220	Success
   fileStreamResourceFileTest	true	220	Success
   fileStreamTruncateTest	true	262	Success</li>
</ol>


<p><a href="/TIMOB/TIMOB-3873.json">JSON Source</a></p>