---
title: "[TIMOB-3876] iOS - Embedded video player bug - NavBar moves out of place"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-04-02T13:42:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.6.2</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-48, Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Pedro Enrique</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-05-03T01:58:23.000+0000</td></tr>
<tr><th>Updated</th><td>2012-04-11T19:04:05.000+0000</td></tr>
</table>

<h3>Description</h3>

You will see the 'top' of the window shifts down at the same height as the status bar.

To reproduce in KS:

1. Go to Phone > Play Movie > Embedded Video in KS  (top video will start) 
2. Click the arrows to go fullscreen while playing
3. Turn the simulator of device left or right orientation at least once. (You can stay landscape or go back to portrait) 
4. Let the movie complete itself. (Do not press 'done')

This only seems to happen when the movie completes itself. 

Clicking to another tab and back again appears to reset the top of the window back again.

Helpdesk ticket that reported this:
<a href="http://support.appcelerator.com/tickets/KYR-94554-295/homepage" rel="nofollow" target="_blank">http://support.appcelerator.com/tickets/KYR-94554-295/homepage</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-3876_24425/Screen Shot 2011-12-01 at 10.41.23 AM.png">Screen Shot 2011-12-01 at 10.41.23 AM.png</td></td><td>2011-12-01T10:45:39.000+0000</td><td>134853</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Don Thorp 2011-11-29

   Please see if this is still occurring.</li>
<li>Stephen Tramer 2011-11-30

   Still valid in d502b23, but there have been a number of orientation fixes since; could be resolved by these. TIMOB-6379 must be resolved first.</li>
<li>Natalie Huynh 2011-12-03

   Tested with SDK: 1.8.0.1.v20111203093857
   iPhone 4s 5.0.1
   iPad 2 4.3.5
   iPod 3rd gen 4.0.2</li>
<li>Niel Vanterpool 2012-03-20

   This bug seems to still exist.
   
   Ti Studio: 1.0.9.201202141208 
   Ti SDK: 1.8, 1.8.1, 1.8.2, 2.0.0.v20120319173321 
   Xcode 4.2
   Mac OS X 10.6.8</li>
<li>Neeraj Gupta 2012-03-20

   Niel - Please add a test case that demonstrates this issue. </li>
<li>Niel Vanterpool 2012-03-29

   Neeraj,
   
   app.js
   ----------
   
   
   // this sets the background color of the master UIView (when there are no windows/tab groups on it)
   Titanium.UI.setBackgroundColor('#000');
   
   // create tab group
   var tabGroup = Titanium.UI.createTabGroup();
   tabGroup.orientationModes = [Titanium.UI.PORTRAIT];
   
   //
   // create base UI tab and root window
   //
   
   var win2 = Titanium.UI.createWindow({  
       title:'Tab 2',
       backgroundColor:'#fff'
   });
   var button2 = Ti.UI.createButton({
   	title:'Watch YouTube Video',
   	height:40
   });
   button2.addEventListener('click', function() {
   	var win3 = Titanium.UI.createWindow({  
   	    title:'YouTube',
   	    backgroundColor:'#CCC'
   	});
   	var url = '<a href="http://www.youtube.com/watch?v=6b4ZZQkcNEo" rel="nofollow" target="_blank">http://www.youtube.com/watch?v=6b4ZZQkcNEo</a>';
   	var html = '<html>' + 
   		'<head><style type"text/css"> * { margin:0; padding:0; }</style></head>' +
   		'<body>' +
   		'<center>' +
   		'<object width="320" height="240">' +
   		'<param name="movie" value="' + url + '&autoplay=1&rel=0&hl=en_US&fs=1&"></param>' +
   		'<param name="allowFullScreen" value="true"></param>' +
   		'<param name="allowscriptaccess" value="always"></param>' +
   		'<embed src="' + url + '&autoplay=1&rel=0&hl=en_US&fs=1&" type="application/x-shockwave-flash"' +
   		'allowscriptaccess="always" allowfullscreen="true" width="320" height="240"></embed></object>' +
   		'</center>' +
   		'</body>' + 
   		'</html>';
   	var webview = Ti.UI.createWebView({
   	    top: 0,
   	    left: 0,
   	    fullscreen:true,
   	    html: html,
   	    height:240,
   	    width:320
   	});
   	win3.add(webview);
   	// win3.addEventListener('focus', function() {
   		// webview.html = html;
   		// webview.height = 240;
   		// webview.width = 320;
   	// });
   	tabGroup.activeTab.open(win3);
   });
   win2.add(button2);
   
   //
   // create tabs
   //
   var tab2 = Titanium.UI.createTab({  
       icon:'KS_nav_ui.png',
       title:'Tab 2',
       window:win2
   });
   
   //
   //  add tabs
   // 
   tabGroup.addTab(tab2);  
   
   
   // open tab group
   tabGroup.open();
   
   ------------
   
   To reproduce the problem:
   
   1) Click "Watch YouTube Video"
   2) Click on webview to play Youtube video while holding device in PORTRAIT orientation
   3) While video is loading, turn device to LANDSCAPE. You will notice that status bar moves to the PORTRAIT orientation.
   4) While video is playing in LANDSCAPE, return device to PORTRAIT orientation (you will notice that statusbar is in proper position).
   5) Return device to LANDSCAPE orientation, and end video by clicking "Done".
   6) The Youtube player will close and the window will reopen with window's navbar underneath the status bar.</li>
<li>Neeraj Gupta 2012-03-29

   Reopening based on the latest test case.</li>
<li>Junaid Younus 2012-04-02

   Same issue still exists within 1.8.2 on a device:
   
   app.js:
   <a href="http://pastebin.com/9WWvyqeK" rel="nofollow" target="_blank">http://pastebin.com/9WWvyqeK</a>
   
   videoplayer.js:
   <a href="http://pastebin.com/BYBMQ0mM" rel="nofollow" target="_blank">http://pastebin.com/BYBMQ0mM</a>
   
   Comments from customer: "While a video is running, if orientation switches to landscape and video is set to full screen, then when orientation goes back to portrait and video.fullscreen = false, the window is positioned incorrectly. Basically, the title bar of the window is underneath the status bar. On my real app, the width of the window is cut off as well."
   
   Instead of opening a new ticket, I have used this one to continue the discussion. If you would like me to open a new one, just let me know.
   
   HD ticket: <a href="http://support-admin.appcelerator.com/display/APP-237638" rel="nofollow" target="_blank">http://support-admin.appcelerator.com/display/APP-237638</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-3876.json">JSON Source</a></p>