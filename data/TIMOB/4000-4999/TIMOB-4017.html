---
title: "[TIMOB-4017] 2.1 picker - display people intermittent crash with "unknown token HistoryRecord""
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-05-26T17:26:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>picker</td></tr>
<tr><th>Reporter</th><td>Thomas Huelbert</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-05-10T08:53:35.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-26T17:26:15.000+0000</td></tr>
</table>

<h3>Description</h3>

1. Phone > contacts > display people

NOTES: the Eris has a ton of contacts on it. Crash was seen in 1.6.2 and 1.7.0, but intermittently in both cases. When the list does load, there are scrolling performance issues.

results: KS crashes with:

D/dalvikvm(  158): GC freed 1052 objects / 36832 bytes in 1765ms
W/WindowManager(   86): Attempted to add application window with unknown token HistoryRecord{44a81048 com.appcelerator.pushtest/org.appcelerator.titanium.TiActivity}.  Aborting.
D/AndroidRuntime( 9114): Shutting down VM
W/dalvikvm( 9114): threadid=3: thread exiting with uncaught exception (group=0x4001e2e8)
E/TiUncaughtHandler( 9114): (main) [600,3514885] Sending event: exception on thread: main msg:android.view.WindowManager$BadTokenException: Unable to add window -- token android.os.BinderProxy@446cf708 is not valid; is your activity running?; Titanium 1.7.0,2011/05/09 12:02,ee98f9...
E/TiUncaughtHandler( 9114): android.view.WindowManager$BadTokenException: Unable to add window -- token android.os.BinderProxy@446cf708 is not valid; is your activity running?
E/TiUncaughtHandler( 9114): 	at android.view.ViewRoot.setView(ViewRoot.java:472)
E/TiUncaughtHandler( 9114): 	at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:177)
E/TiUncaughtHandler( 9114): 	at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
E/TiUncaughtHandler( 9114): 	at android.view.Window$LocalWindowManager.addView(Window.java:424)
E/TiUncaughtHandler( 9114): 	at android.app.Dialog.show(Dialog.java:239)
E/TiUncaughtHandler( 9114): 	at ti.modules.titanium.ui.widget.TiUIActivityIndicator.handleShow(TiUIActivityIndicator.java:200)
E/TiUncaughtHandler( 9114): 	at ti.modules.titanium.ui.widget.TiUIActivityIndicator.show(TiUIActivityIndicator.java:124)
E/TiUncaughtHandler( 9114): 	at ti.modules.titanium.ui.ActivityIndicatorProxy.handleShow(ActivityIndicatorProxy.java:45)
E/TiUncaughtHandler( 9114): 	at org.appcelerator.titanium.proxy.TiViewProxy.handleMessage(TiViewProxy.java:212)
E/TiUncaughtHandler( 9114): 	at android.os.Handler.dispatchMessage(Handler.java:95)
E/TiUncaughtHandler( 9114): 	at android.os.Looper.loop(Looper.java:123)
E/TiUncaughtHandler( 9114): 	at android.app.ActivityThread.main(ActivityThread.java:4568)
E/TiUncaughtHandler( 9114): 	at java.lang.reflect.Method.invokeNative(Native Method)
E/TiUncaughtHandler( 9114): 	at java.lang.reflect.Method.invoke(Method.java:521)
E/TiUncaughtHandler( 9114): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
E/TiUncaughtHandler( 9114): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
E/TiUncaughtHandler( 9114): 	at dalvik.system.NativeStart.main(Native Method)
E/AndroidRuntime( 9114): Uncaught handler: thread main exiting due to uncaught exception
E/AndroidRuntime( 9114): android.view.WindowManager$BadTokenException: Unable to add window -- token android.os.BinderProxy@446cf708 is not valid; is your activity running?
E/AndroidRuntime( 9114): 	at android.view.ViewRoot.setView(ViewRoot.java:472)
E/AndroidRuntime( 9114): 	at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:177)
E/AndroidRuntime( 9114): 	at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:91)
E/AndroidRuntime( 9114): 	at android.view.Window$LocalWindowManager.addView(Window.java:424)
E/AndroidRuntime( 9114): 	at android.app.Dialog.show(Dialog.java:239)
E/AndroidRuntime( 9114): 	at ti.modules.titanium.ui.widget.TiUIActivityIndicator.handleShow(TiUIActivityIndicator.java:200)
E/AndroidRuntime( 9114): 	at ti.modules.titanium.ui.widget.TiUIActivityIndicator.show(TiUIActivityIndicator.java:124)
E/AndroidRuntime( 9114): 	at ti.modules.titanium.ui.ActivityIndicatorProxy.handleShow(ActivityIndicatorProxy.java:45)
E/AndroidRuntime( 9114): 	at org.appcelerator.titanium.proxy.TiViewProxy.handleMessage(TiViewProxy.java:212)
E/AndroidRuntime( 9114): 	at android.os.Handler.dispatchMessage(Handler.java:95)
E/AndroidRuntime( 9114): 	at android.os.Looper.loop(Looper.java:123)
E/AndroidRuntime( 9114): 	at android.app.ActivityThread.main(ActivityThread.java:4568)
E/AndroidRuntime( 9114): 	at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime( 9114): 	at java.lang.reflect.Method.invoke(Method.java:521)
E/AndroidRuntime( 9114): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:860)
E/AndroidRuntime( 9114): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)
E/AndroidRuntime( 9114): 	at dalvik.system.NativeStart.main(Native Method)
I/Process (   86): Sending signal. PID: 9114 SIG: 3
I/dalvikvm( 9114): threadid=7: reacting to signal 3
I/dalvikvm( 9114): Wrote stack trace to '/data/anr/traces.txt'


<h3>Comments</h3>

<ol>
<li>Lee Morris 2017-05-26

   Closing ticket as Invalid as this version of Kitchen Sink is no longer supported.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4017.json">JSON Source</a></p>