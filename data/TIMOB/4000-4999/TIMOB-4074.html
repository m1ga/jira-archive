---
title: "[TIMOB-4074] iOS: KitchenSink reports script error when running Platform>Passing Data (windows)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-05-24T14:35:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>Backlog</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>KitchenSink</td></tr>
<tr><th>Reporter</th><td>Eric Merriman </td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-05-13T11:05:58.000+0000</td></tr>
<tr><th>Updated</th><td>2011-05-24T14:35:12.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:
While running KS, Platform>Passing Data (windows), the view came up empty and the console reported errors:
Fri May 13 09:59:44 unknown UIKitApplication:com.appcelerator.pushtest[0x93b2][5058] <Notice>: [ERROR] Script Error = Result of expression 'win.myFunc' [undefined] is not a function. at custom_properties_2.js (line 1).
Fri May 13 09:59:44 unknown UIKitApplication:com.appcelerator.pushtest[0x93b2][5058] <Notice>: [ERROR] application received error: Result of expression 'win.myFunc' [undefined] is not a function. at custom_properties_2.js (line 1)

Steps to reproduce:
1) Install KS
2) navigate to Platform>Passing Data (windows)
3) Click "launch window"

Result:
Empty page and console errors

Expected result:

Notes:
Does not occur on 1.6.2

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4074_18550/app.js">app.js</td></td><td>2011-05-23T15:10:02.000+0000</td><td>564</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4074_18521/app.js">app.js</td></td><td>2011-05-19T09:55:45.000+0000</td><td>523</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4074_18551/com.test.js">com.test.js</td></td><td>2011-05-23T15:10:02.000+0000</td><td>77</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4074_18552/opening.js">opening.js</td></td><td>2011-05-23T15:10:02.000+0000</td><td>230</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4074_18522/opening.js">opening.js</td></td><td>2011-05-19T09:55:45.000+0000</td><td>139</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2011-05-18

   Tested iPad (Universal KS)/4.3.3.</li>
<li>Stephen Tramer 2011-05-18

   Have to let Blain log his hours!</li>
<li>Blain Hamon 2011-05-18

   Forgot to log the hours before it got closed. Whoops.</li>
<li>Stephen Tramer 2011-05-18

   Blain logged work, can close now for reals.</li>
<li>Stephen Tramer 2011-05-19

   Issue found by the community: <a href="https://github.com/appcelerator/titanium_mobile/commit/7bef2bd0bcb7abbded1b9cccbbd187ee056788d7#commitcomment-390894" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/commit/7bef2bd0bcb7abbded1b9cccbbd187ee056788d7#commitcomment-390894</a></li>
<li>Blain Hamon 2011-05-19

   Turns out that contexts sharing functions leads to all sorts of crazy threading issues, and may have been a cause of crashers in the past. As a workaround, eventListeners ARE threadsafe, and while Ti.App event listeners have an issue with native items (TIMOB-4155) event listeners on native items work. For example, the workaround for the example provided would be thusly:
   
   {{
   App.js:
   
   
   var win = Ti.UI.createWindow();
   var b = Ti.UI.createButton({
   	title:'Open',
   	width:140,
   	height:40
   });
   win.add(b);
   b.addEventListener('click', function() {
   	var w = Ti.UI.createWindow({
   		url:'opening.js'
   	});
   
   	w.addEventListener('rotateLeft',function (e){
   		var the_view = e.view;
   		var angle = e.angle;
   		var duration=e.duration;
   	
   		if(the_view==null || the_view==undefined){
   			return;
   		}
   		var t = Ti.UI.create2DMatrix();
   		t = t.rotate(angle);
   		var a = Titanium.UI.createAnimation();
   		a.transform = t;
   		a.duration = duration;
   		the_view.animate(a);
   	});
   
   	w.open();
   });
   win.open();
   
   opening.js:
   
   
   var win = Ti.UI.currentWindow;
   var v = Ti.UI.createView({backgroundColor:'red', width:100, height:100});
   win.add(v);
   
   win.fireEvent('rotateLeft',{view:v,angle:45,duration:0.2});
   
   }}</li>
<li>Blain Hamon 2011-05-23

   To be bug-compatible, when a proxy is being made in the wrong context, we register in the current context just to ensure it's still out and about.</li>
<li>Eric Merriman  2011-05-24

   Verified fixed with iPad 3.2.3 and iPad 4.3, Titanium Studio, build: 1.0.0.201105131803, Titanium SDK version: 1.7.X r3982f4e7.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4074.json">JSON Source</a></p>