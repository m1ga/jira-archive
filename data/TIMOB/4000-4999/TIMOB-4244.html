---
title: "[TIMOB-4244] iOS: Enable searchBar to animate cancel button"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-02-17T11:33:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-04, Release 2.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>community, parity, qe-port</td></tr>
<tr><th>Reporter</th><td>Phil Oye</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-05-25T06:10:33.000+0000</td></tr>
<tr><th>Updated</th><td>2012-08-17T04:12:41.000+0000</td></tr>
</table>

<h3>Description</h3>

When a searchBar is NOT attached to a tableView, instead attached to a view on the window, the cancel button isn't animated. Nor does there seem to be a property to enable it. The cancel button IS animated when a searchBar is attached to a tableView.

On the Q&A site, there is this:
[<a href="http://developer.appcelerator.com/question/67231/searchbar-animate-cancel-button" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/67231/searchbar-animate-cancel-button</a>]

Hidayet Dogan, looked at the source and wrote:

<code><pre>

Change:

[search setShowsCancelButton:[TiUtils boolValue:value]];

to

[search setShowsCancelButton:[TiUtils boolValue:value] animated:YES];
</pre></code>

Could be a configurable option, I suppose, but having it match the tableView searchBar would probably make sense. The latter is not configurable.

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2011-05-30

   In order for us to progress this ticket, please explicitly state your environment, ie your iOS SDK and Titanium versions. Thanks</li>
<li>Phil Oye 2011-05-30

   iOS SDK: 4.3.2 (8H7)
   Titanium 1.7.0 (presumably RC1)
   Titanium Studio, build: 1.0.0.201105271818</li>
<li>Hidayet Dogan 2012-02-02

   I made a pull request for it before 1.8 release. I also added option for it named "cancelAnimated". Documentation was also included. See the commit here: <a href="https://github.com/hdogan/titanium_mobile/commit/449476f042b62a221ac048795efcd6a871f7bf5d" rel="nofollow" target="_blank">https://github.com/hdogan/titanium_mobile/commit/449476f042b62a221ac048795efcd6a871f7bf5d</a>
   
   and the pull request:
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/562" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/562</a>
   
   But they haven't accepted it yet. I'll probably implement it using latest SDK (ie, 1.8) and attach pull request with this issue ID. They maybe notice the request at this time.</li>
<li>Hidayet Dogan 2012-02-02

   Updated pull request with latest master branch (including documentation changes).
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/1329" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1329</a></li>
<li>Neeraj Gupta 2012-02-02

   Hidayet - Thanks for your pull request. We will review it in next few days and get back to you if we have questions.</li>
<li>Neeraj Gupta 2012-02-15

   Signed CLA is in place.</li>
<li>Blain Hamon 2012-02-15

   To keep with the pattern of optional animated arguments in setters, I do want to have the following design pattern. The pull request will be up shortly, but Hidayet deserves full credit.
   
   <code><pre>
   
   var win=Ti.UI.createWindow({});
   win.open();
   
   var searchy = Ti.UI.createSearchBar({top:0,height:44});
   win.add(searchy);
   var showHide = false;
   
   var button1 = Ti.UI.createButton({top:60,height:40,width:220,title:'Toggle cancel animated'});
   var button2 = Ti.UI.createButton({top:120,height:40,width:220,title:'Toggle cancel plain'});
   win.add(button1);
   win.add(button2);
   
   button1.addEventListener('click',function(){
   	showHide = !showHide;
   	searchy.setShowCancel(showHide,{animated:true});
   });
   
   button2.addEventListener('click',function(){
   	showHide = !showHide;
   	searchy.setShowCancel(showHide,{animated:false});
   });
   
   </pre></code>
   
   </li>
<li>Neeraj Gupta 2012-02-15

   Blain - Please make sure that we have this feature available on both iOS and Android platforms. </li>
<li>Neeraj Gupta 2012-02-16

   Sabil - You should resolve this bug and open another bug for Android.</li>
<li>Hidayet Dogan 2012-02-17

    I highly think that iOS and Android SDKs should be splitted. iOS features which does not supported by Android platform is totally pain for future Titanium SDK about supporting platform features. Ti.iOS, Ti.iPhone and Ti.iPad namespaces is not a solution.
    
    By the way Blain's pull request seems already pushed to master branch, I think this issue can be closed.</li>
<li>Shyam Bhadauria 2012-08-17

    Environment used for verification -
    Tested with Titanium SDK: 2.2.0.v20120816212512
    Tested with Titanium Â Studio: 2.1.1.201207271312
    Device - iOS 5.1 simulator
    Machine OS - MAC 10.8</li>
</ol>


<p><a href="/TIMOB/TIMOB-4244.json">JSON Source</a></p>