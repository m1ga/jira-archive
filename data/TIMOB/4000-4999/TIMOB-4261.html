---
title: "[TIMOB-4261] Android: Support making changes to root <activity> in <manifest> section of tiapp.xml, and having those changes be carried into generated manifest"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-06-09T08:52:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-23, Release 1.7.2, Release 1.8.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Eduardo Gomez</td></tr>
<tr><th>Created</th><td>2011-05-31T13:42:48.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-16T20:53:24.000+0000</td></tr>
</table>

<h3>Description</h3>

Example:  If I want to add the <code>android:alwaysRetainTaskState="true"</code> attribute to the KitchenSink's root activity entry in AndroidManifest.xml, I should be able to put the manifest entry for the KitchenSink root activity (.KitchensinkActivity) into tiapp.xml like below and have it carry into the generated AndroidManifest.xml

<code><pre>
&lt;manifest&gt;&lt;application&gt;
&lt;activity android:name=".KitchensinkActivity" 
   android:alwaysRetainTaskState="true" 
   android:configChanges="keyboardHidden|orientation" 
   android:label="Kitchensink" 
   android:name=".KitchensinkActivity" 
   android:theme="@style/Theme.Titanium"&gt;
  &lt;intent-filter&gt;
    &lt;action android:name="android.intent.action.MAIN"/&gt;
    &lt;category android:name="android.intent.category.LAUNCHER"/&gt;
  &lt;/intent-filter&gt;
&lt;/activity&gt;
&lt;/application&gt;&lt;/manifest&gt;
</pre></code>

(Note I put <code>android:alwaysRetainTaskState="true"</code> in there.)  Currently this works already for all activities *except* the root activity, and now we want it to work for the root activity as well.

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-06-08

   Pull request done. <a href="https://github.com/appcelerator/titanium_mobile/pull/111" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/111</a>
   
   To test (with the pull request's changes, of course):
   
   * Open KitchenSink's tiapp.xml.
   * You'll notice that in the android->manifest->application section there is an <code>&lt;activity&gt;</code> entry for the KitchenSink's root activity.
   * Note that that <code>activity</code> entry has the <code>android:alwaysRetainTaskState="true"</code> attribute on it.  That is a non-standard attribute that is *not* part of our template AndroidManifest.xml.
   * Build and run KS.
   * Look at the generated AndroidManifest.xml (build/android/AndroidManifest.xml) and confirm that the <code>activity</code> entry for the root activity (the activity with <code>android:name=".KitchensinkActivity</code> has the <code>android:alwaysRetainTaskState="true"</code> as well.
   </li>
<li>Lee Morris 2017-03-16

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4261.json">JSON Source</a></p>