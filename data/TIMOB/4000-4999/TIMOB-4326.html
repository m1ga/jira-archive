---
title: "[TIMOB-4326] iOS: Inconsistent Object Access on Windows"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2011-06-22T17:33:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-27</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Dawson Toth</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-06-06T11:39:59.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-03T05:56:40.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
If you add an object to a window (for example, a custom property "foo"), only the initial value of the property is used.

<h4>Sample Code</h4>
Drop this in an app.js and run it. No other interaction is required.

The following sample stores an object in two places -- the "foo" variable, and in win's "foo" property. The code below tests that both places are referring to the same object by doing a couple assignments. If everything goes well, an alert proclaiming: "PASS!" will show up. Otherwise, "FAIL:" will show up.
<code><pre>
var win = Ti.UI.createWindow();
win.open();

// initialize
var foo = { bar: 'Assign1'};
// store it in window
win.foo = foo;
// reassign through the local object
foo.bar = 'Assign2';
// and then reassign through the window property
win.foo.bar = 'Assign3';

// now check the values
Ti.API.info('foo.bar = ' + foo.bar);
Ti.API.info('win.foo.bar = ' + win.foo.bar);
if (foo.bar != 'Assign3') {
    alert('FAIL: foo.bar != "Assign3"');
}
else if (win.foo.bar != 'Assign3') {
    alert('FAIL: win.foo.bar != "Assign3"');
}
else {
    alert('PASS: All assignments looked good.');
}
</pre></code>

<h4>Expected Behavior</h4>
Since we're dealing with a single object, and storing it in two locations, we should be able to change its properties in any of the places the reference is stored and get the updated value out.

<h4>Tested On</h4>
See "Environment".

<h4>Associated Helpdesk Ticket</h4>
<a href="http://appc.me/c/APP-744341" rel="nofollow" target="_blank">http://appc.me/c/APP-744341</a>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2011-06-22

   Duplicate of 2392. The issue is that proxy accessors are copy on read and copy on write (due to the nature of proxies storing properties in Objective C, not JS). As mentioned there, fixing will involve deep changes and possibly removing multi-contexts for JS. Very nontrivial.</li>
<li>Lee Morris 2017-03-03

   Closing issue due to time passed and irrelevance of the ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4326.json">JSON Source</a></p>