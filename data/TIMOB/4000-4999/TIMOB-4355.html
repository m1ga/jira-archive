---
title: "[TIMOB-4355] iOS: barImages Stack (and Never Go Away)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-10-27T15:44:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-29, Release 1.8.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Dawson Toth</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-06-09T12:53:44.000+0000</td></tr>
<tr><th>Updated</th><td>2012-04-13T09:11:23.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
If you specify a barImage on a window in a nav group, that image never goes away. Subsequent images will stack. Nav bar contents like titles or buttons will show up behind them.

<h4>Sample Code</h4>
Drop the following in an app.js. It only needs "appicon.png" in your resources directory. To reproduce:
1. Look at the nav bar (it is OK)
2. Touch "Open Child 2"
3. Touch "Child 1" (it's a back button in the top left)
4. Look at the nav bar (the bar image from the child is there)
5. Rotate the device 90 degrees
6. Touch "Open Child 2"
7. Look at the nav bar (the portrait bar image is there, plus a new landscape bar image, and the title is hidden)
<code><pre>
var parent = Ti.UI.createWindow({
    navBarHidden: true, modal: true
});

var child1 = Ti.UI.createWindow({
    title: 'Child 1'
});
child1.setRightNavButton(Ti.UI.createButton({
    systemButton: Ti.UI.iPhone.SystemButton.DONE
}));

var nav = Ti.UI.iPhone.createNavigationGroup({
    window: child1
});
parent.add(nav);

var openNewChildButton = Ti.UI.createButton({ title: 'Open Child 2' });
openNewChildButton.addEventListener('click', function() {
    var child2 = Ti.UI.createWindow({ title: 'Child 2', barImage: 'appicon.png', barColor: '#000' });
    nav.open(child2);
});
child1.add(openNewChildButton);

parent.open();
</pre></code>

<h4>Possibly Related To</h4>
[TIMOB-2834]

<h4>Associated Helpdesk Ticket</h4>
<a href="http://appc.me/c/APP-115938" rel="nofollow" target="_blank">http://appc.me/c/APP-115938</a>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2011-07-19

   When testing, test for a regression of TIMOB 3770. If there's other tests that involve blurs on close, those might be good as well.</li>
<li>Eric Merriman  2011-07-21

   Pull request 262 does provide a fix, but the navbar image is present after the animation and redraw of the original window. If possible, it would be best to remove the image prior to animating and redrawing the first window.</li>
<li>Blain Hamon 2011-07-25

   I'm going to have to go with 'intentional design'. The behavior of not removing the graphic until the window is fully closed is to avoid the tab graphics flickering if both windows happen to have the same graphic.
   
   The full and utterly correct solution requires more work into NavGroup and Tab, and should be tabled for later.</li>
<li>Vikramjeet Singh 2011-08-29

   Tested On: 
   Mac OSX Lion
   TiMob: 1.8.0v20110819142548
   TiStud: 1.0.4.201108101535
   
   Devices:
   iPhone4 version 4.2.10
   iPad2 version 4.3.5
   iPod 3</li>
<li>Clifton Labrum 2012-04-13

   This issue persists if you have a 3rd window (and presumably more windows after that).
   
   Parent - barImage and custom nav buttons work
   Child - barImage and custom nav buttons work
   Grandchild - barImage covers nav buttons
   
   Simply add an additional window to the sample code on this ticket to reproduce the issue.</li>
<li>Clifton Labrum 2012-04-13

   Oh, and I'm using Titanium Mobile 1.8.2</li>
</ol>


<p><a href="/TIMOB/TIMOB-4355.json">JSON Source</a></p>