---
title: "[TIMOB-4468] Android: Created module check out fails due to .svn directories"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-08-01T09:21:12.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-31, Release 1.7.3, Release 1.8.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_other, verification</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Don Thorp</td></tr>
<tr><th>Created</th><td>2011-06-21T10:17:21.000+0000</td></tr>
<tr><th>Updated</th><td>2011-12-19T18:55:42.000+0000</td></tr>
</table>

<h3>Description</h3>

There's a HD ticket having this issue: <a href="http://support.appcelerator.com/display/APP-478438" rel="nofollow" target="_blank">http://support.appcelerator.com/display/APP-478438</a>

Rationale: 
Whenever a newly created iphone module is imported into subversion, check out fails due to bug in the build.py script in the presence of .svn directories.

Steps to replicate:

1) create new module:
"/Library/Application Support/Titanium/mobilesdk/osx/1.7.0/titanium.py" create --platform=iphone --type=module --dir=. --name=testmodule1 --id=com.test.testmodule1 --version=0.1

2) import into subversion

3) in a fresh directory checkout from subversion

4) run ./build.py
fails with the following message:
---
Traceback (most recent call last):
  File "./build.py", line 193, in <module>
    package_module(manifest,mf,config)
  File "./build.py", line 173, in package_module
    docs = generate_doc(config)
  File "./build.py", line 57, in generate_doc
    md = open(os.path.join(docdir,file)).read()
IOError: [Errno 21] Is a directory
Build step 'Execute shell' marked build as failure
---


<h3>Comments</h3>

<ol>
<li>Dawson Toth 2011-07-08

   The "ignoreFiles" portion is already fixed by [TIMOB-4554] and [TIMOB-4598]. I'll add directory ignoring as well, once I verify it is necessary.</li>
<li>Dawson Toth 2011-07-08

   Bumped up priority to this release, as this is a bit of an annoying bug without an easy fix for customers. It's really simple for us to fix, on the other hand.</li>
<li>Dawson Toth 2011-07-08

   <h4>Pull Request</h4>
   Sent in a pull request; it will now ignore directories, instead of crashing. Maybe in the future we can descend into directories and create a nice structure.
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/206" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/206</a></li>
<li>Dawson Toth 2011-07-08

   Note that the iOS version of this is being taken care of in [TIMOB-4554].</li>
<li>Dawson Toth 2011-07-08

   I've got an open pull request on this; just need someone on the platform team to verify and work ya'lls magic.</li>
<li>Eric Merriman  2011-09-29

   Installed Subversion on Mac OS 10.6.8, Install "Version" subversion client for Mac. Created local repo. Modified titanium.py create command above from "iphone" to "android" platform. Created a module. Imported into Repo. Checked out in fresh folder. verified presence of .svn hidden folders in checked-out folder. Ran 1.7.3.v20110928185013/plugin/all/build.py on check-out folder. Did not fail, but did receive:
   [WARN] please update the manifest key: 'copyright' to a non-default value
   [WARN] please update the manifest key: 'license' to a non-default value
   [WARN] please update the LICENSE file with your license text before distributing
   
   verified zipped file: __project_id__-0.1.zip created.
   
   I repeated this process with SDK 1.7.0 but could not reproduce failure described in this bug.</li>
<li>Eric Merriman  2011-12-19

   Based on previous testing and the following, closing:
   Based on test instructions from Bill for the root cause I verified building a module with extra folders in the docs.
   Verified with 1.8.0.1.RC3 </li>
</ol>


<p><a href="/TIMOB/TIMOB-4468.json">JSON Source</a></p>