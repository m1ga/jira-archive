---
title: "[TIMOB-4537] iOS: Ability to obtain intermediate response headers when the url is redirected in a xhr request"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-06-15T18:27:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Anirudh Nagesh</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-06-30T14:42:07.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-15T18:27:57.000+0000</td></tr>
</table>

<h3>Description</h3>

The current getResponseheaders() will return the headers of one url which is called in the xhr request. If the url is redirected to multiple url's, the above function does not return the intermediate response headers. Currently, it returns the header information of the last redirected url.

Step1: Run the code below.
Step2: type in <a href="http://google.com" rel="nofollow" target="_blank">http://google.com</a> in the below link and check the headers.
<a href="https://apigee.com/console/others#" rel="nofollow" target="_blank">https://apigee.com/console/others#</a>
You can see that the url is redirected to <a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>
Step3: The code returns header information of <a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a> but not <a href="http://google.com" rel="nofollow" target="_blank">http://google.com</a>
<code><pre>
var win = Titanium.UI.createWindow();
var button2 =  Ti.UI.createButton({
 	top:90,
 	title:'xhr get',
 	height:40
 	
 });
 

 win.add(button2);
 var client = Titanium.Network.createHTTPClient();

button2.addEventListener('click',function(e)
{
		
 	client.onload = function() 
 	{
    Titanium.API.info("Loaded! Status: " + this.status);
    
    var contentType = this.getResponseHeader('Set-Cookie');
   Titanium.API.info("Content-Type: " + contentType);
   alert(contentType);
   
     };
 
 
	client.open("GET", '<a href="http://google.com" rel="nofollow" target="_blank">http://google.com</a>');
	
	client.send();
	
});
win.open();
</pre></code>


<h3>Comments</h3>

<ol>
<li>Lee Morris 2017-06-15

   Closing ticket due to time passed and lack of progress in the past few years. Any problems, please file a new ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4537.json">JSON Source</a></p>