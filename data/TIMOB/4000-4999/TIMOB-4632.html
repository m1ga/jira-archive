---
title: "[TIMOB-4632] Can't open a large file as a stream"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2011-10-31T13:09:42.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-44</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>filesystem, streams</td></tr>
<tr><th>Reporter</th><td>Mark Burggraf</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2011-07-06T10:00:11.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-31T17:23:45.000+0000</td></tr>
</table>

<h3>Description</h3>

When trying to open a large file in order to copy it to another location, the app crashes, trying to allocate enough memory to copy the entire file into memory.  This happens on the call to open the file, so a buffered read of a large file is not possible.  For example:

var infile = Ti.Filesystem.getFile("app://myLargeFile.db");
var instream = infile.open(Titanium.Stream.MODE_READ);

In this case, myLargeFile.db is a 13mb file, and causes the app to crash on the call to infile.open.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-4632_23960/bigText.txt.zip">bigText.txt.zip</td></td><td>2011-10-31T13:12:28.000+0000</td><td>347477</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2011-07-09

   I am not aware of any <code>Ti.Filesystem.File.open()</code> method. Please would you change your usecase code to use only the methods published in the [official APIDocs](<a href="http://developer.appcelerator.com/apidoc/mobile/latest)." rel="nofollow" target="_blank">http://developer.appcelerator.com/apidoc/mobile/latest).</a>  Thank you</li>
<li>Mark Burggraf 2011-07-09

   I am using code posted on your official blog, here:
   
   Titanium Mobile Intro Series: Streams
   Published on May 4, 2011 by Bill Dawson (Platform Engineer)
   <a href="http://developer.appcelerator.com/blog/2011/05/titanium-mobile-intro-series-streams.html" rel="nofollow" target="_blank">http://developer.appcelerator.com/blog/2011/05/titanium-mobile-intro-series-streams.html</a>
   
   I am using the exact sample code posted in this article under the FileStream Example.</li>
<li>Mark Burggraf 2011-07-09

   Speaking of documentation...
   The FileStream object is documented here:
   <a href="http://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Filesystem.FileStream-object.html" rel="nofollow" target="_blank">http://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Filesystem.FileStream-object.html</a>
   
   However, there are no open methods documented -- only close methods.  The examples are incomplete and confusing, saying things like:
   
   var inStream = // stream object could be socket, file, buffer or blob
   
   This is an incomplete example.  How do you open a file object as a stream?  The documentation says it's possible, but does not say how.</li>
<li>Paul Dowsett 2011-07-09

   </li>
<li>Dawson Toth 2011-07-12

   There's also the undocumented "Ti.Filesystem.openStream(Ti.Filesystem.MODE_READ, 'test.log')" method to contend with.</li>
<li>Don Thorp 2011-07-12

   Mark, Paul, Dawson. Is this still occurring after TIMOB-4612?</li>
<li>Hieu Pham 2011-10-31

   Test Code: "bigTexts.txt" is uploaded to this ticket. It is 46mb.
   <code><pre>
   var win = Ti.UI.createWindow();
   var infile = Ti.Filesystem.getFile("bigTexts.txt");
   var instream = infile.open(Titanium.Stream.MODE_READ);
   win.open();
   </pre></code>
   
   Git hash version:
   
   commit e69cc8f31db0e3745f6bbdef2934be0cc9e1407e
   Merge: 9aea8e9 e4a5362
   </li>
<li>Lee Morris 2017-03-31

   Closing ticket as it has been over 5 years since the last update. Please open a new ticket if you have a problem.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4632.json">JSON Source</a></p>