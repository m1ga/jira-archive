---
title: "[TIMOB-4665] iPhone: AudioPlayer does not play streaming media"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2011-08-08T13:43:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-32</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Miguel Vizcaino</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-07-13T16:03:21.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-29T21:52:34.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem:</h4>
AudioPlayer does not play streaming media over the Internet.

{quote}
This works fine on url / files but not on streams like SHOUTcast
<a href="http://www.shoutcast.com" rel="nofollow" target="_blank">http://www.shoutcast.com</a>

I have never gotten the onload / onerror event fired on a XMLHttpRequest

<h4>Customer </h4>
wants to avoid -> File Error: _"Unable to configure network read stream"_
{quote}

<code><pre>
var audio_stream = Titanium.Media.createAudioPlayer();
var playing = false;
var now_playing_data_timer = undefined;
var tabGroup = Ti.UI.createTabGroup();
  
var win = Titanium.UI.createWindow({  
    title:'Listen',
    backgroundColor:'#000'
});
var tab = Titanium.UI.createTab({  
   	icon:'KS_nav_views.png',
   	title:'Listen',
   	window:win
});
var text = Titanium.UI.createLabel({
  	color:'blue',
  	text:'Song:',
  	width:'auto',
  	top: 0,
  	left:0
});  
var imageview = Titanium.UI.createImageView({
  	image:"<a href="http://2.bp.blogspot.com/_ZqpzRV9D624/TNnn-FLSgmI/AAAAAAAAAAs/8ca4flYJKhg/S350/logo%2Bde%2Bmusica%2B1.png" rel="nofollow" target="_blank">http://2.bp.blogspot.com/_ZqpzRV9D624/TNnn-FLSgmI/AAAAAAAAAAs/8ca4flYJKhg/S350/logo%2Bde%2Bmusica%2B1.png</a>",
  	height:100,
  	width:110,
  	top:150,
  	backgroundColor:'white'
});
var play_button = Titanium.UI.createButton({
    image: "playbutton.png",
    width: 110,
    height: 80,
    top: 10,
    title:"Play",
    color: "red"
});
var play_stream = function(stream_url){
   	playing = true;
    audio_stream.setUrl(stream_url);
    audio_stream.start();
};
var stop_stream = function(){
    playing = false;
    audio_stream.stop();
};
win.addEventListener('open', function(e) {
	init();
});  
var init = function() {
	win.add(text);
    win.add(play_button);
    win.add(imageview);
}; 
play_button.addEventListener('click',function()
{
    var xhr = Ti.Network.createHTTPClient();
 	var stream_url = '<a href="http://yp.shoutcast.com/sbin/tunein-station.pls?id=1268400" rel="nofollow" target="_blank">http://yp.shoutcast.com/sbin/tunein-station.pls?id=1268400</a>';

	xhr.onload = function(e) {
		playing = true;
  		audio_stream.setUrl(stream_url);
    	audio_stream.start();
	};
 
	xhr.onerror = function(e) {
		alert(e.error);
	};
 	xhr.setTimeout(10000);
	xhr.open('GET', stream_url);
	xhr.file = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory,'tunein-station.pls');
	xhr.send(); 	
});
tabGroup.addTab(tab);
tabGroup.open();
</pre></code> 

<h4>Associated Helpdesk Ticket</h4>

<a href="http://support.appcelerator.com/tickets/APP-577977" rel="nofollow" target="_blank">http://support.appcelerator.com/tickets/APP-577977</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4665_21829/playbutton.png">playbutton.png</td></td><td>2011-07-13T16:03:21.000+0000</td><td>3223</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2011-08-08

   The url in the sample code does not contain a stream. Instead, it is a text file, not sound. It is the end developer's responsibility to parse the text file, find urls in it that actually _are_ of streams, and then pass a stream url to audioPlayer.</li>
<li>Alexis Gaitan 2012-09-23

   same issue, can be fixed?</li>
<li>Lee Morris 2017-03-29

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4665.json">JSON Source</a></p>