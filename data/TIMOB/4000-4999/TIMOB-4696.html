---
title: "[TIMOB-4696] iOS: Cannot retrieve property value set in tiapp.xml using Ti.App.Properties API"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-10-10T08:46:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-39, Release 1.7.4, Release 1.8.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_app_properties, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Anirudh Nagesh</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2011-07-15T12:44:33.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:46:28.000+0000</td></tr>
</table>

<h3>Description</h3>

We cannot retrieve the property value set in tiapp.xml using Ti.App.properties API even though it is documented in the WIKI.
<a href="http://wiki.appcelerator.org/display/guides/tiapp.xml+and+timodule.xml+Reference#tiapp.xmlandtimodule.xmlReference-Applicationproperties" rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/tiapp.xml+and+timodule.xml+Reference#tiapp.xmlandtimodule.xmlReference-Applicationproperties</a>

Step1: Copy the following code in app.js
<code><pre>
Titanium.UI.setBackgroundColor('white');

var win = Titanium.UI.createWindow();
alert(Ti.App.Properties.getString("appstate"));
win.open();
</pre></code>
Step2: Add the following line to tiapp.xml
<property name="appstate" type="string">DEV</property>
Step3: Run the app, and you can see the alert message is null.



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4696_23079/4696.zip">4696.zip</td></td><td>2011-09-27T17:28:19.000+0000</td><td>1901147</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Eduardo Gomez 2011-07-15

   <h4>Associated HD ticket</h4>
   <a href="http://appc.me/c/APP-274595" rel="nofollow" target="_blank">http://appc.me/c/APP-274595</a></li>
<li>Anirudh Nagesh 2011-07-18

   <h4>Associated Helpdesk ticket.</h4>
   <a href="http://appc.me/c/APP-131697" rel="nofollow" target="_blank">http://appc.me/c/APP-131697</a></li>
<li>Sabil Rahim 2011-09-27

   pull pending pull #518</li>
<li>Mike Robinson 2011-10-11

   iOS Fix seems to prevent retrieving existing Ti.App.Properties not found within tiapp.xml.
   
   Removing both calls to new loadUserDefaults function in TiApp.mm seems to fix that, but that leaves this ticket still an issue.
   
   See:
   <a href="http://developer.appcelerator.com/question/126711/ios-fix-to-timob-4696-causing-to-not-find-existing-tiapp-properties" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/126711/ios-fix-to-timob-4696-causing-to-not-find-existing-tiapp-properties</a></li>
<li>Sabil Rahim 2011-10-11

   Mike , thanks for catching that so quickly, i have already made a new pull to fix this issue pull #548 and timob-5494.</li>
<li>Natalie Huynh 2011-10-20

   Tested with 1.7.4.v20111020142213, Titanium Studio, build: 1.0.6.201110171921 on 
   Simulator 4.1
   iPad 5.0
   Properties are retrieved and returned values are correct with rebuild
   Leaving open to confirm with 1.8</li>
<li>Natalie Huynh 2011-10-21

   Tested with 1.7.4.v201110021114614 and Titanium Studio, build: 1.0.6.201110202348 on
   iPhone 4s (5.0)
   iPhone 3g (3.1.2)
   Properties are retrieved and returned values are correct with rebuild
   Leaving open to confirm with 1.8</li>
<li>Natalie Huynh 2011-11-14

   Tested with 1.8.0.1.v20111114102656 on
   iPad 2 (4.3.5)
   iPod Touch (4.0.2)
   iPhone 4s (5.0)
   Xoom 3.2.1 (Android Fails - Bug 6189)</li>
</ol>


<p><a href="/TIMOB/TIMOB-4696.json">JSON Source</a></p>