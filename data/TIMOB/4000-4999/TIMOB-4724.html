---
title: "[TIMOB-4724] KitchenSink: Runtime error after selecting gallery image in Base UI>Views>Email Dialog"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-07-20T21:55:25.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-29, Release 1.7.2, Release 1.8.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>kitchensink</td></tr>
<tr><th>Reporter</th><td>Eric Merriman </td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-07-19T16:39:00.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:46:10.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:
While testing KitchenSink, Base UI>Views>Email Dialog, I Started the test, the gallery opened to choose a photo attachment and I selected one. When I did this, I got a runtime error dialog.

This does not occur with 1.7.1. This also occurs on the Galaxy Tab.

Steps to Reproduce:
1) Launch KS, built with 1.7.2
2) Navigate to Base UI>Views>Email Dialog
3) Select a photo from the gallery

Result:
Runtime error

Expected results:
image selected and email prepared

Notes:
See attached image
Does not occur with 1.7.1

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4724_21892/device-2011-07-18-141344.png">device-2011-07-18-141344.png</td></td><td>2011-07-19T16:39:00.000+0000</td><td>33612</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Eric Merriman  2011-07-19

   Logcat output:
   07-18 14:13:26.180: ERROR/TiMedia(861): (main) [13489,375724] OnResult called: -1
   07-18 14:13:26.223: ERROR/KrollMethod(861): (kroll$24: app://examples/email_dialog.js) [42,375766] Exception calling kroll method isSupported, invocation: null ]
   07-18 14:13:26.223: ERROR/KrollMethod(861): java.lang.NullPointerException
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at ti.modules.titanium.ui.EmailDialogProxy.getAttachmentUris(EmailDialogProxy.java:251)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at ti.modules.titanium.ui.EmailDialogProxy.buildIntent(EmailDialogProxy.java:115)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at ti.modules.titanium.ui.EmailDialogProxy.isSupported(EmailDialogProxy.java:71)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at ti.modules.titanium.ui.EmailDialogProxyBindingGen$1.invoke(EmailDialogProxyBindingGen.java:119)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at org.appcelerator.kroll.KrollMethod.call(KrollMethod.java:51)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1701)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:854)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:426)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3177)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:162)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at org.appcelerator.titanium.kroll.KrollCallback.callSync(KrollCallback.java:139)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at org.appcelerator.titanium.kroll.KrollCallback$1.run(KrollCallback.java:164)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at android.os.Handler.handleCallback(Handler.java:587)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at android.os.Handler.dispatchMessage(Handler.java:92)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at android.os.Looper.loop(Looper.java:130)
   07-18 14:13:26.223: ERROR/KrollMethod(861):     at org.appcelerator.titanium.kroll.KrollHandlerThread.run(KrollHandlerThread.java:86)
   07-18 14:13:26.243: ERROR/KrollCallback(861): (kroll$24: app://examples/email_dialog.js) [4,375770] Error evaluating source, invocation: [callMethod (anonymous) org.appcelerator.titanium.kroll.KrollCallback@407c8bb0], message: Wrapped java.lang.NullPointerException (app://examples/email_dialog.js#17)
   07-18 14:13:26.243: ERROR/KrollCallback(861): org.mozilla.javascript.WrappedException: Wrapped java.lang.NullPointerException (app://examples/email_dialog.js#17)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.mozilla.javascript.Context.throwAsScriptRuntimeEx(Context.java:1786)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.appcelerator.kroll.KrollMethod.call(KrollMethod.java:85)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1701)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at script(app://examples/email_dialog.js:17)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:854)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:426)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3177)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:162)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.appcelerator.titanium.kroll.KrollCallback.callSync(KrollCallback.java:139)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.appcelerator.titanium.kroll.KrollCallback$1.run(KrollCallback.java:164)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at android.os.Handler.handleCallback(Handler.java:587)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at android.os.Handler.dispatchMessage(Handler.java:92)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at android.os.Looper.loop(Looper.java:130)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.appcelerator.titanium.kroll.KrollHandlerThread.run(KrollHandlerThread.java:86)
   07-18 14:13:26.243: ERROR/KrollCallback(861): Caused by: java.lang.NullPointerException
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at ti.modules.titanium.ui.EmailDialogProxy.getAttachmentUris(EmailDialogProxy.java:251)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at ti.modules.titanium.ui.EmailDialogProxy.buildIntent(EmailDialogProxy.java:115)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at ti.modules.titanium.ui.EmailDialogProxy.isSupported(EmailDialogProxy.java:71)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at ti.modules.titanium.ui.EmailDialogProxyBindingGen$1.invoke(EmailDialogProxyBindingGen.java:119)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     at org.appcelerator.kroll.KrollMethod.call(KrollMethod.java:51)
   07-18 14:13:26.243: ERROR/KrollCallback(861):     ... 12 more
   07-18 14:13:26.247: WARN/IInputConnectionWrapper(615): showStatusIcon on inactive InputConnection
   07-18 14:13:26.247: ERROR/TiJSError(861): (kroll$24: app://examples/email_dialog.js) [20,375790] ----- Titanium Javascript Runtime Error -----
   07-18 14:13:26.247: ERROR/TiJSError(861): (kroll$24: app://examples/email_dialog.js) [1,375791] - In app://examples/email_dialog.js:17,0
   07-18 14:13:26.247: ERROR/TiJSError(861): (kroll$24: app://examples/email_dialog.js) [0,375791] - Message: Wrapped java.lang.NullPointerException (app://examples/email_dialog.js#17)
   07-18 14:13:26.247: ERROR/TiJSError(861): (kroll$24: app://examples/email_dialog.js) [1,375792] - Source: null</li>
<li>Thomas Huelbert 2011-07-20

   Jul 20 2011 07:02 r97c36894 galaxy xoom (3.2) g2 (2.2.2) galaxy pad (2.3.4)</li>
<li>Don Thorp 2011-07-20

   Need to add Sprint.</li>
<li>Don Thorp 2011-07-20

   Added sprint and task type.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4724.json">JSON Source</a></p>