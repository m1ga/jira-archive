---
title: "[TIMOB-4800] Ti.UI.backgroundColor/Ti.UI.backgroundImage not translucent"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-12T04:16:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.0, Release 1.7.1, Release 1.7.2, Release 1.8.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-07</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, module_view, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Alan Vaghti</td></tr>
<tr><th>Assignee</th><td>Josh Roesslein</td></tr>
<tr><th>Created</th><td>2011-07-26T17:26:38.000+0000</td></tr>
<tr><th>Updated</th><td>2012-09-10T12:26:45.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Setting background on Root Window</h4>

1) Create project in TiStudio and replace app.js with 

<code><pre>
Ti.UI.backgroundColor = '#f00';
Ti.UI.backgroundImage = 'KS_nav_ui.png';

var win = Ti.UI.createWindow();
win.open();
</pre></code>

(or use attached Resources folder)

2) Launch application

Expected: Image appears with a red background.
Actual: Only image appears. (See screen shot)

Note: 
Talked to Jon Alter about this. He says it isn't a major issue because he doesn't see a circumstance where someone would set the background this way.

It is a parity issue. Setting the background this way works as expected on iOS devices.

<h4>Setting background on a view.</h4>

Verify image is shown with a red background.
Also verify background color changes when the state of the
view changes (ex: focused, selected).

<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor: 'white',
	layout: 'vertical'
});

var colorView = Ti.UI.createView({
	width: 400, height: 400,
	focusable: true,
	backgroundColor: 'blue',
	backgroundImage: 'background.png',
	backgroundSelectedColor: 'red',
	backgroundFocusedColor: 'yellow',
	backgroundDisabledColor: 'black'
});
win.add(colorView);

var disableButton = Ti.UI.createButton({
	title: 'Enable/Disable View',
	width: 150
});
disableButton.on('click', function() {
	colorView.enabled = !colorView.enabled;
});
win.add(disableButton);

win.open();
</pre></code>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4800_21975/device.png">device.png</td></td><td>2011-07-26T17:26:38.000+0000</td><td>59543</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4800_21974/Resources.zip">Resources.zip</td></td><td>2011-07-26T17:26:38.000+0000</td><td>2310699</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-4800_26228/Screen Shot 2012-03-14 at 10.00.54 PM.png">Screen Shot 2012-03-14 at 10.00.54 PM.png</td></td><td>2012-03-14T21:06:41.000+0000</td><td>156927</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Tim Poulsen 2012-03-14

   This bug applies to views of all sorts, in addition to windows as described here. See the screen shot I attached (side-by-side simulators). I'm using a transparent gradient png in addition to a background color to provide visual depth to the columns in the chart. On iOS, they are translucent and show the background color. On Android, the background color is masked.
   
   <code><pre>
   var bar = Ti.UI.createView({
     width:'100%',
     height: 100,
     backgroundColor: 'blue',
     backgroundImage: 'gradient1.png',
     left: 0, right: 0,
     bottom:32		
   });
   </pre></code>
   
   Tested on various SDKs including 2.0.0.v20120314154741</li>
<li>Neeraj Gupta 2012-03-15

   Documentation team needs this fix for samples.</li>
<li>Josh Roesslein 2012-04-04

   Pull request [#1916](<a href="https://github.com/appcelerator/titanium_mobile/pull/1916)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1916)</a> sent.</li>
<li>Arthur Evans 2012-05-24

   It appears that normal background images (i.e., View.backgroundImage) are now translucent. That is, if you set both View.backgroundColor and View.backgroundImage, they are composited now.
   
   In 2.0.1 and earlier, the image is not composited with the BG color unless:
   
   - Window.windowPixelFormat is translucent, for example, Ti.UI.Android.PIXEL_FORMAT_TRANSLUCENT.
   - Window.modal is true (modal windows are always translucent)
   
   Is this related? Is it a regression?</li>
<li>Eric Merriman  2012-06-18

   Verified fixed with SDK 2.1.0.v20120618102300 on Droid</li>
<li>Neha Chhabra 2012-07-12

   Reopening to update labels.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4800.json">JSON Source</a></p>