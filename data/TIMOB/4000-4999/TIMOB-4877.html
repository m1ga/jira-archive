---
title: "[TIMOB-4877] Android: activityIndicator does not show in app.js without setTimeout"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Trivial</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-07-10T22:04:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>tbs-1.9.0</td></tr>
<tr><th>Reporter</th><td>Jon Alter</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2011-08-03T09:55:27.000+0000</td></tr>
<tr><th>Updated</th><td>2017-07-10T22:04:29.000+0000</td></tr>
</table>

<h3>Description</h3>

In the code below, you will never see the activity indicator if you do not use setTimeout

Step 1: run the code below
Step 2: notice that you do not see an activity indicator or the blue window
Step 3: uncomment the setTimeout
Step 4: run the app again
Step 5: notice that the activity indicator and blue window show as expected.

<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor: 'blue'
});

var actInd = Titanium.UI.createActivityIndicator({
	bottom:100, 
	height:50,
	width:10,
	style:Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN,
	font: {fontFamily:'Helvetica Neue', fontSize:15,fontWeight:'bold'},
	color: 'white',
	message: 'Loading...',
	width: 210
});

var loadingWin = Ti.UI.createWindow({
		backgroundImage: Ti.Platform.name == 'iPhone OS' ? 'Default.png':'default.png' ,
		fullscreen: true
});

loadingWin.open();
loadingWin.add(actInd);
actInd.show();

// setTimeout(function(){
	for(var i = 0; i&lt;3000; i++){
		Ti.API.info(i);
	}
	loadingWin.close();
	actInd.hide();
	win.open();
// },0);
</pre></code>

<h4>Workaround</h4>
Use setTimeout as shown in the example above.

<h4>Associated Helpdesk Ticket</h4>
<a href="http://appc.me/c/APP-571741" rel="nofollow" target="_blank">http://appc.me/c/APP-571741</a>

<h3>Comments</h3>

<ol>
<li>Allen Yeung 2011-10-14

   Not much we can do here since it's an issue with JS multithreading.  I would use the workaround as you suggested with setTimeout() or add an event listener for the 'open' event like:
   
   <code><pre>
   var win = Ti.UI.createWindow({
   	backgroundColor: 'blue'
   });
   
   var actInd = Titanium.UI.createActivityIndicator({
   	bottom:100, 
   	height:50,
   	width:10,
   	style:Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN,
   	font: {fontFamily:'Helvetica Neue', fontSize:15,fontWeight:'bold'},
   	color: 'white',
   	message: 'Loading...',
   	width: 210
   });
   
   var loadingWin = Ti.UI.createWindow({
   		backgroundImage: Ti.Platform.name == 'iPhone OS' ? 'Default.png':'default.png' ,
   		fullscreen: true
   });
   
   loadingWin.open();
   loadingWin.add(actInd);
   
   actInd.show();
   
   loadingWin.addEventListener('open', function () { 
   	for(var i = 0; i&lt;1000; i++){
   		Ti.API.info(i);
   	}
   
   	loadingWin.close();
   	actInd.hide();
   	win.open();
   });
   </pre></code></li>
<li>Lee Morris 2017-07-10

   Closing ticket due to time passed and lack of progress for a number of years. Please open a new ticket if there are any problems.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4877.json">JSON Source</a></p>