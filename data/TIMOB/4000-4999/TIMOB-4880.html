---
title: "[TIMOB-4880] TiAPI: Replace calls to api.appcelerator.net/p/v1/geo with direct calls to Google API"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-03-05T20:23:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.5</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>tbs-1.9.0</td></tr>
<tr><th>Reporter</th><td>Chung Liu</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2011-08-03T11:15:08.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-07T21:31:41.000+0000</td></tr>
</table>

<h3>Description</h3>

Ti.Geolocation.forwardGeocoder and Ti.Geolocation.reverseGeocoder make calls to api.appcelerator.net/p/v1/geo, which in turn makes calls to Google or Yahoo, and returns data in json format.

Unfortunately we are exceeding the 24-hour limits on the free calls to Google and Yahoo, and the calls often start failing at a certain time of the day. To continue offering this service we would have to start paying Google or Yahoo for the calls.

The Titanium implementation of forward/reverse geocoder should be changed to directly use Google geolocation API V3, which does not require an API key. Since an API key is not required, the developer doesn't have to encode credentials in the app.

<a href="http://code.google.com/apis/maps/documentation/geocoding/" rel="nofollow" target="_blank">http://code.google.com/apis/maps/documentation/geocoding/</a>

If Titanium directly calls the Google API without going through api.appcelerator.net, the calls will be originating from different IP addresses, so the 24-hour limit will not be an issue.

The returned data from the Google API can be reformatted to match what Ti.Geolocation.forwardGeocoder and Ti.Geolocation.reverseGeocoder return now, so this change can be backwards compatible.

I am setting the priority of this issue to High, because the API is currently failing during certain periods when the daily limit is exceeded and Google decides to block us.



<h3>Comments</h3>

<ol>
<li>Chung Liu 2011-11-28

   Don, 
   
   We did some additional hacks, but the geo calls are now failing roughly between 8pm and midnight because we are reaching both the Google and Yahoo rate limits.
   
   I asked Jo Ann, and she says we should replace this with a direct Google V3 call from the client, rather than pay for an account with a higher query limit. 
   
   The Google V3 geo API does not require a key, so it can be completely implemented in the Titanium client side, calling the Google server endpoint directly, in a way that is API compatible with the current Ti.Geolocation call.
   
   Let me know what you think. Can this be scheduled for an upcoming release, or are there other issues to consider?
   
   Thanks,
   
   Chung</li>
<li>Chung Liu 2012-01-16

   The implementation of this new feature should satisfy CLOUDENG-167 if possible.</li>
<li>Neeraj Gupta 2012-03-05

   We have decided not to implement this functionality at the SDK level as it violates the licensing terms. Cloud team has come up with a good solution on the server side.</li>
<li>Rasiel Rodriguez 2012-03-12

   Neeraj,
   
   Did you guys changed the implementation and also broke the response from your service? <a href="http://developer.appcelerator.com/question/133548/reversegeocoder-is-returning-a-different-format" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/133548/reversegeocoder-is-returning-a-different-format</a></li>
<li>Lee Morris 2017-06-07

   Closing ticket, please open a new ticket if any more problems persist.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4880.json">JSON Source</a></p>