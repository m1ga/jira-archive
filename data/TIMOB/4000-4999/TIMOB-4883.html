---
title: "[TIMOB-4883] Android: CreateLoginButton for Facebook opens blank window (fix included)"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2011-12-22T12:24:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>android, facebook</td></tr>
<tr><th>Reporter</th><td>Alan Leard</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2011-08-03T14:27:50.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:46:41.000+0000</td></tr>
</table>

<h3>Description</h3>

When using CreateLoginButton of the facebook module some device running Android 2.2 and 2.3.3 have the login window stay blank.

This is a known Android problem that has fixes not included in the Ti module.

problem: <a href="https://github.com/facebook/facebook-android-sdk/issues/5" rel="nofollow" target="_blank">https://github.com/facebook/facebook-android-sdk/issues/5</a> 

<a href="http://www.google.com/#sclient=psy&hl=en&source=hp&q=andorid+facebook+login+blank&pbx=1&oq=andorid+facebook+login+blank&aq=f&aqi=&aql=&gs_sm=e&gs_upl=2085l2777l1l3088l5l4l0l0l0l0l287l985l0.1.3l4l0&bav=on.2" rel="nofollow" target="_blank">http://www.google.com/#sclient=psy&hl=en&source=hp&q=andorid+facebook+login+blank&pbx=1&oq=andorid+facebook+login+blank&aq=f&aqi=&aql=&gs_sm=e&gs_upl=2085l2777l1l3088l5l4l0l0l0l0l287l985l0.1.3l4l0&bav=on.2</a>,or.r_gc.r_pw.r_cp.&fp=e88d11602cf2fea7&biw=1429&bih=885

Solution:

<a href="http://myunixworld.blogspot.com/2010/11/android-facebook-sdk-issue-fix-for.html" rel="nofollow" target="_blank">http://myunixworld.blogspot.com/2010/11/android-facebook-sdk-issue-fix-for.html</a>

Add following code to FbWebViewClient class in FbDialog.java file.
<code><pre>
@Override
public void onReceivedSslError(WebView view, SslErrorHandler handler,
SslError error) {

handler.proceed();
}
</pre></code>
That mean your code would look like:
<code><pre>
private class FbWebViewClient extends WebViewClient {
@Override
public void onReceivedSslError(WebView view, SslErrorHandler handler,
SslError error) {

handler.proceed();
}
</pre></code>

Ticket and Fix provided by Moshe Marciano 

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-08-22

   All code submissions, no matter how small, require a [pull request and signing of the CLA](<a href="http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium)." rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium).</a>   [CLA](<a href="http://appc.me/cla)" rel="nofollow" target="_blank">http://appc.me/cla)</a></li>
<li>Bill Dawson 2011-08-22

   Looking at this further, we couldn't accept this code anyway, for a few reasons:
   
   a) the <code>onReceivedSslError</code> api appears first in api level 8.  Titanium builds to 7.
   
   b) More importantly, it seems to me that this code gives the user no say as to whether to investigate  certificate error, and just accepts the certificate as-is.  This would open up all users of our Facebook module to man-in-the-middle attacks.
   
   This problem -- which I've never seen (though I can tell other people have) -- needs to be fixed upstream at Facebook.  I'll proceed now by checking the last version of Facebook's code and see if they have a solution.</li>
<li>Bill Dawson 2011-08-25

   A look at latest code from Facebook shows no difference that would affect this.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4883.json">JSON Source</a></p>