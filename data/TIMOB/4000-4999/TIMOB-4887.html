---
title: "[TIMOB-4887] Android: Integrity scout crashes when attempting to create/open window with URL: nativePath"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-07-10T22:22:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>integrity, scout</td></tr>
<tr><th>Reporter</th><td>Eric Merriman </td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-08-03T17:49:51.000+0000</td></tr>
<tr><th>Updated</th><td>2017-07-10T22:22:50.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:
While evaluating some techniques for porting existing test cases into integrity, Vasyl on the Integrity team gave us some code to illustrate a simple form of the method the integrity harness uses to open .js files. This code works on iOS devices and the iOS simulator, but crashes when run on Android device/emulator. The crash occurs when clicking the button to open a new window:

var win = Ti.UI.createWindow({backgroundColor: '#fff'});

// Place a .js file into applicationDataDirectory
var file = Titanium.Filesystem.getFile(
	Titanium.Filesystem.applicationDataDirectory,
	'script.js'
);

file.write("Ti.UI.currentWindow.add(\
	Ti.UI.createLabel({\
		text:'Some text',\
		top: 100,\
		left: 50,\
		width: 100,\
		height:50\
	})\
);");

var btn = Titanium.UI.createButton({
    title: 'Next test',
    width: 100,
    height: 40,
    left: 50
});

btn.addEventListener('click', function() {
        // Open window with new context
        Ti.UI.createWindow({
                url: file.nativePath
        }).open();
});

win.add(btn);
win.open();

Steps to Reproduce:
1) Create a new mobile project with 1.7.2 release
2) Paste code above into app.js
3) Run in emulator or run on device
4) Click the "Next Test" button

Result:
The application crashes. See log for details.

Expected result:
The text "Some text" appears.

Notes: Does not occur on iOS

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-4887_22215/logcat.txt">logcat.txt</td></td><td>2011-08-03T17:49:51.000+0000</td><td>6115</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Lee Morris 2017-07-10

   Closing ticket due to time passed and lack of progress for a number of years. Please open a new ticket if there are any problems.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4887.json">JSON Source</a></p>