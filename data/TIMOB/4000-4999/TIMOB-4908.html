---
title: "[TIMOB-4908] getPersonByID crashes if ID does not exist"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2011-09-08T14:51:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-36</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Alan Leard</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2011-08-05T13:31:17.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-24T18:22:17.000+0000</td></tr>
</table>

<h3>Description</h3>

If you try to reference Ti.Contacts.getPersonByID(); with an ID that is invalid, it crashes the application.  Using an if statement or a try/catch still crashes.  See example below:

<code><pre>

var win = Titanium.UI.createWindow();

/*Use to find a valid ID
Ti.Contacts.showContacts({
    animated: true,
    selectedPerson: function(e) {
        alert(e.person.recordId);
    }
});
*/

p = Ti.Contacts.getPersonByID(3);
alert(p.fullName);

win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Sabil Rahim 2011-08-22

   PULL PENDING #405 <a href="https://github.com/appcelerator/titanium_mobile/pull/405" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/405</a> </li>
<li>Moshe Marciano 2011-09-05

   This fix is fine, but is incomplete.
   
   the file ContactPerson.m has a record method of it's own that does not rely on the one fixed in ContactModule.m, therefor, the crash still occurs if you try to use the fullName method on an contactPerson that doesn't exist
   
   
   this is an excerpt:
   
   if (record == NULL) {
   		if (recordId != kABRecordInvalidID) {
   			record = ABAddressBookGetPersonWithRecordID([module addressBook], recordId);
   		}</li>
<li>Sabil Rahim 2011-09-08

   getpersonByID returns a NUll if it doesn't exist. and trying to access a null variable fullname would raise an exception in javascript itself.</li>
<li>Sabil Rahim 2011-09-08

   the correct usage for these methods can be found in KitchenSink.
   </li>
<li>Pedro Enrique 2011-09-15

   Example of this working correctly can be found in this file from the KS:
   
   <a href="https://github.com/appcelerator/titanium_mobile/blob/master/demos/KitchenSink/Resources/examples/contacts_searchById.js" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/demos/KitchenSink/Resources/examples/contacts_searchById.js</a></li>
<li>Lee Morris 2017-03-24

    Closing ticket as invalid with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-4908.json">JSON Source</a></p>