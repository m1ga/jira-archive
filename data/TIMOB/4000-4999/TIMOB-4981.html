---
title: "[TIMOB-4981] Android: Analytics send ti.end a few minutes later than actual end"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2011-12-03T13:37:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>analytics, branch-v8, ti.end</td></tr>
<tr><th>Reporter</th><td>Natalie Huynh</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2011-08-10T15:33:24.000+0000</td></tr>
<tr><th>Updated</th><td>2012-02-09T11:12:59.000+0000</td></tr>
</table>

<h3>Description</h3>

Steps to Reproduce:
1. Run Analytics application from Barcelona/QE/TestFiles/FeatureTest
2. Launch application
3. Click Feature Event
4. Click Nav Event
5. Click Setting Event
6. Click User Event
7. Press the home button

Actual Result:
"id":"379ea05d-2fc2-4559-9be5-a9a200400a1a:443fca8aacd792be","sid":"88a57ad8-e852-4cb0-bf1d-abb8bfd20572","ts":"2011-08-10T21:16:17.430+0000","event":"featureEvent.testButton","data":[],"seq":3,"mid":"443fca8aacd792be","ver":"2","type":"app.feature","aguid":"bc4628b5-99eb-4877-91df-aa9a4771920e"}
{"id":"63b0cac6-a8b7-4653-8090-24685cd37c14:443fca8aacd792be","sid":"88a57ad8-e852-4cb0-bf1d-abb8bfd20572","ts":"2011-08-10T21:16:18.648+0000","event":"navEvent.testButton","data":{"to":"there","data":[],"event":"navEvent.testButton","from":"here"},"seq":4,"mid":"443fca8aacd792be","ver":"2","type":"app.nav","aguid":"bc4628b5-99eb-4877-91df-aa9a4771920e"}
{"id":"954af0f2-4008-4ae5-89b1-215218dfcf79:443fca8aacd792be","sid":"88a57ad8-e852-4cb0-bf1d-abb8bfd20572","ts":"2011-08-10T21:16:19.846+0000","event":"settingsEvent.testButton","data":[],"seq":5,"mid":"443fca8aacd792be","ver":"2","type":"app.settings","aguid":"bc4628b5-99eb-4877-91df-aa9a4771920e"}
{"id":"360cd6ac-6f6d-4914-82d2-f57632549eae:443fca8aacd792be","sid":"88a57ad8-e852-4cb0-bf1d-abb8bfd20572","ts":"2011-08-10T21:16:26.649+0000","event":"userEvent.testButton","data":[],"seq":6,"mid":"443fca8aacd792be","ver":"2","type":"app.user","aguid":"bc4628b5-99eb-4877-91df-aa9a4771920e"}
{"id":"0ab70e2f-123a-43bc-bc30-ea8393799c54:443fca8aacd792be","sid":"88a57ad8-e852-4cb0-bf1d-abb8bfd20572","ts":"2011-08-10T21:20:33.236+0000","event":"ti.end","data":{"value":""},"seq":7,"mid":"443fca8aacd792be","ver":"2","type":"ti.end","aguid":"bc4628b5-99eb-4877-91df-aa9a4771920e"}

Note the ti.end has a timestamp of 21:20, but the app was terminated right after the app.user event. This will cause the average session time to be off by many minutes.

Expected Result:
ti.end should be within seconds of app.user event.

<h3>Comments</h3>

<ol>
<li>Natalie Huynh 2011-11-10

   Tested with 1.8.0.1.v20111109125619
   With Rhino/v8, do not see the ti.end ever being sent with the Nook 2.2
   All other events are sent</li>
<li>Eric Merriman  2011-11-10

   Tested with 1.8.0.1.v20111110101521 on Nexus S 2.3.6. 
   With v8, I saw ti.end events. With Rhino I did not. All other events were sent.</li>
<li>Hieu Pham 2011-12-03

   Tested with Nat on latest master and seems to work fine now.</li>
<li>Thomas Huelbert 2012-02-09

   closing as we are not able to reproduce using master (1.9.0 Feb 9 2012 09:46 rd47ce8a4)</li>
</ol>


<p><a href="/TIMOB/TIMOB-4981.json">JSON Source</a></p>