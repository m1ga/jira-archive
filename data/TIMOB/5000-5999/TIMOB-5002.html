---
title: "[TIMOB-5002] Android: setting android:screenOrientation for an activity in AndroidManifest.xml does not work"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2012-02-10T00:33:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2, Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Jon Alter</td></tr>
<tr><th>Assignee</th><td>Opie Cyrus</td></tr>
<tr><th>Created</th><td>2011-08-15T08:49:10.000+0000</td></tr>
<tr><th>Updated</th><td>2012-02-10T00:33:26.000+0000</td></tr>
</table>

<h3>Description</h3>

setting android:screenOrientation for an activity in AndroidManifest.xml does not work with 1.7.2 but it does with 1.6.2

Step 1: run the code below
Step 2: use a custom AndroidManifest.xml (documented in the wiki)
Step 3: add android:screenOrientation="portrait" to the TiTabActivity in the AndroidManifest.xml 
<code><pre>
&lt;activity android:name="ti.modules.titanium.ui.TiTabActivity"
			android:screenOrientation="portrait"
			android:configChanges="keyboardHidden|orientation" /&gt;
</pre></code>
Step 4: launch the app
Step 5: rotate the device
Step 6: notice that the tabGroup does not rotate if you run this in 1.6.2 but it does rotate in 1.7.2

<code><pre>
var tabGroup = Titanium.UI.createTabGroup();

var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff'
});
var tab1 = Titanium.UI.createTab({  
    icon:'KS_nav_views.png',
    title:'Tab 1',
    window:win1
});
var label1 = Titanium.UI.createLabel({
	color:'#999',
	text:'I am Window 1',
	font:{fontSize:20,fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});

win1.add(label1);

var win2 = Titanium.UI.createWindow({  
    title:'Tab 2',
    backgroundColor:'#fff'
});
var tab2 = Titanium.UI.createTab({  
    icon:'KS_nav_ui.png',
    title:'Tab 2',
    window:win2
});
var label2 = Titanium.UI.createLabel({
	color:'#999',
	text:'I am Window 2',
	font:{fontSize:20,fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});
win2.add(label2);

tabGroup.addTab(tab1);  
tabGroup.addTab(tab2);  

tabGroup.open();
</pre></code>

<h4>Workaround</h4>
Use the orientationModes property of window
<code><pre>
win2.orientationModes = [
			Titanium.UI.PORTRAIT
		]; 
</pre></code>

<h4>Associated Helpdesk Ticket</h4>
<a href="http://appc.me/c/APP-688371" rel="nofollow" target="_blank">http://appc.me/c/APP-688371</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-5002_22847/TiTest.zip">TiTest.zip</td></td><td>2011-09-07T12:37:47.000+0000</td><td>7935433</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jon Alter 2011-08-15

   Tried removing android:configChanges="keyboardHidden|orientation" from the tag. It had no affect on the rotation not working.
   
   <code><pre>
   &lt;activity android:name="ti.modules.titanium.ui.TiTabActivity"
   			android:screenOrientation="portrait"
   	/&gt;
   </pre></code></li>
<li>Opie Cyrus 2011-09-07

   Attaching test app that shows overriding the orientation mode in the tiapp.xml</li>
<li>Wilson Luu 2011-12-19

   Reopening bug. Bug persists on:
   
   SDK build: 1.8.0.1.RC3
   Runtime: V8, Rhino
   Titanium Studio, build: 1.0.7.201112152014
   Device: Android Emulator 2.2, Nexus One (2.2.2)
   OS: Mac OS X Lion
   
   Note: To test the custom AndroidManifest:
   1. Create a *platform* folder at the same level as Resource
   2. Create an *android* folder in the *platform* folder
   3. Add the AndroidManifest.xml to the *android* folder</li>
<li>Opie Cyrus 2012-01-03

   Unable to reproduce the issue against 1.9.0 with the following AndroidManifest.xml put in the platform/android location.
   
   <code><pre>
   &lt;?xml version="1.0" encoding="utf-8"?&gt;
   &lt;manifest xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"
   	package="com.appcelerator.test" android:versionCode="1"
   	android:versionName="1"&gt;
   	&lt;uses-sdk android:minSdkVersion="8" /&gt;
   
   	&lt;application android:icon="@drawable/appicon"
   		android:label="test" android:name="TestApplication"
   		android:debuggable="false"&gt;
   
   		&lt;activity android:name=".TestActivity"
   			android:label="test" android:theme="@style/Theme.Titanium"
   			android:configChanges="keyboardHidden|orientation"&gt;
   			&lt;intent-filter&gt;
   				&lt;action android:name="android.intent.action.MAIN" /&gt;
   				&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
   			&lt;/intent-filter&gt;
   		&lt;/activity&gt;
   
   		
   
   		&lt;activity android:name="org.appcelerator.titanium.TiActivity"
   			android:configChanges="keyboardHidden|orientation" /&gt;
   		&lt;activity android:name="org.appcelerator.titanium.TiTranslucentActivity"
   			android:configChanges="keyboardHidden|orientation"
   			android:theme="@android:style/Theme.Translucent" /&gt;
   		&lt;activity android:name="org.appcelerator.titanium.TiModalActivity"
   			android:configChanges="keyboardHidden|orientation"
   			android:theme="@android:style/Theme.Translucent" /&gt;
   		&lt;activity android:name="ti.modules.titanium.ui.TiTabActivity"
   			android:screenOrientation="landscape" 
   			android:configChanges="keyboardHidden|orientation" /&gt;
   		&lt;activity android:name="ti.modules.titanium.ui.android.TiPreferencesActivity" /&gt;
   
   		&lt;service android:name="org.appcelerator.titanium.analytics.TiAnalyticsService"
   			android:exported="false" /&gt;
   		
   
   	&lt;/application&gt;
   
   	&lt;uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/&gt;
   	&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt;
   	&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/&gt;
   	&lt;uses-permission android:name="android.permission.INTERNET"/&gt;
   	
   
   &lt;/manifest&gt;
   </pre></code></li>
<li>Benjamin Jeanjean 2012-01-23

   This works with 1.9.0 but not 1.7.5
   Just tested with your AndroidManifest.xml Opie.</li>
<li>Thomas Huelbert 2012-02-09

   closing as we are not able to reproduce using master (1.9.0 Feb 9 2012 09:46 rd47ce8a4). fix will not be seen in 1.7.X branches</li>
</ol>


<p><a href="/TIMOB/TIMOB-5002.json">JSON Source</a></p>