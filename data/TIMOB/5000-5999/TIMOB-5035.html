---
title: "[TIMOB-5035] iOS: TableView insertRowBefore index"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-05-09T05:03:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 10</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>insertafter, insertbefore, ios, table_view, tableviewrow</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>jithinpv</td></tr>
<tr><th>Created</th><td>2011-08-17T13:09:32.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T22:21:49.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
It looks like 'insertRowBefore' is 1-index-based, insertRowBefore(1) will insert a row before the row at position 0 (first item).

So it would be expected insertRowBefore(1) to insert a row before the row at position 1 (see screenshot attached).

<h4>Repro Sequence</h4>
<code><pre>
// this sets the background color of the master UIView (when there are no windows/tab groups on it)
Titanium.UI.setBackgroundColor('#000');

// create tab group
var tabGroup = Titanium.UI.createTabGroup();

//
// create base UI tab and root window
//
var win1 = Titanium.UI.createWindow({
	title : 'Tab 1',
	backgroundColor : '#fff'
});
var tab1 = Titanium.UI.createTab({
	icon : 'KS_nav_views.png',
	title : 'Tab 1',
	window : win1
});

//
// create controls tab and root window
//
var win2 = Titanium.UI.createWindow({
	title : 'Tab 2',
	backgroundColor : '#fff'
});
var tab2 = Titanium.UI.createTab({
	icon : 'KS_nav_ui.png',
	title : 'Tab 2',
	window : win2
});

//
//  add tabs
//
tabGroup.addTab(tab1);
tabGroup.addTab(tab2);

var table = Ti.UI.createTableView({
});

var i, len = 2;
var rows = [];
var row;

for( i = 0; i &lt;= len; i++) {
	row = Ti.UI.createTableViewRow({
		height : 50,
		className : 'tableRow',
		touchEnabled : true,
		focusable : true, 
	});
	row.add(Ti.UI.createLabel({
		text : 'Row ' + i
	}));
	rows.push(row);
};// For

table.setData(rows);
win1.add(table);

var button = Ti.UI.createButton({
	title : 'Add Row - insertRowBefore 1',
	top : 25,
	height : 25
});

button.addEventListener('click', function() {
	var newRow1 = Ti.UI.createTableViewRow({
		height : 50,
		className : 'tableRow',
		touchEnabled : true,
		focusable : true
	});
	
	newRow1.add(Ti.UI.createLabel({
		text : 'New Row inserted before position 1'
	}));
	
	table.insertRowBefore(1, newRow1);	
});

win2.add(button);

var button2 = Ti.UI.createButton({
	top: 125, height:25, title : 'Add Row - insertRowAfter 1',
});

button2.addEventListener('click',function(){
		var newRow2 = Ti.UI.createTableViewRow({
		height : 50,
		className : 'tableRow',
		touchEnabled : true,
		focusable : true
	});
	newRow2.add(Ti.UI.createLabel({
		text : 'New Row inserted After position 1'
	}));

	table.insertRowAfter(1, newRow2);
});

win2.add(button2);

// open tab group
tabGroup.open();


table.addEventListener('click', function(e)
{
	var myIndex = e.index;
	Ti.API.info('Current Indices: '+  myIndex);
});
</pre></code>

<h4>Console output</h4>
Clicked the Table view Rows in order to retrieve current indices
{noformat}
[INFO] Current Indices: 0

[INFO] Current Indices: 1

[INFO] Current Indices: 2
{noformat}

<h4>Associated HD ticket</h4>
<a href="http://appc.me/c/APP-341733" rel="nofollow" target="_blank">http://appc.me/c/APP-341733</a>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-5035_40057/iOS Simulator Screen shot Jun 20, 2013 3.13.01 PM.png">iOS Simulator Screen shot Jun 20, 2013 3.13.01 PM.png</td></td><td>2013-06-20T09:40:46.000+0000</td><td>20715</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-5035_38281/iOS Simulator Screen shot May 8, 2013 10.34.54 PM.png">iOS Simulator Screen shot May 8, 2013 10.34.54 PM.png</td></td><td>2013-05-09T05:05:13.000+0000</td><td>18092</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-5035_22600/Rows.jpg">Rows.jpg</td></td><td>2011-08-17T13:09:32.000+0000</td><td>38437</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>jithinpv 2013-05-09

   cannot reproduce
   
   Tested with
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK version: 3.1.0
   iOS iPhone Simulator: iOS SDK version: 6.0</li>
<li>jithinpv 2013-06-20

   Issue does not reproduces
   
   Tested with
   
   iOS SDK: 5.1
   iOS iPhone Simulator: 5.1
   Mac OS X Version 10.7.5
   Titanium SDK version 3.1.1.v20130606121419
   Titanium Studio, build: 3.0.1.201212181159
   </li>
<li>Lee Morris 2017-03-21

   Closing ticket as the issue cannot be reproduced and due to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-5035.json">JSON Source</a></p>