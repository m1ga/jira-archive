---
title: "[TIMOB-5038] Android: API Parity: clickEvent are not handled in map annotations"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2017-07-19T17:59:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>annotation, api, clickEvent, map, parity</td></tr>
<tr><th>Reporter</th><td>Natalie Huynh</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-08-17T14:45:39.000+0000</td></tr>
<tr><th>Updated</th><td>2017-07-19T17:59:02.000+0000</td></tr>
</table>

<h3>Description</h3>

Steps to Reproduce:
1. Run the attached application
2. Click on Open Test
3. Click on the right titanium image in the annotation

Actual Result:
Nothing happens

Expected Result:
To display a different annotation

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-5038_22787/MapAnnotations.zip">MapAnnotations.zip</td></td><td>2011-09-01T16:15:19.000+0000</td><td>2354555</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Marshall Culpepper 2011-09-01

   We need to update with more details: when does the click event of an annotation actually occur, during the pin click, during the popup click, or both? Also a boiled down JS example would be helpful</li>
<li>Natalie Huynh 2011-09-01

   Trimmed test down to easily track the problem</li>
<li>Natalie Huynh 2011-09-01

   Android:
   Clicking on the pin displays and hides the map annotation. 
   Click event is not taking the click on the right view item in map annotation.
   
   iOS:
   Clicking on the pin displays the map annotation, click elsewhere to hide
   Click on the right view, map annotion changes, pin changes
   Pin does not take click events when map annotation is up</li>
<li>Arthur Evans 2012-02-09

   I did some testing on this sample against current master.
   
   Looking at the logging, the click event IS being generated. However, there are a couple of issues:
   
   - On Android, the event is generated with clicksource = 'rightPane', not 'rightButton', so that branch is never executed.
   
   - If I change the logic to use (clicksource == 'rightButton' || clicksource == 'rightPane'), I can see the branch get executed, but the changes to the annotation never show up. Perhaps this is related to TIMOB-2236?</li>
<li>Arthur Evans 2012-02-09

   By further paring down the test case in this report, I came up with a crash, reported as TIMOB-7610.
   
   This crash would explain why the annotation is not getting updated, except that we're not seeing the crash.
   
   Question: could the platform be catching this NPE because it's occurring inside the click event handler? That could explain the observed behavior.</li>
<li>Lee Morris 2017-07-19

   Closing ticket due to time passed and lack of progress for a number of years. Please open a new ticket if there are any problems.</li>
</ol>


<p><a href="/TIMOB/TIMOB-5038.json">JSON Source</a></p>