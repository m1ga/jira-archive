---
title: "[TIMOB-5076] Android: update timodule.xml documentation to explain token substitutions"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-01-24T12:41:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-02, Release 2.0.0, Release 1.8.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>modules, timodule</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-08-22T13:40:30.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-04T00:45:54.000+0000</td></tr>
</table>

<h3>Description</h3>

(The wiki page that needs updating is: <a href="https://wiki.appcelerator.org/display/guides/tiapp.xml+and+timodule.xml+Reference" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/tiapp.xml+and+timodule.xml+Reference</a> ).

Module developers can now include tokens in their timodule.xml file's <android><manifest> section.  These tokens will be replaced with real values from an app's tiapp.xml when building an app that includes the module.  For example, if the module includes a new android <permission>, the <code>android:name</code> of that permission may require the app id of the application *using* the module, which of course the module developer cannot know beforehand.  So with this new tokening feature, the module developer can put a token in which will be replaced when the application is built.

E.g.,

<code><pre>
<android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>">
  <manifest>
    <permission android:name="${tiapp.properties['id']}.permission.MY_NEW_PERMISSION"
		android:protectionLevel="signature" />
  </manifest>
</android>
</pre></code>

As you can see, the token looks like:

<code><pre>
${tiapp.properties['id']}
</pre></code>

So in that example, <code>tiapp.properties</code> refers to a collection of all of the top-level element names you always find in tiapp.xml, such as <code><id></code>, <code><name></code>, <code><version></code>, <code><publisher></code> etc.  To access a member of the collection -- like we've done in the example with "id" -- use square brackets with the property name in quotes inside.

When an app with id "com.appcelerator.bogus" which contains the module is built using the above example, the app's AndroidManifest.xml will end up with a ...

<code><pre>
<permission android:name="com.appcelerator.bogus.permission.MY_NEW_PERMISSION"
		android:protectionLevel="signature" />
</pre></code>

... in it.


<h3>Comments</h3>

<ol>
<li>Arthur Evans 2012-01-24

   I updated the page. Please review:
   
   <a href="https://wiki.appcelerator.org/display/guides/tiapp.xml+and+timodule.xml+Reference#tiapp.xmlandtimodule.xmlReference-timodule.xml" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/tiapp.xml+and+timodule.xml+Reference#tiapp.xmlandtimodule.xmlReference-timodule.xml</a></li>
<li>Bill Dawson 2012-01-24

   Exactly!</li>
<li>Bill Dawson 2012-01-24

   There are no QE needs for this, so closing entirely.</li>
</ol>


<p><a href="/TIMOB/TIMOB-5076.json">JSON Source</a></p>