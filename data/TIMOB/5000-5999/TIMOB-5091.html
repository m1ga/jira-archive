---
title: "[TIMOB-5091] iOS: Call Facebook.authorize() from alert dialog"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2011-11-18T11:34:37.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Wienke</td></tr>
<tr><th>Assignee</th><td>Reggie Seagraves</td></tr>
<tr><th>Created</th><td>2011-08-24T06:06:56.000+0000</td></tr>
<tr><th>Updated</th><td>2011-11-18T11:34:58.000+0000</td></tr>
</table>

<h3>Description</h3>

Since 1.6.x to 1.7.x functionality with regards calling Ti.Facebook.authorize() does not work inside an alert dialog event listener.

<code><pre>
Titanium.Facebook.appid =  "181219095251677";
Titanium.Facebook.permissions = ['publish_stream', 'read_stream', 'offline_access'];
 
facebookNotConnected = function() {
    if(Ti.Facebook.loggedIn === false) {
        var alertDialog = Titanium.UI.createAlertDialog({
            title : 'Facebook',
            message : 'You need to login with Facebook',
            buttonNames : ['Login Facebook', 'No Thanks']
        });
        alertDialog.addEventListener('click', function(e) {
            if(e.index === 0) {
                Titanium.Facebook.authorize();
            };
        });
        alertDialog.show();
    }
}
</pre></code>

However, when the authorize call is placed in a setTimeout with at least 400ms, the authorize call works just fine.
 
See Q&A: <a href="http://developer.appcelerator.com/question/124236/call-facebookauthorize-from-alert-dialog" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/124236/call-facebookauthorize-from-alert-dialog</a>

<h3>Comments</h3>

<ol>
<li>Wienke 2011-11-18

   Dear Appcelerator,
   
   
   Are there plans on fixing this. I think this is a widely used feature. Because the Facebook popup is familiar it is way more trusted then using the Graph API with a own UI.
   
   Kind regards,
   Wienke Giezeman</li>
<li>Don Thorp 2011-11-18

   Launching a dialog from another dialog is not supported and not generally a good idea. Consider hiding the dialog and using an app level event to launch the FB dialog.</li>
</ol>


<p><a href="/TIMOB/TIMOB-5091.json">JSON Source</a></p>