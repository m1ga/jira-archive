---
title: "[TIMOB-5115] Memory leak on iPad app"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2011-12-01T16:00:32.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-48</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>1.7.2, look1, memory</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Eduardo Gomez</td></tr>
<tr><th>Created</th><td>2011-08-26T09:55:41.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-23T21:44:11.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
Labels are being stack up and never going away memory. As the attached screenshot shows up (#LIVING column has over 6300 objects).

<h4>Steps to reproduce</h4>
The steps are as follows:
{noformat}
1.)    Go to the events tab
2.)    Open a event and then close it
3.)    Repeat opening and closing event 30-50 times
4.)    The application will slow to a crawl
{noformat}

<h4>Repro sequence</h4>
The app resources are attached to ticket.

<h4>Associated HD ticket</h4>
APP-885985

<h4>Further info</h4>
The function to debug is createEventsDetailWindow. It is also maybe more like 30 times or so and it starts to really slow down. You can tell that the window starts populating slower and slower as you open and close more events.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-5115_22691/AllocationsMemory.jpg">AllocationsMemory.jpg</td></td><td>2011-08-26T09:55:41.000+0000</td><td>143897</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-5115_22772/Resources-5115.zip">Resources-5115.zip</td></td><td>2011-09-01T07:21:13.000+0000</td><td>908779</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2011-08-31

   There's no sample code, and the helpdesk ticket is closed to me (IE, "The ticket you are trying to open is private, doesn't exist or it is not valid"). Given how often this has happened, or worse, the ticket completely lost when helpdesk platforms change, we really should insist on all information, including source, is required in the Jira ticket, and that linking to any external sources, including helpdesk, is insufficient.</li>
<li>Blain Hamon 2011-09-01

   Code is now there</li>
<li>Ryan DuVal 2011-11-08

   Can I ask the status on this?</li>
<li>Blain Hamon 2011-11-08

   Took instruments to this again, and did some deep introspection into the Titanium engine on this one.
   
     1) The latter windows are sticking around with a retain count of 2
     2) The two unmatched retains are missing [KrollObject release] and [KrollBridge unregister]. This means it is being held due to javascript.
     3) In the action of being closed, [self forgetSelf] IS being called, so the JS retention is not due to rememberself.
     4) In the lifetime of the window, it is not assigned as a property to any other proxy, so the JS retention is not due to rememberProxy
   
   Therefore, the memory leak is due to JS retention, and the retention is coming from the javascript itself. I'll be talking with Eduardo on this, as 30 to 40+KB of javascript is too large for a minimum fail case.</li>
<li>Blain Hamon 2011-12-01

   Talked with Shaq and Eduardo. Tentatively marking this as needs more info for now, until we get a minimum fail case.</li>
<li>Lee Morris 2017-03-23

   Closing ticket because the information that was requested was never provided.</li>
</ol>


<p><a href="/TIMOB/TIMOB-5115.json">JSON Source</a></p>