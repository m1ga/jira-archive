---
title: "[TIMOB-5178] TiAPI: Duplicate Symbol conflict with Async APIs"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-08-15T19:46:41.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2, Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-16 Core, Release 3.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>core, qe-port</td></tr>
<tr><th>Reporter</th><td>Jeff English</td></tr>
<tr><th>Assignee</th><td>Max Stepanov</td></tr>
<tr><th>Created</th><td>2011-08-30T15:30:55.000+0000</td></tr>
<tr><th>Updated</th><td>2013-01-09T11:45:04.000+0000</td></tr>
</table>

<h3>Description</h3>

When attempting to use a module that includes a 3rd party library, receiving Duplicate Symbol errors with several 'Async...' symbols. Specifically,

- AsyncSocket
- AsyncSpecialPacket
- AsyncWritePacket
- AsyncReadPacket

The 3rd party library also defines these same symbols and so it is unable to link.


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-5178_30118/build.log">build.log</td></td><td>2012-07-27T10:29:03.000+0000</td><td>1258305</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-5178_30488/list_symbols.sh">list_symbols.sh</td></td><td>2012-08-14T11:19:11.000+0000</td><td>718</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jeff English 2011-08-31

   The 3rd party library is provided as a static library that is used by the module. So we are unable to change the class names so that they do not conflict with ours. We are in contact with the provider of this particular static library to try and get a version that does not include or renames these symbols. </li>
<li>Jeff English 2011-08-31

   Renaming the aforementioned classes in Titanium source with a 'Ti' prefix will also resolve the conflicts.</li>
<li>Jeff English 2011-09-02

   Changing priority to next release since we are working with the 3rd party developer to get a version of their static library with these symbols renamed.</li>
<li>Jeff English 2012-06-29

   This issue of duplicate symbols for open source libraries that we use in Titanium is one of the most common issues that I hear from module developers. Most of the time the module developers don't have access to the library that they are trying to integrate as a module, so telling them to change their use of it is not a workable solution. We just need to 'namespace' those APIs in Titanium in order to fix this issue (e.g. by adding a 'Ti' prefix) and eliminate this as a customer engineering / module development issue.</li>
<li>Pedro Enrique 2012-06-29

   Adding _AsyncUdpSocket_ to the list</li>
<li>Stephen Tramer 2012-07-06

   Pulling in since this is a simple change and may affect another existing customer ticket already in this sprint (TIMOB-9452)</li>
<li>Carl Orthlieb 2012-07-10

   Ask by the customer (RDI/McDonalds) to pull in this ticket for 2.1.1 at the end of this month.</li>
<li>Blain Hamon 2012-07-11

   Pull merged.</li>
<li>Max Stepanov 2012-08-13

   Test instructions:
   1. Build KS project for device
   2. Open Terminal and cd to <KS_project>/build/iphone/build/KitchenSink.build/Debug-iphoneos/KitchenSink-universal.build/Objects-normal/armv7/
   3. Run attached list_symbols.sh file inside the directory above.</li>
<li>Max Stepanov 2012-08-14

    PR pending <a href="https://github.com/appcelerator/titanium_mobile/pull/2740" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2740</a></li>
<li>Blain Hamon 2012-08-15

    Second time's the charm. Pull merged.</li>
<li>Tamila Smolich 2012-12-07

    Closing as fixed. Tested on: 
    Titanium Studio, build: 3.0.0.201211301903
    Titanium SDK, build: 3.0.0.v20121206113203
    Devices: iPhone 4 (5.1.1)</li>
</ol>


<p><a href="/TIMOB/TIMOB-5178.json">JSON Source</a></p>