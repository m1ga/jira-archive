---
title: "[TIMOB-5294] iOS: HTTPClient onerror response is returning \"undefined\""
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2016-11-02T11:41:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, parity, tbs-2.1.0</td></tr>
<tr><th>Reporter</th><td>Eric Merriman </td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2011-09-15T14:49:28.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-31T17:29:33.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:
While trying to verify and close TIMOB-2383, I ran a modified version of the sample code (From Dawson) listed in the bug. While the code did trigger the "onerror" with 4xx and 5xx response codes, the alert produced a response of "Undefined" for e.error. This functions as expected on Android. Due to TIMOB-2383, I was unable to test this in 1.7.2.

{CODE}
var win = Ti.UI.createWindow({ backgroundColor: '#fff' });
var lbl = Ti.UI.createLabel({
    text: 'Waiting for response...', color: '#000',
    top: 40, left: 10,
    width: 300
});
win.add(lbl);
win.open();

var xhr = Ti.Network.createHTTPClient({
    onload: function(e) {
        alert('FAIL! "onload" ran when we got the error code ' + this.status + ' from the server!');
    },
    onerror: function(e) {
        alert('Error: ' + e.error);
    }
});
xhr.open('GET', '<a href="http://appc.me/test/simulateresponse?code=404" rel="nofollow" target="_blank">http://appc.me/test/simulateresponse?code=404</a>');
xhr.send();
{CODE}

Steps to reproduce:
1) Create a new mobile project in studio targeting SDK 1.8.0
2) Use the attached code for your app.js
3) Run in simulator or on iOS device

Result:
Alert produced as seen in that attached image (note, this is from my slightly modified version of the attached code above)

Expected:
And alert produced with text similar to: "Error: This is a custom status description for error code 500!"

Notes:
Could not test in 1.7.2
Does not occur on Android

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-5294_22952/onerrorResult.png">onerrorResult.png</td></td><td>2011-09-15T14:49:28.000+0000</td><td>86872</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hans Knöchel 2016-11-02

   Hi Eric. Just tested with our recent SDK's (5.5.x, 6.x) and am not able to reproduce the issue anymore. I guess it was fixed over the last 5 years, hehe.</li>
<li>Lee Morris 2017-03-31

   Closing ticket with reference to the above comment.</li>
</ol>


<p><a href="/TIMOB/TIMOB-5294.json">JSON Source</a></p>