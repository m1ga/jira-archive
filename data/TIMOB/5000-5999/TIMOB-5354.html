---
title: "[TIMOB-5354] iOS: Text area animation buggy"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-12-13T17:56:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2012 Sprint 25, 2012 Sprint 25 Core</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>core, module_textarea, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Sandeep Bhimavarapu</td></tr>
<tr><th>Assignee</th><td>Satyam Sekhri</td></tr>
<tr><th>Created</th><td>2011-09-23T12:03:12.000+0000</td></tr>
<tr><th>Updated</th><td>2013-01-03T11:01:23.000+0000</td></tr>
</table>

<h3>Description</h3>

The case here is that the text area is being animated, to adjust for the keyboard when TextArea is focused so that the user sees the bottom of the text area when he tries to edit the textarea. This looks good when animating the bottom up but looks weird when the user clicks 'return' on the keyboard and then the bottom of textarea comes down. It looks like the animation starts at a too high value for bottom.

Sample app.js:
{noformat}
var win = Titanium.UI.createWindow({backgroundColor: 'white'});

var ta1 = Ti.UI.createTextArea({
		value: 'Next level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably havent heard of them mixtape. High life letterpress shoreditch fap, mcsweeneys lomo master cleanse marfa vice wayfarers keffiyeh before they sold out dreamcatcher blog. Freegan you probably havent heard of them wolf, skateboard thundercats gentrify letterpress food truck portland mcsweeneys jean shorts photo booth shoreditch tumblr. Readymade food truck fixie, quinoa photo booth iphone blog etsy artisan level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably haven level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably havent heard of them mixtape. High life letterpress shoreditch fap, mcsweeneys lomo master cleanse marfa vice wayfarers keffiyeh before they sold out dreamcatcher blog. Freegan you probably havent heard of them wolf, skateboard thundercats gentrify letterpress food truck portland mcsweeneys jean shorts photo booth shoreditch tumblr. Readymade food truck fixie, quinoa photo booth iphone blog etsy artisan level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably haven level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably havent heard of them mixtape. High life letterpress shoreditch fap, mcsweeneys lomo master cleanse marfa vice wayfarers keffiyeh before they sold out dreamcatcher blog. Freegan you probably havent heard of them wolf, skateboard thundercats gentrify letterpress food truck portland mcsweeneys jean shorts photo booth shoreditch tumblr. Readymade food truck fixie, quinoa photo booth iphone blog etsy artisan level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably haven level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably havent heard of them mixtape. High life letterpress shoreditch fap, mcsweeneys lomo master cleanse marfa vice wayfarers keffiyeh before they sold out dreamcatcher blog. Freegan you probably havent heard of them wolf, skateboard thundercats gentrify letterpress food truck portland mcsweeneys jean shorts photo booth shoreditch tumblr. Readymade food truck fixie, quinoa photo booth iphone blog etsy artisan level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably haven level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably havent heard of them mixtape. High life letterpress shoreditch fap, mcsweeneys lomo master cleanse marfa vice wayfarers keffiyeh before they sold out dreamcatcher blog. Freegan you probably havent heard of them wolf, skateboard thundercats gentrify letterpress food truck portland mcsweeneys jean shorts photo booth shoreditch tumblr. Readymade food truck fixie, quinoa photo booth iphone blog etsy artisan level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably haven level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably havent heard of them mixtape. High life letterpress shoreditch fap, mcsweeneys lomo master cleanse marfa vice wayfarers keffiyeh before they sold out dreamcatcher blog. Freegan you probably havent heard of them wolf, skateboard thundercats gentrify letterpress food truck portland mcsweeneys jean shorts photo booth shoreditch tumblr. Readymade food truck fixie, quinoa photo booth iphone blog etsy artisan level lo-fi messenger bag, cosby sweater blog readymade iphone cardigan farm-to-table stumptown vice mlkshk. Leggings marfa vegan, wayfarers williamsburg mixtape before they sold out whatever Austin gentrify pitchfork iphone trust fund. Cosby sweater Austin messenger bag, squid american apparel fixie brunch beard blog scenester keytar. Gentrify vinyl you probably haven',
		backgroundColor: '#fce',
		top: 0,
		left: 0,
		right: 0,
		bottom: 0,
		color: 'green',
		font: {fontSize : 15},
		autoLink: Ti.UI.AUTODETECT_ALL
	});

ta1.addEventListener('focus', function(){
  var anim = Ti.UI.createAnimation({
		duration: 1500,
		bottom: 220
	});
	// Set the value to itself to force set position to end
	ta1.value = ta1.value;
	ta1.animate(anim);
});

ta1.addEventListener('blur', function(){
	var anim = Ti.UI.createAnimation({
		duration: 1500,
		bottom: 0
	});
	ta1.animate(anim);
});

win.add(ta1);
win.open()
{noformat}

It can be noticed that 11 lines of text is seen on focus but when the 'return' is hit, animation starts as if the textarea is higher than intended (5-6 lines are seen at the start of the animation)

<h3>Comments</h3>

<ol>
<li>Junaid Younus 2012-07-12

   Tested on the iOS simulator with 2.1GA, issue still exists.</li>
<li>Max Stepanov 2012-12-10

   Used to work in 3.0.0 master builds and then regressed by <a href="https://github.com/appcelerator/titanium_mobile/pull/2763" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2763</a>
   Fix is to have UIViewAnimationOptionBeginFromCurrentState in animation options.</li>
<li>Max Stepanov 2012-12-11

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/3568" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3568</a></li>
<li>Satyam Sekhri 2013-01-03

   On click of Return on keyboard, the text area animates down smoothly and also there is no gap between the last line of text and text area bottom border
   Verified on:
   Titanium Studio: 3.0.1.201212181159
   Titanium SDK: 3.1.0.v20130102102603
   iOS Device: iPhone 3GS (v5.1), iPad2 (v5.1)
   XCode: 4.5.2 </li>
</ol>


<p><a href="/TIMOB/TIMOB-5354.json">JSON Source</a></p>