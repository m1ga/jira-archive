---
title: "[TIMOB-5428] Android: Module native library files (*.so) only packaged on full build"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-10-05T13:04:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-40, Release 1.8.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>jni, module, modules, ndk, stage</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-10-04T14:00:55.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-26T13:56:27.000+0000</td></tr>
</table>

<h3>Description</h3>

If a module is being used by an application and that module has native library files in it (libs/armeabi/*.so), those library files are properly packaged into the app's .apk file only when a full build (i.e.,the first build) is done.  Not when incremental builds are done.  This leads to the app crashing when it tries to access anything in the module that calls into the native library.

Reproduce:

* Download and unzip the timob5428.zip here.
* Import the project into Titanium Studio.
* Build/release to emulator or device.
* When the app loads you should see a label that says "Hello from JNI, My Friend!".  That means it has successfully loaded a native library (.so file) that contains a method named <code>stringFromJNI</code>.
* Build/release the app again without making any changes.  This time it will crash when it's loading.

Sample stack trace:

<a href="http://pastie.org/2640420" rel="nofollow" target="_blank">http://pastie.org/2640420</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-5428_23321/timob5428.zip">timob5428.zip</td></td><td>2011-10-04T15:01:02.000+0000</td><td>2337931</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-10-04

   Pull request ready:
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/524" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/524</a></li>
<li>Alan Vaghti 2011-10-06

   Closing.
   
   Fix verified on Nexus One 2.2.2 with SDK 1.8.0.v20111006001414</li>
<li>ahmet mecid kaya 2013-12-26

   Hello,
   
   When I build my titanium module I did not get any error and return succesfull.But when I call in my android app, it doesnt open. Then I saw that my module doesnt create .so files How can i solve that ? 
   
   Thanks</li>
</ol>


<p><a href="/TIMOB/TIMOB-5428.json">JSON Source</a></p>