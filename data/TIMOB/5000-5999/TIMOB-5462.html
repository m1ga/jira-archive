---
title: "[TIMOB-5462] Hash in url when using openURL gets escaped - 1.7.2 / 1.8.x"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2011-10-11T10:28:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2, Release 1.8.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-41</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Qing Gao</td></tr>
<tr><th>Created</th><td>2011-10-06T16:19:48.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-02T22:20:37.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
Titanium.Platform.openURL method causes the url to break if URL is escaped with special characters.

e.g. <a href="http://mobile.twitter.com/?status=the" rel="nofollow" target="_blank">http://mobile.twitter.com/?status=the</a> free mom&#39;s Helper app from Fisher-Price

That will show: the free mom

<h4>Repro sequence</h4>
//If URL has an apostrophe shows like &# 39 ; 
Titanium.Platform.openURL("<a href="http://mobile.twitter.com/?status=the" rel="nofollow" target="_blank">http://mobile.twitter.com/?status=the</a> free mom's Helper app from Fisher-Price");

<h4>Tested on</h4>
iOS Simulator & iPad 2 v4.3.3

<h4>Associated HD ticket</h4>
APP-619486


<h3>Comments</h3>

<ol>
<li>Eduardo Gomez 2011-10-06

   None of these scape characters worked, to show an apostrophe
   
   {noformat}
   U+0027;
   /U0027
   &rsquo;
   &#8217;
   &#x2019;
   &apos;
   &39;
   &lsquo;
   &#160; 
   %27
   &#0027; 
   {noformat}</li>
<li>Reggie Seagraves 2011-10-10

   The client code should be properly encoding the URL before passing it to the openURL API using Ti.Network.encodeURIComponent.</li>
<li>Qing Gao 2011-10-11

   We can solve this problem by two steps.
   1. Use the following defined fixedEncodeURIComponent function to replaced some Unescaped characters with their encoded code.
   function fixedEncodeURIComponent (str) {  
       return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\(/g, '%28').  
                                      replace(/\)/g, '%29').replace(/\*/g, '%2A');  
   }
   2. Replace "mobile.twitter.com" with "twitter.com" in the URL. </li>
<li>Lee Morris 2017-03-02

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-5462.json">JSON Source</a></p>