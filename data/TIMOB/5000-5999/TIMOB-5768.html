---
title: "[TIMOB-5768] iOS: Black bar added over navBar when rotating back from full screen"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-01-05T13:20:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.3, Release 1.8.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-45, Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_orientation, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Alan Leard</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-10-17T07:50:04.000+0000</td></tr>
<tr><th>Updated</th><td>2014-09-10T17:57:32.000+0000</td></tr>
</table>

<h3>Description</h3>

If tiapp.xml is set to portrait only and you run the code below which goes to a fullscreen window then back to a non-fullscreen window, a black bar appears on top of a portion of the navBar. Screenshot: <a href="http://screencast.com/t/QhDdHvLUXtN" rel="nofollow" target="_blank">http://screencast.com/t/QhDdHvLUXtN</a>
<code><pre>
&lt;orientations device="iphone"&gt;
     &lt;orientation&gt;Ti.UI.PORTRAIT&lt;/orientation&gt;
&lt;/orientations&gt;
</pre></code>
<code><pre>
// this sets the background color of the master UIView (when there are no windows/tab groups on it)
Titanium.UI.setBackgroundColor('#000');

// create tab group
var tabGroup = Titanium.UI.createTabGroup();


//
// create base UI tab and root window
//
var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff',
    navBarHidden: false,
    tabBarHidden: true
});
var tab1 = Titanium.UI.createTab({  
    icon:'KS_nav_views.png',
    title:'Tab 1',
    window:win1
});

var b1 = Titanium.UI.createButton({
	title:'Win 2',
	height:40,
	width:200,
	top:30
});

win1.add(b1);

b1.addEventListener('click', function(e)
{
    var w = Titanium.UI.createWindow({
	fullscreen:true,
	//url:'new_win.js',
	barColor:'#111',
	orientationModes:[Titanium.UI.LANDSCAPE_LEFT]
    });
    
    tab1.open(w);
});

tabGroup.addTab(tab1);  


// open tab group
tabGroup.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-5768_23743/navstatus.png">navstatus.png</td></td><td>2011-10-17T09:44:26.000+0000</td><td>16823</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Eric Merriman  2011-10-17

   Alan mentions he used 1.7.3.v20111013094213.</li>
<li>Eric Merriman  2011-10-17

   Was able to reproduce with SDK 1.7.2 GA and 1.7.3.v20111013094213. There has been some work on orientation in master, and 1.8.0.v20111014141415 exhibits similar, perhaps worse behavior. Please see attached screen shot.</li>
<li>Stephen Tramer 2011-11-10

   Blain is working on a bug which fixes this.</li>
<li>Alan Leard 2011-11-10

   Is there a ticket number for that bug?</li>
<li>Stephen Tramer 2011-11-10

   He has linked all of the relevant bugs together.</li>
<li>Michael Pettiford 2011-12-08

   Tested on Ti Studio 1.0.7.201112080131
    Ti Mob SDK 1.8.0.1.v20111207180431
    OSX Lion
   iPhone 4S OS 5.0.1
   
   Expected behavior of no black bar being added is shown</li>
<li>Wilson Luu 2012-01-05

   Reopening bug to add tag.</li>
<li>Wilson Luu 2012-01-05

   Added tag</li>
</ol>


<p><a href="/TIMOB/TIMOB-5768.json">JSON Source</a></p>