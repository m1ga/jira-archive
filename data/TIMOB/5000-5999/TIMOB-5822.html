---
title: "[TIMOB-5822] iOS: navbar size wrong after orientation change"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2011-11-14T12:20:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2, Release 1.7.3</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-45, Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Banzai Mobile</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-10-11T00:43:23.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:44:37.000+0000</td></tr>
</table>

<h3>Description</h3>

Navbar size is scrambled in several ways: 

1) does not get thinner when rotating to landscape

2) is repainted at wrong size (thin instead of full) after orientation change back to portrait. E.g.: 
- on a win with orientationModes set to portrait, open (in tab) a new win with all orientationModes allowed
- rotate to landscape, then go back: the previous win forces rotation back to portrait, but its navbar is repainted as if 32px high instead of the correct 44px  

Neither was a problem in previous SDK versions up to and including 1.7.1

<code><pre>
Ti.UI.setBackgroundColor('#000');

var win = Ti.UI.createWindow({
    backgroundColor: 'white',
    navBarHidden:false
});
win.orientationModes = [Ti.UI.PORTRAIT, Ti.UI.UPSIDE_PORTRAIT]

var btn = Ti.UI.createButton({
	top:100, width:200, height:50,
	title:"Open landscape win"
});
btn.addEventListener('click', function () {
	var win2 = Ti.UI.createWindow({
		navBarHidden:false, backgroundColor:'gray'
	});
	win2.orientationModes = [Ti.UI.PORTRAIT,Ti.UI.UPSIDE_PORTRAIT,Ti.UI.LANDSCAPE_LEFT,Ti.UI.LANDSCAPE_RIGHT]
	
	var message = Ti.UI.createLabel({
		top:60, left:20, right:20, height:'auto',
		text:"1) Rotate to landscape: navBar is NOT changing to 32px high...\n2) Now press back WHILE IN LANDSCAPE and look at the navBar of root win!"
	});
	win2.add(message);
	tab1.open(win2);
});
win.add(btn);

var tabGroup = Ti.UI.createTabGroup({});
var tab1 = Titanium.UI.createTab({window:win});
tabGroup.addTab(tab1);
tabGroup.setActiveTab(1);
tabGroup.open();
</pre></code>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-5822_23446/Screen Shot 2011-10-11 at 10.41.14.png">Screen Shot 2011-10-11 at 10.41.14.png</td></td><td>2011-10-11T00:43:23.000+0000</td><td>99095</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-5822_23447/Screen Shot 2011-10-11 at 10.42.06.png">Screen Shot 2011-10-11 at 10.42.06.png</td></td><td>2011-10-11T00:43:23.000+0000</td><td>101147</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2011-10-11

   Thank you for raising this ticket.
   
   If you are able to provide all the information described in the [Jira Ticket Checklist](<a href="http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-Summary%3AJiraTicketChecklist)" rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/Contributing+to+Titanium#ContributingtoTitanium-Summary%3AJiraTicketChecklist)</a> guidelines, *in the correct fields and using the right format*, we will be able to raise it with the core team.
   
   Thanks in advance.</li>
<li>Banzai Mobile 2011-10-14

   Paul, I added all the details.
   
   Please give priority to this one: we have a published app that on iOS 5 suffers from the well known (and fixed in 1.7.3.x builds) graphics glitch in custom navbars.
   
   We cannot update if that means introducing a new graphical glitch ;-)
   
   Mario
   
   </li>
<li>Banzai Mobile 2011-10-18

   Hello, Paul.
   
   Is there anything still missing from my submission?
   
   M.</li>
<li>Matthew Apperson 2011-10-20

   Banzia,
   
   Is this still an issue with the GA release of 1.7.3? if so, please update the ticket to reflect this.
   
   Once that is clarified I will go ahead and accept this ticket.
   
   Best regards,
   Matt</li>
<li>Banzai Mobile 2011-10-21

   Hi Matt,
   
   yes it is still an issue with the official released 1.7.3 SDK.
   
   Ticket updated.
   
   Mario</li>
<li>Eric Merriman  2011-10-23

   Looks fixed by changes present in SDK 1.7.4.v20111021181815, iPod Touch 3rd gen (iOS 4.0.2), iPhone 4s (iOS 5.0), and Simulator 5.0.</li>
<li>Stephen Tramer 2011-11-14

   Tested against 1.8.0.1.5457cb3, iPhone Sim 5.0. Could not reproduce in this version; probably because Blain re-enabled setting the application frame on rotation.</li>
<li>Thomas Huelbert 2012-02-09

   closing as we are not able to reproduce using master (1.9.0 Feb 9 2012 09:46 rd47ce8a4)</li>
</ol>


<p><a href="/TIMOB/TIMOB-5822.json">JSON Source</a></p>