---
title: "[TIMOB-5887] Map annotation with external left button raises exception on clicking"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-07-10T22:20:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>annotation, fastdev, mapview</td></tr>
<tr><th>Reporter</th><td>Taazza GO</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2011-10-27T03:25:25.000+0000</td></tr>
<tr><th>Updated</th><td>2017-07-10T22:20:07.000+0000</td></tr>
</table>

<h3>Description</h3>

A map annotation created with an external left button raises a FileNotFoundException on clicking. Although an exception occurs, I can see the left image getting displayed.

This can be reproduced in KitchenSink->Views->Map View. In *Resources/examples/map_view.js*, at around line 33 we have:

<code><pre>
var atlantaParams = {
                latitude:33.74511,
                longitude:-84.38993,
                title:"Atlanta, GA",
                subtitle:'Atlanta Braves Stadium\nfoo',
                animate:true,
                leftButton: '../images/atlanta.jpg',
                rightButton: Titanium.UI.iPhone.SystemButton.DISCLOSURE,
                myid:3 // CUSTOM ATTRIBUTE THAT IS PASSED INTO EVENT OBJECTS
};
</pre></code>

*leftButton* is set to a local image here. Clicking on the Atlanta annotation works fine at this point. Now change *leftButton* to <a href="http://www.espncricinfo.com/favicon.png" rel="nofollow" target="_blank">http://www.espncricinfo.com/favicon.png</a> or <a href="http://facebook.com/favicon.ico" rel="nofollow" target="_blank">http://facebook.com/favicon.ico</a> or any other externally hosted PNG image. Now rebuild & click on the Atlanta annotation - you should see an exception being raised even though the left image was successfully displayed. This wasn't happening on 1.7.0 at least.

The logcat output corresponding to the exception is attached.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-5887_23910/map_trace.txt">map_trace.txt</td></td><td>2011-10-27T03:25:25.000+0000</td><td>4341</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Matthew Apperson 2011-10-27

   The android 2.3 emulator has a number of bugs, could you please try this on the 2.2 emulator or on-device running 2.3?</li>
<li>Taazza GO 2011-10-27

   I was able to reproduce the same behaviour on Android 2.2 emulator too.</li>
<li>Don Thorp 2011-10-27

   stacktrace suggests this is FastDev related. Please try it on device as well.</li>
<li>Taazza GO 2011-11-15

   Without FastDev enabled, this exception doesn't occur on the emulator. I don't see any issues on a device either.</li>
<li>Lee Morris 2017-07-10

   Closing ticket due to time passed and lack of progress for a number of years. Please open a new ticket if there are any problems.</li>
</ol>


<p><a href="/TIMOB/TIMOB-5887.json">JSON Source</a></p>