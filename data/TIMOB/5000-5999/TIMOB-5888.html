---
title: "[TIMOB-5888] MobileWeb: Build system does not support dynamic filenames in Ti.includes"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-11-15T15:54:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-45, Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>MobileWeb</td></tr>
<tr><th>Labels</th><td>stage</td></tr>
<tr><th>Reporter</th><td>Chris Barber</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2011-10-27T12:53:23.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-04T00:17:39.000+0000</td></tr>
</table>

<h3>Description</h3>

The build system attempts to scan the user's application code for all Ti.includes, then will serialize the contents of those includes into the compiled titanium.js.

The problem is when you try to include a file that is dynamically defined:

<code><pre>
Ti.include(path + "somefile.js");
</pre></code>

The problem takes place in the expand_ti_includes() function of compiler.py.  It's important that the function analyzes the filename and determine if it's a valid filename and that the file exists.  If it isn't or doesn't exist, don't error, just return.  If it does exist, then add it to self.ti_includes[src].

You'll have to test this by building a dummy app and creating a dynamic include, then building the mobile web app.  You will need to run builder.py from the command line to see any errors.

You can open the compiled titanium.js file to confirm the includes have been found and inlined properly at the bottom like this:

<code><pre>
Ti._5.setLoadedScripts({"shibby.js": "Ti.API.log(\"hi!\");"});
</pre></code>


<h3>Comments</h3>

<ol>
<li>Chris Barber 2011-11-05

   This mechanism needs to also work with require() calls.</li>
<li>Bryan Hughes 2011-11-11

   Pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/673" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/673</a></li>
<li>Bryan Hughes 2011-11-15

   Updated pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/703" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/703</a> (I accidentally closed the previous pull request while working on TIMOB-6018)</li>
<li>Lee Morris 2017-03-04

   Closing ticket due to MobileWeb no longer being supported.</li>
</ol>


<p><a href="/TIMOB/TIMOB-5888.json">JSON Source</a></p>