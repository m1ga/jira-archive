---
title: "[TIMOB-6060] iOS: Blurring Textfield in Modal Window Doesn't Dismiss Keyboard"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2015-05-14T15:23:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 4.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Dawson Toth</td></tr>
<tr><th>Assignee</th><td>Chee Kiat Ng</td></tr>
<tr><th>Created</th><td>2011-11-08T09:04:10.000+0000</td></tr>
<tr><th>Updated</th><td>2015-06-10T00:13:32.000+0000</td></tr>
</table>

<h3>Description</h3>

When using the MODAL_PRESENTATION_FORMSHEET modal style, iOS by default does not dismiss the keyboard even when text fields are blurred. iOS 4.3 and later allows us to override this, but this property is not currently exposed.

This will be an iOS-only property on the Ti.UI.Window class, and will not apply to Android.

In the mean time, MODAL_PRESENTATION_PAGESHEET is perfectly sufficient.

(Not a bug, but leaving old comments)

<h4>Problem</h4>
When blurring a text field in a modal window, the keyboard doesn't go away.

<h4>Reproduction</h4>
Drop the following in an app.js, and click in the text field. It automatically blurs itself after gaining focus. If you change "modal: true" to "modal: false", the keyboard will properly hide itself.

<code><pre>
var win = Ti.UI.createWindow({
    backgroundColor: '#fff'
});

var textField = Ti.UI.createTextField({
    value: '1. Touch Me',
    height: 34, top: 10, left: 10, right: 10,
    borderStyle: Ti.UI.INPUT_BORDERSTYLE_ROUNDED
});
textField.addEventListener('focus', function () {
    Ti.API.info('blurring');
    textField.blur();
    Ti.API.info('blurred');
});
win.add(textField);

win.open({
    modal: true,
    modalStyle: Ti.UI.iPhone.MODAL_PRESENTATION_FORMSHEET
});
</pre></code>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2011-11-08

   This is actually not a bug, but due to Apple's design. Namely, in <a href="http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html" rel="nofollow" target="_blank">http://developer.apple.com/library/ios/#documentation/UIKit/Reference/UIViewController_Class/Reference/Reference.html</a> :
   
   "The default implementation of this method returns YES when the modal presentation style of the view controller is set to UIModalPresentationFormSheet and returns NO for other presentation styles. Thus, the system normally does not allow the keyboard to be dismissed for modal forms."
   
   The method that we can override for this is available in iOS 4.3 and later, so any feature request to change this behavior would not change 3.x to 4.2.
   
   Updating bug to be feature request instead.</li>
<li>Blain Hamon 2011-11-08

   Talked with Dawson, he's going to ping customer and see if it's a must-have for 1.8 or if this can fall into TBS, especially since some versions of 4.0 won't support this.</li>
<li>Neeraj Gupta 2012-02-16

   @Tim - We are probably not going to get to it in the next release but we can schedule it for later.</li>
<li>Esau 2014-01-10

   It's now 2014 and this feature hasn't been implemented. I got into a mini-hair pulling craze for a while when I couldn't figure out why something as simple as blurring wasn't working for me. I then started to doubt my coding skills. However, at last! I found this gem here explaining the details. I don't want to use a full screen modal and the FORMSHEET looks more sleek having the content in the background still showing.
   
   This is important for my apps user interaction because the keyboard needs to hide after doing something else in the modal box to reveal the Save button. I've seen at least 3 people now being confused on what to do because the keyboard blocks the Save. I can move the Save button but it won't look as good.
   
   I was wondering what work around is there to this other than using PAGESHHEET? </li>
<li>Esau 2014-01-10

   <a href="http://stackoverflow.com/questions/3372333/ipad-keyboard-will-not-dismiss-if-modal-view-controller-presentation-style-is-ui" rel="nofollow" target="_blank">http://stackoverflow.com/questions/3372333/ipad-keyboard-will-not-dismiss-if-modal-view-controller-presentation-style-is-ui</a>
   <code><pre>
   - (BOOL)disablesAutomaticKeyboardDismissal {
       return NO;
   }
   </pre></code>
   
   Doing this on objective-c will make this work. Where do I apply this for titanium?</li>
<li>Alberto Marcone 2014-02-26

   my question is: why is this ticket still open? I stumbled open this bug after 3 years it was reported. And it still happens with TiSDK 3.2.1 .</li>
<li>Ingo Muschenetz 2014-02-26

   [~a.marcone] it appears to have just slipped by. Thank you for reminding us. Seeing when we can schedule it in.</li>
<li>Alberto Marcone 2014-02-26

   awesome! thank you for taking care of it.</li>
<li>Mike Butler 2014-04-18

   This is causing awkward usability problems for us too.  Any ETA on when it will be fixed?</li>
<li>Alberto Marcone 2014-05-20

    ok, 3 months passed by, and still not scheduled. Anyone? Please?</li>
<li>Alberto Marcone 2014-05-21

    ok, I will be honest: being scheduled for the 3.4.0 means that we'll be stuck with this bug for the next 7 months. Kinda frustrating. Thank you anyways, I'm sure you're doing your job like I'm doing mine.. but it's been reported 3 years ago..</li>
<li>Jason Kotchoff 2015-02-06

    +1</li>
<li>Chee Kiat Ng 2015-05-13

    as [~blainhamon] has mentioned,
    According to apple reference here:
    <a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/index.html#//apple_ref/occ/instm/UIViewController/disablesAutomaticKeyboardDismissal" rel="nofollow" target="_blank">https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIViewController_Class/index.html#//apple_ref/occ/instm/UIViewController/disablesAutomaticKeyboardDismissal</a>
    "The default implementation of this method returns YES when the modal presentation style of the view controller is set to UIModalPresentationFormSheet and returns NO for other presentation styles."
    Since we support the blur method, it should be ok to default the mentioned method to NO for all cases since it only affects UIModalPresentationFormSheet.
    PR here:
    <a href="https://github.com/appcelerator/titanium_mobile/pull/6846" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/6846</a></li>
<li>Lokesh Choudhary 2015-06-10

    Verified the fix.
    
    The textfield is dismissed as expected.
    
    Closing.
    
    Environment:
    Appc Studio :  4.1.0.201505071004
    Ti SDK :  4.1.0.v20150605164428
    Ti CLI : 4.0.1
    Alloy : 1.6.0
    MAC Yosemite : 10.10.3
    Appc npm : 4.0.0
    Appc CLI : 4.0.2-rc2
    Node: v0.10.37
    IOS Simulator: Iphone 5 IOS 8.3</li>
</ol>


<p><a href="/TIMOB/TIMOB-6060.json">JSON Source</a></p>