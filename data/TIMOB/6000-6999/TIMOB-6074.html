---
title: "[TIMOB-6074] Android: V8 - Release Java proxy object references when running on emulator device."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-11-09T14:04:58.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>branch-v8</td></tr>
<tr><th>Reporter</th><td>Josh Roesslein</td></tr>
<tr><th>Assignee</th><td>Josh Roesslein</td></tr>
<tr><th>Created</th><td>2011-11-08T10:49:50.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:44:18.000+0000</td></tr>
</table>

<h3>Description</h3>

+Expected Behavior+
Running applications on emulator should not crash from ReferenceTableOverflow errors. 

+Actual Behavior+
Certain conditions cause the application to run out of references when
running on the emulator.

+Test case+
Running the Drillbit Buffer or Database suites causes a ReferenceTableOverflow error and crash.

+Community Discussion+
N/A

<h3>Comments</h3>

<ol>
<li>Josh Roesslein 2011-11-08

   Sent [pull request #648](<a href="https://github.com/appcelerator/titanium_mobile/pull/648)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/648).</a></li>
<li>Josh Roesslein 2011-11-08

   Here is a couple test cases which should cause the bug:
   
   <code><pre>
   var buffers = [];
   for (var i = 0; i &lt; 1000; i++) {
   	var b = Ti.createBuffer({value:"Hello!"});
   	b.clear();
   	buffers.push(b);
   }
   </pre></code>
   
   <code><pre>
   var db = Ti.Database.open("test");
   db.execute("drop table if exists Test");
   db.execute("create table if not exists Test(row text)");
   
   for (var i = 0; i &lt; 1000; i++) {
   	db.execute("insert into Test(row) values(?)", "My TestRow");
   }
   
   var rs = db.execute("select * from Test");
   </pre></code>
   
   These two should be tested separately. After the fix is applied neither should crash the app.
   </li>
<li>Natalie Huynh 2011-12-09

   Tested with 1.8.0.1.v20111209011840 on
   Nexus One (2.2.2) - v8
   Droid (2.2) - rhino
   Emulator (2.2) - v8</li>
</ol>


<p><a href="/TIMOB/TIMOB-6074.json">JSON Source</a></p>