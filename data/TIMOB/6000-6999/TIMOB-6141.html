---
title: "[TIMOB-6141] Android: Scons/ant: build fails when GOOGLE_APIS environment variable is set"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-11-10T14:33:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-45, Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Opie Cyrus</td></tr>
<tr><th>Assignee</th><td>Opie Cyrus</td></tr>
<tr><th>Created</th><td>2011-11-10T07:45:40.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-03T22:50:18.000+0000</td></tr>
</table>

<h3>Description</h3>

if the GOOGLE_APIS environment variable is set then the value for google_apis_dir in androidsdk.py is never set.

<h3>Comments</h3>

<ol>
<li>Opie Cyrus 2011-11-10

   reproduction step for this issue is to set the GOOGLE_APIS env variable before calling scons.  For example:
   
   example: .bash_profile
   export ANDROID_SDK=~/dev/installed/android-sdk-mac_x86
   export GOOGLE_APIS=${ANDROID_SDK}/add-ons/addon_google_apis_google_inc_8;
   
   once set, run scons
   
   </li>
<li>Josh Roesslein 2011-11-10

   Just a note on how to confirm the fix. Before the fix is applied, setting GOOGLE_APIS should
   cause scons to error out:
   
   {quote}
   Building MobileSDK version 1.8.0.1, githash 113dae7
   AttributeError: AndroidSDK instance has no attribute 'google_apis_dir':
     File "/Users/jroesslein/Development/Appcelerator/titanium_mobile/SConstruct", line 112:
       "android.sdk": sdk.get_android_sdk(), "android.platform": sdk.get_platform_dir(), "google.apis": sdk.get_google_apis_dir(),
     File "/Users/jroesslein/Development/Appcelerator/titanium_mobile/support/android/androidsdk.py", line 119:
       return self.google_apis_dir
   {quote}
   
   After the fix is applied scons should complete successfully.
   </li>
<li>Lee Morris 2017-03-03

   Closing ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-6141.json">JSON Source</a></p>