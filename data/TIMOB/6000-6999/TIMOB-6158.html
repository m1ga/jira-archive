---
title: "[TIMOB-6158] Android: Classpath resources are packaged incorrectly"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-11-15T09:45:27.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-44, Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>branch-v8</td></tr>
<tr><th>Reporter</th><td>Marshall Culpepper</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-11-11T13:48:51.000+0000</td></tr>
<tr><th>Updated</th><td>2011-12-09T11:13:29.000+0000</td></tr>
</table>

<h3>Description</h3>

After building an APK, you can see that many of the resources that we depend on at runtime from the classpath have the wrong path prefix. For example:

<code><pre>
$ unzip -l build/android/bin/app.apk
Archive:  build/android/bin/app.apk
  Length     Date   Time    Name
 --------    ----   ----    ----
     6226  11-11-11 13:39   META-INF/MANIFEST.MF
     6347  11-11-11 13:39   META-INF/TIDEV.SF
      998  11-11-11 13:39   META-INF/TIDEV.RSA
     1158  01-01-80 00:00   assets/Resources/KS_nav_ui.png
     1074  01-01-80 00:00   assets/Resources/KS_nav_views.png
      135  01-01-80 00:00   assets/Resources/app.js
    11039  01-01-80 00:00   assets/Resources/appicon.png
    16529  01-01-80 00:00   assets/Resources/default.png
     1067  01-01-80 00:00   assets/app.json
      177  01-01-80 00:00   assets/index.json
     1251  01-01-80 00:00   assets/tiapp.xml
    10705  01-01-80 00:00   res/drawable/appicon.png
    16914  01-01-80 00:00   res/drawable/background.png
      996  01-01-80 00:00   res/layout/titanium_tabgroup.xml
     3620  01-01-80 00:00   AndroidManifest.xml
     3080  01-01-80 00:00   resources.arsc
    89775  01-01-80 00:00   res/drawable-long-land-hdpi/background.png
    29374  01-01-80 00:00   res/drawable-long-land-ldpi/background.png
   121785  01-01-80 00:00   res/drawable-long-port-hdpi/background.png
    44823  01-01-80 00:00   res/drawable-long-port-ldpi/background.png
    89775  01-01-80 00:00   res/drawable-notlong-land-hdpi/background.png
    31574  01-01-80 00:00   res/drawable-notlong-land-ldpi/background.png
    46395  01-01-80 00:00   res/drawable-notlong-land-mdpi/background.png
   121785  01-01-80 00:00   res/drawable-notlong-port-hdpi/background.png
    27609  01-01-80 00:00   res/drawable-notlong-port-ldpi/background.png
    47496  01-01-80 00:00   res/drawable-notlong-port-mdpi/background.png
  1278668  11-11-11 13:39   classes.dex
      894  01-01-80 00:00   js/properties.js (js/*.js shouldn't be here)
     1516  01-01-80 00:00   java/ti/modules/titanium/ui/widget/webview/binding.js (should be ti/modules... instead of java/ti/modules...)
     1250  01-01-80 00:00   java/ti/modules/titanium/ui/widget/webview/binding.min.js
     3355  01-01-80 00:00   java/ti/modules/titanium/ui/widget/webview/json2.js
      694  01-01-80 00:00   js/tab.js
     2336  01-01-80 00:00   js/ui.js
     9537  01-01-80 00:00   js/window.js
     1516  01-01-80 00:00   ti/modules/titanium/ui/widget/webview/binding.js
     1250  01-01-80 00:00   ti/modules/titanium/ui/widget/webview/binding.min.js
     3355  01-01-80 00:00   ti/modules/titanium/ui/widget/webview/json2.js
    20697  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/background.png (should be org/appcelerator/* instead of java/org/appcelerator/*..)
      721  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/btn_check_buttonless_on.png
      826  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/btn_check_buttonless_on_18.png
     2425  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/btn_check_buttonless_on_48.png
     4180  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/btn_more.png
      895  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/btn_more_18.png
     2790  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/btn_more_48.png
     4250  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/btn_picker_normal.9.png
     4460  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/btn_picker_pressed.9.png
     4488  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/btn_picker_selected.9.png
     3673  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/default_icon.png
     4027  01-01-80 00:00   java/org/appcelerator/titanium/res/drawable/photoDefault.png
      135  01-01-80 00:00   org/appcelerator/titanium/build.properties
    20697  01-01-80 00:00   org/appcelerator/titanium/res/drawable/background.png
      721  01-01-80 00:00   org/appcelerator/titanium/res/drawable/btn_check_buttonless_on.png
      826  01-01-80 00:00   org/appcelerator/titanium/res/drawable/btn_check_buttonless_on_18.png
     2425  01-01-80 00:00   org/appcelerator/titanium/res/drawable/btn_check_buttonless_on_48.png
     4180  01-01-80 00:00   org/appcelerator/titanium/res/drawable/btn_more.png
      895  01-01-80 00:00   org/appcelerator/titanium/res/drawable/btn_more_18.png
     2790  01-01-80 00:00   org/appcelerator/titanium/res/drawable/btn_more_48.png
     4250  01-01-80 00:00   org/appcelerator/titanium/res/drawable/btn_picker_normal.9.png
     4460  01-01-80 00:00   org/appcelerator/titanium/res/drawable/btn_picker_pressed.9.png
     4488  01-01-80 00:00   org/appcelerator/titanium/res/drawable/btn_picker_selected.9.png
     3673  01-01-80 00:00   org/appcelerator/titanium/res/drawable/default_icon.png
     4027  01-01-80 00:00   org/appcelerator/titanium/res/drawable/photoDefault.png
      183  01-01-80 00:00   thirdparty/org/apache/Commons-NOTICE.txt
      200  01-01-80 00:00   thirdparty/org/apache/HttpComponents-NOTICE.txt
      662  01-01-80 00:00   thirdparty/org/apache/mime4j-NOTICE.txt
  4706056  11-11-11 13:37   lib/armeabi/libkroll-v8-emulator.so
 --------                   -------
  6850178                   66 files
</pre></code>

To reproduce this, just build an Android project in any mode and look at it's APK. We shouldn't have those prefixes..

<h3>Comments</h3>

<ol>
<li>Natalie Huynh 2011-12-09

   Tested with 1.8.0.1.v20111209011840 with v8/rhino
   No longer seeing the ones that start with java/... and also js/*.js</li>
</ol>


<p><a href="/TIMOB/TIMOB-6158.json">JSON Source</a></p>