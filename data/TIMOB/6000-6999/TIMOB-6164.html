---
title: "[TIMOB-6164] Tooling: building an Android project causes IOError 13 when resource files are read-only (Windows)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-10-19T01:18:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.2</td></tr>
<tr><th>Fix Version/s</th><td>2013 Sprint 21, 2013 Sprint 21 Core, Release 3.2.0</td></tr>
<tr><th>Components</th><td>Tooling</td></tr>
<tr><th>Labels</th><td>androidbuild, cb-verified, qe-closed-3.2.0, triage</td></tr>
<tr><th>Reporter</th><td>Shawn Lipscomb</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2011-09-27T08:38:37.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-19T14:08:58.000+0000</td></tr>
</table>

<h3>Description</h3>

When files in the Resources directory (and below) have the read-only attribute set (as many source-control programs do), the build process regularly generates errors like this in the Application Installer console window:

<code><pre>
[ERROR] IOError: [Errno 13] Permission denied: 'C:\\Titanium\\Workspace\\Proj1\\build\\android\\bin\\assets\\Resources\\tiapp.xml'
</pre></code>

It happens on many files, especially image files.  (with image files, it seems that every other build generates this error.)

Cause: Running Titanium Studio under Windows, the build process calls the <code>copy</code> function in shutil.py (under plugins\com.appcelerator.titanium.python.win32_1.0.0.1312318466\python\Lib\shutil.py) to copy files into the <code>build</code> directory.  That copy function calls <code>copymode</code> after copying the file.  copymode (in the same file) calls <code>os.chmod</code> which, under Windows, can only copy the read-only attribute of a file.  This is what's causing the problem.  Since there's no need for the read-only attribute on any file in the build directory, this should be removed.

<h3>Comments</h3>

<ol>
<li>Allen Yeung 2012-03-20

   I was unable to reproduce this issue on windows.  I have changed some of the images in my resources directory to read-only, and I don't run into this issue.  Could you please provide a sample project and some reproduction steps for this issue?
   
   Thanks,
   Allen</li>
<li>Shawn Lipscomb 2012-06-05

   Still happens to me all the time, now with Ti Studio 2.0.3.201205312012 and mobile SDK 2.1.0.v....
   
   I can reproduce it easily by making tiapp.xml read-only and doing a clean build, followed by another build.  Once a read-only file gets into the build directory, when that file is then changed, the next build fails with the IOError 13.
   </li>
<li>Neeraj Gupta 2012-06-05

   Reopening this ticket for further analysis.</li>
<li>Mark Lutz 2012-10-05

   I am currently having this problem
   Windows Server 2008 R2
   Titanium build: 2.1.2.201208301612
   Titanium SDK: 2.1.3.GA
   
   Connected to a TFS 2010 Server
   /build/ and /build/.* are in the .tpignore file
   I get the read only on the tiapp.xml in the build directory
   I uncheck the readonly flag on the tiapp.xml file in both the build directory as well as the Project directory 
   
   Then I get the read error on the .fastdev.lock file
   Then I uncheck the readonly flag on that in both the build and project directories and finally it will build and launch.</li>
<li>Jon Barnhart 2013-03-12

   I am currently having this problem on Mac OS X 10.8.
   
   Titanium Studio 3.0.2.201302191606
   Titanium SDK 3.0.2.GA</li>
<li>Shawn Lipscomb 2013-07-23

   10 watchers, priority set to high, but still no action.  This is still a problem in SDK 3.1.1.GA</li>
<li>Ingo Muschenetz 2013-10-14

   [~ayeung], might this be fixed with the new build process?</li>
<li>Allen Yeung 2013-10-14

   It could be... it's labeled as androidbuild, so we'll be going through to verify if it's still an issue.</li>
<li>Allen Yeung 2013-10-14

   Oh, I guess Chris just added it... so anyways, we'll check it out.</li>
<li>Allen Yeung 2013-10-19

    PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/4781" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4781</a></li>
<li>Samuel Dowse 2013-12-18

    Verified fixed on:
    Windows 7, 8 and 8.1
    Windows Server 2008
    Titanium Studio, build: 3.2.0.201312091613
    Titanium SDK, build: 3.2.0.v20131218114845
    CLI: 3.2.0-cr3
    Alloy: 1.3.0-cr
    
    Created a default application for Android in a local workspace and made all files inside the Resources folder read-only. Also made the tiapp.xml file read-only.
    Also created a default application for Android on a network workspace from Windows 7 to Windows Server 2008.
    
    Both projects built and installed successfully to device and emulator.
    Closing.</li>
<li>Shawn Lipscomb 2013-12-19

    To fully test, you have to build a project twice.  The first time drops the files in the Build directory.  The second time tries to overwrite those files.</li>
</ol>


<p><a href="/TIMOB/TIMOB-6164.json">JSON Source</a></p>