---
title: "[TIMOB-6201] Android: V8 shared libraries need to be packaged in ARM specific lib folders"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-01-10T10:46:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-46, Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>branch-v8, module_build, qe-testadded, verified-1.8.0.1</td></tr>
<tr><th>Reporter</th><td>Marshall Culpepper</td></tr>
<tr><th>Assignee</th><td>Marshall Culpepper</td></tr>
<tr><th>Created</th><td>2011-11-16T09:51:41.000+0000</td></tr>
<tr><th>Updated</th><td>2012-01-10T10:46:14.000+0000</td></tr>
</table>

<h3>Description</h3>

Right now we have two shared libraries in V8: libkroll-v8-device.so (for armeabi v7) and libkroll-v8-emulator.so (for armeabi v5). We need to move to using the ARM ABI specific folders in our packaging so apps can be correctly distributed to end users.

Right now, some Froyo and above devices have ARM v5 chips (such as Bill's LG-P509), and the libkroll-v8-device.so library won't work for them.

<h3>Comments</h3>

<ol>
<li>Opie Cyrus 2011-11-28

   Fix for this is included in 6186</li>
<li>Marshall Culpepper 2011-12-04

   There are a few things to look for when testing this:
   
   * Build any Titanium application w/ the V8 runtime, and list the APK contents. You should see two entries for libkroll-v8.so, one for <code>libs/armeabi</code>, and another for <code>libs/armeabi-v7a</code>:
   <code><pre>
   $ unzip -l build/android/bin/app.apk
     ....
     4789260  12-05-11 01:21   lib/armeabi/libkroll-v8.so
     4776408  12-05-11 01:21   lib/armeabi-v7a/libkroll-v8.so
   </pre></code>
   * Run this app on the Nook Color emulator, and it should work as expected. Before, our "device" vs "emulator" library check would fail, and choose the "device" library, causing a hard crash on Nook Color emulator. This fix uses the built-in Android ABI detection to avoid the problem altogether.
   
   TIMOB-6136 can also be resolved when this is resolved</li>
<li>Bill Dawson 2011-12-07

   Fixed by marshall as part of TIMOB-6312.  I tested a V8 app on my LG phone that marshall mentions.  Works great.  As Marshall notes above, another test is the Nook Color Emulator (which makes this a duplicate of TIMOB-6136).</li>
<li>Michael Pettiford 2011-12-19

   Tested with Studio 1.0.7.201112152014
   Ti Mob SDK 1.8.0.1.RC3
   OSX Lion
   
   Nook Emulator, Packaged app
   
   Verified that a packaged app's .apk contains the expected output, and also ran on Nook Emulator</li>
<li>Dustin Hyde 2012-01-10

   Added Label: qe-testadded</li>
</ol>


<p><a href="/TIMOB/TIMOB-6201.json">JSON Source</a></p>