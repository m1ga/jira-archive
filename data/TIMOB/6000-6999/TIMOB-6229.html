---
title: "[TIMOB-6229] iOS: DashboardView is leaking memory"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-01-05T15:19:01.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.5</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-49, Release 1.8.0.1, Release 2.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_dashboardview, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-11-17T21:23:49.000+0000</td></tr>
<tr><th>Updated</th><td>2012-02-24T12:25:07.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>PROBLEM DESCRIPTION</h4>
If you are updating a DashboardView (by means of removing the data, then the view, then creating new data, then creating the dashboardview). In the test code (attached or included here) we only have a button that will refresh the DashboardView, and a DashboardView. Everytime that the button is pressed, the DashboardView will refresh, but will leak some stuff. 

<h4>STEPS TO REPRODUCE</h4>
1. Get the code: <a href="http://pastie.org/private/nifrkckutcfyinasidqucg" rel="nofollow" target="_blank">http://pastie.org/private/nifrkckutcfyinasidqucg</a>
2. Create a new mobile project in Titanium
3. Get the code into the app.js
4. Compile
5. Press "Refresh" until crash.

<h4>EXPECTED RESULTS</h4>
The DashboardView refreshing without issues.

<h4>ACTUAL RESULTS</h4>
The App is crashing.

<h4>EXTRA INFO</h4>
This happens in iOS 4.x and 5.0. The leak size is like 300k each refresh. 



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-6229_24541/crash-6229-2011120901.txt">crash-6229-2011120901.txt</td></td><td>2011-12-09T12:30:02.000+0000</td><td>12229</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-6229_24542/crash-6229-2011120902.txt">crash-6229-2011120902.txt</td></td><td>2011-12-09T12:30:02.000+0000</td><td>19992</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-6229_24490/crashReports.zip">crashReports.zip</td></td><td>2011-12-06T15:46:38.000+0000</td><td>15094</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-6229_24544/Screen Shot 2011-12-09 at 12.36.44 PM.png">Screen Shot 2011-12-09 at 12.36.44 PM.png</td></td><td>2011-12-09T12:41:45.000+0000</td><td>122230</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Wilson Luu 2011-12-06

   Reopening bug. 
   
   Provided code crashes in the following environment:
   
   Titanium Studio, build: 1.0.7.201112060130
   OS: Mac OS X Lion
   SDK Build: 1.8.0.1.v20111205164258
   Devices: iOS Simulator (4.3), ipod 3rd Gen (4.0.2), ipad 2 (4.3.5)
   See attachments for crash reports. I was only able to retrieve crash reports for the ipod and ipad devices.
   
   Note: Provided code did not crash on iphone 4S (5.0.1)
   </li>
<li>Blain Hamon 2011-12-06

   The two crashes are exception-style crashes. We need the console logs to determine what happened.</li>
<li>Blain Hamon 2011-12-09

   </li>
<li>Blain Hamon 2011-12-09

   Two crash logs taken from xCode: Contains both console and the symbolicated crash log.</li>
<li>Blain Hamon 2011-12-09

   By the way, this is how to map a shortcut to the memory warning menu item to facilitate aggressive GC testing.</li>
<li>Stephen Tramer 2011-12-09

   Note that I updated the interval from 50 to 200 in the test code; more realistic simulation of a human supertapper, and setting it lower can result in some strange race conditions involving remember/forget that we must examine and aren't part of this bug.
   
   In fact, even at this speed, you'll get the occasional warning in xcode... but no fatal memory panics in instruments (curiously, instruments may register one, but the app continues executing).</li>
<li>Blain Hamon 2011-12-09

   Code reviewed and tested.</li>
<li>Stephen Tramer 2011-12-09

   Required additional fixes, and needs the 1.8.0.1 merge.</li>
<li>Wilson Luu 2011-12-10

   Closing bug. Verified fix on:
   
   OS: Mac OS X Lion
   SDK build: 1.8.0.1.v20111209204243, 1.9.0.v20111209203840
   Titanium Studio, build: 1.0.7.201112080131
   Device: ipod 3rd Gen (4.0.2)
   </li>
<li>Stephen Tramer 2011-12-14

    Reopening to remove merge tag.</li>
<li>Natalie Huynh 2012-01-05

    Open to update label
    </li>
</ol>


<p><a href="/TIMOB/TIMOB-6229.json">JSON Source</a></p>