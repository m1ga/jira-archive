---
title: "[TIMOB-6288] Android (and mobileweb): Move simplejson and mako out of Android-specific folders to make them generally available"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-02-23T11:59:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-04, Release 2.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2011-11-22T18:21:43.000+0000</td></tr>
<tr><th>Updated</th><td>2014-02-04T00:46:15.000+0000</td></tr>
</table>

<h3>Description</h3>

Our Mobile Web team needs simplejson, and it's packaged under support/android.  There shouldn't be a need for mobileweb to depend on android (i.e., if someone builds the sdk with <code>scons mobileweb=true</code> they won't even get android.)

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2011-11-22

   <h4>Testing Notes</h4>
   
   
   <h4>Prerequisites</h4>
   
   * Pull, build and release the pull request's branch (obviously).  That's actually the first test, because the build (scons) has changed via this pull request.
   
   * Make sure you do not have simplejson, mako and markdown libraries in your python installation (otherwise you're not really testing anything).  You can check this by running <code>python</code>, then once you are inside the python interactive shell, try <code>import markdown</code>, <code>import mako</code> and <code>import simplejson</code>.  They should all **fail**.  If one or more of them do not fail, you need to go find the library in your filesystem and change its name.
   
   <h4>Create and Run Project</h4>
   
   * Use Titanium Studio to create a new Mobile project.  Select at least iphone, android, and mobile web as the deployment targets, and be sure to select 2.0.0 as the SDK version.
   
   * After the project has been created successfully, run it on all three platforms: in the iPhone simulator/device, Android emulator/device and Mobile Web browser.
   
   <h4>Fastdev</h4>
   
   * Test Fastdev (Android with Emulator).  The Fastdev test steps are here: <a href="http://wiki.appcelerator.org/display/tp/Fastdev+Test+Case." rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/tp/Fastdev+Test+Case.</a>  You only need to test steps 1001 and 1002 (in that order) in the test plan, but feel free to knock yourself out.  (The reason you only need to test that is because the only thing that changed for fastdev was the location of the python simplejson module, and running <code>titanium fastdev status</code> while fastdev is running will make use of the simplejson library.)
   
   <h4>Document Generation</h4>
   
   * In the Titanium Mobile SDK source folder, go to the apidoc folder.
   
   * Run the command <code>python docgen.py</code>.  Make sure there are no runtime errors.
   
   * Run the command <code>python docgen.py -f jsca --stdout</code>.  Make sure it completes successfully, which means that a bunch of Javascript (JSON) will fly by on your screen.  This is good.
   
   * Run the command <code>python validate.py</code>.  Make sure it completes without a **runtime** error.  I emphasize **runtime** error because you will in fact get some error messages about validation problems in our apidocs.  Those are expected.  What you *don't* want to see is the validation stopping because of a runtime error, i.e., the kind of error when it shows you a python stack trace.
   
   <h4>Modules</h4>
   
   **NOTE:**  For these module tests, makes sure that you use the <code>titanium.py</code> for 2.0.0, and *not* from the source tree (under support/), but from its *installed location* (the root of the 2.0.0 distribution).
   
   * Create an iPhone module. <code>titanium.py create --type=module --id=xx.xxx --name=testmod --platform=iphone</code> for example.
   
   * If the module is created successfully, go into its folder and run <code>python build.py</code>.  When it's finished running it should say "BUILD SUCCEEDED".
   
   * Create an Android module as well. <code>titanium create --type=module --id=xx.xxx --name=testmod --platform=android</code> for example.
   
   * If the module is created successfully, go into its folder and run <code>ant</code>.  It should say BUILD SUCCESSFUL at the end.
   
   
   <h4>Drillbit</h4>
   
   * Run drillbit and run at least one test suite for at least one platform.  You don't need to run them all.</li>
<li>Bill Dawson 2011-11-30

   My changes are ready to roll, but we need TIMOB-6315 first.</li>
<li>Josh Roesslein 2012-01-09

   We need simplejson for building modules as well.</li>
<li>Josh Roesslein 2012-01-09

   Bill what's the reason why you are blocked on TIMOB-6315 for merging this in?
   We may also need this for that ticket as well. I have already run into this for module builds
   on windows.</li>
<li>Bill Dawson 2012-01-10

   Chicken+Egg.  QE won't accept a PR for these changes until they're able to build on windows, because they'll need to test scons on all platforms after these changes.</li>
<li>Neeraj Gupta 2012-02-14

   You can submit this PR now the Windows issue is resolved. </li>
<li>Bill Dawson 2012-02-15

   Pull request ready
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/1438" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1438</a></li>
<li>Ingo Muschenetz 2013-10-18

   Closing task.</li>
</ol>


<p><a href="/TIMOB/TIMOB-6288.json">JSON Source</a></p>