---
title: "[TIMOB-6351]  Android: saveToPhotoGallery:false does not work in android."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2012-09-13T20:05:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, api</td></tr>
<tr><th>Reporter</th><td>Francisco Antonio Duran Ramirez</td></tr>
<tr><th>Assignee</th><td>Shak Hossain</td></tr>
<tr><th>Created</th><td>2011-11-29T09:59:57.000+0000</td></tr>
<tr><th>Updated</th><td>2013-09-27T02:36:42.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

SaveToPhotoGallery:false does not work in android.

<h4>Reproducible steps:</h4>
 
1. Run the code below

<h4>Expected behavior:</h4>

Customer does not want to save the image to the gallery after taking a picture.

<h4>More info:</h4>

In iOS works well.
<a href="http://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Media.showCamera-method.html" rel="nofollow" target="_blank">http://developer.appcelerator.com/apidoc/mobile/latest/Titanium.Media.showCamera-method.html</a>
saveToPhotoGalleryboolean if the media should be saved to the photo gallery upon successful capture.

<h4>Tested with the next specs:</h4>
Samsung Galaxy Fit-Android Version : 2.2.1
iPhone 3G Version: 4.3.5
Simulator
Titanium Studio, build: 1.0.7.201111231202
Titanium SDK: 1.8.0.v20111114103905
Google APIs Android 2.3.3

<h4>Sample code:</h4>
<code><pre>
var mwin = Ti.UI.createWindow({
	backgroundColor : 'orange'
});

var btnShowCamera = Ti.UI.createButton({
	title : 'Take picture',
	width : 150,
	height : 70,
	top : 50
});

mwin.add(btnShowCamera);

btnShowCamera.addEventListener('click', function(e) 
{
	var win = Titanium.UI.currentWindow;
	Titanium.Media.showCamera(
	{
		mediaTypes : Titanium.Media.MEDIA_TYPE_PHOTO,
		allowEditing : true,
		saveToPhotoGallery:true,

		success : function(event) 
		{
			var cropRect = event.cropRect;
			var image = event.media;
			
			var imageView = Titanium.UI.createImageView(
			{
				image : image,
				width : 480,
				height : 640
			});
			
			image = imageView.toBlob();
			var photoPath = '';
			var photoDir = '';

			if(Titanium.Filesystem.isExternalStoragePresent()) 
			{
				photoDir = Titanium.Filesystem.getFile(Titanium.Filesystem.externalStorageDirectory, 'PlayGroundPhotos');
				if(!photoDir.exists()) 
				{
					photoDir.createDirectory();
				}
			}
			photoPath = photoDir.nativePath;
			var f = Titanium.Filesystem.getFile(photoPath, 'tony.jpg');
			f.write(image);
		},
	
		cancel : function() 
		{
		},
	});
});
mwin.open();

</pre></code>
 
<h4>Helpdesk</h4>
APP-344567                          

<h3>Comments</h3>

<ol>
<li>Devang Gandhi 2012-03-30

   I also reproduced the similar behavior: when saveToPhotoGallery=false, picture is saved in Camera folder, as well as folder named <app_name>
   
   sample code:
   <code><pre>
   var win = Ti.UI.createWindow();
   
   
   
   Titanium.Media.showCamera({
       success:function(event) {
           // called when media returned from the camera
           Ti.API.debug('Our type was: '+event.mediaType);
           if(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO) {
               var imageView = Ti.UI.createImageView({
                   width:win.width,
                   height:win.height,
                   image:event.media
               });
               win.add(imageView);
           } else {
               alert("got the wrong type back ="+event.mediaType);
           }
       },
       cancel:function() {
           // called when user cancels taking a picture
       },
       error:function(error) {
           // called when there's an error
           var a = Titanium.UI.createAlertDialog({title:'Camera'});
           if (error.code == Titanium.Media.NO_CAMERA) {
               a.setMessage('Please run this test on device');
           } else {
               a.setMessage('Unexpected error: ' + error.code);
           }
           a.show();
       },
       saveToPhotoGallery:false,
       allowEditing:true,
       mediaTypes:[Ti.Media.MEDIA_TYPE_VIDEO,Ti.Media.MEDIA_TYPE_PHOTO]
   });
   
   win.open();
   
   </pre></code></li>
<li>Vinothbabu 2012-06-22

   Is there any update on this issue, we are facing it in 2.0.2 as well. When placing saveToPhotoGallery:false, it does get saved in the DCIM/Camera/My_APP</li>
<li>Neeraj Gupta 2012-06-22

   @Vinothbabu - We are not able to reproduce this issue with the latest master build (2.1.0). Please try your application with the latest build and see if it resolves the issue.</li>
<li>Betty Tran 2012-08-28

   The issue is still occurring, I was able to reproduce using 2.1.1GA and the latest master build (2.2.0).</li>
<li>Karl Rowley 2012-08-30

   What is the criteria being used to determine if a picture gets saved to the gallery here?
   I wouldn't expect that criteria to be whether the photo shows up in the Android Gallery
   app -- that app can find photos anywhere in phone storage in Android 4.0.
   
   The Appcelerator docs says this about saveToPhotoGallery:
   
       saveToPhotoGallery : Boolean
       Specifies if the media should be saved to the photo gallery upon successful capture.
   
       Defaults to: False
   
   I tried the code above, these are the results on Samsung Galaxy S3 (Sprint)
   running Android 4.0:
   
   (1) saveToPhotoGallery=true
   
       Image is saved to /mnt/sdcard/Pictures/<app_name>/<image_name>.jpg
   
       This is the standard Android location to store pictures, with a sub-folder
       named for the app.
   
   (2) saveToPhotoGallery=false
   
       Image is saved to /mnt/extSdCard/DCIM/Camera/<image_name>.jpg
   
       This is the location on my phone where I have configured the Android Camera
       app to store images (note that I've configured the camera app to put images
       on the SD card with is /mnt/extSdCard in this case).
   
   </li>
<li>Karl Rowley 2012-08-30

   I think the customer is asking to not save an extra copy of a photo --
   it doesn't look like the saveToPhotoGallery option was intended to do
   that.
   
   I talked to Josh, and he pointed out that some camera apps from
   various manufacturers don't give the user an option not to do
   this.
   
   An alternative is to use an overlay as described here to avoid
   using the in-device camera app:
   
   <a href="http://docs.appcelerator.com/titanium/2.1/index.html#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/2.1/index.html#</a>!/api/CameraOptionsType
   
   </li>
<li>Neeraj Gupta 2012-09-13

   Resolving this ticket in the correct status as we were not able to reproduce the issue reported in this ticket.</li>
<li>Ygor Lemos 2013-09-12

   This is still happening on Ti SDK 3.1.2.GA
   
   Tested on several devices (Android 4.0, 4.1, 4.2 and 4.3)
   
   Devices: Nexus 7 (2013), Samsung Galaxy S2, Samsung Galaxy S3, Samsung Galaxy S4, LG L5, Motorola Razr
   
   PhoneGap solved this as per: <a href="http://simonmacdonald.blogspot.ca/2012/07/change-to-camera-code-in-phonegap-190.html" rel="nofollow" target="_blank">http://simonmacdonald.blogspot.ca/2012/07/change-to-camera-code-in-phonegap-190.html</a>
   </li>
<li>Ygor Lemos 2013-09-27

   any news on this one?</li>
</ol>


<p><a href="/TIMOB/TIMOB-6351.json">JSON Source</a></p>