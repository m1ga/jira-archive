---
title: "[TIMOB-6367] Android: searchBar.blur() - v8/rhino - Blurring search bar attempts to hide soft KB but fails"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-06-21T10:42:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.5, Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2012 Sprint 24, 2012 Sprint 24 API</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, kitchensink, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Eric Merriman </td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2011-11-29T17:11:49.000+0000</td></tr>
<tr><th>Updated</th><td>2013-06-21T10:42:15.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:
In KitchenSink, in Controls>Search bar, blurring the search bar should dismiss the soft kb if it's onscreen but does not. A visible movement of the KB is perceived as it starts to dismiss, but does not actually complete the process. It remains on screen. 

The workaround is to hide the field and then attempt to blur. THe KB will be removed from the screen.

Steps to reproduce:
1) Install KS with 1.8.0.1
2) Navigate to Controls>Search bar
3) Click on the search to bring up the soft KB
4) Click the cancel button or click the "blur search bar"

Result:
KB moves slightly as if it will move offscreen, but the KB remains on screen

Expected:
KB is removed from the screen

Note:
Also Occurs With 1.7.5 GA

<h3>Comments</h3>

<ol>
<li>Eric Merriman  2011-11-29

   The same behavior occurs with the KS test:
   Controls>text area>Basic</li>
<li>Eric Merriman  2011-12-15

   Also occurs with Controls>Test Field>Events with SDK 1.8.0.1.v20111214093905 on Both Xoom and LG Slate</li>
<li>Arthur Evans 2012-02-21

   This also means that there seems to be no way to use the built-in cancel button on the search bar. It doesn't generate a 'blur' event, so there's no way to know when it's been pressed in order to use Eric's workaround.
   
   In the following test case, note that:
   
   1) No matter what I do, the 'blur' event is not generated.
   2) Clicking the "Cancel" button does not clear the search field, blur the search field, or close the onscreen keyboard.
   3) The Back button will close the onscreen keyboard, but there doesn't seem to be any way to clear the text in the search bar short of erasing it one character at a time.
   
   
   <code><pre>
   Ti.UI.setBackgroundColor('#000');
   
   var win = Ti.UI.createWindow({
     title:'Tableview with Filter',
     backgroundColor:'#fff'
   });
   
   function makeRow() {
       // generate random string of digits and capital English letters
       // see <a href="http://en.wikipedia.org/wiki/Base_36" rel="nofollow" target="_blank">http://en.wikipedia.org/wiki/Base_36</a>
       return Ti.UI.createTableViewRow({
           title: Math.random().toString(36).substring(7)
       });
   }
   var searchbar = Ti.UI.createSearchBar({
       showCancel: true,
       hintText: "This is the hint text",
   });
   searchbar.addEventListener('blur', function(e) {
   	Ti.API.info("Blur event called.");
   });
   searchbar.addEventListener('focus', function(e) {
   	Ti.API.info("Focus event called.");
   });
   var tbl = Ti.UI.createTableView({
   
       search: searchbar,
   });
   var data = [];
   for(var i=0; i<100; i++) {
       data.push(makeRow());
   }
   tbl.data = data;
   win.add(tbl);
   win.open();
   </pre></code></li>
<li>Arthur Evans 2012-02-21

   Correction to the above: blur seems to be fired in the emulator if:
   
   1) I use the back button to close the keyboard, AND
   2) I scroll down with the mouse scrollwheel.
   
   However, just clicking on a row outside of the search box doesn't blur the search box.</li>
<li>Arthur Evans 2012-02-21

   Update: looking into the Kitchen Sink issues, I think they're not the same issue. I think what we have in the Kitchen Sink is a sample issue, caused by the fact that there is no other focusable control on screen, so as soon as the search bar is blurred, it gets focus again by default. 
   
   I opened a new bug for the issues I reported above: TIMOB-7748.</li>
<li>Hieu Pham 2012-12-04

   master PR: <a href="https://github.com/appcelerator/titanium_mobile/pull/3515" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3515</a></li>
<li>Anshu Mittal 2013-03-01

   Tested with: 
   SDK:3.1.0.v20130228145653
   Studio: 3.1.0.201302252142
   Device: Samsung tab(v 3.2)
   
   works as expected.</li>
<li>Anshu Mittal 2013-06-21

   Reopening to update labels</li>
</ol>


<p><a href="/TIMOB/TIMOB-6367.json">JSON Source</a></p>