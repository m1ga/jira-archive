---
title: "[TIMOB-6439] Android: Menu: Rhino/v8: Adding onCreateOptionsMenu after window creation does not work"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-01-04T10:51:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-48, Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>branch-v8, module_android, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Allen Yeung</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2011-12-02T14:52:55.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:43:54.000+0000</td></tr>
</table>

<h3>Description</h3>

Steps to reproduce:

1. Launch the app.js specified
2. Click on menu

Expected Result:
Menu appears with an "Add Task" option. (should say 'works' when invoked)

Actual Result:
Menu does not appear

<code><pre>
var win = Ti.UI.createWindow({
	backgroundColor: '#fff',
	navBarHidden: false,
});


win.addEventListener('open', function(e) {
	win.activity.onCreateOptionsMenu = function(e) {
	    var menu = e.menu;
	    var menuItem = menu.add({ title: "Add Task" });
	    menuItem.setIcon("KS_nav_ui.png");
	    menuItem.addEventListener("click", function(e) {
	        alert('works');
	    });
	};
});

win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Dustin Hyde 2011-12-05

   Bug fixed. Verfied on:
   SDK: 1.8.0.1.v20111205011857
   Studio: 1.0.7.201112041107
   OS: OS X Lion
   Devices: all supported Android devices</li>
<li>Dustin Hyde 2012-01-04

   Added label qe-testadded.</li>
</ol>


<p><a href="/TIMOB/TIMOB-6439.json">JSON Source</a></p>