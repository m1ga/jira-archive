---
title: "[TIMOB-6538] Android: Debugger: V8: Implement Ti.API.debugBreak for JS suspend"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-12-15T15:23:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-50, Release 1.8.0.1, Release 2.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>branch-v8</td></tr>
<tr><th>Reporter</th><td>Wilson Luu</td></tr>
<tr><th>Assignee</th><td>Josh Roesslein</td></tr>
<tr><th>Created</th><td>2011-12-09T11:44:40.000+0000</td></tr>
<tr><th>Updated</th><td>2011-12-15T15:23:46.000+0000</td></tr>
</table>

<h3>Description</h3>

Our V8 adapter currently sends a "suspend" message for the Suspend action from TiStudio, but this suspends the thread regardless of the current state. We need to use the "DebugBreak" API in V8 to correctly suspend on the next entrance into Javascript.

This can be tested w/ Test Case 1023 in the [Debugger Test Plan](<a href="http://wiki.appcelerator.org/display/tp/Debugger+Test+Plan)" rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/tp/Debugger+Test+Plan)</a>

<h3>Comments</h3>

<ol>
<li>Josh Roesslein 2011-12-12

   Looks like a "continue" request is being sent by Studio shortly after it sent a "suspend" request: <a href="https://gist.github.com/2bd748c1a9efc0ddf3a5" rel="nofollow" target="_blank">https://gist.github.com/2bd748c1a9efc0ddf3a5</a>
   
   Will need input from Max on this behavior and if it is the source of the bug.</li>
<li>Michael Pettiford 2011-12-14

   Tested this with Ti Mob SDK version 1.8.0.1.v20111214093905 and after running the example steps, when one hits 
   step 4: Click 'Callframe nesting' button 
   
   the debugger stops at break point 91 and not 90 like expected</li>
<li>Josh Roesslein 2011-12-15

   This may just be a behavioral difference in V8 we cannot change.</li>
<li>Michael Pettiford 2011-12-15

   </li>
</ol>


<p><a href="/TIMOB/TIMOB-6538.json">JSON Source</a></p>