---
title: "[TIMOB-6688] iOS: CommonJS - Module variables not updated"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-12-20T15:08:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-50, Release 1.8.0.1, Release 2.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>dr-list, parity</td></tr>
<tr><th>Reporter</th><td>Trevor Ward</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2011-12-15T05:35:36.000+0000</td></tr>
<tr><th>Updated</th><td>2012-03-04T22:02:19.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Expected Results</h4>

A variable is set in a module, this module is then included in other modules. It is updated by one module for use in the other.

The values are updated.

Note that Android V8 and Rhino works as expected

<h4>Actual Results</h4>

The variable is not updated, and thus remains null on iOS

<h4>Code</h4>
<code><pre>
var FSUT	=	{};

FSUT.GV		=	require('FSUT-GV');
FSUT.CO 	=	require('FSUT-CO');

FSUT.CO.showValues();

FSUT.CO.updateValues();

FSUT.CO.showValues();
</pre></code>



<code><pre>
exports.VARS =
{
	fieldA:			null,
	fieldB:			"123"
};
exports.updateFields = function(inValue, inField)
{
	this.VARS[inField]	=	inValue;
};
</pre></code>



<code><pre>

var FSUT	=	{};
    FSUT.GV =	require('FSUT-GV');

exports.showValues = function()
{
	alert(FSUT.GV.VARS.fieldA + " .... " + FSUT.GV.VARS.fieldB);
};
exports.updateValues = function()
{
	FSUT.GV.updateFields('NEW VALUE', 'fieldA');
};
</pre></code>



<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2011-12-15

   This issue should be resolved concurrently with TIMOB-6689 - possibly not the same pull req, but it may be required.</li>
<li>Eric Merriman  2011-12-16

   Verified fixed in simulator (5.0), iPhone 4s (5.0.1), iPod touch 3rd ten (4.0.2) with SDK 1.8.0.1-20111216011148. (appears as 1.8.0.1 due to CI issues being worked on)</li>
<li>Stephen Tramer 2011-12-19

   Reopening issue; must be tagged for merge to 1.9.0. This is still resolved for 1.8.0.1 as indicated by QE.</li>
<li>Michael Pettiford 2012-01-11

   Closing this issue as fixed against 1.8.0.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-6688.json">JSON Source</a></p>