---
title: "[TIMOB-6740] Android: Modules: Unable to build modules with RC2"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-01-09T14:47:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_build, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Jeff English</td></tr>
<tr><th>Assignee</th><td>Opie Cyrus</td></tr>
<tr><th>Created</th><td>2011-12-17T14:15:43.000+0000</td></tr>
<tr><th>Updated</th><td>2012-01-10T14:22:37.000+0000</td></tr>
</table>

<h3>Description</h3>

Using the RC2 build of Titanium Studio, module builds are now failing with the error shown below.

NOTE: Module builds are successful when using the zip downloaded from the CI build (branch 1_8_X)

    version=1.8.0.1
    module_apiversion=2
    timestamp=12/16/11 14:31
    githash=c903964

but not with the RC2 build

    version=1.8.0.1
    module_apiversion=2
    timestamp=12/16/11 15:23
    githash=c903964

Even though the githash is the same, the RC2 zip file does not contain the "libstlport_shared.so" file whereas the zip file in the CI build does include the "libstlport_shared.so" file. We did confirm that if the libstlport_shared.so file is copied into the folders for the RC2 then the modules do build successfully.


<code><pre>
ndk.build:
     [copy] Copying 1 file to /Users/jenglish/titanium_mobile_modules/android/barcode/build/generated
     [copy] Copying 1 file to /Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/jni
     [exec] Compile++ thumb  : ti.barcode &lt;= ti.barcode.BarcodeModule.cpp
     [exec] jni/Android.mk:24: warning: overriding commands for target <code>/Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/KrollGeneratedBindings.cpp'
     [exec] jni/Android.mk:24: warning: ignoring old commands for target </code>/Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/KrollGeneratedBindings.cpp'
     [exec] jni/Android.mk:27: warning: overriding commands for target <code>/Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/BootstrapJS.cpp'
     [exec] jni/Android.mk:27: warning: ignoring old commands for target </code>/Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/BootstrapJS.cpp'
     [exec] gperf -L C++ -E -t "/Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/KrollGeneratedBindings.gperf" &gt; "/Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/KrollGeneratedBindings.cpp"
     [exec] "/Library/Application Support/Titanium/mobilesdk/osx/1.8.0.1.RC2/module/android/js2c.py" "/Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/BootstrapJS.cpp" "/Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/bootstrap.js"
     [exec] Compile++ thumb  : ti.barcode &lt;= BarcodeBootstrap.cpp
     [exec] In file included from jni/../BarcodeBootstrap.cpp:17:
     [exec] /Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/KrollGeneratedBindings.gperf:13: warning: declaration 'struct titanium::bindings::BindEntry' does not declare anything
     [exec] /Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/obj/local/armeabi/objs/ti.barcode/ti.barcode.BarcodeModuPrebuilt       : libstlport_shared.so &lt;= &lt;NDK&gt;/sources/cxx-stl/stlport/libs/armeabi/
     [exec] SharedLibrary  : libti.barcode.so
     [exec] le.o:(.data.rel.ro._ZTIN8titanium5ProxyE[typeinfo for titanium::Proxy]+0x8): undefined reference to `typeinfo for titanium::JavaObject'
     [exec] collect2: ld returned 1 exit status
     [exec] make: *** [/Users/jenglish/titanium_mobile_modules/android/barcode/build/generated/obj/local/armeabi/libti.barcode.so] Error 1

BUILD FAILED
/Library/Application Support/Titanium/mobilesdk/osx/1.8.0.1.RC2/module/android/build.xml:226: exec returned: 2
</pre></code>

<h3>Comments</h3>

<ol>
<li>Jeff English 2011-12-17

   Appears to be related to issue TIMOB-6566</li>
<li>Jeff English 2011-12-21

   This is fixed with RC3</li>
<li>Michael Pettiford 2012-01-10

   Closing issue
   
   Ti Mob SDK 1.8.0.1
   OSX Lion
   barcode module
   
   Expected behavior of being able to build the barcode module is shown</li>
</ol>


<p><a href="/TIMOB/TIMOB-6740.json">JSON Source</a></p>