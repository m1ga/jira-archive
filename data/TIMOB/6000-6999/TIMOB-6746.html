---
title: "[TIMOB-6746] Android: Map - MapView does not render if used in a non-url referenced window or tableview"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-05-09T16:05:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.3</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>look1, parity</td></tr>
<tr><th>Reporter</th><td>John Scanlon</td></tr>
<tr><th>Assignee</th><td>Josh Roesslein</td></tr>
<tr><th>Created</th><td>2011-08-12T13:46:02.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-21T21:06:15.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Behavior</h4>

MapView does not render if used in a non-url referenced window or tableview. The map only shows grids, does not update.

<h4>Steps to Reproduce</h4>

Add a mapview to one of the tweetanium's 'tabs'. I used this code below

<code><pre>
(function() {
	//create the mapview
	tt.ui.createMapView = function(_args) {
		
		var mapView = Titanium.Map.createView({
			mapType: Titanium.Map.STANDARD_TYPE,
			region:{latitude:39.9645745, longitude:-75.137527, latitudeDelta:0.01, longitudeDelta:0.01},
			regionFit:true,
			userLocation:false
		});

		return mapView;
	};
})();
</pre></code>

then reference tt.ui.createMapView() in the views property of tt.ui.createFilmStripView.

This is not an issue with an invalid map api key. To verify it wasn't, in the same app i have a menu item that creates a window with a url referencing a map.js file that creates the same mapview as mentioned above. It then opens this window up. The map displays fine, verifing the map api key I have is valid.

<h4>Related Discussions</h4>

[Maps on tweetanium (2 weeks of forum searching and testing, still no luck)](<a href="http://developer.appcelerator.com/question/124085/maps-on-tweetanium-2-weeks-of-forum-searching-and-testing-still-no-luck)" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/124085/maps-on-tweetanium-2-weeks-of-forum-searching-and-testing-still-no-luck)</a>

<h4>Workaround</h4>

See comments


<h3>Comments</h3>

<ol>
<li>Fredrik Motin 2011-09-12

   This seems to be the exact same issue that we have run into. Posted in the forums under <a href="http://developer.appcelerator.com/question/124831/map-view-tiles-not-showing" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/124831/map-view-tiles-not-showing</a>
   
   The tiles show only if I don't load any other controls, images or widgets in the other views. Also, the tiles show when only the map view is enable and no other tabs. But whenever the map view is shown as one of other tabs with their own UI etc, the tiles refuse to load 95% of the time. Is this a memory management problem?
   
   What can we provide to help investigate this issue closer to a solution?</li>
<li>Fredrik Motin 2011-09-21

   We have now confirmed that opening the mapview in a new window (and new context) results in a working mapview, regardless of how many controls, images or widgets exists in the other views...
   
   This is definitely a problem with the Tweetanium architecture, resulting in unusable mapviews there-in. How can we help solving this issue?</li>
<li>Paul Dowsett 2011-09-23

   Guys
   
   Please see the information about Google maps at [Titanium Compatibility Matrix](<a href="http://wiki.appcelerator.org/display/guides/Titanium+Compatibility+Matrix)." rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/Titanium+Compatibility+Matrix).</a> Thus, would you please test your code in the emulator using Android APIs 2.2, and let me know whether it improves the issue.
   
   Thanks</li>
<li>Mike Robinson 2011-09-23

   I was having the issue as well, even with the Google APIs. It seems to be fixed for me if I create the map completely within the event listener for window.open().  And I mean completely within, only the variable vwMap should exist outside, the Ti.Map.createView must be within the window.open for it to work.</li>
<li>Tony Lukasavage 2011-11-29

   The issue still definitely exists in 1.8.x CI, tested against the Android 2.2 emulator with the Google APIs. I was able to get it working using the workaround of defining the mapview in the window.open() event.</li>
<li>Paul Dowsett 2011-12-19

   According to TonyL, mapviews don't work properly in single context if you define them before the window open(). Hence, the following workaround can be used: 
   
   <code><pre>
   var mapview;
   
   win.addEventListener('open', function(e) {
   	mapview = Ti.Map.createMapView();
   	// the rest of the code
   });
   </pre></code></li>
<li>Johnny Wong 2012-01-03

   Will there be any resolution to this ticket? I am running into this issue when showing the mapview in multiple places (doing all the stuff about same javascript context, lightweight windows, and adding/removing the mapview). 
   
   @appcelerator -- Stuff like this is what makes us hold off on having full commitment to titanium and getting the enterprise license for our startup</li>
<li>Neeraj Gupta 2012-04-30

   @Johnny - We are now working on this issue actively.</li>
<li>Josh Roesslein 2012-04-30

   @Johnny
   On Android be sure you only have one MapView attached at a time.
   The Google Maps library only allows one active map per a process. If your issue is different
   could you please provide us more details? A simple test case and steps to reproduce would be very helpful.
   Please create a new ticket if this isn't related to Tweetanium. Also please test against the latest SDK,
   there have been fixes applied since this ticket was created that may solve your issue.</li>
<li>Josh Roesslein 2012-05-09

    Please direct any bugs with Tweeanium over to its [Github project](<a href="https://github.com/appcelerator-titans/tweetanium)" rel="nofollow" target="_blank">https://github.com/appcelerator-titans/tweetanium)</a> which is managed now by the Titan community.
    
    If there is a platform issue please open a new issue w/ a test case that demonstrates the bug.</li>
<li>Lee Morris 2017-03-21

    Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-6746.json">JSON Source</a></p>