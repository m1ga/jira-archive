---
title: "[TIMOB-6767] iOS: Disappearing events in tabbedbar nested in Views"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2012-03-27T13:48:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.5, Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-12-19T15:40:39.000+0000</td></tr>
<tr><th>Updated</th><td>2012-03-27T13:48:49.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>PROBLEM DESCRIPTION</h4>
If you have a tabbedbar inside a view, the view won't get the events, like singletap.

<h4>STEPS TO REPRODUCE</h4>
1. Create a new mobile project
2. Paste the code below into app.js
3. Singletap on the buttons of the tabbedbar.

<h4>ACTUAL RESULTS</h4>
The singletap event is not fired.

<h4>EXPECTED RESULTS</h4>
Singletap event should be fired. 

<h4>CODE</h4>

<code><pre>
var win = Ti.UI.createWindow();
var view = Ti.UI.createView({
	touchEnabled:   true,
}); 
var bb1 = Titanium.UI.createTabbedBar({ 
	labels:['One', 'Two', 'Three'], 
	backgroundColor:'#336699', 
	top:50, 
	style:Titanium.UI.iPhone.SystemButtonStyle.BAR, 
	height:25, 
	width:200 }); 
	
view.add(bb1);
view.addEventListener('singletap',function(){
	Ti.API.info('Event singletap was fired!');
});
win.add(view);
win.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2011-12-21

   Is there a specific reason why the "singletap", and not the "click" event, must be used? This code could be replaced with the following:
   
   <code><pre>
   var win = Ti.UI.createWindow();
   var view = Ti.UI.createView({
   	touchEnabled:   true,
   }); 
   var bb1 = Titanium.UI.createTabbedBar({ 
   	labels:['One', 'Two', 'Three'], 
   	backgroundColor:'#336699', 
   	top:50, 
   	style:Titanium.UI.iPhone.SystemButtonStyle.BAR, 
   	height:25, 
   	width:200 }); 
   	
   view.add(bb1);
   
   function tapListener(event) {
     // ... event processing here, where you can:
     // 1. Switch on the source
     // 2. Switch on the event type
   }
   
   view.addEventListener('singletap',tapListener);
   bb1.addEventListener('click',tapListener);
   
   win.add(view);
   win.open();
   </pre></code>
   
   Or even simply listen for the <code>click</code> event on the view, which will pick up control changes on the tab bar (and is triggered as soon as the control changes value). In practice there tends to be little difference between <code>singletap</code> and <code>click</code>.
   
   Internally, iOS may not give us enough information on the <code>singletap</code> event to be able to reliably report the currently selected button in the control (in particular, <code>singletap</code> may be fired before the value is changed). We may not even be able to get <code>singletap</code> from the underlying control due to its native behavior.
   
   This bug indicates that our documentation needs to be updated to indicate where specific views may not support specific events.</li>
<li>Stephen Tramer 2011-12-21

   Note that this comment applies only if the information from the <code>click</code> event (the currently selected button index) is required. Certain events may not be bubbling up as expected, which is a genuine bug.</li>
<li>Stephen Tramer 2011-12-21

   Won't fix; checked and saw that the events required for processing 'singletap' don't even bubble up from the underlying control.
   
   Going to create a doc bug for improving documentation of views which do (and do not) handle specific events, and among those, which include additional information as part of the event.</li>
<li>Stephen Tramer 2011-12-21

   Filed bug TIMOB-6825 for improving our documentation regarding event listeners.
   
   Unfortunately, generating parity information for event handling on iOS is not particularly easy outside of an app we can run to pump events through specific elements (probably the same for Android).</li>
<li>Thomas Huelbert 2012-01-23

   As per Steven, cannot address. closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-6767.json">JSON Source</a></p>