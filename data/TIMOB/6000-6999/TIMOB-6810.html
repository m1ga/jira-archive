---
title: "[TIMOB-6810] iOS: TableView sectionHeader weirdness when combined with searchBar"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-01-16T17:33:40.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-51, Release 2.0.0, Release 1.8.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>parity</td></tr>
<tr><th>Reporter</th><td>Sergej Kotliar</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-12-01T02:14:40.000+0000</td></tr>
<tr><th>Updated</th><td>2012-03-04T21:56:32.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
When searching in the search bar, with custom sectionHeaders in the Table, there are many visible artifacts/glitches that appear. 

<h4>sectionHeader title and styling disappears</h4>
<h4>Empty groups are displayed even when there's nothing in them, leaving behind visible traces of empty sectionheaders. </h4>

See attached screenshot.

<h4>Test Case</h4>
<code><pre>
var win1 = Titanium.UI.createWindow();

// create table view data object
var data = [];

var header = Ti.UI.createView({
	backgroundColor:'#999',
	height:'auto'
});

var headerLabel = Ti.UI.createLabel({
	font:{fontFamily:'Helvetica Neue',fontSize:18,fontWeight:'bold'},
	text:'Custom Header - first label',
	color:'#222',
	textAlign:'left',
	top:0,
	left:10,
	width:300,
	height:30
});
var headerLabel2 = Ti.UI.createLabel({
	font:{fontFamily:'Helvetica Neue',fontSize:18,fontWeight:'bold'},
	text:'Custom Header - second label',
	color:'#222',
	textAlign:'left',
	left:10,
	top:50,
	width:300,
	height:30
});
header.add(headerLabel);
header.add(headerLabel2);

var section = Ti.UI.createTableViewSection();
section.headerView = header;

data[0] = section;

section.add(Ti.UI.createTableViewRow({hasChild:true,title:'Row 1'}));
section.add(Ti.UI.createTableViewRow({hasDetail:true,title:'Row 2'}));
section.add(Ti.UI.createTableViewRow({hasCheck:true,title:'Row 3'}));
section.add(Ti.UI.createTableViewRow({title:'Row 4'}));


var search = Titanium.UI.createSearchBar({
	showCancel:false
});
// create table view
var tableview = Titanium.UI.createTableView({
	data:data,
	search:search,
	filterAttribute:'title'
});

win1.add(tableview);
win1.open();
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-6810_24410/app.js">app.js</td></td><td>2011-12-01T05:55:02.000+0000</td><td>1438</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-6810_24408/table_view_api_custom_header.js">table_view_api_custom_header.js</td></td><td>2011-12-01T05:32:30.000+0000</td><td>1602</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-6810_24406/visual_glitch_tableview.png">visual_glitch_tableview.png</td></td><td>2011-12-01T02:14:40.000+0000</td><td>297278</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Matthew Apperson 2011-12-01

   Sergej,
   
   Please remember to follow the guidelines here - <a href="http://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report" rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report</a> in filling out a bug report. Your ticket here is missing a code sample and the exact build version you used to show this bug.
   
   Best regards,
   Matt</li>
<li>Sergej Kotliar 2011-12-01

   Sorry about the version, went to look for the exact one and then forgot. It is with Ti 1.8.0.1 from Nov 29th.
   
   As for test cases, this is a pretty obvious issue and is even visible in KitchenSink. 
   
   Attaching a modded version of one of the KitchenSink files where this can be seen. </li>
<li>Sergej Kotliar 2011-12-01

   Throw this into KitchenSink, and it shows the problem</li>
<li>Matthew Apperson 2011-12-01

   Sergej,
   
   We request you please adhere closely to this part of the guide - <a href="http://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-CreatingaTestCase" rel="nofollow" target="_blank">http://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-CreatingaTestCase</a>
   
   In particular the aspect where the code should be able to be placed directly in app.js and run... also further down where we request that you place the file in the code tags directly in the description.
   
   Thanks for helping us out with this! :)
   
   Best regards,
   Matt</li>
<li>Sergej Kotliar 2011-12-01

   Alright, putting it in an app.js</li>
<li>Sergej Kotliar 2011-12-01

   Is this code tags?
   
   <code><pre>
   // this sets the background color of the master UIView (when there are no windows/tab groups on it)
   Titanium.UI.setBackgroundColor('#000');
   
   //
   // create base UI tab and root window
   //
   var win1 = Titanium.UI.createWindow();
   
   
   // create table view data object
   var data = [];
   
   var header = Ti.UI.createView({
   	backgroundColor:'#999',
   	height:'auto'
   });
   
   var headerLabel = Ti.UI.createLabel({
   	font:{fontFamily:'Helvetica Neue',fontSize:18,fontWeight:'bold'},
   	text:'Custom Header - first label',
   	color:'#222',
   	textAlign:'left',
   	top:0,
   	left:10,
   	width:300,
   	height:30
   });
   var headerLabel2 = Ti.UI.createLabel({
   	font:{fontFamily:'Helvetica Neue',fontSize:18,fontWeight:'bold'},
   	text:'Custom Header - second label',
   	color:'#222',
   	textAlign:'left',
   	left:10,
   	top:50,
   	width:300,
   	height:30
   });
   header.add(headerLabel);
   header.add(headerLabel2);
   
   var section = Ti.UI.createTableViewSection();
   section.headerView = header;
   
   data[0] = section;
   
   section.add(Ti.UI.createTableViewRow({hasChild:true,title:'Row 1'}));
   section.add(Ti.UI.createTableViewRow({hasDetail:true,title:'Row 2'}));
   section.add(Ti.UI.createTableViewRow({hasCheck:true,title:'Row 3'}));
   section.add(Ti.UI.createTableViewRow({title:'Row 4'}));
   
   
   var search = Titanium.UI.createSearchBar({
   	showCancel:false
   });
   // create table view
   var tableview = Titanium.UI.createTableView({
   	data:data,
   	search:search,
   	filterAttribute:'title'
   });
   
   win1.add(tableview);
   win1.open();
   </pre></code></li>
<li>Sergej Kotliar 2011-12-01

   Ok, I give up. Please help with this.</li>
<li>Matthew Apperson 2011-12-01

   the opening and closing tag are the same, aka no slash in the last tag... if you click edit on your last comment, I edited it to be correct so you can se the example there</li>
<li>Sergej Kotliar 2011-12-01

   Thanks. I'll know for next time. Could you please reopen this bug?</li>
<li>Paul Dowsett 2011-12-19

    Sergej
    
    I am sorry if this sounds tough, Sergej, but in order for me to accept this, the environment field needs to be complete, with the information listed in [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)." rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist).</a> I promise, as soon as this is done correctly, I will escalate the ticket! :)
    
    Thanks for your patience with this.</li>
<li>Paul Dowsett 2011-12-19

    Please reopen the ticket once it is complete.
    
    Cheers</li>
<li>Sergej Kotliar 2011-12-19

    Yeah Paul, you're a real tough guy. You really showed me there.
    
    And then you wonder why there's entire blogs dedicated this company's practices.
    
    Three weeks it has taken for you to look at this.
    
    Oh, and by the way, there's no way for me to reopen bugs.</li>
<li>Stephen Tramer 2011-12-21

    Looks like a dupe of TIMOB-5760. Both should be tested with the fix for this ticket.</li>
<li>Stephen Tramer 2011-12-21

    Notes for QE and reviewers -
    
    Please functional test TIMOB-6760 in tandem with this ticket, fixversioning it appropriately for each review/modification.
    
    When that ticket is to finally be resolved, please mark it as a dupe, not as fixed.</li>
<li>Michael Pettiford 2012-01-12

    Closing issue
    
    Tested with Ti Studio 1.0.8.201201101928
    Ti Mob SDK 1.9.0.v20120111233134
    OSX Lion
    iPhone 4S, iPad 2
    
    Tested this and the test in KS and expected behavior is shown</li>
<li>Stephen Tramer 2012-01-16

    Reopening for manual merge to 1.8.1.</li>
<li>Wilson Luu 2012-01-17

    Closing bug. Verified fix on:
    
    SDK build: 1.9.0.v20120117114633
    Titanium Studio, build: 1.0.8.201201131907
    OS: Mac OS X Lion (10.7.1)
    Device: iphone 4S (5.0.1)
    
    Note: Tested using attached code and KS > Base UI > Views > Table Views > Headers</li>
</ol>


<p><a href="/TIMOB/TIMOB-6810.json">JSON Source</a></p>