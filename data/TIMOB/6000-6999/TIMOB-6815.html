---
title: "[TIMOB-6815] Android: Modules: Rhino: Base proxy created instead of derived proxy"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-02-10T00:15:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-01, Release 2.0.0, Release 1.8.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_module, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Jeff English</td></tr>
<tr><th>Assignee</th><td>Opie Cyrus</td></tr>
<tr><th>Created</th><td>2011-12-21T10:17:30.000+0000</td></tr>
<tr><th>Updated</th><td>2012-02-10T00:15:02.000+0000</td></tr>
</table>

<h3>Description</h3>

If you have a proxy class in your module and then you subclass that proxy class with another and both are marked as 'creatableInModule', when you create an instance of the derived proxy class in your JavaScript it will actually create an instance of the base class instead of the derived class. This works correctly on V8 but fails on Rhino.

Base Class:
<code><pre>
@Kroll.proxy(creatableInModule = HarnessModule.class)
public class LifeCycleProxy extends KrollProxy
{
	public LifeCycleProxy()
	{
		super();
		Log.e("BUGBUG", "LifeCycleProxy");
	}
}
</pre></code>

Derived Class:
<code><pre>
@Kroll.proxy(creatableInModule = HarnessModule.class)
public class KrollDemoProxy extends LifeCycleProxy
{
	public KrollDemoProxy()
	{
		super();
		Log.e("BUGBUG", "KrollDemoProxy");
	}
}
</pre></code>

JavaScript code:
<code><pre>
Ti.API.info("Creating Kroll Demo");
harness.createKrollDemo();

Ti.API.info("Creating LifeCycle");
harness.createLifeCycle();
</pre></code>

This will output the following sequence on Rhino:
<code><pre>
Creating Kroll Demo
LifeCycleProxy
Creating LifeCycle
LifeCycleProxy
</pre></code>

But the correct output on V8:
<code><pre>
Creating Kroll Demo
LifeCycleProxy
KrollDemoProxy
Creating LifeCycle
LifeCycleProxy
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-6815_24805/harness.zip">harness.zip</td></td><td>2011-12-21T10:17:54.000+0000</td><td>23684</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-6815_24924/ti.harness-android-0.1.zip">ti.harness-android-0.1.zip</td></td><td>2012-01-04T10:47:52.000+0000</td><td>34417</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jeff English 2011-12-21

   Sample module that demonstrates the issue</li>
<li>Jeff English 2012-01-04

   Module built with TiSDK 1.8.0.1</li>
<li>Wilson Luu 2012-01-12

   Closing bug. Verified fix on:
   
   SDK build: 1.9.0.v20120112104633
   Runtime: V8, Rhino
   Titanium Studio, build: 1.0.8.201201111843
   Device: Droid 3 (2.3.4)
   
   Note to QE: When testing, attached module or module from scratch are valid tests for this bug.</li>
</ol>


<p><a href="/TIMOB/TIMOB-6815.json">JSON Source</a></p>