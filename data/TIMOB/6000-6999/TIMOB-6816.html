---
title: "[TIMOB-6816] Android: UI - heavyweight window open event fired twice"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-01-23T16:17:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-01, Release 2.0.0, Release 1.8.1</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>parity</td></tr>
<tr><th>Reporter</th><td>Dylan Sale</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2011-12-20T18:13:48.000+0000</td></tr>
<tr><th>Updated</th><td>2012-08-14T19:43:48.000+0000</td></tr>
</table>

<h3>Description</h3>

This code: 
<code><pre>
// this sets the background color of the master UIView (when there are no windows/tab groups on it)
Titanium.UI.setBackgroundColor('#000');
var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#000000', 
    navBarHidden:true
});

win1.addEventListener("open", function(e) {
	Ti.API.debug("OPENED");
});


win1.open();
</pre></code>

Changing <code>navBarHidden:true</code> to <code>modal:true</code> also produces the same result

OPENED will be called twice when the app starts. Additionally, the win1.activity is stopped after the first time the event fires.

I posted this on Q and A at <a href="http://developer.appcelerator.com/question/129668/heavyweight-windows-causing-open-event-to-fire-twice" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/129668/heavyweight-windows-causing-open-event-to-fire-twice</a>

<h3>Comments</h3>

<ol>
<li>Ivan Skugor 2011-12-21

   </li>
<li>Paul Dowsett 2011-12-21

   Dylan
   
   Thank you for raising this ticket. I have tested the code, and verified that it produces the results as described .
   
   Please note the changes that were necessary, as described in [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)</a>, in order for me to be able to escalate it.
   
   Cheers
   
   </li>
<li>Dylan Sale 2011-12-21

   Hi Paul,
   Sorry about the formatting, I was in a hurry and missed some of the checklist it seems.
   
   I notice you changed the component to Android, as a community member it doesn't seem like I have access to that Component.</li>
<li>Paul Dowsett 2011-12-22

   No worries, Dylan - it's all good :)</li>
<li>leoncin 2011-12-27

   vote it. My application which heavily uses 'url' for window creation totally stop working. Hope Titanium can give a fast patch to fix this severe issue. 
   </li>
<li>Shawn Lipscomb 2011-12-27

   Voted.  Problem occurs with the released 1.8.0.1 also.</li>
<li>Frank Apap 2011-12-27

   Another vote here.  This is preventing me from releasing my app on 1.8</li>
<li>Shawn Lipscomb 2011-12-27

   Heck, I can't even TEST my app because all of my open events are firing twice, which causes all kinds of funny side-effects.</li>
<li>Shawn Lipscomb 2011-12-27

   I've also noticed that the focus event gets fired twice (in my case, when opening a window with the "url" property set).  This all works fine in 1.8.0.v... from 09/13/2011.</li>
<li>Ping Wang 2012-01-04

    Below is a sample code to test both "open" and "focus" events. Run it for both heavyweight window and lightweight window. Check the log for result.
    <code><pre>
    Titanium.UI.setBackgroundColor('#000');
    var win1 = Titanium.UI.createWindow({  
        title:'Tab 1',
        backgroundColor:'#000000', 
        navBarHidden:true
    });
    
    win1.addEventListener("open", function(e) {
    	Ti.API.debug("*****************OPENED");
    });
    
    win1.addEventListener("focus", function(e) {
    	Ti.API.debug("****************FOCUSED");
    });
    
    win1.open();
    </pre></code></li>
<li>Wilson Luu 2012-01-12

    Closing bug. Verified fix for both heavyweight and lightweight windows on:
    
    SDK build: 1.9.0.v20120111233134
    Runtime: V8, Rhino
    Titanium Studio, build: 1.0.8.201201111843
    Device: Droid 3 (2.3.4)</li>
<li>Shawn Lipscomb 2012-01-16

    </li>
</ol>


<p><a href="/TIMOB/TIMOB-6816.json">JSON Source</a></p>