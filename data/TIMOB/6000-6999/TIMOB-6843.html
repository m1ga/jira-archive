---
title: "[TIMOB-6843] Ti API: 2DMatrix.rotate() can take 2 arguments on Android, only 1 on iOS and Mobile Web"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2017-06-26T22:10:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>MobileWeb, TiAPI</td></tr>
<tr><th>Labels</th><td>core, parity</td></tr>
<tr><th>Reporter</th><td>Tony Lukasavage</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2011-12-22T08:20:17.000+0000</td></tr>
<tr><th>Updated</th><td>2017-08-24T20:50:59.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>The Problem</h4>
When using <code>2DMatrix.rotate()</code> to rotate views, this function can take 2 arguments on Android, and only one on iOS and Mobile Web. In the source code found here:

[<a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/titanium/src/java/org/appcelerator/titanium/view/Ti2DMatrix.java#L140-152" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/titanium/src/java/org/appcelerator/titanium/view/Ti2DMatrix.java#L140-152</a>](<a href="https://github.com/appcelerator/titanium_mobile/blob/master/android/titanium/src/java/org/appcelerator/titanium/view/Ti2DMatrix.java#L140-152)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/blob/master/android/titanium/src/java/org/appcelerator/titanium/view/Ti2DMatrix.java#L140-152)</a>

We see that Android takes 2 arguments because in the single argument form it resets the rotation transform back to zero instead of using its existing transformation. While this gives Android developers a chance to better control their animations, it creates a parity issue. For exmaple:

<code><pre>
Ti.UI.create2DMatrix().rotate(45, 0);
</pre></code>

if animated on a view will rotate it from 45 to 0 on Android, but it will rotate it from its existing position to 45 on iOS. There will be no errors as iOS will just ignore the 2nd argument, but it will behave differently on each platform.

<h4>Proposed Solutions</h4>

1. Modify the Android source to use any existing transform for its original position instead of just reseting it to zero.
2. Modify the iOS source so that it can also accept a starting and ending rotation for the <code>rotate()</code> function

<h3>Comments</h3>

<ol>
<li>Bryan Hughes 2013-01-29

   FYI 2DMatrix.rotate only takes one argument on Mobile Web</li>
<li>Bryan Hughes 2013-04-04

   As it turns out, this is an amazingly difficult problem to solve because matrices in Android are not true affine transforms (they have some extra sauce applied). This means that achieving parity in rotate is surprisingly difficult. The better solution is to just wait until we create a new, non-matrix based animation system.</li>
<li>Lee Morris 2017-08-24

   Mobile Web has been deprecated and will be removed in fixVersion 7.0.0.</li>
</ol>


<p><a href="/TIMOB/TIMOB-6843.json">JSON Source</a></p>