---
title: "[TIMOB-6857] Android: UI - the back hardware button triggers optionDialog's click event"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2018-01-03T05:52:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ivan Skugor</td></tr>
<tr><th>Assignee</th><td>Maggie Chen</td></tr>
<tr><th>Created</th><td>2011-10-25T06:48:23.000+0000</td></tr>
<tr><th>Updated</th><td>2018-01-03T05:52:50.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

The Android back hardware button triggers optionDialog's click event. The click event shouldn't be triggered because of the fact dialog isn't clicked/touched with finger (back button is).

<h4>Test case</h4>

* run code below
* click on the button so that optionDialog shows
* hit the hardware back-button. You'll see that this triggers dialog's click event.

<code><pre>
var win = Ti.UI.createWindow({
    modal: true,
    backgroundColor: '#000'
});
 
var button = Ti.UI.createButton({
    title: 'Open dialog'
});
 
button.addEventListener('click', function() {
 
    var dialog = Ti.UI.createOptionDialog({
        options: ['Option 1', 'Option 2', 'Option 3'],
        title: 'Options'
    });
 
    dialog.addEventListener('click', function(e) {
        Ti.API.info('Dialog click event!');
        Ti.API.debug(e);
    });
 
    dialog.show();
});
 
win.add(button);
 
win.open();
</pre></code>

<h4>Results</h4>

<code><pre>
Dialog click event!
{"cancel":false,"index":-268435457,"source":{"size":{"height":0,"width":0},"children":[],"height":0,"width":0,"center":{"y":0,"x":0},"options":["Option 1","Option 2","Option 3"],"title":"Options","keepScreenOn":false,"_events":{}},"button":true,"type":"click"}
</pre></code>

<h4>Discussions</h4>

See [this Q&A question](<a href="http://developer.appcelerator.com/question/127291/android-back-button-triggers-option-dialogs-click-event)." rel="nofollow" target="_blank">http://developer.appcelerator.com/question/127291/android-back-button-triggers-option-dialogs-click-event).</a>


<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2011-12-23

   Ivan, thank you for raising this ticket. Please note the changes I made to bring it in line with the [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)." rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist).</a>
   
   Unfortunately we cannot accept more than one issue or request in a single ticket. Would you raise an new feature request ticket for the following, if you still think it is valid?
   
   Cheers
   
   <code><pre>
   Also, in my opinion, "cancel" functionality of optionDialog could be redesigned, so that is supports new "cancel" event instead of "cancel" property in "click" event as implementation of functionality when no option is selected. That way, we will be able to do action when both "cancel" option is selected and hardware back-button is pressed, and on the other hand in "click" event we won't have to check if "cancel" opinion was clicked to do no action (so, "cancel" option would not produce "click" event).
   </pre></code></li>
<li>saamy 2017-05-25

   May I know why this simple issue is not fixed yet ?</li>
<li>Maggie Chen 2017-09-26

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/9476" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/9476</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-6857.json">JSON Source</a></p>