---
title: "[TIMOB-6873] Android: Inconsistent Focus and Blur events with Textfield in TableViewRow"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-02-14T23:29:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.5, Release 1.8.0.1, Release 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-03, Release 2.0.0, Release 1.8.2</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_textfield, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2011-12-27T08:27:04.000+0000</td></tr>
<tr><th>Updated</th><td>2013-11-07T05:32:37.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>
Focus and Blur Events are getting triggered slightly different as they are on iPhone Platform.

They are getting triggered for each and every digit/character entered by the user even if he/she is entering the data in the same Text Field.

<h4>Tested on</h4>
iOS Simulator / iPhone 3Gs iOS 5
Android HVGA Emulator / LG Ally v2.2.1

<h4>Expected behavior</h4>
While entering to a Text Field Focus got fired once
While selecting another TextField, Blur - Focus got fired (in that order, once).

<h4>Unexpected behavior</h4>
While entering to a Text Field Focus got fired twice, and every time a digit is entered
While selecting another TextField, Blur - Focus got fired TWICE, and every time digits are entered.

<h4>Steps to reproduce</h4>
1) Select a TextField
2) Select any other TextFields in order to trigger Blur and Focus events respectively
3) Notice the difference between each platform

<h4>Repro sequence</h4>
This sample uses an "alert box" to reproduce the issue.  
<code><pre>
var win = Ti.UI.createWindow({
	softInputMode : (Titanium.UI.Android) ? Ti.UI.Android.SOFT_INPUT_ADJUST_PAN : '',
	windowSoftInputMode : (Titanium.UI.Android) ? Ti.UI.Android.SOFT_INPUT_ADJUST_PAN : ''
});

var tf1 = null;

function addRow() {
	var row = Ti.UI.createTableViewRow({
		height : 80,
		//touchEnabled:false
	});
	
	tf1 = Titanium.UI.createTextField({
		color : '#336699',
		width : 250,
		height : 80,
		focusable : true,
		returnKeyType : Titanium.UI.RETURNKEY_DONE,
		//autocapitalization : Titanium.UI.TEXT_AUTOCAPITALIZATION_WORDS,
		autocorrect : false,
		suppressReturn : true,

	});
	
	tf1.addEventListener('focus', function() {
		Ti.API.info('Focus fired');
		alert('Focus fired');
	});

	tf1.addEventListener('blur', function() {
		Ti.API.info('blur fired');
		alert('Blur fired');
	});
	
	row.add(tf1);
	//row.selectionStyle = Ti.UI.iPhone.TableViewCellSelectionStyle.NONE;
	//row.className = 'control';
	return row;
}

// create table view data object
var data = [];

for(var x = 0; x &lt; 10; x++) {
	data[x] = addRow();
}

var tableView = Ti.UI.createTableView({
	data : data,
	//style : Titanium.UI.iPhone.TableViewStyle.GROUPED
});

win.add(tableView);

win.open();
</pre></code>

<h4>Customer's remarks</h4>
{noformat}
For every character hit on keypad the 'focus' and 'blur' are firing. Anyways you can fire an event or something like that to that that these events are firing for each key hit on keypad. In our app I was firing an event to update another view on the same window and was not showing any alert but its behaving the same way.
{noformat}

<h3>Comments</h3>

<ol>
<li>Nikolai Derzhak 2012-02-06

   This issue latest notification was not sent due to JIRA mail setting. Fixed now. Please check the issue for latests changes.</li>
<li>Eric Merriman  2012-02-13

   Verified fixed with SDK 1.9.0.v20120212011634 Droid 3 (2.3.4) and Nexus S (2.2.2) as well as emulator with both Rhino and V8 runtimes.</li>
<li>Shameer Jan 2013-11-07

   Anvil testcase PR <a href="https://github.com/appcelerator/titanium_mobile/pull/4863" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4863</a>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-6873.json">JSON Source</a></p>