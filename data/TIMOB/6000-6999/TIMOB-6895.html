---
title: "[TIMOB-6895] add blob support for Ti.map.annotation.image"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2011-12-29T16:47:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2011-52, Release 2.0.0, Release 1.8.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_map, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Asim Siddiqui</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2011-12-27T16:33:49.000+0000</td></tr>
<tr><th>Updated</th><td>2012-03-03T23:26:48.000+0000</td></tr>
</table>

<h3>Description</h3>

for Ti.Map.Annotation you should be able to set the image property to a blob in order to support dynamic annotation creation. Right now it only excepts a URL to an image file.

Comment from customer:

We're facing a technical challenge that can actually make or break us at this point. We have a deadline at the end of january to build a mobile app in titanium that can closely mimic our current app for iOS.

Our problem: We need the ability to add labels with dynamic text to annotations. We would actually love to be able to add views to the  annotation view but labels would be enough for our current needs.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-6895_24860/map_screenshot.jpg">map_screenshot.jpg</td></td><td>2011-12-28T14:18:35.000+0000</td><td>42129</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Asim Siddiqui 2011-12-28

   example screenshot of implementation in native</li>
<li>Stephen Tramer 2011-12-28

   Dynamic label support is an unrelated feature that requires its own ticket and escalation path. Please submit a new feature request: this will not be addressed as part of the resolution for this ticket. </li>
<li>Stephen Tramer 2011-12-28

   <h4>TESTING</h4>
   ----
   
   Sample code:
   
   <code><pre>
   
   var path = "images/send.png";
   var blob = Ti.UI.createImageView({
   	image:"images/chat.png"
   }).toBlob();
   
   var annPath = Ti.Map.createAnnotation({
   	latitude: 37.389569, 
   	longitude: -122.050212, 
   	image: path,
   	animate: true, 
   	pincolor: Ti.Map.ANNOTATION_GREEN, 
   });
   
   var annBlob = Ti.Map.createAnnotation({
   	latitude: 37.331689, 
   	longitude: -122.030731, 
   	image: blob,
   	animate: true, 
   	pincolor: Ti.Map.ANNOTATION_RED
   });
   
   var annotations = [annPath, annBlob];
   
   var map = Ti.Map.createView({
   	mapType: Titanium.Map.STANDARD_TYPE,
   	region: { 
   		latitude:37.389569, 
   		longitude:-122.050212, 
   		latitudeDelta:.05, 
   		longitudeDelta:.05 
   	},
   	animate:true,
   	regionFit:true,
   	userLocation:false,
   	annotations:annotations
   });
   
   var win = Ti.UI.createWindow({backgroundColor:'white'});
   win.add(map);
   win.open();
   </pre></code>
   
   Note that you will need both <code>images/chat.png</code> and <code>images/send.png</code> in your Resources.</li>
<li>Wilson Luu 2012-02-08

   Closing bug. Verified new feature is behaving as expected on:
   
   SDK build: 1.9.0.v20120207171634
   Titanium Studio, build: 1.0.8.201201262211
   xcode: 4.2
   Devices: iphone 4S Sprint (5.0.1)</li>
</ol>


<p><a href="/TIMOB/TIMOB-6895.json">JSON Source</a></p>