---
title: "[TIMOB-7003] iOS: CLI in 1.8 is not able to build projects for distribution (but CI does)"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-01-10T12:43:59.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2012-01-05T11:32:21.000+0000</td></tr>
<tr><th>Updated</th><td>2014-06-19T12:43:26.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>PROBLEM </h4>
Customer wants to use his build factory to build projects for device. He is using ANT. He tried this with CI, and it's working. With 1.8.0.1, he gets error on the architecture. 

<h4>EXTRA INFO</h4>
Earlier today, I was able to get a local machine (not build server) command-line ANT build running on a device, but that was with SDK 1.8.0.r05ee9f48.d10.17. When I switched to SDK 1.8.0.1, I got a persistent build error. The build log says:

ld: in /Users/csadil/dev/env/tablet/MB-Next-Gen-Client/build/iphone/lib/libtiverify.a, file is universal but does not contain a(n) armv6 slice for architecture armv6 collect2: ld returned 1 exit status Command /Developer/Platforms/iPhoneOS.platform/Developer/usr/bin/g++-4.2 failed with exit code 1

Some searches suggest that this is related to armv architecture settings in the TI-generated files (see <a href="http://stackoverflow.com/questions/5266576/way-to-restore-xcode-to-accept-armv6-architecture" rel="nofollow" target="_blank">http://stackoverflow.com/questions/5266576/way-to-restore-xcode-to-accept-armv6-architecture</a> )

I have Xcode 4.0.2 and iOS SDK 4.3 installed.

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2012-01-05

   We require the full build log that generated this error. This is likely a problem with the external build system, since <code>libtiverify.a</code> contains the correct symbols for armv6:
   
   <code><pre>
   stiv@Macintosh-140 [11:35:47] [~/src/appcelerator/titanium_mobile] [1_8_X *]
   -&gt; % nm iphone/lib/libtiverify.a | grep armv6
   iphone/lib/libtiverify.a(TiVerifyErrorController.o) (for architecture armv6):
   iphone/lib/libtiverify.a(TiVerify.o) (for architecture armv6):
   stiv@Macintosh-140 [11:35:49] [~/src/appcelerator/titanium_mobile] [1_8_X *]
   -&gt; % nm iphone/lib/libtiverify.a | grep armv7
   iphone/lib/libtiverify.a(TiVerifyErrorController.o) (for architecture armv7):
   iphone/lib/libtiverify.a(TiVerify.o) (for architecture armv7):
   </pre></code></li>
<li>Mauro Parra-Miranda 2012-01-10

   Hello,
   the upgrade to Xcode 4.2 fixed this issue. 
   
   Best,
   Mauro </li>
</ol>


<p><a href="/TIMOB/TIMOB-7003.json">JSON Source</a></p>