---
title: "[TIMOB-7041] iOS: getAttribute value from XML does not work in 1.8.0.1"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-03-20T18:12:27.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Francisco Antonio Duran Ramirez</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2012-01-09T15:40:16.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-13T17:59:20.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

GetAttribute value from XML does not work in 1.8.0.1

<h4>Reproducible steps:</h4>
 
1. Run the code below with 1.8.0.1 Titanium SDK.
Please see the 1.8.0.1 attached image.

2. Run the the code below with 1.7.5 Titanium SDK.
Please see the 1.7.5 attached image.

Notice that in 1.7.5 Titanium SDK the the value is displayed on the window.

<h4>Expected behavior:</h4>
Customer wants to have the same behavior in 1.8.0.1 Titanium SDK.

<h4>Tested with the next specs:</h4>

Simulator

iPhone 4
Version of the device: 5.0.1

Titanium Studio, build: 1.0.8.201112291658
Titanium SDK: 1.8.0.1 & 1.7.5

<h4>Console Logs:</h4>

<code><pre>
1.8.0.1 Titanium SDK.[INFO] One moment, building ...[INFO] Titanium SDK version: 1.8.0.1 (12/22/11 13:09 fbdc96f)[INFO] iPhone Device family: universal
[INFO] iPhone SDK version: 5.0[INFO] iPhone simulated device: iphone
[INFO] Launching application in Simulator
[INFO] Launched application in Simulator (1.71 seconds)[INFO] Found 5.0 patch installed
[INFO] Application started
[INFO] v1.8 Demo/1.0 (1.8.0.1.fbdc96f)[INFO] Loaded
[INFO] [object TiDOMNodeList][INFO] 0[INFO] 26
</pre></code>

<code><pre>
1.7.5 Titanium SDK

[INFO] One moment, building ...[INFO] Titanium SDK version: 1.7.5[INFO] iPhone Device family: universal
[INFO] iPhone SDK version: 5.0[INFO] iPhone simulated device: iphone
[INFO] Launching application in Simulator
[INFO] Launched application in Simulator (1.30 seconds)[INFO] Found 5.0 patch installed
[INFO] Application started
[INFO] v1.8 Demo/1.0 (1.7.5.ab20af7)[INFO] Loaded
[INFO] [object TiDOMNodeList][INFO] 1[INFO] 26
</pre></code>

<h4>Code:</h4>
{Code}
var win1 = Titanium.UI.createWindow({
	title: 'Tab 1',
	backgroundColor: '#fff'});
var label1 = Titanium.UI.createLabel({
	color: '#999',
	text: '',
	font: {
			fontSize: 20,
			fontFamily: 'Helvetica Neue'
		  },
	textAlign: 'center',
	width: 'auto'});win1.add(label1);

var xhr = Titanium.Network.createHTTPClient();
xhr.onerror = function(e) 
{	Ti.API.error('Error received while requesting library data: ' + JSON.stringify(e));
};

xhr.onload = function() 
{	if (this.readyState == 4) 
	{
		var xmldoc = this.responseXML.documentElement;
		Ti.API.info('Loaded');
		Ti.API.info(xmldoc.getElementsByTagName('archive')); //This line of code says that the archive tag is detected
		Ti.API.info(xmldoc.getElementsByTagName('archive').length); // this line says that it recieves an archive tag with no nodes
		Ti.API.info(xmldoc.getElementsByTagName('media').length); // this line says it recieves 26 nodes for "media" tag which is a child of "archive" tag
		label1.text = 'XML Version : ' + xmldoc.getElementsByTagName('archive').item(0).getAttribute('version');
	}};
xhr.open('GET', '<a href="http://apps.investis.com/Kingfisher-IR/Library.xml" rel="nofollow" target="_blank">http://apps.investis.com/Kingfisher-IR/Library.xml</a>');
xhr.send();
win1.open();
{Code}

<h4>Helpdesk</h4>
APP-697182
           

 
 
 
 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-7041_24980/1.7.5.png">1.7.5.png</td></td><td>2012-01-09T15:40:16.000+0000</td><td>119983</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-7041_24981/1.8.0.1.png">1.8.0.1.png</td></td><td>2012-01-09T15:40:16.000+0000</td><td>117250</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2012-03-13

   Pull #1655</li>
<li>Wilson Luu 2012-03-15

   Closing bug. Verified fix on:
   
   SDK build: 2.0.0.v20120315123246
   Titanium Studio, build: 2.0.0.201203142055
   xcode: 4.2
   Device: iphone 4s (5.0.1)</li>
<li>Stephen Tramer 2012-03-20

   The problem described in the source code is incorrect. XML in versions prior to 1.8.0 did NOT have the correct behavior; the new behavior is correct. The JS source makes assumptions based on this previously incorrect behavior.
   
   See the DOM Level 2 spec for information about how getElementsByTagName should behave: <a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-745549614" rel="nofollow" target="_blank">http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-745549614</a>
   
   The original "fix" for this issue has been removed in favor of the correct behavior, in order to resolve TIMOB-8135.</li>
<li>Lee Morris 2017-03-13

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-7041.json">JSON Source</a></p>