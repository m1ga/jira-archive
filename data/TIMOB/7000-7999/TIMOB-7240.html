---
title: "[TIMOB-7240] Android: OptionDialog can't be called several times after a tabgroup is opened and closed. "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-02-14T23:29:02.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-03, Release 2.0.0, Release 1.8.2</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_optiondialog, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-01-16T16:39:36.000+0000</td></tr>
<tr><th>Updated</th><td>2012-02-14T23:29:02.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
Ti.UI.OptionDialog can be called multiple times in SDK 1.8 without problems, but not after a TabGroup is opened and then closed. Happening on both v8 and rhino.

<h4>Steps to reproduce</h4>
1. Add this code to a new mobile project 
<code><pre>
var w = Ti.UI.createWindow({
	backgroundColor: 'red',
	fullscreen: false,
	exitOnClose: true
});

var b = Ti.UI.createButton({
	height: 50,
	title: 'click'
});

b.addEventListener('click', function(e) {
	var optDlg = Ti.UI.createOptionDialog({
		title: 'choose',
		options: ['open', 'dismiss']
	});

	optDlg.addEventListener('click', function(e) {
		if (e.index===0) {
			var t = Ti.UI.createTabGroup(),
				w1 = Ti.UI.createWindow({
					title: 'blue',
					backgroundColor: 'blue'
				}),
				b1 = Ti.UI.createButton({
					title: 'close'
				}),
				t1 = Ti.UI.createTab({
					title: 'blue',
					window: w1
				});

			w1.add(b1);
			b1.addEventListener('click', function(e){
				t.close();
			});
			t.addTab(t1);	
			t.open();
		}
	});

	optDlg.show();
	Ti.API.info('must be showing dlg');
});

w.add(b);
w.open();
</pre></code>
2. Click the button
3. Select something. 
4. Close 
5. click open again

<h4>ACTUAL RESULTS</h4>
The openDialog doesn't open

<h4>EXPECTED RESULTS</h4>
openDialog should work.

<h4>MORE INFO</h4>
It's working fine in 1.7.5

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2012-02-07

   Reopen this issue b/c the previous PR for this has a mistake - It didn't remove the tab activity properly when back key is hit. </li>
<li>Hieu Pham 2012-02-07

   New PR <a href="https://github.com/appcelerator/titanium_mobile/pull/1369" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1369</a></li>
<li>Dustin Hyde 2012-02-07

   Closing as Fixed.
   SDK: 1.9.0.v20120207124634
   Studio: 1.0.8.201201262211
   OS: Lion
   Devices Tested: Android Emulator 2.2, Xoom 3.2.1</li>
<li>Neeraj Gupta 2012-02-07

   Reopening based on Hieu's latest comments.</li>
<li>Opie Cyrus 2012-02-07

   crash occurred during testing after opening and closing the dialog and window roughly 3-6 times.  Repeatable.
   
   Crash log:  <a href="http://pastie.org/3338185" rel="nofollow" target="_blank">http://pastie.org/3338185</a></li>
<li>Thomas Huelbert 2012-02-13

   see test comments from Opie.</li>
<li>Dustin Hyde 2012-02-13

   </li>
</ol>


<p><a href="/TIMOB/TIMOB-7240.json">JSON Source</a></p>