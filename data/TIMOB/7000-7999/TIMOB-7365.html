---
title: "[TIMOB-7365] Android: Ti.Media.AudioPlayer.getUrl not exposed as method"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-04-06T10:38:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-07</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>core, module_media, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Arthur Evans</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2012-01-24T16:25:43.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-10T06:06:49.000+0000</td></tr>
</table>

<h3>Description</h3>

Both getUrl, setUrl work on iOS, but only setUrl works on Android. I believe this is just a typo,
note missing @Kroll.method annotation:


    @Kroll.getProperty
    public String getUrl() {
        return TiConvert.toString(getProperty(TiC.PROPERTY_URL));
    }
   
    @Kroll.setProperty @Kroll.method
    public void setUrl(String url) {
        if (url != null) {
            setProperty(TiC.PROPERTY_URL, resolveUrl(null, TiConvert.toString(url)));
        }


<h3>Comments</h3>

<ol>
<li>Arthur Evans 2012-03-28

   Please note that this issue is called out specifically in the APIDocs, AudioPlayer.yml, so when you fix this, please REMOVE the method doc for "getUrl" and "setUrl". 
   
   These methods are only in the doc because the getUrl platforms: field doesn't match the one for the "url" property. With this anomaly removed, docgen can autogenerate the accessors for the property.</li>
<li>Chase Culpepper 2012-04-06

   To verify fix, run this code
   <code><pre>
   var audioPlayer = Ti.Media.createAudioPlayer({ 
       url: 'www.example.com/podcast.mp3',
       allowBackground: true
   });
   
   Ti.API.info('audioPlayer.getUrl() = '+audioPlayer.getUrl());
   </pre></code>
   
   The Console should show something to the effect of
   <code><pre>
   I/TiAPI   (  373): audioPlayer.getUrl() = file:///android_asset/Resources/www.example.com/podcast.mp3
   
   </pre></code></li>
<li>Eric Merriman  2012-06-18

   Verified fixed with SDK 2.1.0.v20120618102300 on Droid
   </li>
<li>Joe Falcone 2013-03-06

   Appears to be a regression in SDK 3.02 - I'm getting this on Android 4.04
   
   Uncaught TypeError: Object#<AudioPlayer> has no method 'getURL'
   </li>
<li>Neeraj Gupta 2013-03-06

   @Joe - Do you have a test case to reproduce this issue?</li>
<li>Arthur Evans 2013-03-06

   Joe,
   
   Note capitalization. The Ti method is "getUrl", not "getURL". </li>
<li>Joe Falcone 2013-03-07

   Sorry, I stand corrected.  It was confusing that it worked under iOS but not under Android.</li>
<li>Arthur Evans 2013-03-07

   That is confusing. Looking at the code, it appears that the way iOS maps getters & setters to properties ignores case. (so getUrL would probably work, too). This seems like a bug to me. I'll open a ticket.</li>
<li>Shameer Jan 2013-12-10

   Anvil testcase PR <a href="https://github.com/appcelerator/titanium_mobile/pull/5021" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5021</a>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-7365.json">JSON Source</a></p>