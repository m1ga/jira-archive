---
title: "[TIMOB-7455] iOS : Window/BarImage - iOS 5+ Setting the bar image property on a window causes the windows bar color to become transparent"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-02-09T21:41:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-02, Release 2.0.0, Release 1.8.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>qe-ios012312, regression</td></tr>
<tr><th>Reporter</th><td>Michael Pettiford</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-01-27T14:48:04.000+0000</td></tr>
<tr><th>Updated</th><td>2012-04-02T12:59:40.000+0000</td></tr>
</table>

<h3>Description</h3>

**Note this behavior did not occur on iOS devices running 4.3.x or in 1.8.0.1**

Steps to reproduce:
1. Drop the code below into a new titanium mobile projects app.js
<code><pre>
app.js
</pre></code>
<code><pre>
// this sets the background color of the master UIView (when there are no windows/tab groups on it)
Titanium.UI.setBackgroundColor('#000');

// create tab group
var tabGroup = Titanium.UI.createTabGroup();

//
// create base UI tab and root window
//
var win1 = Titanium.UI.createWindow({
	title: 'Tab 1',
	backgroundColor: '#fff'
});
var tab1 = Titanium.UI.createTab({
	icon: 'KS_nav_views.png',
	title: 'Tab 1',
	window: win1
});

var btn1 = Titanium.UI.createButton({
	color: '#000',
	title: 'Click me',
	font: {
		fontSize: 20,
		fontFamily: 'Helvetica Neue'
	},
	textAlign: 'center',
	width: 100,
	height: 50,
	top: 100

});

win1.add(btn1);

btn1.addEventListener('click', function() {
	var win_title = Titanium.UI.createWindow({
		title: 'See me?',
		barImage: 'KS_nav_ui.png',
		barColor: '#00f',
		backgroundColor: '#f00'
	});

	tab1.open(win_title);
})

tabGroup.addTab(tab1);

// open tab group
tabGroup.open();
</pre></code>

2. Run the app on an iOS device 5.0+
3. Press the Click me button

Actual result:
The newly openend window's barColor is transparent and one can see the window's background color, also the bar image is tiled

Expected result:
*See success.png attached*
The newly open window's barColor is blue and the bar image is not tiled 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-7455_25387/success.PNG">success.PNG</td></td><td>2012-01-27T14:48:04.000+0000</td><td>55348</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2012-01-27

   Regression introduced by TIMOB-7425.</li>
<li>Eric Merriman  2012-01-27

   Verified fixed with SDK 1.8.1.v20120127173134, using studio 1.0.8.201201262211 on:
   iPhone 4 (5.0.1)
   iPhone 4s (5.0.1)
   iPad 2 (5.0.1)
   iPad 1 (5.0.1)
   
   Also verified functions as expected on:
   iPhone 4 (4.3.5)
   iPad 2 (4.3.5)</li>
</ol>


<p><a href="/TIMOB/TIMOB-7455.json">JSON Source</a></p>