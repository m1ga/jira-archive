---
title: "[TIMOB-7456] Android: Update TiLocationHelper.isValidProvider(String) since PASSIVE_PROVIDER is introduced"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-05T06:34:52.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-05, Release 2.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_geolocation, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Ping Wang</td></tr>
<tr><th>Assignee</th><td>Opie Cyrus</td></tr>
<tr><th>Created</th><td>2012-01-27T14:54:26.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-05T15:23:09.000+0000</td></tr>
</table>

<h3>Description</h3>

A new location provider, PASSIVE_PROVIDER, is introduced since API 8 (2.2) (<a href="http://developer.android.com/reference/android/location/LocationManager.html#PASSIVE_PROVIDER)." rel="nofollow" target="_blank">http://developer.android.com/reference/android/location/LocationManager.html#PASSIVE_PROVIDER).</a> We should add a constant for this provider, and update the platform behavior, such as TiLocationHelper.isValidProvider(String). Need further investigation to see whether there are more methods to be updated.

<h3>Comments</h3>

<ol>
<li>Stephanie Soniat 2012-02-16

   Would it be possible to expose isValidProvider as public or provide some sort of public function to allow us to check individual providers? I'd love to be able to find out if GPS or Network are turned on/off, since Titanium.Geolocation.locationServicesEnabled always returns true because of the PASSIVE_PROVIDER.</li>
<li>Opie Cyrus 2012-03-19

   Test app.js:
   <code><pre>
   Ti.API.info("Location services available: " + Ti.Geolocation.locationServicesEnabled);
   </pre></code>
   
   If you turn off GPS and network (airplane mode) in the device settings, this line should be true.  Otherwise under with either of them on this value should be true.</li>
<li>Eric Merriman  2012-03-19

   Verified fixed with 2.0.0.v20120319003254 and Titanium Studio, build: 2.0.0.201203182248. Airplane mode plus turning off GPS and Wireless positioning returned "false".</li>
<li>Shyam Bhadauria 2012-07-05

   Re-opening to edit label.</li>
</ol>


<p><a href="/TIMOB/TIMOB-7456.json">JSON Source</a></p>