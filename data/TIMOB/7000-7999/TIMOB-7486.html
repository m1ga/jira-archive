---
title: "[TIMOB-7486] iOS - on modal window orientation misplaces children"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-05-01T14:58:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-04, Release 2.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_window, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Pedro Enrique</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2012-01-31T15:08:53.000+0000</td></tr>
<tr><th>Updated</th><td>2012-05-01T14:58:33.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>The Problem:</h4>
When the window changes orientation, if it's modal, it's children end up behind the nav bar.

<h4>Code Sample:</h4>
<code><pre>

var win = Ti.UI.createWindow({
	orientationModes:[
		Titanium.UI.PORTRAIT,
		Titanium.UI.UPSIDE_PORTRAIT,
		Titanium.UI.LANDSCAPE_LEFT,
		Titanium.UI.LANDSCAPE_RIGHT
	]
});

var view = Ti.UI.createView({
	backgroundColor:'white'
});

var label = Ti.UI.createLabel({
	top:0,
	height:10,
	text:'lalalalala'
});

view.add(label);

win.add(view);
	
win.open({modal:true});
</pre></code>

<h4>To Reproduce:</h4>
Run the code above in app.js and rotate the device/simulator

<h4>Behavior:</h4>

- What happens: View with the label with text "lalalala" ends up under the navbar and invisible to the user
- What has to happen: View containing the label has to resize accordingly

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2012-02-24

   *NOTE:* Only check this for correct orienting. There is a bug related to this test, TIMOB-7854, which covers closing and reopening a window over a modal.
   
   Any fix for this also needs to pass the "sandwich test" (where the modal is "sandwiched" between two normal windows):
   
   <code><pre>
   var toplevel = Ti.UI.createWindow({
   	orientationModes:[
   		Ti.UI.PORTRAIT,
   		Ti.UI.UPSIDE_PORTRAIT
   	],
   	backgroundColor:'white'
   });
   
   var win = Ti.UI.createWindow({
   	orientationModes:[
   		Titanium.UI.LANDSCAPE_LEFT,
   		Titanium.UI.LANDSCAPE_RIGHT
   	],
   	backgroundColor:'white'
   });
   
   var win2 = Ti.UI.createWindow({
   	orientationModes:[Ti.UI.LANDSCAPE_LEFT],
   	backgroundColor:'white'
   });
   
   var b = Ti.UI.createButton({
   	title:'open',
   	width:100,
   	height:50
   });
   b.addEventListener('click', function() {
   	win.open({modal:true});
   });
   
   var b2 = Ti.UI.createButton({
   	title:'open',
   	width:100,
   	height:50,
   	top:20
   });
   b2.addEventListener('click', function() {
   	win2.open();
   });
   
   var b3 = Ti.UI.createButton({
   	title:'close',
   	width:100,
   	height:50,
   	bottom:20
   });
   b3.addEventListener('click', function() {
   	win.close();
   });
   
   var b4 = Ti.UI.createButton({
   	title:'close',
   	width:100,
   	height:50,
   	bottom:20
   });
   b4.addEventListener('click', function() {
   	win2.close();
   });
   
   toplevel.add(b);
   win.add(b2);
   win.add(b3);
   win2.add(b4);
   
   toplevel.open();
   </pre></code></li>
<li>Stephen Tramer 2012-03-02

   Linked to possible regressions.</li>
<li>Wilson Luu 2012-03-15

   Closing bug. Verified fix on:
   
   SDK build: 2.0.0.v20120315140247
   Titanium Studio, build: 2.0.0.201203142055
   xcode: 4.2
   Device: iphone 4s (5.0.1)</li>
<li>Wilson Luu 2012-03-15

   Also, only tested the *Code Sample* for correct orientation.</li>
<li>Wilson Luu 2012-03-15

   No regression occurred when testing TIMOB-4619, TIMOB-1634, TIMOB-6551, TIMOB-6391 on:
   
   SDK build: 2.0.0.v20120315140247
   Titanium Studio, build: 2.0.0.201203142055
   xcode: 4.2
   Device: iphone 4s (5.0.1), ipad2 (4.3.5)</li>
<li>Natalie Huynh 2012-05-01

   Open to update label
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-7486.json">JSON Source</a></p>