---
title: "[TIMOB-7504] Android: Network.createHTTPClient - properties not initialized at creation"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2017-06-13T17:48:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Justin Szczurowski</td></tr>
<tr><th>Assignee</th><td>Ingo Muschenetz</td></tr>
<tr><th>Created</th><td>2012-01-29T06:39:06.000+0000</td></tr>
<tr><th>Updated</th><td>2017-06-13T17:48:35.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

In the following snippet, <code>autoEncodeUrl</code> is not set to false as expected.

<h4>Test Case</h4>

<code><pre>
var socket = Ti.Network.createHTTPClient({
	autoEncodeUrl: false
});

socket.onload = function() {
	alert(this.location); // You'll see the encoded URL here
	Ti.API.info('this.location: ' + this.location);
};

socket.open("GET", "<a href="http://www.bosscube.com/flash/clock.swf?param1=&param2=%" rel="nofollow" target="_blank">http://www.bosscube.com/flash/clock.swf?param1=&param2=%</a>");
socket.send();
</pre></code>

<h4>Logs</h4>

<code><pre>
  846           TiApplication  I  (main) [353,353] Titanium 1.8.1 (2012/01/27 17:31 a24502a)
  846               TiFastDev  D  (main) [100,453] Enabling Fastdev on port 53208
  846               TiFastDev  D  (main) [10,463] sent tokens successfully
  846               TiFastDev  D  (main) [1,464] Fastdev session handshake succesful.
  846           TiApplication  I  (main) [8,472] Titanium Javascript runtime: v8
  846           TiApplication  W  (main) [49,521] activity stack is emtpy, unable to get current activity
  846          TiRootActivity  I  (main) [0,0] checkpoint, on root activity create, savedInstanceState: null
  846           TiApplication  W  (main) [127,127] activity stack is emtpy, unable to get current activity
  846           TiApplication  W  (main) [0,127] activity stack is emtpy, unable to get current activity
  846           TiApplication  W  (main) [3,130] activity stack is emtpy, unable to get current activity
   60     NotificationService  W  Object died trying to hide notification android.app.ITransientNotification$Stub$Proxy@45155df0 in package com.appcelerator.testing10
   60         ActivityManager  W  setProcessForeground called on unknown pid: 817
  846           TiApplication  E  (KrollRuntimeThread) [975,1105] APP PROXY: ti.modules.titanium.app.AppModule@44f0cf60
  846           TiAssetHelper  D  Fetching "app.js" with Fastdev...
  846           dalvikvm-heap  I  Grow heap (frag case) to 2.932MB for 68928-byte allocation
  846            TiHttpClient  D  (KrollRuntimeThread) [426,1531] Setting ready state to 1
  846          TiRootActivity  I  (main) [0,0] checkpoint, on root activity resume. activity = com.appcelerator.testing10.Testing10Activity@44eba558
   60         ActivityManager  I  Displayed activity com.appcelerator.testing10/.Testing10Activity: 3374 ms (total 3374 ms)
  846            TiHttpClient  D  (TiHttpClient-1) [1089,1089] Setting ready state to 2
  846            TiHttpClient  D  (TiHttpClient-1) [1,1090] Setting ready state to 3
  846            TiHttpClient  D  (TiHttpClient-1) [159,1249] Setting ready state to 4
  846                   ALERT  I  (KrollRuntimeThread) [4,1253] <a href="http://www.bosscube.com/flash/clock.swf?param1=&param2=%EF%BF%BD%EF%BF%BD" rel="nofollow" target="_blank">http://www.bosscube.com/flash/clock.swf?param1=&param2=%EF%BF%BD%EF%BF%BD</a>
  846                   TiAPI  I  this.location: <a href="http://www.bosscube.com/flash/clock.swf?param1=&param2=0.000000E+00FBFBD1.269065E-317FBFBD" rel="nofollow" target="_blank">http://www.bosscube.com/flash/clock.swf?param1=&param2=0.000000E+00FBFBD1.269065E-317FBFBD</a>
</pre></code>

<h4>Workaround</h4>

Set <code>autoEncodeUrl</code> to false after creation.

<code><pre>
var socket = Ti.Network.createHTTPClient();

socket.autoEncodeUrl = false;

socket.onload = function() {
    alert(this.location); // URL is now unencoded.
};

socket.open("GET", "<a href="http://www.bosscube.com/flash/clock.swf?param1=" rel="nofollow" target="_blank">http://www.bosscube.com/flash/clock.swf?param1=</a> &param2=%");
socket.send();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2012-01-30

   Thanks for raising this ticket.
   
   In order for me to escalate it to the core team, please would you complete the environment field?
   
   Also, a console log of the test case in action would be appreciated.
   
   Please review the [JIRA Ticket Checklist](<a href="https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/How+to+Submit+a+Bug+Report#HowtoSubmitaBugReport-JIRATicketChecklist)</a> when raising tickets, and always start with the [JIRA Ticket Template](<a href="https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template)" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/JIRA+Ticket+Template)</a> to ensure they follow the recommended format.
   
   Thanks</li>
<li>Lee Morris 2017-06-13

   Closing ticket due to the time passed, lack of information and lack of progress. Any problems, please file a new ticket.</li>
</ol>


<p><a href="/TIMOB/TIMOB-7504.json">JSON Source</a></p>