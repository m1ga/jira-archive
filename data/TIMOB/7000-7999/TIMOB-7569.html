---
title: "[TIMOB-7569] iPhone: Opening a normal window after a modal window will reopen the normal window on close of modal"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-02-14T23:29:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-03, Release 2.0.0, Release 1.8.2</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_window, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Pedro Enrique</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2012-02-07T14:46:06.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-10T06:21:17.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>The problem:</h4>
When opening a non-modal window on top of a modal, that window will be still opened after itself, as well as the modal window, is closed.

<h4>The sample code:</h4>
<code><pre>
function modalWindow(){
	var b = Ti.UI.createButton({title:'close'});
	var a = Ti.UI.createButton({title:'open win'});
	
	var w = Ti.UI.createWindow({
		backgroundColor:'red',
		rightNavButton:b,
		leftNavButton:a
	});

	w.add(Ti.UI.createLabel({text:'This is a normal window', top:20, textAlign:'center', height:40, backgroundColor:'white'}));

	b.addEventListener('click', function(){
		w.close();
	});
	a.addEventListener('click', function(){
		normalWindow().open();
	});
	return w;
}
function normalWindow(){
	var b = Ti.UI.createButton({title:'close',width:200,height:40, top:100});
	
	var w = Ti.UI.createWindow({
		backgroundColor:'blue'
	});
	w.add(Ti.UI.createLabel({text:'This is a normal window', top:20, textAlign:'center', height:40, backgroundColor:'white'}));
	w.add(b);
	b.addEventListener('click', function(){
		w.close();
	});
	return w;
}
(function(){
	var win = Ti.UI.createWindow({
		backgroundColor:'green'
	});

	var btn = Ti.UI.createButton({
		width:100,
		height:40,
		title:'open modal'
	});

	win.add(btn);

	btn.addEventListener('click', function(){
		modalWindow().open({modal:true});
	});

	win.open();
})();
</pre></code>

<h4>To Reproduce:</h4>

1. Open run the app in app.js.
2. Open the modal window with the white button.
3. Open the normal window with the nav button with title: "open win"
4. Close that window
5. Close the modal window

<h4>Result:</h4>

The normal window appears again after it has been closed.

<h3>Comments</h3>

<ol>
<li>Michael Pettiford 2012-02-10

   Closing issue
   
   Tested with Ti Studio build 1.0.8.201201262211
   Ti Mob SDK 1.9.0.v20120210144634
   OSX Lion 10.7.3
   iPhone 4S OS 5.0.1, iPhone Sim 4.3
   
   Verified expected behavior occurs</li>
<li>Shameer Jan 2013-12-10

   Anvil testcase PR <a href="https://github.com/appcelerator/titanium_mobile/pull/4967" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4967</a>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-7569.json">JSON Source</a></p>