---
title: "[TIMOB-7613] Custom barImage with Tab sub navigation displays previous barImage, not the current window barImage"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-02-14T23:35:17.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1, Release 2.0.0, Release 1.8.1</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-04, Release 2.0.0, Release 1.8.2</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>barImage, module_tabbedbar, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Matt Bryson</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-02-03T16:28:08.000+0000</td></tr>
<tr><th>Updated</th><td>2012-03-03T22:56:26.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
When you create a tab with two windows with different barImages, you will get the first barImage in the second window as well, even if it has a different barImage defined. In the animation, the second barImage will show, producing an non desired color effect.

<h4>Actual results</h4>
You will only see the barImage defined in the first window.

<h4>Expected results</h4>
Each window should have their own barImage shown.

<h4>Test case</h4>
Create a tabNavigation group with 1 tab.
Add a custom barImage to the main window.
Open a sub window with tabGroup.currentTab.open. That sub window contains a different barImage.
The correct bar image appears on 2nd window.  Press back button
Then navigate to the the second window AGAIN
This time the root window bar image is present and NOT the 2nd window bar image.

<code><pre>
// this sets the background color of the master UIView (when there are no windows/tab groups on it)
Titanium.UI.setBackgroundColor('#000');

// create tab group
var tabGroup = Titanium.UI.createTabGroup();


//
// create base UI tab and root window
//
var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff',
    barImage:'nav_bg.png',
    tabBarHidden:true
});

var button = Ti.UI.createButton({
	title:'open',
	width:100,
	height:50
});

button.addEventListener('click', function() {
	//win2.open();
	tabGroup.activeTab.open( win2 );
})

win1.add(button);

var win2 = Titanium.UI.createWindow({  
    title:'Tab 2',
    backgroundColor:'#fff',
    barImage:'nav_bg_2.png',
});

var tab1 = Titanium.UI.createTab({  
    title:'Tab 1',
    window:win1
});


tabGroup.addTab(tab1);  

// open tab group
tabGroup.open();
</pre></code>

<h4>Extra info</h4>
The attached project includes above code and two images. 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-7613_25729/nav_bg_2.png">nav_bg_2.png</td></td><td>2012-02-10T11:04:33.000+0000</td><td>10531</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-7613_25730/nav_bg.png">nav_bg.png</td></td><td>2012-02-10T11:04:33.000+0000</td><td>9720</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-7613_25459/testTabBug.zip">testTabBug.zip</td></td><td>2012-02-03T17:17:42.000+0000</td><td>1674283</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Matt Bryson 2012-02-03

   I have added a sample project that does this, in fact, in the sample its worse, it shows the 2nd bar image as the window animates on, and then reverts to the first one.</li>
<li>Mauro Parra-Miranda 2012-02-10

   The barImages for the example</li>
<li>Vishal Duggal 2012-02-13

   Pull pending <a href="https://github.com/appcelerator/titanium_mobile/pull/1406" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1406</a></li>
<li>Michael Pettiford 2012-02-13

   Closing issue
   
   Tested with Ti Studio build 1.0.8.201201262211
   Ti Mob SDK 1.9.0.v20120212011634
   OSX Lion 10.7.3
   iPhone 4S OS 5.0.1
   
   Verified that the expected results are shown</li>
</ol>


<p><a href="/TIMOB/TIMOB-7613.json">JSON Source</a></p>