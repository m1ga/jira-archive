---
title: "[TIMOB-7627] iOS: UI - Email/SMS Dialog does not change orientation properly"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-04-27T14:04:07.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1, Release 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-05, Release 2.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>module_orientation, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2012-02-13T07:20:59.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-25T03:31:35.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>
When you create a window and set win.orientationModes = [Titanium.UI.PORTRAIT]; or set it in Tiapp.xml. Then create an emailDialog or SMSDialog and open that window. 

If you proceed to rotate the device into LANDSCAPE the window itself rotates into LANDSCAPE but the statusbar and keyboard remain in PORTRAIT.

<h4>Expected behavior</h4>
The keyboard and statusBar rotate accordingly. Used to work in 1.7.x - as seen in the screenshots.

<h4>Tested on</h4>
iPhone 4
iOS simulator 5

TiSDK 1.7 > OK
TiSDK 1.8 > Fail
TiSDK 1.9 > Fail

<h4>Steps to reproduce</h4>
1) Run code below
2) Click "Email" button
3) Select a field from Email dialog - the keyboard shows up.
4) Rotate device
5) Misbehavior appears suddenly. 

<h4>Repro sequence</h4>
<code><pre>
// this sets the background color of the master UIView (when there are no windows/tab groups on it)
Titanium.UI.setBackgroundColor('#000');
 
// create tab group
var tabGroup = Titanium.UI.createTabGroup();
 
 
//
// create base UI tab and root window
//
var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff'
});
var tab1 = Titanium.UI.createTab({  
    icon:'KS_nav_views.png',
    title:'Tab 1',
    window:win1
});
 
var label1 = Titanium.UI.createLabel({
    color:'#999',
    text:'I am Window 1',
    font:{fontSize:20,fontFamily:'Helvetica Neue'},
    textAlign:'center',
    width:'auto'
});
 
var button = Ti.UI.createButton({
    title:'Email',
    height:40
});
button.addEventListener('click', function(){
    var emailDialog = Ti.UI.createEmailDialog();
    emailDialog.open();
});
 
win1.add(label1);
win1.add(button);
//
// create controls tab and root window
//
var win2 = Titanium.UI.createWindow({  
    title:'Tab 2',
    backgroundColor:'#fff'
});
var tab2 = Titanium.UI.createTab({  
    icon:'KS_nav_ui.png',
    title:'Tab 2',
    window:win2
});
 
var label2 = Titanium.UI.createLabel({
    color:'#999',
    text:'I am Window 2',
    font:{fontSize:20,fontFamily:'Helvetica Neue'},
    textAlign:'center',
    width:'auto'
});
 
win2.add(label2);
 
 
 
//
//  add tabs
//
tabGroup.addTab(tab1);  
tabGroup.addTab(tab2);  
 
 
// open tab group
tabGroup.open();
</pre></code>

<h4>Additional info</h4>
If the window is locked doesn't seems to work either. Locked the orientation on iOS:
<code><pre>
    &lt;iphone&gt;
        &lt;orientations device="iphone"&gt;
            &lt;orientation&gt;Ti.UI.PORTRAIT&lt;/orientation&gt;
        &lt;/orientations&gt;
        &lt;orientations device="ipad"&gt;
            &lt;orientation&gt;Ti.UI.PORTRAIT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.UPSIDE_PORTRAIT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.LANDSCAPE_LEFT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.LANDSCAPE_RIGHT&lt;/orientation&gt;
        &lt;/orientations&gt;
    &lt;/iphone&gt;
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-7627_25743/Titanium SDK version- 1.7.5.jpg">Titanium SDK version- 1.7.5.jpg</td></td><td>2012-02-13T07:20:59.000+0000</td><td>48948</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-7627_25745/Titanium SDK version- 1.8.1.jpg">Titanium SDK version- 1.8.1.jpg</td></td><td>2012-02-13T07:20:59.000+0000</td><td>41487</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-7627_25744/Titanium SDK version- 1.9.0.jpg">Titanium SDK version- 1.9.0.jpg</td></td><td>2012-02-13T07:20:59.000+0000</td><td>42207</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Wilson Luu 2012-03-15

   Closing bug. Verified fix on:
   
   SDK build: 2.0.0.v20120315170247
   Titanium Studio, build: 2.0.0.201203142055
   xcode: 4.2
   Device: iphone 4s (5.0.1)
   </li>
<li>Natalie Huynh 2012-04-27

   open to update label
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-7627.json">JSON Source</a></p>