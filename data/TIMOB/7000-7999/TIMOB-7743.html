---
title: "[TIMOB-7743] Android: encodeURIComponent returns odd String"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-05T04:52:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-04, Release 2.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_app_properties, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Marshall Culpepper</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2012-02-21T16:08:10.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-05T16:06:29.000+0000</td></tr>
</table>

<h3>Description</h3>

When using encodeURIComponent, the return value from Android's Uri.encode seems to be good while debugging, but the JS return value that gets printed doesn't seem to be correct. It seems there is an error in the binding layer somewhere..

Code:
<code><pre>
Ti.API.debug(encodeURIComponent("üöäß &?/ tes tetst et st e\ntest etes te stet"));
</pre></code>

Log:
<code><pre>
02-21 18:07:37.930: D/TiAPI(22633): 1.817237E+132FBFBD1.104170E-317FBFBD1.811392E+132FBFBD2.164448E-312FBFBD                   %26  F F       5.034598e-308s       3.022026e+132tst       3.321918e+133t                    t       5.585349e-308Atest       5.034598e-308tes       1.301351e+132YC�8��:��:Q��&�&!`�&嚿&���&嚿&嚿&tet
</pre></code>

Expected Value:
<code><pre>
%EF%BF%BD%EF%BF%BD%EF%BF%BD%EF%BF%BD%20%26%3F%2F%20tes%20tetst%20et%20st%20e%0Atest%20etes%20te%20stet
</pre></code>

<h3>Comments</h3>

<ol>
<li>Ping Wang 2012-02-23

   Testing code
   <code><pre>
   var code = encodeURIComponent("üöäß &?/ tes tetst et st e\ntest etes te stet");
   Ti.API.debug("<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<");
   Ti.API.trace("" + code);
   Ti.API.debug("" + code);
   Ti.API.info("" + code);
   Ti.API.notice("" + code);
   Ti.API.warn("" + code);
   Ti.API.error("" + code);
   Ti.API.critical("" + code);
   Ti.API.fatal("" + code);
   Ti.API.debug("<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<");
   </pre></code>
   Run the above code. The expected output is
   <code><pre>
   D/TiAPI   ( 1085): <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
   V/TiAPI   ( 1085): %C3%BC%C3%B6%C3%A4%C3%9F%20%26%3F%2F%20tes%20tetst%20et%20st%20e%0Atest%20etes%20te%20stet
   D/TiAPI   ( 1085): %C3%BC%C3%B6%C3%A4%C3%9F%20%26%3F%2F%20tes%20tetst%20et%20st%20e%0Atest%20etes%20te%20stet
   I/TiAPI   ( 1085): %C3%BC%C3%B6%C3%A4%C3%9F%20%26%3F%2F%20tes%20tetst%20et%20st%20e%0Atest%20etes%20te%20stet
   I/TiAPI   ( 1085): %C3%BC%C3%B6%C3%A4%C3%9F%20%26%3F%2F%20tes%20tetst%20et%20st%20e%0Atest%20etes%20te%20stet
   W/TiAPI   ( 1085): %C3%BC%C3%B6%C3%A4%C3%9F%20%26%3F%2F%20tes%20tetst%20et%20st%20e%0Atest%20etes%20te%20stet
   E/TiAPI   ( 1085): %C3%BC%C3%B6%C3%A4%C3%9F%20%26%3F%2F%20tes%20tetst%20et%20st%20e%0Atest%20etes%20te%20stet
   E/TiAPI   ( 1085): %C3%BC%C3%B6%C3%A4%C3%9F%20%26%3F%2F%20tes%20tetst%20et%20st%20e%0Atest%20etes%20te%20stet
   E/TiAPI   ( 1085): %C3%BC%C3%B6%C3%A4%C3%9F%20%26%3F%2F%20tes%20tetst%20et%20st%20e%0Atest%20etes%20te%20stet
   D/TiAPI   ( 1085): <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
   </pre></code></li>
<li>Wilson Luu 2012-03-16

   Closing bug. Verified fix on:
   
   SDK build: 2.0.0.v20120316124800
   Runtime: v8, rhino
   Titanium Studio, build: 2.0.0.201203152033
   Device: Nexus S (2.3.6)</li>
<li>Neha Chhabra 2012-07-05

   Reopening to update labels.</li>
</ol>


<p><a href="/TIMOB/TIMOB-7743.json">JSON Source</a></p>