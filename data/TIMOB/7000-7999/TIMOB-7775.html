---
title: "[TIMOB-7775] Android: Master/Detail Template: intermittent crash on use"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-04-05T10:44:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.1, Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.0.0, Sprint 2012-06</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_templates, qe-and021312, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Dustin Hyde</td></tr>
<tr><th>Assignee</th><td>Josh Roesslein</td></tr>
<tr><th>Created</th><td>2012-02-22T14:20:36.000+0000</td></tr>
<tr><th>Updated</th><td>2012-04-05T10:44:47.000+0000</td></tr>
</table>

<h3>Description</h3>

When a Master/Detail template is run, and it is used as intended, there will be an intermittent crash (sometimes within a few seconds, sometimes not at all).
Seems more frequent in 1.8.2.
Could not reproduce in Rhino.

Steps to Reproduce:

1. Create a Master/Detail template in studio. New -> TiMob Project, Next, Master-Detail.
2. Deploy to device.
3. Click on fruit row. Press back. Repeat with a new row each time.

Expected Result:

No crash.

Actual Result:

Intermittently, on fruit row click, the app will freeze for a few seconds, then the screen will turn black, 'Unable to release window reference.' warnings will log to the console, then the platform will alert a kill request.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-7775_25860/master-detail 1.8.2 android v8 crash.txt">master-detail 1.8.2 android v8 crash.txt</td></td><td>2012-02-22T14:20:36.000+0000</td><td>167143</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Natalie Huynh 2012-02-22

   </li>
<li>Josh Roesslein 2012-03-13

   The "Unable to release window reference" warnings are caused by extra "close" listeners we
   use in window.js to remove a window from our "windows" list. These listeners are currently never
   removed after "close" has fired. So when a window is re-opened you now have n+1 listeners (n=number of times opened).
   
   I don't believe this alone would create any crashes. I could not reproduce this on a HTC Desire (Android 2.2).
   Could we get confirmation this crash still occurs on a recent CI build (master branch)?</li>
<li>Josh Roesslein 2012-03-14

   Cannot fix "Unable to release window reference" warnings until TIMOB-7876 is resolved.</li>
<li>Dustin Hyde 2012-03-14

   Able to reproduce twice:
   
   SDK: 2.0.0.v20120314101738
   Android: V8
   Studio: 2.0.0.201203121914
   OS: Snow Leopard
   Devices Tested: Nexus One 2.2.2</li>
<li>Josh Roesslein 2012-03-16

   Dustin,
   
   Is the crash still the same as the one in the log attached to this ticket?
   From the log report the crash was due to an ANR timeout (application stopped responding).
   We have seen this due to out of memory issues on older Android versions.
   
   So far I have only been able to reproduce a hard, NDK crash (TIMOB-7990), but haven't seen any
   ANR timeouts yet like the one in the log report attached here.
   
   If you could attach the log from the crash when you re-tested (if you still have it around)
   or clarify if the crash was different and more like the one seen in TIMOB-7990. Trying to determine
   if the ANR crash still occurs or if we are just seeing the new crash described in TIMOB-7990.
   
   Thanks,</li>
<li>Marshall Culpepper 2012-03-18

   Closing because the only crash we could repro in the Master/Detail template has now been fixed.
   
   Dustin, please reopen if the ANR still persists, but that was probably originally related to another issue</li>
<li>Dustin Hyde 2012-03-19

   Closing as Fixed.
   
   Behavior no longer exists.
   
   Note: This is an intermittent issue.
   
   SDK: 2.0.0.v20120319003254
   Android: V8
   Studio: 2.0.0.201203182248
   OS: Snow Leopard
   Devices Tested: Nexus One 2.2.2, Droid 2.2.3, Revolution 2.3.4</li>
<li>Dustin Hyde 2012-04-05

   Opening to edit labels.</li>
</ol>


<p><a href="/TIMOB/TIMOB-7775.json">JSON Source</a></p>