---
title: "[TIMOB-7790] Android: UI.Animation -  orientation change resets animation to original state"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-08-26T22:09:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.1, Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.2.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Ketan Majmudar</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2012-02-23T09:52:05.000+0000</td></tr>
<tr><th>Updated</th><td>2013-10-23T06:39:46.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

When running an intro animation or creating a window animation fade with opacity from 0 to 1, a change in orientation resets the animation state of the window to its original created state and the animated end state.

<h4>Test case</h4>

Here is a use case followed by a code example of this problem.

I have an app with 2 different splash screens based on portrait and landscape orientation. My app consists of a single window that has a few UI elements, labels such like within, the window is created with an opacity of 0. When the app loads, it triggers an animate function to take the opacity to 1. As the window has 2 orientation states, when the user flips the device in either direction, the original window state is restored and, thus, the opacity of the window becomes transparent (reverts to 0), which causes the splash screen to show through.

<code><pre>
Ti.UI.setBackgroundColor('#fff');
var win1 = Ti.UI.createWindow({
	title : 'Anim Test',
	backgroundColor : '#fff',
	exitOnClose : true,
	navBarHidden : false,
	opacity : 0
});
win1.orientationModes = [Ti.UI.PORTRAIT, Ti.UI.LANDSCAPE_LEFT];
var label1 = Ti.UI.createLabel({
	color : '#000',
	text : 'Main Application Window, after fade.',
	font : {
		fontSize : 20,
		fontFamily : 'Helvetica Neue'
	},
	textAlign : 'center',
	width : 'auto'
});

win1.add(label1);

win1.animate({
	opacity : 1,
	duration : 3000
});
win1.open();
</pre></code>



<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2012-02-23

   Ket
   
   Please state the specific devices tested, or the emulator if you have tested that.
   Please state the runtime used.
   </li>
<li>Ketan Majmudar 2012-02-23

   Tested on HTC Wildfire S & Orange San Fransisco (Blade) a WVGA style device</li>
<li>Paul Dowsett 2012-02-23

   Runtime please.</li>
<li>Ketan Majmudar 2012-02-23

   v8 for both.</li>
<li>jithinpv 2013-03-05

   Issue reproduces with
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK version: 3.1.0 (03/11/13 15:43 0c88429)
   Titanium SDK version: 3.0.2 (02/07/13 16:46 a4def81)
   Device: Samsung galaxy s duos Android version: 4.0.4</li>
<li>Bill Dawson 2013-08-26

   The effort for TIMOB-11811 fixed this.</li>
<li>Priya Agarwal 2013-10-23

   Verified the fix:
   
   Appc-Studio: 3.2.0.201310181700
   Sdk:3.2.0.v20131022171645
   alloy:1.2.2
   npm:1.3.2
   titanium:3.2.0
   titanium-code-processor:1.0.3
   Device:Google Nexus 7(v4.3), iPhone5(v7.0)
   Xcode: 5
   OS: Mac OSX 10.8
   
   
   Orientation does not change back animation to its original state now.
   Code working fine.</li>
</ol>


<p><a href="/TIMOB/TIMOB-7790.json">JSON Source</a></p>