---
title: "[TIMOB-7836] Android: View - height:'auto' causing view to be placed at the top of its parent rather than centering in the parent"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-05-02T12:50:23.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.1, Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.0.0, Sprint 2012-06</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_view, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Jon Alter</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2012-02-28T08:12:01.000+0000</td></tr>
<tr><th>Updated</th><td>2012-05-02T12:50:23.000+0000</td></tr>
</table>

<h3>Description</h3>

Setting the height of a view to 'auto' causes the view to be displayed at the top of parent as if you had set 'view.top = 0;'.
When the height of the view is set to something constant, it is displayed at the center of the parent view as it should be.

<h4>Steps to reproduce:</h4>
Step 1: run the code below
Step 2: notice the the red view is at the top of the window (it should be centered vertically)
Step 3: in sectionView change "height: 'auto'" to "height: 50"
Step 4: run the app again
Step 5: notice that the view is centered vertically in the window

<code><pre>
var win = Ti.UI.createWindow({backgroundColor:'white'});
win.open();

var section = createSectionView('TEST');
win.add(section);

function createSectionView(text){
	// using 'auto' here causes the view to be displayed at the top instead of
	// being centered in the parent
	var sectionView = Ti.UI.createView({
		height: 'auto',
		// height: 50,
		layout: 'vertical',
	});
	// using 'auto' here causes clickView to not be displayed
	var sectionHeader = Ti.UI.createView({
		height: 'auto',
		// height: 30,
		backgroundColor:'red',
	});
	var sectionHeaderLabel = Ti.UI.createLabel({
		text: text,
		height: 'auto',
		top: 2,
		bottom: 3,
		left: 10,
		right: 10,
		color: '#FFF',
	});
	var clickView = Ti.UI.createView({
		backgroundColor: 'green',
		opacity: 0.5,
	});
	
	sectionView.add(sectionHeader);
	sectionHeader.add(sectionHeaderLabel);
	sectionHeader.add(clickView);
	
	return sectionView;
};
</pre></code>

<h3>Comments</h3>

<ol>
<li>Allen Yeung 2012-03-13

   The behavior for this has changed as a result of the new composite layout spec: <a href="https://wiki.appcelerator.org/display/guides2/UI+Composite+Layout+Behavior+Spec" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides2/UI+Composite+Layout+Behavior+Spec</a>
   
   With the new layout spec you can achieve something similar by the following:
   
   <code><pre>
   var win = Ti.UI.createWindow({backgroundColor:'white'});
   win.open();
   
   var section = createSectionView('TEST');
   win.add(section);
   
   function createSectionView(text){
   	// using 'auto' here causes the view to be displayed at the top instead of
   	// being centered in the parent
   	var sectionView = Ti.UI.createView({
   		top: '50%',
   		height: 'auto',
   		// height: 50,
   		layout: 'vertical',
   	});
   	// using 'auto' here causes clickView to not be displayed
   	var sectionHeader = Ti.UI.createView({
   		height: Ti.UI.SIZE,
   		// height: 30,
   		backgroundColor:'red',
   	});
   	var sectionHeaderLabel = Ti.UI.createLabel({
   		text: text,
   		height: 'auto',
   		top: 2,
   		bottom: 3,
   		left: 10,
   		right: 10,
   		color: '#FFF',
   	});
   	var clickView = Ti.UI.createView({
   		backgroundColor: 'green',
   		height: Ti.UI.SIZE,
   		opacity: 0.5,
   	});
   	
   	sectionView.add(sectionHeader);
   	// sectionHeader.add(sectionHeaderLabel);
   	clickView.add(sectionHeaderLabel);
   	sectionHeader.add(clickView);
   	
   	return sectionView;
   };
   </pre></code>
   </li>
<li>Allen Yeung 2012-03-13

   PR to achieve parity with iOS ready here: <a href="https://github.com/appcelerator/titanium_mobile/pull/1659" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1659</a></li>
<li>Ivan Skugor 2012-03-14

   Could that Wiki page be publicly available? I'm getting this message:
   
   Page Not Found
   
   The page you were trying to reach could not be found. This could be because:
   
       The page does not exist.
       The page exists, but you do not have permission to view it.
   </li>
<li>Allen Yeung 2012-03-14

   That wiki link should be public once we release 2.0</li>
<li>Ivan Skugor 2012-03-14

   OK, thanks.</li>
<li>Wilson Luu 2012-03-16

   Closing bug. Verified fix on:
   
   SDK build: 2.0.0.v20120316171745
   Runtime: v8, rhino
   Titanium Studio, build: 2.0.0.201203152033
   Device: Nexus S (2.3.6)
   </li>
<li>Wilson Luu 2012-03-19

   Reopening to edit comment.</li>
<li>Natalie Huynh 2012-05-02

   Open to update label
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-7836.json">JSON Source</a></p>