---
title: "[TIMOB-7842] Android: Ti.UI.TextField.return event gets fired twice"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-03-02T19:13:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-05, Release 2.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_textfield, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Junaid Younus</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-02-28T13:27:29.000+0000</td></tr>
<tr><th>Updated</th><td>2012-03-14T17:03:06.000+0000</td></tr>
</table>

<h3>Description</h3>

*Code*
<code><pre>
var win = Titanium.UI.createWindow({  
    backgroundColor:'#fff'
});

var textField = Ti.UI.createTextField({
	color: '#336699',
    height: 50,
    top: 100,
    left: 100,
    width: 250,
    returnKeyType: Ti.UI.RETURNKEY_SEARCH
});

var counter = 0;
textField.addEventListener('return', function(e)
{
	Ti.API.info('This should only be printed once.');
	
	win.backgroundColor = (++counter % 2 == 0) ? 'red' : 'yellow';
});

win.add(textField);
win.open();

</pre></code>

*Expected result*
When you tap on the textfield and then click on the return key, the event listener should only be fired once.

*Actual result*
When you do the above, the event gets fired twice. 

*Note*
-I tried it with TiSDK 1.8.1 and the latest master from github, both seem to have this issue.
-When you comment out the line 'returnKeyType: Ti.UI.RETURNKEY_SEARCH', it seems to work fine and the event is only fired once.
-I only seem to be able to produce this issue with some devices. Issue happens on a Nexus One (2.3.6), Samsung Exhibit 4G (2.3.3) and Droid Bionic (2.3.4). I don't seem to be able to reproduce this issue on a Samsung Sensation 4G (2.3.3).

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2012-03-02

   Also test in KS: Base UI -> Views -> Table Views -> Table View (Layout 2)
   - Tap the 'Next' button and the keyboard should hide itself.</li>
<li>Dustin Hyde 2012-03-07

   Closing as Fixed.
   
   SDK: 2.0.0.v20120307090205
   Android: V8, Rhino
   Studio: 1.0.9.201202141208
   OS: Snow Leopard
   Devices Tested: Nexus One 2.2.2, Droid3 2.3.4, Xoom 3.2.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-7842.json">JSON Source</a></p>