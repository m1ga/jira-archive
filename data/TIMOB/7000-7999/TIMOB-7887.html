---
title: "[TIMOB-7887] Android: Gingerbread 2.3.X: Emulator: WebView evalJS crashes app"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2012-03-14T16:55:20.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.7.5, Release 1.8.0.1, Release 2.0.0, Release 1.8.1, Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>module_webview, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Dustin Hyde</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-03-05T15:35:57.000+0000</td></tr>
<tr><th>Updated</th><td>2013-09-26T17:04:56.000+0000</td></tr>
</table>

<h3>Description</h3>

When the evalJS method of a WebView is called, the app will crash. Log attached.

Steps to Reproduce:

1. Run code on 2.3.3 Emulator (WebViewTest project attached).

Note: This is a minimal fail case. TIMOB-4885 provides a similar example.

<code><pre>
var win = Ti.UI.createWindow();
var webView = Ti.UI.createWebView({ url:'test.html' });

win.add(webView);
win.open();

webView.addEventListener('load', function() {
	webView.evalJS("run()");
});
</pre></code>

<code><pre>
&lt;!doctype html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;WebView Test Page&lt;/title&gt;
&lt;/head&gt;
	&lt;body&gt;&lt;h1&gt;WebView Test Page&lt;/h1&gt;
	&lt;script type="text/javascript"&gt;
			function run() { alert('WebView JS Eval'); };
		&lt;/script&gt;
	&lt;/body&gt;
&lt;/html&gt;
</pre></code>

Expected Result:

An alert should appear indicating evalJS was successful.

Actual Result:

Crash.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-7887_26037/2.0 Android V8 Emulator 2.3.3 WebView JSEval Crash.txt">2.0 Android V8 Emulator 2.3.3 WebView JSEval Crash.txt</td></td><td>2012-03-05T15:35:57.000+0000</td><td>15644</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-7887_26038/WebViewTest.zip">WebViewTest.zip</td></td><td>2012-03-05T15:35:57.000+0000</td><td>3653158</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Dustin Hyde 2012-03-05

   This behavior is not limited to the evalJS method.
   
   Many Titanium API calls from the HTML cause the same crash, such as:
   
   <code><pre>
   &lt;!doctype html&gt;
   &lt;html&gt;
   	&lt;head&gt;
   		&lt;title&gt;WebView Test Page&lt;/title&gt;
   	&lt;/head&gt;
   	&lt;body&gt;&lt;h1&gt;WebView Test Page&lt;/h1&gt;
   		&lt;script type="text/javascript"&gt;
   			Ti.API.info('WebView JS Log Info');
   		&lt;/script&gt;
   	&lt;/body&gt;
   &lt;/html&gt;
   </pre></code>
   
   or
   
   <code><pre>
   &lt;!doctype html&gt;
   &lt;html&gt;
   	&lt;head&gt;
   		&lt;title&gt;WebView Test Page&lt;/title&gt;
   	&lt;/head&gt;
   	&lt;body&gt;&lt;h1&gt;WebView Test Page&lt;/h1&gt;
   		&lt;script type="text/javascript"&gt;
   			Ti.App.addEventListener('pause', function() {
   			
   			});
   		&lt;/script&gt;
   	&lt;/body&gt;
   &lt;/html&gt;
   </pre></code>
   
   However, some API calls do not crash the app, such as:
   
   <code><pre>
   &lt;!doctype html&gt;
   &lt;html&gt;
   	&lt;head&gt;
   		&lt;title&gt;WebView Test Page&lt;/title&gt;
   	&lt;/head&gt;
   	&lt;body&gt;&lt;h1&gt;WebView Test Page&lt;/h1&gt;
   		&lt;script type="text/javascript"&gt;
   			Ti.Platform.getOsname();
   			Ti.App.getVersion();
   		&lt;/script&gt;
   	&lt;/body&gt;
   &lt;/html&gt;
   </pre></code></li>
<li>Hieu Pham 2012-03-14

   </li>
<li>Dustin Hyde 2013-05-01

   Closing.</li>
</ol>


<p><a href="/TIMOB/TIMOB-7887.json">JSON Source</a></p>