---
title: "[TIMOB-7931] iOS: Build: Cannot compile KitchenSink, getting ValueError: substring not found"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-03-11T00:22:57.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-05, Release 2.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>release-note-2.0.0</td></tr>
<tr><th>Reporter</th><td>Natalie Huynh</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2012-03-08T12:55:32.000+0000</td></tr>
<tr><th>Updated</th><td>2012-03-12T10:19:06.000+0000</td></tr>
</table>

<h3>Description</h3>

Steps To Reproduce:
1. Import KS to Titanium Studio
2. Build to iOS device

Actual:
[ERROR] Error: Traceback (most recent call last):
  File "/Library/Application Support/Titanium/mobilesdk/osx/2.0.0.v20120308093239/iphone/builder.py", line 1045, in main
    applogo = ti.generate_infoplist(infoplist,appid,devicefamily,project_dir,iphone_version)
  File "/Library/Application Support/Titanium/mobilesdk/osx/2.0.0.v20120308093239/tiapp.py", line 471, in generate_infoplist
    i = plist.index('CFBundleShortVersionString')
ValueError: substring not found

Expected:
To compile KS

<h3>Comments</h3>

<ol>
<li>Stephen Feather 2012-03-08

   --I'll look into this in the morning.  I'm thinking the plist template no longer has a CFBundleShortVersionString entry in it to modify.--
   
   -- _edit_ --
   Confirmed that both the Info.plist and Titanium.plist still have the CFBundleShortVersionString key.  </li>
<li>Stephen Feather 2012-03-09

   <h4>Problem</h4>
   
   Kitchen sink uses a custom Info.plist located in the project root.
   This Info.plist does not contain the CFBundleShortVersionString entry thus causing the failure mentioned above.
   
   <h4>Proposed Solution</h4>
   Have the caretaker of the Kitchen Sink code add the following to {project}/Info.plist:
   
   <code><pre>
   &lt;key&gt;CFBundleShortVersionString&lt;/key&gt;
   &lt;string&gt;1.0&lt;/string&gt;
   </pre></code></li>
<li>Stephen Feather 2012-03-09

   I suppose this
   <code><pre>
   i = plist.index('CFBundleShortVersionString')
   </pre></code>
   
   ought to be wrapped to catch the exception if it is missing.
   I'll see if I can dedicate some time to that this weekend.
   
   Neeraj (and Stephen may want to jump in on this),  because of the importance of the CFBundleShortVersionString to distribution , do you believe the build should halt with a clear user message in the console that the string is missing from what we believe is the use of a custom Info.plist?</li>
<li>Stephen Feather 2012-03-09

   Pull request submitted <a href="https://github.com/appcelerator/titanium_mobile/pull/1623" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1623</a></li>
<li>Sabil Rahim 2012-03-09

   Pull pending [PR1627](<a href="https://github.com/appcelerator/titanium_mobile/pull/1627)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1627)</a></li>
<li>Natalie Huynh 2012-03-12

   Tested with 2.0.0.v20120312104735</li>
</ol>


<p><a href="/TIMOB/TIMOB-7931.json">JSON Source</a></p>