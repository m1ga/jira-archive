---
title: "[TIMOB-8070] iOS: Modal windows are clipped / incorrectly oriented"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-04-04T10:37:15.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.0.0, Sprint 2012-06</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>ios, module_window, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Sabil Rahim</td></tr>
<tr><th>Assignee</th><td>Max Stepanov</td></tr>
<tr><th>Created</th><td>2012-03-16T16:59:49.000+0000</td></tr>
<tr><th>Updated</th><td>2012-04-04T10:37:15.000+0000</td></tr>
</table>

<h3>Description</h3>

In the following code the windows opened are never cleared out from memory which can cause memory as well as orientation issues as we check the last window on the stack to find the current orientation. 

<h4>Steps to reproduce</h4>
1. Click open on Blue window
2. Click close on Green Window.

<h4>Expected Result:</h4>
Blue window is orientated and filling the screen.

<h4>Actual Result:</h4>
Blue window is clipped.

<code><pre>
var toplevel = Ti.UI.createWindow({
	orientationModes:[
		Ti.UI.PORTRAIT,
		Ti.UI.UPSIDE_PORTRAIT
	],
	backgroundColor:'blue'
});

var win = Ti.UI.createWindow({
	orientationModes:[
		Titanium.UI.LANDSCAPE_LEFT,
		Titanium.UI.LANDSCAPE_RIGHT
	],
	backgroundColor:'green'
});



var b = Ti.UI.createButton({
	title:'open',
	width:100,
	height:50
});
b.addEventListener('click', function() {
	win.open({modal:true});
});

var b2 = Ti.UI.createButton({
	title:'open',
	width:100,
	height:50,
	top:20
});
b2.addEventListener('click', function() {
	var win2 = Ti.UI.createWindow({
	orientationModes:[Ti.UI.LANDSCAPE_RIGHT],
	backgroundColor:'red'
    });
    var b4 = Ti.UI.createButton({
	title:'close',
	width:100,
	height:50,
	bottom:20
    });
    win2.add(b4);
    b4.addEventListener('click', function() {
        win2.close();
    });

    
    
    
    win2.open();
});

var b3 = Ti.UI.createButton({
	title:'close',
	width:100,
	height:50,
	bottom:20
});
b3.addEventListener('click', function() {
	win.close();
});

var b4 = Ti.UI.createButton({
	title:'close',
	width:100,
	height:50,
	bottom:20
});
b4.addEventListener('click', function() {
	win2.close();
});

toplevel.add(b);
win.add(b2);
win.add(b3);


toplevel.open();
</pre></code>

<h3>Comments</h3>

<ol>
<li>Blain Hamon 2012-03-20

   Pull #1691 merged</li>
<li>Michael Pettiford 2012-03-21

   Closing issue
   
   Tested with Ti Studio build 2.0.0.201203202130
   Ti Mob SDK 2.0.0.v20120321071752 hash r4c936bac
   OSX Lion 10.7.3
   iPone 4S OS 5.1
   
   Expected result is shown</li>
<li>Michael Pettiford 2012-04-04

   Reopening/closing to add/remove labels</li>
</ol>


<p><a href="/TIMOB/TIMOB-8070.json">JSON Source</a></p>