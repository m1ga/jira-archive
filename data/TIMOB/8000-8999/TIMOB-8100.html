---
title: "[TIMOB-8100] iOS: barImage hides nav buttons after window transition"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-12T06:03:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-07</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam, api, module_navgroup, qe-ios031912, qe-testadded</td></tr>
<tr><th>Reporter</th><td>João Silva</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2012-02-10T04:05:24.000+0000</td></tr>
<tr><th>Updated</th><td>2012-09-17T14:32:36.000+0000</td></tr>
</table>

<h3>Description</h3>

In window with a navbar that has a barImage and nav buttons (such as a rightNavButton), if we go to a child window and then back the nav buttons will be hidden by the barImage (but are still there and react to the touch).

STEPS TO REPRODUCE:

* Put the app.js (code below and attached) and navbar.png (attached) in the Resources directory

* Run the code in the iOS simulator

* Click on the "Open Window 2" button

* Click on the back button to return to window 1

The right nav button will now be hidden (although you can still click it)

app.js example code follows.

<code><pre>

var win1 = Ti.UI.createWindow({
	title : 'Window 1',
	barImage : 'navbar.png'
});

var navButton = Ti.UI.createButton({
	title : 'rightNavButton'
});

navButton.addEventListener('click', function(e) {
	Ti.UI.createAlertDialog({
		message : 'nav button clicked'
	}).show();
});

win1.rightNavButton = navButton;
win1.titleControl = Ti.UI.createLabel({text : 'Title Control'});

var button = Ti.UI.createButton({
	width : 200,
	height : 50,
	title : 'Open Window 2'
});

button.addEventListener('click', function(e) {
	tabGroup.activeTab.open(win2);
});

win1.add(button);

var win2 = Ti.UI.createWindow({
	title : 'Window 2'
});

var tab1 = Ti.UI.createTab({
	title : 'Tab 1',
	window : win1
});

var tabGroup = Ti.UI.createTabGroup();

tabGroup.addTab(tab1);
tabGroup.open();

</pre></code>


Possibly related to:

<a href="http://developer.appcelerator.com/question/131672/rightnavbutton-and-leftnavbutton-not-displaying-in-181" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/131672/rightnavbutton-and-leftnavbutton-not-displaying-in-181</a>




<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-8100_25724/app.js">app.js</td></td><td>2012-02-10T04:05:24.000+0000</td><td>711</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-8100_25723/navbar.png">navbar.png</td></td><td>2012-02-10T04:05:24.000+0000</td><td>5154</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Allen Hartwig 2012-02-23

   This was not an issue prior to 1.8.1.
   
   Something else to note: During the child window open animation, the parent window nav buttons briefly become visible again.</li>
<li>George Hess 2012-03-03

   Has there been any response from Appcelerator or progress made in solving this bug?</li>
<li>Jeff Gordon 2012-03-03

   Based on my testing this is fixed in the 1.8.2 SDK released a few days ago.</li>
<li>Allen Hartwig 2012-03-03

   This is *not* resolved in 1.8.2 for me.</li>
<li>Allen Hartwig 2012-03-03

   The issue is only present when there is a custom barImage and a custom titleControl on the window.</li>
<li>João Silva 2012-03-05

   I confirm Allen's report. In 1.8.2 the issue as reported by me above is fixed, however adding a titleControl such as
   
   <code><pre>
   win1.titleControl = Ti.UI.createLabel({text : 'Title Control'});
   </pre></code>
   
   will hide the nav button after a transition.
   </li>
<li>Natalie Huynh 2012-03-20

   Confirmed the issue when adding the titleControl with 1.8.2 and 2.0.0.v20120320000301</li>
<li>Dietrich Streifert 2012-04-02

   </li>
<li>Vishal Duggal 2012-04-03

   Fixed on master by PR 1896</li>
<li>Michael Pettiford 2012-06-20

    Closing issue
    
    Tested with Ti Studio build 2.1.0.201206200844
    Ti Mobile SDK 2.1.0.v20120619172256 hash rd3a84b13
    OSX Lion 10.7.3
    iPhone 4S OS 5.1
    
    The expected behavior is shown</li>
<li>Shyam Bhadauria 2012-07-12

    Re-opening to edit label</li>
<li>George Hess 2012-09-17

    Did anyone test this on a device running iOS 4? It is still an issue when running iOS v4.3.2.</li>
<li>Sabil Rahim 2012-09-17

    @George- Which version of the TiSDK are you using ?</li>
<li>George Hess 2012-09-17

    I'm using 2.1.2.GA. The first time I navigate back to the first window (in a navigation group) everything in the bar displays correctly. It is only after the second time that the left and right nav buttons start disappearing.
    
    I added [self updateBarImage]; to line 597 of iphone/Classes/TiUIWindowProxy.m and that seemed to do the trick for iOS 4.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8100.json">JSON Source</a></p>