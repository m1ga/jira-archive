---
title: "[TIMOB-8113] Android: Ti.UI.WebView doesn't seem to load pages that try to open a new window"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-04-17T11:28:30.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-08</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, api, module_webview, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Junaid Younus</td></tr>
<tr><th>Assignee</th><td>Josh Roesslein</td></tr>
<tr><th>Created</th><td>2012-03-20T11:25:42.000+0000</td></tr>
<tr><th>Updated</th><td>2014-08-21T21:21:11.000+0000</td></tr>
</table>

<h3>Description</h3>

*Code*
* app.js
<code><pre>
var win = Ti.UI.createWindow();

var webview = Titanium.UI.createWebView({ 
	url: 'index.html'
});

win.add(webview);

win.open();
</pre></code>

* index.html
<code><pre>
<a href="<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>" target="_blank">Click to load Google in a new window.</a>
<br></br>
<a href="<a href="http://www.google.com" rel="nofollow" target="_blank">http://www.google.com</a>">Click to load Google in the same window.</a>
</pre></code>

*Expected behavior*
When you click on either of the two links, it should load up Google.

*Actual behavior*
What actually happens, is that the first link doesn't seem to do anything, only the second one seems to work.

*Notes*
-Only tested on a HTC Sensation and Samsung Galaxy S2, both giving me the same result.
-Same result, whether I use the Rhino or V8 engine.
-When testing the same code on the iOS simulator, both links seem to work fine.
-The issue is 'target="_blank"' without this, it seems to work fine.
-HD ticket: <a href="http://support-admin.appcelerator.com/display/APP-257637" rel="nofollow" target="_blank">http://support-admin.appcelerator.com/display/APP-257637</a>

<h3>Comments</h3>

<ol>
<li>Josh Roesslein 2012-04-12

   Submitted PR [#1996](<a href="https://github.com/appcelerator/titanium_mobile/pull/1996)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1996)</a> to resolve issue.
   
   This fixes a new, currently undocumented API <code>onCreateWindow</code> callback.
   Also it adds default behavior if this callback is not set which just opens a new activity
   window containing the new WebView instance.
   
   <h4>WebView.onCreateWindow</h4>
   
   <code><pre>
   var win = Ti.UI.createWindow();
   var webview = Ti.UI.createWebView({ url:'index.html' });
   
   webview.onCreateWindow = function(e) {
       if (!e.isUserGesture) {
           return null;
       }
    
       var webWin = Ti.UI.createWindow({
           fullscreen: false
       });
       var newWebView = Ti.UI.createWebView();
       webWin.add(newWebView);
       webWin.open();
    
       return newWebView;
   };
    
   win.add(webview);
    
   win.open();
   </pre></code>
   
   Use the same index.html in this ticket's description.
   
   NOTE: onCreateWindow is not currently public and shouldn't be used yet.
         This test case is purely for testing purposes.</li>
<li>Bill Dawson 2012-04-16

   Re-opening because it looks like the change doesn't work in Rhino: <a href="http://pastie.org/3799021" rel="nofollow" target="_blank">http://pastie.org/3799021</a></li>
<li>Josh Roesslein 2012-04-16

   [PR #2013](<a href="https://github.com/appcelerator/titanium_mobile/pull/2013)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2013)</a> sent to resolve Rhino issue.</li>
<li>Payminder Singh 2012-06-23

   Titanium Studio: 2.1.0.201206221045
   Mobile SDK: 2.1.0.v20120622174154
   OS: X Lion
   Device: Samsung Galaxy 
   
   Fixed
   
   Both hyperlinks are working and providing the expected result by opening the Google.com</li>
</ol>


<p><a href="/TIMOB/TIMOB-8113.json">JSON Source</a></p>