---
title: "[TIMOB-8174] Android:  geolocation crash on ICS emulator"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Critical</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-03-22T20:08:59.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.0.0, Sprint 2012-06</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Opie Cyrus</td></tr>
<tr><th>Assignee</th><td>Opie Cyrus</td></tr>
<tr><th>Created</th><td>2012-03-21T19:58:57.000+0000</td></tr>
<tr><th>Updated</th><td>2012-03-23T09:30:39.000+0000</td></tr>
</table>

<h3>Description</h3>

When running KS geolocation test in 4.0 emulator, the following error can be seen in log:

"E/TiApplication(  717): (KrollRuntimeThread) [330,14786] Sending event: exception on thread: KrollRuntimeThread msg:java.lang.IllegalArgumentException: provider=network; Titanium 2.0.0,2012/03/21 17:57,eaa000e
E/TiApplication(  717): java.lang.IllegalArgumentException: provider=network
E/TiApplication(  717): 	at android.os.Parcel.readException(Parcel.java:1331)
E/TiApplication(  717): 	at android.os.Parcel.readException(Parcel.java:1281)
E/TiApplication(  717): 	at android.location.ILocationManager$Stub$Proxy.requestLocationUpdates(ILocationManager.java:646)
E/TiApplication(  717): 	at android.location.LocationManager._requestLocationUpdates(LocationManager.java:582)
E/TiApplication(  717): 	at android.location.LocationManager.requestLocationUpdates(LocationManager.java:446)
E/TiApplication(  717): 	at ti.modules.titanium.geolocation.GeolocationModule.registerLocationProvider(GeolocationModule.java:613)
E/TiApplication(  717): 	at ti.modules.titanium.geolocation.GeolocationModule.doEnableLocationProviders(GeolocationModule.java:658)
E/TiApplication(  717): 	at ti.modules.titanium.geolocation.GeolocationModule.handleMessage(GeolocationModule.java:216)
E/TiApplication(  717): 	at android.os.Handler.dispatchMessage(Handler.java:95)
E/TiApplication(  717): 	at android.os.Looper.loop(Looper.java:137)
E/TiApplication(  717): 	at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:104)
E/AndroidRuntime(  717): FATAL EXCEPTION: KrollRuntimeThread
"

Only able to reproduce on emulator but null provider should be handled gracefully.

<h3>Comments</h3>

<ol>
<li>Natalie Huynh 2012-03-23

   Tested with 2.0.0.v20120322231759 on Emulator 4.0 </li>
</ol>


<p><a href="/TIMOB/TIMOB-8174.json">JSON Source</a></p>