---
title: "[TIMOB-8200] Android: webViews has a white background when turning on hardware acceleration "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-03-30T21:54:14.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.0, Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2012-03-22T13:58:47.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-24T18:14:33.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>
When using android:hardwareAccelerated="true" (most likely in android manifest), the transparency of the WebView is lost and replaced by plain white background. Not all devices seem affected by this issue.

<h4>Non affected devices</h4>
Droid Razr 2.3.5
Samsung Galaxy Tab p1000, Froyo(2.2)

<h4>Affected device</h4>
Asus Transformer TF101, Honeycomb(ver3.1)

<h4>Repro sequence</h4>
<code><pre>
var win = Ti.UI.createWindow({
	backgroundImage : 'KS_nav_ui.png', //'/images/guide_fond_notice.png',
	navBarHidden : true,
	exitOnClose : true,
	top : '0dp',
	left : '0dp',
	right : '0dp',
	bottom : '0dp'
});

var webView = Ti.UI.createWebView({
	backgroundColor : 'transparent',
	html : 'This WebView\'s Background Must Be transparent',
	top : '50dp',
	left : '470dp',
	right : '0dp',
	bottom : '50dp'
});
win.add(webView);

win.open(); 
</pre></code>

<h4>Setting HW accelerated via Tiapp.xml</h4>
<code><pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ti:app xmlns:ti="<a href="http://ti.appcelerator.org" rel="nofollow" target="_blank">http://ti.appcelerator.org</a>"&gt;
    &lt;property name="ti.android.runtime"&gt;v8&lt;/property&gt;
    &lt;deployment-targets&gt;
        &lt;target device="mobileweb"&gt;true&lt;/target&gt;
        &lt;target device="iphone"&gt;true&lt;/target&gt;
        &lt;target device="ipad"&gt;true&lt;/target&gt;
        &lt;target device="android"&gt;true&lt;/target&gt;
        &lt;target device="blackberry"&gt;false&lt;/target&gt;
    &lt;/deployment-targets&gt;
    &lt;sdk-version&gt;1.8.2&lt;/sdk-version&gt;
    &lt;id&gt;com.appcelerator.com&lt;/id&gt;
    &lt;name&gt;AcScreenConfs&lt;/name&gt;
    &lt;version&gt;1.0&lt;/version&gt;
    &lt;publisher&gt;egomez&lt;/publisher&gt;
    &lt;url&gt;http://&lt;/url&gt;
    &lt;description&gt;not specified&lt;/description&gt;
    &lt;copyright&gt;2012 by egomez&lt;/copyright&gt;
    &lt;icon&gt;appicon.png&lt;/icon&gt;
    &lt;persistent-wifi&gt;false&lt;/persistent-wifi&gt;
    &lt;prerendered-icon&gt;false&lt;/prerendered-icon&gt;
    &lt;statusbar-style&gt;default&lt;/statusbar-style&gt;
    &lt;statusbar-hidden&gt;false&lt;/statusbar-hidden&gt;
    &lt;fullscreen&gt;false&lt;/fullscreen&gt;
    &lt;navbar-hidden&gt;false&lt;/navbar-hidden&gt;
    &lt;analytics&gt;true&lt;/analytics&gt;
    &lt;guid&gt;95f32b4c-0c20-4f0e-86d5-3bc8ece20641&lt;/guid&gt;
    &lt;iphone&gt;
        &lt;orientations device="iphone"&gt;
            &lt;orientation&gt;Ti.UI.PORTRAIT&lt;/orientation&gt;
        &lt;/orientations&gt;
        &lt;orientations device="ipad"&gt;
            &lt;orientation&gt;Ti.UI.PORTRAIT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.UPSIDE_PORTRAIT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.LANDSCAPE_LEFT&lt;/orientation&gt;
            &lt;orientation&gt;Ti.UI.LANDSCAPE_RIGHT&lt;/orientation&gt;
        &lt;/orientations&gt;
    &lt;/iphone&gt;
    &lt;android xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>"&gt;
   &lt;tool-api-level&gt;11&lt;/tool-api-level&gt;
        &lt;manifest&gt;
            &lt;supports-screens android:anyDensity="true" /&gt;
            &lt;uses-sdk android:minSdkVersion="11" android:targetSdkVersion="11"/&gt;
            &lt;application android:hardwareAccelerated="true"&gt;
                &lt;activity
                    android:configChanges="keyboardHidden|orientation"
                    android:name=".TestActivity" android:theme="@android:style/Theme.Holo.Wallpaper.NoTitleBar"&gt;
                    &lt;intent-filter&gt;
                        &lt;action android:name="android.intent.action.MAIN" /&gt;
                        &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
                    &lt;/intent-filter&gt;
                &lt;/activity&gt;
            &lt;/application&gt;
        &lt;/manifest&gt;
    &lt;/android&gt;
    &lt;modules/&gt;
&lt;/ti:app&gt;
</pre></code>

<h4>Or via Manifest</h4>
<code><pre>
&lt;?xml version="1.0"?&gt;
&lt;manifest xmlns:android="<a href="http://schemas.android.com/apk/res/android" rel="nofollow" target="_blank">http://schemas.android.com/apk/res/android</a>" android:versionCode="1" android:versionName="1" 
               package="com.appcelerator.com" android:installLocation="preferExternal"&gt;
   &lt;tool-api-level&gt;11&lt;/tool-api-level&gt;
	&lt;uses-sdk android:minSdkVersion="7" android:targetSdkVersion="11"/&gt;

&lt;supports-screens android:anyDensity="true" android:largeScreens="true" android:normalScreens="true" android:smallScreens="false"/&gt;

  &lt;application android:hardwareAccelerated="true" android:debuggable="true" android:name="ActifryApplication"&gt;

    &lt;activity android:configChanges="keyboardHidden|orientation" android:screenOrientation="portrait" android:name=".ActifryActivity" android:theme="@style/Theme.Titanium"&gt;
        &lt;intent-filter&gt;
            &lt;action android:name="android.intent.action.MAIN"/&gt;
            &lt;category android:name="android.intent.category.LAUNCHER"/&gt;
        &lt;/intent-filter&gt;
    &lt;/activity&gt;

    &lt;!-- TI_APPLICATION --&gt;

    &lt;activity android:configChanges="keyboardHidden|orientation" android:launchMode="singleTask" android:name="ti.modules.titanium.media.TiVideoActivity" android:theme="@android:style/Theme.NoTitleBar.Fullscreen"/&gt;

    &lt;activity android:configChanges="keyboardHidden|orientation" android:name="org.appcelerator.titanium.TiActivity"/&gt;
    &lt;activity android:configChanges="keyboardHidden|orientation" android:name="org.appcelerator.titanium.TiTranslucentActivity" android:theme="@android:style/Theme.Translucent"/&gt;
    &lt;activity android:configChanges="keyboardHidden|orientation" android:name="org.appcelerator.titanium.TiModalActivity" android:theme="@android:style/Theme.Translucent"/&gt;
    &lt;activity android:configChanges="keyboardHidden|orientation" android:name="ti.modules.titanium.ui.TiTabActivity"/&gt;
    &lt;activity android:name="ti.modules.titanium.ui.android.TiPreferencesActivity"/&gt;

    &lt;service android:exported="false" android:name="org.appcelerator.titanium.analytics.TiAnalyticsService"/&gt;


&lt;/application&gt;

&lt;uses-permission android:name="android.permission.ACCESS_WIFI_STATE"/&gt;
&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt;
&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/&gt;
&lt;uses-permission android:name="android.permission.INTERNET"/&gt;

&lt;/manifest&gt;
</pre></code>

<h3>Comments</h3>

<ol>
<li>Ping Wang 2012-03-30

   This is a known issue on Android Honeycomb SDK (3.x). 
   <a href="http://code.google.com/p/android/issues/detail?id=14749" rel="nofollow" target="_blank">http://code.google.com/p/android/issues/detail?id=14749</a></li>
<li>Fokke Zandbergen 2014-02-14

   I guess now fixed by: <a href="https://github.com/appcelerator/titanium_mobile/pull/5320/files" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5320/files</a></li>
<li>Fokke Zandbergen 2014-02-14

   Workaround that disabled acceleration by using an almost transparent backgroundColor:
   
   <code><pre>
   backgroundColor = '#01FFFFFF';
   </pre></code></li>
<li>DÃ¡rio Marcelino 2015-01-23

   This issue, or a variation of it, is still plaguing some phones, namely:
   
   * Sony ST21i running android v4.0.4
   * Sony Xperia Arc S (lt18i) running android v4.0.4
   
   The bug only manifested after we changed <code>&lt;supports-screens android:anyDensity="false"/&gt;</code> to <code>true</code> and set <code>&lt;property name="ti.ui.defaultunit"&gt;dp&lt;/property&gt;</code> on our tiapp.xml.
   
   We've used @Fokke's workaround but it turned the background black on these phones. On a Nexus 5 the background does show as transparent.
   
   PS: we don't use 'android:hardwareAccelerated' at all.</li>
<li>Lee Morris 2017-03-24

   Closing ticket as invalid with reference to the above comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8200.json">JSON Source</a></p>