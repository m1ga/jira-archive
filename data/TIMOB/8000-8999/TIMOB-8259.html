---
title: "[TIMOB-8259] iOS: backgroundModes specified in tiapp.xml does not prevent the app being suspended, killing the GPS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 1.8.0.1, Release 2.0.0, Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Federico Casali</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-03-23T16:05:36.000+0000</td></tr>
<tr><th>Updated</th><td>2018-03-06T18:57:55.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem description</h4>
iOS: UIBackgroundModes key is not added to info.plist even after specifying backgroundModes in tiapp.xml. This does not prevent the app being suspended and Garbage Collector ends up killing the GPS     

<h4>Steps to reproduce</h4>
In order to use the Geolocation when the app is backgrounded, following lines are added to tiapp.xml:

<code><pre>
&lt;backgroundModes&gt;
   &lt;mode&gt;location&lt;/mode&gt;
&lt;/backgroundModes&gt;
&lt;requires&gt;
  &lt;feature&gt;gps&lt;/feature&gt;
  &lt;feature&gt;location-services&lt;/feature&gt;
&lt;/requires&gt;
</pre></code>

However after building, key UIBackgroundModes is not added to the info.plist
In particular, info.plist should include those lines:

<code><pre>
&lt;key&gt;UIBackgroundModes&lt;/key&gt;
&lt;array&gt;
   &lt;string&gt;location&lt;/string&gt;
&lt;/array&gt;
</pre></code>

Without adding those lines, the app is being suspended after 10 minutes and the garbage collector kills the GPS.

<h4>Additional info</h4>
Ticket reference: <a href="http://support-admin.appcelerator.com/display/APP-954912/conversation/read_all" rel="nofollow" target="_blank">http://support-admin.appcelerator.com/display/APP-954912/conversation/read_all</a>



<h3>Comments</h3>

<p>No comments</p>

<p><a href="/TIMOB/TIMOB-8259.json">JSON Source</a></p>