---
title: "[TIMOB-8293] iOS: Subsequently setting the html property of a webview does not show the changed html but shows blank content"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-04-05T08:29:16.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-07, Release 2.0.1</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>regression, webview</td></tr>
<tr><th>Reporter</th><td>Dietrich Streifert</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2012-02-24T02:51:35.000+0000</td></tr>
<tr><th>Updated</th><td>2012-06-22T16:26:25.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

In our app we create one instance of Ti.UI.WebView and reuse it for showing html content which is stored in a sql db. As the user navigates to different entries within a messages list, the new selected content is pushed into the webview by asigning the value to the html property of the webview.

The first time the value is set, the content shows up as expected.

If the value is set the second time the webview shows up empty.

<h4>Test case</h4>
Create a fresh mobile project and replace the default app.js with the following code:
<code><pre>
// this sets the background color of the master UIView (when there are no windows/tab groups on it)
Titanium.UI.setBackgroundColor('#000');

// create tab group
var tabGroup = Titanium.UI.createTabGroup();


//
// create base UI tab and root window
//
var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff'
});
var tab1 = Titanium.UI.createTab({  
    icon:'KS_nav_views.png',
    title:'Tab 1',
    window:win1
});

var	button1 = Titanium.UI.createButton({
	title:'open webview window',
	width:220,
	height:40
});

win1.add(button1);

var winwebview = Titanium.UI.createWindow({  
    title:'Window with webview',
    backgroundColor:'#fff'
});

var webview = Titanium.UI.createWebView({
});

winwebview.add(webview);

var counter = 0;
button1.addEventListener('click',function(e)
{
   counter++;
   webview.html = '<h1>Counter is: ' + counter + '</h1>';
   tab1.open(winwebview,{animated:true});
});

//
// create controls tab and root window
//
var win2 = Titanium.UI.createWindow({  
    title:'Tab 2',
    backgroundColor:'#fff'
});
var tab2 = Titanium.UI.createTab({  
    icon:'KS_nav_ui.png',
    title:'Tab 2',
    window:win2
});

var label2 = Titanium.UI.createLabel({
	color:'#999',
	text:'I am Window 2',
	font:{fontSize:20,fontFamily:'Helvetica Neue'},
	textAlign:'center',
	width:'auto'
});

win2.add(label2);



//
//  add tabs
//
tabGroup.addTab(tab1);  
tabGroup.addTab(tab2);  


// open tab group
tabGroup.open();
</pre></code>

<h4>Build an run the app in simulator.</h4>
<h4>Tap on the button "open webview window". </h4>
<h4>The webview shows the line "Counter is: 1".</h4>
<h4>Navigate back to Tab 1 and tap again on the button "open webview window".</h4>
<h4>The webview should show the line "Counter is: 2", but the webview shows up empty.</h4>

With Titaniums SDK 1.8.0.1 and 1.8.1 this works as expected.


<h3>Comments</h3>

<ol>
<li>Dietrich Streifert 2012-03-05

   The bug also occurs in Titaniums SDK 1.8.2 GA</li>
<li>Dietrich Streifert 2012-03-06

   Posted on Q&A:
   
   <a href="http://developer.appcelerator.com/question/133230/ios-subsequently-setting-the-html-property-of-a-webview-does-not-show-the-changed-html-but-shows-blank-content" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/133230/ios-subsequently-setting-the-html-property-of-a-webview-does-not-show-the-changed-html-but-shows-blank-content</a></li>
<li>Stephen Tramer 2012-03-26

   First bad commit: 53ffa8ad93c1f75c1e1a52a5fb4fa64ad112821a for TIMOB-7279</li>
<li>Dietrich Streifert 2012-04-01

   @Stephen: I would be very glad to have this fixed in the upcoming SDK release 2.0.0. Any comments? Thank you.</li>
<li>Stephen Tramer 2012-04-02

   Dietrich -
   
   We have already locked in non-critical fixes for our 2.0.0 release. This fix will appear on our continuous integration server when the bug is resolved.</li>
<li>Dietrich Streifert 2012-04-02

   @Stephan: That's odd! I think that reusing a webview instance ist not a rare use case, so i suspect that there will be a lot of post 2.0.0 release complaints about this bug.
   
   But you may consider raising this bug to critical. This would allow the fix to make it into 2.0.0.</li>
<li>Vishal Duggal 2012-04-05

   Fixed on master by PR #1907</li>
<li>Vishal Duggal 2012-04-05

   Fixed on 2_0_X by PR #1935</li>
<li>Eric Merriman  2012-04-06

   Vishal investigating message in console: "[WARN] couldn't load URL: app://com.appcelerator.timob8293/(null)". My app ID is com.appcelerator.timob8293. Not sure if this is related to our network problems, this fix, or something else.</li>
<li>Eric Merriman  2012-04-06

    Verified fixed with SDK 2.0.1.v20120405211737 and Titanium Studio, build: 2.0.1.201204051443</li>
</ol>


<p><a href="/TIMOB/TIMOB-8293.json">JSON Source</a></p>