---
title: "[TIMOB-8309] iOS: Ti.Map.Annotation event listeners don't fire consistently"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Duplicate</td></tr>
<tr><th>Resolution Date</th><td>2012-03-28T13:26:56.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Junaid Younus</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2012-03-26T12:08:13.000+0000</td></tr>
<tr><th>Updated</th><td>2012-04-04T09:29:23.000+0000</td></tr>
</table>

<h3>Description</h3>

*Code*
<code><pre>
var win1 = Titanium.UI.createWindow({
	title:'Tab 1', 
	backgroundColor:'#fff' 
});

var mapView = Ti.Map.createView({ 
	top : 0, 
	left : 0, 
	right:0, 
	bottom:0, 
	mapType : Titanium.Map.STANDARD_TYPE, 
	animate : true, 
	regionFit : true, 
	userLocation : true 
});

for (var i = 0; i &lt; 10; i++) 
{
	var v = Ti.UI.createView({ 
		width:50, 
		height:30 
	}); 
	
	var link = Ti.UI.createLabel({ 
		text:"HI", 
		width:50, 
		height:30, 
		backgroundColor:"white" 
	}); 
	
	link.addEventListener('click',function(e) 
	{ 
		Ti.API.info("Clicked Right View Label on Annotation"); 
	}); 
	
	v.add(link);
	
	var annotationTick = Titanium.Map.createAnnotation({
	    latitude : 0,
	    longitude : i*10,
	    title : "Title",
	    subtitle : "Subtitle",
	    pincolor : Titanium.Map.ANNOTATION_GREEN,
	    animate : true,
	    rightView: v
	});
	
	annotationTick.addEventListener('click',function(e)
	{
	    Ti.API.info("Clicked Annotation");
	});
	
	mapView.addAnnotation(annotationTick);
}

win1.add(mapView);

win1.open();
</pre></code>

*Expected behavior*
When you click on each annotation, it should print out to the console that the event has been fired. Also when you tap on the white label, it should also print/fire another event that shows the label has been tapped.

*Actual behavior*
Events don't seem to fire at all, unless you tap on the last pin. If you tap on the last pin, the event gets fired instantly, the next event will also work fine, however any after that don't seem to fire at all again. 
So in other words, you tap the last pin, then you can tap any other pin and it will fire the events. But after that, it won't fire any events again, unless you tap the last pin again.

*Notes*
-Only tested with 1.8.2 with the iOS 5.0 simulator.
-Zoom out from the map view in order to see the pins.
-HD ticket: <a href="http://support-admin.appcelerator.com/display/APP-436565" rel="nofollow" target="_blank">http://support-admin.appcelerator.com/display/APP-436565</a>

<h3>Comments</h3>

<ol>
<li>Dustin Hyde 2012-03-28

   Closing as Fixed.
   
   SDK: 2.0.0.v20120326211803
   Studio: 2.0.0.201203271933
   OS: Snow Leopard
   Devices Tested: iPhone Simulator 5.0</li>
<li>Junaid Younus 2012-03-28

   Would it be possible to add this to 1.8.2 please?</li>
<li>Neeraj Gupta 2012-03-28

   Duplicate of TIMOB-7396.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8309.json">JSON Source</a></p>