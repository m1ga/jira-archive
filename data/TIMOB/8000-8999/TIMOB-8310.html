---
title: "[TIMOB-8310] Exclude Git repository compiler.py"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2016-08-24T05:40:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>git, performance</td></tr>
<tr><th>Reporter</th><td>Mads Moller</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2012-03-03T10:31:14.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-16T21:34:22.000+0000</td></tr>
</table>

<h3>Description</h3>

The iPhone building process is getting very heavy if you have multiple git repositories in the project. 
I changed the build compiler.py so its does not link the ".git" folders.
check out: <a href="http://developer.appcelerator.com/question/132241/stop-ios-simulator-startup-git-linking" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/132241/stop-ios-simulator-startup-git-linking</a>


<code><pre>
#line 145
def softlink_resources(source,target,use_ignoreDirs=True):
	if not os.path.exists(target):
		os.makedirs(target)
	for file in os.listdir(source):
		if (use_ignoreDirs and (file in ignoreDirs)) or (file in ignoreFiles):
			continue
		from_ = os.path.join(source, file)
		to_ = os.path.join(target, file)
		if os.path.isdir(from_):
			#NAPP CMS - start custom code
			if re.match(r"^.*\.git.*$", from_):
				print "[EXCLUDING] git repository: %s" % (from_)
				continue
			else:
				#NAPP CMS - end custom code
				print "[DEBUG] creating: %s" % (to_)
				softlink_resources(from_,to_,False)	
		else:
			print "[DEBUG] linking: %s to %s" % (from_,to_)
			if os.path.exists(to_):
				if os.path.islink(to_):
					os.remove(to_)
					os.symlink(from_, to_)
			else:
				os.symlink(from_, to_)
</pre></code> 

I hope you can use it. 

<h3>Comments</h3>

<ol>
<li>Chris Barber 2016-08-24

   The old Python-based build scripts are no longer supported. No sense fixing this now.</li>
<li>Lee Morris 2017-03-16

   Closing ticket as the issue won't fix.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8310.json">JSON Source</a></p>