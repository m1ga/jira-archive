---
title: "[TIMOB-8336] iOS: Feature request to enable fPIE command line option in iOS app build"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-07-11T09:22:05.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam, core</td></tr>
<tr><th>Reporter</th><td>Varun Joshi</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2012-03-27T14:41:03.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-23T21:40:06.000+0000</td></tr>
</table>

<h3>Description</h3>

A new feature has been requested to be added to the iOS app binary, that improves the code security. It utilizes the ASLR (address space layout randomization) that Apple has introduced as an important security feature in the latest version of the iPhone's software (4.3+). 

The PIE can be enabled when compiling by command line with option -fPIE. Essentially, we need to be able to compile with the command line option -fPIE.

This article explains more about the address space randomization and how iPhone utilizes it: <a href="http://money.cnn.com/2011/08/04/technology/iphone_hack/index.htm" rel="nofollow" target="_blank">http://money.cnn.com/2011/08/04/technology/iphone_hack/index.htm</a>


 


<h3>Comments</h3>

<ol>
<li>Max Stepanov 2012-07-05

   All applications compiled for iOS 4.3+ have -fPIE option on by default.
   The reason that the resulting binary is not PIE (and thus partially utilizes ASLR) is that all object files should be compiled with PIC (Position Independent Code) option. This includes any external static libraries, JSCore runtime, modules etc. If any of the object files is not PIC, the whole application binary will not be PIE.</li>
<li>Max Stepanov 2012-07-05

   How to detect if an application binary compiled as PIE:
   <code><pre>
   otool -hv &lt;app_binary&gt; |grep PIE
   </pre></code></li>
<li>Stephen Tramer 2012-07-10

   This ticket can be resolved by taking advantage of the new <code>&lt;min-ios-ver&gt;</code> setting in <code>tiapp.xml</code> by bumping it to 4.3 or higher. Only these versions of iOS support PIC/PIE.
   
   If running with various internal modules continues to keep executables produced by Titanium at PIE for versions 4.3+, will resolve as INVALID.</li>
<li>Stephen Tramer 2012-07-10

   It is also worth noting that armv6 does not appear to support PIE. Only armv7 devices will support it.</li>
<li>Stephen Tramer 2012-07-10

   Not necessary. All libraries and Titanium apps compile as PIC but the minimum iOS version must be set to at least 4.3. Use the feature described in TIMOB-2999 which is available in 2.2.0 CI as of now.</li>
<li>Lee Morris 2017-03-23

   Closing ticket as invalid with reference to the previous comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8336.json">JSON Source</a></p>