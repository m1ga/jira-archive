---
title: "[TIMOB-8418] iOS: AudioPlayer is failing for some mp3, even if are in a supported format/encoding."
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-09-24T17:14:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-08</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam, api, module_media, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Max Stepanov</td></tr>
<tr><th>Created</th><td>2012-03-29T11:35:59.000+0000</td></tr>
<tr><th>Updated</th><td>2012-09-24T17:14:29.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
This doesn't seem to work for me, the mp3 plays fine via a web browser though. The code is correct so internally it doesn't like the file format. Is there a reason for this or something I can do (including encoding the audio differently) so that it's compatible. 90% of the audio files I encode all work, it's only a small number that don't and they are encoded the same way always.

Replacing the audio file with something else works fine.

This is the last stumbling block to release my app.

<h4>Actual Results</h4>
One file it's working, one it's not. EVen if they are encoded in the same way. 

<h4>Expected results</h4>
Similar encoded mp3 files should play just fine

<h4>Test Case</h4>
1. Create a new mobile Project
2. Add this code
<code><pre>
var win = Ti.UI.createWindow();
var vurl = "<a href="http://www.voxsci.com/turtle2.mp3" rel="nofollow" target="_blank">http://www.voxsci.com/turtle2.mp3</a>"; 
Ti.API.info(vurl); 
var streamer = Titanium.Media.createAudioPlayer({
	allowBackground: true,
	url:vurl,
	preload:true
}); 
streamer.start();
Ti.API.info("Audio started");
win.open();
</pre></code>
3. If you change the vurl to "<a href="http://www.voxsci.com/turtle1.mp3" rel="nofollow" target="_blank">http://www.voxsci.com/turtle1.mp3</a>", it will work just fine. 

<h4>Extra info</h4>
I checked the files, they are similar: Mono, 44100hz, 32 bits float and they work in browser and audacity. 

<h3>Comments</h3>

<ol>
<li>Max Stepanov 2012-04-10

   PR <a href="https://github.com/appcelerator/titanium_mobile/pull/1971" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1971</a> pending.</li>
<li>Vishal Duggal 2012-04-13

   Fixed by PR #1971</li>
<li>Tushar Joshi 2012-04-16

   Thanks so much for fixing this, how can I possibly use this fix? Can you point me to a way I can get the latest titanium code to incorporate this fix please? Or is it a matter of waiting for the next titanium release? 
   
   Thanks again, 
   
   Tushar</li>
<li>Olga Romero 2012-08-09

   verified fix with:
   Titanium Studio, build: 2.1.1.201207271312
   Titanium SDK 2.1.1
   iPhone4 5.1.1
   closing as fixed</li>
<li>Shyam Bhadauria 2012-08-10

   Re-opening to edit label</li>
<li>Olga Romero 2012-08-23

   Audio player fails to consistently play mp3 . Rerunning test several times might result in one success to hear the sound.
   The same behavior in 2.1.1.
   
   Tested on:
   Titanium Studio, build: 2.1.2.201208201549
   Titanium SDK: 2.1.2.v20120821160113
   Mac osx Mountain Lion 10.8
   iPhone4s 5.0.1
   iPad3 4G 5.1.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-8418.json">JSON Source</a></p>