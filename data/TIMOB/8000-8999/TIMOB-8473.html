---
title: "[TIMOB-8473] iOS: Pinch event doesn't update correctly the zoomScale property of the ScrollView"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2013-04-04T04:26:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.0.1, Release 2.0.0, Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.0.2</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api</td></tr>
<tr><th>Reporter</th><td>Roger Mabillard</td></tr>
<tr><th>Assignee</th><td>jithinpv</td></tr>
<tr><th>Created</th><td>2012-02-09T02:01:07.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-23T21:12:47.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>
When you pinch & zoom the image, the scale value prints correctly after the scale event, but if you then double tap the image, it does not use that new scale value we just zoomed to, but the old scale value that was there just before the pinch event.

<h4>Reproduction steps</h4>
1. Run code below
2. Pinch & zoom the image
3. Double tap
4. Noticed at the console it does not use that new scale value we just zoomed to, but the old scale value that was there just before the pinch event.

<h4>Tested on</h4>
iOS simulator 5

<h4>Repro sequence</h4>
<code><pre>

Titanium.UI.setBackgroundColor('#fff');

var win = Titanium.UI.createWindow({  
    backgroundColor:'#fff'
});


var image = 'wallpaper.jpg';

var ratio = 1.0;

var imageScrollView = Ti.UI.createScrollView({
	maxZoomScale:4.0,
	minZoomScale:1.0,
	top:0,
	width:320,
	height:480,
	showVerticalScrollIndicator:true,
    showHorizontalScrollIndicator:true,
    contentWidth: image.width,
	contentHeight: image.height,
	zoomScale:ratio
});

var imageView = Ti.UI.createImageView({
	image:image,
	width:320,
	height:480
});

imageScrollView.add(imageView);

imageView.addEventListener('doubletap', function(e) {
	
	Ti.API.info('doubletap detected.');
	Ti.API.info('zoomScale is ' + imageScrollView.zoomScale);
	
	if (imageScrollView.zoomScale &lt; 4.0) {
		imageScrollView.zoomScale *= 2.0;
	}
	
	else {
		imageScrollView.zoomScale = ratio;
	}
	
});

imageScrollView.addEventListener('scale', function(e) {
	Ti.API.info('new imageScrollView zoomScale is ' + e.scale);
});

win.add(imageScrollView);

win.open();
</pre></code>

<h4>Here is an example from the console:</h4>
{noformat}
[INFO] Application started
[INFO] ScrollView-zoomScale/1.0 (1.8.0.1.fbdc96f)
[INFO] new imageScrollView zoomScale is 1
[INFO] new imageScrollView zoomScale is 2.464661121368408
[INFO] doubletap detected.
[INFO] zoomScale is 1
[INFO] new imageScrollView zoomScale is 2
{noformat}

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-8473_25685/ScrollView-zoomScale.zip">ScrollView-zoomScale.zip</td></td><td>2012-02-09T02:01:07.000+0000</td><td>2635885</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-8473_26760/wallpaper.jpg">wallpaper.jpg</td></td><td>2012-03-31T22:14:16.000+0000</td><td>340441</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>jithinpv 2013-04-04

   Issue does not reproduces 
   
   Tested with
   
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK version: 3.1.0 
   Titanium SDK version: 3.0.2 
   iOS iPhone Simulator: iOS SDK version: 6.0
   
   
   console:
   [INFO] :   new imageScrollView zoomScale is 1
   [INFO] :   new imageScrollView zoomScale is 1.0424460172653198
   [INFO] :   doubletap detected.
   [INFO] :   zoomScale is 1.0424460172653198
   [INFO] :   new imageScrollView zoomScale is 2.0848920345306396
   [INFO] :   new imageScrollView zoomScale is 2.5215344429016113
   [INFO] :   doubletap detected.
   [INFO] :   zoomScale is 2.5215344429016113
   [INFO] :   new imageScrollView zoomScale is 4	
   </li>
<li>Lee Morris 2017-03-23

   Can verify this ticket as "Cannot Reproduce". Tested with the following environment;
   iPhone 7 and Simulator (10.2)
   MacOS 10.11.6 (15G31)
   Studio 4.8.1.201612050850
   Ti SDK 6.0.3 GA
   Appc NPM 4.2.8
   Appc CLI 6.1.0
   Ti CLI 5.0.11
   Alloy 1.9.5
   Arrow 1.10.1
   Xcode 8.2 (8C38)
   Node v4.6.0
   Java 1.7.0_80</li>
</ol>


<p><a href="/TIMOB/TIMOB-8473.json">JSON Source</a></p>