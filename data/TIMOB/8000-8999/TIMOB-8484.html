---
title: "[TIMOB-8484] iOS: Ti.UI.Window not restoring correctly after a youtube-in-app view exits"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-04-13T17:39:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-08</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam, api, qe-port</td></tr>
<tr><th>Reporter</th><td>Junaid Younus</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-04-02T09:14:18.000+0000</td></tr>
<tr><th>Updated</th><td>2012-08-14T16:21:45.000+0000</td></tr>
</table>

<h3>Description</h3>

*Code*
<a href="http://pastebin.com/NXYbpfRH" rel="nofollow" target="_blank">http://pastebin.com/NXYbpfRH</a>

*Expected behavior*
When you run the app, watch the YouTube video, it should return without messing up any UI.

*Actual behavior*
Once the video has finished, it actually shows the status bar overlapping the window.

*Steps to reproduce*
1) Click "Watch YouTube Video"
2) Click on webview to play Youtube video while holding device in PORTRAIT orientation
3) While video is loading, turn device to LANDSCAPE. You will notice that status bar moves to the PORTRAIT orientation.
4) While video is playing in LANDSCAPE, return device to PORTRAIT orientation (you will notice that statusbar is in proper position).
5) Return device to LANDSCAPE orientation, and end video by clicking "Done".
6) The Youtube player will close and the window will reopen with window's navbar underneath the status bar.

*Notes*
-Only happens on a device, I tried with an iPhone 3GS running 5.0.1.
-HD ticket: <a href="http://support-admin.appcelerator.com/display/APP-333237" rel="nofollow" target="_blank">http://support-admin.appcelerator.com/display/APP-333237</a>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2012-04-12

   Pull pending <a href="https://github.com/appcelerator/titanium_mobile/pull/1991" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/1991</a></li>
<li>Blain Hamon 2012-04-13

   Code above is
   <code><pre>
   // this sets the background color of the master UIView (when there are no windows/tab groups on it)
   Titanium.UI.setBackgroundColor('#000');
   
   // create tab group
   var tabGroup = Titanium.UI.createTabGroup();
   tabGroup.orientationModes = [Titanium.UI.PORTRAIT];
   
   //
   // create base UI tab and root window
   //
   
   var win2 = Titanium.UI.createWindow({ title:'Tab 2', backgroundColor:'#fff' });
   var button2 = Ti.UI.createButton({ title:'Watch YouTube Video', height:40 });
   button2.addEventListener('click', function() {
   var win3 = Titanium.UI.createWindow({ title:'YouTube', backgroundColor:'#CCC' });
   var url = '<a href="http://www.youtube.com/watch?v=6b4ZZQkcNEo" rel="nofollow" target="_blank">http://www.youtube.com/watch?v=6b4ZZQkcNEo</a>';
   var html = '<html>' + 
   '<head><style type"text/css"> * { margin:0; padding:0; }</style></head>' +
   '<body>' +
   '<center>' +
   '<object width="320" height="240">' +
   '<param name="movie" value="' + url + '&autoplay=1&rel=0&hl=en_US&fs=1&"></param>' +
   '<param name="allowFullScreen" value="true"></param>' +
   '<param name="allowscriptaccess" value="always"></param>' +
   '<embed src="' + url + '&autoplay=1&rel=0&hl=en_US&fs=1&" type="application/x-shockwave-flash"' +
   'allowscriptaccess="always" allowfullscreen="true" width="320" height="240"></embed></object>' +
   '</center>' +
   '</body>' + 
   '</html>';
   var webview = Ti.UI.createWebView({ top: 0, left: 0, fullscreen:true, html: html, height:240, width:320 });
   win3.add(webview);
   
   // win3.addEventListener('focus', function() { // webview.html = html; // webview.height = 240; // webview.width = 320; // });
   tabGroup.activeTab.open(win3);
   });
   win2.add(button2);
   
   //
   // create tabs
   //
   var tab2 = Titanium.UI.createTab({ icon:'KS_nav_ui.png', title:'Tab 2', window:win2 });
   
   //
   // add tabs
   // 
   tabGroup.addTab(tab2);
   
   // open tab group
   tabGroup.open();
   </pre></code></li>
<li>Blain Hamon 2012-04-13

   Pull merged</li>
<li>Olga Romero 2012-08-14

   Verified fix with:
   Titanium Studio, build: 2.1.1.201207271312
   Titanium SDK: 2.2.0.v20120813184911
   Devices:
   iPhone 4s 5.0.1
   iPad1 5.1.1
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-8484.json">JSON Source</a></p>