---
title: "[TIMOB-8551] iOS: XML: ownerDocument property is null for created nodes"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-08-01T22:38:19.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.0.2, Release 2.1.0, Sprint 2012-09 API</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, module_xml, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Jeff English</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-04-05T11:21:18.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-10T06:03:26.000+0000</td></tr>
</table>

<h3>Description</h3>

Attempting to access the 'ownerDocument' property of a created node (e.g. createElement, createElementNS) returns null rather than a valid document node.

When pulling in other open-source javascript libraries for various projects, some of them rely on the ownerDocument field, especially when creating new documents.

To reproduce, add the following code to an application and run:

<code><pre>
var doc = Ti.XML.parseString('<?xml version="1.0"?><root><test>data</test></root>');

// The following retrieves the first node. The owner document will be valid and correct
var e1 = doc.firstChild;
var o1 = e1.ownerDocument;

// The following creates a new node. The owner document will be null
var e2 = doc.createElement("test");
var o2 = e2.ownerDocument;
</pre></code>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2012-04-23

   Test code
   <code><pre>
   
   	var doc = Ti.XML.parseString('<?xml version="1.0"?><root><test>data</test></root>');
   	 
   	// The following retrieves the first node. The owner document will be valid and correct
   	var e1 = doc.firstChild;
   	 
   	// The following creates a new node. The owner document will be null
   	var e2 = doc.createElement("test");
   	
   	if (e1.ownerDocument == e2.ownerDocument)
   	{
   		Ti.API.info("Documents match PASS");	
   	}
   	else
   	{
   		Ti.API.info("Documents mismatch FAIL");
   	}
   
   </pre></code></li>
<li>Vishal Duggal 2012-04-23

   Pull pending <a href="https://github.com/appcelerator/titanium_mobile/pull/2049" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2049</a></li>
<li>Natalie Huynh 2012-05-18

   Tested with 2.0.2.v20120517141652 on iPhone 4s 5.1</li>
<li>Shyam Bhadauria 2012-08-01

   Re-opening to edit label</li>
<li>Shameer Jan 2013-12-10

   Anvil testcase PR <a href="https://github.com/appcelerator/titanium_mobile/pull/5039" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5039</a>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-8551.json">JSON Source</a></p>