---
title: "[TIMOB-8621] Android: Error creating Module projects with new installation of SDK r18 and Google APIs r8"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-04-10T16:05:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Release 2.0.1, Sprint 2012-08</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>core, qe-and040912</td></tr>
<tr><th>Reporter</th><td>Dustin Hyde</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2012-04-04T11:11:48.000+0000</td></tr>
<tr><th>Updated</th><td>2013-05-28T18:56:13.000+0000</td></tr>
</table>

<h3>Description</h3>

When creating an Android module project, the process ends in error:
<code><pre>
[ERROR] Couldn't find the Google APIs r8 add-on directory
</pre></code>

1. Create a new module project using titanium, for example:
<code><pre>
dhydeMBPSnowLeopard:~ dhyde$ "/usr/bin/python" "/Library/Application Support/Titanium/mobilesdk/osx/2.0.1.v20120407201726/titanium.py" "create" "--type=module" "--id=com.appcelerator.mymodule" "--name=MyModule" "--dir=/var/folders/Jt/Jte2czQvFoaxMh25z-WDKE+++TM/-Tmp-/module_temp8018343781039291630.tmp" "--platform=android" "--sdk=/Users/dhyde/Documents/android/android-sdk-macosx"
</pre></code>

Expected Result:
Module project should be created.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-8621_26824/Android Module Creation Error Log.txt">Android Module Creation Error Log.txt</td></td><td>2012-04-04T11:11:48.000+0000</td><td>23836</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-8621_26825/Android Module Error.png">Android Module Error.png</td></td><td>2012-04-04T11:11:48.000+0000</td><td>91823</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-8621_26921/detailed log.txt">detailed log.txt</td></td><td>2012-04-09T09:43:25.000+0000</td><td>13363</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ingo Muschenetz 2012-04-08

   For those experiencing the issue, plea update to the latest RC version from preview.appcelerator.com and retry. This should give us more information about what is causing the issue.</li>
<li>Ingo Muschenetz 2012-04-09

   To all...please try the following:
   
   <h4>Open up Preferences > Studio > Troubleshooting and enable "All" debugging on specific component com.aptana.core/debug/shell</h4>
   <h4>Run the module creation wizard for Android. Check the log file. You'll see the exact command it used to run it. Try running that yourself on the command line. Does it work?</h4>
   <h4>If you run the process inside Studio, does that end folder get created?</h4></li>
<li>Dustin Hyde 2012-04-09

   Attaching detailed log from Ingo's steps.
   
   The exact command run from the command line fails:
   
   <code><pre>
   dhydeMBPSnowLeopard:~ dhyde$ "/usr/bin/python" "/Library/Application Support/Titanium/mobilesdk/osx/2.0.1.v20120407201726/titanium.py" "create" "--type=module" "--id=com.appcelerator.mymodule" "--name=MyModule" "--dir=/var/folders/Jt/Jte2czQvFoaxMh25z-WDKE+++TM/-Tmp-/module_temp8018343781039291630.tmp" "--platform=android" "--sdk=/Users/dhyde/Documents/android/android-sdk-macosx"
   [ERROR] Couldn't find the Google APIs r8 add-on directory
   Aborting
   </pre></code>
   
   The module folder is created, but is empty.
   
   Note: Google API r8 is installed on my machine.</li>
<li>Ingo Muschenetz 2012-04-09

   To replicate, wipe your android ADK folder and install version r17. You will then get the same error Dustin reports.
   
   To fix, add the following lines into androidsdk.py @ line 102:
   
   <code><pre>
   if self.google_apis_dir is None:
   	self.google_apis_dir = self.find_dir(self.api_level, os.path.join('add-ons', 'addon-google_apis-google-'))
   </pre></code>
   </li>
<li>Ingo Muschenetz 2012-04-09

   I believe this is probably a blocker as other users will run into this issue with other things that reference the add-ons folder. Note that we use a regex in Studio for parsing for these modules--it might be easier. We use "addon.+google.+apis.+8".</li>
<li>Allen Yeung 2012-04-09

   To test: 
   1. Install Google API r8 and also install the sdk addons accordingly.  
   2. Inside the addons directory of your android sdk, you verify there is an addon named "addon-google_apis-google-8"
   3. Launch Studio, and make sure you are using the r8 sdk inside preferences > Titanium Studio > Titanium
   4. Create a new Mobile Module Project
   
   The module should create without any errors.</li>
<li>Dustin Hyde 2012-04-10

   Closing as Fixed.
   
   SDK: 2.0.1.v20120410103239, 2.1.0.v20120410105657
   Android: V8
   Studio: 2.0.1.201204061639
   OS: Snow Leopard, Windows 7
   Devices Tested: Nexus S 4.0.4
   
   Able to create, build, and run module in app.</li>
<li>Dustin Hyde 2012-04-10

   Opening to edit labels.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8621.json">JSON Source</a></p>