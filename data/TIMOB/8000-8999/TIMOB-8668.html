---
title: "[TIMOB-8668] iPhone: OptionDialog has wrong rotation if displayed within a Modal Window and landscape orientation"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-05-01T15:49:24.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-09 API</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, module_optiondialog, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Markus Krug</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2012-04-10T13:19:24.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-12T13:34:08.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

I think I found a bug in the OptionDialog. If one rotates an app to landscape, then opens a ModalWindow and there an OptionDialog. The OptionDialog is displayed centered and in portrait mode instead of landscape.

<h4>Test case</h4>

<code><pre>
var win1 = Ti.UI.createWindow({orientationModes:[Titanium.UI.PORTRAIT, 
		Titanium.UI.UPSIDE_PORTRAIT, 
		Titanium.UI.LANDSCAPE_LEFT, 
		Titanium.UI.LANDSCAPE_RIGHT,]});
win1.open();
 
setTimeout(function() {
 
    var win    = Ti.UI.createWindow({title: 'MyApp'});
    var button = Ti.UI.createButton({title: 'open'});
 
    win.open({modal: true});
    win.add(button);
 
    button.addEventListener('click', function () {
 
        var dialog = Ti.UI.createOptionDialog({title: 'test', options: ['1', '2', '3']});
        dialog.show();
    });
 
}, 5000);
</pre></code>

I just set a timeout cause you need a few seconds to rotate the device. All orientations are allowed in <code>tiapp.xml</code>

<h4>Steps to reproduce:</h4>

* Open app and rotate the iPhone or Simulator to landscape (cmd + left/right) while the window is black.
* After 5 seconds it'll open a Modal Window with white background and a button.
* Open the OptionDialog by pressing the 'open' Button.

<h4>Result:</h4>

The option dialog is centered and not correct displayed. See attached image.

<h4>Community Discussion</h4>

Q&A [iPhone: OptionDialog has wrong rotation if displayed within a Modal Window and landscape orientation](<a href="http://developer.appcelerator.com/question/134792/iphone-optiondialog-has-wrong-rotation-if-displayed-within-a-modal-window-and-landscape-orientation)" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/134792/iphone-optiondialog-has-wrong-rotation-if-displayed-within-a-modal-window-and-landscape-orientation)</a>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-8668_26964/screenshot215d.png">screenshot215d.png</td></td><td>2012-04-10T13:19:24.000+0000</td><td>13533</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Sabil Rahim 2012-04-30

   adding orientationModes to the window correct the sample code</li>
<li>Sabil Rahim 2012-04-30

   adding orientationModes to the window to correct the sample code</li>
<li>Vishal Duggal 2012-04-30

   Pull pending <a href="https://github.com/appcelerator/titanium_mobile/pull/2104" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2104</a></li>
<li>Blain Hamon 2012-05-01

   Pull merged.</li>
<li>Tamila Smolich 2012-06-26

   Closing as fixed. Tested and verified with:
   Titanium Studio, build: 2.1.0.201206251749
   Titanium SDK: 2.1.0.v20120626104306
   Device: iPhone 4S (5.0.1), iPhone simulator</li>
</ol>


<p><a href="/TIMOB/TIMOB-8668.json">JSON Source</a></p>