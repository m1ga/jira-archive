---
title: "[TIMOB-8720] iOS: iPad - TableView: Soft keyboard disappears and last text field losses its focus after rotating device to landscape mode"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-05-15T13:35:53.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-10 API</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, module_tableview, qe-ios040912, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Tamila Smolich</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-04-13T11:31:37.000+0000</td></tr>
<tr><th>Updated</th><td>2013-08-30T10:11:01.000+0000</td></tr>
</table>

<h3>Description</h3>

Description:
Soft keyboard disappears and last text field losses its focus after rotating device to landscape mode.
This bug does not occur on 2.0.0, but exists on 1.8.2

Steps:
1. Run the following code on iPad:
<code><pre>
var win = Ti.UI.createWindow({ title: 'Focus Test', backgroundColor: '#fff' });
 
var rows = [];
for (var i = 0; i &lt; 20; i++) {
    var row = Ti.UI.createTableViewRow({
        height: 40
    });
    row.add(row.textField = Titanium.UI.createTextField({
        value: 'Last row focused; Scroll up, and then try to scroll back down.',
        color: '#000',
        top: 5, right: 10, bottom: 5, left: 10,
        borderStyle: Titanium.UI.INPUT_BORDERSTYLE_ROUNDED
    }));
    rows.push(row);
}
 
win.add(Ti.UI.createTableView({
    data: rows
}));
 
win.addEventListener('open', function() {
    rows[rows.length - 1].textField.focus();
});
 
win.open();
</pre></code>
2. Rotate device to landscape mode

Expected result:
Soft keyboard should not disappear and last row should stay focusable

Actual result:
Soft keyboard disappears and last row losses its focus

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-8720_27677/IMG_0005.PNG">IMG_0005.PNG</td></td><td>2012-05-14T11:28:14.000+0000</td><td>164940</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2012-05-11

   Pull pending <a href="https://github.com/appcelerator/titanium_mobile/pull/2177" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2177</a></li>
<li>Vishal Duggal 2012-05-11

   Test code you can run on iPhone,iPAD
   <code><pre>
   var win = Ti.UI.createWindow({ 
   	title: 'Focus Test', 
   	backgroundColor: '#fff',
   	orientationModes:[Ti.UI.PORTRAIT,Ti.UI.LANDSCAPE_LEFT,Ti.UI.LANDSCAPE_RIGHT,Ti.UI.UPSIDE_PORTRAIT]
   });
     
   var rows = [];
   for (var i = 0; i &lt; 40; i++) {
       var row = Ti.UI.createTableViewRow({
           height: 40
       });
       row.add(row.textField = Titanium.UI.createTextField({
           value: 'This is row .'+i,
           color: '#000',
           top: 5, right: 10, bottom: 5, left: 10,
           borderStyle: Titanium.UI.INPUT_BORDERSTYLE_ROUNDED
       }));
       rows.push(row);
   }
     
   win.add(Ti.UI.createTableView({
       data: rows
   }));
     
   win.addEventListener('open', function() {
       rows[rows.length - 1].textField.focus();
   });
     
   win.open();
   </pre></code></li>
<li>Stephen Tramer 2012-05-14

   Issue introduced by PR: *Keyboard floats*
   
   1. Rotate into landscape
   2. Rotate back into portrait
   3. Repeat 1 & 2 (possibly rotating into other orientations along the way)
   
   Speed of rotations may play a role.
   
   OR
   
   1. Sometimes in evidence on app startup (iPad 1, 5.0.1)</li>
<li>Vishal Duggal 2012-05-15

   The issue mentioned above is because the keyboard gets undocked while fast ui switching. Race condition between the keyboard animation and the manual rotation animation. Too much of our code depends on manual rotation so not much we can do right now without risking a whole bunch of regressions. Need to revisit our orientation management system post 2.1.0</li>
<li>Tamila Smolich 2012-06-14

   Closing bug as fixed.
   Tested and verified on:
   Titanium Studio, build: 2.1.0.201206131907
   Titanium SDK: 2.1.0.v20120613210250</li>
</ol>


<p><a href="/TIMOB/TIMOB-8720.json">JSON Source</a></p>