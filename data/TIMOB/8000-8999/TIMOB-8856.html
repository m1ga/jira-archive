---
title: "[TIMOB-8856] Android: Map Annotations - Multiple map annotations throws a NPE"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2012-05-29T16:14:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.2, Release 2.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, parity</td></tr>
<tr><th>Reporter</th><td>Wilson Luu</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-04-20T16:54:37.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-10T18:56:28.000+0000</td></tr>
</table>

<h3>Description</h3>

Description: Was investigating TIMOB-7977 (an iOS bug). For parity, I decided to check if code from TIMOB-7977 will work on Android devices.

Steps to reproduce:
1. Launch app in T15417.zip

Actual: App does not launch. I get a NPE in logcat instead. See attachment.
Expected: App should launch with 4 annotations. See iOS attachment.

Note: This bug is *not* a regression. Bug still occurs in 2.0.1.GA2.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-8856_27332/AnnotationImage1.jpg">AnnotationImage1.jpg</td></td><td>2012-04-20T16:54:37.000+0000</td><td>56013</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-8856_27330/logcat.txt">logcat.txt</td></td><td>2012-04-20T16:54:37.000+0000</td><td>9684</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-8856_27331/T15417.zip">T15417.zip</td></td><td>2012-04-20T16:54:37.000+0000</td><td>3685521</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2012-05-29

   This is a native Android bug for 2.2. Creation of URI given certain String causes a NPE. Marking as Won't Fix. For future reference, here's a simpler test code that I used: 
   <code><pre>
   Titanium.UI.setBackgroundColor('#000');
   
   // create tab group
   var tabGroup = Titanium.UI.createTabGroup();
   
   
   var mountainView1 = Titanium.Map.createAnnotation({
       latitude:37.390749,
       longitude:-122.081651,
       // title:"Appcelerator Headquarters",
       subtitle:'Mountain View, CA',
       image:'map_pin.png',
       animate:true,
       leftButton: '../images/appcelerator_small.png',
       //myid:1 // Custom property to uniquely identify this annotation.
   });
   
   
   var arr = [mountainView1];
   
   var mapview = Titanium.Map.createView({
       mapType: Titanium.Map.STANDARD_TYPE,
       region: {latitude:37.375749, longitude:-122.066651, 
               latitudeDelta:0.01, longitudeDelta:0.01},
       animate:true,
       regionFit:true,
       userLocation:true,
       annotations:arr
   });
   
   
   
   //
   // create base UI tab and root window
   //
   var win1 = Titanium.UI.createWindow({  
       title:'Tab 1',
       backgroundColor:'#fff'
   });
   var tab1 = Titanium.UI.createTab({  
       icon:'KS_nav_views.png',
       title:'Tab 1',
       window:win1
   });
   
   win1.add(mapview);
   
   //
   // create controls tab and root window
   //
   var win2 = Titanium.UI.createWindow({  
       title:'Tab 2',
       backgroundColor:'#fff'
   });
   var tab2 = Titanium.UI.createTab({  
       icon:'KS_nav_ui.png',
       title:'Tab 2',
       window:win2
   });
   
   
   
   //
   //  add tabs
   //
   tabGroup.addTab(tab1);  
   tabGroup.addTab(tab2);  
   
   
   // open tab group
   tabGroup.open();
   
   </pre></code>
   </li>
<li>Lee Morris 2017-03-10

   Closing ticket as the issue will not fix.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8856.json">JSON Source</a></p>