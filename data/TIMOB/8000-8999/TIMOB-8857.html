---
title: "[TIMOB-8857] iOS: Destroying a parent object (setting it to null) it won't destroy any child objects"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-04-27T16:28:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam, core</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2012-04-23T08:08:06.000+0000</td></tr>
<tr><th>Updated</th><td>2012-04-30T09:34:35.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>
"Destroying a parent object (setting it to null) will destroy any child objects as long as no other references to those child objects exist. Consider the following code snippet to get a feel for the specifics:"

<h4>Tested on</h4>
iOS 5 simulator

<h4>Test Case 1</h4>

<code><pre>
var win = Titanium.UI.createWindow({
	title: 'Main',
	exitOnClose: true,
	fullscreen: false,
	navBarHidden: false,
	backgroundColor: 'gray'
});

var button = Ti.UI.createButton({
    // parameters go here...
    title: 'deletes the view and its proxy,\nbut not the button!',
    backgroundColor: 'red'
});
var view = Ti.UI.createView({
    // some parameters here...
   borderRadius:10,
   top: 15
});
view.add(button);
win.add(view); 
win.addEventListener('click', function(){
	// ... later
	win.remove(view);  // view & button still exist
	view = null; //deletes the view and its proxy, but not the button!
});

win.open();
</pre></code>


<h4>So Having button set to null do get released (as seen in Instruments).</h4>


<h4>Test Case 2</h4>

<code><pre>
var win = Titanium.UI.createWindow({
	title: 'Main',
	exitOnClose: true,
	fullscreen: false,
	navBarHidden: false,
	backgroundColor: 'gray'
});

var button = Ti.UI.createButton({
    // parameters go here...
    title: 'deletes the view and its proxy,\nbut not the button!',
    backgroundColor: 'red'
});
var view = Ti.UI.createView({
    // some parameters here...
   borderRadius:10,
   top: 15
});
view.add(button);
win.add(view); 
win.addEventListener('click', function(){
	// ... later
	win.remove(view);  // view & button still exist
	view = null; // deletes the view and its proxy, but not the button!
	button = null;//do get released
});

win.open();
</pre></code>

<h4>Additional info</h4>
Test results and its corresponding screenshots:

TestCase 1 - Button not being set > InstrumentsProxies_2.1.0_TestCase1_a.jpg
TestCase 1 - Button set to null > InstrumentsProxies_2.1.0_TestCase1_b.jpg

TestCase 2 - Button not being set > InstrumentsProxies_2.1.0_TestCase2_a.jpg
TestCase 2 - Button set to null > InstrumentsProxies_2.1.0_TestCase2_b.jpg

<h4>Wiki Link</h4>
<a href="https://wiki.appcelerator.org/display/guides/Managing+Memory+and+Finding+Leaks#ManagingMemoryandFindingLeaks-WhenTitaniumreleasesmemory" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/Managing+Memory+and+Finding+Leaks#ManagingMemoryandFindingLeaks-WhenTitaniumreleasesmemory</a>


<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-8857_27336/InstrumentsProxies_2.1.0_TestCase1_a.jpg">InstrumentsProxies_2.1.0_TestCase1_a.jpg</td></td><td>2012-04-23T08:13:32.000+0000</td><td>107170</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-8857_27337/InstrumentsProxies_2.1.0_TestCase1_b.jpg">InstrumentsProxies_2.1.0_TestCase1_b.jpg</td></td><td>2012-04-23T08:13:32.000+0000</td><td>97060</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-8857_27338/InstrumentsProxies_2.1.0_TestCase2_a.jpg">InstrumentsProxies_2.1.0_TestCase2_a.jpg</td></td><td>2012-04-23T08:13:32.000+0000</td><td>109796</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-8857_27339/InstrumentsProxies_2.1.0_TestCase2_b.jpg">InstrumentsProxies_2.1.0_TestCase2_b.jpg</td></td><td>2012-04-23T08:13:32.000+0000</td><td>107590</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2012-04-27

   Test case 1. is invalid. The button should still exist because there is still a reference to it; <code>var button</code>.</li>
<li>Stephen Tramer 2012-04-27

   Test case is invalid. The button is managed correctly because it still has a reference.</li>
<li>Eduardo Gomez 2012-04-27

   @Stephen Does that mean nulling that proxy should be done explicitly? i.e. button = null; </li>
<li>Stephen Tramer 2012-04-27

   Yes. Please do not reopen tickets to ask a question.</li>
<li>Stephen Tramer 2012-04-30

   Closing issue; requires no further validation. Please see Opie's description on the companion Android ticket for any more specific details.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8857.json">JSON Source</a></p>