---
title: "[TIMOB-8900] Android: HTTP request causes intermittent "Connection reset by peer" error"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Needs more info</td></tr>
<tr><th>Resolution Date</th><td>2012-07-30T10:16:46.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api</td></tr>
<tr><th>Reporter</th><td>Eric Cheng</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-04-26T16:23:16.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-23T21:44:27.000+0000</td></tr>
</table>

<h3>Description</h3>



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-8900_27431/Connection_error.jpeg">Connection_error.jpeg</td></td><td>2012-04-26T17:03:08.000+0000</td><td>196114</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Eric Cheng 2012-04-26

   updating image.</li>
<li>John V Pataki 2012-05-04

   The description of the problem is accurate.
   
   I spoke with the customer today on this issue and there is not really a single series of steps that makes this happen. It can be at any time during server communications. The server is not logging any network connection issues so there is nothing useful from the server side. The app's http connection just seems to get dropped.
   
   </li>
<li>Hieu Pham 2012-05-29

   The code link gave me a 404 error. Please update the link.</li>
<li>Cindy Kao 2012-06-18

   This issue still needs to be looked at.  The platform still throws Connection Reset By Peer errors that need to be fixed.  Please let me know which link doesn't work.  I have tested all links and I don't get any 404 errors.</li>
<li>Hieu Pham 2012-06-26

   The link is now working, but the app is not working with 2.1.0. Some of the modules are missing and tiApp.xml is out of date. Please update the app and/or provide a code sample. The code sample provided isn't working. This issue will be put on hold until then.</li>
<li>Thomas Huelbert 2012-07-23

   Dev can't take action till we get working sample code, please provide.</li>
<li>John V Pataki 2012-08-27

   We are still waiting on a fix here for this.
   
   We had put a work around in place, where we just queue the call when this occurs and we keep retrying until it finally works. The problem is now more severe on 4G vs Wifi and the work around is not sufficient.
   
   We need this to be resolved so that the connection stops getting dropped by Titanium.</li>
<li>John V Pataki 2012-08-27

   All modules required to make the app that is linked to this JIRA ticket work on zipped up and in the module-zips folder in the repo</li>
<li>Kevin Purnelle 2013-02-21

   I encounter this problem too. I have a javascript "class" that acts as a model. One of its methods is there to fetch data from the server,
   in the data there are images url that might trigger other http request when assigned to an imageview. Sorry I can't say more without providing the whole app. Any clue? was this resolved actually?
   This is the code, pretty common I suppose:
   
   
   myClass.prototype.loadData = function(ressourceId){
   
   	var that = this;
   
   	if (this.id == ressourceId) {
              //...todo
   	}
   
   	else {
   
   		this.resetAndClean()
   		this.id = ressourceId
   
   		var xhr = Ti.Network.createHTTPClient({
   
   			onload: function(e) {
   
   				var myData = JSON.parse(this.responseText);
                                   //do something with the data but removed for nda
   				
   			},
   
   			onerror: function(e) {
   
   				alert(e.error)
   			},
   			timeout:5000
   		});
   
   		xhr.open("GET", Alloy.globals.Config.apiURL + this.id);
   		xhr.send();
   	}
   }</li>
<li>Lee Morris 2017-03-23

    Closing ticket because the information that was requested was never provided.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8900.json">JSON Source</a></p>