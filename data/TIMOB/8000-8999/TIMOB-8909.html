---
title: "[TIMOB-8909] iOS: Ti.UI.View.children is not the empty array when no children are present"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-08-09T03:29:44.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-09 Core</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>core, module_views, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Stephen Tramer</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2012-04-27T17:50:21.000+0000</td></tr>
<tr><th>Updated</th><td>2012-08-13T11:26:03.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently, Android (and presumably mobileweb) return the empty array <code>\[\]</code> for <code>Ti.UI.View.children</code> when the view has no children. On iOS, we return <code>undefined</code>. Complicating matters is the fact that internally, we rely on this value for views with no children; this ticket could involve a substantial amount of work to ensure that no subsystems which rely on checking children content are affected.

<h4>Testing</h4>
----

Run the following test; it should not contain errors, but will only work after [pull request 2098](<a href="https://github.com/appcelerator/titanium_mobile/pull/2098)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2098)</a> is processed.

<code><pre>
var win = Ti.UI.createWindow();
 
function construct() {
    for (var i=0; i < 30; i++) {
        for (var j=0; j < 30; j++) {
            var bgcolor;
            switch (i % 3) {
                case 0:
                    bgcolor = 'red';
                    break;
                case 1:
                    bgcolor = 'blue';
                    break;
                case 2:
                    bgcolor = 'green';
                    break;
            }
            var view = Ti.UI.createView({
                top:(j*10),
                left:(i*10),
                width:10,
                height:10,
                backgroundColor:bgcolor
            });
            win.add(view);
            Ti.API.info('A '+win.children.length);
        }
    }
    setTimeout(destruct, 3000);
}
 
function destruct() {
	if (win.children.length > 0) 
    {
        Ti.API.info('B '+win.children.length);
        //Remove is a non blocking call so do it in a timed loop
        win.remove(win.children[0]);
        setTimeout(destruct,10);
    }
    else
    {
		setTimeout(construct, 3000);
    }
}

win.addEventListener('open',function(e){
	construct();
});

win.open();

</pre></code>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2012-04-27

   Only depends on for testing.</li>
<li>Vishal Duggal 2012-05-03

   Fixed by PR 2112</li>
<li>Michael Pettiford 2012-06-14

   Closing issue
   
   Tested with Ti Studio build 2.1.0.201206131907
   Ti Mobile SDK 2.1.0.v20120613210250 hash rc8ddb29e
   OSX Lion 10.7.3
   iPhone 4S OS 5.1
   
   The array is returned empty when there are not children.
   
   *QE port note* Move the info statement from the if statement in the destruct function to the else block</li>
<li>Shyam Bhadauria 2012-08-09

   Re-opening to edit label</li>
</ol>


<p><a href="/TIMOB/TIMOB-8909.json">JSON Source</a></p>