---
title: "[TIMOB-8930] MobileWeb: Ti.UI.View.rect not updated after animation"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2017-06-26T22:23:39.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>MobileWeb</td></tr>
<tr><th>Labels</th><td>parity</td></tr>
<tr><th>Reporter</th><td>Arthur Evans</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-04-30T16:22:15.000+0000</td></tr>
<tr><th>Updated</th><td>2018-04-04T23:20:33.000+0000</td></tr>
</table>

<h3>Description</h3>

See code sample in related bug.

When a view's position is changed using an animation, the <code>rect</code> property is not updated.

If this is unavoidable, it will need to be noted in the docs because it doesn't match the other platforms. 

<h3>Comments</h3>

<ol>
<li>Arthur Evans 2012-04-30

   Adding as known issue in Ti.UI.View API docs. If this gets resolved, docs should be updated.</li>
<li>Andrew Greenstreet 2014-02-24

   Fixed in:
   <a href="https://github.com/appcelerator/titanium_mobile/pull/5375" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5375</a></li>
<li>Ingo Muschenetz 2015-03-13

   Some concerns:
   
   * With MW we support pausing and cancelling animations which iOS and Android do not, so we don't define what should happen to the rect when the animation is paused/cancelled. It is updated when the animation completes.
   * We're concerned about how the code parses the CSS transform settings. This should already be known because it was calculated during the animation.
   </li>
<li>Andrew Greenstreet 2015-03-13

   {quote}
   With MW we support pausing and cancelling animations which iOS and Android do not, so we don't define what should happen to the rect when the animation is paused/cancelled. It is updated when the animation completes.
   {quote}
   
   The problem is the dependency KineticScrollView has on Animate.js. If you stop a KineticScrollView (ScrollView, TableView, etc) via another touch, mid scroll, without having the rect updated, the scrollview will revert to its original position. 
   
   {quote}
   We're concerned about how the code parses the CSS transform settings. This should already be known because it was calculated during the animation.
   {quote}
   
   Again, same issue. If you stop an animation mid-stream, like you can with a KineticScrollView (just touch the view while it is already scrolling), how do you know the position without parsing the CSS? 
   
   I'm of the opinion that KineticScrollViews should not have a dependency on animation.js (via Ti.UI.2DMatrix). Tweening the css translation value via javascript it fine for small items, but leads to very poor performance on larger lists. KineticScrollView has quite a few issues including performance, and momentum (deceleration). I'm not sure what the policy is on using 3rd party libraries in TI, but refactoring KSV to use iScroll.js (<a href="http://iscrolljs.com/)" rel="nofollow" target="_blank">http://iscrolljs.com/)</a> would solve a lot of issues and simplify the codebase.
   
   
   </li>
<li>Chris Barber 2015-03-13

   [~andrew@gstreetmedia.com] I looked into iScroll.js a long time ago. I would love to use it. Mobile Web should probably just have a generalized animation engine that can be extended to handle Titanium's specifics.
   
   Honestly, I'd like to re-evaluate Mobile Web's entire layout engine, event system, and animation engine. They were all designed independent of each other and glued together. There's a bunch of places where we have duplicate code and hacks to get them working. Since they're all related, there should just be one engine that handles everything. This is outside the scope of this ticket and is not a priority either. :(
   
   For the sake of this ticket, I'm not sure whether to merge the PR and resolve the ticket or to keep the ticket open until there's time to go in and properly overhaul Mobile Web.</li>
<li>Andrew Greenstreet 2015-03-13

   I agree on all counts. 
   
   Hopefully "mobile web" isn't going to die a slow death. I think its existence is the one thing that truly separates the Titanium from other methods of development. None of the newer players in this space support Web (React, NativeScript, etc.). Without that, at least for me, they are non-starters.
   
   Appcelerator, as an organization may feel differently, but I think the real value proposition in "mobile web" isn't mobile web at all. The fact that you can build a "*desktop web*" app with the same basic code base as the native mobile app, now that is a value proposition. 
   
   I don't have the resources to build a separate web app for desktop users, but with Titanium (plus 100 hacks or so and some jQuery) I do. 
   
   Please let me know if I can help at all.</li>
<li>Lee Morris 2017-06-26

   Resolving as "Won't Fix" as MobileWeb has been deprecated.</li>
<li>Eric Merriman  2018-04-04

   Closing as will not fix.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8930.json">JSON Source</a></p>