---
title: "[TIMOB-8957] Android: hardware keyboard issue with scrollview and testField "
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-05-03T18:23:50.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0, Release 2.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api</td></tr>
<tr><th>Reporter</th><td>Radamantis Torres-Lechuga</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2012-05-02T16:23:38.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-13T18:33:08.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
When the user try to use the hardware keyboard, anytime that the user stroke a key, the textfield get's blurred, 

<h4>Expected behavior</h4>
Use the hardware keyboard to introduce text into the text field with no problems

<h4>Notes</h4>
I'm using a eventlistener to catch anytime the textfield change, if I put a scrollView.scrollToBottom inside the event Listener, the blur event of the textField gets fired, if I comment the scrollToBottom, then, the user can use the hardware keyboard with no problems

<h4>Test case</h4>
<code><pre>
var win = Titanium.UI.createWindow({ backgroundColor:'blue', modal:true, navBarHidden:true});

	var textField = Ti.UI.createTextArea({
			height:60,//hiddenLabel.height,
			left:10,
			right:10,
			autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_SENTENCES,
			top:5,
			isFocused: false
		});
		var scrollView;
		scrollView = Ti.UI.createScrollView({
			left:0,
			top:0,
			right:0,
			contentHeight:'auto',
			backgroundColor: 'green'
		});

		
		textField.addEventListener('focus', function(e)
		{
			Ti.API.info('textField has been focused.');
			textField.isFocused = true;
		});
		textField.addEventListener('blur', function(e)
		{
			Ti.API.info('textField has been blurred.');
			textField.isFocused = false;
		});
		
		textField.addEventListener('change', function(e)
		{
			Ti.API.error('******************************  scrollview to bottom');
			scrollView.scrollToBottom();
			
		});
		
win.add(scrollView);		
win.add(textField);
win.open();

</pre></code>

<h3>Comments</h3>

<ol>
<li>Allen Yeung 2012-05-03

   This seems to be native behavior in android.
   
   <code><pre>
   	private ScrollView sview;
   	
       /** Called when the activity is first created. */
       @Override
       public void onCreate(Bundle savedInstanceState) {
       	super.onCreate(savedInstanceState);
       	RelativeLayout parent = new RelativeLayout(this);
       	sview = new ScrollView(this);
       	MyEditText text = new MyEditText(this);
       	text.setMinimumWidth(200);
   		parent.addView(sview);
   		parent.addView(text);
       	setContentView(parent);
       }
       
      private class MyEditText extends EditText {
   
   	public MyEditText(Context context)
   	{
   		super(context);
   	}
   
   	@Override
   	protected void onTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter)
   	{
   		super.onTextChanged(text, start, lengthBefore, lengthAfter);
   		sview.fullScroll(View.FOCUS_DOWN);
   	}
   </pre></code>
   
   It looks like there is a focus() method on text area, so you may be able to force the textarea to gain focus after it has scrolled to the bottom.</li>
<li>Lee Morris 2017-03-13

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8957.json">JSON Source</a></p>