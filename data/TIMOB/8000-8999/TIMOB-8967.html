---
title: "[TIMOB-8967] iOS: Compiler/Titanium needs to warn if <ios> section of tiapp.xml is malformed"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2020-01-10T18:06:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.1, Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam, cb-tooling, core</td></tr>
<tr><th>Reporter</th><td>Shannon Hicks</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-05-02T17:36:52.000+0000</td></tr>
<tr><th>Updated</th><td>2020-01-10T18:06:48.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
If the <ios> section of tiapp.xml is malformed, compiling completely fails... as in, build.log doesn't even get reset from the previous build, and the Ti Studio log shows nothing. The console outputs this:
<code><pre>
[INFO] One moment, building ...
Traceback (most recent call last):
</pre></code>

<h4>Test case</h4>
Here's a sample of malformed code:
<code><pre>
    &lt;ios&gt;
    	&lt;plist&gt;
			&lt;key&gt;CFBundleDisplayName&lt;/key&gt;
			&lt;string&gt;New Eng Inn&lt;/string&gt;
			&lt;key&gt;UISupportedInterfaceOrientations&lt;/key&gt;
			&lt;array&gt;
				&lt;string&gt;UIInterfaceOrientationPortrait&lt;/string&gt;
				&lt;string&gt;UIInterfaceOrientationPortraitUpsideDown&lt;/string&gt;
			&lt;/array&gt;
    	&lt;/plist&gt;
    &lt;/ios&gt;
</pre></code>

<h3>Comments</h3>

<ol>
<li>jithinpv 2013-04-16

   Issue reproduces 
   
   Tested with
   
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK version: 3.1.0 
   Titanium SDK version: 3.0.2 
   iOS iPhone Simulator: iOS SDK version: 6.0
   </li>
<li>Chris Barber 2016-08-24

   This is still broken in Titanium SDK master 6.1.0.</li>
<li>Hans Kn√∂chel 2017-06-30

   I tried linting it but then noticed it actually goes through (even though the <dict> key is missing), so it looks like they are merged together properly even if they shouldn't. We could explicitely check for the key, like:
   <code><pre>
   if (ios && ios.plist) {
       if (!ios.plist.dict) {
           logger.error(__('Could not parse custom Info.plist keys'));
           process.exit();
       }
       this.mergePlist(ios.plist, plist);
   }
   </pre></code>
   
   Everything else (plist key-structure, missing values) are processed even before, so we may do this validation in the tiappxml.js already.</li>
</ol>


<p><a href="/TIMOB/TIMOB-8967.json">JSON Source</a></p>