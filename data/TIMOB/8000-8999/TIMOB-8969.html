---
title: "[TIMOB-8969] iOS: TIBlob passed to application level event disappears"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Open</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 2.0.1, Release 3.1.0, Release 3.2.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>RTN, api, supportTeam</td></tr>
<tr><th>Reporter</th><td>Nikhil Sharma</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-05-02T18:42:27.000+0000</td></tr>
<tr><th>Updated</th><td>2020-01-09T22:08:43.000+0000</td></tr>
</table>

<h3>Description</h3>

The TIBlob passed to Titanium.Media.openPhotoGallery.success is then passed to an application level event. The issue is that the TIBlob is null when the application level event is received.
<h4>Repro Steps</h4>
1. Run the below code in the app.js
2. Click the Gallery button and select an image from the phone gallery.

<code><pre>
Titanium.UI.setBackgroundColor('#000');

var win = Ti.UI.createWindow({title: 'Camera Test', exitOnClose: true, fullscreen: true, backgroundColor: '#ffffff'});

var bt = Ti.UI.createButton({'title': 'Gallery', top: 10, width: 200, height: 50});
bt.addEventListener('click', function(e) {
    Titanium.Media.openPhotoGallery({
            success:function(event) {   
                if(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO) {
                    alert(event.media);
                    Ti.App.fireEvent('uploadImage', {image: event.media, source: 'gallery'});
                }else {
                    alert('Image was not uploaded because the type was invalid.');
                }
            },
            cancel:function() {
            },
            error:function(err) {
                alert('Error selecting image from gallery: ' + err);
                Ti.API.error(err);
            },
            allowEditing: false,
            autohide: true,
            mediaTypes:[Ti.Media.MEDIA_TYPE_PHOTO]
      });
});

Ti.App.addEventListener('uploadImage', function(e) {
    alert(e.image);
    alert(e.source);
});

win.add(bt);
win.open();

</pre></code>

<h3>Comments</h3>

<ol>
<li>jithinpv 2013-04-16

   Issue reproduces 
   
   Tested with
   
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK version: 3.1.0 
   Titanium SDK version: 3.0.2 
   iOS iPhone Simulator: iOS SDK version: 6.0
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-8969.json">JSON Source</a></p>