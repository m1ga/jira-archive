---
title: "[TIMOB-8979] iOS: Ti.Media.openPhotoGallery's cancel event doesn't trigger on iPad"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-05-10T10:59:48.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.0.2, Release 2.1.0, Sprint 2012-10 API</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam, api, module_media, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Varun Joshi</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2012-05-03T15:23:41.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-11T13:27:20.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Code</h4>

{noformat}

var win = Titanium.UI.createWindow({
    backgroundColor:'white'
});
win.open();

var imageView = Titanium.UI.createImageView({
    height:200,
    width:200,
    top:20,
    left:10,
    backgroundColor:'#999'
});

win.add(imageView);

var popoverView;
var arrowDirection;

if (Titanium.Platform.osname == 'ipad')
{
    // photogallery displays in a popover on the ipad and we
    // want to make it relative to our image with a left arrow
    arrowDirection = Ti.UI.iPad.POPOVER_ARROW_DIRECTION_LEFT;
    popoverView = imageView;
}

Titanium.Media.openPhotoGallery({

    success:function(event)
    {
        var cropRect = event.cropRect;
        var image = event.media;

        // set image view
        Ti.API.debug('Our type was: '+event.mediaType);
        if(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO)
        {
            imageView.image = image;
        }
        else
        {
            // is this necessary?
        }

        Titanium.API.info('PHOTO GALLERY SUCCESS cropRect.x ' + cropRect.x + ' cropRect.y ' + cropRect.y  + ' cropRect.height ' + cropRect.height + ' cropRect.width ' + cropRect.width);

    },
    cancel:function()
    {
        alert('cancelled fired');
    },
    error:function(error)
    {
    },
    allowEditing:true,
    popoverView:popoverView,
    arrowDirection:arrowDirection,
    mediaTypes:[Ti.Media.MEDIA_TYPE_VIDEO,Ti.Media.MEDIA_TYPE_PHOTO]
});

{noformat}

<h4>Expected Behavior</h4>

The alert in cancel event should get fired. 

<h4>Actual Behavior</h4>

This does not work on the iPad simulator but works fine on iPhone simulator




<h3>Comments</h3>

<ol>
<li>Sabil Rahim 2012-05-08

   [Pull pending](<a href="https://github.com/appcelerator/titanium_mobile/pull/2149)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2149)</a></li>
<li>Natalie Huynh 2012-05-15

   Tested with 2.0.2.v20120515140151 on iPad 3 5.1.1</li>
</ol>


<p><a href="/TIMOB/TIMOB-8979.json">JSON Source</a></p>