---
title: "[TIMOB-9100] Android: When trying to remove the contents of a window, the window doesn't have any children"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-08-01T04:42:21.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-13 Core, Release 2.1.1, Release 3.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, core, module_window, parity, qe-testadded, release-note</td></tr>
<tr><th>Reporter</th><td>Mauro Parra-Miranda</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2012-05-10T13:59:44.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-10T06:16:04.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem Description</h4>
In the attempt of creating a function that will remove all the elements inside a view or window, we are getting a different behavior between android and ios, where in android, if you have a window with several attached elements, it will say that there is no children.

<h4>Actual Results</h4>
There is no children attached to the window, even if there are.

<h4>Expected results</h4>
The same behavior than in iOS.

<h4>Test Case</h4>
1. Create mobile project. 
2. Paste this into app.js
<code><pre>

var win = Ti.UI.createWindow();
var view = Ti.UI.createView();
var label = Ti.UI.createLabel();
var label2 = Ti.UI.createLabel();
var image = Ti.UI.createImageView({
	url:'KS_nav_ui.png',
});
var view2 = Ti.UI.createView(); 
view2.add(label);
view2.add(label2)
view.add(view2);
view.add(image);
win.add(view);
win.open();

function do_clean(e,c){
	clean(c);
	e.remove(c);
	Ti.API.info( 'Deleted child at do_clean' );
	return;
}

function clean(e){	
	Ti.API.info( 'Number of children: ' + e.children.length );
	if(e.children){
		for(var i = 0; i&lt;e.children.length;i++){
			do_clean(e, e.children[0]);
		}
	} else { 
		return; 
	}
}

clean(win);

</pre></code>
3. Run this in ios, check the logs. 
4. Run this in Android, check the logs.

<h4>HD Discussion </h4>
<a href="http://support-admin.appcelerator.com/display/APP-428357" rel="nofollow" target="_blank">http://support-admin.appcelerator.com/display/APP-428357</a>

<h4>Extra info </h4>
This is an attempt to do a cleaning of any window, view, tableview, etc. 


<h3>Comments</h3>

<ol>
<li>Ivan Skugor 2012-05-11

   This issue is related to TIMOB-7482</li>
<li>Ivan Skugor 2012-06-12

   Btw, here is what does not work on Android: <a href="https://gist.github.com/2867975" rel="nofollow" target="_blank">https://gist.github.com/2867975</a>
   
   
   
   For some reason, "_children" property does what "children" does in case of a window. "children" property on the other hand does nothing.</li>
<li>Allen Yeung 2012-06-19

   Updated test case:
   
   <code><pre>
   var win = Ti.UI.createWindow();
   var view = Ti.UI.createView();
   var label = Ti.UI.createLabel();
   var label2 = Ti.UI.createLabel();
   var image = Ti.UI.createImageView({
       url:'KS_nav_ui.png',
   });
   var view2 = Ti.UI.createView(); 
   view2.add(label);
   view2.add(label2)
   view.add(view2);
   view.add(image);
   win.add(view);
   
   function do_clean(e,c){
       clean(c);
       e.remove(c);
       Ti.API.info( 'Deleted child at do_clean' );
       return;
   }
   
   function clean(e){  
       Ti.API.info( 'Number of children: ' + e.children.length );
       if(e.children){
           var length =e.children.length;
           for(var i = 0; i&lt;length;i++){
               do_clean(e, e.children[0]);
           }
       } else { 
           return; 
       }
   }
   
   win.addEventListener('open',function(){
   	clean(win);
   });
   
   win.open();
   </pre></code>
   
   Expected results:
   In both iOS and android, we should return something like
   <code><pre>
   I/TiAPI   (26605): Number of children: 1
   I/TiAPI   (26605): Number of children: 2
   I/TiAPI   (26605): Number of children: 2
   I/TiAPI   (26605): Number of children: 0
   I/TiAPI   (26605): Deleted child at do_clean
   I/TiAPI   (26605): Number of children: 0
   I/TiAPI   (26605): Deleted child at do_clean
   I/TiAPI   (26605): Deleted child at do_clean
   I/TiAPI   (26605): Number of children: 0
   I/TiAPI   (26605): Deleted child at do_clean
   I/TiAPI   (26605): Deleted child at do_clean
   </pre></code>
   
   Actual result:
   In android, we get a single "Number of children: 0" and that's it.
   </li>
<li>Neha Chhabra 2012-07-17

   Environment used for verification -
   Tested with Titanium SDK: 2.1.1.v20120716180600
   Tested with Titanium Â Studio: 2.1.1.201207161421
   Device - Android Emulator 2.3.3
   Machine OS - MAC 10.7.3</li>
<li>Arthur Evans 2012-07-23

   Reopening to fix labels.</li>
<li>Arthur Evans 2012-07-23

   Updated labels.</li>
<li>Neha Chhabra 2012-08-01

   Reopening issue to update labels</li>
<li>Shameer Jan 2013-12-10

   Anvil testcase PR <a href="https://github.com/appcelerator/titanium_mobile/pull/4967" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4967</a>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-9100.json">JSON Source</a></p>