---
title: "[TIMOB-9108] Android: Network change listener does not fire"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-11T03:57:22.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 1.8.2</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-13 Core</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, core, module_network, qe-testadded, regression</td></tr>
<tr><th>Reporter</th><td>Daniel</td></tr>
<tr><th>Assignee</th><td>Max Stepanov</td></tr>
<tr><th>Created</th><td>2012-05-07T12:43:20.000+0000</td></tr>
<tr><th>Updated</th><td>2014-03-13T17:45:14.000+0000</td></tr>
</table>

<h3>Description</h3>

I recently updated from Titanium SDK 1.7x to 1.8.2. The Network change listener does not work anymore.

Ti.Network.addEventListener("change",function(e) {
  Titanium.API.debug("Network changed");
  if (Titanium.Network.online) {
    Titanium.API.debug("Network is available");       
  }
});

Under 1.7.5 the log messages are printed, in 1.8.2 (and the most recent 1.8.3) it stopped working. I'm testing on an HTC Disre HD with Android 2.3.5. I was able to recreate it with above code added to the simplest test application

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9108_27568/app.js">app.js</td></td><td>2012-05-07T12:43:20.000+0000</td><td>1416</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9108_28528/log.rtf">log.rtf</td></td><td>2012-06-19T17:28:16.000+0000</td><td>491921</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Alberto Berti 2012-05-25

   i have the same issue</li>
<li>Josh Roesslein 2012-06-18

   Sent [PR #2423](<a href="https://github.com/appcelerator/titanium_mobile/pull/2423)" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2423)</a> to resolve issue.</li>
<li>Eric Merriman  2012-06-19

   With SDK 2.1.0.v20120618154152, I was unable to get the event to fire. I tried on two devices (one without cell capability) and saw many indications in the log of the network change, but not the target text from the sample code. See attached log.</li>
<li>Josh Roesslein 2012-06-20

   Eric, I was able to test this fine by turning the wifi on the device on/off.
   The device also had no cellular network capabilities. Could you provide steps to reproduce
   the failure you saw on this ticket? I know you talked about it yesterday, but if you could refresh
   my memory and also keep a record here for others.</li>
<li>Satoshi Tanaka 2012-06-20

   I tested my Android, network change event fired correctly.
   But Ti.Network.NETWORK_WIFI is null, so below code doesn't work.
   
   Ti.Network.addEventListener('change', function(e)
   {
      if(Ti.Network.networkType == Ti.Network.NETWORK_WIFI) {
         Ti.API.info("Network changed to Wi-Fi!");
      }
   });
   
   
   </li>
<li>Josh Roesslein 2012-06-20

   Satoshi, could you please open a new issue for that property being null.
   I imagine the other NETWORK_ constants are null as well.</li>
<li>Satoshi Tanaka 2012-06-20

   </li>
<li>Eric Merriman  2012-06-22

   @Josh, just following-up from our conversation. Seems as though when I disabled the access point, the device switched to another access point. This may have prevented the listener from firing. I will attempt to verify this ticket again tomorrow.</li>
<li>Max Stepanov 2012-06-26

   Cannot reproduce on GalaxyTab with 2.1.0 RC</li>
<li>Max Stepanov 2012-06-26

    Fixed by PR <a href="https://github.com/appcelerator/titanium_mobile/pull/2423" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2423</a></li>
<li>Eric Merriman  2012-06-26

    Verified fixed with SDK 2.1.0.v20120626130259 using the following code:
    <code><pre>
    var win = Ti.UI.createWindow({
        backgroundColor: '#ccc'
    });
     
    var table = Ti.UI.createTableView();
     
    win.add(table);
     
    var data = [];
    for(var i = 0; i &lt; 50; i++){
        data.push({ title:'Row #'+i });
    }
    table.setData(data);
     
    win.open();
    
    Ti.Network.addEventListener("change",function(e) {
    Titanium.API.debug("Network changed");
    setTimeout(function() {
    alert("Network changed (available="+Titanium.Network.online+")");
    },100);
    if (Titanium.Network.online) { Titanium.API.debug("Network is available"); }
    });
    </pre></code></li>
<li>Shyam Bhadauria 2012-07-11

    Re-opening to edit label</li>
<li>jithinpv 2013-11-25

    Anvil test case added.
    PR link:
    <a href="https://github.com/appcelerator/titanium_mobile/pull/5011" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5011</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-9108.json">JSON Source</a></p>