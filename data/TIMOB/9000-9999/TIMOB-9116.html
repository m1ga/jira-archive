---
title: "[TIMOB-9116] iOS: Height of view is not correct in new layout system when using horizontal layout"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-11T01:34:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-12 Core</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>core, module_view, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Jick Steen</td></tr>
<tr><th>Assignee</th><td>Max Stepanov</td></tr>
<tr><th>Created</th><td>2012-04-23T09:15:16.000+0000</td></tr>
<tr><th>Updated</th><td>2012-07-11T13:49:52.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

I'm currently migrating my app to the new layout system of Titanium Mobile 2.0.
There is just one issue where I think the height of a view is not correct calculated.

<h4>Test Case</h4>

<code><pre>
var win = Ti.UI.createWindow({backgroundColor: 'white'});
win.open();
 
var view = Ti.UI.createView({backgroundColor: 'red', layout: 'horizontal', left: 0, top: 5, width: Ti.UI.FILL, height: Ti.UI.SIZE});
 
view.add(Ti.UI.createLabel({backgroundColor: 'green', 
                            left: 10, top: 4, color: 'black', width: Ti.UI.SIZE, height: Ti.UI.SIZE,
                            text: 'This is a test'}));
 
win.add(view);
</pre></code>

<h4>Result</h4>
The red view is much higher than the label (green background). Cause I used Ti.UI.SIZE I expect that the red view is as high as the label. 

It works as expected when not defining the left and top property in the label. But I do have to set these. Otherwise I can't create the layout I want.

<code><pre>
view.add(Ti.UI.createLabel({backgroundColor: 'green', 
                            color: 'black', width: Ti.UI.SIZE, height: Ti.UI.SIZE,
                            text: 'This is a test'}));
</pre></code>

<h4>Community Discussion</h4>

[Q&A](<a href="http://developer.appcelerator.com/question/135813/ios-height-of-view-not-correct-when-using-horizontal-layout-ti-201)" rel="nofollow" target="_blank">http://developer.appcelerator.com/question/135813/ios-height-of-view-not-correct-when-using-horizontal-layout-ti-201)</a>

<h3>Comments</h3>

<ol>
<li>Junaid Younus 2012-05-11

   Moved to appropriate section.</li>
<li>Max Stepanov 2012-06-12

   Test case 1:
   <code><pre>
   var win = Ti.UI.createWindow({backgroundColor: 'white'});
   win.open();
     
   var view = Ti.UI.createView({backgroundColor: 'red', layout: 'horizontal', left: 0, top: 5, width: Ti.UI.FILL, height: Ti.UI.SIZE});
     
   view.add(Ti.UI.createLabel({backgroundColor: 'green', 
                               left: 10, color: 'black', width: Ti.UI.SIZE, height: Ti.UI.SIZE,
                               text: 'This is a test'}));
     
   win.add(view);
   // green label height == red view height
   </pre></code>
   
   Test case 2:
   <code><pre>
   var win = Ti.UI.createWindow({backgroundColor: 'white'});
   win.open();
     
   var view = Ti.UI.createView({backgroundColor: 'red', layout: 'horizontal', left: 0, top: 5, width: Ti.UI.SIZE, height: Ti.UI.SIZE});
     
   view.add(Ti.UI.createLabel({backgroundColor: 'green', 
                               top: 4, color: 'black', width: Ti.UI.SIZE, height: Ti.UI.SIZE,
                               text: 'This is a test'}));
     
   win.add(view);
   // green label width == red view width
   // 4px gap above green label.
   </pre></code></li>
<li>Max Stepanov 2012-06-12

   PR pending <a href="https://github.com/appcelerator/titanium_mobile/pull/2377" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2377</a></li>
<li>Michael Pettiford 2012-06-14

   Closing issue
   
   Tested with Ti Studio build 2.1.0.201206131907
   Ti Mobile SDK 2.1.0.v20120613210250 hash rc8ddb29e
   OSX Lion 10.7.3
   iPhone 4S OS 5.1
   
   Verified te sizing of the views and labels is correct</li>
<li>Neha Chhabra 2012-07-11

   Reopening to update labels.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9116.json">JSON Source</a></p>