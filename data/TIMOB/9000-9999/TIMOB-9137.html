---
title: "[TIMOB-9137] iOS: TableView scroll event contentOffset returning 0"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-05-29T11:36:43.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-11 API</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam, api, ipass1, regression</td></tr>
<tr><th>Reporter</th><td>Eduardo Gomez</td></tr>
<tr><th>Assignee</th><td>Sabil Rahim</td></tr>
<tr><th>Created</th><td>2012-05-15T15:16:12.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-20T22:01:59.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Issue</h4>
As the title

<h4>Tested on</h4>
iOS simulator

<h4>Expected behavior</h4>
Pull down to refresh works in Titanium SDKs 2.0.x

<h4>Current behavior</h4>
Pull down to refresh doesn't works in Titanium SDKs 2.1.x

<h4>Steps to reproduce</h4>
1. Run Kitchen Sink demos
2. Go to sample: Base UI tab > Views > TableViews > Pull to refresh 

<h4>Titanium SDK version: 2.0.2 (05/10/12 22:31 82d3920)</h4>
<code><pre>
[INFO] One moment, building ...
[INFO] Titanium SDK version: 2.0.2 (05/10/12 22:31 82d3920)
[INFO] iPhone Device family: universal
[INFO] iPhone SDK version: 5.0
[INFO] iPhone simulated device: iphone
[INFO] Performing full rebuild. This will take a little bit. Hold tight...
[INFO] Skipping JS compile, running from simulator
[WARN] The project seems to be having custom info.plist which does not contain  the <code>CFBundleShortVersionString</code> key
[INFO] Generating the missing <code>CFBundleShortVersionString</code> key
[INFO] Detected compiler plugin: ti.log/0.1
[INFO] Compiler plugin loaded and working for ios
[INFO] Performing clean build
[INFO] Compiling localization files
[INFO] Detected custom font: comic_zine_ot.otf
[INFO] Launching application in Simulator
[INFO] Launched application in Simulator (31.21 seconds)
[INFO] Application started
[INFO] KitchenSink/1.0 (2.0.2.v20120510223154.82d3920)
[INFO] Welcome to Kitchen Sink for Titanium/2.0.2
</pre></code>

<h4>Titanium SDK version: 2.1.0 (05/02/12 17:33 85e7af3)</h4>
<code><pre>
[INFO] One moment, building ...
[INFO] Titanium SDK version: 2.1.0 (05/02/12 17:33 85e7af3)
[INFO] iPhone Device family: universal
[INFO] iPhone SDK version: 5.0
[INFO] iPhone simulated device: iphone
[INFO] Performing full rebuild. This will take a little bit. Hold tight...
[INFO] Skipping JS compile, running from simulator
[WARN] The project seems to be having custom info.plist which does not contain  the <code>CFBundleShortVersionString</code> key
[INFO] Generating the missing <code>CFBundleShortVersionString</code> key
[INFO] Detected compiler plugin: ti.log/0.1
[INFO] Compiler plugin loaded and working for ios
[INFO] Performing clean build
[INFO] Compiling localization files
[INFO] Detected custom font: comic_zine_ot.otf
[INFO] Launching application in Simulator
[INFO] Launched application in Simulator (35.35 seconds)
[INFO] Application started
[INFO] KitchenSink/1.0 (2.1.0.v20120502173348.85e7af3)
[INFO] Welcome to Kitchen Sink for Titanium/
</pre></code>

<h4>contentOffset</h4>
<a href="http://docs.appcelerator.com/titanium/2.0/index.html#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/2.0/index.html#</a>!/api/Titanium.UI.TableView-event-scrollEnd

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9137_27706/Pull2Refresh.jpg">Pull2Refresh.jpg</td></td><td>2012-05-15T15:17:31.000+0000</td><td>57841</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Paul Dowsett 2012-05-21

   I just discovered the bug independently, exactly as described here. Thanks for raising it.</li>
<li>stefano di luca 2012-05-27

   same problem, when touchEnd is fired with the tableView scrolled down the "e.contentOffset.y" report a value of 0.
   Also the scroll event continue to run after the tableView is released and return to top.
   
   <code><pre> 
   table_view.addEventListener('scroll', function(e) {
       var offset = e.contentOffset.y;
       if(offset &lt;= -65.0 && !pulling) {
           var t = Ti.UI.create2DMatrix();
           t = t.rotate(-180);
   
           //**** WHEN offset BECOME &lt;= -65 PULLING IS CORRECTLY SET TO TRUE
           pulling = true;
   
           arrow.animate({
               transform : t,
               duration : 180
           });
           
       }else if(pulling && offset &gt; -65.0 && offset &lt; 0) {
   
           //**** IF TABLEVIEW IS RELEASED WITH offset &lt;= -65 PULLING ASSUME FALSE*
           //**** THIS ONLY HAPPEN IN 2.1.0*
           pulling = false;
   
           var t = Ti.UI.create2DMatrix();
           arrow.animate({
               transform : t,
               duration : 180
           });
   
       }
     }
   });
   </pre></code>
   
   Any new on this??
   Thank you</li>
<li>Sabil Rahim 2012-05-29

   </li>
<li>Sabil Rahim 2012-05-29

   Closing bug as invalid. As this is the new expected behavior.
   
   Tested on iPhone Sim 4.3 and 5.0 on Xcode 4.3 on Titanium SDK 2.1.0 build a04ec8f4e51c915e009222c3e11180a3f04a128c</li>
<li>Lee Morris 2017-03-20

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9137.json">JSON Source</a></p>