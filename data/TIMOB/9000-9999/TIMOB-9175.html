---
title: "[TIMOB-9175] iOS: Blob.nativePath throws exception for non-File Blobs"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-07-12T04:46:09.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, module_filesystem, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Arthur Evans</td></tr>
<tr><th>Assignee</th><td>Arthur Evans</td></tr>
<tr><th>Created</th><td>2012-05-18T17:05:45.000+0000</td></tr>
<tr><th>Updated</th><td>2013-11-08T05:33:03.000+0000</td></tr>
</table>

<h3>Description</h3>

The following code throws an exception:

<code><pre>
var myBlob = button.toImage();
Ti.API.info("Blob.nativePath: " + JSON.stringify(myBlob.nativePath));
</pre></code>

I would expect this to return some kind of value to indicate that nativePath is not set. Instead, it throws an exception:

[ERROR] Script Error = *** -[NSURL initFileURLWithPath:]: nil string parameter at app.js (line 28).

In this circumstance, Android returns <code>null</code>, and MobileWeb returns the empty string. I believe that returning <code>null</code> is the intended behavior on iOS.


<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2012-05-21

   *NOTE:* As part of resolving this ticket, you must update the documentation to show that the bug has been fixed. See [PR #2202](<a href="https://github.com/appcelerator/titanium_mobile/pull/2202)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2202).</a></li>
<li>Arthur Evans 2012-05-21

   Test case: 
   
   <code><pre>
   //
   var win1 = Titanium.UI.createWindow({  
       title:'TIMOB-9175 Test',
       backgroundColor:'#fff'
   });
   win1.open();
   var myBlob = Ti.createBuffer({ value: "Use a string to build a buffer to make a blob."}).toBlob();
   Ti.API.info("Blob from buffer: nativePath: " + JSON.stringify(myBlob.nativePath));
   </pre></code>
   
   Should show nativePath returning null. On iOS, currently throws the exception shown above.
   </li>
<li>Arthur Evans 2012-05-21

   Addressed in PR:
   <a href="https://github.com/appcelerator/titanium_mobile/pull/2239" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2239</a>
   
   
   </li>
<li>Michael Pettiford 2012-06-15

   Closing issue
   
   Tested with Ti Studio build 2.1.0.201206141932
   Ti Mobile SDK 2.1.0.v20120614194151 hash rad27673d
   OSX Lion 10.7.3
   iPhone 4S OS 5.1
   
   Verified that the blob returned null</li>
<li>Anshu Mittal 2012-07-12

   Reopening to update labels.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9175.json">JSON Source</a></p>