---
title: "[TIMOB-9191] iOS: Ti.UI.View backgroundLeftCap backgroundTopCap Broken on Retina Displays"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-07-19T09:43:04.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-14 API, Release 3.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, module_views, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Dawson Toth</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-05-22T12:16:53.000+0000</td></tr>
<tr><th>Updated</th><td>2013-07-19T09:43:04.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
The backgroundLeftCap is broken on Ti.UI.Views on Retina displays. It works fine on Ti.UI.Buttons.

<h4>Reproduction</h4>
Drop the following in an app.js, and download the two attached images.

Note that the two search.png and search@2x.png images are color coded so you can see that it is consistently using the @2x image on the Retina device, it's just messing up (miscalculating?) the stretching somehow.
<code><pre>
var win = Ti.UI.createWindow({
    backgroundColor: '#fff'
});
// WORKS: buttons backgrounds stretch properly on Retina displays!
win.add(Ti.UI.createButton({
    top: 10, right: 10, left: 10,
    height: 30,
    // "search.png" is:
    // - On Non-Retina: 35x30
    // - On Retina: 70x60
    backgroundImage: 'search.png',
    // 35 / 2 = 17.5, so use 17, 34 pixels for the edges, with 1 pixel to repeat in the middle.
    backgroundLeftCap: 17
}));
// FAILS: ends up distorted on the left and right caps on Retina displays!
win.add(Ti.UI.createView({
    top: 50, right: 10, left: 10,
    height: 30,
    backgroundImage: 'search.png',
    backgroundLeftCap: 17
}));
win.open();
</pre></code>

<h4>Workaround</h4>
Use buttons with their touch disabled as backgrounds. Weird, a bit heavier, but... whatever.

<h4>Screenshot</h4>
Attached as well.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9191_27860/iOS Simulator Screen shot May 22, 2012 2.13.39 PM.png">iOS Simulator Screen shot May 22, 2012 2.13.39 PM.png</td></td><td>2012-05-22T12:16:53.000+0000</td><td>20826</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9191_27861/search.png">search.png</td></td><td>2012-05-22T12:16:53.000+0000</td><td>1006</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9191_27862/search@2x.png">search@2x.png</td></td><td>2012-05-22T12:16:53.000+0000</td><td>3810</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2012-07-05

   Pull pending <a href="https://github.com/appcelerator/titanium_mobile/pull/2510" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2510</a></li>
<li>Anshu Mittal 2013-07-19

   Reopening to update labels:
   </li>
<li>Anshu Mittal 2013-07-19

   Verified with: 
   SDK:3.1.2.v20130718094558
   Appcelerator Studio: 3.1.2.201307121651
   OS: OSX 10.7.5
   Device:iPhone5(ios6)
   Xcode: 4.6
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-9191.json">JSON Source</a></p>