---
title: "[TIMOB-9267] iOS: tableView - row not always getting removed with deleteRow"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2017-05-24T21:39:29.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0, Release 2.0.1, Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api</td></tr>
<tr><th>Reporter</th><td>Jon Alter</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2012-05-24T16:16:32.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-24T21:39:29.000+0000</td></tr>
</table>

<h3>Description</h3>

TableView rows are not always getting deleted with deleteRow

<h4>Steps to reproduce:</h4>
Step 1. run the code below
Step 2. click on either of the "Parent" rows several times until only one of the children remains but not both or there are 3 Children under one Parent. This happens occasionally, not every time. (attaching a screenshot).

<code><pre>
var win  = Ti.UI.createWindow({
	backgroundColor: 'green'
});
win.open();

var container = Ti.UI.createView({backgroundColor: "white", layout: "vertical"});

var layout = [

	{
		title: "Parent 1",
		isparent: true,
		opened: false,
		sub: [
			{
				title: "Child 1"
			},
			{
				title: "Child 2"
			}
		]
	},
	{
		title: "Parent 2",
		isparent: true,
		opened: false,
		sub: [
			{
				title: "Child 3"
			},
			{
				title: "Child 4"
			}
		]
	}

];
var tableView = Ti.UI.createTableView({
	// style:Titanium.UI.iPhone.TableViewStyle.GROUPED,
	top: 0,
	height: Ti.Platform.displayCaps.platformHeight,
	data: layout
});


tableView.addEventListener("click", function(e) {

	//Is this a parent cell?
	if(e.row.isparent) {

		//Is it opened?
		if(e.row.opened) {
			for(var i=e.row.sub.length; i &gt; 0; i = i - 1) {
				tableView.deleteRow(e.index + i);
			}
			e.row.opened = false;
		}

		else {
			//Add teh children.
			var currentIndex = e.index;
			for(var i=0; i &lt; e.row.sub.length; i++) {
				tableView.insertRowAfter(currentIndex, e.row.sub[i]);
				currentIndex++;
			}
			e.row.opened = true;
		}

	}

});

container.add(tableView);
win.add(container);
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9267_27926/Screen Shot 2012-05-24 at 4.15.15 PM.png">Screen Shot 2012-05-24 at 4.15.15 PM.png</td></td><td>2012-05-24T16:16:32.000+0000</td><td>12508</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Shameer Jan 2013-04-12

   Issue reproduces 
   
   Tested with
   
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK version: 3.1.0 
   Titanium SDK version: 3.0.2 
   iOS iPhone Simulator: iOS SDK version: 6.</li>
<li>Lee Morris 2017-05-24

   Closing this ticket as the issue cannot be reproduced with the following environment; 
   iPhone 7 (10.2) 
   MacOS 10.11.6 (15G31) 
   Studio 4.9.0.201705021158 
   Ti SDK 6.1.0.v20170519131839 
   Appc NPM 4.2.9 
   Appc CLI 6.2.1 
   Ti CLI 5.0.13 
   Alloy 1.9.11 
   Arrow 2.0.0 
   Xcode 8.2 (8C38) 
   Node v4.8.2 
   Java 1.7.0_80</li>
</ol>


<p><a href="/TIMOB/TIMOB-9267.json">JSON Source</a></p>