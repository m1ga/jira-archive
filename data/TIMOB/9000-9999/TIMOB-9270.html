---
title: "[TIMOB-9270] Android: Cannot get size of the remote image in imageview after load completes"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-06-08T14:50:26.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.1</td></tr>
<tr><th>Fix Version/s</th><td>Release 2.1.0, Sprint 2012-12 Core</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, core, qeport</td></tr>
<tr><th>Reporter</th><td>Varun Joshi</td></tr>
<tr><th>Assignee</th><td>Stephen Tramer</td></tr>
<tr><th>Created</th><td>2012-05-24T19:21:44.000+0000</td></tr>
<tr><th>Updated</th><td>2012-06-15T14:51:08.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

Cannot get the size (height and width) of the image in the imageview after it has finished loading from a remote location.  

<h4>Sample Code</h4>

Please run the code below to reproduce the issue

{noformat}

//create component instance
var self = Ti.UI.createWindow({
    backgroundColor : '#ffffff',
    navBarHidden : true,
    exitOnClose : true
});

//construct UI
var boundingBox = Ti.UI.createView({
    backgroundColor : 'red',
    width : Ti.UI.SIZE,
    height : Ti.UI.SIZE
});

var sampleImageFromFarAway = Ti.UI.createImageView({
    image : '<a href="https://www.google.com/images/logo_sm.gif" rel="nofollow" target="_blank">https://www.google.com/images/logo_sm.gif</a>',
    height : Ti.UI.SIZE, //'auto',
    width : Ti.UI.SIZE, //'auto',
    preventDefaultImage : true,
    borderAroundMeView : boundingBox
});

var lateImageLoadingHandler = function(e) {
    Ti.API.info('1 Height: ' + sampleImageFromFarAway.size.height + ' Width: ' + sampleImageFromFarAway.size.width);
    
    var blob = sampleImageFromFarAway.toImage();

    Ti.API.info('Height after toImage: ' + blob.height + ' Width after toImage: ' + blob.width);
    var borderView = sampleImageFromFarAway.borderAroundMeView;
    borderView.width = blob.width + 24;
    borderView.height = blob.height + 24;

}

sampleImageFromFarAway.addEventListener('load', lateImageLoadingHandler);

boundingBox.add(sampleImageFromFarAway);
self.add(boundingBox);

self.open(); 

{noformat}

Also tried converting the image to toImage() as seen above but still could not get the correct height and width of the image.

<h4>Actual Output</h4>

Please see the screenshot attached. The height and width are returned as 0 and after doing a toImage() are returned as a random "100"

Also attached is the output of the same code in iOS. 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9270_27938/ScreenShot-Android.png">ScreenShot-Android.png</td></td><td>2012-05-24T19:21:44.000+0000</td><td>171944</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9270_27939/ScreenShot-iOS.png">ScreenShot-iOS.png</td></td><td>2012-05-24T19:21:44.000+0000</td><td>141868</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2012-06-08

   Sample image is 150 x 55</li>
<li>Stephen Tramer 2012-06-08

   Fixed in 2.1.0.7d81569.</li>
<li>Natalie Huynh 2012-06-15

   Tested with 2.1.0.v20120615104152 with Droid 3 2.3.4</li>
</ol>


<p><a href="/TIMOB/TIMOB-9270.json">JSON Source</a></p>