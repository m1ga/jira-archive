---
title: "[TIMOB-9317] Module Projects: Support multiple Javascript files"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-08-16T15:11:06.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-17 Core, Release 3.0.0</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>core</td></tr>
<tr><th>Reporter</th><td>Bill Dawson</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2012-05-30T15:31:24.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-24T20:57:23.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently, iOS, Android and Mobile Web module projects will really only support runtime execution of code from just one Javascript file in the module project.  In the case of mobileweb, it's src/modulename.js, and in the case of Android and iOS it's assets/moduleid.js.  Though you can put as many JS files as you want in those folders (and they will be packaged and delivered), at runtime only the "expected" single module file is reachable (i.e., via require()).

We would like to support require()ing (or AMD'ing in the case of mobileweb) the other packaged js files as well.  We should discuss what this looks like at runtime and what the expectations are, and come up with a test case.  Then create sub-tasks per platform.

MobileWeb will likely go forward quickly as their platform seems to be better suited for doing this.  Android/iOS will need to grapple with runtime contexts, and getting this to work in native compiled code.  In general it seems a hairier problem for Android/iOS.

<h3>Comments</h3>

<ol>
<li>Stephen Tramer 2012-06-13

   Created subtask for iOS. According to mobileweb, <code>require()</code> for modules should work like <code>node.js</code> (of course) where for the library with ID <code>module.id</code>:
   
   * <code>require('module.id')</code> requires the "main" JS file (the JS file named 'module.id.js')
   * <code>require('module.id/subpath/lib')</code> requires the file 'lib.js' which is in the module's relative hierarchy './subpath'.</li>
<li>Stephen Tramer 2012-06-13

   ALSO, in a module file, it should be positioned 'relative' to the root of the module. So for example, the <code>module.id.js</code> file would be able to <code>require(subpath/lib)</code>.</li>
<li>Chris Barber 2012-06-13

   It's worth noting that the "main" JS file should be defined in a package.json file, however, it would work just standardizing on a convention that the main JS file shares the same name as the module.
   
   If a module requires another module, it does not need to specify the "module.id". So if module.id.js needed to require module.id/subpath/lib.js, it could simply require("subpath/lib") or require("./subpath/lib") or require("/subpath/lib"). All absolute module ids are rooted to the module's src directory.</li>
<li>Bill Dawson 2012-08-16

   all child items resolved.  Resolving...</li>
<li>Lee Morris 2017-03-24

   Closing ticket as fixed with reference to previous comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9317.json">JSON Source</a></p>