---
title: "[TIMOB-9361] Android: WebView has no error event"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 2.1.0, Release 8.0.2, Release 8.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-14 Core, Release 3.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>core, engSchedule, module_webview, qe-review, qe-testadded</td></tr>
<tr><th>Reporter</th><td>kosso</td></tr>
<tr><th>Assignee</th><td>Bill Dawson</td></tr>
<tr><th>Created</th><td>2012-05-30T04:39:42.000+0000</td></tr>
<tr><th>Updated</th><td>2019-10-29T15:38:28.000+0000</td></tr>
</table>

<h3>Description</h3>

WRT Github pull request : <a href="https://github.com/appcelerator/titanium_mobile/pull/910" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/910</a>

When an Android webView attempts to load a non-existent url (for example), no error is fired (as documented!) 

<code><pre>
// example: app.js

var win = Ti.UI.createWindow({

backgroundColor:'#fff'

});

var web = Ti.UI.createWebView({

// a clearly incorrect url

url:'<a href="http://google.cooom" rel="nofollow" target="_blank">http://google.cooom</a>'

});

web.addEventListener('error',function(e){

	Ti.API.info('ERROR: '+JSON.stringify(e));
	alert('ERROR: type:'+e.type+'\nurl:'+e.url);

});

win.add(web);
win.open();

</pre></code>

<h3>Comments</h3>

<ol>
<li>Bill Dawson 2012-07-03

   <h4>Testing Notes</h4>
   
   * Run below app.js on *both iOS and Android*.
   
   <code><pre>
   var win = Ti.UI.createWindow({
   	backgroundColor:'#fff'
   });
    
   var web = Ti.UI.createWebView({
   	url:'<a href="http://google.cooom" rel="nofollow" target="_blank">http://google.cooom</a>' // BAD URL
   });
    
   web.addEventListener('error',function(e){
   	var message = e.message;
   	var code = e.errorCode;
   	if (code == Ti.UI.URL_ERROR_HOST_LOOKUP) {
   		message = "Titanium.UI.URL_ERROR_HOST_LOOKUP - " + message;
   	}
   	var url = e.url;
   	alert("Error url: " + url + "; Error code: " + code + "; Error message: " + message);
    
   });
    
   win.add(web);
   win.open();
   </pre></code>
   
   * You should see an alert showing you an error code, the erroring url and the error message.  The message and the numeric code value are platform specific, however the code should match the constant Titanium.UI.URL_ERROR_HOST_LOOKUP.  If it does match that, the message will begin with a prepended "Titanium.UI.URL_ERROR_HOST_LOOKUP". <-- you should see that at the front of the message.
   
   * No sense testing in MobileWeb, that event never fires and anyway a code is not available there.
   
   * Run <code>python validate.py -e -s simple -f Titanium/UI/WebView.yml</code> and <code>python docgen.py</code> to make sure there are no errors *related to the WebView documentation*.</li>
<li>Bill Dawson 2012-07-05

   PR ready
   
   <a href="https://github.com/appcelerator/titanium_mobile/pull/2509" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2509</a></li>
<li>Tamila Smolich 2012-08-15

   Closing as fixed.
   Tested and verified on:
   Titanium Studio, build: 2.1.1.201208091713
   Titanium SDK, build: 2.2.0.v20120813184911
   Devices: Nexus 7 tab (4.1.1)
   
   The expected alert is shown.</li>
<li>Anshu Mittal 2012-09-07

   reopening to update labels</li>
<li>Samir Mohammed 2019-07-18

   Re-opening as on iOS the error code and error message show <code>undefined</code>. Or should I create a new ticket? [~vijaysingh]</li>
<li>Alan Hutton 2019-10-28

   Still showing as undefined. </li>
</ol>


<p><a href="/TIMOB/TIMOB-9361.json">JSON Source</a></p>