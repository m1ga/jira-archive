---
title: "[TIMOB-9368] Code Processor: Implement Accidental Global Variable Declaration Code Processor plugin. "
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2016-08-24T20:12:36.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 3.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Code Processor</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Bryan Hughes</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-06-04T12:32:19.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-20T17:24:15.000+0000</td></tr>
</table>

<h3>Description</h3>

It is easy to accidentally create global variables that can have difficult to diagnose consequences. For example:

var x,
      y;
      z;

creates a global variable 'z'. This plugin should throw a warning whenever a global variable is created without referencing the global object. In other words, this is a best practice enforcer plugin.

<h3>Comments</h3>

<ol>
<li>Ivan Skugor 2012-06-04

   I use strict mode.</li>
<li>Bryan Hughes 2012-06-05

   Not all browsers support strict mode (I'm looking at you IE), and most devs don't use strict mode (unfortunately).</li>
<li>Ivan Skugor 2012-06-06

   Yeah, I agree, not all browsers support it. But, IMO, it is valuable development tool no matter that fact (if global variables aren't created in browser that does support strict mode by using strict mode, they won't be accidentally created in the browser that does not support strict mode :) ).
   
   
   In my opinion, documenting usage of strict mode could be useful because it can be used right away (v8 and JSC supports it, so it can be used on Android and iOS also).</li>
<li>Bryan Hughes 2012-06-06

   I'm definitely not arguing against the use of strict mode...in fact I strongly encourage it. I just think there is room to do a lot more. I feel that whatever we have should a) be caught at compile time not run time, b) be opt-out, and c) always available regardless of runtime.
   
   The problem with relying on run-time tools is that the code must be run in order to see the error. If this error is in some seldom used corner case (think unexpected error handling), the error may not be caught for months and will be noticed by some user, not the developer. Moving this error handling to compile time is so much cleaner.</li>
<li>Ivan Skugor 2012-06-08

   I doubt that you will be able to catch all errors at compile time due to dynamic nature of the language (no offense meant, just reason talking). :)
   
   
   Global variable declaration is just one trivial case. "this" and its potential to create global variables is much more challenging (note that "this" value can be different every time and its value is determined at call-time).
   
   
   There are more cases that are very challenging to cover with static analysis.
   
   
   
   Because of that, my opinion is that it is better to use existing tools (strict mode, JSLint, JSHint, whatever ... and maybe modify them if they don't fit perfectly to Titanium), than to develop own tools, which can be, very challenging task. I would prefer official testing tools instead. :)</li>
<li>Bryan Hughes 2012-06-08

   Fortunately for us, I'm not doing static analysis :) I'm doing a partial dynamic analysis, so knowing what the this pointer is won't be a problem.
   
   WRT "Because of that, my opinion is that it is better to use existing tools (strict mode, JSLint, JSHint, whatever ... and maybe modify them if they don't fit perfectly to Titanium), than to develop own tools, which can be, very challenging task. I would prefer official testing tools instead." We have already done a careful analysis of these options and rejected them for various reason. Work has already begun on these tools, and have been scheduled into development. The tools will be optional, so if you don't want to use them, then by all means use JSLint or whatever you prefer instead.</li>
<li>Ivan Skugor 2012-06-09

   OK, thanks. :)</li>
<li>Chris Barber 2016-08-24

   Code processor is dead.</li>
<li>Lee Morris 2017-03-20

   Closing ticket as code processor is no longer supported.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9368.json">JSON Source</a></p>