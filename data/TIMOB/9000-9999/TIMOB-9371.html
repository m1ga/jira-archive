---
title: "[TIMOB-9371] Android: Ti.Platform.displayCaps.platformHeight and platformWidth do not work properly on different Android screen resolutions"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-06-11T11:34:00.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>SupportTeam, api, parity</td></tr>
<tr><th>Reporter</th><td>Varun Joshi</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-06-04T17:13:17.000+0000</td></tr>
<tr><th>Updated</th><td>2012-06-11T12:43:37.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

Please run the sample code below:

{noformat}

var win = Ti.UI.createWindow({
    backgroundColor: '#333'
});

var menu = Ti.UI.createView({
	backgroundColor:'blue',
	top:Ti.Platform.displayCaps.platformHeight-50,
	bottom:0
});

menu.addEventListener('touchmove', function(evt) {
    var point = menu.convertPointToView({ x: evt.x, y: evt.y }, win);	
   	
   	menu.top = point.y;
    	
});

menu.addEventListener('touchend', function(e){
	 if(menu.top <((Ti.Platform.displayCaps.platformHeight/2)+100) && menu.top >((Ti.Platform.displayCaps.platformHeight/2))){
   	 		menu.top = Ti.Platform.displayCaps.platformHeight/2;
   	} else if (menu.top >(Ti.Platform.displayCaps.platformHeight/2)+100){
   		menu.top = Ti.Platform.displayCaps.platformHeight-50;
   	} else if (menu.top <((Ti.Platform.displayCaps.platformHeight/2))){
   		menu.top = 100;
   	}
})

win.add(menu);
 
win.open();

{noformat}

In iOS, you see the blue draggable view alright but in Android, depending on the screen size the view is not visible. I tested with QVGA (where it works) and HVGA(where it does not work) avd screens. Please see the attached screenshot too.



<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9371_28156/Screen Shot 2012-06-04 at 5.09.14 PM.png">Screen Shot 2012-06-04 at 5.09.14 PM.png</td></td><td>2012-06-04T17:13:17.000+0000</td><td>191484</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9371_28157/Screen Shot 2012-06-04 at 5.12.13 PM.png">Screen Shot 2012-06-04 at 5.12.13 PM.png</td></td><td>2012-06-04T17:13:17.000+0000</td><td>76873</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2012-06-11

   This isn't a bug on Android. platformHeight and Width return the measurements of the screen (including notification bar and title bar), while "top" and "bottom" properties are relative to the parent view. The parent view's height will always be smaller than the platformHeight because of the app's title bar and/or the notification bar. In iOS, platformHeight and Width returns the screen measurements with NavBar included. Thus the sample code above will not work correctly in iOS. It will report a height of 30 dip, not 50 dip.
   
   With that said, it's not a good idea to use platformHeight and Width to determine the height of views. Instead, the same behavior can be achieved by setting bottom to 0 and height to some dip value.
   <code><pre>
   var menu = Ti.UI.createView({
       backgroundColor:'blue',
       height: "50dip",
       bottom:0
   });
   </pre></code>
   ```</li>
<li>Hieu Pham 2012-06-11

   Closing bug as invalid</li>
<li>Varun Joshi 2012-06-11

   Closing this ticket as per the above comment.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9371.json">JSON Source</a></p>