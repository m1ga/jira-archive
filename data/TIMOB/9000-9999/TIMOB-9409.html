---
title: "[TIMOB-9409] iOS: AudioPlayer - Cannot play local mp3 file"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2016-10-18T13:14:33.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.2, Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, parity</td></tr>
<tr><th>Reporter</th><td>Wilson Luu</td></tr>
<tr><th>Assignee</th><td>Hans Knöchel</td></tr>
<tr><th>Created</th><td>2012-06-05T18:12:43.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-23T21:13:45.000+0000</td></tr>
</table>

<h3>Description</h3>

Steps to reproduce:
1. Put following code in TiMobile project:
<code><pre>
var win = Ti.UI.createWindow({
	layout: 'vertical',
	backgroundColor: 'white'
});
 
var audio = Ti.Media.createAudioPlayer({url: 'music.mp3', volume: 0.5});
win.add(createVolumeControl(audio));
 
var playAudioButton = Ti.UI.createButton({
	title: "Play Audio",
    height: 100,
    width: 200
});

playAudioButton.addEventListener('click', function() {
    //audio.play();
    audio.start();
});

win.add(playAudioButton);

win.open();

function createVolumeControl(player) {
    var slider = Ti.UI.createSlider({
        value: player.volume * 100,
        min: 0,
        max: 100,
        width: Ti.UI.FILL
    });
 
    slider.addEventListener('change', function(e) {
        player.volume = e.value/100;
    });
 
    return slider;
};

</pre></code>

2. Add music.mp3 attachment to Resource folder
3. Launch app on iOS device
4. Press *Play Audio*

Actual: Get a file error dialog (see file_error.png) and the warning appears in the console: 
<code><pre>Jun  5 18:08:01 unknown monkeyButt2[1379] &lt;Warning&gt;: No audio data found.</pre></code>

Expected: App should be able to play local mp3 files

Note:
* Above code works as expected on Android
* This is *not* a regression. This bug appears in SDK build 2.0.2.GA.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-9409_28183/file_error.png">file_error.png</td></td><td>2012-06-05T18:12:43.000+0000</td><td>106067</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-9409_28189/good.mp3">good.mp3</td></td><td>2012-06-06T09:25:18.000+0000</td><td>45998</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-9409_28182/music.mp3">music.mp3</td></td><td>2012-06-05T18:12:43.000+0000</td><td>1073911</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Wilson Luu 2012-06-06

   Hey Neeraj: I tried good.mp3 from TIMOB-4992 and the same bug appears.
   
   Details about the mp3s:
   *good.mp3*
   Duration: 4 sec
   Content: talking about toads
   
   *music.mp3*
   Duration: 1 min 7 sec
   Content: acoustic sci-fi music</li>
<li>Shawn Lipscomb 2012-08-20

   </li>
<li>Shawn Lipscomb 2013-06-04

   Another testcase:
   {panel:title=app.js}
   <code><pre>
   SoundtrackPlayer=Ti.Media.createAudioPlayer({
                      url:'APopularSong.mp3',
                      allowBackground:false
                    });
   SoundtrackPlayer.start();
   </pre></code>
   {panel}
   
   Under iOS, trying to play the local audio file (the MP3 file exists in the Resources directory of the project) using Ti.Media.AudioPlayer fails with the following error message (popup dialog):
   
   {panel}{noformat}Unable to configure network read stream{noformat}{panel}
   
   and the song does not play.
   
   The same code works correctly on Android.  Therefore, it is also a parity issue.
   </li>
<li>Shameer Jan 2014-08-28

   Issue still exists with SDK Version 3.4.0
   
   Titanium Command-Line Interface, 
   CLI version 3.3.0, 
   Titanium SDK version 3.4.0.GA 
   Appcelerator Studio, build: 3.3.0.201407111535 
   iOS SDK: 7.0</li>
<li>Daniel Kunzler 2014-10-03

   Issue is two-year-old (with medium priority) and still exists with SDK 3.4.0, iOS SDK 8.0
   
   CLI version 3.4.0
   Titanium SDK version 3.4.0.GA 
   Titanium Studio, build: 3.4.0.201409261227
   iOS SDK: 8.0
   
   Is there any workaround to play long local MP3 files on iOS?</li>
<li>Daniel Kunzler 2015-01-02

   I could confirm that using a Webview is NOT a workaround for this issue. It consumes more resources and it plays MP3s on full screen on iPhones (but good on iPad).</li>
<li>Hans Knöchel 2016-10-18

   Cannot reproduce with Titanium SDK 5.5.1.GA and later using both kroll- and main-thread.
   
   Test-case 1 (play directly):
   <code><pre>
   var win = Ti.UI.createWindow({
   	layout: 'vertical',
   	backgroundColor: 'white'
   });
    	
   var SoundtrackPlayer=Ti.Media.createAudioPlayer({
                      url:'music.mp3',
                      allowBackground:false
                    });
   SoundtrackPlayer.start();
    
   win.open();
   </pre></code>
   
   Test-case 2 (play after click):
   <code><pre>
   var win = Ti.UI.createWindow({
   	layout: 'vertical',
   	backgroundColor: 'white'
   });
    
   var audio = Ti.Media.createAudioPlayer({url: 'music.mp3', volume: 0.5});
    
   var playAudioButton = Ti.UI.createButton({
   	title: "Play Audio",
       height: 100,
       width: 200
   });
    
   playAudioButton.addEventListener('click', function() {
       //audio.play();
       audio.start();
   });
    
   win.add(playAudioButton);
   win.open();
   </pre></code></li>
<li>Lee Morris 2017-03-23

   Can verify this ticket as "Cannot Reproduce". Tested with the following environment;
   iPhone 7 and Simulator (10.2)
   MacOS 10.11.6 (15G31)
   Studio 4.8.1.201612050850
   Ti SDK 6.0.3 GA
   Appc NPM 4.2.8
   Appc CLI 6.1.0
   Ti CLI 5.0.11
   Alloy 1.9.5
   Arrow 1.10.1
   Xcode 8.2 (8C38)
   Node v4.6.0
   Java 1.7.0_80</li>
</ol>


<p><a href="/TIMOB/TIMOB-9409.json">JSON Source</a></p>