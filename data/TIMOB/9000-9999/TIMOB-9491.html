---
title: "[TIMOB-9491] iOS: Table view scrolling lags/freezes when dynamically adding rows"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-06-19T18:02:49.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.2, Release 2.0.1</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>SupportTeam, api, support</td></tr>
<tr><th>Reporter</th><td>Betty Tran</td></tr>
<tr><th>Assignee</th><td>Vishal Duggal</td></tr>
<tr><th>Created</th><td>2012-06-11T17:35:41.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-31T22:37:09.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>

When adding rows to a table view dynamically each time the table has scrolled close to the end, the scrolling becomes jerky and the app is unresponsive. The table rows contain images and labels.

<h4>Test Case</h4>

<code><pre>
var buildRow = function() {
	var rowView = Titanium.UI.createTableViewRow({
		className : 'lolcat',
		layout : "vertical",
		height : 350,
		backgroundColor : 'pink'
	});

	var imgAvatar = Titanium.UI.createImageView({
		image : '<a href="http://placekitten.com/g/50/50" rel="nofollow" target="_blank">http://placekitten.com/g/50/50</a>',
		height : 50,
		width : 50,
		top : 5,
		left : 5
	});

	rowView.add(imgAvatar);

	var avaLabel = Ti.UI.createLabel({
		text : "Super Cat",
		font : {
			fontSize : 12,
			fontWeight : 'bold'
		},
		top : 5,
		left : 65
	});

	rowView.add(avaLabel);

	var imgThingy = Titanium.UI.createImageView({
		image : '<a href="http://placekitten.com/g/300/200" rel="nofollow" target="_blank">http://placekitten.com/g/300/200</a>',
		height : 200,
		width : 300
	});

	rowView.add(imgThingy);

	var postTitle = Ti.UI.createLabel({
		text : "Cat saves the day",
		font : {
			fontSize : 18,
			fontWeight : 'bold'
		}
	});

	rowView.add(postTitle);

	var postText = Ti.UI.createLabel({
		text : "At 12, a helicopter crashed and all passengers were saved by this cat",
		font : {
			fontSize : 10,
		}
	});

	rowView.add(postText);
	
	return rowView;
}

var buildTable = function() {
	var data = [];
	var table = Ti.UI.createTableView({
		top : 0,
		right : 0,
		bottom : 0,
		left : 0
	});

	for (var i = 0; i &lt; 5; i++) {
		data.push(buildRow());
	}

	table.setData(data);

	table.addEventListener('scroll', function(e) {
		if (e.contentOffset.y + e.size.height + 100 &gt; e.contentSize.height) {
			table.appendRow(buildRow());
			table.appendRow(buildRow());
			table.appendRow(buildRow());
			table.appendRow(buildRow());
			table.appendRow(buildRow());
		}
	});

	return table;
}

var win = Ti.UI.createWindow({
	backgroundColor : '#fff'
});

var table = buildTable();

win.add(table);

win.open(); 

</pre></code>


<h3>Comments</h3>

<ol>
<li>Vishal Duggal 2012-06-19

   Trying to update a tableView while it is scrolling will result in lags/freezes and generally jerky behavior. That is because you have two competing processes running alternately on the main thread.
   
   Would advise that tableView update not be done on the scroll event but instead on a explicit user action. You can use either the headerPullView (See KS for an example) or the footerView properties of the table. Attaching example for footerView
   
   <code><pre>
   var buildRow = function() {
       var rowView = Titanium.UI.createTableViewRow({
           className : 'lolcat',
           layout : "vertical",
           height : 350,
           backgroundColor : 'pink'
       });
       
       var w1 = Math.round(Math.random()*100+50);
       var w2 = Math.round(Math.random()*100+300);
    	
       var imgAvatar = Titanium.UI.createImageView({
           //image : '<a href="http://placekitten.com/g/50/50" rel="nofollow" target="_blank">http://placekitten.com/g/50/50</a>',
           image : '<a href="http://placekitten.com/g/" rel="nofollow" target="_blank">http://placekitten.com/g/</a>'+w1+'/'+w1,
           height : 50,
           width : 50,
           top : 5,
           left : 5
       });
    
       rowView.add(imgAvatar);
    
       var avaLabel = Ti.UI.createLabel({
           text : "Super Cat",
           font : {
               fontSize : 12,
               fontWeight : 'bold'
           },
           top : 5,
           left : 65
       });
    
       rowView.add(avaLabel);
    
       var imgThingy = Titanium.UI.createImageView({
           //image : '<a href="http://placekitten.com/g/300/200" rel="nofollow" target="_blank">http://placekitten.com/g/300/200</a>',
           image : '<a href="http://placekitten.com/g/" rel="nofollow" target="_blank">http://placekitten.com/g/</a>'+w2+'/'+w2,
           height : 200,
           width : 300
       });
    
       rowView.add(imgThingy);
    
       var postTitle = Ti.UI.createLabel({
           text : "Cat saves the day",
           font : {
               fontSize : 18,
               fontWeight : 'bold'
           }
       });
    
       rowView.add(postTitle);
    
       var postText = Ti.UI.createLabel({
           text : "At 12, a helicopter crashed and all passengers were saved by this cat",
           font : {
               fontSize : 10,
           }
       });
    
       rowView.add(postText);
        
       return rowView;
   }
    
   var buildTable = function() {
       var data = [];
       var table = Ti.UI.createTableView({
           top : 0,
           right : 0,
           bottom : 0,
           left : 0
       });
    
       for (var i = 0; i &lt; 5; i++) {
           data.push(buildRow());
       }
    
       table.setData(data);
       
       var footerView = Ti.UI.createView({
       	width:Ti.UI.FILL,
       	height:Ti.UI.SIZE
       });
       var button = Ti.UI.createButton({
       	width:Ti.UI.FILL,
       	height:Ti.UI.SIZE,
       	title:'Load More Data'
       })
       footerView.add(button);
       
       button.addEventListener('click',function(e){
               table.appendRow(buildRow());
               table.appendRow(buildRow());
               table.appendRow(buildRow());
               table.appendRow(buildRow());
               table.appendRow(buildRow());
       })
       
       table.footerView = footerView;
    
       return table;
   }
    
   var win = Ti.UI.createWindow({
       backgroundColor : '#fff'
   });
    
   var table = buildTable();
    
   win.add(table);
    
   win.open(); 
   </pre></code></li>
<li>Fokke Zandbergen 2013-08-02

   I suggest this issue to be re-opened. Automatically loading more rows while scrolling is a very common concept, that should be supported in Titanium.</li>
<li>Sameeh Harfoush  2013-12-27

   </li>
<li>Alan Leard 2013-12-27

   ListView handles this very well on both platforms.  Please review the guide documentation here and compare your results: <a href="http://docs.appcelerator.com/titanium/latest/#" rel="nofollow" target="_blank">http://docs.appcelerator.com/titanium/latest/#</a>!/guide/ListViews</li>
<li>Sameeh Harfoush  2013-12-27

   well i am still figuring out how to create the template and subtemplates to fit my data-model. the thing is that every single feed contains views that are created by calling other classes (modular) that create the necessary view UI. for example, the main container view contains four types of UI: first UI for the user, second one is for a business, third is for voting...etc. the data model is a bit complicated to map on a listview template, so listview is not feasible solution at this point...i still don't understand why a screen can render on Android and not on iPhone? is is a native UI limitation for iOS?</li>
<li>Lee Morris 2017-05-31

   Closing ticket as invalid.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9491.json">JSON Source</a></p>