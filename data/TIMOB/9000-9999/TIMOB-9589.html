---
title: "[TIMOB-9589] Android: Support modify contact"
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-08-06T17:38:13.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.0.0, Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-16 API, Release 3.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api, module_media, parity, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Vishal Duggal</td></tr>
<tr><th>Assignee</th><td>Hieu Pham</td></tr>
<tr><th>Created</th><td>2012-06-15T21:52:06.000+0000</td></tr>
<tr><th>Updated</th><td>2013-12-10T06:08:37.000+0000</td></tr>
</table>

<h3>Description</h3>

Support for modify contact 

<h3>Comments</h3>

<ol>
<li>Hieu Pham 2012-07-19

   Testing code:
   <code><pre>
   var photo = Ti.UI.createImageView({
       image: 'KS_nav_views.png'
   }).toBlob();
   
   var person = Ti.Contacts.createPerson({
     firstName: 'Aaron',
     lastName: 'Smith',
     date: {
       anniversary: ['2002-11-11T11:23:30.000+0000'],
       other: ['2011-04-02T12:00:00.000+0000']
     }
   }); 
   
   
   person.organization = "google";
   person.phone = {
       mobile: ['9999999991', '1234556677'],
       work: ['9999998888', '1234567789']
     };
   person.address = {
       work:[
         {
           Street: '900 West Drive',
           City: 'New York',
           County: 'Berkshire',
           Country: 'U.S.A',
           ZIP: '99999'
         },
         {
           Street: '456 New Ave.',
           City: 'San Jose',
           State: 'California',
           Country: 'U.S.A',
           ZIP: '94082'
         }
       ],
       home:[
         {
           Street: '2 East Drive',
           City: 'Las Vegas',
           State: 'Nevada',
           Country: 'U.S.A',
           ZIP: '55555'
         }
       ]};
   person.instantMessage = {
       home:[
         {
           service: 'AIM',
           username: 'Dominator'
         },
         {
           service: 'MSN',
           username: 'dominator@msn.com'
         }
       ],
       work:[
         {
           service: 'Facebook',
           username: 'Dominator2'
         }
       ]
   };
   person.url = {
       homepage: ['www.myspace.com'],
       work: ['www.apple.com', 'www.yahoo.com']
   };
   person.email = {
       home: ['hieu@google.com'],
       work: ['pham@google.com', 'hp007@appcelerator.com']
   };
   person.relatedNames = {
       parent: ['daddy', 'mommy'],
       assistant: ['mayhem']
   };
   person.date = {
       anniversary: ['2022-11-11T11:23:30.000+0000'],
       other: ['2003-04-02T12:00:00.000+0000']
   };
   person.firstName = "Ade";
   person.lastName = "Crude";
   person.birthday = "1999-01-01T12:00:00.000+0000";
   person.organization = "GOOGLE";
   person.note = "NOTE: MASS EFFECT";
   person.nickname = "NICKNAME: THOR";
   person.image = photo;
   Ti.Contacts.save([person]);
   </pre></code>
   1. Run this code
   2. Look at contact and see if fields are populated correctly</li>
<li>Michael Gangolf 2012-07-21

   [ERROR][V8Exception(  581)] Exception occurred at app.js:85: Uncaught TypeError: Object #<Contacts> has no method 'save'
   using Titanium 2.2.0 (2012/07/20 17:01 c08a3ae)
   </li>
<li>Michael Gangolf 2012-08-13

   example is working with 2.2.0 b20120810194112!
   But when I try to read person.fullName I always get an empty string now!</li>
<li>Hieu Pham 2012-08-21

   </li>
<li>Michael Gangolf 2012-09-18

   strange behavior:
   inside my emulator I can download photos from facebook and save them to the person. Using the same program on my phone will save the wrong photo to a person
   
   Emulator:
   [INFO] Titanium SDK version: 3.0.0 (09/17/12 23:41 5486a27) 
   Android 4.0.4
   
   Phone:
   SGS2 Android 4.1.1
   
   
   Download function
   <code><pre>
   function downloadImage(_p,_id){
   // p = ti.contact.person
   // id = facebook id
   
   	var fbUserIcon = "<a href="http://graph.facebook.com/" rel="nofollow" target="_blank">http://graph.facebook.com/</a>"+_id+"/picture?type=normal"
   	var xhr = Titanium.Network.createHTTPClient();
           xhr.open('GET', fbUserIcon, false);
           xhr.send();
       
       
       xhr.onload = function() {
   	    if (xhr.readyState == 4) {
   	    	_currentUser = _p;
               	var f = Ti.Filesystem.getFile(_dir,_p.fullName +".jpg");
               	f.write(xhr.responseData);
               	_photoURL = f;
               	var photo = Ti.UI.createImageView({ image: f,width:100,height:100 });
               	_lbl.text = _p.fullName+"\n"+f.nativePath;
               	_win_main.add(photo);
   	    }
   	}	
   }
   </pre></code>
   
   
   
   Saving: 
   <code><pre>
   var photo = Ti.UI.createImageView({ image: _photoURL,width:100,height:100 });
   _currentUser.image = photo.toBlob();
   Ti.Contacts.save([_currentUser]);
   </pre></code>
   It displays the correct name and image on the screen but when I have a look at my contacts afterwards (on the phone) they are all mixed up</li>
<li>Tamila Smolich 2012-11-13

   Closing issue. All fields are populated correctly.
   Tested and verified on:
   Titanium Studio, build: 3.0.0.201211121907
   Titanium SDK, build: 3.0.0.v20121113111657
   Device: Samsung Galaxy SIII (4.0.4)</li>
<li>Shameer Jan 2013-12-10

   Anvil testcase PR <a href="https://github.com/appcelerator/titanium_mobile/pull/5021" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/5021</a>
   </li>
</ol>


<p><a href="/TIMOB/TIMOB-9589.json">JSON Source</a></p>