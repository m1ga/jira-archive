---
title: "[TIMOB-9669] iOS: Relative Pathing of Require'd CommonJS Modules"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Invalid</td></tr>
<tr><th>Resolution Date</th><td>2012-07-12T16:16:11.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Mark Ruys</td></tr>
<tr><th>Assignee</th><td>Neeraj Gupta</td></tr>
<tr><th>Created</th><td>2012-01-20T11:59:28.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-22T21:53:15.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Feature</h4>
Support requiring based on relative paths:
- From sub contexts (a tab window with the url property set).
- As a result of Ti.include.
- From inside another require'd CommonJS module.

<h4>Platform Disparity</h4>
Require on Android deals with relative paths, just as described in <a href="https://wiki.appcelerator.org/display/guides/CommonJS+Modules+in+Titanium#CommonJSModulesinTitanium-JavaScriptModulePathResolution." rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/CommonJS+Modules+in+Titanium#CommonJSModulesinTitanium-JavaScriptModulePathResolution.</a> On iOS however, all Required files are searched for in the applications root.

<h4>Reproduction</h4>
Attached are several projects. The easiest to reproduce and quickest to grasp is "RelativePathingReducedReproduction.zip". Drop it in an app and run it. If you see any errors, then this isn't implemented yet. Otherwise, you should see three distinct Ti.API.info messages appear for each of the executed JavaScript files.

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-9669_27510/CommonJsTest.zip">CommonJsTest.zip</td></td><td>2012-05-02T19:57:10.000+0000</td><td>2941139</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-9669_28551/RelativePathingReducedReproduction.zip">RelativePathingReducedReproduction.zip</td></td><td>2012-06-20T12:58:56.000+0000</td><td>3085</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-9669_25230/Resources.zip">Resources.zip</td></td><td>2012-01-20T11:59:28.000+0000</td><td>2312312</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Mauro Parra-Miranda 2012-02-21

   </li>
<li>Mark Ruys 2012-02-21

   How can this be a duplicate of TIMOB-6689, a ticket which is closed because it is not reproducable. I provided code to reproduce the bug I encountered. Apparently you haven't take the effort to run my example. So what's the point of submitting bug reports if you close them unseen? Rather frustrating...</li>
<li>Quinn Mah 2012-05-02

   I'm pretty sure this is not fixed in 1.8.2 or 2.0.1GA.  I also tried it as per the example in <a href="https://wiki.appcelerator.org/display/guides/CommonJS+Modules+in+Titanium#CommonJSModulesinTitanium-JavaScriptModulePathResolution." rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/CommonJS+Modules+in+Titanium#CommonJSModulesinTitanium-JavaScriptModulePathResolution.</a>  The CommonJS spec also says that the relative path is from the file that makes the "require" call and only absolute paths work where Resources is the root directory.  I also confirmed it by running the same example through nodeJS as I'm trying to write re-usable javascript supported by both platforms.  It would be great if someone could fix this in appcelerator.  I've also zipped up the test case for someone to verify.</li>
<li>Quinn Mah 2012-05-02

   See attachment CommonJSTest.zip of relative path example to show that it's broken in 1.8.2 and 2.0.1GA and doesn't conform to the CommonJS spec:
   
   <a href="https://wiki.appcelerator.org/display/guides/CommonJS+Modules+in+Titanium#CommonJSModulesinTitanium-JavaScriptModulePathResolution" rel="nofollow" target="_blank">https://wiki.appcelerator.org/display/guides/CommonJS+Modules+in+Titanium#CommonJSModulesinTitanium-JavaScriptModulePathResolution</a></li>
<li>Dawson Toth 2012-06-20

   I have reproduced this with 2.1.0 and 2.0.3 builds. Please take another look.
   
   Also, if [TIMOB-6689] is not reproducible, but this is, then we have a different issue here, not a duplicate. Or we have a different test case that would merit [TIMOB-6689] being reopened.
   
   BROKEN with Ti SDK 2.1.0, timestamp=06/19/12 19:02, githash=da36a08
   BROKEN with Ti SDK 2.0.3, timestamp=06/01/12 14:15, githash=a43004b</li>
<li>Stephen Tramer 2012-06-20

   This should be fixed by TIMOB-9524. See pull request [2414](<a href="https://github.com/appcelerator/titanium_mobile/pull/2414)." rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2414).</a></li>
<li>Stephen Tramer 2012-07-12

   Violates CommonJS 1.1 spec:
   
   <a href="http://wiki.commonjs.org/wiki/Modules/1.1" rel="nofollow" target="_blank">http://wiki.commonjs.org/wiki/Modules/1.1</a>
   
   This is an issue which will be fixed on Android, not on other platforms (which behave correctly).</li>
<li>Lee Morris 2017-03-22

   Closing ticket as invalid with reference to previous comments.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9669.json">JSON Source</a></p>