---
title: "[TIMOB-9679] MobileWeb: view - backgroundImage flashes when the view is clicked"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Not Our Bug</td></tr>
<tr><th>Resolution Date</th><td>2012-06-27T13:33:38.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>MobileWeb</td></tr>
<tr><th>Labels</th><td>n/a</td></tr>
<tr><th>Reporter</th><td>Jon Alter</td></tr>
<tr><th>Assignee</th><td>Chris Barber</td></tr>
<tr><th>Created</th><td>2012-06-20T18:30:55.000+0000</td></tr>
<tr><th>Updated</th><td>2012-06-27T13:33:45.000+0000</td></tr>
</table>

<h3>Description</h3>

View backgroundImage flashes when the view is clicked

<h4>Steps to repro:</h4>
Step 1: save the attached image to your Resources dir
Step 2: run the code below in ie9 or chrome
Step 3: click on the view
Step 4: watch it flicker (may not happen on every click)

<code><pre>
var win  = Ti.UI.createWindow({
  backgroundColor: 'white'
});
win.open();

var view = Ti.UI.createView({
  backgroundImage : "background_productDetail.jpg",
  height: 500,
  width: 800
});
win.add(view);
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9679_28587/Archive.zip">Archive.zip</td></td><td>2012-06-21T13:01:45.000+0000</td><td>3272389</td></tr>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9679_28563/background_productDetail.jpg">background_productDetail.jpg</td></td><td>2012-06-20T18:30:55.000+0000</td><td>134854</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Chris Barber 2012-06-20

   I tried to fix the problem by setting a filter on the html element, but it didn't appear to fix it.
   
   <code><pre>
   html {
       filter: expression(document.execCommand("BackgroundImageCache", false, true));
   }
   </pre></code></li>
<li>Chris Barber 2012-06-21

   Pull request: <a href="https://github.com/appcelerator/titanium_mobile/pull/2448" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2448</a></li>
<li>Lokesh Choudhary 2012-06-26

   Verified the issue on the build below & found it to be reproducible on chrome.Clicking on the image flashes.
   
   Titanium Studio : 2.1.0.201206251749
   SDK version : 2.1.0.v20120626104306
   Chrome : 19.0.1084.56
   
   </li>
<li>Chris Barber 2012-06-26

   The only thing that could remotely trigger this is that Chrome returns the backgroundSize of "100%" instead of "!00% 100%" which we detect as a change, then set to "100% 100%". I wrote up a quick change to see if fixing this would fix the flashing, but it did not.
   
   <code><pre>
   --- a/mobileweb/titanium/Ti/_/UI/Element.js
   +++ b/mobileweb/titanium/Ti/_/UI/Element.js
   @@ -631,7 +631,7 @@ define(
                                           tmp = repeat ? "repeat" : "no-repeat";
                                           nodeStyle.backgroundRepeat !== tmp && (nodeStyle.backgroundRepeat = tmp);
                                           tmp = repeat ? "auto" : "100% 100%";
   -                                       nodeStyle.backgroundSize !== tmp && (nodeStyle.backgroundSize = tmp);
   +                                       nodeStyle.backgroundSize !== tmp && nodeStyle.backgroundSize + " 100%" !== tmp && (nodeStyle.backgroundSize = tmp);
                                   }
                           }
                   },
   </pre></code>
   
   I think this might be a bug with Chrome. As of Chrome v21, this is still a problem.</li>
<li>Chris Barber 2012-06-27

   I fixed the issues in IE. However the "flashing" in Chrome is minimal and from what I can tell, a bug in Chrome.</li>
<li>Lokesh Choudhary 2012-06-27

   According to chris barber's comment that its a bug in chrome & we cant do anything about it. Thus,closing the bug.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9679.json">JSON Source</a></p>