---
title: "[TIMOB-9692] Anvil: app/test_custom_values test case fails on iOS"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Won't Fix</td></tr>
<tr><th>Resolution Date</th><td>2017-05-01T22:18:35.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>Drillbit</td></tr>
<tr><th>Labels</th><td>anvil, core</td></tr>
<tr><th>Reporter</th><td>Max Stepanov</td></tr>
<tr><th>Assignee</th><td>Eric Merriman </td></tr>
<tr><th>Created</th><td>2012-06-21T11:08:20.000+0000</td></tr>
<tr><th>Updated</th><td>2017-05-23T20:37:28.000+0000</td></tr>
</table>

<h3>Description</h3>

Test case *app/test_custom_values* fails under Anvil, but works fine in an app.

<code><pre>
var testRun = {};
function valueOf(test, actual) {
	return {
		shouldBe : function(expected) {
			if (expected !== actual) {
				Ti.API.info("expected: &lt;"+expected+"&gt;, actual: &lt;"+actual+"&gt;");
			}
		}
	};
}

Ti.API.info("-- start --");
valueOf(testRun, Ti.App.id).shouldBe('org.appcelerator.titanium.testharness');
valueOf(testRun, Ti.App.name).shouldBe('test_harness');
valueOf(testRun, Ti.App.version).shouldBe("1.0.1");
valueOf(testRun, Ti.App.publisher).shouldBe("test publisher");
valueOf(testRun, Ti.App.url).shouldBe("<a href="http://www.test.com" rel="nofollow" target="_blank">http://www.test.com</a>");
valueOf(testRun, Ti.App.description).shouldBe('test description');
valueOf(testRun, Ti.App.copyright).shouldBe('copyright 2010 test');
Ti.API.info("-- end --");
</pre></code>

tiapp.xml section:
<code><pre>
    &lt;id&gt;org.appcelerator.titanium.testharness&lt;/id&gt;
    &lt;name&gt;test_harness&lt;/name&gt;
    &lt;version&gt;1.0.1&lt;/version&gt;
    &lt;publisher&gt;test publisher&lt;/publisher&gt;
    &lt;url&gt;<a href="http://www.test.com&lt" rel="nofollow" target="_blank">http://www.test.com&lt</a>;/url&gt;
    &lt;description&gt;test description&lt;/description&gt;
    &lt;copyright&gt;copyright 2010 test&lt;/copyright&gt;
</pre></code>

<h3>Comments</h3>

<ol>
<li>Opie Cyrus 2012-08-06

   Nothing about this bug report indicates this as a Anvil bug versus platform bug.  This looks like a failure stemming from the test being run within a required file.  This should be verified in a standalone test case using require.</li>
<li>Lee Morris 2017-05-01

   Closing ticket as "Won't Fix" as Anvil is no longer supported.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9692.json">JSON Source</a></p>