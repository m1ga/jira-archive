---
title: "[TIMOB-9737] iOS: using number for facebook appID account causes crash on IPad"
---
<table>
<tr><th>Type</th><td>New Feature</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-06-25T15:28:55.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-13 API, Release 3.0.0</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api, qe-acs060112, qe-port</td></tr>
<tr><th>Reporter</th><td>Mukesh Gadiya</td></tr>
<tr><th>Assignee</th><td>Blain Hamon</td></tr>
<tr><th>Created</th><td>2012-06-22T17:28:19.000+0000</td></tr>
<tr><th>Updated</th><td>2012-08-07T17:06:49.000+0000</td></tr>
</table>

<h3>Description</h3>

UPDATE UPDATE: Changing this from a crasher to a feature request to compensate for setting facebook module's appID to a number, not a string.

UPDATE: this test fails on all Ipad 1 - 5.1.1, Ipad 2 - 4.3.5 and Ipad 3 - 5.1.1

Clicking on Users->Social->External Link->Login with facebook 

Repro steps:
1. Switch to DNS: 184.73.81.90 on IPad 

1.5  edit Resources/windows/social/externalLink.js and set Ti.Facebook.appid to 378694535499807 
b.  edit Resources/windows/social/externalLogin.js and set Ti.Facebook.appid to 378694535499807

2. launch ti.cloud sample app
3. click on Users->Social->External Link->Login with facebook 

Actual:
App quits, crash log is attached.

Expected:
Bring up facebook login window

Note: This works correctly on android ICS galaxy nexus 

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-9737_28633/ticloud_21_june_2012-06-22-165229_iPad3-wifi.crash">ticloud_21_june_2012-06-22-165229_iPad3-wifi.crash</td></td><td>2012-06-22T17:28:19.000+0000</td><td>31911</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-9737_28632/ticloud_21_june_2012-06-22-170256_iPad3-wifi.crash">ticloud_21_june_2012-06-22-170256_iPad3-wifi.crash</td></td><td>2012-06-22T17:28:19.000+0000</td><td>30103</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-9737_28631/ticloud_21_june_2012-06-22-170643_iPad3-wifi.crash">ticloud_21_june_2012-06-22-170643_iPad3-wifi.crash</td></td><td>2012-06-22T17:28:19.000+0000</td><td>29888</td></tr>
<tr><td><a href="https://jira-attachments.tisdk.com/TIMOB/TIMOB-9737_28694/ticloud_21_june 2.zip">ticloud_21_june 2.zip</td></td><td>2012-06-25T11:49:15.000+0000</td><td>3207534</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Jeff English 2012-06-22

   Please try logging in to facebook on this device with the kitchen sink app first. The Cloud example app simply calls the Facebook api in platform to create the button and perform the login when clicked. It isn't until receipt of the 'login' event that the token is passed to ACS.</li>
<li>Jeff English 2012-06-22

   The stack trace in the 3rd crash log shows that the issue is in the facebook code. This does not appear to be a ti.cloud module issue.</li>
<li>Mukesh Gadiya 2012-06-25

   Update:
   I am NOT able to reproduce this issue in kitchensink as well as any other brand new mobile app with example files copied from ticloud 2.1.0 module folder, with the same SDK build, IDE and ticloud module builds. I can only reproduce this issue consistently with the attached zipped application. 
   
   environment:
   SDK: 2.1.0.v20120622174154
   Studio: 2.1.0.201206221045
   tiCloud 2.1.0
   xCode 4.3.2/3
   OS: Lion 10.7.3
   Devices: Iphone4s, Ipad1/2/3 with iOS 4.3.2 and 5.1</li>
<li>Mukesh Gadiya 2012-06-25

   Attached is the zipped application file which is consistently failing for FB linking issue. </li>
<li>Blain Hamon 2012-06-25

   Tried on both device and simulator, login comes up with no issues. Can't reproduce. :(</li>
<li>Mukesh Gadiya 2012-06-25

   Blain, Can you try with attached zip app and see if you can reproduce?</li>
<li>Blain Hamon 2012-06-25

   The test JS was using "    Ti.Facebook.appid = 378694535499807;"
   HOWEVER, the docs say Ti.Facebook.appid must be a string.
   If the test JS uses "    Ti.Facebook.appid = '378694535499807';" the app runs fine.</li>
<li>Blain Hamon 2012-06-25

   Lowering priority since this is not a regression, but now an edge case.</li>
<li>Blain Hamon 2012-06-25

   Pull <a href="https://github.com/appcelerator/titanium_mobile/pull/2468" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2468</a> pending.</li>
<li>Stephen Tramer 2012-06-25

    Merged to master but no fixversion 2.2.0 yet.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9737.json">JSON Source</a></p>