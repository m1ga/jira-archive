---
title: "[TIMOB-9824] API: backgroundGradient "colors" default value"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-09-06T04:41:47.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-15 API, Release 3.0.0</td></tr>
<tr><th>Components</th><td>TiAPI</td></tr>
<tr><th>Labels</th><td>api, module_view, parity, qe-review, qe-testadded</td></tr>
<tr><th>Reporter</th><td>Josh Roesslein</td></tr>
<tr><th>Assignee</th><td>Karl Rowley</td></tr>
<tr><th>Created</th><td>2012-06-27T15:06:19.000+0000</td></tr>
<tr><th>Updated</th><td>2012-09-06T04:41:47.000+0000</td></tr>
</table>

<h3>Description</h3>

We need to define the default behavior for when no "colors" property is specified
in the backgroundGradient object.

Right now on iOS if you specify no value, there will be no visible gradient.
On Android not setting this property to an array causes a Java exception.

We should agree on the "correct" behavior and document it.

<h3>Comments</h3>

<ol>
<li>Karl Rowley 2012-07-24

   On mobile web not specifying a value also causes no visible gradient, like IOS.</li>
<li>Karl Rowley 2012-07-25

   Pull request <a href="https://github.com/appcelerator/titanium_mobile/pull/2636" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2636</a></li>
<li>Karl Rowley 2012-07-25

   Here's the test code from TIMOB-10015.
   
   Steps to reproduce (prior to the fix):
   
   (1) Remove the colors property from the code below, and run.
   
   Expected behavior:
   
   View with red/white gradient is not displayed.
   
   Actual behavior:
   
   App crashes.
   
   <code><pre>
   var win1=Ti.UI.createWindow({
                    layout:'vertical',
                    backgroundColor:'gray',
                    exitOnClose:true,
                    navBarHidden:true
                  });
    
   var view1=Ti.UI.createView({
                     height:100,
                     width:100,
                     backgroundGradient:{type:'linear',
                                         endPoint:{ x:0, y:'100%' },
                                         colors:[ {color:'white' /*, offset:0.0*/ },
                                                  {color:'red' /*, offset:1.0*/ } ]}
                   });
   win1.add(view1);
    
   win1.open();
   </pre></code></li>
<li>Karl Rowley 2012-07-27

   
   If colors are not specified in a backgroundGradient, IOS, Android and mobile
   web behave the same way -- the view is not displayed.
   
   However, it appears that backgroundGradient does not work as expected on mobile
   web.  The test case included in this bug causes a solid red box to be displayed
   in mobile web.</li>
<li>Anshu Mittal 2012-08-31

   Verified on:
   SDK:2.2.0.v20120830182512
   Studio:2.2.0.v20120830182512
   Devices: iOS simulator, Samsung galaxy tab(android v 3.2), mobile web in browser
   
   Now, the color gradient is shown on iOS and android whereas Red color block is being shown on mobile web.</li>
<li>Anshu Mittal 2012-09-06

   Reopening to update labels</li>
</ol>


<p><a href="/TIMOB/TIMOB-9824.json">JSON Source</a></p>