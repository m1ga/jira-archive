---
title: "[TIMOB-9877] Android: Titanium.Map - Create annotation method does not work on button click eventlistener."
---
<table>
<tr><th>GitHub Issue</th><td>n/a</td></tr>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Medium</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Cannot Reproduce</td></tr>
<tr><th>Resolution Date</th><td>2012-11-01T22:38:59.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>2012 Sprint 23 API, 2012 Sprint 23</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>api</td></tr>
<tr><th>Reporter</th><td>Anshu Mittal</td></tr>
<tr><th>Assignee</th><td>Ping Wang</td></tr>
<tr><th>Created</th><td>2012-07-05T03:57:41.000+0000</td></tr>
<tr><th>Updated</th><td>2013-11-07T18:48:17.000+0000</td></tr>
</table>

<h3>Description</h3>

Create annotation method does not work on button click eventlistener.
This is not regression. This also occured on 2.0.2

Steps to reproduce:
1. Create an app using the code below.
2. Launch the app.
3. Click on 'Add annotations' button.

Expected:
Annotation should be added.

Actual:
Annotation is not added.

<code><pre>

var win = Ti.UI.createWindow({
    backgroundColor: 'white'
});
 
var button = Ti.UI.createButton({
    title: 'Add Annotations',
    top: 10,
    left: 10,
    height: 40,
    width: 200
});
var mapView = Titanium.Map.createView({
    top: 50,
    mapType: Titanium.Map.STANDARD_TYPE,
    region:{latitude:37.390749,longitude:-122.081651,animate:true,latitudeDelta:0.04, longitudeDelta:0.04},
    animate:true,
    regionFit:true,
    userLocation:true,
});
button.addEventListener('click', function(){
    var mountainView = Titanium.Map.createAnnotation({
        latitude:37.390749,
        longitude:-122.081651,
        title:"Appcelerator Headquarters",
        subtitle:'Mountain View, CA',
       animate: true,
        image: 'appicon.png'
    });
    mapView.annotations = [mountainView];
});
 

 
win.add(button);
win.add(mapView);
 
win.open();

</pre></code>

<h3>Comments</h3>

<ol>
<li>Ping Wang 2012-11-01

   Tested with latest master and 3_0_X branch. The annotation is added to the map view as expected. Mark the ticket as Cannot Reproduce.</li>
<li>Anshu Mittal 2013-04-10

   Tested with:
   SDK: 3.1.0.v20130409124549
   Studio:3.1.0.201304011603
   Device: Samsung galaxy tab(v 3.2)
   OS: OSX 10.7.5
   
   Cannot reproduce the issue. annotation adds successfully</li>
</ol>


<p><a href="/TIMOB/TIMOB-9877.json">JSON Source</a></p>