---
title: "[TIMOB-9950] BlackBerry: Fix/implement relative include/require"
---
<table>
<tr><th>Type</th><td>Story</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2013-02-21T03:50:03.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>n/a</td></tr>
<tr><th>Fix Version/s</th><td>Release 3.1.0, 2013 Sprint 04 BB, 2013 Sprint 04</td></tr>
<tr><th>Components</th><td>BlackBerry</td></tr>
<tr><th>Labels</th><td>small</td></tr>
<tr><th>Reporter</th><td>David Lifshitz</td></tr>
<tr><th>Assignee</th><td>Russell McMahon</td></tr>
<tr><th>Created</th><td>2012-07-12T11:54:04.000+0000</td></tr>
<tr><th>Updated</th><td>2017-03-09T00:46:32.000+0000</td></tr>
</table>

<h3>Description</h3>

Currently, include()'s method of doing relative files only works if all done in successive order. It does not work for windows with a url (not implemented) or if include is used in a function of a file in a subdir.
Also, require() does not have any method right now.

My proposal is to store the filepath in each TiObject so it can be retrieved later when needed.

Also, we need to make sure that require() properly handles a "native Titanium module" by its ID (eg com.example.module).

<h3>Comments</h3>

<ol>
<li>David Lifshitz 2012-08-16

   I may have come across some potential solutions to this, but it would need to be verified if it works: <a href="http://stackoverflow.com/questions/10040604/how-to-get-scripts-origin-filename-in-v8" rel="nofollow" target="_blank">http://stackoverflow.com/questions/10040604/how-to-get-scripts-origin-filename-in-v8</a>
   {noformat}
   args.Callee()->GetScriptOrigin().ResourceName()
   or
   StackTrace::CurrentStackTrace(1, StackTrace::kScriptName)->GetFrame(0)->GetScriptName()
   {noformat}
   
   Also need to fix this for image urls</li>
<li>Lee Morris 2017-03-09

   Closing ticket as fixed.</li>
</ol>


<p><a href="/TIMOB/TIMOB-9950.json">JSON Source</a></p>