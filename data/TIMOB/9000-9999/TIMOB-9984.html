---
title: "[TIMOB-9984] iOS: imageView error event not working on local files"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>Low</td></tr>
<tr><th>Status</th><td>Reopened</td></tr>
<tr><th>Resolution</th><td>Unresolved</td></tr>

<tr><th>Affected Version/s</th><td>Release 3.1.0</td></tr>
<tr><th>Fix Version/s</th><td>n/a</td></tr>
<tr><th>Components</th><td>iOS</td></tr>
<tr><th>Labels</th><td>api</td></tr>
<tr><th>Reporter</th><td>Hazem Khaled</td></tr>
<tr><th>Assignee</th><td>Unknown</td></tr>
<tr><th>Created</th><td>2012-06-07T09:52:48.000+0000</td></tr>
<tr><th>Updated</th><td>2018-02-28T20:03:31.000+0000</td></tr>
</table>

<h3>Description</h3>

<h4>Problem</h4>
ImageView error event not working with local files. If the image is remote image file the error event it will be executed accordingly.

<h4>Tested on</h4>
iOS simulator 4.3 & 5.1

<h4>Repro sequence</h4>
<code><pre>
Titanium.UI.setBackgroundColor('#000');
var win1 = Titanium.UI.createWindow({  
    title:'Tab 1',
    backgroundColor:'#fff'
});
var label1 = Titanium.UI.createLabel({
    color:'#999',
    text:'I am Window 1',
    font:{fontSize:20,fontFamily:'Helvetica Neue'},
    textAlign:'center',
    width:'auto'
});
  
win1.add(label1);
win1.open();
  
var img = Ti.UI.createImageView({
   // First run.- Attempting to load a remote image file
   image:'<a href="http://files.daddyhunt.com/sites/default/files/imagecache/mangrid-212/photos/z/z/z/277606/Photo_on_2010-09-14_at_13.14_3.jpg" rel="nofollow" target="_blank">http://files.daddyhunt.com/sites/default/files/imagecache/mangrid-212/photos/z/z/z/277606/Photo_on_2010-09-14_at_13.14_3.jpg</a>'
   
   // Second run.- Attempting to load a local image file
   //image: 'KS_na_ui.png' 
});
win1.add(img);
img.addEventListener('error', function(e){
    label1.text = e.image + "image loading properly got an error!";
    img.image = 'KS_nav_ui.png';//loading alternative image
});
</pre></code>



<h3>Comments</h3>

<ol>
<li>Eduardo Gomez 2012-06-11

   @Hazem Khaled Can you paste logs from 1.8.2 & 2.x SDKs here please? Furthermore, what are the iOS versions and devices/simulators that this was tested on?</li>
<li>Eduardo Gomez 2012-06-14

   Closing due to inactivity.</li>
<li>Hazem Khaled 2012-06-16

   worked with me on OS 4.2 with any SDK, but not work OS 5.0
   
   
   2.0.2 OS 5.0 log
   <code><pre>
   [INFO] One moment, building ...
   [INFO] Detected third-party module: tibar/0.4.2
   [INFO] Detected third-party module: tibar/0.4.2
   [INFO] Titanium SDK version: 2.0.2 (05/30/12 10:21 2ff31a3)
   [INFO] iPhone Device family: iphone
   [INFO] iPhone SDK version: 5.0
   [INFO] iPhone simulated device: iphone
   [INFO] Compiling localization files
   [INFO] Launching application in Simulator
   [INFO] Launched application in Simulator (8.73 seconds)
   [INFO] Application started
   [INFO] eshtery/0.99 (2.0.2.GA.2ff31a3)
   [INFO] [object TibarModule] loaded
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto width value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto width value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto width value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto width value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto width value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto width value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto width value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   [WARN] [object TiUILabel] has an auto height value of 0, meaning this view may not be visible.
   </pre></code>
   
   1.8
   <code><pre>
   
   [INFO] One moment, building ...
   [INFO] Detected third-party module: tibar/0.4.2
   [INFO] Detected third-party module: tibar/0.4.2
   [INFO] Titanium SDK version: 1.8.2 (02/23/12 17:46 59b3a90)
   [INFO] iPhone Device family: iphone
   [INFO] iPhone SDK version: 5.0
   [INFO] iPhone simulated device: iphone
   [INFO] Performing full rebuild. This will take a little bit. Hold tight...
   [INFO] Performing clean build
   [INFO] Compiling localization files
   [INFO] Launching application in Simulator
   [INFO] Launched application in Simulator (68.93 seconds)
   [INFO] Found 5.0 patch installed
   [INFO] Application started
   [INFO] eshtery/0.99 (1.8.2.59b3a90)
   [INFO] [object TibarModule] loaded
   </pre></code>
   
   Thanks</li>
<li>Eduardo Gomez 2012-06-27

   Couldn't reproduce the issue as per sample you provided us.
   
   Furthermore, if I run code below starting from 1.8.2 to 2.1.0 CI SDKs will see the same output/behavior.
   
   - app.js
   
   <code><pre>
   Titanium.UI.setBackgroundColor('#000');
   var win1 = Titanium.UI.createWindow({  
       title:'Tab 1',
       backgroundColor:'#fff'
   });
   var label1 = Titanium.UI.createLabel({
       color:'#999',
       text:'I am Window 1',
       font:{fontSize:20,fontFamily:'Helvetica Neue'},
       textAlign:'center',
       width:'auto'
   });
    
   win1.add(label1);
   win1.open();
    
   var img = Ti.UI.createImageView({
   //  image:'<a href="http://someurl.com/someimage.png" rel="nofollow" target="_blank">http://someurl.com/someimage.png</a>'
       image:'<a href="http://files.daddyhunt.com/sites/default/files/imagecache/mangrid-212/photos/z/z/z/277606/Photo_on_2010-09-14_at_13.14_3.jpg" rel="nofollow" target="_blank">http://files.daddyhunt.com/sites/default/files/imagecache/mangrid-212/photos/z/z/z/277606/Photo_on_2010-09-14_at_13.14_3.jpg</a>'
   });
   win1.add(img);
   img.addEventListener('error', function(e){
       label1.text = e.image + "image loading properly got an error";
       img.image = 'KS_nav_ui.png';
   });
   </pre></code></li>
<li>Hazem Khaled 2012-07-16

   after more check with 2.0 & 2.1 it don't work
   
   on error working only fired if http link get error, but if wrong local file it don't work
   
   
   (not working)
   <code><pre>
   var img = Ti.UI.createImageView({
       image : 'localfile.png'
   });
   
   img.addEventListener('error', function () {
      alert('Yahooo'); 
   });
   </pre></code>
   
   
   (working)
   <code><pre>
   var img = Ti.UI.createImageView({
       image : '<a href="http://domain.com/remotefile.png" rel="nofollow" target="_blank">http://domain.com/remotefile.png</a>'
   });
   
   img.addEventListener('error', function () {
      alert('Yahooo'); 
   });
   </pre></code></li>
<li>Eduardo Gomez 2012-07-16

   Moving to Titanium Mobile project to dig into it.
   
   Added the labels, updated the test case and issue description.</li>
<li>Hazem Khaled 2012-07-17

   imgaeView have events like (load & error), they will not fired with local files, only fired with remote files
   
   working 
   <code><pre>
   var img = Ti.UI.createImageView({
       image : '<a href="http://domain.com/remoteFile.png" rel="nofollow" target="_blank">http://domain.com/remoteFile.png</a>'
   });
   
   img.addEventListener('error', function () {
      alert('Yahooo'); 
   });
   
   img.addEventListener('load', function () {
      alert('Yahooo'); 
   });
   </pre></code>
   
   not working
   <code><pre>
   var img = Ti.UI.createImageView({
       image : 'localFile.png'
   });
   
   img.addEventListener('error', function () {
      alert('Yahooo'); 
   });
   
   img.addEventListener('load', function () {
      alert('Yahooo'); 
   });
   </pre></code>
   
   only working with local files on Android when send it as blob data
   
   the solution (Android only) (load event only)
   <code><pre>
   var img = Ti.UI.createImageView({
       image : Ti.Filesystem.getFile(Ti.Filesystem.getApplicationDataDirectory(), 'KS_nav_views.png')
   });
   
   img.addEventListener('load', function () {
      alert('Yahooo'); 
   });
   </pre></code>
   
   Thanks</li>
<li>jithinpv 2013-05-03

   issue reproduces
   
   Tested with
   Titanium Studio, build: 3.0.1.201212181159
   Titanium SDK version: 3.1.0
   iOS iPhone Simulator: iOS SDK version: 6.0</li>
</ol>


<p><a href="/TIMOB/TIMOB-9984.json">JSON Source</a></p>