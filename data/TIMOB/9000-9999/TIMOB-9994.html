---
title: "[TIMOB-9994] Android: postlayout event not fired for labels"
---
<table>
<tr><th>Type</th><td>Bug</td></tr>
<tr><th>Priority</th><td>High</td></tr>
<tr><th>Status</th><td>Closed</td></tr>
<tr><th>Resolution</th><td>Fixed</td></tr>
<tr><th>Resolution Date</th><td>2012-10-26T23:38:18.000+0000</td></tr>
<tr><th>Affected Version/s</th><td>Release 2.1.0</td></tr>
<tr><th>Fix Version/s</th><td>Sprint 2012-15 Core, Release 2.1.4, Release 3.0.0</td></tr>
<tr><th>Components</th><td>Android</td></tr>
<tr><th>Labels</th><td>core, layout, module_label, qe-review, qe-testadded</td></tr>
<tr><th>Reporter</th><td>FabianS</td></tr>
<tr><th>Assignee</th><td>Allen Yeung</td></tr>
<tr><th>Created</th><td>2012-07-05T03:21:33.000+0000</td></tr>
<tr><th>Updated</th><td>2013-11-07T05:27:49.000+0000</td></tr>
</table>

<h3>Description</h3>

On android no postlayout event is fired.
On iOS, the postlayout event is fired once after adding the label to the window.
If you change label properties, for example width, you can see that the properties are changed but no postlayout event is fired.
The code snippet below is my simple testcase.


<code><pre>
var win = Ti.UI.createWindow({
    backgroundColor : '#FFF',
    layout : 'vertical'
});

var label = Ti.UI.createLabel({
    text : "hello",
    left : 0,
    width : Ti.UI.SIZE,
    height : Ti.UI.SIZE
});

label.addEventListener("postlayout", function(e) {
    Ti.API.info("label postlayout");
    //alert("label post layout");
});

var doBtn = Ti.UI.createButton({
    title : "do",
    width : Ti.UI.SIZE,
    height : Ti.UI.SIZE
});

doBtn.addEventListener("click", function() {
    label.text = "new text";
    label.backgroundColor = '#F00';
    label.left += 20;

});
win.add(doBtn);
win.add(label);
win.open(); 
</pre></code>

<h3>Attachments</h3>

<table>
<thead>
<tr><th>File</th><th>Date</th><th>Size</th></tr><thead>
<tbody>
<tr><td><a href="https://jira-attachments.titaniumsdk.com/TIMOB/TIMOB-9994_30158/app.js">app.js</td></td><td>2012-07-30T18:41:37.000+0000</td><td>3619</td></tr>
</tbody>
<table>

<h3>Comments</h3>

<ol>
<li>Ivan Skugor 2012-07-05

   </li>
<li>Allen Yeung 2012-07-30

   Test notes:
   
   I have attached an app.js with 12 test cases for the post layout event.  At the very bottom of the app.js file, there are 3 groups of controls that you need to test.  To make things easier to read, I would recommend running the app three times, each with a different group enabled.  Each time you run the app, verify that the postlayout event prints out at least once for each control enabled (the postlayout event may be fired multiple times).
   
   Before my change, postlayout events don't fire for any of these controls</li>
<li>Vishal Duggal 2012-07-31

   Fixed by PR <a href="https://github.com/appcelerator/titanium_mobile/pull/2660" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/2660</a> against master</li>
<li>Shyam Bhadauria 2012-08-16

   Environment used for verification -
   Tested with Titanium SDK: 2.2.0.v20120815194913
   Tested with Titanium Â Studio: 2.1.1.201207271312
   Device - Samsung GALAXY Note Android 2.3.6
   Machine OS - MAC 10.7.3</li>
<li>Neha Chhabra 2012-09-07

   Reopening to update labels</li>
<li>Allen Yeung 2012-10-26

   Backport: <a href="https://github.com/appcelerator/titanium_mobile/pull/3344" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/3344</a></li>
<li>Ping Wang 2012-10-26

   reopen to update fix versions.</li>
<li>Natalie Huynh 2012-11-01

   Tested with 2.1.4.v20121030173408 on Droid 3 2.3.4</li>
<li>Shameer Jan 2013-11-07

   Anvil testcase PR <a href="https://github.com/appcelerator/titanium_mobile/pull/4787" rel="nofollow" target="_blank">https://github.com/appcelerator/titanium_mobile/pull/4787</a></li>
</ol>


<p><a href="/TIMOB/TIMOB-9994.json">JSON Source</a></p>